{"version":3,"file":"extension.js","mappings":"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R,KAAQ,MACR,KAAQ,MACR,KAAQ,MACR,KAAQ,MACR,KAAQ,MACR,KAAQ,MACR,KAAQ,MACR,KAAQ,MACR,KAAQ,MACR,KAAQ,MACR,KAAQ,MACR,KAAQ,MACR,KAAQ,MACR,KAAQ,MACR,KAAQ,MACR,KAAQ,MACR,KAAQ,MACR,KAAQ,MACR,KAAQ,MACR,KAAQ,MACR,KAAQ,MACR,KAAQ,MACR,KAAQ,MACR,KAAQ,MACR,KAAQ,MACR,KAAQ,MACR,SAAU,MACV,SAAU,MACV,SAAU,MACV,KAAQ,MACR,KAAQ,MACR,KAAQ,MACR,SAAU,MACV,SAAU,MACV,KAAQ,MACR,KAAQ,MACR,SAAU,MACV,KAAQ,MACR,KAAQ,MACR,SAAU,MACV,SAAU,MACV,SAAU,MACV,SAAU,MACV,SAAU,MACV,KAAQ,MACR,KAAQ,MACR,SAAU,MACV,SAAU,MACV,SAAU,MACV,KAAQ,MACR,KAAQ,MACR,KAAQ,MACR,KAAQ,MACR,SAAU,MACV,SAAU,MACV,KAAQ,MACR,KAAQ,MACR,KAAQ,MACR,KAAQ,MACR,SAAU,MACV,SAAU,MACV,KAAQ,MACR,KAAQ,MACR,KAAQ,MACR,KAAQ,MACR,KAAQ,MACR,KAAQ,MACR,KAAQ,MACR,KAAQ,MACR,KAAQ,MACR,KAAQ,MACR,KAAQ,MACR,KAAQ,MACR,KAAQ,MACR,KAAQ,MACR,KAAQ,MACR,KAAQ,MACR,KAAQ,MACR,KAAQ,MACR,KAAQ,MACR,SAAU,MACV,KAAQ,MACR,KAAQ,MACR,KAAQ,MACR,KAAQ,MACR,SAAU,MACV,SAAU,MACV,KAAQ,MACR,KAAQ,MACR,KAAQ,MACR,QAAS,MACT,KAAQ,MACR,KAAQ,MACR,KAAQ,MACR,QAAS,MACT,KAAQ,MACR,KAAQ,MACR,KAAQ,MACR,KAAQ,MACR,UAAW,MACX,UAAW,MACX,UAAW,MACX,UAAW,MACX,UAAW,MACX,UAAW,MACX,UAAW,MACX,UAAW,MACX,UAAW,MACX,UAAW,MACX,UAAW,MACX,UAAW,MACX,UAAW,MACX,UAAW,MACX,UAAW,MACX,UAAW,MACX,UAAW,MACX,UAAW,MACX,UAAW,MACX,UAAW,MACX,UAAW,MAC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","sources":[".././node_modules/@ai-zen/node-fetch-event-source/lib/esm/parse.js",".././node_modules/@ai-zen/node-fetch-event-source/lib/esm/fetch.js",".././node_modules/agent-base/dist/src/index.js",".././node_modules/agent-base/dist/src/promisify.js",".././node_modules/applicationinsights/out/AutoCollection/Console.js",".././node_modules/applicationinsights/out/AutoCollection/CorrelationContextManager.js",".././node_modules/applicationinsights/out/AutoCollection/Exceptions.js",".././node_modules/applicationinsights/out/AutoCollection/HttpDependencies.js",".././node_modules/applicationinsights/out/AutoCollection/HttpDependencyParser.js",".././node_modules/applicationinsights/out/AutoCollection/HttpRequestParser.js",".././node_modules/applicationinsights/out/AutoCollection/HttpRequests.js",".././node_modules/applicationinsights/out/AutoCollection/NativePerformance.js",".././node_modules/applicationinsights/out/AutoCollection/Performance.js",".././node_modules/applicationinsights/out/AutoCollection/RequestParser.js",".././node_modules/applicationinsights/out/AutoCollection/diagnostic-channel/bunyan.sub.js",".././node_modules/applicationinsights/out/AutoCollection/diagnostic-channel/console.sub.js",".././node_modules/applicationinsights/out/AutoCollection/diagnostic-channel/initialization.js",".././node_modules/applicationinsights/out/AutoCollection/diagnostic-channel/mongodb.sub.js",".././node_modules/applicationinsights/out/AutoCollection/diagnostic-channel/mysql.sub.js",".././node_modules/applicationinsights/out/AutoCollection/diagnostic-channel/postgres.sub.js",".././node_modules/applicationinsights/out/AutoCollection/diagnostic-channel/redis.sub.js",".././node_modules/applicationinsights/out/AutoCollection/diagnostic-channel/winston.sub.js",".././node_modules/applicationinsights/out/Declarations/Constants.js",".././node_modules/applicationinsights/out/Declarations/Contracts/Constants.js",".././node_modules/applicationinsights/out/Declarations/Contracts/Generated/AvailabilityData.js",".././node_modules/applicationinsights/out/Declarations/Contracts/Generated/Base.js",".././node_modules/applicationinsights/out/Declarations/Contracts/Generated/ContextTagKeys.js",".././node_modules/applicationinsights/out/Declarations/Contracts/Generated/Data.js",".././node_modules/applicationinsights/out/Declarations/Contracts/Generated/DataPoint.js",".././node_modules/applicationinsights/out/Declarations/Contracts/Generated/DataPointType.js",".././node_modules/applicationinsights/out/Declarations/Contracts/Generated/Domain.js",".././node_modules/applicationinsights/out/Declarations/Contracts/Generated/Envelope.js",".././node_modules/applicationinsights/out/Declarations/Contracts/Generated/EventData.js",".././node_modules/applicationinsights/out/Declarations/Contracts/Generated/ExceptionData.js",".././node_modules/applicationinsights/out/Declarations/Contracts/Generated/ExceptionDetails.js",".././node_modules/applicationinsights/out/Declarations/Contracts/Generated/MessageData.js",".././node_modules/applicationinsights/out/Declarations/Contracts/Generated/MetricData.js",".././node_modules/applicationinsights/out/Declarations/Contracts/Generated/PageViewData.js",".././node_modules/applicationinsights/out/Declarations/Contracts/Generated/RemoteDependencyData.js",".././node_modules/applicationinsights/out/Declarations/Contracts/Generated/RequestData.js",".././node_modules/applicationinsights/out/Declarations/Contracts/Generated/SeverityLevel.js",".././node_modules/applicationinsights/out/Declarations/Contracts/Generated/StackFrame.js",".././node_modules/applicationinsights/out/Declarations/Contracts/Generated/index.js",".././node_modules/applicationinsights/out/Declarations/Contracts/TelemetryTypes/TelemetryType.js",".././node_modules/applicationinsights/out/Declarations/Contracts/TelemetryTypes/index.js",".././node_modules/applicationinsights/out/Declarations/Contracts/index.js",".././node_modules/applicationinsights/out/Library/Channel.js",".././node_modules/applicationinsights/out/Library/Config.js",".././node_modules/applicationinsights/out/Library/ConnectionStringParser.js",".././node_modules/applicationinsights/out/Library/Context.js",".././node_modules/applicationinsights/out/Library/CorrelationIdManager.js",".././node_modules/applicationinsights/out/Library/EnvelopeFactory.js",".././node_modules/applicationinsights/out/Library/Logging.js",".././node_modules/applicationinsights/out/Library/NodeClient.js",".././node_modules/applicationinsights/out/Library/QuickPulseEnvelopeFactory.js",".././node_modules/applicationinsights/out/Library/QuickPulseSender.js",".././node_modules/applicationinsights/out/Library/QuickPulseStateManager.js",".././node_modules/applicationinsights/out/Library/RequestResponseHeaders.js",".././node_modules/applicationinsights/out/Library/Sender.js",".././node_modules/applicationinsights/out/Library/TelemetryClient.js",".././node_modules/applicationinsights/out/Library/Traceparent.js",".././node_modules/applicationinsights/out/Library/Tracestate.js",".././node_modules/applicationinsights/out/Library/Util.js",".././node_modules/applicationinsights/out/TelemetryProcessors/PerformanceMetricsTelemetryProcessor.js",".././node_modules/applicationinsights/out/TelemetryProcessors/SamplingTelemetryProcessor.js",".././node_modules/applicationinsights/out/TelemetryProcessors/index.js",".././node_modules/applicationinsights/out/applicationinsights.js",".././node_modules/async-hook-jl/async-hook.js",".././node_modules/async-hook-jl/index.js",".././node_modules/async-hook-jl/patches/next-tick.js",".././node_modules/async-hook-jl/patches/promise.js",".././node_modules/async-hook-jl/patches/timers.js",".././node_modules/async-listener/es6-wrapped-promise.js",".././node_modules/async-listener/glue.js",".././node_modules/async-listener/index.js",".././node_modules/await-semaphore/index.js",".././node_modules/axios/index.js",".././node_modules/axios/lib/adapters/http.js",".././node_modules/axios/lib/adapters/xhr.js",".././node_modules/axios/lib/axios.js",".././node_modules/axios/lib/cancel/Cancel.js",".././node_modules/axios/lib/cancel/CancelToken.js",".././node_modules/axios/lib/cancel/isCancel.js",".././node_modules/axios/lib/core/Axios.js",".././node_modules/axios/lib/core/InterceptorManager.js",".././node_modules/axios/lib/core/buildFullPath.js",".././node_modules/axios/lib/core/createError.js",".././node_modules/axios/lib/core/dispatchRequest.js",".././node_modules/axios/lib/core/enhanceError.js",".././node_modules/axios/lib/core/mergeConfig.js",".././node_modules/axios/lib/core/settle.js",".././node_modules/axios/lib/core/transformData.js",".././node_modules/axios/lib/defaults.js",".././node_modules/axios/lib/helpers/bind.js",".././node_modules/axios/lib/helpers/buildURL.js",".././node_modules/axios/lib/helpers/combineURLs.js",".././node_modules/axios/lib/helpers/cookies.js",".././node_modules/axios/lib/helpers/isAbsoluteURL.js",".././node_modules/axios/lib/helpers/isAxiosError.js",".././node_modules/axios/lib/helpers/isURLSameOrigin.js",".././node_modules/axios/lib/helpers/normalizeHeaderName.js",".././node_modules/axios/lib/helpers/parseHeaders.js",".././node_modules/axios/lib/helpers/spread.js",".././node_modules/axios/lib/helpers/validator.js",".././node_modules/axios/lib/utils.js",".././node_modules/balanced-match/index.js",".././node_modules/brace-expansion/index.js",".././node_modules/buffer-crc32/index.js",".././node_modules/cls-hooked/context-legacy.js",".././node_modules/cls-hooked/context.js",".././node_modules/cls-hooked/index.js",".././node_modules/concat-map/index.js",".././node_modules/continuation-local-storage/context.js",".././node_modules/cross-fetch/dist/node-ponyfill.js",".././node_modules/debug/src/browser.js",".././node_modules/debug/src/common.js",".././node_modules/debug/src/index.js",".././node_modules/debug/src/node.js",".././node_modules/diagnostic-channel-publishers/dist/src/azure-coretracing.pub.js",".././node_modules/diagnostic-channel-publishers/dist/src/bunyan.pub.js",".././node_modules/diagnostic-channel-publishers/dist/src/console.pub.js",".././node_modules/diagnostic-channel-publishers/dist/src/index.js",".././node_modules/diagnostic-channel-publishers/dist/src/mongodb-core.pub.js",".././node_modules/diagnostic-channel-publishers/dist/src/mongodb.pub.js",".././node_modules/diagnostic-channel-publishers/dist/src/mysql.pub.js",".././node_modules/diagnostic-channel-publishers/dist/src/pg-pool.pub.js",".././node_modules/diagnostic-channel-publishers/dist/src/pg.pub.js",".././node_modules/diagnostic-channel-publishers/dist/src/redis.pub.js",".././node_modules/diagnostic-channel-publishers/dist/src/tedious.pub.js",".././node_modules/diagnostic-channel-publishers/dist/src/winston.pub.js",".././node_modules/diagnostic-channel-publishers/dist/src/ sync ^.*\\/lib\\/Connection$",".././node_modules/diagnostic-channel-publishers/dist/src/ sync ^.*\\/lib\\/Pool$",".././node_modules/diagnostic-channel/dist/src/channel.js",".././node_modules/diagnostic-channel/dist/src/patchRequire.js",".././node_modules/diff/lib/convert/dmp.js",".././node_modules/diff/lib/convert/xml.js",".././node_modules/diff/lib/diff/array.js",".././node_modules/diff/lib/diff/base.js",".././node_modules/diff/lib/diff/character.js",".././node_modules/diff/lib/diff/css.js",".././node_modules/diff/lib/diff/json.js",".././node_modules/diff/lib/diff/line.js",".././node_modules/diff/lib/diff/sentence.js",".././node_modules/diff/lib/diff/word.js",".././node_modules/diff/lib/index.js",".././node_modules/diff/lib/patch/apply.js",".././node_modules/diff/lib/patch/create.js",".././node_modules/diff/lib/patch/merge.js",".././node_modules/diff/lib/patch/parse.js",".././node_modules/diff/lib/util/array.js",".././node_modules/diff/lib/util/distance-iterator.js",".././node_modules/diff/lib/util/params.js",".././node_modules/emitter-listener/listener.js",".././node_modules/end-of-stream/index.js",".././node_modules/extract-zip/index.js",".././node_modules/fd-slicer/index.js",".././node_modules/follow-redirects/debug.js",".././node_modules/follow-redirects/index.js",".././node_modules/fs.realpath/index.js",".././node_modules/fs.realpath/old.js",".././node_modules/get-stream/buffer-stream.js",".././node_modules/get-stream/index.js",".././node_modules/glob/common.js",".././node_modules/glob/glob.js",".././node_modules/glob/sync.js",".././node_modules/has-flag/index.js",".././node_modules/https-proxy-agent/dist/agent.js",".././node_modules/https-proxy-agent/dist/index.js",".././node_modules/https-proxy-agent/dist/parse-proxy-response.js",".././node_modules/inflight/inflight.js",".././node_modules/inherits/inherits.js",".././node_modules/inherits/inherits_browser.js",".././node_modules/lodash/lodash.js",".././node_modules/lru-cache/index.js",".././node_modules/minimatch/minimatch.js",".././node_modules/ms/index.js",".././node_modules/once/once.js",".././node_modules/path-is-absolute/index.js",".././node_modules/pend/index.js",".././node_modules/pump/index.js",".././node_modules/rimraf/rimraf.js",".././node_modules/semver/classes/comparator.js",".././node_modules/semver/classes/range.js",".././node_modules/semver/classes/semver.js",".././node_modules/semver/functions/clean.js",".././node_modules/semver/functions/cmp.js",".././node_modules/semver/functions/coerce.js",".././node_modules/semver/functions/compare-build.js",".././node_modules/semver/functions/compare-loose.js",".././node_modules/semver/functions/compare.js",".././node_modules/semver/functions/diff.js",".././node_modules/semver/functions/eq.js",".././node_modules/semver/functions/gt.js",".././node_modules/semver/functions/gte.js",".././node_modules/semver/functions/inc.js",".././node_modules/semver/functions/lt.js",".././node_modules/semver/functions/lte.js",".././node_modules/semver/functions/major.js",".././node_modules/semver/functions/minor.js",".././node_modules/semver/functions/neq.js",".././node_modules/semver/functions/parse.js",".././node_modules/semver/functions/patch.js",".././node_modules/semver/functions/prerelease.js",".././node_modules/semver/functions/rcompare.js",".././node_modules/semver/functions/rsort.js",".././node_modules/semver/functions/satisfies.js",".././node_modules/semver/functions/sort.js",".././node_modules/semver/functions/valid.js",".././node_modules/semver/index.js",".././node_modules/semver/internal/constants.js",".././node_modules/semver/internal/debug.js",".././node_modules/semver/internal/identifiers.js",".././node_modules/semver/internal/parse-options.js",".././node_modules/semver/internal/re.js",".././node_modules/semver/ranges/gtr.js",".././node_modules/semver/ranges/intersects.js",".././node_modules/semver/ranges/ltr.js",".././node_modules/semver/ranges/max-satisfying.js",".././node_modules/semver/ranges/min-satisfying.js",".././node_modules/semver/ranges/min-version.js",".././node_modules/semver/ranges/outside.js",".././node_modules/semver/ranges/simplify.js",".././node_modules/semver/ranges/subset.js",".././node_modules/semver/ranges/to-comparators.js",".././node_modules/semver/ranges/valid.js",".././node_modules/shimmer/index.js",".././node_modules/stack-chain/format.js",".././node_modules/stack-chain/index.js",".././node_modules/stack-chain/stack-chain.js",".././node_modules/supports-color/index.js",".././node_modules/systeminformation/lib/audio.js",".././node_modules/systeminformation/lib/battery.js",".././node_modules/systeminformation/lib/bluetooth.js",".././node_modules/systeminformation/lib/cpu.js",".././node_modules/systeminformation/lib/docker.js",".././node_modules/systeminformation/lib/dockerSocket.js",".././node_modules/systeminformation/lib/filesystem.js",".././node_modules/systeminformation/lib/graphics.js",".././node_modules/systeminformation/lib/index.js",".././node_modules/systeminformation/lib/internet.js",".././node_modules/systeminformation/lib/memory.js",".././node_modules/systeminformation/lib/network.js",".././node_modules/systeminformation/lib/osinfo.js",".././node_modules/systeminformation/lib/printer.js",".././node_modules/systeminformation/lib/processes.js",".././node_modules/systeminformation/lib/system.js",".././node_modules/systeminformation/lib/usb.js",".././node_modules/systeminformation/lib/users.js",".././node_modules/systeminformation/lib/util.js",".././node_modules/systeminformation/lib/virtualbox.js",".././node_modules/systeminformation/lib/wifi.js",".././node_modules/tmp/lib/tmp.js",".././node_modules/tr46/index.js",".././src/CompletionOrigin.ts",".././src/WorkspaceUpdater.ts",".././src/activeTextEditorState.ts",".././src/assistant/AssistantClient.ts",".././src/assistant/AssistantCodeActionProvider.ts",".././src/assistant/AssistantHandlers.ts",".././src/assistant/AssistantMode.ts",".././src/assistant/AssistantProcess.ts",".././src/assistant/CancellationToken.ts",".././src/assistant/DocumentValidator.ts",".././src/assistant/TabNineDiagnostic.ts",".././src/assistant/diagnostics.ts",".././src/assistant/getMode.ts",".././src/assistant/globals.ts",".././src/assistant/handleAssistantThreshold.ts",".././src/assistant/requests/clearCache.ts",".././src/assistant/requests/getAssistantDiagnostics.ts",".././src/assistant/requests/getCompilerDiagnostics.ts",".././src/assistant/requests/getValidExtensions.ts",".././src/assistant/requests/getValidLanguages.ts",".././src/assistant/requests/request.ts",".././src/assistant/requests/setIgnore.ts",".././src/assistant/runAssistant.ts",".././src/assistant/utils.ts",".././src/authentication/TabnineAuthenticationProvider.ts",".././src/authentication/TabnineSession.ts",".././src/authentication/authentication.api.ts",".././src/authentication/loginWithCustomTokenCommand.ts",".././src/autocompleteInstaller.ts",".././src/binary/Binary.ts",".././src/binary/InnerBinary.ts",".././src/binary/OnceReader.ts",".././src/binary/binaryFetcher/activeFileHandler.ts",".././src/binary/binaryFetcher/binaryValidator.ts",".././src/binary/binaryFetcher/bundleDownloader.ts",".././src/binary/binaryFetcher/existingVersionHandler.ts",".././src/binary/binaryFetcher/index.ts",".././src/binary/binaryStateSingleton.ts",".././src/binary/mockedRunProcess.ts",".././src/binary/paths.ts",".././src/binary/pollDownloadProgress.ts",".././src/binary/requests/fileMetadata.ts",".././src/binary/requests/hovers.ts",".././src/binary/requests/notifications.ts",".././src/binary/requests/notifyWorkspaceChanged.ts",".././src/binary/requests/prefetch.ts",".././src/binary/requests/requests.ts",".././src/binary/requests/sendEvent.ts",".././src/binary/requests/setState.ts",".././src/binary/requests/startLoginServer.ts",".././src/binary/requests/statusBar.ts",".././src/binary/requests/suggestionShown.ts",".././src/binary/requests/tabSize.ts",".././src/binary/requests/workspace.ts",".././src/binary/runBinary.ts",".././src/binary/runProcess.ts",".././src/binary/state.ts",".././src/binary/utils.ts",".././src/capabilities/CapabilityState.ts",".././src/capabilities/capabilities.ts",".././src/capabilities/getSuggestionMode.ts",".././src/cloudEnvs/codeServer.ts",".././src/cloudEnvs/consts.ts",".././src/cloudEnvs/isCloudEnv.ts",".././src/cloudEnvs/openLogin.ts",".././src/cloudEnvs/setupCloudState.ts",".././src/codeReview/DocumentThreads.ts",".././src/codeReview/TabnineComment.ts",".././src/codeReview/api.ts",".././src/codeReview/codeReview.ts",".././src/codeReview/suggestions.ts",".././src/commandsHandler.ts",".././src/debounceCompletions.ts",".././src/events/installationStateChangedEmitter.ts",".././src/findImports.ts",".././src/getAutoImportCommand.ts",".././src/getInlineCompletionItems.ts",".././src/globals/consts.ts",".././src/globals/languages.ts",".././src/globals/proposedAPI.ts",".././src/globals/tabnineExtensionContext.ts",".././src/globals/tabnineExtensionProperties.ts",".././src/globals/versions.ts",".././src/handlePluginInstalled.ts",".././src/handleUninstall.ts",".././src/hovers/decorationState.ts",".././src/hovers/hoverActionsHandler.ts",".././src/hovers/hoverHandler.ts",".././src/hub/createHubTemplate.ts",".././src/hub/createHubWebView.ts",".././src/hub/hubUri.ts",".././src/hub/openHub.ts",".././src/inlineSuggestions/documentChangesTracker/DocumentTextChangeContent.ts",".././src/inlineSuggestions/documentChangesTracker/index.ts",".././src/inlineSuggestions/documentChangesTracker/pythonIndentExtensionFix.ts",".././src/inlineSuggestions/registerInlineProvider.ts",".././src/inlineSuggestions/tabnineInlineCompletionItem.ts",".././src/languages/index.ts",".././src/languages/java/JavaHome.ts",".././src/lookAheadSuggestion.ts",".././src/notifications/executeNotificationAction.ts",".././src/notifications/pollNotifications.ts",".././src/notificationsWidget/notificationsWidgetWebview.ts",".././src/pollUserUpdates.ts",".././src/preRelease/installer.ts",".././src/preRelease/messages.ts",".././src/preRelease/versions.ts",".././src/provideCompletionItems.ts",".././src/provideInlineCompletionItems.ts",".././src/proxyProvider.ts",".././src/registration/forceRegistration.ts",".././src/registration/popupTristate.ts",".././src/reportSuggestionShown.ts",".././src/reports/EventName.ts",".././src/reports/LogReporter.ts",".././src/reports/TelemetryReporter.ts",".././src/reports/reportData.ts",".././src/reports/reporter.ts",".././src/runCompletion.ts",".././src/selectionHandler.ts",".././src/state/EventEmitterBasedNonNullState.ts",".././src/state/EventEmitterBasedState.ts",".././src/state/completionsState.ts",".././src/state/deriveState.ts",".././src/state/gettingStartedOpenedState.ts",".././src/statusBar/StatusBarData.ts",".././src/statusBar/StatusBarPromotionItem.ts",".././src/statusBar/pollStatusBar.ts",".././src/statusBar/statusBar.ts",".././src/statusBar/statusBarActionHandler.ts",".././src/statusBar/statusBarNotificationOptions.ts",".././src/tabnineChatWidget/ChatApi.ts",".././src/tabnineChatWidget/ChatEnabledState.ts",".././src/tabnineChatWidget/ChatViewProvider.ts",".././src/tabnineChatWidget/EvalSaasChatEnabledState.ts",".././src/tabnineChatWidget/EventRegistry.ts",".././src/tabnineChatWidget/SaasChatEnabledState.ts",".././src/tabnineChatWidget/extensionCommands/codeLens/ChatCodeLensProvider.ts",".././src/tabnineChatWidget/extensionCommands/codeLens/index.ts",".././src/tabnineChatWidget/extensionCommands/quickFix.ts",".././src/tabnineChatWidget/handlers/browseFile.ts",".././src/tabnineChatWidget/handlers/browserFolder.ts",".././src/tabnineChatWidget/handlers/context/basicContextHandler.ts",".././src/tabnineChatWidget/handlers/context/diagnosticsContext.ts",".././src/tabnineChatWidget/handlers/context/editorContext.ts",".././src/tabnineChatWidget/handlers/context/enrichingContextHandler.ts",".././src/tabnineChatWidget/handlers/context/workspaceContext.ts",".././src/tabnineChatWidget/handlers/createNewFile.ts",".././src/tabnineChatWidget/handlers/doFetch.ts",".././src/tabnineChatWidget/handlers/doStreamingFetch.ts",".././src/tabnineChatWidget/handlers/getFileContent.ts",".././src/tabnineChatWidget/handlers/getSymbolText.ts",".././src/tabnineChatWidget/handlers/getSymbols.ts",".././src/tabnineChatWidget/handlers/insertAtCursor.ts",".././src/tabnineChatWidget/handlers/insertAtLine.ts",".././src/tabnineChatWidget/handlers/navigateToLocation.ts",".././src/tabnineChatWidget/handlers/peekDefinition.ts",".././src/tabnineChatWidget/handlers/resolveSymbols.ts",".././src/tabnineChatWidget/tabnineChatWidgetWebview.ts",".././src/tabnineChatWidget/webviews/authenticate.html.ts",".././src/tabnineChatWidget/webviews/emptyStateAuthenticateView.ts",".././src/tabnineChatWidget/webviews/getIcon.ts",".././src/tabnineChatWidget/webviews/previewEnded.html.ts",".././src/tabnineChatWidget/webviews/previewEndedView.ts",".././src/tabnineChatWidget/webviews/template.html.ts",".././src/tabnineChatWidget/workspaceCommands/findSymbols.ts",".././src/tabnineChatWidget/workspaceCommands/getSymbols.ts",".././src/tabnineChatWidget/workspaceCommands/getSymbolsText.ts",".././src/tabnineChatWidget/workspaceCommands/symbols.ts",".././src/tabnineTodayWidget/tabnineTodayWidgetWebview.ts",".././src/utils/asExternal.ts",".././src/utils/asExternalUri.ts",".././src/utils/download.utils.ts",".././src/utils/file.utils.ts",".././src/utils/logger.ts",".././src/utils/logo.utils.ts",".././src/utils/notifyOnError.ts",".././src/utils/publisher.ts",".././src/utils/semver.utils.ts",".././src/utils/string.utils.ts",".././src/utils/trimSlashFromEnd.ts",".././src/utils/utils.ts",".././src/utils/workspaceFolders.ts",".././src/webview/openGettingStartedWebview.ts",".././src/webview/webviewTemplates.ts",".././src/widgetWebview/WidgetWebviewProvider.ts",".././src/widgetWebview/widgetWebview.ts",".././node_modules/ts-mockito/lib/MethodAction.js",".././node_modules/ts-mockito/lib/MethodStubCollection.js",".././node_modules/ts-mockito/lib/MethodStubSetter.js",".././node_modules/ts-mockito/lib/MethodStubVerificator.js",".././node_modules/ts-mockito/lib/MethodToStub.js",".././node_modules/ts-mockito/lib/Mock.js",".././node_modules/ts-mockito/lib/Spy.js",".././node_modules/ts-mockito/lib/capture/ArgCaptor.js",".././node_modules/ts-mockito/lib/matcher/ArgsToMatchersValidator.js",".././node_modules/ts-mockito/lib/matcher/type/AnyFunctionMatcher.js",".././node_modules/ts-mockito/lib/matcher/type/AnyNumberMatcher.js",".././node_modules/ts-mockito/lib/matcher/type/AnyOfClassMatcher.js",".././node_modules/ts-mockito/lib/matcher/type/AnyStringMatcher.js",".././node_modules/ts-mockito/lib/matcher/type/AnythingMatcher.js",".././node_modules/ts-mockito/lib/matcher/type/BetweenMatcher.js",".././node_modules/ts-mockito/lib/matcher/type/DeepEqualMatcher.js",".././node_modules/ts-mockito/lib/matcher/type/Matcher.js",".././node_modules/ts-mockito/lib/matcher/type/MatchingStringMatcher.js",".././node_modules/ts-mockito/lib/matcher/type/NotNullMatcher.js",".././node_modules/ts-mockito/lib/matcher/type/ObjectContainingMatcher.js",".././node_modules/ts-mockito/lib/matcher/type/StrictEqualMatcher.js",".././node_modules/ts-mockito/lib/spy/RealMethod.js",".././node_modules/ts-mockito/lib/stub/AbstractMethodStub.js",".././node_modules/ts-mockito/lib/stub/CallFunctionMethodStub.js",".././node_modules/ts-mockito/lib/stub/CallThroughMethodStub.js",".././node_modules/ts-mockito/lib/stub/RejectPromiseMethodStub.js",".././node_modules/ts-mockito/lib/stub/ResolvePromiseMethodStub.js",".././node_modules/ts-mockito/lib/stub/ReturnValueMethodStub.js",".././node_modules/ts-mockito/lib/stub/ThrowErrorMethodStub.js",".././node_modules/ts-mockito/lib/ts-mockito.js",".././node_modules/ts-mockito/lib/utils/MethodCallToStringConverter.js",".././node_modules/ts-mockito/lib/utils/MockableFunctionsFinder.js",".././node_modules/ts-mockito/lib/utils/ObjectInspector.js",".././node_modules/ts-mockito/lib/utils/ObjectPropertyCodeRetriever.js",".././node_modules/vscode-extension-telemetry/lib/telemetryReporter.js",".././node_modules/webidl-conversions/lib/index.js",".././node_modules/whatwg-url/lib/URL-impl.js",".././node_modules/whatwg-url/lib/URL.js",".././node_modules/whatwg-url/lib/public-api.js",".././node_modules/whatwg-url/lib/url-state-machine.js",".././node_modules/whatwg-url/lib/utils.js",".././node_modules/wrappy/wrappy.js",".././node_modules/yallist/iterator.js",".././node_modules/yallist/yallist.js",".././node_modules/yauzl/index.js","../external commonjs \"vscode\"","../external node-commonjs \"assert\"","../external node-commonjs \"async_hooks\"","../external node-commonjs \"buffer\"","../external node-commonjs \"child_process\"","../external node-commonjs \"console\"","../external node-commonjs \"constants\"","../external node-commonjs \"crypto\"","../external node-commonjs \"dns\"","../external node-commonjs \"events\"","../external node-commonjs \"fs\"","../external node-commonjs \"http\"","../external node-commonjs \"https\"","../external node-commonjs \"module\"","../external node-commonjs \"net\"","../external node-commonjs \"os\"","../external node-commonjs \"path\"","../external node-commonjs \"punycode\"","../external node-commonjs \"readline\"","../external node-commonjs \"stream\"","../external node-commonjs \"timers\"","../external node-commonjs \"tls\"","../external node-commonjs \"tty\"","../external node-commonjs \"url\"","../external node-commonjs \"util\"","../external node-commonjs \"zlib\"",".././node_modules/node-fetch/lib/index.mjs",".././node_modules/underscore/modules/_setup.js",".././node_modules/underscore/modules/restArguments.js",".././node_modules/underscore/modules/isObject.js",".././node_modules/underscore/modules/isNull.js",".././node_modules/underscore/modules/isUndefined.js",".././node_modules/underscore/modules/isBoolean.js",".././node_modules/underscore/modules/isElement.js",".././node_modules/underscore/modules/_tagTester.js",".././node_modules/underscore/modules/isString.js",".././node_modules/underscore/modules/isNumber.js",".././node_modules/underscore/modules/isDate.js",".././node_modules/underscore/modules/isRegExp.js",".././node_modules/underscore/modules/isError.js",".././node_modules/underscore/modules/isSymbol.js",".././node_modules/underscore/modules/isArrayBuffer.js",".././node_modules/underscore/modules/isFunction.js",".././node_modules/underscore/modules/_hasObjectTag.js",".././node_modules/underscore/modules/_stringTagBug.js",".././node_modules/underscore/modules/isDataView.js",".././node_modules/underscore/modules/isArray.js",".././node_modules/underscore/modules/_has.js",".././node_modules/underscore/modules/isArguments.js",".././node_modules/underscore/modules/isFinite.js",".././node_modules/underscore/modules/isNaN.js",".././node_modules/underscore/modules/constant.js",".././node_modules/underscore/modules/_createSizePropertyCheck.js",".././node_modules/underscore/modules/_shallowProperty.js",".././node_modules/underscore/modules/_getByteLength.js",".././node_modules/underscore/modules/_isBufferLike.js",".././node_modules/underscore/modules/isTypedArray.js",".././node_modules/underscore/modules/_getLength.js",".././node_modules/underscore/modules/_collectNonEnumProps.js",".././node_modules/underscore/modules/keys.js",".././node_modules/underscore/modules/isEmpty.js",".././node_modules/underscore/modules/isMatch.js",".././node_modules/underscore/modules/underscore.js",".././node_modules/underscore/modules/_toBufferView.js",".././node_modules/underscore/modules/isEqual.js",".././node_modules/underscore/modules/allKeys.js",".././node_modules/underscore/modules/_methodFingerprint.js",".././node_modules/underscore/modules/isMap.js",".././node_modules/underscore/modules/isWeakMap.js",".././node_modules/underscore/modules/isSet.js",".././node_modules/underscore/modules/isWeakSet.js",".././node_modules/underscore/modules/values.js",".././node_modules/underscore/modules/pairs.js",".././node_modules/underscore/modules/invert.js",".././node_modules/underscore/modules/functions.js",".././node_modules/underscore/modules/_createAssigner.js",".././node_modules/underscore/modules/extend.js",".././node_modules/underscore/modules/extendOwn.js",".././node_modules/underscore/modules/defaults.js",".././node_modules/underscore/modules/_baseCreate.js",".././node_modules/underscore/modules/create.js",".././node_modules/underscore/modules/clone.js",".././node_modules/underscore/modules/tap.js",".././node_modules/underscore/modules/toPath.js",".././node_modules/underscore/modules/_toPath.js",".././node_modules/underscore/modules/_deepGet.js",".././node_modules/underscore/modules/get.js",".././node_modules/underscore/modules/has.js",".././node_modules/underscore/modules/identity.js",".././node_modules/underscore/modules/matcher.js",".././node_modules/underscore/modules/property.js",".././node_modules/underscore/modules/_optimizeCb.js",".././node_modules/underscore/modules/_baseIteratee.js",".././node_modules/underscore/modules/iteratee.js",".././node_modules/underscore/modules/_cb.js",".././node_modules/underscore/modules/mapObject.js",".././node_modules/underscore/modules/noop.js",".././node_modules/underscore/modules/propertyOf.js",".././node_modules/underscore/modules/times.js",".././node_modules/underscore/modules/random.js",".././node_modules/underscore/modules/now.js",".././node_modules/underscore/modules/_createEscaper.js",".././node_modules/underscore/modules/_escapeMap.js",".././node_modules/underscore/modules/escape.js",".././node_modules/underscore/modules/unescape.js",".././node_modules/underscore/modules/_unescapeMap.js",".././node_modules/underscore/modules/templateSettings.js",".././node_modules/underscore/modules/template.js",".././node_modules/underscore/modules/result.js",".././node_modules/underscore/modules/uniqueId.js",".././node_modules/underscore/modules/chain.js",".././node_modules/underscore/modules/_executeBound.js",".././node_modules/underscore/modules/partial.js",".././node_modules/underscore/modules/bind.js",".././node_modules/underscore/modules/_isArrayLike.js",".././node_modules/underscore/modules/_flatten.js",".././node_modules/underscore/modules/bindAll.js",".././node_modules/underscore/modules/memoize.js",".././node_modules/underscore/modules/delay.js",".././node_modules/underscore/modules/defer.js",".././node_modules/underscore/modules/throttle.js",".././node_modules/underscore/modules/debounce.js",".././node_modules/underscore/modules/wrap.js",".././node_modules/underscore/modules/negate.js",".././node_modules/underscore/modules/compose.js",".././node_modules/underscore/modules/after.js",".././node_modules/underscore/modules/before.js",".././node_modules/underscore/modules/once.js",".././node_modules/underscore/modules/findKey.js",".././node_modules/underscore/modules/_createPredicateIndexFinder.js",".././node_modules/underscore/modules/findIndex.js",".././node_modules/underscore/modules/findLastIndex.js",".././node_modules/underscore/modules/sortedIndex.js",".././node_modules/underscore/modules/_createIndexFinder.js",".././node_modules/underscore/modules/indexOf.js",".././node_modules/underscore/modules/lastIndexOf.js",".././node_modules/underscore/modules/find.js",".././node_modules/underscore/modules/findWhere.js",".././node_modules/underscore/modules/each.js",".././node_modules/underscore/modules/map.js",".././node_modules/underscore/modules/_createReduce.js",".././node_modules/underscore/modules/reduce.js",".././node_modules/underscore/modules/reduceRight.js",".././node_modules/underscore/modules/filter.js",".././node_modules/underscore/modules/reject.js",".././node_modules/underscore/modules/every.js",".././node_modules/underscore/modules/some.js",".././node_modules/underscore/modules/contains.js",".././node_modules/underscore/modules/invoke.js",".././node_modules/underscore/modules/pluck.js",".././node_modules/underscore/modules/where.js",".././node_modules/underscore/modules/max.js",".././node_modules/underscore/modules/min.js",".././node_modules/underscore/modules/toArray.js",".././node_modules/underscore/modules/sample.js",".././node_modules/underscore/modules/shuffle.js",".././node_modules/underscore/modules/sortBy.js",".././node_modules/underscore/modules/_group.js",".././node_modules/underscore/modules/groupBy.js",".././node_modules/underscore/modules/indexBy.js",".././node_modules/underscore/modules/countBy.js",".././node_modules/underscore/modules/partition.js",".././node_modules/underscore/modules/size.js",".././node_modules/underscore/modules/_keyInObj.js",".././node_modules/underscore/modules/pick.js",".././node_modules/underscore/modules/omit.js",".././node_modules/underscore/modules/initial.js",".././node_modules/underscore/modules/first.js",".././node_modules/underscore/modules/rest.js",".././node_modules/underscore/modules/last.js",".././node_modules/underscore/modules/compact.js",".././node_modules/underscore/modules/flatten.js",".././node_modules/underscore/modules/difference.js",".././node_modules/underscore/modules/without.js",".././node_modules/underscore/modules/uniq.js",".././node_modules/underscore/modules/union.js",".././node_modules/underscore/modules/intersection.js",".././node_modules/underscore/modules/unzip.js",".././node_modules/underscore/modules/zip.js",".././node_modules/underscore/modules/object.js",".././node_modules/underscore/modules/range.js",".././node_modules/underscore/modules/chunk.js",".././node_modules/underscore/modules/_chainResult.js",".././node_modules/underscore/modules/mixin.js",".././node_modules/underscore/modules/underscore-array-methods.js",".././node_modules/underscore/modules/index-default.js","../webpack/bootstrap","../webpack/runtime/compat get default export","../webpack/runtime/define property getters","../webpack/runtime/hasOwnProperty shorthand","../webpack/runtime/make namespace object","../webpack/runtime/node module decorator",".././src/extension.ts"],"sourcesContent":["var __asyncValues = (this && this.__asyncValues) || function (o) {\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n    var m = o[Symbol.asyncIterator], i;\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\n};\nexport async function getBytes(stream, onChunk) {\n    var _a, e_1, _b, _c;\n    if ('getReader' in stream) {\n        const reader = stream.getReader();\n        let result;\n        while (!(result = await reader.read()).done) {\n            onChunk(result.value);\n        }\n        return;\n    }\n    if (typeof stream[Symbol.asyncIterator] === 'function') {\n        try {\n            for (var _d = true, _e = __asyncValues(stream), _f; _f = await _e.next(), _a = _f.done, !_a;) {\n                _c = _f.value;\n                _d = false;\n                try {\n                    const chunk = _c;\n                    onChunk(chunk);\n                }\n                finally {\n                    _d = true;\n                }\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (!_d && !_a && (_b = _e.return)) await _b.call(_e);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        return;\n    }\n    throw new Error('Unsupported stream type, The stream does not have a reader or async iterator.');\n}\nexport function getLines(onLine) {\n    let buffer;\n    let position;\n    let fieldLength;\n    let discardTrailingNewline = false;\n    return function onChunk(arr) {\n        if (buffer === undefined) {\n            buffer = arr;\n            position = 0;\n            fieldLength = -1;\n        }\n        else {\n            buffer = concat(buffer, arr);\n        }\n        const bufLength = buffer.length;\n        let lineStart = 0;\n        while (position < bufLength) {\n            if (discardTrailingNewline) {\n                if (buffer[position] === 10) {\n                    lineStart = ++position;\n                }\n                discardTrailingNewline = false;\n            }\n            let lineEnd = -1;\n            for (; position < bufLength && lineEnd === -1; ++position) {\n                switch (buffer[position]) {\n                    case 58:\n                        if (fieldLength === -1) {\n                            fieldLength = position - lineStart;\n                        }\n                        break;\n                    case 13:\n                        discardTrailingNewline = true;\n                    case 10:\n                        lineEnd = position;\n                        break;\n                }\n            }\n            if (lineEnd === -1) {\n                break;\n            }\n            onLine(buffer.subarray(lineStart, lineEnd), fieldLength);\n            lineStart = position;\n            fieldLength = -1;\n        }\n        if (lineStart === bufLength) {\n            buffer = undefined;\n        }\n        else if (lineStart !== 0) {\n            buffer = buffer.subarray(lineStart);\n            position -= lineStart;\n        }\n    };\n}\nexport function getMessages(onId, onRetry, onMessage) {\n    let message = newMessage();\n    const decoder = new TextDecoder();\n    return function onLine(line, fieldLength) {\n        if (line.length === 0) {\n            onMessage === null || onMessage === void 0 ? void 0 : onMessage(message);\n            message = newMessage();\n        }\n        else if (fieldLength > 0) {\n            const field = decoder.decode(line.subarray(0, fieldLength));\n            const valueOffset = fieldLength + (line[fieldLength + 1] === 32 ? 2 : 1);\n            const value = decoder.decode(line.subarray(valueOffset));\n            switch (field) {\n                case 'data':\n                    message.data = message.data\n                        ? message.data + '\\n' + value\n                        : value;\n                    break;\n                case 'event':\n                    message.event = value;\n                    break;\n                case 'id':\n                    onId(message.id = value);\n                    break;\n                case 'retry':\n                    const retry = parseInt(value, 10);\n                    if (!isNaN(retry)) {\n                        onRetry(message.retry = retry);\n                    }\n                    break;\n            }\n        }\n    };\n}\nfunction concat(a, b) {\n    const res = new Uint8Array(a.length + b.length);\n    res.set(a);\n    res.set(b, a.length);\n    return res;\n}\nfunction newMessage() {\n    return {\n        data: '',\n        event: '',\n        id: '',\n        retry: undefined,\n    };\n}\n//# sourceMappingURL=parse.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { getBytes, getLines, getMessages } from './parse';\nimport crossFetch from 'cross-fetch';\nexport const EventStreamContentType = 'text/event-stream';\nconst DefaultRetryInterval = 1000;\nconst LastEventId = 'last-event-id';\nexport function fetchEventSource(input, _a) {\n    var { signal: inputSignal, headers: inputHeaders, onopen: inputOnOpen, onmessage, onclose, onerror, openWhenHidden, fetch: inputFetch } = _a, rest = __rest(_a, [\"signal\", \"headers\", \"onopen\", \"onmessage\", \"onclose\", \"onerror\", \"openWhenHidden\", \"fetch\"]);\n    return new Promise((resolve, reject) => {\n        const headers = Object.assign({}, inputHeaders);\n        if (!headers.accept) {\n            headers.accept = EventStreamContentType;\n        }\n        let curRequestController;\n        function onVisibilityChange() {\n            curRequestController.abort();\n            if (!document.hidden) {\n                create();\n            }\n        }\n        if ((typeof document !== 'undefined') && !openWhenHidden) {\n            document.addEventListener('visibilitychange', onVisibilityChange);\n        }\n        let retryInterval = DefaultRetryInterval;\n        let retryTimer = undefined;\n        function dispose() {\n            if ((typeof document !== 'undefined') && !openWhenHidden) {\n                document.removeEventListener('visibilitychange', onVisibilityChange);\n            }\n            clearTimeout(retryTimer);\n            curRequestController.abort();\n        }\n        inputSignal === null || inputSignal === void 0 ? void 0 : inputSignal.addEventListener('abort', () => {\n            dispose();\n            resolve();\n        });\n        const fetchFn = (() => {\n            if (inputFetch)\n                return inputFetch;\n            if (typeof fetch !== 'undefined')\n                return fetch;\n            return crossFetch;\n        })();\n        const onopen = inputOnOpen !== null && inputOnOpen !== void 0 ? inputOnOpen : defaultOnOpen;\n        async function create() {\n            var _a;\n            curRequestController = new AbortController();\n            try {\n                const response = await fetchFn(input, Object.assign(Object.assign({}, rest), { headers, signal: curRequestController.signal }));\n                await onopen(response);\n                await getBytes(response.body, getLines(getMessages(id => {\n                    if (id) {\n                        headers[LastEventId] = id;\n                    }\n                    else {\n                        delete headers[LastEventId];\n                    }\n                }, retry => {\n                    retryInterval = retry;\n                }, onmessage)));\n                onclose === null || onclose === void 0 ? void 0 : onclose();\n                dispose();\n                resolve();\n            }\n            catch (err) {\n                if (!curRequestController.signal.aborted) {\n                    try {\n                        const interval = (_a = onerror === null || onerror === void 0 ? void 0 : onerror(err)) !== null && _a !== void 0 ? _a : retryInterval;\n                        clearTimeout(retryTimer);\n                        retryTimer = setTimeout(create, interval);\n                    }\n                    catch (innerErr) {\n                        dispose();\n                        reject(innerErr);\n                    }\n                }\n            }\n        }\n        create();\n    });\n}\nfunction defaultOnOpen(response) {\n    const contentType = response.headers.get('content-type');\n    if (!(contentType === null || contentType === void 0 ? void 0 : contentType.startsWith(EventStreamContentType))) {\n        throw new Error(`Expected content-type to be ${EventStreamContentType}, Actual: ${contentType}`);\n    }\n}\n//# sourceMappingURL=fetch.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nconst events_1 = require(\"events\");\nconst debug_1 = __importDefault(require(\"debug\"));\nconst promisify_1 = __importDefault(require(\"./promisify\"));\nconst debug = debug_1.default('agent-base');\nfunction isAgent(v) {\n    return Boolean(v) && typeof v.addRequest === 'function';\n}\nfunction isSecureEndpoint() {\n    const { stack } = new Error();\n    if (typeof stack !== 'string')\n        return false;\n    return stack.split('\\n').some(l => l.indexOf('(https.js:') !== -1 || l.indexOf('node:https:') !== -1);\n}\nfunction createAgent(callback, opts) {\n    return new createAgent.Agent(callback, opts);\n}\n(function (createAgent) {\n    /**\n     * Base `http.Agent` implementation.\n     * No pooling/keep-alive is implemented by default.\n     *\n     * @param {Function} callback\n     * @api public\n     */\n    class Agent extends events_1.EventEmitter {\n        constructor(callback, _opts) {\n            super();\n            let opts = _opts;\n            if (typeof callback === 'function') {\n                this.callback = callback;\n            }\n            else if (callback) {\n                opts = callback;\n            }\n            // Timeout for the socket to be returned from the callback\n            this.timeout = null;\n            if (opts && typeof opts.timeout === 'number') {\n                this.timeout = opts.timeout;\n            }\n            // These aren't actually used by `agent-base`, but are required\n            // for the TypeScript definition files in `@types/node` :/\n            this.maxFreeSockets = 1;\n            this.maxSockets = 1;\n            this.maxTotalSockets = Infinity;\n            this.sockets = {};\n            this.freeSockets = {};\n            this.requests = {};\n            this.options = {};\n        }\n        get defaultPort() {\n            if (typeof this.explicitDefaultPort === 'number') {\n                return this.explicitDefaultPort;\n            }\n            return isSecureEndpoint() ? 443 : 80;\n        }\n        set defaultPort(v) {\n            this.explicitDefaultPort = v;\n        }\n        get protocol() {\n            if (typeof this.explicitProtocol === 'string') {\n                return this.explicitProtocol;\n            }\n            return isSecureEndpoint() ? 'https:' : 'http:';\n        }\n        set protocol(v) {\n            this.explicitProtocol = v;\n        }\n        callback(req, opts, fn) {\n            throw new Error('\"agent-base\" has no default implementation, you must subclass and override `callback()`');\n        }\n        /**\n         * Called by node-core's \"_http_client.js\" module when creating\n         * a new HTTP request with this Agent instance.\n         *\n         * @api public\n         */\n        addRequest(req, _opts) {\n            const opts = Object.assign({}, _opts);\n            if (typeof opts.secureEndpoint !== 'boolean') {\n                opts.secureEndpoint = isSecureEndpoint();\n            }\n            if (opts.host == null) {\n                opts.host = 'localhost';\n            }\n            if (opts.port == null) {\n                opts.port = opts.secureEndpoint ? 443 : 80;\n            }\n            if (opts.protocol == null) {\n                opts.protocol = opts.secureEndpoint ? 'https:' : 'http:';\n            }\n            if (opts.host && opts.path) {\n                // If both a `host` and `path` are specified then it's most\n                // likely the result of a `url.parse()` call... we need to\n                // remove the `path` portion so that `net.connect()` doesn't\n                // attempt to open that as a unix socket file.\n                delete opts.path;\n            }\n            delete opts.agent;\n            delete opts.hostname;\n            delete opts._defaultAgent;\n            delete opts.defaultPort;\n            delete opts.createConnection;\n            // Hint to use \"Connection: close\"\n            // XXX: non-documented `http` module API :(\n            req._last = true;\n            req.shouldKeepAlive = false;\n            let timedOut = false;\n            let timeoutId = null;\n            const timeoutMs = opts.timeout || this.timeout;\n            const onerror = (err) => {\n                if (req._hadError)\n                    return;\n                req.emit('error', err);\n                // For Safety. Some additional errors might fire later on\n                // and we need to make sure we don't double-fire the error event.\n                req._hadError = true;\n            };\n            const ontimeout = () => {\n                timeoutId = null;\n                timedOut = true;\n                const err = new Error(`A \"socket\" was not created for HTTP request before ${timeoutMs}ms`);\n                err.code = 'ETIMEOUT';\n                onerror(err);\n            };\n            const callbackError = (err) => {\n                if (timedOut)\n                    return;\n                if (timeoutId !== null) {\n                    clearTimeout(timeoutId);\n                    timeoutId = null;\n                }\n                onerror(err);\n            };\n            const onsocket = (socket) => {\n                if (timedOut)\n                    return;\n                if (timeoutId != null) {\n                    clearTimeout(timeoutId);\n                    timeoutId = null;\n                }\n                if (isAgent(socket)) {\n                    // `socket` is actually an `http.Agent` instance, so\n                    // relinquish responsibility for this `req` to the Agent\n                    // from here on\n                    debug('Callback returned another Agent instance %o', socket.constructor.name);\n                    socket.addRequest(req, opts);\n                    return;\n                }\n                if (socket) {\n                    socket.once('free', () => {\n                        this.freeSocket(socket, opts);\n                    });\n                    req.onSocket(socket);\n                    return;\n                }\n                const err = new Error(`no Duplex stream was returned to agent-base for \\`${req.method} ${req.path}\\``);\n                onerror(err);\n            };\n            if (typeof this.callback !== 'function') {\n                onerror(new Error('`callback` is not defined'));\n                return;\n            }\n            if (!this.promisifiedCallback) {\n                if (this.callback.length >= 3) {\n                    debug('Converting legacy callback function to promise');\n                    this.promisifiedCallback = promisify_1.default(this.callback);\n                }\n                else {\n                    this.promisifiedCallback = this.callback;\n                }\n            }\n            if (typeof timeoutMs === 'number' && timeoutMs > 0) {\n                timeoutId = setTimeout(ontimeout, timeoutMs);\n            }\n            if ('port' in opts && typeof opts.port !== 'number') {\n                opts.port = Number(opts.port);\n            }\n            try {\n                debug('Resolving socket for %o request: %o', opts.protocol, `${req.method} ${req.path}`);\n                Promise.resolve(this.promisifiedCallback(req, opts)).then(onsocket, callbackError);\n            }\n            catch (err) {\n                Promise.reject(err).catch(callbackError);\n            }\n        }\n        freeSocket(socket, opts) {\n            debug('Freeing socket %o %o', socket.constructor.name, opts);\n            socket.destroy();\n        }\n        destroy() {\n            debug('Destroying agent %o', this.constructor.name);\n        }\n    }\n    createAgent.Agent = Agent;\n    // So that `instanceof` works correctly\n    createAgent.prototype = createAgent.Agent.prototype;\n})(createAgent || (createAgent = {}));\nmodule.exports = createAgent;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction promisify(fn) {\n    return function (req, opts) {\n        return new Promise((resolve, reject) => {\n            fn.call(this, req, opts, (err, rtn) => {\n                if (err) {\n                    reject(err);\n                }\n                else {\n                    resolve(rtn);\n                }\n            });\n        });\n    };\n}\nexports.default = promisify;\n//# sourceMappingURL=promisify.js.map","\"use strict\";\nvar DiagChannel = require(\"./diagnostic-channel/initialization\");\nvar AutoCollectConsole = (function () {\n    function AutoCollectConsole(client) {\n        if (!!AutoCollectConsole.INSTANCE) {\n            throw new Error(\"Console logging adapter tracking should be configured from the applicationInsights object\");\n        }\n        this._client = client;\n        AutoCollectConsole.INSTANCE = this;\n    }\n    AutoCollectConsole.prototype.enable = function (isEnabled, collectConsoleLog) {\n        if (DiagChannel.IsInitialized) {\n            require(\"./diagnostic-channel/console.sub\").enable(isEnabled && collectConsoleLog, this._client);\n            require(\"./diagnostic-channel/bunyan.sub\").enable(isEnabled, this._client);\n            require(\"./diagnostic-channel/winston.sub\").enable(isEnabled, this._client);\n        }\n    };\n    AutoCollectConsole.prototype.isInitialized = function () {\n        return this._isInitialized;\n    };\n    AutoCollectConsole.prototype.dispose = function () {\n        AutoCollectConsole.INSTANCE = null;\n        this.enable(false, false);\n    };\n    AutoCollectConsole._methodNames = [\"debug\", \"info\", \"log\", \"warn\", \"error\"];\n    return AutoCollectConsole;\n}());\nmodule.exports = AutoCollectConsole;\n//# sourceMappingURL=Console.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Logging = require(\"../Library/Logging\");\nvar DiagChannel = require(\"./diagnostic-channel/initialization\");\nvar CorrelationContextManager = (function () {\n    function CorrelationContextManager() {\n    }\n    /**\n     *  Provides the current Context.\n     *  The context is the most recent one entered into for the current\n     *  logical chain of execution, including across asynchronous calls.\n     */\n    CorrelationContextManager.getCurrentContext = function () {\n        if (!CorrelationContextManager.enabled) {\n            return null;\n        }\n        var context = CorrelationContextManager.session.get(CorrelationContextManager.CONTEXT_NAME);\n        if (context === undefined) {\n            return null;\n        }\n        return context;\n    };\n    /**\n     *  A helper to generate objects conforming to the CorrelationContext interface\n     */\n    CorrelationContextManager.generateContextObject = function (operationId, parentId, operationName, correlationContextHeader, traceparent, tracestate) {\n        parentId = parentId || operationId;\n        if (this.enabled) {\n            return {\n                operation: {\n                    name: operationName,\n                    id: operationId,\n                    parentId: parentId,\n                    traceparent: traceparent,\n                    tracestate: tracestate\n                },\n                customProperties: new CustomPropertiesImpl(correlationContextHeader)\n            };\n        }\n        return null;\n    };\n    /**\n     *  Runs a function inside a given Context.\n     *  All logical children of the execution path that entered this Context\n     *  will receive this Context object on calls to GetCurrentContext.\n     */\n    CorrelationContextManager.runWithContext = function (context, fn) {\n        if (CorrelationContextManager.enabled) {\n            return CorrelationContextManager.session.bind(fn, (_a = {}, _a[CorrelationContextManager.CONTEXT_NAME] = context, _a))();\n        }\n        else {\n            return fn();\n        }\n        var _a;\n    };\n    /**\n     * Wrapper for cls-hooked bindEmitter method\n     */\n    CorrelationContextManager.wrapEmitter = function (emitter) {\n        if (CorrelationContextManager.enabled) {\n            CorrelationContextManager.session.bindEmitter(emitter);\n        }\n    };\n    /**\n     *  Patches a callback to restore the correct Context when getCurrentContext\n     *  is run within it. This is necessary if automatic correlation fails to work\n     *  with user-included libraries.\n     *\n     *  The supplied callback will be given the same context that was present for\n     *  the call to wrapCallback.  */\n    CorrelationContextManager.wrapCallback = function (fn) {\n        if (CorrelationContextManager.enabled) {\n            return CorrelationContextManager.session.bind(fn);\n        }\n        return fn;\n    };\n    /**\n     *  Enables the CorrelationContextManager.\n     */\n    CorrelationContextManager.enable = function (forceClsHooked) {\n        if (this.enabled) {\n            return;\n        }\n        if (!this.isNodeVersionCompatible()) {\n            this.enabled = false;\n            return;\n        }\n        if (!CorrelationContextManager.hasEverEnabled) {\n            this.forceClsHooked = forceClsHooked;\n            this.hasEverEnabled = true;\n            if (typeof this.cls === \"undefined\") {\n                if ((CorrelationContextManager.forceClsHooked === true) || (CorrelationContextManager.forceClsHooked === undefined && CorrelationContextManager.shouldUseClsHooked())) {\n                    this.cls = require('cls-hooked');\n                }\n                else {\n                    this.cls = require('continuation-local-storage');\n                }\n            }\n            CorrelationContextManager.session = this.cls.createNamespace(\"AI-CLS-Session\");\n            DiagChannel.registerContextPreservation(function (cb) {\n                return CorrelationContextManager.session.bind(cb);\n            });\n        }\n        this.enabled = true;\n    };\n    /**\n     *  Disables the CorrelationContextManager.\n     */\n    CorrelationContextManager.disable = function () {\n        this.enabled = false;\n    };\n    /**\n     * Reset the namespace\n     */\n    CorrelationContextManager.reset = function () {\n        if (CorrelationContextManager.hasEverEnabled) {\n            CorrelationContextManager.session = null;\n            CorrelationContextManager.session = this.cls.createNamespace('AI-CLS-Session');\n        }\n    };\n    /**\n     *  Reports if CorrelationContextManager is able to run in this environment\n     */\n    CorrelationContextManager.isNodeVersionCompatible = function () {\n        var nodeVer = process.versions.node.split(\".\");\n        return parseInt(nodeVer[0]) > 3 || (parseInt(nodeVer[0]) > 2 && parseInt(nodeVer[1]) > 2);\n    };\n    /**\n     * We only want to use cls-hooked when it uses async_hooks api (8.2+), else\n     * use async-listener (plain -cls)\n     */\n    CorrelationContextManager.shouldUseClsHooked = function () {\n        var nodeVer = process.versions.node.split(\".\");\n        return (parseInt(nodeVer[0]) > 8) || (parseInt(nodeVer[0]) >= 8 && parseInt(nodeVer[1]) >= 2);\n    };\n    /**\n     * A TypeError is triggered by cls-hooked for node [8.0, 8.2)\n     * @internal Used in tests only\n     */\n    CorrelationContextManager.canUseClsHooked = function () {\n        var nodeVer = process.versions.node.split(\".\");\n        var greater800 = (parseInt(nodeVer[0]) > 8) || (parseInt(nodeVer[0]) >= 8 && parseInt(nodeVer[1]) >= 0);\n        var less820 = (parseInt(nodeVer[0]) < 8) || (parseInt(nodeVer[0]) <= 8 && parseInt(nodeVer[1]) < 2);\n        var greater470 = parseInt(nodeVer[0]) > 4 || (parseInt(nodeVer[0]) >= 4 && parseInt(nodeVer[1]) >= 7); // cls-hooked requires node 4.7+\n        return !(greater800 && less820) && greater470;\n    };\n    CorrelationContextManager.enabled = false;\n    CorrelationContextManager.hasEverEnabled = false;\n    CorrelationContextManager.forceClsHooked = undefined; // true: use cls-hooked, false: use cls, undefined: choose based on node version\n    CorrelationContextManager.CONTEXT_NAME = \"ApplicationInsights-Context\";\n    return CorrelationContextManager;\n}());\nexports.CorrelationContextManager = CorrelationContextManager;\nvar CustomPropertiesImpl = (function () {\n    function CustomPropertiesImpl(header) {\n        this.props = [];\n        this.addHeaderData(header);\n    }\n    CustomPropertiesImpl.prototype.addHeaderData = function (header) {\n        var keyvals = header ? header.split(\", \") : [];\n        this.props = keyvals.map(function (keyval) {\n            var parts = keyval.split(\"=\");\n            return { key: parts[0], value: parts[1] };\n        }).concat(this.props);\n    };\n    CustomPropertiesImpl.prototype.serializeToHeader = function () {\n        return this.props.map(function (keyval) {\n            return keyval.key + \"=\" + keyval.value;\n        }).join(\", \");\n    };\n    CustomPropertiesImpl.prototype.getProperty = function (prop) {\n        for (var i = 0; i < this.props.length; ++i) {\n            var keyval = this.props[i];\n            if (keyval.key === prop) {\n                return keyval.value;\n            }\n        }\n        return;\n    };\n    // TODO: Strictly according to the spec, properties which are recieved from\n    // an incoming request should be left untouched, while we may add our own new\n    // properties. The logic here will need to change to track that.\n    CustomPropertiesImpl.prototype.setProperty = function (prop, val) {\n        if (CustomPropertiesImpl.bannedCharacters.test(prop) || CustomPropertiesImpl.bannedCharacters.test(val)) {\n            Logging.warn(\"Correlation context property keys and values must not contain ',' or '='. setProperty was called with key: \" + prop + \" and value: \" + val);\n            return;\n        }\n        for (var i = 0; i < this.props.length; ++i) {\n            var keyval = this.props[i];\n            if (keyval.key === prop) {\n                keyval.value = val;\n                return;\n            }\n        }\n        this.props.push({ key: prop, value: val });\n    };\n    CustomPropertiesImpl.bannedCharacters = /[,=]/;\n    return CustomPropertiesImpl;\n}());\n//# sourceMappingURL=CorrelationContextManager.js.map","\"use strict\";\nvar AutoCollectExceptions = (function () {\n    function AutoCollectExceptions(client) {\n        if (!!AutoCollectExceptions.INSTANCE) {\n            throw new Error(\"Exception tracking should be configured from the applicationInsights object\");\n        }\n        AutoCollectExceptions.INSTANCE = this;\n        this._client = client;\n        // Only use for 13.7.0+\n        var nodeVer = process.versions.node.split(\".\");\n        AutoCollectExceptions._canUseUncaughtExceptionMonitor = parseInt(nodeVer[0]) > 13 || (parseInt(nodeVer[0]) === 13 && parseInt(nodeVer[1]) >= 7);\n    }\n    AutoCollectExceptions.prototype.isInitialized = function () {\n        return this._isInitialized;\n    };\n    AutoCollectExceptions.prototype.enable = function (isEnabled) {\n        var _this = this;\n        if (isEnabled) {\n            this._isInitialized = true;\n            var self = this;\n            if (!this._exceptionListenerHandle) {\n                // For scenarios like Promise.reject(), an error won't be passed to the handle. Create a placeholder\n                // error for these scenarios.\n                var handle = function (reThrow, name, error) {\n                    if (error === void 0) { error = new Error(AutoCollectExceptions._FALLBACK_ERROR_MESSAGE); }\n                    _this._client.trackException({ exception: error });\n                    _this._client.flush({ isAppCrashing: true });\n                    // only rethrow when we are the only listener\n                    if (reThrow && name && process.listeners(name).length === 1) {\n                        console.error(error);\n                        process.exit(1);\n                    }\n                };\n                if (AutoCollectExceptions._canUseUncaughtExceptionMonitor) {\n                    // Node.js >= 13.7.0, use uncaughtExceptionMonitor. It handles both promises and exceptions\n                    this._exceptionListenerHandle = handle.bind(this, false); // never rethrows\n                    process.on(AutoCollectExceptions.UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME, this._exceptionListenerHandle);\n                }\n                else {\n                    this._exceptionListenerHandle = handle.bind(this, true, AutoCollectExceptions.UNCAUGHT_EXCEPTION_HANDLER_NAME);\n                    this._rejectionListenerHandle = handle.bind(this, false); // never rethrows\n                    process.on(AutoCollectExceptions.UNCAUGHT_EXCEPTION_HANDLER_NAME, this._exceptionListenerHandle);\n                    process.on(AutoCollectExceptions.UNHANDLED_REJECTION_HANDLER_NAME, this._rejectionListenerHandle);\n                }\n            }\n        }\n        else {\n            if (this._exceptionListenerHandle) {\n                if (AutoCollectExceptions._canUseUncaughtExceptionMonitor) {\n                    process.removeListener(AutoCollectExceptions.UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME, this._exceptionListenerHandle);\n                }\n                else {\n                    process.removeListener(AutoCollectExceptions.UNCAUGHT_EXCEPTION_HANDLER_NAME, this._exceptionListenerHandle);\n                    process.removeListener(AutoCollectExceptions.UNHANDLED_REJECTION_HANDLER_NAME, this._rejectionListenerHandle);\n                }\n                this._exceptionListenerHandle = undefined;\n                this._rejectionListenerHandle = undefined;\n                delete this._exceptionListenerHandle;\n                delete this._rejectionListenerHandle;\n            }\n        }\n    };\n    AutoCollectExceptions.prototype.dispose = function () {\n        AutoCollectExceptions.INSTANCE = null;\n        this.enable(false);\n        this._isInitialized = false;\n    };\n    AutoCollectExceptions.INSTANCE = null;\n    AutoCollectExceptions.UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME = \"uncaughtExceptionMonitor\";\n    AutoCollectExceptions.UNCAUGHT_EXCEPTION_HANDLER_NAME = \"uncaughtException\";\n    AutoCollectExceptions.UNHANDLED_REJECTION_HANDLER_NAME = \"unhandledRejection\";\n    AutoCollectExceptions._RETHROW_EXIT_MESSAGE = \"Application Insights Rethrow Exception Handler\";\n    AutoCollectExceptions._FALLBACK_ERROR_MESSAGE = \"A promise was rejected without providing an error. Application Insights generated this error stack for you.\";\n    AutoCollectExceptions._canUseUncaughtExceptionMonitor = false;\n    return AutoCollectExceptions;\n}());\nmodule.exports = AutoCollectExceptions;\n//# sourceMappingURL=Exceptions.js.map","\"use strict\";\nvar http = require(\"http\");\nvar https = require(\"https\");\nvar Logging = require(\"../Library/Logging\");\nvar Util = require(\"../Library/Util\");\nvar RequestResponseHeaders = require(\"../Library/RequestResponseHeaders\");\nvar HttpDependencyParser = require(\"./HttpDependencyParser\");\nvar CorrelationContextManager_1 = require(\"./CorrelationContextManager\");\nvar CorrelationIdManager = require(\"../Library/CorrelationIdManager\");\nvar Traceparent = require(\"../Library/Traceparent\");\nvar DiagChannel = require(\"./diagnostic-channel/initialization\");\nvar AutoCollectHttpDependencies = (function () {\n    function AutoCollectHttpDependencies(client) {\n        if (!!AutoCollectHttpDependencies.INSTANCE) {\n            throw new Error(\"Client request tracking should be configured from the applicationInsights object\");\n        }\n        AutoCollectHttpDependencies.INSTANCE = this;\n        this._client = client;\n    }\n    AutoCollectHttpDependencies.prototype.enable = function (isEnabled) {\n        this._isEnabled = isEnabled;\n        if (this._isEnabled && !this._isInitialized) {\n            this._initialize();\n        }\n        if (DiagChannel.IsInitialized) {\n            require(\"./diagnostic-channel/mongodb.sub\").enable(isEnabled, this._client);\n            require(\"./diagnostic-channel/mysql.sub\").enable(isEnabled, this._client);\n            require(\"./diagnostic-channel/redis.sub\").enable(isEnabled, this._client);\n            require(\"./diagnostic-channel/postgres.sub\").enable(isEnabled, this._client);\n        }\n    };\n    AutoCollectHttpDependencies.prototype.isInitialized = function () {\n        return this._isInitialized;\n    };\n    AutoCollectHttpDependencies.prototype._initialize = function () {\n        var _this = this;\n        this._isInitialized = true;\n        var originalGet = http.get;\n        var originalRequest = http.request;\n        var originalHttpsRequest = https.request;\n        var clientRequestPatch = function (request, options) {\n            var shouldCollect = !options[AutoCollectHttpDependencies.disableCollectionRequestOption] &&\n                !request[AutoCollectHttpDependencies.alreadyAutoCollectedFlag];\n            request[AutoCollectHttpDependencies.alreadyAutoCollectedFlag] = true;\n            if (request && options && shouldCollect) {\n                CorrelationContextManager_1.CorrelationContextManager.wrapEmitter(request);\n                AutoCollectHttpDependencies.trackRequest(_this._client, { options: options, request: request });\n            }\n        };\n        // On node >= v0.11.12 and < 9.0 (excluding 8.9.0) https.request just calls http.request (with additional options).\n        // On node < 0.11.12, 8.9.0, and 9.0 > https.request is handled separately\n        // Patch both and leave a flag to not double-count on versions that just call through\n        // We add the flag to both http and https to protect against strange double collection in other scenarios\n        http.request = function (options) {\n            var requestArgs = [];\n            for (var _i = 1; _i < arguments.length; _i++) {\n                requestArgs[_i - 1] = arguments[_i];\n            }\n            var request = originalRequest.call.apply(originalRequest, [http, options].concat(requestArgs));\n            clientRequestPatch(request, options);\n            return request;\n        };\n        https.request = function (options) {\n            var requestArgs = [];\n            for (var _i = 1; _i < arguments.length; _i++) {\n                requestArgs[_i - 1] = arguments[_i];\n            }\n            var request = originalHttpsRequest.call.apply(originalHttpsRequest, [https, options].concat(requestArgs));\n            clientRequestPatch(request, options);\n            return request;\n        };\n        // Node 8 calls http.request from http.get using a local reference!\n        // We have to patch .get manually in this case and can't just assume request is enough\n        // We have to replace the entire method in this case. We can't call the original.\n        // This is because calling the original will give us no chance to set headers as it internally does .end().\n        http.get = function (options) {\n            var requestArgs = [];\n            for (var _i = 1; _i < arguments.length; _i++) {\n                requestArgs[_i - 1] = arguments[_i];\n            }\n            var request = (_a = http.request).call.apply(_a, [http, options].concat(requestArgs));\n            request.end();\n            return request;\n            var _a;\n        };\n        https.get = function (options) {\n            var requestArgs = [];\n            for (var _i = 1; _i < arguments.length; _i++) {\n                requestArgs[_i - 1] = arguments[_i];\n            }\n            var request = (_a = https.request).call.apply(_a, [https, options].concat(requestArgs));\n            request.end();\n            return request;\n            var _a;\n        };\n    };\n    /**\n     * Tracks an outgoing request. Because it may set headers this method must be called before\n     * writing content to or ending the request.\n     */\n    AutoCollectHttpDependencies.trackRequest = function (client, telemetry) {\n        if (!telemetry.options || !telemetry.request || !client) {\n            Logging.info(\"AutoCollectHttpDependencies.trackRequest was called with invalid parameters: \", !telemetry.options, !telemetry.request, !client);\n            return;\n        }\n        var requestParser = new HttpDependencyParser(telemetry.options, telemetry.request);\n        var currentContext = CorrelationContextManager_1.CorrelationContextManager.getCurrentContext();\n        var uniqueRequestId;\n        var uniqueTraceparent;\n        if (currentContext && currentContext.operation && currentContext.operation.traceparent && Traceparent.isValidTraceId(currentContext.operation.traceparent.traceId)) {\n            currentContext.operation.traceparent.updateSpanId();\n            uniqueRequestId = currentContext.operation.traceparent.getBackCompatRequestId();\n        }\n        else if (CorrelationIdManager.w3cEnabled) {\n            // Start an operation now so that we can include the w3c headers in the outgoing request\n            var traceparent = new Traceparent();\n            uniqueTraceparent = traceparent.toString();\n            uniqueRequestId = traceparent.getBackCompatRequestId();\n        }\n        else {\n            uniqueRequestId = currentContext && currentContext.operation && (currentContext.operation.parentId + AutoCollectHttpDependencies.requestNumber++ + '.');\n        }\n        // Add the source correlationId to the request headers, if a value was not already provided.\n        // The getHeader/setHeader methods aren't available on very old Node versions, and\n        // are not included in the v0.10 type declarations currently used. So check if the\n        // methods exist before invoking them.\n        if (Util.canIncludeCorrelationHeader(client, requestParser.getUrl()) && telemetry.request.getHeader && telemetry.request.setHeader) {\n            if (client.config && client.config.correlationId) {\n                // getHeader returns \"any\" type in newer versions of node. In basic scenarios, this will be <string | string[] | number>, but could be modified to anything else via middleware\n                var correlationHeader = telemetry.request.getHeader(RequestResponseHeaders.requestContextHeader);\n                try {\n                    Util.safeIncludeCorrelationHeader(client, telemetry.request, correlationHeader);\n                }\n                catch (err) {\n                    Logging.warn(\"Request-Context header could not be set. Correlation of requests may be lost\", err);\n                }\n                if (currentContext && currentContext.operation) {\n                    try {\n                        telemetry.request.setHeader(RequestResponseHeaders.requestIdHeader, uniqueRequestId);\n                        // Also set legacy headers\n                        telemetry.request.setHeader(RequestResponseHeaders.parentIdHeader, currentContext.operation.id);\n                        telemetry.request.setHeader(RequestResponseHeaders.rootIdHeader, uniqueRequestId);\n                        // Set W3C headers, if available\n                        if (uniqueTraceparent || currentContext.operation.traceparent) {\n                            telemetry.request.setHeader(RequestResponseHeaders.traceparentHeader, uniqueTraceparent || currentContext.operation.traceparent.toString());\n                        }\n                        else if (CorrelationIdManager.w3cEnabled) {\n                            // should never get here since we set uniqueTraceparent above for the w3cEnabled scenario\n                            var traceparent = new Traceparent().toString();\n                            telemetry.request.setHeader(RequestResponseHeaders.traceparentHeader, traceparent);\n                        }\n                        if (currentContext.operation.tracestate) {\n                            var tracestate = currentContext.operation.tracestate.toString();\n                            if (tracestate) {\n                                telemetry.request.setHeader(RequestResponseHeaders.traceStateHeader, tracestate);\n                            }\n                        }\n                        var correlationContextHeader = currentContext.customProperties.serializeToHeader();\n                        if (correlationContextHeader) {\n                            telemetry.request.setHeader(RequestResponseHeaders.correlationContextHeader, correlationContextHeader);\n                        }\n                    }\n                    catch (err) {\n                        Logging.warn(\"Correlation headers could not be set. Correlation of requests may be lost.\", err);\n                    }\n                }\n            }\n        }\n        // Collect dependency telemetry about the request when it finishes.\n        if (telemetry.request.on) {\n            telemetry.request.on('response', function (response) {\n                requestParser.onResponse(response);\n                var dependencyTelemetry = requestParser.getDependencyTelemetry(telemetry, uniqueRequestId);\n                dependencyTelemetry.contextObjects = dependencyTelemetry.contextObjects || {};\n                dependencyTelemetry.contextObjects[\"http.RequestOptions\"] = telemetry.options;\n                dependencyTelemetry.contextObjects[\"http.ClientRequest\"] = telemetry.request;\n                dependencyTelemetry.contextObjects[\"http.ClientResponse\"] = response;\n                client.trackDependency(dependencyTelemetry);\n            });\n            telemetry.request.on('error', function (e) {\n                requestParser.onError(e);\n                var dependencyTelemetry = requestParser.getDependencyTelemetry(telemetry, uniqueRequestId);\n                dependencyTelemetry.contextObjects = dependencyTelemetry.contextObjects || {};\n                dependencyTelemetry.contextObjects[\"http.RequestOptions\"] = telemetry.options;\n                dependencyTelemetry.contextObjects[\"http.ClientRequest\"] = telemetry.request;\n                dependencyTelemetry.contextObjects[\"Error\"] = e;\n                client.trackDependency(dependencyTelemetry);\n            });\n        }\n    };\n    AutoCollectHttpDependencies.prototype.dispose = function () {\n        AutoCollectHttpDependencies.INSTANCE = null;\n        this.enable(false);\n        this._isInitialized = false;\n    };\n    AutoCollectHttpDependencies.disableCollectionRequestOption = 'disableAppInsightsAutoCollection';\n    AutoCollectHttpDependencies.requestNumber = 1;\n    AutoCollectHttpDependencies.alreadyAutoCollectedFlag = '_appInsightsAutoCollected';\n    return AutoCollectHttpDependencies;\n}());\nmodule.exports = AutoCollectHttpDependencies;\n//# sourceMappingURL=HttpDependencies.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar url = require(\"url\");\nvar Contracts = require(\"../Declarations/Contracts\");\nvar Util = require(\"../Library/Util\");\nvar RequestResponseHeaders = require(\"../Library/RequestResponseHeaders\");\nvar RequestParser = require(\"./RequestParser\");\nvar CorrelationIdManager = require(\"../Library/CorrelationIdManager\");\n/**\n * Helper class to read data from the requst/response objects and convert them into the telemetry contract\n */\nvar HttpDependencyParser = (function (_super) {\n    __extends(HttpDependencyParser, _super);\n    function HttpDependencyParser(requestOptions, request) {\n        var _this = _super.call(this) || this;\n        if (request && request.method && requestOptions) {\n            // The ClientRequest.method property isn't documented, but is always there.\n            _this.method = request.method;\n            _this.url = HttpDependencyParser._getUrlFromRequestOptions(requestOptions, request);\n            _this.startTime = +new Date();\n        }\n        return _this;\n    }\n    /**\n     * Called when the ClientRequest emits an error event.\n     */\n    HttpDependencyParser.prototype.onError = function (error) {\n        this._setStatus(undefined, error);\n    };\n    /**\n     * Called when the ClientRequest emits a response event.\n     */\n    HttpDependencyParser.prototype.onResponse = function (response) {\n        this._setStatus(response.statusCode, undefined);\n        this.correlationId = Util.getCorrelationContextTarget(response, RequestResponseHeaders.requestContextTargetKey);\n    };\n    /**\n     * Gets a dependency data contract object for a completed ClientRequest.\n     */\n    HttpDependencyParser.prototype.getDependencyTelemetry = function (baseTelemetry, dependencyId) {\n        var urlObject = url.parse(this.url);\n        urlObject.search = undefined;\n        urlObject.hash = undefined;\n        var dependencyName = this.method.toUpperCase() + \" \" + urlObject.pathname;\n        var remoteDependencyType = Contracts.RemoteDependencyDataConstants.TYPE_HTTP;\n        var remoteDependencyTarget = urlObject.hostname;\n        if (this.correlationId) {\n            remoteDependencyType = Contracts.RemoteDependencyDataConstants.TYPE_AI;\n            if (this.correlationId !== CorrelationIdManager.correlationIdPrefix) {\n                remoteDependencyTarget = urlObject.hostname + \" | \" + this.correlationId;\n            }\n        }\n        else {\n            remoteDependencyType = Contracts.RemoteDependencyDataConstants.TYPE_HTTP;\n        }\n        if (urlObject.port) {\n            remoteDependencyTarget += \":\" + urlObject.port;\n        }\n        var dependencyTelemetry = {\n            id: dependencyId,\n            name: dependencyName,\n            data: this.url,\n            duration: this.duration,\n            success: this._isSuccess(),\n            resultCode: this.statusCode ? this.statusCode.toString() : null,\n            properties: this.properties || {},\n            dependencyTypeName: remoteDependencyType,\n            target: remoteDependencyTarget\n        };\n        // We should keep any parameters the user passed in\n        // Except the fields defined above in requestTelemetry, which take priority\n        // Except the properties field, where they're merged instead, with baseTelemetry taking priority\n        if (baseTelemetry) {\n            // Copy missing fields\n            for (var key in baseTelemetry) {\n                if (!dependencyTelemetry[key]) {\n                    dependencyTelemetry[key] = baseTelemetry[key];\n                }\n            }\n            // Merge properties\n            if (baseTelemetry.properties) {\n                for (var key in baseTelemetry.properties) {\n                    dependencyTelemetry.properties[key] = baseTelemetry.properties[key];\n                }\n            }\n        }\n        return dependencyTelemetry;\n    };\n    /**\n     * Builds a URL from request options, using the same logic as http.request(). This is\n     * necessary because a ClientRequest object does not expose a url property.\n     */\n    HttpDependencyParser._getUrlFromRequestOptions = function (options, request) {\n        if (typeof options === 'string') {\n            options = url.parse(options);\n        }\n        else {\n            // Avoid modifying the original options object.\n            var originalOptions_1 = options;\n            options = {};\n            if (originalOptions_1) {\n                Object.keys(originalOptions_1).forEach(function (key) {\n                    options[key] = originalOptions_1[key];\n                });\n            }\n        }\n        // Oddly, url.format ignores path and only uses pathname and search,\n        // so create them from the path, if path was specified\n        if (options.path) {\n            var parsedQuery = url.parse(options.path);\n            options.pathname = parsedQuery.pathname;\n            options.search = parsedQuery.search;\n        }\n        // Simiarly, url.format ignores hostname and port if host is specified,\n        // even if host doesn't have the port, but http.request does not work\n        // this way. It will use the port if one is not specified in host,\n        // effectively treating host as hostname, but will use the port specified\n        // in host if it exists.\n        if (options.host && options.port) {\n            // Force a protocol so it will parse the host as the host, not path.\n            // It is discarded and not used, so it doesn't matter if it doesn't match\n            var parsedHost = url.parse(\"http://\" + options.host);\n            if (!parsedHost.port && options.port) {\n                options.hostname = options.host;\n                delete options.host;\n            }\n        }\n        // Mix in default values used by http.request and others\n        options.protocol = options.protocol || (request.agent && request.agent.protocol) || undefined;\n        options.hostname = options.hostname || 'localhost';\n        return url.format(options);\n    };\n    return HttpDependencyParser;\n}(RequestParser));\nmodule.exports = HttpDependencyParser;\n//# sourceMappingURL=HttpDependencyParser.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar url = require(\"url\");\nvar Contracts = require(\"../Declarations/Contracts\");\nvar Util = require(\"../Library/Util\");\nvar RequestResponseHeaders = require(\"../Library/RequestResponseHeaders\");\nvar RequestParser = require(\"./RequestParser\");\nvar CorrelationIdManager = require(\"../Library/CorrelationIdManager\");\nvar Tracestate = require(\"../Library/Tracestate\");\nvar Traceparent = require(\"../Library/Traceparent\");\n/**\n * Helper class to read data from the requst/response objects and convert them into the telemetry contract\n */\nvar HttpRequestParser = (function (_super) {\n    __extends(HttpRequestParser, _super);\n    function HttpRequestParser(request, requestId) {\n        var _this = _super.call(this) || this;\n        if (request) {\n            _this.method = request.method;\n            _this.url = _this._getAbsoluteUrl(request);\n            _this.startTime = +new Date();\n            _this.socketRemoteAddress = request.socket && request.socket.remoteAddress;\n            _this.parseHeaders(request, requestId);\n            if (request.connection) {\n                _this.connectionRemoteAddress = request.connection.remoteAddress;\n                _this.legacySocketRemoteAddress = request.connection[\"socket\"] && request.connection[\"socket\"].remoteAddress;\n            }\n        }\n        return _this;\n    }\n    HttpRequestParser.prototype.onError = function (error, ellapsedMilliseconds) {\n        this._setStatus(undefined, error);\n        // This parameter is only for overrides. setStatus handles this internally for the autocollected case\n        if (ellapsedMilliseconds) {\n            this.duration = ellapsedMilliseconds;\n        }\n    };\n    HttpRequestParser.prototype.onResponse = function (response, ellapsedMilliseconds) {\n        this._setStatus(response.statusCode, undefined);\n        // This parameter is only for overrides. setStatus handles this internally for the autocollected case\n        if (ellapsedMilliseconds) {\n            this.duration = ellapsedMilliseconds;\n        }\n    };\n    HttpRequestParser.prototype.getRequestTelemetry = function (baseTelemetry) {\n        var requestTelemetry = {\n            id: this.requestId,\n            name: this.method + \" \" + url.parse(this.url).pathname,\n            url: this.url,\n            /*\n            See https://github.com/Microsoft/ApplicationInsights-dotnet-server/blob/25d695e6a906fbe977f67be3966d25dbf1c50a79/Src/Web/Web.Shared.Net/RequestTrackingTelemetryModule.cs#L250\n            for reference\n            */\n            source: this.sourceCorrelationId,\n            duration: this.duration,\n            resultCode: this.statusCode ? this.statusCode.toString() : null,\n            success: this._isSuccess(),\n            properties: this.properties\n        };\n        // We should keep any parameters the user passed in\n        // Except the fields defined above in requestTelemetry, which take priority\n        // Except the properties field, where they're merged instead, with baseTelemetry taking priority\n        if (baseTelemetry) {\n            // Copy missing fields\n            for (var key in baseTelemetry) {\n                if (!requestTelemetry[key]) {\n                    requestTelemetry[key] = baseTelemetry[key];\n                }\n            }\n            // Merge properties\n            if (baseTelemetry.properties) {\n                for (var key in baseTelemetry.properties) {\n                    requestTelemetry.properties[key] = baseTelemetry.properties[key];\n                }\n            }\n        }\n        return requestTelemetry;\n    };\n    HttpRequestParser.prototype.getRequestTags = function (tags) {\n        // create a copy of the context for requests since client info will be used here\n        var newTags = {};\n        for (var key in tags) {\n            newTags[key] = tags[key];\n        }\n        // don't override tags if they are already set\n        newTags[HttpRequestParser.keys.locationIp] = tags[HttpRequestParser.keys.locationIp] || this._getIp();\n        newTags[HttpRequestParser.keys.sessionId] = tags[HttpRequestParser.keys.sessionId] || this._getId(\"ai_session\");\n        newTags[HttpRequestParser.keys.userId] = tags[HttpRequestParser.keys.userId] || this._getId(\"ai_user\");\n        newTags[HttpRequestParser.keys.userAuthUserId] = tags[HttpRequestParser.keys.userAuthUserId] || this._getId(\"ai_authUser\");\n        newTags[HttpRequestParser.keys.operationName] = this.getOperationName(tags);\n        newTags[HttpRequestParser.keys.operationParentId] = this.getOperationParentId(tags);\n        newTags[HttpRequestParser.keys.operationId] = this.getOperationId(tags);\n        return newTags;\n    };\n    HttpRequestParser.prototype.getOperationId = function (tags) {\n        return tags[HttpRequestParser.keys.operationId] || this.operationId;\n    };\n    HttpRequestParser.prototype.getOperationParentId = function (tags) {\n        return tags[HttpRequestParser.keys.operationParentId] || this.parentId || this.getOperationId(tags);\n    };\n    HttpRequestParser.prototype.getOperationName = function (tags) {\n        return tags[HttpRequestParser.keys.operationName] || this.method + \" \" + url.parse(this.url).pathname;\n    };\n    HttpRequestParser.prototype.getRequestId = function () {\n        return this.requestId;\n    };\n    HttpRequestParser.prototype.getCorrelationContextHeader = function () {\n        return this.correlationContextHeader;\n    };\n    HttpRequestParser.prototype.getTraceparent = function () {\n        return this.traceparent;\n    };\n    HttpRequestParser.prototype.getTracestate = function () {\n        return this.tracestate;\n    };\n    HttpRequestParser.prototype.getLegacyRootId = function () {\n        return this.legacyRootId;\n    };\n    HttpRequestParser.prototype._getAbsoluteUrl = function (request) {\n        if (!request.headers) {\n            return request.url;\n        }\n        var encrypted = request.connection ? request.connection.encrypted : null;\n        var requestUrl = url.parse(request.url);\n        var pathName = requestUrl.pathname;\n        var search = requestUrl.search;\n        var absoluteUrl = url.format({\n            protocol: encrypted ? \"https\" : \"http\",\n            host: request.headers.host,\n            pathname: pathName,\n            search: search\n        });\n        return absoluteUrl;\n    };\n    HttpRequestParser.prototype._getIp = function () {\n        // regex to match ipv4 without port\n        // Note: including the port would cause the payload to be rejected by the data collector\n        var ipMatch = /[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}/;\n        var check = function (str) {\n            var results = ipMatch.exec(str);\n            if (results) {\n                return results[0];\n            }\n        };\n        var ip = check(this.rawHeaders[\"x-forwarded-for\"])\n            || check(this.rawHeaders[\"x-client-ip\"])\n            || check(this.rawHeaders[\"x-real-ip\"])\n            || check(this.connectionRemoteAddress)\n            || check(this.socketRemoteAddress)\n            || check(this.legacySocketRemoteAddress);\n        // node v12 returns this if the address is \"localhost\"\n        if (!ip\n            && this.connectionRemoteAddress\n            && this.connectionRemoteAddress.substr\n            && this.connectionRemoteAddress.substr(0, 2) === \"::\") {\n            ip = \"127.0.0.1\";\n        }\n        return ip;\n    };\n    HttpRequestParser.prototype._getId = function (name) {\n        var cookie = (this.rawHeaders && this.rawHeaders[\"cookie\"] &&\n            typeof this.rawHeaders[\"cookie\"] === 'string' && this.rawHeaders[\"cookie\"]) || \"\";\n        var value = HttpRequestParser.parseId(Util.getCookie(name, cookie));\n        return value;\n    };\n    /**\n     * Sets this operation's operationId, parentId, requestId (and legacyRootId, if necessary) based on this operation's traceparent\n     */\n    HttpRequestParser.prototype.setBackCompatFromThisTraceContext = function () {\n        // Set operationId\n        this.operationId = this.traceparent.traceId;\n        if (this.traceparent.legacyRootId) {\n            this.legacyRootId = this.traceparent.legacyRootId;\n        }\n        // Set parentId with existing spanId\n        this.parentId = this.traceparent.parentId;\n        // Update the spanId and set the current requestId\n        this.traceparent.updateSpanId();\n        this.requestId = this.traceparent.getBackCompatRequestId();\n    };\n    HttpRequestParser.prototype.parseHeaders = function (request, requestId) {\n        this.rawHeaders = request.headers || request.rawHeaders;\n        this.userAgent = request.headers && request.headers[\"user-agent\"];\n        this.sourceCorrelationId = Util.getCorrelationContextTarget(request, RequestResponseHeaders.requestContextSourceKey);\n        if (request.headers) {\n            var tracestateHeader = request.headers[RequestResponseHeaders.traceStateHeader]; // w3c header\n            var traceparentHeader = request.headers[RequestResponseHeaders.traceparentHeader]; // w3c header\n            var requestIdHeader = request.headers[RequestResponseHeaders.requestIdHeader]; // default AI header\n            var legacy_parentId = request.headers[RequestResponseHeaders.parentIdHeader]; // legacy AI header\n            var legacy_rootId = request.headers[RequestResponseHeaders.rootIdHeader]; // legacy AI header\n            this.correlationContextHeader = request.headers[RequestResponseHeaders.correlationContextHeader];\n            if (CorrelationIdManager.w3cEnabled && (traceparentHeader || tracestateHeader)) {\n                // Parse W3C Trace Context headers\n                this.traceparent = new Traceparent(traceparentHeader); // new traceparent is always created from this\n                this.tracestate = traceparentHeader && tracestateHeader && new Tracestate(tracestateHeader); // discard tracestate if no traceparent is present\n                this.setBackCompatFromThisTraceContext();\n            }\n            else if (requestIdHeader) {\n                // Parse AI headers\n                if (CorrelationIdManager.w3cEnabled) {\n                    this.traceparent = new Traceparent(null, requestIdHeader);\n                    this.setBackCompatFromThisTraceContext();\n                }\n                else {\n                    this.parentId = requestIdHeader;\n                    this.requestId = CorrelationIdManager.generateRequestId(this.parentId);\n                    this.operationId = CorrelationIdManager.getRootId(this.requestId);\n                }\n            }\n            else {\n                // Legacy fallback\n                if (CorrelationIdManager.w3cEnabled) {\n                    this.traceparent = new Traceparent();\n                    this.traceparent.parentId = legacy_parentId;\n                    this.traceparent.legacyRootId = legacy_rootId || legacy_parentId;\n                    this.setBackCompatFromThisTraceContext();\n                }\n                else {\n                    this.parentId = legacy_parentId;\n                    this.requestId = CorrelationIdManager.generateRequestId(legacy_rootId || this.parentId);\n                    this.correlationContextHeader = null;\n                    this.operationId = CorrelationIdManager.getRootId(this.requestId);\n                }\n            }\n            if (requestId) {\n                // For the scenarios that don't guarantee an AI-created context,\n                // override the requestId with the provided one.\n                this.requestId = requestId;\n                this.operationId = CorrelationIdManager.getRootId(this.requestId);\n            }\n        }\n    };\n    HttpRequestParser.parseId = function (cookieValue) {\n        var cookieParts = cookieValue.split(\"|\");\n        if (cookieParts.length > 0) {\n            return cookieParts[0];\n        }\n        return \"\"; // old behavior was to return \"\" for incorrect parsing\n    };\n    HttpRequestParser.keys = new Contracts.ContextTagKeys();\n    return HttpRequestParser;\n}(RequestParser));\nmodule.exports = HttpRequestParser;\n//# sourceMappingURL=HttpRequestParser.js.map","\"use strict\";\nvar http = require(\"http\");\nvar https = require(\"https\");\nvar Logging = require(\"../Library/Logging\");\nvar Util = require(\"../Library/Util\");\nvar RequestResponseHeaders = require(\"../Library/RequestResponseHeaders\");\nvar HttpRequestParser = require(\"./HttpRequestParser\");\nvar CorrelationContextManager_1 = require(\"./CorrelationContextManager\");\nvar AutoCollectPerformance = require(\"./Performance\");\nvar AutoCollectHttpRequests = (function () {\n    function AutoCollectHttpRequests(client) {\n        if (!!AutoCollectHttpRequests.INSTANCE) {\n            throw new Error(\"Server request tracking should be configured from the applicationInsights object\");\n        }\n        AutoCollectHttpRequests.INSTANCE = this;\n        this._client = client;\n    }\n    AutoCollectHttpRequests.prototype.enable = function (isEnabled) {\n        this._isEnabled = isEnabled;\n        // Autocorrelation requires automatic monitoring of incoming server requests\n        // Disabling autocollection but enabling autocorrelation will still enable\n        // request monitoring but will not produce request events\n        if ((this._isAutoCorrelating || this._isEnabled || AutoCollectPerformance.isEnabled()) && !this._isInitialized) {\n            this.useAutoCorrelation(this._isAutoCorrelating);\n            this._initialize();\n        }\n    };\n    AutoCollectHttpRequests.prototype.useAutoCorrelation = function (isEnabled, forceClsHooked) {\n        if (isEnabled && !this._isAutoCorrelating) {\n            CorrelationContextManager_1.CorrelationContextManager.enable(forceClsHooked);\n        }\n        else if (!isEnabled && this._isAutoCorrelating) {\n            CorrelationContextManager_1.CorrelationContextManager.disable();\n        }\n        this._isAutoCorrelating = isEnabled;\n    };\n    AutoCollectHttpRequests.prototype.isInitialized = function () {\n        return this._isInitialized;\n    };\n    AutoCollectHttpRequests.prototype.isAutoCorrelating = function () {\n        return this._isAutoCorrelating;\n    };\n    AutoCollectHttpRequests.prototype._generateCorrelationContext = function (requestParser) {\n        if (!this._isAutoCorrelating) {\n            return;\n        }\n        return CorrelationContextManager_1.CorrelationContextManager.generateContextObject(requestParser.getOperationId(this._client.context.tags), requestParser.getRequestId(), requestParser.getOperationName(this._client.context.tags), requestParser.getCorrelationContextHeader(), requestParser.getTraceparent(), requestParser.getTracestate());\n    };\n    AutoCollectHttpRequests.prototype._initialize = function () {\n        var _this = this;\n        this._isInitialized = true;\n        var wrapOnRequestHandler = function (onRequest) {\n            if (!onRequest) {\n                return undefined;\n            }\n            if (typeof onRequest !== 'function') {\n                throw new Error('onRequest handler must be a function');\n            }\n            return function (request, response) {\n                CorrelationContextManager_1.CorrelationContextManager.wrapEmitter(request);\n                CorrelationContextManager_1.CorrelationContextManager.wrapEmitter(response);\n                var shouldCollect = request && !request[AutoCollectHttpRequests.alreadyAutoCollectedFlag];\n                if (request && shouldCollect) {\n                    // Set up correlation context\n                    var requestParser_1 = new HttpRequestParser(request);\n                    var correlationContext = _this._generateCorrelationContext(requestParser_1);\n                    // Note: Check for if correlation is enabled happens within this method.\n                    // If not enabled, function will directly call the callback.\n                    CorrelationContextManager_1.CorrelationContextManager.runWithContext(correlationContext, function () {\n                        if (_this._isEnabled) {\n                            // Mark as auto collected\n                            request[AutoCollectHttpRequests.alreadyAutoCollectedFlag] = true;\n                            // Auto collect request\n                            AutoCollectHttpRequests.trackRequest(_this._client, { request: request, response: response }, requestParser_1);\n                        }\n                        if (typeof onRequest === \"function\") {\n                            onRequest(request, response);\n                        }\n                    });\n                }\n                else {\n                    if (typeof onRequest === \"function\") {\n                        onRequest(request, response);\n                    }\n                }\n            };\n        };\n        // The `http.createServer` function will instantiate a new http.Server object.\n        // Inside the Server's constructor, it is using addListener to register the\n        // onRequest handler. So there are two ways to inject the wrapped onRequest handler:\n        // 1) Overwrite Server.prototype.addListener (and .on()) globally and not patching\n        //    the http.createServer call. Or\n        // 2) Overwrite the http.createServer method and add a patched addListener to the\n        //    fresh server instance. This seems more stable for possible future changes as\n        //    it also covers the case where the Server might not use addListener to manage\n        //    the callback internally.\n        //    And also as long as the constructor uses addListener to add the handle, it is\n        //    ok to patch the addListener after construction only. Because if we would patch\n        //    the prototype one and the createServer method, we would wrap the handler twice\n        //    in case of the constructor call.\n        var wrapServerEventHandler = function (server) {\n            var originalAddListener = server.addListener.bind(server);\n            server.addListener = function (eventType, eventHandler) {\n                switch (eventType) {\n                    case 'request':\n                    case 'checkContinue':\n                        return originalAddListener(eventType, wrapOnRequestHandler(eventHandler));\n                    default:\n                        return originalAddListener(eventType, eventHandler);\n                }\n            };\n            // on is an alias to addListener only\n            server.on = server.addListener;\n        };\n        var originalHttpServer = http.createServer;\n        http.createServer = function (onRequest) {\n            // todo: get a pointer to the server so the IP address can be read from server.address\n            var server = originalHttpServer(wrapOnRequestHandler(onRequest));\n            wrapServerEventHandler(server);\n            return server;\n        };\n        var originalHttpsServer = https.createServer;\n        https.createServer = function (options, onRequest) {\n            var server = originalHttpsServer(options, wrapOnRequestHandler(onRequest));\n            wrapServerEventHandler(server);\n            return server;\n        };\n    };\n    /**\n     * Tracks a request synchronously (doesn't wait for response 'finish' event)\n     */\n    AutoCollectHttpRequests.trackRequestSync = function (client, telemetry) {\n        if (!telemetry.request || !telemetry.response || !client) {\n            Logging.info(\"AutoCollectHttpRequests.trackRequestSync was called with invalid parameters: \", !telemetry.request, !telemetry.response, !client);\n            return;\n        }\n        AutoCollectHttpRequests.addResponseCorrelationIdHeader(client, telemetry.response);\n        // store data about the request\n        var correlationContext = CorrelationContextManager_1.CorrelationContextManager.getCurrentContext();\n        var requestParser = new HttpRequestParser(telemetry.request, (correlationContext && correlationContext.operation.parentId));\n        // Overwrite correlation context with request parser results\n        if (correlationContext) {\n            correlationContext.operation.id = requestParser.getOperationId(client.context.tags) || correlationContext.operation.id;\n            correlationContext.operation.name = requestParser.getOperationName(client.context.tags) || correlationContext.operation.name;\n            correlationContext.operation.parentId = requestParser.getRequestId() || correlationContext.operation.parentId;\n            correlationContext.customProperties.addHeaderData(requestParser.getCorrelationContextHeader());\n        }\n        AutoCollectHttpRequests.endRequest(client, requestParser, telemetry, telemetry.duration, telemetry.error);\n    };\n    /**\n     * Tracks a request by listening to the response 'finish' event\n     */\n    AutoCollectHttpRequests.trackRequest = function (client, telemetry, _requestParser) {\n        if (!telemetry.request || !telemetry.response || !client) {\n            Logging.info(\"AutoCollectHttpRequests.trackRequest was called with invalid parameters: \", !telemetry.request, !telemetry.response, !client);\n            return;\n        }\n        // store data about the request\n        var correlationContext = CorrelationContextManager_1.CorrelationContextManager.getCurrentContext();\n        var requestParser = _requestParser || new HttpRequestParser(telemetry.request, correlationContext && correlationContext.operation.parentId);\n        if (Util.canIncludeCorrelationHeader(client, requestParser.getUrl())) {\n            AutoCollectHttpRequests.addResponseCorrelationIdHeader(client, telemetry.response);\n        }\n        // Overwrite correlation context with request parser results (if not an automatic track. we've already precalculated the correlation context in that case)\n        if (correlationContext && !_requestParser) {\n            correlationContext.operation.id = requestParser.getOperationId(client.context.tags) || correlationContext.operation.id;\n            correlationContext.operation.name = requestParser.getOperationName(client.context.tags) || correlationContext.operation.name;\n            correlationContext.operation.parentId = requestParser.getOperationParentId(client.context.tags) || correlationContext.operation.parentId;\n            correlationContext.customProperties.addHeaderData(requestParser.getCorrelationContextHeader());\n        }\n        // response listeners\n        if (telemetry.response.once) {\n            telemetry.response.once(\"finish\", function () {\n                AutoCollectHttpRequests.endRequest(client, requestParser, telemetry, null, null);\n            });\n        }\n        // track a failed request if an error is emitted\n        if (telemetry.request.on) {\n            telemetry.request.on(\"error\", function (error) {\n                AutoCollectHttpRequests.endRequest(client, requestParser, telemetry, null, error);\n            });\n        }\n    };\n    /**\n     * Add the target correlationId to the response headers, if not already provided.\n     */\n    AutoCollectHttpRequests.addResponseCorrelationIdHeader = function (client, response) {\n        if (client.config && client.config.correlationId &&\n            response.getHeader && response.setHeader && !response.headersSent) {\n            var correlationHeader = response.getHeader(RequestResponseHeaders.requestContextHeader);\n            Util.safeIncludeCorrelationHeader(client, response, correlationHeader);\n        }\n    };\n    AutoCollectHttpRequests.endRequest = function (client, requestParser, telemetry, ellapsedMilliseconds, error) {\n        if (error) {\n            requestParser.onError(error, ellapsedMilliseconds);\n        }\n        else {\n            requestParser.onResponse(telemetry.response, ellapsedMilliseconds);\n        }\n        var requestTelemetry = requestParser.getRequestTelemetry(telemetry);\n        requestTelemetry.tagOverrides = requestParser.getRequestTags(client.context.tags);\n        if (telemetry.tagOverrides) {\n            for (var key in telemetry.tagOverrides) {\n                requestTelemetry.tagOverrides[key] = telemetry.tagOverrides[key];\n            }\n        }\n        var legacyRootId = requestParser.getLegacyRootId();\n        if (legacyRootId) {\n            requestTelemetry.properties[\"ai_legacyRootId\"] = legacyRootId;\n        }\n        requestTelemetry.contextObjects = requestTelemetry.contextObjects || {};\n        requestTelemetry.contextObjects[\"http.ServerRequest\"] = telemetry.request;\n        requestTelemetry.contextObjects[\"http.ServerResponse\"] = telemetry.response;\n        client.trackRequest(requestTelemetry);\n    };\n    AutoCollectHttpRequests.prototype.dispose = function () {\n        AutoCollectHttpRequests.INSTANCE = null;\n        this.enable(false);\n        this._isInitialized = false;\n        CorrelationContextManager_1.CorrelationContextManager.disable();\n        this._isAutoCorrelating = false;\n    };\n    AutoCollectHttpRequests.alreadyAutoCollectedFlag = '_appInsightsAutoCollected';\n    return AutoCollectHttpRequests;\n}());\nmodule.exports = AutoCollectHttpRequests;\n//# sourceMappingURL=HttpRequests.js.map","\"use strict\";\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Config = require(\"../Library/Config\");\nvar Context = require(\"../Library/Context\");\nvar Logging = require(\"../Library/Logging\");\nvar AutoCollectNativePerformance = (function () {\n    function AutoCollectNativePerformance(client) {\n        this._disabledMetrics = {};\n        // Note: Only 1 instance of this can exist. So when we reconstruct this object,\n        // just disable old native instance and reset JS member variables\n        if (AutoCollectNativePerformance.INSTANCE) {\n            AutoCollectNativePerformance.INSTANCE.dispose();\n        }\n        AutoCollectNativePerformance.INSTANCE = this;\n        this._client = client;\n    }\n    /**\n     *  Reports if NativePerformance is able to run in this environment\n     */\n    AutoCollectNativePerformance.isNodeVersionCompatible = function () {\n        var nodeVer = process.versions.node.split(\".\");\n        return parseInt(nodeVer[0]) >= 6;\n    };\n    /**\n     * Start instance of native metrics agent.\n     *\n     * @param {boolean} isEnabled\n     * @param {number} [collectionInterval=60000]\n     * @memberof AutoCollectNativePerformance\n     */\n    AutoCollectNativePerformance.prototype.enable = function (isEnabled, disabledMetrics, collectionInterval) {\n        var _this = this;\n        if (disabledMetrics === void 0) { disabledMetrics = {}; }\n        if (collectionInterval === void 0) { collectionInterval = 60000; }\n        if (!AutoCollectNativePerformance.isNodeVersionCompatible()) {\n            return;\n        }\n        if (AutoCollectNativePerformance._metricsAvailable == undefined && isEnabled && !this._isInitialized) {\n            // Try to require in the native-metrics library. If it's found initialize it, else do nothing and never try again.\n            try {\n                var NativeMetricsEmitters = require(\"applicationinsights-native-metrics\");\n                AutoCollectNativePerformance._emitter = new NativeMetricsEmitters();\n                AutoCollectNativePerformance._metricsAvailable = true;\n                Logging.info(\"Native metrics module successfully loaded!\");\n            }\n            catch (err) {\n                // Package not available. Never try again\n                AutoCollectNativePerformance._metricsAvailable = false;\n                return;\n            }\n        }\n        this._isEnabled = isEnabled;\n        this._disabledMetrics = disabledMetrics;\n        if (this._isEnabled && !this._isInitialized) {\n            this._isInitialized = true;\n        }\n        // Enable the emitter if we were able to construct one\n        if (this._isEnabled && AutoCollectNativePerformance._emitter) {\n            // enable self\n            AutoCollectNativePerformance._emitter.enable(true, collectionInterval);\n            this._handle = setInterval(function () { return _this._trackNativeMetrics(); }, collectionInterval);\n            this._handle.unref();\n        }\n        else if (AutoCollectNativePerformance._emitter) {\n            // disable self\n            AutoCollectNativePerformance._emitter.enable(false);\n            if (this._handle) {\n                clearInterval(this._handle);\n                this._handle = undefined;\n            }\n        }\n    };\n    /**\n     * Cleanup this instance of AutoCollectNativePerformance\n     *\n     * @memberof AutoCollectNativePerformance\n     */\n    AutoCollectNativePerformance.prototype.dispose = function () {\n        this.enable(false);\n    };\n    /**\n     * Parse environment variable and overwrite isEnabled based on respective fields being set\n     *\n     * @private\n     * @static\n     * @param {(boolean | IDisabledExtendedMetrics)} collectExtendedMetrics\n     * @returns {(boolean | IDisabledExtendedMetrics)}\n     * @memberof AutoCollectNativePerformance\n     */\n    AutoCollectNativePerformance.parseEnabled = function (collectExtendedMetrics) {\n        var disableAll = process.env[Config.ENV_nativeMetricsDisableAll];\n        var individualOptOuts = process.env[Config.ENV_nativeMetricsDisablers];\n        // case 1: disable all env var set, RETURN with isEnabled=false\n        if (disableAll) {\n            return { isEnabled: false, disabledMetrics: {} };\n        }\n        // case 2: individual env vars set, RETURN with isEnabled=true, disabledMetrics={...}\n        if (individualOptOuts) {\n            var optOutsArr = individualOptOuts.split(\",\");\n            var disabledMetrics = {};\n            if (optOutsArr.length > 0) {\n                for (var _i = 0, optOutsArr_1 = optOutsArr; _i < optOutsArr_1.length; _i++) {\n                    var opt = optOutsArr_1[_i];\n                    disabledMetrics[opt] = true;\n                }\n            }\n            // case 2a: collectExtendedMetrics is an object, overwrite existing ones if they exist\n            if (typeof collectExtendedMetrics === \"object\") {\n                return { isEnabled: true, disabledMetrics: __assign({}, collectExtendedMetrics, disabledMetrics) };\n            }\n            // case 2b: collectExtendedMetrics is a boolean, set disabledMetrics as is\n            return { isEnabled: collectExtendedMetrics, disabledMetrics: disabledMetrics };\n        }\n        // case 4: no env vars set, input arg is a boolean, RETURN with isEnabled=collectExtendedMetrics, disabledMetrics={}\n        if (typeof collectExtendedMetrics === \"boolean\") {\n            return { isEnabled: collectExtendedMetrics, disabledMetrics: {} };\n        }\n        else {\n            // case 5: no env vars set, input arg is object, RETURN with isEnabled=true, disabledMetrics=collectExtendedMetrics\n            return { isEnabled: true, disabledMetrics: collectExtendedMetrics };\n        }\n    };\n    /**\n     * Trigger an iteration of native metrics collection\n     *\n     * @private\n     * @memberof AutoCollectNativePerformance\n     */\n    AutoCollectNativePerformance.prototype._trackNativeMetrics = function () {\n        var shouldSendAll = true;\n        if (typeof this._isEnabled !== \"object\") {\n            shouldSendAll = this._isEnabled;\n        }\n        if (shouldSendAll) {\n            this._trackGarbageCollection();\n            this._trackEventLoop();\n            this._trackHeapUsage();\n        }\n    };\n    /**\n     * Tracks garbage collection stats for this interval. One custom metric is sent per type of garbage\n     * collection that occurred during this collection interval.\n     *\n     * @private\n     * @memberof AutoCollectNativePerformance\n     */\n    AutoCollectNativePerformance.prototype._trackGarbageCollection = function () {\n        if (this._disabledMetrics.gc) {\n            return;\n        }\n        var gcData = AutoCollectNativePerformance._emitter.getGCData();\n        for (var gc in gcData) {\n            var metrics = gcData[gc].metrics;\n            var name_1 = gc + \" Garbage Collection Duration\";\n            var stdDev = Math.sqrt(metrics.sumSquares / metrics.count - Math.pow(metrics.total / metrics.count, 2)) || 0;\n            this._client.trackMetric({\n                name: name_1,\n                value: metrics.total,\n                count: metrics.count,\n                max: metrics.max,\n                min: metrics.min,\n                stdDev: stdDev,\n                tagOverrides: (_a = {},\n                    _a[this._client.context.keys.internalSdkVersion] = \"node-nativeperf:\" + Context.sdkVersion,\n                    _a)\n            });\n        }\n        var _a;\n    };\n    /**\n     * Tracks event loop ticks per interval as a custom metric. Also included in the metric is min/max/avg\n     * time spent in event loop for this interval.\n     *\n     * @private\n     * @returns {void}\n     * @memberof AutoCollectNativePerformance\n     */\n    AutoCollectNativePerformance.prototype._trackEventLoop = function () {\n        if (this._disabledMetrics.loop) {\n            return;\n        }\n        var loopData = AutoCollectNativePerformance._emitter.getLoopData();\n        var metrics = loopData.loopUsage;\n        if (metrics.count == 0) {\n            return;\n        }\n        var name = \"Event Loop CPU Time\";\n        var stdDev = Math.sqrt(metrics.sumSquares / metrics.count - Math.pow(metrics.total / metrics.count, 2)) || 0;\n        this._client.trackMetric({\n            name: name,\n            value: metrics.total,\n            count: metrics.count,\n            min: metrics.min,\n            max: metrics.max,\n            stdDev: stdDev,\n            tagOverrides: (_a = {},\n                _a[this._client.context.keys.internalSdkVersion] = \"node-nativeperf:\" + Context.sdkVersion,\n                _a)\n        });\n        var _a;\n    };\n    /**\n     * Track heap memory usage metrics as a custom metric.\n     *\n     * @private\n     * @memberof AutoCollectNativePerformance\n     */\n    AutoCollectNativePerformance.prototype._trackHeapUsage = function () {\n        if (this._disabledMetrics.heap) {\n            return;\n        }\n        var memoryUsage = process.memoryUsage();\n        var heapUsed = memoryUsage.heapUsed, heapTotal = memoryUsage.heapTotal, rss = memoryUsage.rss;\n        this._client.trackMetric({\n            name: \"Memory Usage (Heap)\",\n            value: heapUsed,\n            count: 1,\n            tagOverrides: (_a = {},\n                _a[this._client.context.keys.internalSdkVersion] = \"node-nativeperf:\" + Context.sdkVersion,\n                _a)\n        });\n        this._client.trackMetric({\n            name: \"Memory Total (Heap)\",\n            value: heapTotal,\n            count: 1,\n            tagOverrides: (_b = {},\n                _b[this._client.context.keys.internalSdkVersion] = \"node-nativeperf:\" + Context.sdkVersion,\n                _b)\n        });\n        this._client.trackMetric({\n            name: \"Memory Usage (Non-Heap)\",\n            value: rss - heapTotal,\n            count: 1,\n            tagOverrides: (_c = {},\n                _c[this._client.context.keys.internalSdkVersion] = \"node-nativeperf:\" + Context.sdkVersion,\n                _c)\n        });\n        var _a, _b, _c;\n    };\n    return AutoCollectNativePerformance;\n}());\nexports.AutoCollectNativePerformance = AutoCollectNativePerformance;\n//# sourceMappingURL=NativePerformance.js.map","\"use strict\";\nvar os = require(\"os\");\nvar Constants = require(\"../Declarations/Constants\");\nvar AutoCollectPerformance = (function () {\n    /**\n     * @param enableLiveMetricsCounters - enable sending additional live metrics information (dependency metrics, exception metrics, committed memory)\n     */\n    function AutoCollectPerformance(client, collectionInterval, enableLiveMetricsCounters) {\n        if (collectionInterval === void 0) { collectionInterval = 60000; }\n        if (enableLiveMetricsCounters === void 0) { enableLiveMetricsCounters = false; }\n        this._lastIntervalRequestExecutionTime = 0; // the sum of durations which took place during from app start until last interval\n        this._lastIntervalDependencyExecutionTime = 0;\n        if (!AutoCollectPerformance.INSTANCE) {\n            AutoCollectPerformance.INSTANCE = this;\n        }\n        this._isInitialized = false;\n        this._client = client;\n        this._collectionInterval = collectionInterval;\n        this._enableLiveMetricsCounters = enableLiveMetricsCounters;\n    }\n    AutoCollectPerformance.prototype.enable = function (isEnabled, collectionInterval) {\n        var _this = this;\n        this._isEnabled = isEnabled;\n        if (this._isEnabled && !this._isInitialized) {\n            this._isInitialized = true;\n        }\n        if (isEnabled) {\n            if (!this._handle) {\n                this._lastCpus = os.cpus();\n                this._lastRequests = {\n                    totalRequestCount: AutoCollectPerformance._totalRequestCount,\n                    totalFailedRequestCount: AutoCollectPerformance._totalFailedRequestCount,\n                    time: +new Date\n                };\n                this._lastDependencies = {\n                    totalDependencyCount: AutoCollectPerformance._totalDependencyCount,\n                    totalFailedDependencyCount: AutoCollectPerformance._totalFailedDependencyCount,\n                    time: +new Date\n                };\n                this._lastExceptions = {\n                    totalExceptionCount: AutoCollectPerformance._totalExceptionCount,\n                    time: +new Date\n                };\n                if (typeof process.cpuUsage === 'function') {\n                    this._lastAppCpuUsage = process.cpuUsage();\n                }\n                this._lastHrtime = process.hrtime();\n                this._collectionInterval = collectionInterval || this._collectionInterval;\n                this._handle = setInterval(function () { return _this.trackPerformance(); }, this._collectionInterval);\n                this._handle.unref(); // Allow the app to terminate even while this loop is going on\n            }\n        }\n        else {\n            if (this._handle) {\n                clearInterval(this._handle);\n                this._handle = undefined;\n            }\n        }\n    };\n    AutoCollectPerformance.countRequest = function (duration, success) {\n        var durationMs;\n        if (!AutoCollectPerformance.isEnabled()) {\n            return;\n        }\n        if (typeof duration === 'string') {\n            // dependency duration is passed in as \"00:00:00.123\" by autocollectors\n            durationMs = +new Date('1970-01-01T' + duration + 'Z'); // convert to num ms, returns NaN if wrong\n        }\n        else if (typeof duration === 'number') {\n            durationMs = duration;\n        }\n        else {\n            return;\n        }\n        AutoCollectPerformance._intervalRequestExecutionTime += durationMs;\n        if (success === false) {\n            AutoCollectPerformance._totalFailedRequestCount++;\n        }\n        AutoCollectPerformance._totalRequestCount++;\n    };\n    AutoCollectPerformance.countException = function () {\n        AutoCollectPerformance._totalExceptionCount++;\n    };\n    AutoCollectPerformance.countDependency = function (duration, success) {\n        var durationMs;\n        if (!AutoCollectPerformance.isEnabled()) {\n            return;\n        }\n        if (typeof duration === 'string') {\n            // dependency duration is passed in as \"00:00:00.123\" by autocollectors\n            durationMs = +new Date('1970-01-01T' + duration + 'Z'); // convert to num ms, returns NaN if wrong\n        }\n        else if (typeof duration === 'number') {\n            durationMs = duration;\n        }\n        else {\n            return;\n        }\n        AutoCollectPerformance._intervalDependencyExecutionTime += durationMs;\n        if (success === false) {\n            AutoCollectPerformance._totalFailedDependencyCount++;\n        }\n        AutoCollectPerformance._totalDependencyCount++;\n    };\n    AutoCollectPerformance.prototype.isInitialized = function () {\n        return this._isInitialized;\n    };\n    AutoCollectPerformance.isEnabled = function () {\n        return AutoCollectPerformance.INSTANCE && AutoCollectPerformance.INSTANCE._isEnabled;\n    };\n    AutoCollectPerformance.prototype.trackPerformance = function () {\n        this._trackCpu();\n        this._trackMemory();\n        this._trackNetwork();\n        this._trackDependencyRate();\n        this._trackExceptionRate();\n    };\n    AutoCollectPerformance.prototype._trackCpu = function () {\n        // this reports total ms spent in each category since the OS was booted, to calculate percent it is necessary\n        // to find the delta since the last measurement\n        var cpus = os.cpus();\n        if (cpus && cpus.length && this._lastCpus && cpus.length === this._lastCpus.length) {\n            var totalUser = 0;\n            var totalSys = 0;\n            var totalNice = 0;\n            var totalIdle = 0;\n            var totalIrq = 0;\n            for (var i = 0; !!cpus && i < cpus.length; i++) {\n                var cpu = cpus[i];\n                var lastCpu = this._lastCpus[i];\n                var name = \"% cpu(\" + i + \") \";\n                var model = cpu.model;\n                var speed = cpu.speed;\n                var times = cpu.times;\n                var lastTimes = lastCpu.times;\n                // user cpu time (or) % CPU time spent in user space\n                var user = (times.user - lastTimes.user) || 0;\n                totalUser += user;\n                // system cpu time (or) % CPU time spent in kernel space\n                var sys = (times.sys - lastTimes.sys) || 0;\n                totalSys += sys;\n                // user nice cpu time (or) % CPU time spent on low priority processes\n                var nice = (times.nice - lastTimes.nice) || 0;\n                totalNice += nice;\n                // idle cpu time (or) % CPU time spent idle\n                var idle = (times.idle - lastTimes.idle) || 0;\n                totalIdle += idle;\n                // irq (or) % CPU time spent servicing/handling hardware interrupts\n                var irq = (times.irq - lastTimes.irq) || 0;\n                totalIrq += irq;\n            }\n            // Calculate % of total cpu time (user + system) this App Process used (Only supported by node v6.1.0+)\n            var appCpuPercent = undefined;\n            if (typeof process.cpuUsage === 'function') {\n                var appCpuUsage = process.cpuUsage();\n                var hrtime = process.hrtime();\n                var totalApp = ((appCpuUsage.user - this._lastAppCpuUsage.user) + (appCpuUsage.system - this._lastAppCpuUsage.system)) || 0;\n                if (typeof this._lastHrtime !== 'undefined' && this._lastHrtime.length === 2) {\n                    var elapsedTime = ((hrtime[0] - this._lastHrtime[0]) * 1e6 + (hrtime[1] - this._lastHrtime[1]) / 1e3) || 0; // convert to microseconds\n                    appCpuPercent = 100 * totalApp / (elapsedTime * cpus.length);\n                }\n                // Set previous\n                this._lastAppCpuUsage = appCpuUsage;\n                this._lastHrtime = hrtime;\n            }\n            var combinedTotal = (totalUser + totalSys + totalNice + totalIdle + totalIrq) || 1;\n            this._client.trackMetric({ name: Constants.PerformanceCounter.PROCESSOR_TIME, value: ((combinedTotal - totalIdle) / combinedTotal) * 100 });\n            this._client.trackMetric({ name: Constants.PerformanceCounter.PROCESS_TIME, value: appCpuPercent || ((totalUser / combinedTotal) * 100) });\n        }\n        this._lastCpus = cpus;\n    };\n    AutoCollectPerformance.prototype._trackMemory = function () {\n        var freeMem = os.freemem();\n        var usedMem = process.memoryUsage().rss;\n        var committedMemory = os.totalmem() - freeMem;\n        this._client.trackMetric({ name: Constants.PerformanceCounter.PRIVATE_BYTES, value: usedMem });\n        this._client.trackMetric({ name: Constants.PerformanceCounter.AVAILABLE_BYTES, value: freeMem });\n        // Only supported by quickpulse service\n        if (this._enableLiveMetricsCounters) {\n            this._client.trackMetric({ name: Constants.QuickPulseCounter.COMMITTED_BYTES, value: committedMemory });\n        }\n    };\n    AutoCollectPerformance.prototype._trackNetwork = function () {\n        // track total request counters\n        var lastRequests = this._lastRequests;\n        var requests = {\n            totalRequestCount: AutoCollectPerformance._totalRequestCount,\n            totalFailedRequestCount: AutoCollectPerformance._totalFailedRequestCount,\n            time: +new Date\n        };\n        var intervalRequests = (requests.totalRequestCount - lastRequests.totalRequestCount) || 0;\n        var intervalFailedRequests = (requests.totalFailedRequestCount - lastRequests.totalFailedRequestCount) || 0;\n        var elapsedMs = requests.time - lastRequests.time;\n        var elapsedSeconds = elapsedMs / 1000;\n        var averageRequestExecutionTime = ((AutoCollectPerformance._intervalRequestExecutionTime - this._lastIntervalRequestExecutionTime) / intervalRequests) || 0; // default to 0 in case no requests in this interval\n        this._lastIntervalRequestExecutionTime = AutoCollectPerformance._intervalRequestExecutionTime; // reset\n        if (elapsedMs > 0) {\n            var requestsPerSec = intervalRequests / elapsedSeconds;\n            var failedRequestsPerSec = intervalFailedRequests / elapsedSeconds;\n            this._client.trackMetric({ name: Constants.PerformanceCounter.REQUEST_RATE, value: requestsPerSec });\n            // Only send duration to live metrics if it has been updated!\n            if (!this._enableLiveMetricsCounters || intervalRequests > 0) {\n                this._client.trackMetric({ name: Constants.PerformanceCounter.REQUEST_DURATION, value: averageRequestExecutionTime });\n            }\n            // Only supported by quickpulse service\n            if (this._enableLiveMetricsCounters) {\n                this._client.trackMetric({ name: Constants.QuickPulseCounter.REQUEST_FAILURE_RATE, value: failedRequestsPerSec });\n            }\n        }\n        this._lastRequests = requests;\n    };\n    // Static counter is accumulated externally. Report the rate to client here\n    // Note: This is currently only used with QuickPulse client\n    AutoCollectPerformance.prototype._trackDependencyRate = function () {\n        if (this._enableLiveMetricsCounters) {\n            var lastDependencies = this._lastDependencies;\n            var dependencies = {\n                totalDependencyCount: AutoCollectPerformance._totalDependencyCount,\n                totalFailedDependencyCount: AutoCollectPerformance._totalFailedDependencyCount,\n                time: +new Date\n            };\n            var intervalDependencies = (dependencies.totalDependencyCount - lastDependencies.totalDependencyCount) || 0;\n            var intervalFailedDependencies = (dependencies.totalFailedDependencyCount - lastDependencies.totalFailedDependencyCount) || 0;\n            var elapsedMs = dependencies.time - lastDependencies.time;\n            var elapsedSeconds = elapsedMs / 1000;\n            var averageDependencyExecutionTime = ((AutoCollectPerformance._intervalDependencyExecutionTime - this._lastIntervalDependencyExecutionTime) / intervalDependencies) || 0;\n            this._lastIntervalDependencyExecutionTime = AutoCollectPerformance._intervalDependencyExecutionTime; // reset\n            if (elapsedMs > 0) {\n                var dependenciesPerSec = intervalDependencies / elapsedSeconds;\n                var failedDependenciesPerSec = intervalFailedDependencies / elapsedSeconds;\n                this._client.trackMetric({ name: Constants.QuickPulseCounter.DEPENDENCY_RATE, value: dependenciesPerSec });\n                this._client.trackMetric({ name: Constants.QuickPulseCounter.DEPENDENCY_FAILURE_RATE, value: failedDependenciesPerSec });\n                // redundant check for livemetrics, but kept for consistency w/ requests\n                // Only send duration to live metrics if it has been updated!\n                if (!this._enableLiveMetricsCounters || intervalDependencies > 0) {\n                    this._client.trackMetric({ name: Constants.QuickPulseCounter.DEPENDENCY_DURATION, value: averageDependencyExecutionTime });\n                }\n            }\n            this._lastDependencies = dependencies;\n        }\n    };\n    // Static counter is accumulated externally. Report the rate to client here\n    // Note: This is currently only used with QuickPulse client\n    AutoCollectPerformance.prototype._trackExceptionRate = function () {\n        if (this._enableLiveMetricsCounters) {\n            var lastExceptions = this._lastExceptions;\n            var exceptions = {\n                totalExceptionCount: AutoCollectPerformance._totalExceptionCount,\n                time: +new Date\n            };\n            var intervalExceptions = (exceptions.totalExceptionCount - lastExceptions.totalExceptionCount) || 0;\n            var elapsedMs = exceptions.time - lastExceptions.time;\n            var elapsedSeconds = elapsedMs / 1000;\n            if (elapsedMs > 0) {\n                var exceptionsPerSec = intervalExceptions / elapsedSeconds;\n                this._client.trackMetric({ name: Constants.QuickPulseCounter.EXCEPTION_RATE, value: exceptionsPerSec });\n            }\n            this._lastExceptions = exceptions;\n        }\n    };\n    AutoCollectPerformance.prototype.dispose = function () {\n        AutoCollectPerformance.INSTANCE = null;\n        this.enable(false);\n        this._isInitialized = false;\n    };\n    AutoCollectPerformance._totalRequestCount = 0;\n    AutoCollectPerformance._totalFailedRequestCount = 0;\n    AutoCollectPerformance._lastRequestExecutionTime = 0;\n    AutoCollectPerformance._totalDependencyCount = 0;\n    AutoCollectPerformance._totalFailedDependencyCount = 0;\n    AutoCollectPerformance._lastDependencyExecutionTime = 0;\n    AutoCollectPerformance._totalExceptionCount = 0;\n    AutoCollectPerformance._intervalDependencyExecutionTime = 0;\n    AutoCollectPerformance._intervalRequestExecutionTime = 0;\n    return AutoCollectPerformance;\n}());\nmodule.exports = AutoCollectPerformance;\n//# sourceMappingURL=Performance.js.map","\"use strict\";\n/**\n * Base class for helpers that read data from HTTP requst/response objects and convert them\n * into the telemetry contract objects.\n */\nvar RequestParser = (function () {\n    function RequestParser() {\n    }\n    /**\n     * Gets a url parsed out from request options\n     */\n    RequestParser.prototype.getUrl = function () {\n        return this.url;\n    };\n    RequestParser.prototype.RequestParser = function () {\n        this.startTime = +new Date();\n    };\n    RequestParser.prototype._setStatus = function (status, error) {\n        var endTime = +new Date();\n        this.duration = endTime - this.startTime;\n        this.statusCode = status;\n        var properties = this.properties || {};\n        if (error) {\n            if (typeof error === \"string\") {\n                properties[\"error\"] = error;\n            }\n            else if (error instanceof Error) {\n                properties[\"error\"] = error.message;\n            }\n            else if (typeof error === \"object\") {\n                for (var key in error) {\n                    properties[key] = error[key] && error[key].toString && error[key].toString();\n                }\n            }\n        }\n        this.properties = properties;\n    };\n    RequestParser.prototype._isSuccess = function () {\n        return (0 < this.statusCode) && (this.statusCode < 400);\n    };\n    return RequestParser;\n}());\nmodule.exports = RequestParser;\n//# sourceMappingURL=RequestParser.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Contracts_1 = require(\"../../Declarations/Contracts\");\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nvar clients = [];\n// Mapping from bunyan levels defined at https://github.com/trentm/node-bunyan/blob/master/lib/bunyan.js#L256\nvar bunyanToAILevelMap = {\n    10: Contracts_1.SeverityLevel.Verbose,\n    20: Contracts_1.SeverityLevel.Verbose,\n    30: Contracts_1.SeverityLevel.Information,\n    40: Contracts_1.SeverityLevel.Warning,\n    50: Contracts_1.SeverityLevel.Error,\n    60: Contracts_1.SeverityLevel.Critical,\n};\nvar subscriber = function (event) {\n    var message = event.data.result;\n    clients.forEach(function (client) {\n        var AIlevel = bunyanToAILevelMap[event.data.level];\n        if (message instanceof Error) {\n            client.trackException({ exception: (message) });\n        }\n        else {\n            client.trackTrace({ message: message, severity: AIlevel });\n        }\n    });\n};\nfunction enable(enabled, client) {\n    if (enabled) {\n        if (clients.length === 0) {\n            diagnostic_channel_1.channel.subscribe(\"bunyan\", subscriber);\n        }\n        ;\n        clients.push(client);\n    }\n    else {\n        clients = clients.filter(function (c) { return c != client; });\n        if (clients.length === 0) {\n            diagnostic_channel_1.channel.unsubscribe(\"bunyan\", subscriber);\n        }\n    }\n}\nexports.enable = enable;\nfunction dispose() {\n    diagnostic_channel_1.channel.unsubscribe(\"bunyan\", subscriber);\n    clients = [];\n}\nexports.dispose = dispose;\n//# sourceMappingURL=bunyan.sub.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Contracts_1 = require(\"../../Declarations/Contracts\");\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nvar clients = [];\nvar subscriber = function (event) {\n    var message = event.data.message;\n    clients.forEach(function (client) {\n        if (message instanceof Error) {\n            client.trackException({ exception: message });\n        }\n        else {\n            // Message can have a trailing newline\n            if (message.lastIndexOf(\"\\n\") == message.length - 1) {\n                message = message.substring(0, message.length - 1);\n            }\n            client.trackTrace({ message: message, severity: (event.data.stderr ? Contracts_1.SeverityLevel.Warning : Contracts_1.SeverityLevel.Information) });\n        }\n    });\n};\nfunction enable(enabled, client) {\n    if (enabled) {\n        if (clients.length === 0) {\n            diagnostic_channel_1.channel.subscribe(\"console\", subscriber);\n        }\n        ;\n        clients.push(client);\n    }\n    else {\n        clients = clients.filter(function (c) { return c != client; });\n        if (clients.length === 0) {\n            diagnostic_channel_1.channel.unsubscribe(\"console\", subscriber);\n        }\n    }\n}\nexports.enable = enable;\nfunction dispose() {\n    diagnostic_channel_1.channel.unsubscribe(\"console\", subscriber);\n    clients = [];\n}\nexports.dispose = dispose;\n//# sourceMappingURL=console.sub.js.map","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license. See LICENSE file in the project root for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Logging = require(\"../../Library/Logging\");\nexports.IsInitialized = !process.env[\"APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL\"];\nvar TAG = \"DiagnosticChannel\";\nif (exports.IsInitialized) {\n    var publishers = require(\"diagnostic-channel-publishers\");\n    var individualOptOuts = process.env[\"APPLICATION_INSIGHTS_NO_PATCH_MODULES\"] || \"\";\n    var unpatchedModules = individualOptOuts.split(\",\");\n    var modules = {\n        bunyan: publishers.bunyan,\n        console: publishers.console,\n        mongodb: publishers.mongodb,\n        mongodbCore: publishers.mongodbCore,\n        mysql: publishers.mysql,\n        redis: publishers.redis,\n        pg: publishers.pg,\n        pgPool: publishers.pgPool,\n        winston: publishers.winston\n    };\n    for (var mod in modules) {\n        if (unpatchedModules.indexOf(mod) === -1) {\n            modules[mod].enable();\n            Logging.info(TAG, \"Subscribed to \" + mod + \" events\");\n        }\n    }\n    if (unpatchedModules.length > 0) {\n        Logging.info(TAG, \"Some modules will not be patched\", unpatchedModules);\n    }\n}\nelse {\n    Logging.info(TAG, \"Not subscribing to dependency autocollection because APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL was set\");\n}\nfunction registerContextPreservation(cb) {\n    if (!exports.IsInitialized) {\n        return;\n    }\n    require(\"diagnostic-channel\").channel.addContextPreservation(cb);\n}\nexports.registerContextPreservation = registerContextPreservation;\n//# sourceMappingURL=initialization.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nvar clients = [];\nexports.subscriber = function (event) {\n    if (event.data.event.commandName === \"ismaster\") {\n        // suppress noisy ismaster commands\n    }\n    clients.forEach(function (client) {\n        var dbName = (event.data.startedData && event.data.startedData.databaseName) || \"Unknown database\";\n        client.trackDependency({\n            target: dbName,\n            data: event.data.event.commandName,\n            name: event.data.event.commandName,\n            duration: event.data.event.duration,\n            success: event.data.succeeded,\n            /* TODO: transmit result code from mongo */\n            resultCode: event.data.succeeded ? \"0\" : \"1\",\n            dependencyTypeName: 'mongodb'\n        });\n    });\n};\nfunction enable(enabled, client) {\n    if (enabled) {\n        if (clients.length === 0) {\n            diagnostic_channel_1.channel.subscribe(\"mongodb\", exports.subscriber);\n        }\n        ;\n        clients.push(client);\n    }\n    else {\n        clients = clients.filter(function (c) { return c != client; });\n        if (clients.length === 0) {\n            diagnostic_channel_1.channel.unsubscribe(\"mongodb\", exports.subscriber);\n        }\n    }\n}\nexports.enable = enable;\n//# sourceMappingURL=mongodb.sub.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nvar clients = [];\nexports.subscriber = function (event) {\n    clients.forEach(function (client) {\n        var queryObj = event.data.query || {};\n        var sqlString = queryObj.sql || \"Unknown query\";\n        var success = !event.data.err;\n        var connection = queryObj._connection || {};\n        var connectionConfig = connection.config || {};\n        var dbName = connectionConfig.socketPath ? connectionConfig.socketPath : (connectionConfig.host || \"localhost\") + \":\" + connectionConfig.port;\n        client.trackDependency({\n            target: dbName,\n            data: sqlString,\n            name: sqlString,\n            duration: event.data.duration,\n            success: success,\n            /* TODO: transmit result code from mysql */\n            resultCode: success ? \"0\" : \"1\",\n            dependencyTypeName: \"mysql\"\n        });\n    });\n};\nfunction enable(enabled, client) {\n    if (enabled) {\n        if (clients.length === 0) {\n            diagnostic_channel_1.channel.subscribe(\"mysql\", exports.subscriber);\n        }\n        ;\n        clients.push(client);\n    }\n    else {\n        clients = clients.filter(function (c) { return c != client; });\n        if (clients.length === 0) {\n            diagnostic_channel_1.channel.unsubscribe(\"mysql\", exports.subscriber);\n        }\n    }\n}\nexports.enable = enable;\n//# sourceMappingURL=mysql.sub.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nvar clients = [];\nexports.subscriber = function (event) {\n    clients.forEach(function (client) {\n        var q = event.data.query;\n        var sql = (q.preparable && q.preparable.text) || q.plan || q.text || \"unknown query\";\n        var success = !event.data.error;\n        var conn = event.data.database.host + \":\" + event.data.database.port;\n        client.trackDependency({\n            target: conn,\n            data: sql,\n            name: sql,\n            duration: event.data.duration,\n            success: success,\n            resultCode: success ? \"0\" : \"1\",\n            dependencyTypeName: \"postgres\"\n        });\n    });\n};\nfunction enable(enabled, client) {\n    if (enabled) {\n        if (clients.length === 0) {\n            diagnostic_channel_1.channel.subscribe(\"postgres\", exports.subscriber);\n        }\n        ;\n        clients.push(client);\n    }\n    else {\n        clients = clients.filter(function (c) { return c != client; });\n        if (clients.length === 0) {\n            diagnostic_channel_1.channel.unsubscribe(\"postgres\", exports.subscriber);\n        }\n    }\n}\nexports.enable = enable;\n//# sourceMappingURL=postgres.sub.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nvar clients = [];\nexports.subscriber = function (event) {\n    clients.forEach(function (client) {\n        if (event.data.commandObj.command === \"info\") {\n            // We don't want to report 'info', it's irrelevant\n            return;\n        }\n        client.trackDependency({\n            target: event.data.address,\n            name: event.data.commandObj.command,\n            data: event.data.commandObj.command,\n            duration: event.data.duration,\n            success: !event.data.err,\n            /* TODO: transmit result code from redis */\n            resultCode: event.data.err ? \"1\" : \"0\",\n            dependencyTypeName: \"redis\"\n        });\n    });\n};\nfunction enable(enabled, client) {\n    if (enabled) {\n        if (clients.length === 0) {\n            diagnostic_channel_1.channel.subscribe(\"redis\", exports.subscriber);\n        }\n        ;\n        clients.push(client);\n    }\n    else {\n        clients = clients.filter(function (c) { return c != client; });\n        if (clients.length === 0) {\n            diagnostic_channel_1.channel.unsubscribe(\"redis\", exports.subscriber);\n        }\n    }\n}\nexports.enable = enable;\n//# sourceMappingURL=redis.sub.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Contracts_1 = require(\"../../Declarations/Contracts\");\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nvar clients = [];\nvar winstonToAILevelMap = {\n    syslog: function (og) {\n        var map = {\n            emerg: Contracts_1.SeverityLevel.Critical,\n            alert: Contracts_1.SeverityLevel.Critical,\n            crit: Contracts_1.SeverityLevel.Critical,\n            error: Contracts_1.SeverityLevel.Error,\n            warning: Contracts_1.SeverityLevel.Warning,\n            notice: Contracts_1.SeverityLevel.Information,\n            info: Contracts_1.SeverityLevel.Information,\n            debug: Contracts_1.SeverityLevel.Verbose\n        };\n        return map[og] === undefined ? Contracts_1.SeverityLevel.Information : map[og];\n    },\n    npm: function (og) {\n        var map = {\n            error: Contracts_1.SeverityLevel.Error,\n            warn: Contracts_1.SeverityLevel.Warning,\n            info: Contracts_1.SeverityLevel.Information,\n            verbose: Contracts_1.SeverityLevel.Verbose,\n            debug: Contracts_1.SeverityLevel.Verbose,\n            silly: Contracts_1.SeverityLevel.Verbose\n        };\n        return map[og] === undefined ? Contracts_1.SeverityLevel.Information : map[og];\n    },\n    unknown: function (og) {\n        return Contracts_1.SeverityLevel.Information;\n    }\n};\nvar subscriber = function (event) {\n    var message = event.data.message;\n    clients.forEach(function (client) {\n        if (message instanceof Error) {\n            client.trackException({\n                exception: message,\n                properties: event.data.meta\n            });\n        }\n        else {\n            var AIlevel = winstonToAILevelMap[event.data.levelKind](event.data.level);\n            client.trackTrace({\n                message: message,\n                severity: AIlevel,\n                properties: event.data.meta\n            });\n        }\n    });\n};\nfunction enable(enabled, client) {\n    if (enabled) {\n        if (clients.length === 0) {\n            diagnostic_channel_1.channel.subscribe(\"winston\", subscriber);\n        }\n        ;\n        clients.push(client);\n    }\n    else {\n        clients = clients.filter(function (c) { return c != client; });\n        if (clients.length === 0) {\n            diagnostic_channel_1.channel.unsubscribe(\"winston\", subscriber);\n        }\n    }\n}\nexports.enable = enable;\nfunction dispose() {\n    diagnostic_channel_1.channel.unsubscribe(\"winston\", subscriber);\n    clients = [];\n}\nexports.dispose = dispose;\n//# sourceMappingURL=winston.sub.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DEFAULT_BREEZE_ENDPOINT = \"https://dc.services.visualstudio.com\";\nexports.DEFAULT_LIVEMETRICS_ENDPOINT = \"https://rt.services.visualstudio.com\";\nexports.DEFAULT_LIVEMETRICS_HOST = \"rt.services.visualstudio.com\";\nvar QuickPulseCounter;\n(function (QuickPulseCounter) {\n    // Memory\n    QuickPulseCounter[\"COMMITTED_BYTES\"] = \"\\\\Memory\\\\Committed Bytes\";\n    // CPU\n    QuickPulseCounter[\"PROCESSOR_TIME\"] = \"\\\\Processor(_Total)\\\\% Processor Time\";\n    // Request\n    QuickPulseCounter[\"REQUEST_RATE\"] = \"\\\\ApplicationInsights\\\\Requests/Sec\";\n    QuickPulseCounter[\"REQUEST_FAILURE_RATE\"] = \"\\\\ApplicationInsights\\\\Requests Failed/Sec\";\n    QuickPulseCounter[\"REQUEST_DURATION\"] = \"\\\\ApplicationInsights\\\\Request Duration\";\n    // Dependency\n    QuickPulseCounter[\"DEPENDENCY_RATE\"] = \"\\\\ApplicationInsights\\\\Dependency Calls/Sec\";\n    QuickPulseCounter[\"DEPENDENCY_FAILURE_RATE\"] = \"\\\\ApplicationInsights\\\\Dependency Calls Failed/Sec\";\n    QuickPulseCounter[\"DEPENDENCY_DURATION\"] = \"\\\\ApplicationInsights\\\\Dependency Call Duration\";\n    // Exception\n    QuickPulseCounter[\"EXCEPTION_RATE\"] = \"\\\\ApplicationInsights\\\\Exceptions/Sec\";\n})(QuickPulseCounter = exports.QuickPulseCounter || (exports.QuickPulseCounter = {}));\nvar PerformanceCounter;\n(function (PerformanceCounter) {\n    // Memory\n    PerformanceCounter[\"PRIVATE_BYTES\"] = \"\\\\Process(??APP_WIN32_PROC??)\\\\Private Bytes\";\n    PerformanceCounter[\"AVAILABLE_BYTES\"] = \"\\\\Memory\\\\Available Bytes\";\n    // CPU\n    PerformanceCounter[\"PROCESSOR_TIME\"] = \"\\\\Processor(_Total)\\\\% Processor Time\";\n    PerformanceCounter[\"PROCESS_TIME\"] = \"\\\\Process(??APP_WIN32_PROC??)\\\\% Processor Time\";\n    // Requests\n    PerformanceCounter[\"REQUEST_RATE\"] = \"\\\\ASP.NET Applications(??APP_W3SVC_PROC??)\\\\Requests/Sec\";\n    PerformanceCounter[\"REQUEST_DURATION\"] = \"\\\\ASP.NET Applications(??APP_W3SVC_PROC??)\\\\Request Execution Time\";\n})(PerformanceCounter = exports.PerformanceCounter || (exports.PerformanceCounter = {}));\n;\n/**\n * Map a PerformanceCounter/QuickPulseCounter to a QuickPulseCounter. If no mapping exists, mapping is *undefined*\n */\nexports.PerformanceToQuickPulseCounter = (_a = {},\n    _a[PerformanceCounter.PROCESSOR_TIME] = QuickPulseCounter.PROCESSOR_TIME,\n    _a[PerformanceCounter.REQUEST_RATE] = QuickPulseCounter.REQUEST_RATE,\n    _a[PerformanceCounter.REQUEST_DURATION] = QuickPulseCounter.REQUEST_DURATION,\n    // Remap quick pulse only counters\n    _a[QuickPulseCounter.COMMITTED_BYTES] = QuickPulseCounter.COMMITTED_BYTES,\n    _a[QuickPulseCounter.REQUEST_FAILURE_RATE] = QuickPulseCounter.REQUEST_FAILURE_RATE,\n    _a[QuickPulseCounter.DEPENDENCY_RATE] = QuickPulseCounter.DEPENDENCY_RATE,\n    _a[QuickPulseCounter.DEPENDENCY_FAILURE_RATE] = QuickPulseCounter.DEPENDENCY_FAILURE_RATE,\n    _a[QuickPulseCounter.DEPENDENCY_DURATION] = QuickPulseCounter.DEPENDENCY_DURATION,\n    _a[QuickPulseCounter.EXCEPTION_RATE] = QuickPulseCounter.EXCEPTION_RATE,\n    _a);\nexports.QuickPulseDocumentType = {\n    Event: \"Event\",\n    Exception: \"Exception\",\n    Trace: \"Trace\",\n    Metric: \"Metric\",\n    Request: \"Request\",\n    Dependency: \"RemoteDependency\",\n    Availability: \"Availability\"\n};\nexports.QuickPulseType = {\n    Event: \"EventTelemetryDocument\",\n    Exception: \"ExceptionTelemetryDocument\",\n    Trace: \"TraceTelemetryDocument\",\n    Metric: \"MetricTelemetryDocument\",\n    Request: \"RequestTelemetryDocument\",\n    Dependency: \"DependencyTelemetryDocument\",\n    Availability: \"AvailabilityTelemetryDocument\"\n};\nexports.TelemetryTypeStringToQuickPulseType = {\n    EventData: exports.QuickPulseType.Event,\n    ExceptionData: exports.QuickPulseType.Exception,\n    MessageData: exports.QuickPulseType.Trace,\n    MetricData: exports.QuickPulseType.Metric,\n    RequestData: exports.QuickPulseType.Request,\n    RemoteDependencyData: exports.QuickPulseType.Dependency,\n    AvailabilityData: exports.QuickPulseType.Availability\n};\nexports.TelemetryTypeStringToQuickPulseDocumentType = {\n    EventData: exports.QuickPulseDocumentType.Event,\n    ExceptionData: exports.QuickPulseDocumentType.Exception,\n    MessageData: exports.QuickPulseDocumentType.Trace,\n    MetricData: exports.QuickPulseDocumentType.Metric,\n    RequestData: exports.QuickPulseDocumentType.Request,\n    RemoteDependencyData: exports.QuickPulseDocumentType.Dependency,\n    AvailabilityData: exports.QuickPulseDocumentType.Availability\n};\nvar _a;\n//# sourceMappingURL=Constants.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Generated_1 = require(\"./Generated\");\nvar RemoteDependencyDataConstants = (function () {\n    function RemoteDependencyDataConstants() {\n    }\n    RemoteDependencyDataConstants.TYPE_HTTP = \"Http\";\n    RemoteDependencyDataConstants.TYPE_AI = \"Http (tracked component)\";\n    return RemoteDependencyDataConstants;\n}());\nexports.RemoteDependencyDataConstants = RemoteDependencyDataConstants;\nfunction domainSupportsProperties(domain) {\n    return \"properties\" in domain ||\n        domain instanceof Generated_1.EventData ||\n        domain instanceof Generated_1.ExceptionData ||\n        domain instanceof Generated_1.MessageData ||\n        domain instanceof Generated_1.MetricData ||\n        domain instanceof Generated_1.PageViewData ||\n        domain instanceof Generated_1.RemoteDependencyData ||\n        domain instanceof Generated_1.RequestData;\n}\nexports.domainSupportsProperties = domainSupportsProperties;\n//# sourceMappingURL=Constants.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n// THIS FILE WAS AUTOGENERATED\nvar Domain = require(\"./Domain\");\n\"use strict\";\n/**\n * Instances of AvailabilityData represent the result of executing an availability test.\n */\nvar AvailabilityData = (function (_super) {\n    __extends(AvailabilityData, _super);\n    function AvailabilityData() {\n        var _this = _super.call(this) || this;\n        _this.ver = 2;\n        _this.properties = {};\n        _this.measurements = {};\n        return _this;\n    }\n    return AvailabilityData;\n}(Domain));\nmodule.exports = AvailabilityData;\n//# sourceMappingURL=AvailabilityData.js.map","// THIS FILE WAS AUTOGENERATED\n\"use strict\";\n/**\n * Data struct to contain only C section with custom fields.\n */\nvar Base = (function () {\n    function Base() {\n    }\n    return Base;\n}());\nmodule.exports = Base;\n//# sourceMappingURL=Base.js.map","// THIS FILE WAS AUTOGENERATED\n\"use strict\";\nvar ContextTagKeys = (function () {\n    function ContextTagKeys() {\n        this.applicationVersion = \"ai.application.ver\";\n        this.deviceId = \"ai.device.id\";\n        this.deviceLocale = \"ai.device.locale\";\n        this.deviceModel = \"ai.device.model\";\n        this.deviceOEMName = \"ai.device.oemName\";\n        this.deviceOSVersion = \"ai.device.osVersion\";\n        this.deviceType = \"ai.device.type\";\n        this.locationIp = \"ai.location.ip\";\n        this.operationId = \"ai.operation.id\";\n        this.operationName = \"ai.operation.name\";\n        this.operationParentId = \"ai.operation.parentId\";\n        this.operationSyntheticSource = \"ai.operation.syntheticSource\";\n        this.operationCorrelationVector = \"ai.operation.correlationVector\";\n        this.sessionId = \"ai.session.id\";\n        this.sessionIsFirst = \"ai.session.isFirst\";\n        this.userAccountId = \"ai.user.accountId\";\n        this.userId = \"ai.user.id\";\n        this.userAuthUserId = \"ai.user.authUserId\";\n        this.cloudRole = \"ai.cloud.role\";\n        this.cloudRoleInstance = \"ai.cloud.roleInstance\";\n        this.internalSdkVersion = \"ai.internal.sdkVersion\";\n        this.internalAgentVersion = \"ai.internal.agentVersion\";\n        this.internalNodeName = \"ai.internal.nodeName\";\n    }\n    return ContextTagKeys;\n}());\nmodule.exports = ContextTagKeys;\n//# sourceMappingURL=ContextTagKeys.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n// THIS FILE WAS AUTOGENERATED\nvar Base = require(\"./Base\");\n\"use strict\";\n/**\n * Data struct to contain both B and C sections.\n */\nvar Data = (function (_super) {\n    __extends(Data, _super);\n    function Data() {\n        return _super.call(this) || this;\n    }\n    return Data;\n}(Base));\nmodule.exports = Data;\n//# sourceMappingURL=Data.js.map","\"use strict\";\n// THIS FILE WAS AUTOGENERATED\nvar DataPointType = require(\"./DataPointType\");\n\"use strict\";\n/**\n * Metric data single measurement.\n */\nvar DataPoint = (function () {\n    function DataPoint() {\n        this.kind = DataPointType.Measurement;\n    }\n    return DataPoint;\n}());\nmodule.exports = DataPoint;\n//# sourceMappingURL=DataPoint.js.map","// THIS FILE WAS AUTOGENERATED\n\"use strict\";\n/**\n * Type of the metric data measurement.\n */\nvar DataPointType;\n(function (DataPointType) {\n    DataPointType[DataPointType[\"Measurement\"] = 0] = \"Measurement\";\n    DataPointType[DataPointType[\"Aggregation\"] = 1] = \"Aggregation\";\n})(DataPointType || (DataPointType = {}));\nmodule.exports = DataPointType;\n//# sourceMappingURL=DataPointType.js.map","// THIS FILE WAS AUTOGENERATED\n\"use strict\";\n/**\n * The abstract common base of all domains.\n */\nvar Domain = (function () {\n    function Domain() {\n    }\n    return Domain;\n}());\nmodule.exports = Domain;\n//# sourceMappingURL=Domain.js.map","\"use strict\";\n/**\n * System variables for a telemetry item.\n */\nvar Envelope = (function () {\n    function Envelope() {\n        this.ver = 1;\n        this.sampleRate = 100.0;\n        this.tags = {};\n    }\n    return Envelope;\n}());\nmodule.exports = Envelope;\n//# sourceMappingURL=Envelope.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n// THIS FILE WAS AUTOGENERATED\nvar Domain = require(\"./Domain\");\n\"use strict\";\n/**\n * Instances of Event represent structured event records that can be grouped and searched by their properties. Event data item also creates a metric of event count by name.\n */\nvar EventData = (function (_super) {\n    __extends(EventData, _super);\n    function EventData() {\n        var _this = _super.call(this) || this;\n        _this.ver = 2;\n        _this.properties = {};\n        _this.measurements = {};\n        return _this;\n    }\n    return EventData;\n}(Domain));\nmodule.exports = EventData;\n//# sourceMappingURL=EventData.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n// THIS FILE WAS AUTOGENERATED\nvar Domain = require(\"./Domain\");\n\"use strict\";\n/**\n * An instance of Exception represents a handled or unhandled exception that occurred during execution of the monitored application.\n */\nvar ExceptionData = (function (_super) {\n    __extends(ExceptionData, _super);\n    function ExceptionData() {\n        var _this = _super.call(this) || this;\n        _this.ver = 2;\n        _this.exceptions = [];\n        _this.properties = {};\n        _this.measurements = {};\n        return _this;\n    }\n    return ExceptionData;\n}(Domain));\nmodule.exports = ExceptionData;\n//# sourceMappingURL=ExceptionData.js.map","\"use strict\";\n/**\n * Exception details of the exception in a chain.\n */\nvar ExceptionDetails = (function () {\n    function ExceptionDetails() {\n        this.hasFullStack = true;\n        this.parsedStack = [];\n    }\n    return ExceptionDetails;\n}());\nmodule.exports = ExceptionDetails;\n//# sourceMappingURL=ExceptionDetails.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n// THIS FILE WAS AUTOGENERATED\nvar Domain = require(\"./Domain\");\n\"use strict\";\n/**\n * Instances of Message represent printf-like trace statements that are text-searched. Log4Net, NLog and other text-based log file entries are translated into intances of this type. The message does not have measurements.\n */\nvar MessageData = (function (_super) {\n    __extends(MessageData, _super);\n    function MessageData() {\n        var _this = _super.call(this) || this;\n        _this.ver = 2;\n        _this.properties = {};\n        return _this;\n    }\n    return MessageData;\n}(Domain));\nmodule.exports = MessageData;\n//# sourceMappingURL=MessageData.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n// THIS FILE WAS AUTOGENERATED\nvar Domain = require(\"./Domain\");\n\"use strict\";\n/**\n * An instance of the Metric item is a list of measurements (single data points) and/or aggregations.\n */\nvar MetricData = (function (_super) {\n    __extends(MetricData, _super);\n    function MetricData() {\n        var _this = _super.call(this) || this;\n        _this.ver = 2;\n        _this.metrics = [];\n        _this.properties = {};\n        return _this;\n    }\n    return MetricData;\n}(Domain));\nmodule.exports = MetricData;\n//# sourceMappingURL=MetricData.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n// THIS FILE WAS AUTOGENERATED\nvar EventData = require(\"./EventData\");\n\"use strict\";\n/**\n * An instance of PageView represents a generic action on a page like a button click. It is also the base type for PageView.\n */\nvar PageViewData = (function (_super) {\n    __extends(PageViewData, _super);\n    function PageViewData() {\n        var _this = _super.call(this) || this;\n        _this.ver = 2;\n        _this.properties = {};\n        _this.measurements = {};\n        return _this;\n    }\n    return PageViewData;\n}(EventData));\nmodule.exports = PageViewData;\n//# sourceMappingURL=PageViewData.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n// THIS FILE WAS AUTOGENERATED\nvar Domain = require(\"./Domain\");\n\"use strict\";\n/**\n * An instance of Remote Dependency represents an interaction of the monitored component with a remote component/service like SQL or an HTTP endpoint.\n */\nvar RemoteDependencyData = (function (_super) {\n    __extends(RemoteDependencyData, _super);\n    function RemoteDependencyData() {\n        var _this = _super.call(this) || this;\n        _this.ver = 2;\n        _this.success = true;\n        _this.properties = {};\n        _this.measurements = {};\n        return _this;\n    }\n    return RemoteDependencyData;\n}(Domain));\nmodule.exports = RemoteDependencyData;\n//# sourceMappingURL=RemoteDependencyData.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n// THIS FILE WAS AUTOGENERATED\nvar Domain = require(\"./Domain\");\n\"use strict\";\n/**\n * An instance of Request represents completion of an external request to the application to do work and contains a summary of that request execution and the results.\n */\nvar RequestData = (function (_super) {\n    __extends(RequestData, _super);\n    function RequestData() {\n        var _this = _super.call(this) || this;\n        _this.ver = 2;\n        _this.properties = {};\n        _this.measurements = {};\n        return _this;\n    }\n    return RequestData;\n}(Domain));\nmodule.exports = RequestData;\n//# sourceMappingURL=RequestData.js.map","// THIS FILE WAS AUTOGENERATED\n\"use strict\";\n/**\n * Defines the level of severity for the event.\n */\nvar SeverityLevel;\n(function (SeverityLevel) {\n    SeverityLevel[SeverityLevel[\"Verbose\"] = 0] = \"Verbose\";\n    SeverityLevel[SeverityLevel[\"Information\"] = 1] = \"Information\";\n    SeverityLevel[SeverityLevel[\"Warning\"] = 2] = \"Warning\";\n    SeverityLevel[SeverityLevel[\"Error\"] = 3] = \"Error\";\n    SeverityLevel[SeverityLevel[\"Critical\"] = 4] = \"Critical\";\n})(SeverityLevel || (SeverityLevel = {}));\nmodule.exports = SeverityLevel;\n//# sourceMappingURL=SeverityLevel.js.map","// THIS FILE WAS AUTOGENERATED\n\"use strict\";\n/**\n * Stack frame information.\n */\nvar StackFrame = (function () {\n    function StackFrame() {\n    }\n    return StackFrame;\n}());\nmodule.exports = StackFrame;\n//# sourceMappingURL=StackFrame.js.map","// THIS FILE WAS AUTOGENERATED\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AvailabilityData = require(\"./AvailabilityData\");\nexports.Base = require(\"./Base\");\nexports.ContextTagKeys = require(\"./ContextTagKeys\");\nexports.Data = require(\"./Data\");\nexports.DataPoint = require(\"./DataPoint\");\nexports.DataPointType = require(\"./DataPointType\");\nexports.Domain = require(\"./Domain\");\nexports.Envelope = require(\"./Envelope\");\nexports.EventData = require(\"./EventData\");\nexports.ExceptionData = require(\"./ExceptionData\");\nexports.ExceptionDetails = require(\"./ExceptionDetails\");\nexports.MessageData = require(\"./MessageData\");\nexports.MetricData = require(\"./MetricData\");\nexports.PageViewData = require(\"./PageViewData\");\nexports.RemoteDependencyData = require(\"./RemoteDependencyData\");\nexports.RequestData = require(\"./RequestData\");\nexports.SeverityLevel = require(\"./SeverityLevel\");\nexports.StackFrame = require(\"./StackFrame\");\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Converts the user-friendly enumeration TelemetryType to the underlying schema baseType value\n * @param type Type to convert to BaseData string\n */\nfunction telemetryTypeToBaseType(type) {\n    switch (type) {\n        case TelemetryType.Event:\n            return \"EventData\";\n        case TelemetryType.Exception:\n            return \"ExceptionData\";\n        case TelemetryType.Trace:\n            return \"MessageData\";\n        case TelemetryType.Metric:\n            return \"MetricData\";\n        case TelemetryType.Request:\n            return \"RequestData\";\n        case TelemetryType.Dependency:\n            return \"RemoteDependencyData\";\n        case TelemetryType.Availability:\n            return \"AvailabilityData\";\n    }\n    return undefined;\n}\nexports.telemetryTypeToBaseType = telemetryTypeToBaseType;\n/**\n * Converts the schema baseType value to the user-friendly enumeration TelemetryType\n * @param baseType BaseData string to convert to TelemetryType\n */\nfunction baseTypeToTelemetryType(baseType) {\n    switch (baseType) {\n        case \"EventData\":\n            return TelemetryType.Event;\n        case \"ExceptionData\":\n            return TelemetryType.Exception;\n        case \"MessageData\":\n            return TelemetryType.Trace;\n        case \"MetricData\":\n            return TelemetryType.Metric;\n        case \"RequestData\":\n            return TelemetryType.Request;\n        case \"RemoteDependencyData\":\n            return TelemetryType.Dependency;\n        case \"AvailabilityData\":\n            return TelemetryType.Availability;\n    }\n    return undefined;\n}\nexports.baseTypeToTelemetryType = baseTypeToTelemetryType;\nexports.TelemetryTypeString = {\n    Event: \"EventData\",\n    Exception: \"ExceptionData\",\n    Trace: \"MessageData\",\n    Metric: \"MetricData\",\n    Request: \"RequestData\",\n    Dependency: \"RemoteDependencyData\",\n    Availability: \"AvailabilityData\"\n};\n/**\n * Telemetry types supported by this SDK\n */\nvar TelemetryType;\n(function (TelemetryType) {\n    TelemetryType[TelemetryType[\"Event\"] = 0] = \"Event\";\n    TelemetryType[TelemetryType[\"Exception\"] = 1] = \"Exception\";\n    TelemetryType[TelemetryType[\"Trace\"] = 2] = \"Trace\";\n    TelemetryType[TelemetryType[\"Metric\"] = 3] = \"Metric\";\n    TelemetryType[TelemetryType[\"Request\"] = 4] = \"Request\";\n    TelemetryType[TelemetryType[\"Dependency\"] = 5] = \"Dependency\";\n    TelemetryType[TelemetryType[\"Availability\"] = 6] = \"Availability\";\n})(TelemetryType = exports.TelemetryType || (exports.TelemetryType = {}));\n//# sourceMappingURL=TelemetryType.js.map","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./TelemetryType\"));\n//# sourceMappingURL=index.js.map","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./Constants\"));\n__export(require(\"./Generated\"));\n__export(require(\"./TelemetryTypes\"));\n//# sourceMappingURL=index.js.map","\"use strict\";\nvar Logging = require(\"./Logging\");\nvar Channel = (function () {\n    function Channel(isDisabled, getBatchSize, getBatchIntervalMs, sender) {\n        this._buffer = [];\n        this._lastSend = 0;\n        this._isDisabled = isDisabled;\n        this._getBatchSize = getBatchSize;\n        this._getBatchIntervalMs = getBatchIntervalMs;\n        this._sender = sender;\n    }\n    /**\n     * Enable or disable disk-backed retry caching to cache events when client is offline (enabled by default)\n     * These cached events are stored in your system or user's temporary directory and access restricted to your user when possible.\n     * @param value if true events that occured while client is offline will be cached on disk\n     * @param resendInterval The wait interval for resending cached events.\n     * @param maxBytesOnDisk The maximum size (in bytes) that the created temporary directory for cache events can grow to, before caching is disabled.\n     * @returns {Configuration} this class\n     */\n    Channel.prototype.setUseDiskRetryCaching = function (value, resendInterval, maxBytesOnDisk) {\n        this._sender.setDiskRetryMode(value, resendInterval, maxBytesOnDisk);\n    };\n    /**\n     * Add a telemetry item to the send buffer\n     */\n    Channel.prototype.send = function (envelope) {\n        var _this = this;\n        // if master off switch is set, don't send any data\n        if (this._isDisabled()) {\n            // Do not send/save data\n            return;\n        }\n        // validate input\n        if (!envelope) {\n            Logging.warn(\"Cannot send null/undefined telemetry\");\n            return;\n        }\n        // check if the incoming payload is too large, truncate if necessary\n        var payload = this._stringify(envelope);\n        if (typeof payload !== \"string\") {\n            return;\n        }\n        // enqueue the payload\n        this._buffer.push(payload);\n        // flush if we would exceed the max-size limit by adding this item\n        if (this._buffer.length >= this._getBatchSize()) {\n            this.triggerSend(false);\n            return;\n        }\n        // ensure an invocation timeout is set if anything is in the buffer\n        if (!this._timeoutHandle && this._buffer.length > 0) {\n            this._timeoutHandle = setTimeout(function () {\n                _this._timeoutHandle = null;\n                _this.triggerSend(false);\n            }, this._getBatchIntervalMs());\n        }\n    };\n    /**\n     * Immediately send buffered data\n     */\n    Channel.prototype.triggerSend = function (isNodeCrashing, callback) {\n        var bufferIsEmpty = this._buffer.length < 1;\n        if (!bufferIsEmpty) {\n            // compose an array of payloads\n            var batch = this._buffer.join(\"\\n\");\n            // invoke send\n            if (isNodeCrashing) {\n                this._sender.saveOnCrash(batch);\n                if (typeof callback === \"function\") {\n                    callback(\"data saved on crash\");\n                }\n            }\n            else {\n                this._sender.send(Buffer.from ? Buffer.from(batch) : new Buffer(batch), callback);\n            }\n        }\n        // update lastSend time to enable throttling\n        this._lastSend = +new Date;\n        // clear buffer\n        this._buffer.length = 0;\n        clearTimeout(this._timeoutHandle);\n        this._timeoutHandle = null;\n        if (bufferIsEmpty && typeof callback === \"function\") {\n            callback(\"no data to send\");\n        }\n    };\n    Channel.prototype._stringify = function (envelope) {\n        try {\n            return JSON.stringify(envelope);\n        }\n        catch (error) {\n            Logging.warn(\"Failed to serialize payload\", error, envelope);\n        }\n    };\n    return Channel;\n}());\nmodule.exports = Channel;\n//# sourceMappingURL=Channel.js.map","\"use strict\";\nvar CorrelationIdManager = require(\"./CorrelationIdManager\");\nvar ConnectionStringParser = require(\"./ConnectionStringParser\");\nvar Constants = require(\"../Declarations/Constants\");\nvar url = require(\"url\");\nvar Config = (function () {\n    function Config(setupString) {\n        var _this = this;\n        this.endpointBase = Constants.DEFAULT_BREEZE_ENDPOINT;\n        var connectionStringEnv = process.env[Config.ENV_connectionString];\n        var csCode = ConnectionStringParser.parse(setupString);\n        var csEnv = ConnectionStringParser.parse(connectionStringEnv);\n        var iKeyCode = !csCode.instrumentationkey && Object.keys(csCode).length > 0\n            ? null // CS was valid but instrumentation key was not provided, null and grab from env var\n            : setupString; // CS was invalid, so it must be an ikey\n        this.instrumentationKey = csCode.instrumentationkey || iKeyCode /* === instrumentationKey */ || csEnv.instrumentationkey || Config._getInstrumentationKey();\n        this.endpointUrl = (csCode.ingestionendpoint || csEnv.ingestionendpoint || this.endpointBase) + \"/v2/track\";\n        this.maxBatchSize = 250;\n        this.maxBatchIntervalMs = 15000;\n        this.disableAppInsights = false;\n        this.samplingPercentage = 100;\n        this.correlationIdRetryIntervalMs = 30 * 1000;\n        this.correlationHeaderExcludedDomains = [\n            \"*.core.windows.net\",\n            \"*.core.chinacloudapi.cn\",\n            \"*.core.cloudapi.de\",\n            \"*.core.usgovcloudapi.net\",\n            \"*.core.microsoft.scloud\",\n            \"*.core.eaglex.ic.gov\"\n        ];\n        this.setCorrelationId = function (correlationId) { return _this.correlationId = correlationId; };\n        this.proxyHttpUrl = process.env[Config.ENV_http_proxy] || undefined;\n        this.proxyHttpsUrl = process.env[Config.ENV_https_proxy] || undefined;\n        this.httpAgent = undefined;\n        this.httpsAgent = undefined;\n        this.profileQueryEndpoint = csCode.ingestionendpoint || csEnv.ingestionendpoint || process.env[Config.ENV_profileQueryEndpoint] || this.endpointBase;\n        this._quickPulseHost = csCode.liveendpoint || csEnv.liveendpoint || process.env[Config.ENV_quickPulseHost] || Constants.DEFAULT_LIVEMETRICS_HOST;\n        // Parse quickPulseHost if it startswith http(s)://\n        if (this._quickPulseHost.match(/^https?:\\/\\//)) {\n            this._quickPulseHost = url.parse(this._quickPulseHost).host;\n        }\n    }\n    Object.defineProperty(Config.prototype, \"profileQueryEndpoint\", {\n        get: function () {\n            return this._profileQueryEndpoint;\n        },\n        set: function (endpoint) {\n            CorrelationIdManager.cancelCorrelationIdQuery(this, this.setCorrelationId);\n            this._profileQueryEndpoint = endpoint;\n            this.correlationId = CorrelationIdManager.correlationIdPrefix; // Reset the correlationId while we wait for the new query\n            CorrelationIdManager.queryCorrelationId(this, this.setCorrelationId);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Config.prototype, \"quickPulseHost\", {\n        get: function () {\n            return this._quickPulseHost;\n        },\n        set: function (host) {\n            this._quickPulseHost = host;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Config._getInstrumentationKey = function () {\n        // check for both the documented env variable and the azure-prefixed variable\n        var iKey = process.env[Config.ENV_iKey]\n            || process.env[Config.ENV_azurePrefix + Config.ENV_iKey]\n            || process.env[Config.legacy_ENV_iKey]\n            || process.env[Config.ENV_azurePrefix + Config.legacy_ENV_iKey];\n        if (!iKey || iKey == \"\") {\n            throw new Error(\"Instrumentation key not found, pass the key in the config to this method or set the key in the environment variable APPINSIGHTS_INSTRUMENTATIONKEY before starting the server\");\n        }\n        return iKey;\n    };\n    // Azure adds this prefix to all environment variables\n    Config.ENV_azurePrefix = \"APPSETTING_\";\n    // This key is provided in the readme\n    Config.ENV_iKey = \"APPINSIGHTS_INSTRUMENTATIONKEY\";\n    Config.legacy_ENV_iKey = \"APPINSIGHTS_INSTRUMENTATION_KEY\";\n    Config.ENV_profileQueryEndpoint = \"APPINSIGHTS_PROFILE_QUERY_ENDPOINT\";\n    Config.ENV_quickPulseHost = \"APPINSIGHTS_QUICKPULSE_HOST\";\n    // Azure Connection String\n    Config.ENV_connectionString = \"APPLICATIONINSIGHTS_CONNECTION_STRING\";\n    // Native Metrics Opt Outs\n    Config.ENV_nativeMetricsDisablers = \"APPLICATION_INSIGHTS_DISABLE_EXTENDED_METRIC\";\n    Config.ENV_nativeMetricsDisableAll = \"APPLICATION_INSIGHTS_DISABLE_ALL_EXTENDED_METRICS\";\n    Config.ENV_http_proxy = \"http_proxy\";\n    Config.ENV_https_proxy = \"https_proxy\";\n    return Config;\n}());\nmodule.exports = Config;\n//# sourceMappingURL=Config.js.map","\"use strict\";\nvar Constants = require(\"../Declarations/Constants\");\nvar ConnectionStringParser = (function () {\n    function ConnectionStringParser() {\n    }\n    ConnectionStringParser.parse = function (connectionString) {\n        if (!connectionString) {\n            return {};\n        }\n        var kvPairs = connectionString.split(ConnectionStringParser._FIELDS_SEPARATOR);\n        var result = kvPairs.reduce(function (fields, kv) {\n            var kvParts = kv.split(ConnectionStringParser._FIELD_KEY_VALUE_SEPARATOR);\n            if (kvParts.length === 2) {\n                var key = kvParts[0].toLowerCase();\n                var value = kvParts[1];\n                fields[key] = value;\n            }\n            return fields;\n        }, {});\n        if (Object.keys(result).length > 0) {\n            // this is a valid connection string, so parse the results\n            if (result.endpointsuffix) {\n                // use endpoint suffix where overrides are not provided\n                var locationPrefix = result.location ? result.location + \".\" : \"\";\n                result.ingestionendpoint = result.ingestionendpoint || (\"https://\" + locationPrefix + \"dc.\" + result.endpointsuffix);\n                result.liveendpoint = result.liveendpoint || (\"https://\" + locationPrefix + \"live.\" + result.endpointsuffix);\n            }\n            // apply the default endpoints\n            result.ingestionendpoint = result.ingestionendpoint || Constants.DEFAULT_BREEZE_ENDPOINT;\n            result.liveendpoint = result.liveendpoint || Constants.DEFAULT_LIVEMETRICS_ENDPOINT;\n        }\n        return result;\n    };\n    ConnectionStringParser._FIELDS_SEPARATOR = \";\";\n    ConnectionStringParser._FIELD_KEY_VALUE_SEPARATOR = \"=\";\n    return ConnectionStringParser;\n}());\nmodule.exports = ConnectionStringParser;\n//# sourceMappingURL=ConnectionStringParser.js.map","\"use strict\";\nvar os = require(\"os\");\nvar fs = require(\"fs\");\nvar path = require(\"path\");\nvar Contracts = require(\"../Declarations/Contracts\");\nvar Logging = require(\"./Logging\");\nvar Context = (function () {\n    function Context(packageJsonPath) {\n        this.keys = new Contracts.ContextTagKeys();\n        this.tags = {};\n        this._loadApplicationContext();\n        this._loadDeviceContext();\n        this._loadInternalContext();\n    }\n    Context.prototype._loadApplicationContext = function (packageJsonPath) {\n        // note: this should return the host package.json\n        packageJsonPath = packageJsonPath || path.resolve(__dirname, \"../../../../package.json\");\n        if (!Context.appVersion[packageJsonPath]) {\n            Context.appVersion[packageJsonPath] = \"unknown\";\n            try {\n                var packageJson = JSON.parse(fs.readFileSync(packageJsonPath, \"utf8\"));\n                if (packageJson && typeof packageJson.version === \"string\") {\n                    Context.appVersion[packageJsonPath] = packageJson.version;\n                }\n            }\n            catch (exception) {\n                Logging.info(\"unable to read app version: \", exception);\n            }\n        }\n        this.tags[this.keys.applicationVersion] = Context.appVersion[packageJsonPath];\n    };\n    Context.prototype._loadDeviceContext = function () {\n        this.tags[this.keys.deviceId] = \"\";\n        this.tags[this.keys.cloudRoleInstance] = os && os.hostname();\n        this.tags[this.keys.deviceOSVersion] = os && (os.type() + \" \" + os.release());\n        this.tags[this.keys.cloudRole] = Context.DefaultRoleName;\n        // not yet supported tags\n        this.tags[\"ai.device.osArchitecture\"] = os && os.arch();\n        this.tags[\"ai.device.osPlatform\"] = os && os.platform();\n    };\n    Context.prototype._loadInternalContext = function () {\n        // note: this should return the sdk package.json\n        var packageJsonPath = path.resolve(__dirname, \"../../package.json\");\n        if (!Context.sdkVersion) {\n            Context.sdkVersion = \"unknown\";\n            try {\n                var packageJson = JSON.parse(fs.readFileSync(packageJsonPath, \"utf8\"));\n                if (packageJson && typeof packageJson.version === \"string\") {\n                    Context.sdkVersion = packageJson.version;\n                }\n            }\n            catch (exception) {\n                Logging.info(\"unable to read app version: \", exception);\n            }\n        }\n        this.tags[this.keys.internalSdkVersion] = \"node:\" + Context.sdkVersion;\n    };\n    Context.DefaultRoleName = \"Web\";\n    Context.appVersion = {};\n    Context.sdkVersion = null;\n    return Context;\n}());\nmodule.exports = Context;\n//# sourceMappingURL=Context.js.map","\"use strict\";\nvar Util = require(\"./Util\");\nvar Logging = require(\"./Logging\");\nvar CorrelationIdManager = (function () {\n    function CorrelationIdManager() {\n    }\n    CorrelationIdManager.queryCorrelationId = function (config, callback) {\n        // GET request to `${this.endpointBase}/api/profiles/${this.instrumentationKey}/appId`\n        // If it 404s, the iKey is bad and we should give up\n        // If it fails otherwise, try again later\n        var appIdUrlString = config.profileQueryEndpoint + \"/api/profiles/\" + config.instrumentationKey + \"/appId\";\n        if (CorrelationIdManager.completedLookups.hasOwnProperty(appIdUrlString)) {\n            callback(CorrelationIdManager.completedLookups[appIdUrlString]);\n            return;\n        }\n        else if (CorrelationIdManager.pendingLookups[appIdUrlString]) {\n            CorrelationIdManager.pendingLookups[appIdUrlString].push(callback);\n            return;\n        }\n        CorrelationIdManager.pendingLookups[appIdUrlString] = [callback];\n        var fetchAppId = function () {\n            if (!CorrelationIdManager.pendingLookups[appIdUrlString]) {\n                // This query has been cancelled.\n                return;\n            }\n            var requestOptions = {\n                method: 'GET',\n                // Ensure this request is not captured by auto-collection.\n                // Note: we don't refer to the property in HttpDependencyParser because that would cause a cyclical dependency\n                disableAppInsightsAutoCollection: true\n            };\n            Logging.info(CorrelationIdManager.TAG, requestOptions);\n            var req = Util.makeRequest(config, appIdUrlString, requestOptions, function (res) {\n                if (res.statusCode === 200) {\n                    // Success; extract the appId from the body\n                    var appId_1 = \"\";\n                    res.setEncoding(\"utf-8\");\n                    res.on('data', function (data) {\n                        appId_1 += data;\n                    });\n                    res.on('end', function () {\n                        Logging.info(CorrelationIdManager.TAG, appId_1);\n                        var result = CorrelationIdManager.correlationIdPrefix + appId_1;\n                        CorrelationIdManager.completedLookups[appIdUrlString] = result;\n                        if (CorrelationIdManager.pendingLookups[appIdUrlString]) {\n                            CorrelationIdManager.pendingLookups[appIdUrlString].forEach(function (cb) { return cb(result); });\n                        }\n                        delete CorrelationIdManager.pendingLookups[appIdUrlString];\n                    });\n                }\n                else if (res.statusCode >= 400 && res.statusCode < 500) {\n                    // Not found, probably a bad key. Do not try again.\n                    CorrelationIdManager.completedLookups[appIdUrlString] = undefined;\n                    delete CorrelationIdManager.pendingLookups[appIdUrlString];\n                }\n                else {\n                    // Retry after timeout.\n                    setTimeout(fetchAppId, config.correlationIdRetryIntervalMs);\n                }\n            });\n            if (req) {\n                req.on('error', function (error) {\n                    // Unable to contact endpoint.\n                    // Do nothing for now.\n                    Logging.warn(CorrelationIdManager.TAG, error);\n                });\n                req.end();\n            }\n        };\n        setTimeout(fetchAppId, 0);\n    };\n    CorrelationIdManager.cancelCorrelationIdQuery = function (config, callback) {\n        var appIdUrlString = config.profileQueryEndpoint + \"/api/profiles/\" + config.instrumentationKey + \"/appId\";\n        var pendingLookups = CorrelationIdManager.pendingLookups[appIdUrlString];\n        if (pendingLookups) {\n            CorrelationIdManager.pendingLookups[appIdUrlString] = pendingLookups.filter(function (cb) { return cb != callback; });\n            if (CorrelationIdManager.pendingLookups[appIdUrlString].length == 0) {\n                delete CorrelationIdManager.pendingLookups[appIdUrlString];\n            }\n        }\n    };\n    /**\n     * Generate a request Id according to https://github.com/lmolkova/correlation/blob/master/hierarchical_request_id.md\n     * @param parentId\n     */\n    CorrelationIdManager.generateRequestId = function (parentId) {\n        if (parentId) {\n            parentId = parentId[0] == '|' ? parentId : '|' + parentId;\n            if (parentId[parentId.length - 1] !== '.') {\n                parentId += '.';\n            }\n            var suffix = (CorrelationIdManager.currentRootId++).toString(16);\n            return CorrelationIdManager.appendSuffix(parentId, suffix, '_');\n        }\n        else {\n            return CorrelationIdManager.generateRootId();\n        }\n    };\n    /**\n     * Given a hierarchical identifier of the form |X.*\n     * return the root identifier X\n     * @param id\n     */\n    CorrelationIdManager.getRootId = function (id) {\n        var endIndex = id.indexOf('.');\n        if (endIndex < 0) {\n            endIndex = id.length;\n        }\n        var startIndex = id[0] === '|' ? 1 : 0;\n        return id.substring(startIndex, endIndex);\n    };\n    CorrelationIdManager.generateRootId = function () {\n        return '|' + Util.w3cTraceId() + '.';\n    };\n    CorrelationIdManager.appendSuffix = function (parentId, suffix, delimiter) {\n        if (parentId.length + suffix.length < CorrelationIdManager.requestIdMaxLength) {\n            return parentId + suffix + delimiter;\n        }\n        // Combined identifier would be too long, so we must truncate it.\n        // We need 9 characters of space: 8 for the overflow ID, 1 for the\n        // overflow delimiter '#'\n        var trimPosition = CorrelationIdManager.requestIdMaxLength - 9;\n        if (parentId.length > trimPosition) {\n            for (; trimPosition > 1; --trimPosition) {\n                var c = parentId[trimPosition - 1];\n                if (c === '.' || c === '_') {\n                    break;\n                }\n            }\n        }\n        if (trimPosition <= 1) {\n            // parentId is not a valid ID\n            return CorrelationIdManager.generateRootId();\n        }\n        suffix = Util.randomu32().toString(16);\n        while (suffix.length < 8) {\n            suffix = '0' + suffix;\n        }\n        return parentId.substring(0, trimPosition) + suffix + '#';\n    };\n    CorrelationIdManager.TAG = \"CorrelationIdManager\";\n    CorrelationIdManager.correlationIdPrefix = \"cid-v1:\";\n    CorrelationIdManager.w3cEnabled = false;\n    // To avoid extraneous HTTP requests, we maintain a queue of callbacks waiting on a particular appId lookup,\n    // as well as a cache of completed lookups so future requests can be resolved immediately.\n    CorrelationIdManager.pendingLookups = {};\n    CorrelationIdManager.completedLookups = {};\n    CorrelationIdManager.requestIdMaxLength = 1024;\n    CorrelationIdManager.currentRootId = Util.randomu32();\n    return CorrelationIdManager;\n}());\nmodule.exports = CorrelationIdManager;\n//# sourceMappingURL=CorrelationIdManager.js.map","\"use strict\";\nvar Contracts = require(\"../Declarations/Contracts\");\nvar Util = require(\"./Util\");\nvar CorrelationContextManager_1 = require(\"../AutoCollection/CorrelationContextManager\");\n/**\n * Manages the logic of creating envelopes from Telemetry objects\n */\nvar EnvelopeFactory = (function () {\n    function EnvelopeFactory() {\n    }\n    /**\n     * Creates envelope ready to be sent by Channel\n     * @param telemetry Telemetry data\n     * @param telemetryType Type of telemetry\n     * @param commonProperties Bag of custom common properties to be added to the envelope\n     * @param context Client context\n     * @param config Client configuration\n     */\n    EnvelopeFactory.createEnvelope = function (telemetry, telemetryType, commonProperties, context, config) {\n        var data = null;\n        switch (telemetryType) {\n            case Contracts.TelemetryType.Trace:\n                data = EnvelopeFactory.createTraceData(telemetry);\n                break;\n            case Contracts.TelemetryType.Dependency:\n                data = EnvelopeFactory.createDependencyData(telemetry);\n                break;\n            case Contracts.TelemetryType.Event:\n                data = EnvelopeFactory.createEventData(telemetry);\n                break;\n            case Contracts.TelemetryType.Exception:\n                data = EnvelopeFactory.createExceptionData(telemetry);\n                break;\n            case Contracts.TelemetryType.Request:\n                data = EnvelopeFactory.createRequestData(telemetry);\n                break;\n            case Contracts.TelemetryType.Metric:\n                data = EnvelopeFactory.createMetricData(telemetry);\n                break;\n            case Contracts.TelemetryType.Availability:\n                data = EnvelopeFactory.createAvailabilityData(telemetry);\n                break;\n        }\n        if (commonProperties && Contracts.domainSupportsProperties(data.baseData)) {\n            if (data && data.baseData) {\n                // if no properties are specified just add the common ones\n                if (!data.baseData.properties) {\n                    data.baseData.properties = commonProperties;\n                }\n                else {\n                    // otherwise, check each of the common ones\n                    for (var name in commonProperties) {\n                        // only override if the property `name` has not been set on this item\n                        if (!data.baseData.properties[name]) {\n                            data.baseData.properties[name] = commonProperties[name];\n                        }\n                    }\n                }\n            }\n            // sanitize properties\n            data.baseData.properties = Util.validateStringMap(data.baseData.properties);\n        }\n        var iKey = config ? config.instrumentationKey || \"\" : \"\";\n        var envelope = new Contracts.Envelope();\n        envelope.data = data;\n        envelope.iKey = iKey;\n        // this is kind of a hack, but the envelope name is always the same as the data name sans the chars \"data\"\n        envelope.name =\n            \"Microsoft.ApplicationInsights.\" +\n                iKey.replace(/-/g, \"\") +\n                \".\" +\n                data.baseType.substr(0, data.baseType.length - 4);\n        envelope.tags = this.getTags(context, telemetry.tagOverrides);\n        envelope.time = (new Date()).toISOString();\n        envelope.ver = 1;\n        envelope.sampleRate = config ? config.samplingPercentage : 100;\n        // Exclude metrics from sampling by default\n        if (telemetryType === Contracts.TelemetryType.Metric) {\n            envelope.sampleRate = 100;\n        }\n        return envelope;\n    };\n    EnvelopeFactory.createTraceData = function (telemetry) {\n        var trace = new Contracts.MessageData();\n        trace.message = telemetry.message;\n        trace.properties = telemetry.properties;\n        if (!isNaN(telemetry.severity)) {\n            trace.severityLevel = telemetry.severity;\n        }\n        else {\n            trace.severityLevel = Contracts.SeverityLevel.Information;\n        }\n        var data = new Contracts.Data();\n        data.baseType = Contracts.telemetryTypeToBaseType(Contracts.TelemetryType.Trace);\n        data.baseData = trace;\n        return data;\n    };\n    EnvelopeFactory.createDependencyData = function (telemetry) {\n        var remoteDependency = new Contracts.RemoteDependencyData();\n        if (typeof telemetry.name === \"string\") {\n            remoteDependency.name = telemetry.name.length > 1024 ? telemetry.name.slice(0, 1021) + '...' : telemetry.name;\n        }\n        remoteDependency.data = telemetry.data;\n        remoteDependency.target = telemetry.target;\n        remoteDependency.duration = Util.msToTimeSpan(telemetry.duration);\n        remoteDependency.success = telemetry.success;\n        remoteDependency.type = telemetry.dependencyTypeName;\n        remoteDependency.properties = telemetry.properties;\n        remoteDependency.resultCode = (telemetry.resultCode ? telemetry.resultCode + '' : '');\n        if (telemetry.id) {\n            remoteDependency.id = telemetry.id;\n        }\n        else {\n            remoteDependency.id = Util.w3cTraceId();\n        }\n        var data = new Contracts.Data();\n        data.baseType = Contracts.telemetryTypeToBaseType(Contracts.TelemetryType.Dependency);\n        data.baseData = remoteDependency;\n        return data;\n    };\n    EnvelopeFactory.createEventData = function (telemetry) {\n        var event = new Contracts.EventData();\n        event.name = telemetry.name;\n        event.properties = telemetry.properties;\n        event.measurements = telemetry.measurements;\n        var data = new Contracts.Data();\n        data.baseType = Contracts.telemetryTypeToBaseType(Contracts.TelemetryType.Event);\n        data.baseData = event;\n        return data;\n    };\n    EnvelopeFactory.createExceptionData = function (telemetry) {\n        var exception = new Contracts.ExceptionData();\n        exception.properties = telemetry.properties;\n        if (!isNaN(telemetry.severity)) {\n            exception.severityLevel = telemetry.severity;\n        }\n        else {\n            exception.severityLevel = Contracts.SeverityLevel.Error;\n        }\n        exception.measurements = telemetry.measurements;\n        exception.exceptions = [];\n        var stack = telemetry.exception[\"stack\"];\n        var exceptionDetails = new Contracts.ExceptionDetails();\n        exceptionDetails.message = telemetry.exception.message;\n        exceptionDetails.typeName = telemetry.exception.name;\n        exceptionDetails.parsedStack = this.parseStack(stack);\n        exceptionDetails.hasFullStack = Util.isArray(exceptionDetails.parsedStack) && exceptionDetails.parsedStack.length > 0;\n        exception.exceptions.push(exceptionDetails);\n        var data = new Contracts.Data();\n        data.baseType = Contracts.telemetryTypeToBaseType(Contracts.TelemetryType.Exception);\n        data.baseData = exception;\n        return data;\n    };\n    EnvelopeFactory.createRequestData = function (telemetry) {\n        var requestData = new Contracts.RequestData();\n        if (telemetry.id) {\n            requestData.id = telemetry.id;\n        }\n        else {\n            requestData.id = Util.w3cTraceId();\n        }\n        requestData.name = telemetry.name;\n        requestData.url = telemetry.url;\n        requestData.source = telemetry.source;\n        requestData.duration = Util.msToTimeSpan(telemetry.duration);\n        requestData.responseCode = (telemetry.resultCode ? telemetry.resultCode + '' : '');\n        requestData.success = telemetry.success;\n        requestData.properties = telemetry.properties;\n        var data = new Contracts.Data();\n        data.baseType = Contracts.telemetryTypeToBaseType(Contracts.TelemetryType.Request);\n        data.baseData = requestData;\n        return data;\n    };\n    EnvelopeFactory.createMetricData = function (telemetry) {\n        var metrics = new Contracts.MetricData(); // todo: enable client-batching of these\n        metrics.metrics = [];\n        var metric = new Contracts.DataPoint();\n        metric.count = !isNaN(telemetry.count) ? telemetry.count : 1;\n        metric.kind = Contracts.DataPointType.Aggregation;\n        metric.max = !isNaN(telemetry.max) ? telemetry.max : telemetry.value;\n        metric.min = !isNaN(telemetry.min) ? telemetry.min : telemetry.value;\n        metric.name = telemetry.name;\n        metric.stdDev = !isNaN(telemetry.stdDev) ? telemetry.stdDev : 0;\n        metric.value = telemetry.value;\n        metrics.metrics.push(metric);\n        metrics.properties = telemetry.properties;\n        var data = new Contracts.Data();\n        data.baseType = Contracts.telemetryTypeToBaseType(Contracts.TelemetryType.Metric);\n        data.baseData = metrics;\n        return data;\n    };\n    EnvelopeFactory.createAvailabilityData = function (telemetry) {\n        var availabilityData = new Contracts.AvailabilityData();\n        if (telemetry.id) {\n            availabilityData.id = telemetry.id;\n        }\n        else {\n            availabilityData.id = Util.w3cTraceId();\n        }\n        availabilityData.name = telemetry.name;\n        availabilityData.duration = Util.msToTimeSpan(telemetry.duration);\n        availabilityData.success = telemetry.success;\n        availabilityData.runLocation = telemetry.runLocation;\n        availabilityData.message = telemetry.message;\n        availabilityData.measurements = telemetry.measurements;\n        availabilityData.properties = telemetry.properties;\n        var data = new Contracts.Data();\n        data.baseType = Contracts.telemetryTypeToBaseType(Contracts.TelemetryType.Availability);\n        data.baseData = availabilityData;\n        return data;\n    };\n    EnvelopeFactory.getTags = function (context, tagOverrides) {\n        var correlationContext = CorrelationContextManager_1.CorrelationContextManager.getCurrentContext();\n        // Make a copy of context tags so we don't alter the actual object\n        // Also perform tag overriding\n        var newTags = {};\n        if (context && context.tags) {\n            for (var key in context.tags) {\n                newTags[key] = context.tags[key];\n            }\n        }\n        if (tagOverrides) {\n            for (var key in tagOverrides) {\n                newTags[key] = tagOverrides[key];\n            }\n        }\n        // Fill in internally-populated values if not already set\n        if (correlationContext) {\n            newTags[context.keys.operationId] = newTags[context.keys.operationId] || correlationContext.operation.id;\n            newTags[context.keys.operationName] = newTags[context.keys.operationName] || correlationContext.operation.name;\n            newTags[context.keys.operationParentId] = newTags[context.keys.operationParentId] || correlationContext.operation.parentId;\n        }\n        return newTags;\n    };\n    EnvelopeFactory.parseStack = function (stack) {\n        var parsedStack = undefined;\n        if (typeof stack === \"string\") {\n            var frames = stack.split(\"\\n\");\n            parsedStack = [];\n            var level = 0;\n            var totalSizeInBytes = 0;\n            for (var i = 0; i <= frames.length; i++) {\n                var frame = frames[i];\n                if (_StackFrame.regex.test(frame)) {\n                    var parsedFrame = new _StackFrame(frames[i], level++);\n                    totalSizeInBytes += parsedFrame.sizeInBytes;\n                    parsedStack.push(parsedFrame);\n                }\n            }\n            // DP Constraint - exception parsed stack must be < 32KB\n            // remove frames from the middle to meet the threshold\n            var exceptionParsedStackThreshold = 32 * 1024;\n            if (totalSizeInBytes > exceptionParsedStackThreshold) {\n                var left = 0;\n                var right = parsedStack.length - 1;\n                var size = 0;\n                var acceptedLeft = left;\n                var acceptedRight = right;\n                while (left < right) {\n                    // check size\n                    var lSize = parsedStack[left].sizeInBytes;\n                    var rSize = parsedStack[right].sizeInBytes;\n                    size += lSize + rSize;\n                    if (size > exceptionParsedStackThreshold) {\n                        // remove extra frames from the middle\n                        var howMany = acceptedRight - acceptedLeft + 1;\n                        parsedStack.splice(acceptedLeft, howMany);\n                        break;\n                    }\n                    // update pointers\n                    acceptedLeft = left;\n                    acceptedRight = right;\n                    left++;\n                    right--;\n                }\n            }\n        }\n        return parsedStack;\n    };\n    return EnvelopeFactory;\n}());\nvar _StackFrame = (function () {\n    function _StackFrame(frame, level) {\n        this.sizeInBytes = 0;\n        this.level = level;\n        this.method = \"<no_method>\";\n        this.assembly = Util.trim(frame);\n        var matches = frame.match(_StackFrame.regex);\n        if (matches && matches.length >= 5) {\n            this.method = Util.trim(matches[2]) || this.method;\n            this.fileName = Util.trim(matches[4]) || \"<no_filename>\";\n            this.line = parseInt(matches[5]) || 0;\n        }\n        this.sizeInBytes += this.method.length;\n        this.sizeInBytes += this.fileName.length;\n        this.sizeInBytes += this.assembly.length;\n        // todo: these might need to be removed depending on how the back-end settles on their size calculation\n        this.sizeInBytes += _StackFrame.baseSize;\n        this.sizeInBytes += this.level.toString().length;\n        this.sizeInBytes += this.line.toString().length;\n    }\n    // regex to match stack frames from ie/chrome/ff\n    // methodName=$2, fileName=$4, lineNo=$5, column=$6\n    _StackFrame.regex = /^([\\s]+at)?(.*?)(\\@|\\s\\(|\\s)([^\\(\\@\\n]+):([0-9]+):([0-9]+)(\\)?)$/;\n    _StackFrame.baseSize = 58; //'{\"method\":\"\",\"level\":,\"assembly\":\"\",\"fileName\":\"\",\"line\":}'.length\n    return _StackFrame;\n}());\nmodule.exports = EnvelopeFactory;\n//# sourceMappingURL=EnvelopeFactory.js.map","\"use strict\";\nvar Logging = (function () {\n    function Logging() {\n    }\n    Logging.info = function (message) {\n        var optionalParams = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            optionalParams[_i - 1] = arguments[_i];\n        }\n        if (Logging.enableDebug) {\n            console.info(Logging.TAG + message, optionalParams);\n        }\n    };\n    Logging.warn = function (message) {\n        var optionalParams = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            optionalParams[_i - 1] = arguments[_i];\n        }\n        if (!Logging.disableWarnings) {\n            console.warn(Logging.TAG + message, optionalParams);\n        }\n    };\n    Logging.enableDebug = false;\n    Logging.disableWarnings = false;\n    Logging.disableErrors = false;\n    Logging.TAG = \"ApplicationInsights:\";\n    return Logging;\n}());\nmodule.exports = Logging;\n//# sourceMappingURL=Logging.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar TelemetryClient = require(\"./TelemetryClient\");\nvar ServerRequestTracking = require(\"../AutoCollection/HttpRequests\");\nvar ClientRequestTracking = require(\"../AutoCollection/HttpDependencies\");\nvar Logging = require(\"./Logging\");\n/**\n * Application Insights Telemetry Client for Node.JS. Provides the Application Insights TelemetryClient API\n * in addition to Node-specific helper functions.\n * Construct a new TelemetryClient to have an instance with a different configuration than the default client.\n * In most cases, `appInsights.defaultClient` should be used instead.\n */\nvar NodeClient = (function (_super) {\n    __extends(NodeClient, _super);\n    function NodeClient() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Log RequestTelemetry from HTTP request and response. This method will log immediately without waitng for request completion\n     * and it requires duration parameter to be specified on NodeHttpRequestTelemetry object.\n     * Use trackNodeHttpRequest function to log the telemetry after request completion\n     * @param telemetry Object encapsulating incoming request, response and duration information\n     */\n    NodeClient.prototype.trackNodeHttpRequestSync = function (telemetry) {\n        if (telemetry && telemetry.request && telemetry.response && telemetry.duration) {\n            ServerRequestTracking.trackRequestSync(this, telemetry);\n        }\n        else {\n            Logging.warn(\"trackNodeHttpRequestSync requires NodeHttpRequestTelemetry object with request, response and duration specified.\");\n        }\n    };\n    /**\n     * Log RequestTelemetry from HTTP request and response. This method will `follow` the request to completion.\n     * Use trackNodeHttpRequestSync function to log telemetry immediately without waiting for request completion\n     * @param telemetry Object encapsulating incoming request and response information\n     */\n    NodeClient.prototype.trackNodeHttpRequest = function (telemetry) {\n        if (telemetry.duration || telemetry.error) {\n            Logging.warn(\"trackNodeHttpRequest will ignore supplied duration and error parameters. These values are collected from the request and response objects.\");\n        }\n        if (telemetry && telemetry.request && telemetry.response) {\n            ServerRequestTracking.trackRequest(this, telemetry);\n        }\n        else {\n            Logging.warn(\"trackNodeHttpRequest requires NodeHttpRequestTelemetry object with request and response specified.\");\n        }\n    };\n    /**\n     * Log DependencyTelemetry from outgoing HTTP request. This method will instrument the outgoing request and append\n     * the specified headers and will log the telemetry when outgoing request is complete\n     * @param telemetry Object encapsulating outgoing request information\n     */\n    NodeClient.prototype.trackNodeHttpDependency = function (telemetry) {\n        if (telemetry && telemetry.request) {\n            ClientRequestTracking.trackRequest(this, telemetry);\n        }\n        else {\n            Logging.warn(\"trackNodeHttpDependency requires NodeHttpDependencyTelemetry object with request specified.\");\n        }\n    };\n    return NodeClient;\n}(TelemetryClient));\nmodule.exports = NodeClient;\n//# sourceMappingURL=NodeClient.js.map","\"use strict\";\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nvar os = require(\"os\");\nvar Contracts = require(\"../Declarations/Contracts\");\nvar Constants = require(\"../Declarations/Constants\");\nvar Util = require(\"./Util\");\nvar Logging = require(\"./Logging\");\nvar StreamId = Util.w3cTraceId(); // Create a guid\nvar QuickPulseEnvelopeFactory = (function () {\n    function QuickPulseEnvelopeFactory() {\n    }\n    QuickPulseEnvelopeFactory.createQuickPulseEnvelope = function (metrics, documents, config, context) {\n        var machineName = (os && typeof os.hostname === \"function\"\n            && os.hostname()) || \"Unknown\"; // Note: os.hostname() was added in node v0.3.3\n        var instance = (context.tags\n            && context.keys\n            && context.keys.cloudRoleInstance\n            && context.tags[context.keys.cloudRoleInstance]) || machineName;\n        var envelope = {\n            Documents: documents.length > 0 ? documents : null,\n            InstrumentationKey: config.instrumentationKey || \"\",\n            Metrics: metrics.length > 0 ? metrics : null,\n            InvariantVersion: 1,\n            Timestamp: \"/Date(\" + Date.now() + \")/\",\n            Version: context.tags[context.keys.internalSdkVersion],\n            StreamId: StreamId,\n            MachineName: machineName,\n            Instance: instance\n        };\n        return envelope;\n    };\n    QuickPulseEnvelopeFactory.createQuickPulseMetric = function (telemetry) {\n        var data;\n        data = {\n            Name: telemetry.name,\n            Value: telemetry.value,\n            Weight: telemetry.count || 1\n        };\n        return data;\n    };\n    QuickPulseEnvelopeFactory.telemetryEnvelopeToQuickPulseDocument = function (envelope) {\n        switch (envelope.data.baseType) {\n            case Contracts.TelemetryTypeString.Event:\n                return QuickPulseEnvelopeFactory.createQuickPulseEventDocument(envelope);\n            case Contracts.TelemetryTypeString.Exception:\n                return QuickPulseEnvelopeFactory.createQuickPulseExceptionDocument(envelope);\n            case Contracts.TelemetryTypeString.Trace:\n                return QuickPulseEnvelopeFactory.createQuickPulseTraceDocument(envelope);\n            case Contracts.TelemetryTypeString.Dependency:\n                return QuickPulseEnvelopeFactory.createQuickPulseDependencyDocument(envelope);\n            case Contracts.TelemetryTypeString.Request:\n                return QuickPulseEnvelopeFactory.createQuickPulseRequestDocument(envelope);\n        }\n        return null;\n    };\n    QuickPulseEnvelopeFactory.createQuickPulseEventDocument = function (envelope) {\n        var document = QuickPulseEnvelopeFactory.createQuickPulseDocument(envelope);\n        var name = envelope.data.baseData.name;\n        var eventDocument = __assign({}, document, { Name: name });\n        return eventDocument;\n    };\n    QuickPulseEnvelopeFactory.createQuickPulseTraceDocument = function (envelope) {\n        var document = QuickPulseEnvelopeFactory.createQuickPulseDocument(envelope);\n        var severityLevel = envelope.data.baseData.severityLevel || 0;\n        var traceDocument = __assign({}, document, { Message: envelope.data.baseData.message, SeverityLevel: Contracts.SeverityLevel[severityLevel] });\n        return traceDocument;\n    };\n    QuickPulseEnvelopeFactory.createQuickPulseExceptionDocument = function (envelope) {\n        var document = QuickPulseEnvelopeFactory.createQuickPulseDocument(envelope);\n        var exceptionDetails = envelope.data.baseData.exceptions;\n        var exception = '';\n        var exceptionMessage = '';\n        var exceptionType = '';\n        // Try to fill exception information from first error only\n        if (exceptionDetails && exceptionDetails.length > 0) {\n            // Try to grab the stack from parsedStack or stack\n            if (exceptionDetails[0].parsedStack && exceptionDetails[0].parsedStack.length > 0) {\n                exceptionDetails[0].parsedStack.forEach(function (err) {\n                    exception += err.assembly + \"\\n\";\n                });\n            }\n            else if (exceptionDetails[0].stack && exceptionDetails[0].stack.length > 0) {\n                exception = exceptionDetails[0].stack;\n            }\n            exceptionMessage = exceptionDetails[0].message;\n            exceptionType = exceptionDetails[0].typeName;\n        }\n        var exceptionDocument = __assign({}, document, { Exception: exception, ExceptionMessage: exceptionMessage, ExceptionType: exceptionType });\n        return exceptionDocument;\n    };\n    QuickPulseEnvelopeFactory.createQuickPulseRequestDocument = function (envelope) {\n        var document = QuickPulseEnvelopeFactory.createQuickPulseDocument(envelope);\n        var baseData = envelope.data.baseData;\n        var requestDocument = __assign({}, document, { Name: baseData.name, Success: baseData.success, Duration: baseData.duration, ResponseCode: baseData.responseCode, OperationName: baseData.name // TODO: is this correct?\n         });\n        return requestDocument;\n    };\n    QuickPulseEnvelopeFactory.createQuickPulseDependencyDocument = function (envelope) {\n        var document = QuickPulseEnvelopeFactory.createQuickPulseDocument(envelope);\n        var baseData = envelope.data.baseData;\n        var dependencyDocument = __assign({}, document, { Name: baseData.name, Target: baseData.target, Success: baseData.success, Duration: baseData.duration, ResultCode: baseData.resultCode, CommandName: baseData.data, OperationName: document.OperationId, DependencyTypeName: baseData.type });\n        return dependencyDocument;\n    };\n    QuickPulseEnvelopeFactory.createQuickPulseDocument = function (envelope) {\n        var documentType;\n        var __type;\n        var operationId, properties;\n        if (envelope.data.baseType) {\n            __type = Constants.TelemetryTypeStringToQuickPulseType[envelope.data.baseType];\n            documentType = Constants.TelemetryTypeStringToQuickPulseDocumentType[envelope.data.baseType];\n        }\n        else {\n            // Remark: This should never be hit because createQuickPulseDocument is only called within\n            // valid baseType values\n            Logging.warn(\"Document type invalid; not sending live metric document\", envelope.data.baseType);\n        }\n        operationId = envelope.tags[QuickPulseEnvelopeFactory.keys.operationId];\n        properties = QuickPulseEnvelopeFactory.aggregateProperties(envelope);\n        var document = {\n            DocumentType: documentType,\n            __type: __type,\n            OperationId: operationId,\n            Version: \"1.0\",\n            Properties: properties\n        };\n        return document;\n    };\n    QuickPulseEnvelopeFactory.aggregateProperties = function (envelope) {\n        var properties = [];\n        // Collect measurements\n        var meas = (envelope.data.baseData).measurements || {};\n        for (var key in meas) {\n            if (meas.hasOwnProperty(key)) {\n                var value = meas[key];\n                var property = { key: key, value: value };\n                properties.push(property);\n            }\n        }\n        // Collect properties\n        var props = (envelope.data.baseData).properties || {};\n        for (var key in props) {\n            if (props.hasOwnProperty(key)) {\n                var value = props[key];\n                var property = { key: key, value: value };\n                properties.push(property);\n            }\n        }\n        return properties;\n    };\n    QuickPulseEnvelopeFactory.keys = new Contracts.ContextTagKeys();\n    return QuickPulseEnvelopeFactory;\n}());\nmodule.exports = QuickPulseEnvelopeFactory;\n//# sourceMappingURL=QuickPulseEnvelopeFactory.js.map","\"use strict\";\nvar https = require(\"https\");\nvar AutoCollectHttpDependencies = require(\"../AutoCollection/HttpDependencies\");\nvar Logging = require(\"./Logging\");\nvar QuickPulseConfig = {\n    method: \"POST\",\n    time: \"x-ms-qps-transmission-time\",\n    subscribed: \"x-ms-qps-subscribed\"\n};\nvar QuickPulseSender = (function () {\n    function QuickPulseSender(config) {\n        this._config = config;\n        this._consecutiveErrors = 0;\n    }\n    QuickPulseSender.prototype.ping = function (envelope, done) {\n        this._submitData(envelope, done, \"ping\");\n    };\n    QuickPulseSender.prototype.post = function (envelope, done) {\n        // Important: When POSTing data, envelope must be an array\n        this._submitData([envelope], done, \"post\");\n    };\n    QuickPulseSender.prototype._submitData = function (envelope, done, postOrPing) {\n        var _this = this;\n        var payload = JSON.stringify(envelope);\n        var options = (_a = {},\n            _a[AutoCollectHttpDependencies.disableCollectionRequestOption] = true,\n            _a.host = this._config.quickPulseHost,\n            _a.method = QuickPulseConfig.method,\n            _a.path = \"/QuickPulseService.svc/\" + postOrPing + \"?ikey=\" + this._config.instrumentationKey,\n            _a.headers = (_b = {\n                    'Expect': '100-continue'\n                },\n                _b[QuickPulseConfig.time] = 10000 * Date.now(),\n                _b['Content-Type'] = 'application\\/json',\n                _b['Content-Length'] = Buffer.byteLength(payload),\n                _b),\n            _a);\n        var req = https.request(options, function (res) {\n            var shouldPOSTData = res.headers[QuickPulseConfig.subscribed] === \"true\";\n            _this._consecutiveErrors = 0;\n            done(shouldPOSTData, res);\n        });\n        req.on(\"error\", function (error) {\n            // Unable to contact qps endpoint.\n            // Do nothing for now.\n            _this._consecutiveErrors++;\n            // LOG every error, but WARN instead when X number of consecutive errors occur\n            var notice = \"Transient error connecting to the Live Metrics endpoint. This packet will not appear in your Live Metrics Stream. Error:\";\n            if (_this._consecutiveErrors % QuickPulseSender.MAX_QPS_FAILURES_BEFORE_WARN === 0) {\n                notice = \"Live Metrics endpoint could not be reached \" + _this._consecutiveErrors + \" consecutive times. Most recent error:\";\n                Logging.warn(QuickPulseSender.TAG, notice, error);\n            }\n            else {\n                // Potentially transient error, do not change the ping/post state yet.\n                Logging.info(QuickPulseSender.TAG, notice, error);\n            }\n            done();\n        });\n        req.write(payload);\n        req.end();\n        var _a, _b;\n    };\n    QuickPulseSender.TAG = \"QuickPulseSender\";\n    QuickPulseSender.MAX_QPS_FAILURES_BEFORE_WARN = 25;\n    return QuickPulseSender;\n}());\nmodule.exports = QuickPulseSender;\n//# sourceMappingURL=QuickPulseSender.js.map","\"use strict\";\nvar Logging = require(\"./Logging\");\nvar Config = require(\"./Config\");\nvar QuickPulseEnvelopeFactory = require(\"./QuickPulseEnvelopeFactory\");\nvar QuickPulseSender = require(\"./QuickPulseSender\");\nvar Constants = require(\"../Declarations/Constants\");\nvar Context = require(\"./Context\");\n/** State Container for sending to the QuickPulse Service */\nvar QuickPulseStateManager = (function () {\n    function QuickPulseStateManager(iKey, context) {\n        this._isCollectingData = false;\n        this._lastSuccessTime = Date.now();\n        this._lastSendSucceeded = true;\n        this._metrics = {};\n        this._documents = [];\n        this._collectors = [];\n        this.config = new Config(iKey);\n        this.context = context || new Context();\n        this._sender = new QuickPulseSender(this.config);\n        this._isEnabled = false;\n    }\n    /**\n     *\n     * @param collector\n     */\n    QuickPulseStateManager.prototype.addCollector = function (collector) {\n        this._collectors.push(collector);\n    };\n    /**\n     * Override of TelemetryClient.trackMetric\n     */\n    QuickPulseStateManager.prototype.trackMetric = function (telemetry) {\n        this._addMetric(telemetry);\n    };\n    /**\n     * Add a document to the current buffer\n     * @param envelope\n     */\n    QuickPulseStateManager.prototype.addDocument = function (envelope) {\n        var document = QuickPulseEnvelopeFactory.telemetryEnvelopeToQuickPulseDocument(envelope);\n        if (document) {\n            this._documents.push(document);\n        }\n    };\n    /**\n     * Enable or disable communication with QuickPulseService\n     * @param isEnabled\n     */\n    QuickPulseStateManager.prototype.enable = function (isEnabled) {\n        if (isEnabled && !this._isEnabled) {\n            this._isEnabled = true;\n            this._goQuickPulse();\n        }\n        else if (!isEnabled && this._isEnabled) {\n            this._isEnabled = false;\n            clearTimeout(this._handle);\n            this._handle = undefined;\n        }\n    };\n    /**\n     * Enable or disable all collectors in this instance\n     * @param enable\n     */\n    QuickPulseStateManager.prototype.enableCollectors = function (enable) {\n        this._collectors.forEach(function (collector) {\n            collector.enable(enable);\n        });\n    };\n    /**\n     * Add the metric to this buffer. If same metric already exists in this buffer, add weight to it\n     * @param telemetry\n     */\n    QuickPulseStateManager.prototype._addMetric = function (telemetry) {\n        var value = telemetry.value;\n        var count = telemetry.count || 1;\n        var name = Constants.PerformanceToQuickPulseCounter[telemetry.name];\n        if (name) {\n            if (this._metrics[name]) {\n                this._metrics[name].Value = (this._metrics[name].Value * this._metrics[name].Weight + value * count) / (this._metrics[name].Weight + count);\n                this._metrics[name].Weight += count;\n            }\n            else {\n                this._metrics[name] = QuickPulseEnvelopeFactory.createQuickPulseMetric(telemetry);\n                this._metrics[name].Name = name;\n                this._metrics[name].Weight = 1;\n            }\n        }\n    };\n    QuickPulseStateManager.prototype._resetQuickPulseBuffer = function () {\n        delete this._metrics;\n        this._metrics = {};\n        this._documents.length = 0;\n    };\n    QuickPulseStateManager.prototype._goQuickPulse = function () {\n        var _this = this;\n        // Create envelope from Documents and Metrics\n        var metrics = Object.keys(this._metrics).map(function (k) { return _this._metrics[k]; });\n        var envelope = QuickPulseEnvelopeFactory.createQuickPulseEnvelope(metrics, this._documents.slice(), this.config, this.context);\n        // Clear this document, metric buffer\n        this._resetQuickPulseBuffer();\n        // Send it to QuickPulseService, if collecting\n        if (this._isCollectingData) {\n            this._post(envelope);\n        }\n        else {\n            this._ping(envelope);\n        }\n        var currentTimeout = this._isCollectingData ? QuickPulseStateManager.POST_INTERVAL : QuickPulseStateManager.PING_INTERVAL;\n        if (this._isCollectingData && Date.now() - this._lastSuccessTime >= QuickPulseStateManager.MAX_POST_WAIT_TIME && !this._lastSendSucceeded) {\n            // Haven't posted successfully in 20 seconds, so wait 60 seconds and ping\n            this._isCollectingData = false;\n            currentTimeout = QuickPulseStateManager.FALLBACK_INTERVAL;\n        }\n        else if (!this._isCollectingData && Date.now() - this._lastSuccessTime >= QuickPulseStateManager.MAX_PING_WAIT_TIME && !this._lastSendSucceeded) {\n            // Haven't pinged successfully in 60 seconds, so wait another 60 seconds\n            currentTimeout = QuickPulseStateManager.FALLBACK_INTERVAL;\n        }\n        this._lastSendSucceeded = null;\n        this._handle = setTimeout(this._goQuickPulse.bind(this), currentTimeout);\n        this._handle.unref(); // Don't block apps from terminating\n    };\n    QuickPulseStateManager.prototype._ping = function (envelope) {\n        this._sender.ping(envelope, this._quickPulseDone.bind(this));\n    };\n    QuickPulseStateManager.prototype._post = function (envelope) {\n        this._sender.post(envelope, this._quickPulseDone.bind(this));\n    };\n    /**\n     * Change the current QPS send state. (shouldPOST == undefined) --> error, but do not change the state yet.\n     */\n    QuickPulseStateManager.prototype._quickPulseDone = function (shouldPOST, res) {\n        if (shouldPOST != undefined) {\n            if (this._isCollectingData !== shouldPOST) {\n                Logging.info(\"Live Metrics sending data\", shouldPOST);\n                this.enableCollectors(shouldPOST);\n            }\n            this._isCollectingData = shouldPOST;\n            if (res && res.statusCode < 300 && res.statusCode >= 200) {\n                this._lastSuccessTime = Date.now();\n                this._lastSendSucceeded = true;\n            }\n            else {\n                this._lastSendSucceeded = false;\n            }\n        }\n        else {\n            // Received an error, keep the state as is\n            this._lastSendSucceeded = false;\n        }\n    };\n    QuickPulseStateManager.MAX_POST_WAIT_TIME = 20000;\n    QuickPulseStateManager.MAX_PING_WAIT_TIME = 60000;\n    QuickPulseStateManager.FALLBACK_INTERVAL = 60000;\n    QuickPulseStateManager.PING_INTERVAL = 5000;\n    QuickPulseStateManager.POST_INTERVAL = 1000;\n    return QuickPulseStateManager;\n}());\nmodule.exports = QuickPulseStateManager;\n//# sourceMappingURL=QuickPulseStateManager.js.map","\"use strict\";\nmodule.exports = {\n    /**\n     * Request-Context header\n     */\n    requestContextHeader: \"request-context\",\n    /**\n     * Source instrumentation header that is added by an application while making http\n     * requests and retrieved by the other application when processing incoming requests.\n     */\n    requestContextSourceKey: \"appId\",\n    /**\n     * Target instrumentation header that is added to the response and retrieved by the\n     * calling application when processing incoming responses.\n     */\n    requestContextTargetKey: \"appId\",\n    /**\n     * Request-Id header\n     */\n    requestIdHeader: \"request-id\",\n    /**\n     * Legacy Header containing the id of the immidiate caller\n     */\n    parentIdHeader: \"x-ms-request-id\",\n    /**\n     * Legacy Header containing the correlation id that kept the same for every telemetry item\n     * accross transactions\n     */\n    rootIdHeader: \"x-ms-request-root-id\",\n    /**\n     * Correlation-Context header\n     *\n     * Not currently actively used, but the contents should be passed from incoming to outgoing requests\n     */\n    correlationContextHeader: \"correlation-context\",\n    /**\n     * W3C distributed tracing protocol header\n     */\n    traceparentHeader: \"traceparent\",\n    /**\n     * W3C distributed tracing protocol state header\n     */\n    traceStateHeader: \"tracestate\"\n};\n//# sourceMappingURL=RequestResponseHeaders.js.map","\"use strict\";\nvar fs = require(\"fs\");\nvar os = require(\"os\");\nvar path = require(\"path\");\nvar zlib = require(\"zlib\");\nvar child_process = require(\"child_process\");\nvar Logging = require(\"./Logging\");\nvar AutoCollectHttpDependencies = require(\"../AutoCollection/HttpDependencies\");\nvar Util = require(\"./Util\");\nvar Sender = (function () {\n    function Sender(config, onSuccess, onError) {\n        this._config = config;\n        this._onSuccess = onSuccess;\n        this._onError = onError;\n        this._enableDiskRetryMode = false;\n        this._resendInterval = Sender.WAIT_BETWEEN_RESEND;\n        this._maxBytesOnDisk = Sender.MAX_BYTES_ON_DISK;\n        this._numConsecutiveFailures = 0;\n        if (!Sender.OS_PROVIDES_FILE_PROTECTION) {\n            // Node's chmod levels do not appropriately restrict file access on Windows\n            // Use the built-in command line tool ICACLS on Windows to properly restrict\n            // access to the temporary directory used for disk retry mode.\n            if (Sender.USE_ICACLS) {\n                // This should be async - but it's currently safer to have this synchronous\n                // This guarantees we can immediately fail setDiskRetryMode if we need to\n                try {\n                    Sender.OS_PROVIDES_FILE_PROTECTION = fs.existsSync(Sender.ICACLS_PATH);\n                }\n                catch (e) { }\n                if (!Sender.OS_PROVIDES_FILE_PROTECTION) {\n                    Logging.warn(Sender.TAG, \"Could not find ICACLS in expected location! This is necessary to use disk retry mode on Windows.\");\n                }\n            }\n            else {\n                // chmod works everywhere else\n                Sender.OS_PROVIDES_FILE_PROTECTION = true;\n            }\n        }\n    }\n    /**\n    * Enable or disable offline mode\n    */\n    Sender.prototype.setDiskRetryMode = function (value, resendInterval, maxBytesOnDisk) {\n        this._enableDiskRetryMode = Sender.OS_PROVIDES_FILE_PROTECTION && value;\n        if (typeof resendInterval === 'number' && resendInterval >= 0) {\n            this._resendInterval = Math.floor(resendInterval);\n        }\n        if (typeof maxBytesOnDisk === 'number' && maxBytesOnDisk >= 0) {\n            this._maxBytesOnDisk = Math.floor(maxBytesOnDisk);\n        }\n        if (value && !Sender.OS_PROVIDES_FILE_PROTECTION) {\n            this._enableDiskRetryMode = false;\n            Logging.warn(Sender.TAG, \"Ignoring request to enable disk retry mode. Sufficient file protection capabilities were not detected.\");\n        }\n    };\n    Sender.prototype.send = function (payload, callback) {\n        var _this = this;\n        var endpointUrl = this._config.endpointUrl;\n        // todo: investigate specifying an agent here: https://nodejs.org/api/http.html#http_class_http_agent\n        var options = {\n            method: \"POST\",\n            withCredentials: false,\n            headers: {\n                \"Content-Type\": \"application/x-json-stream\"\n            }\n        };\n        zlib.gzip(payload, function (err, buffer) {\n            var dataToSend = buffer;\n            if (err) {\n                Logging.warn(err);\n                dataToSend = payload; // something went wrong so send without gzip\n                options.headers[\"Content-Length\"] = payload.length.toString();\n            }\n            else {\n                options.headers[\"Content-Encoding\"] = \"gzip\";\n                options.headers[\"Content-Length\"] = buffer.length;\n            }\n            Logging.info(Sender.TAG, options);\n            // Ensure this request is not captured by auto-collection.\n            options[AutoCollectHttpDependencies.disableCollectionRequestOption] = true;\n            var requestCallback = function (res) {\n                res.setEncoding(\"utf-8\");\n                //returns empty if the data is accepted\n                var responseString = \"\";\n                res.on(\"data\", function (data) {\n                    responseString += data;\n                });\n                res.on(\"end\", function () {\n                    _this._numConsecutiveFailures = 0;\n                    Logging.info(Sender.TAG, responseString);\n                    if (typeof _this._onSuccess === \"function\") {\n                        _this._onSuccess(responseString);\n                    }\n                    if (typeof callback === \"function\") {\n                        callback(responseString);\n                    }\n                    if (_this._enableDiskRetryMode) {\n                        // try to send any cached events if the user is back online\n                        if (res.statusCode === 200) {\n                            setTimeout(function () { return _this._sendFirstFileOnDisk(); }, _this._resendInterval).unref();\n                            // store to disk in case of burst throttling\n                        }\n                        else if (res.statusCode === 408 ||\n                            res.statusCode === 429 ||\n                            res.statusCode === 439 ||\n                            res.statusCode === 500 ||\n                            res.statusCode === 503) {\n                            // TODO: Do not support partial success (206) until _sendFirstFileOnDisk checks payload age\n                            _this._storeToDisk(payload);\n                        }\n                    }\n                });\n            };\n            var req = Util.makeRequest(_this._config, endpointUrl, options, requestCallback);\n            req.on(\"error\", function (error) {\n                // todo: handle error codes better (group to recoverable/non-recoverable and persist)\n                _this._numConsecutiveFailures++;\n                // Only use warn level if retries are disabled or we've had some number of consecutive failures sending data\n                // This is because warn level is printed in the console by default, and we don't want to be noisy for transient and self-recovering errors\n                // Continue informing on each failure if verbose logging is being used\n                if (!_this._enableDiskRetryMode || _this._numConsecutiveFailures > 0 && _this._numConsecutiveFailures % Sender.MAX_CONNECTION_FAILURES_BEFORE_WARN === 0) {\n                    var notice = \"Ingestion endpoint could not be reached. This batch of telemetry items has been lost. Use Disk Retry Caching to enable resending of failed telemetry. Error:\";\n                    if (_this._enableDiskRetryMode) {\n                        notice = \"Ingestion endpoint could not be reached \" + _this._numConsecutiveFailures + \" consecutive times. There may be resulting telemetry loss. Most recent error:\";\n                    }\n                    Logging.warn(Sender.TAG, notice, error);\n                }\n                else {\n                    var notice = \"Transient failure to reach ingestion endpoint. This batch of telemetry items will be retried. Error:\";\n                    Logging.info(Sender.TAG, notice, error);\n                }\n                _this._onErrorHelper(error);\n                if (typeof callback === \"function\") {\n                    var errorMessage = \"error sending telemetry\";\n                    if (error && (typeof error.toString === \"function\")) {\n                        errorMessage = error.toString();\n                    }\n                    callback(errorMessage);\n                }\n                if (_this._enableDiskRetryMode) {\n                    _this._storeToDisk(payload);\n                }\n            });\n            req.write(dataToSend);\n            req.end();\n        });\n    };\n    Sender.prototype.saveOnCrash = function (payload) {\n        if (this._enableDiskRetryMode) {\n            this._storeToDiskSync(payload);\n        }\n    };\n    Sender.prototype._runICACLS = function (args, callback) {\n        var aclProc = child_process.spawn(Sender.ICACLS_PATH, args, { windowsHide: true });\n        aclProc.on(\"error\", function (e) { return callback(e); });\n        aclProc.on(\"close\", function (code, signal) {\n            return callback(code === 0 ? null : new Error(\"Setting ACL restrictions did not succeed (ICACLS returned code \" + code + \")\"));\n        });\n    };\n    Sender.prototype._runICACLSSync = function (args) {\n        // Some very old versions of Node (< 0.11) don't have this\n        if (child_process.spawnSync) {\n            var aclProc = child_process.spawnSync(Sender.ICACLS_PATH, args, { windowsHide: true });\n            if (aclProc.error) {\n                throw aclProc.error;\n            }\n            else if (aclProc.status !== 0) {\n                throw new Error(\"Setting ACL restrictions did not succeed (ICACLS returned code \" + aclProc.status + \")\");\n            }\n        }\n        else {\n            throw new Error(\"Could not synchronously call ICACLS under current version of Node.js\");\n        }\n    };\n    Sender.prototype._getACLIdentity = function (callback) {\n        if (Sender.ACL_IDENTITY) {\n            return callback(null, Sender.ACL_IDENTITY);\n        }\n        var psProc = child_process.spawn(Sender.POWERSHELL_PATH, [\"-Command\", \"[System.Security.Principal.WindowsIdentity]::GetCurrent().Name\"], {\n            windowsHide: true,\n            stdio: ['ignore', 'pipe', 'pipe'] // Needed to prevent hanging on Win 7\n        });\n        var data = \"\";\n        psProc.stdout.on(\"data\", function (d) { return data += d; });\n        psProc.on(\"error\", function (e) { return callback(e, null); });\n        psProc.on(\"close\", function (code, signal) {\n            Sender.ACL_IDENTITY = data && data.trim();\n            return callback(code === 0 ? null : new Error(\"Getting ACL identity did not succeed (PS returned code \" + code + \")\"), Sender.ACL_IDENTITY);\n        });\n    };\n    Sender.prototype._getACLIdentitySync = function () {\n        if (Sender.ACL_IDENTITY) {\n            return Sender.ACL_IDENTITY;\n        }\n        // Some very old versions of Node (< 0.11) don't have this\n        if (child_process.spawnSync) {\n            var psProc = child_process.spawnSync(Sender.POWERSHELL_PATH, [\"-Command\", \"[System.Security.Principal.WindowsIdentity]::GetCurrent().Name\"], {\n                windowsHide: true,\n                stdio: ['ignore', 'pipe', 'pipe'] // Needed to prevent hanging on Win 7\n            });\n            if (psProc.error) {\n                throw psProc.error;\n            }\n            else if (psProc.status !== 0) {\n                throw new Error(\"Getting ACL identity did not succeed (PS returned code \" + psProc.status + \")\");\n            }\n            Sender.ACL_IDENTITY = psProc.stdout && psProc.stdout.toString().trim();\n            return Sender.ACL_IDENTITY;\n        }\n        else {\n            throw new Error(\"Could not synchronously get ACL identity under current version of Node.js\");\n        }\n    };\n    Sender.prototype._getACLArguments = function (directory, identity) {\n        return [directory,\n            \"/grant\", \"*S-1-5-32-544:(OI)(CI)F\",\n            \"/grant\", identity + \":(OI)(CI)F\",\n            \"/inheritance:r\"]; // Remove all inherited permissions\n    };\n    Sender.prototype._applyACLRules = function (directory, callback) {\n        var _this = this;\n        if (!Sender.USE_ICACLS) {\n            return callback(null);\n        }\n        // For performance, only run ACL rules if we haven't already during this session\n        if (Sender.ACLED_DIRECTORIES[directory] === undefined) {\n            // Avoid multiple calls race condition by setting ACLED_DIRECTORIES to false for this directory immediately\n            // If batches are being failed faster than the processes spawned below return, some data won't be stored to disk\n            // This is better than the alternative of potentially infinitely spawned processes\n            Sender.ACLED_DIRECTORIES[directory] = false;\n            // Restrict this directory to only current user and administrator access\n            this._getACLIdentity(function (err, identity) {\n                if (err) {\n                    Sender.ACLED_DIRECTORIES[directory] = false; // false is used to cache failed (vs undefined which is \"not yet tried\")\n                    return callback(err);\n                }\n                else {\n                    _this._runICACLS(_this._getACLArguments(directory, identity), function (err) {\n                        Sender.ACLED_DIRECTORIES[directory] = !err;\n                        return callback(err);\n                    });\n                }\n            });\n        }\n        else {\n            return callback(Sender.ACLED_DIRECTORIES[directory] ? null :\n                new Error(\"Setting ACL restrictions did not succeed (cached result)\"));\n        }\n    };\n    Sender.prototype._applyACLRulesSync = function (directory) {\n        if (Sender.USE_ICACLS) {\n            // For performance, only run ACL rules if we haven't already during this session\n            if (Sender.ACLED_DIRECTORIES[directory] === undefined) {\n                this._runICACLSSync(this._getACLArguments(directory, this._getACLIdentitySync()));\n                Sender.ACLED_DIRECTORIES[directory] = true; // If we get here, it succeeded. _runIACLSSync will throw on failures\n                return;\n            }\n            else if (!Sender.ACLED_DIRECTORIES[directory]) {\n                throw new Error(\"Setting ACL restrictions did not succeed (cached result)\");\n            }\n        }\n    };\n    Sender.prototype._confirmDirExists = function (directory, callback) {\n        var _this = this;\n        fs.lstat(directory, function (err, stats) {\n            if (err && err.code === 'ENOENT') {\n                fs.mkdir(directory, function (err) {\n                    if (err && err.code !== 'EEXIST') {\n                        callback(err);\n                    }\n                    else {\n                        _this._applyACLRules(directory, callback);\n                    }\n                });\n            }\n            else if (!err && stats.isDirectory()) {\n                _this._applyACLRules(directory, callback);\n            }\n            else {\n                callback(err || new Error(\"Path existed but was not a directory\"));\n            }\n        });\n    };\n    /**\n     * Computes the size (in bytes) of all files in a directory at the root level. Asynchronously.\n     */\n    Sender.prototype._getShallowDirectorySize = function (directory, callback) {\n        // Get the directory listing\n        fs.readdir(directory, function (err, files) {\n            if (err) {\n                return callback(err, -1);\n            }\n            var error = null;\n            var totalSize = 0;\n            var count = 0;\n            if (files.length === 0) {\n                callback(null, 0);\n                return;\n            }\n            // Query all file sizes\n            for (var i = 0; i < files.length; i++) {\n                fs.stat(path.join(directory, files[i]), function (err, fileStats) {\n                    count++;\n                    if (err) {\n                        error = err;\n                    }\n                    else {\n                        if (fileStats.isFile()) {\n                            totalSize += fileStats.size;\n                        }\n                    }\n                    if (count === files.length) {\n                        // Did we get an error?\n                        if (error) {\n                            callback(error, -1);\n                        }\n                        else {\n                            callback(error, totalSize);\n                        }\n                    }\n                });\n            }\n        });\n    };\n    /**\n     * Computes the size (in bytes) of all files in a directory at the root level. Synchronously.\n     */\n    Sender.prototype._getShallowDirectorySizeSync = function (directory) {\n        var files = fs.readdirSync(directory);\n        var totalSize = 0;\n        for (var i = 0; i < files.length; i++) {\n            totalSize += fs.statSync(path.join(directory, files[i])).size;\n        }\n        return totalSize;\n    };\n    /**\n     * Stores the payload as a json file on disk in the temp directory\n     */\n    Sender.prototype._storeToDisk = function (payload) {\n        var _this = this;\n        // tmpdir is /tmp for *nix and USERDIR/AppData/Local/Temp for Windows\n        var directory = path.join(os.tmpdir(), Sender.TEMPDIR_PREFIX + this._config.instrumentationKey);\n        // This will create the dir if it does not exist\n        // Default permissions on *nix are directory listing from other users but no file creations\n        Logging.info(Sender.TAG, \"Checking existance of data storage directory: \" + directory);\n        this._confirmDirExists(directory, function (error) {\n            if (error) {\n                Logging.warn(Sender.TAG, \"Error while checking/creating directory: \" + (error && error.message));\n                _this._onErrorHelper(error);\n                return;\n            }\n            _this._getShallowDirectorySize(directory, function (err, size) {\n                if (err || size < 0) {\n                    Logging.warn(Sender.TAG, \"Error while checking directory size: \" + (err && err.message));\n                    _this._onErrorHelper(err);\n                    return;\n                }\n                else if (size > _this._maxBytesOnDisk) {\n                    Logging.warn(Sender.TAG, \"Not saving data due to max size limit being met. Directory size in bytes is: \" + size);\n                    return;\n                }\n                //create file - file name for now is the timestamp, a better approach would be a UUID but that\n                //would require an external dependency\n                var fileName = new Date().getTime() + \".ai.json\";\n                var fileFullPath = path.join(directory, fileName);\n                // Mode 600 is w/r for creator and no read access for others (only applies on *nix)\n                // For Windows, ACL rules are applied to the entire directory (see logic in _confirmDirExists and _applyACLRules)\n                Logging.info(Sender.TAG, \"saving data to disk at: \" + fileFullPath);\n                fs.writeFile(fileFullPath, payload, { mode: 384 }, function (error) { return _this._onErrorHelper(error); });\n            });\n        });\n    };\n    /**\n     * Stores the payload as a json file on disk using sync file operations\n     * this is used when storing data before crashes\n     */\n    Sender.prototype._storeToDiskSync = function (payload) {\n        // tmpdir is /tmp for *nix and USERDIR/AppData/Local/Temp for Windows\n        var directory = path.join(os.tmpdir(), Sender.TEMPDIR_PREFIX + this._config.instrumentationKey);\n        try {\n            Logging.info(Sender.TAG, \"Checking existance of data storage directory: \" + directory);\n            if (!fs.existsSync(directory)) {\n                fs.mkdirSync(directory);\n            }\n            // Make sure permissions are valid\n            this._applyACLRulesSync(directory);\n            var dirSize = this._getShallowDirectorySizeSync(directory);\n            if (dirSize > this._maxBytesOnDisk) {\n                Logging.info(Sender.TAG, \"Not saving data due to max size limit being met. Directory size in bytes is: \" + dirSize);\n                return;\n            }\n            //create file - file name for now is the timestamp, a better approach would be a UUID but that\n            //would require an external dependency\n            var fileName = new Date().getTime() + \".ai.json\";\n            var fileFullPath = path.join(directory, fileName);\n            // Mode 600 is w/r for creator and no access for anyone else (only applies on *nix)\n            Logging.info(Sender.TAG, \"saving data before crash to disk at: \" + fileFullPath);\n            fs.writeFileSync(fileFullPath, payload, { mode: 384 });\n        }\n        catch (error) {\n            Logging.warn(Sender.TAG, \"Error while saving data to disk: \" + (error && error.message));\n            this._onErrorHelper(error);\n        }\n    };\n    /**\n     * Check for temp telemetry files\n     * reads the first file if exist, deletes it and tries to send its load\n     */\n    Sender.prototype._sendFirstFileOnDisk = function () {\n        var _this = this;\n        var tempDir = path.join(os.tmpdir(), Sender.TEMPDIR_PREFIX + this._config.instrumentationKey);\n        fs.exists(tempDir, function (exists) {\n            if (exists) {\n                fs.readdir(tempDir, function (error, files) {\n                    if (!error) {\n                        files = files.filter(function (f) { return path.basename(f).indexOf(\".ai.json\") > -1; });\n                        if (files.length > 0) {\n                            var firstFile = files[0];\n                            var filePath = path.join(tempDir, firstFile);\n                            fs.readFile(filePath, function (error, payload) {\n                                if (!error) {\n                                    // delete the file first to prevent double sending\n                                    fs.unlink(filePath, function (error) {\n                                        if (!error) {\n                                            _this.send(payload);\n                                        }\n                                        else {\n                                            _this._onErrorHelper(error);\n                                        }\n                                    });\n                                }\n                                else {\n                                    _this._onErrorHelper(error);\n                                }\n                            });\n                        }\n                    }\n                    else {\n                        _this._onErrorHelper(error);\n                    }\n                });\n            }\n        });\n    };\n    Sender.prototype._onErrorHelper = function (error) {\n        if (typeof this._onError === \"function\") {\n            this._onError(error);\n        }\n    };\n    Sender.TAG = \"Sender\";\n    Sender.ICACLS_PATH = process.env.systemdrive + \"/windows/system32/icacls.exe\";\n    Sender.POWERSHELL_PATH = process.env.systemdrive + \"/windows/system32/windowspowershell/v1.0/powershell.exe\";\n    Sender.ACLED_DIRECTORIES = {};\n    Sender.ACL_IDENTITY = null;\n    // the amount of time the SDK will wait between resending cached data, this buffer is to avoid any throtelling from the service side\n    Sender.WAIT_BETWEEN_RESEND = 60 * 1000;\n    Sender.MAX_BYTES_ON_DISK = 50 * 1000 * 1000;\n    Sender.MAX_CONNECTION_FAILURES_BEFORE_WARN = 5;\n    Sender.TEMPDIR_PREFIX = \"appInsights-node\";\n    Sender.OS_PROVIDES_FILE_PROTECTION = false;\n    Sender.USE_ICACLS = os.type() === \"Windows_NT\";\n    return Sender;\n}());\nmodule.exports = Sender;\n//# sourceMappingURL=Sender.js.map","\"use strict\";\nvar url = require(\"url\");\nvar Config = require(\"./Config\");\nvar Context = require(\"./Context\");\nvar Contracts = require(\"../Declarations/Contracts\");\nvar Channel = require(\"./Channel\");\nvar TelemetryProcessors = require(\"../TelemetryProcessors\");\nvar CorrelationContextManager_1 = require(\"../AutoCollection/CorrelationContextManager\");\nvar Sender = require(\"./Sender\");\nvar Util = require(\"./Util\");\nvar Logging = require(\"./Logging\");\nvar EnvelopeFactory = require(\"./EnvelopeFactory\");\n/**\n * Application Insights telemetry client provides interface to track telemetry items, register telemetry initializers and\n * and manually trigger immediate sending (flushing)\n */\nvar TelemetryClient = (function () {\n    /**\n     * Constructs a new client of the client\n     * @param setupString the Connection String or Instrumentation Key to use (read from environment variable if not specified)\n     */\n    function TelemetryClient(setupString) {\n        this._telemetryProcessors = [];\n        var config = new Config(setupString);\n        this.config = config;\n        this.context = new Context();\n        this.commonProperties = {};\n        var sender = new Sender(this.config);\n        this.channel = new Channel(function () { return config.disableAppInsights; }, function () { return config.maxBatchSize; }, function () { return config.maxBatchIntervalMs; }, sender);\n    }\n    /**\n     * Log information about availability of an application\n     * @param telemetry      Object encapsulating tracking options\n     */\n    TelemetryClient.prototype.trackAvailability = function (telemetry) {\n        this.track(telemetry, Contracts.TelemetryType.Availability);\n    };\n    /**\n     * Log a trace message\n     * @param telemetry      Object encapsulating tracking options\n     */\n    TelemetryClient.prototype.trackTrace = function (telemetry) {\n        this.track(telemetry, Contracts.TelemetryType.Trace);\n    };\n    /**\n     * Log a numeric value that is not associated with a specific event. Typically used to send regular reports of performance indicators.\n     * To send a single measurement, use just the first two parameters. If you take measurements very frequently, you can reduce the\n     * telemetry bandwidth by aggregating multiple measurements and sending the resulting average at intervals.\n     * @param telemetry      Object encapsulating tracking options\n     */\n    TelemetryClient.prototype.trackMetric = function (telemetry) {\n        this.track(telemetry, Contracts.TelemetryType.Metric);\n    };\n    /**\n     * Log an exception\n     * @param telemetry      Object encapsulating tracking options\n     */\n    TelemetryClient.prototype.trackException = function (telemetry) {\n        if (telemetry && telemetry.exception && !Util.isError(telemetry.exception)) {\n            telemetry.exception = new Error(telemetry.exception.toString());\n        }\n        this.track(telemetry, Contracts.TelemetryType.Exception);\n    };\n    /**\n     * Log a user action or other occurrence.\n     * @param telemetry      Object encapsulating tracking options\n     */\n    TelemetryClient.prototype.trackEvent = function (telemetry) {\n        this.track(telemetry, Contracts.TelemetryType.Event);\n    };\n    /**\n     * Log a request. Note that the default client will attempt to collect HTTP requests automatically so only use this for requests\n     * that aren't automatically captured or if you've disabled automatic request collection.\n     *\n     * @param telemetry      Object encapsulating tracking options\n     */\n    TelemetryClient.prototype.trackRequest = function (telemetry) {\n        this.track(telemetry, Contracts.TelemetryType.Request);\n    };\n    /**\n     * Log a dependency. Note that the default client will attempt to collect dependencies automatically so only use this for dependencies\n     * that aren't automatically captured or if you've disabled automatic dependency collection.\n     *\n     * @param telemetry      Object encapsulating tracking option\n     * */\n    TelemetryClient.prototype.trackDependency = function (telemetry) {\n        if (telemetry && !telemetry.target && telemetry.data) {\n            // url.parse().host returns null for non-urls,\n            // making this essentially a no-op in those cases\n            // If this logic is moved, update jsdoc in DependencyTelemetry.target\n            telemetry.target = url.parse(telemetry.data).host;\n        }\n        this.track(telemetry, Contracts.TelemetryType.Dependency);\n    };\n    /**\n     * Immediately send all queued telemetry.\n     * @param options Flush options, including indicator whether app is crashing and callback\n     */\n    TelemetryClient.prototype.flush = function (options) {\n        this.channel.triggerSend(options ? !!options.isAppCrashing : false, options ? options.callback : undefined);\n    };\n    /**\n     * Generic track method for all telemetry types\n     * @param data the telemetry to send\n     * @param telemetryType specify the type of telemetry you are tracking from the list of Contracts.DataTypes\n     */\n    TelemetryClient.prototype.track = function (telemetry, telemetryType) {\n        if (telemetry && Contracts.telemetryTypeToBaseType(telemetryType)) {\n            var envelope = EnvelopeFactory.createEnvelope(telemetry, telemetryType, this.commonProperties, this.context, this.config);\n            // Set time on the envelope if it was set on the telemetry item\n            if (telemetry.time) {\n                envelope.time = telemetry.time.toISOString();\n            }\n            var accepted = this.runTelemetryProcessors(envelope, telemetry.contextObjects);\n            // Ideally we would have a central place for \"internal\" telemetry processors and users can configure which ones are in use.\n            // This will do for now. Otherwise clearTelemetryProcessors() would be problematic.\n            accepted = accepted && TelemetryProcessors.samplingTelemetryProcessor(envelope, { correlationContext: CorrelationContextManager_1.CorrelationContextManager.getCurrentContext() });\n            TelemetryProcessors.performanceMetricsTelemetryProcessor(envelope, this.quickPulseClient);\n            if (accepted) {\n                this.channel.send(envelope);\n            }\n        }\n        else {\n            Logging.warn(\"track() requires telemetry object and telemetryType to be specified.\");\n        }\n    };\n    /**\n     * Adds telemetry processor to the collection. Telemetry processors will be called one by one\n     * before telemetry item is pushed for sending and in the order they were added.\n     *\n     * @param telemetryProcessor function, takes Envelope, and optional context object and returns boolean\n     */\n    TelemetryClient.prototype.addTelemetryProcessor = function (telemetryProcessor) {\n        this._telemetryProcessors.push(telemetryProcessor);\n    };\n    /*\n     * Removes all telemetry processors\n     */\n    TelemetryClient.prototype.clearTelemetryProcessors = function () {\n        this._telemetryProcessors = [];\n    };\n    TelemetryClient.prototype.runTelemetryProcessors = function (envelope, contextObjects) {\n        var accepted = true;\n        var telemetryProcessorsCount = this._telemetryProcessors.length;\n        if (telemetryProcessorsCount === 0) {\n            return accepted;\n        }\n        contextObjects = contextObjects || {};\n        contextObjects['correlationContext'] = CorrelationContextManager_1.CorrelationContextManager.getCurrentContext();\n        for (var i = 0; i < telemetryProcessorsCount; ++i) {\n            try {\n                var processor = this._telemetryProcessors[i];\n                if (processor) {\n                    if (processor.apply(null, [envelope, contextObjects]) === false) {\n                        accepted = false;\n                        break;\n                    }\n                }\n            }\n            catch (error) {\n                accepted = true;\n                Logging.warn(\"One of telemetry processors failed, telemetry item will be sent.\", error, envelope);\n            }\n        }\n        return accepted;\n    };\n    return TelemetryClient;\n}());\nmodule.exports = TelemetryClient;\n//# sourceMappingURL=TelemetryClient.js.map","\"use strict\";\nvar Util = require(\"./Util\");\nvar CorrelationIdManager = require(\"./CorrelationIdManager\");\n/**\n * Helper class to manage parsing and validation of traceparent header. Also handles hierarchical\n * back-compatibility headers generated from traceparent. W3C traceparent spec is documented at\n * https://www.w3.org/TR/trace-context/#traceparent-field\n */\nvar Traceparent = (function () {\n    function Traceparent(traceparent, parentId) {\n        this.traceFlag = Traceparent.DEFAULT_TRACE_FLAG;\n        this.version = Traceparent.DEFAULT_VERSION;\n        if (traceparent && typeof traceparent === \"string\") {\n            // If incoming request contains traceparent: parse it, set operation, parent and telemetry id accordingly. traceparent should be injected into outgoing requests. request-id should be injected in back-compat format |traceId.spanId. so that older SDKs could understand it.\n            if (traceparent.split(\",\").length > 1) {\n                this.traceId = Util.w3cTraceId();\n                this.spanId = Util.w3cTraceId().substr(0, 16);\n            }\n            else {\n                var traceparentArr = traceparent.trim().split(\"-\");\n                var len = traceparentArr.length;\n                if (len >= 4) {\n                    this.version = traceparentArr[0];\n                    this.traceId = traceparentArr[1];\n                    this.spanId = traceparentArr[2];\n                    this.traceFlag = traceparentArr[3];\n                }\n                else {\n                    this.traceId = Util.w3cTraceId();\n                    this.spanId = Util.w3cTraceId().substr(0, 16);\n                }\n                // Version validation\n                if (!this.version.match(/^[0-9a-f]{2}$/g)) {\n                    this.version = Traceparent.DEFAULT_VERSION;\n                    this.traceId = Util.w3cTraceId();\n                }\n                if (this.version === \"00\" && len !== 4) {\n                    this.traceId = Util.w3cTraceId();\n                    this.spanId = Util.w3cTraceId().substr(0, 16);\n                }\n                if (this.version === \"ff\") {\n                    this.version = Traceparent.DEFAULT_VERSION;\n                    this.traceId = Util.w3cTraceId();\n                    this.spanId = Util.w3cTraceId().substr(0, 16);\n                }\n                if (!this.version.match(/^0[0-9a-f]$/g)) {\n                    this.version = Traceparent.DEFAULT_VERSION;\n                }\n                // TraceFlag validation\n                if (!this.traceFlag.match(/^[0-9a-f]{2}$/g)) {\n                    this.traceFlag = Traceparent.DEFAULT_TRACE_FLAG;\n                    this.traceId = Util.w3cTraceId();\n                }\n                // Validate TraceId, regenerate new traceid if invalid\n                if (!Traceparent.isValidTraceId(this.traceId)) {\n                    this.traceId = Util.w3cTraceId();\n                }\n                // Validate Span Id, discard entire traceparent if invalid\n                if (!Traceparent.isValidSpanId(this.spanId)) {\n                    this.spanId = Util.w3cTraceId().substr(0, 16);\n                    this.traceId = Util.w3cTraceId();\n                }\n                // Save backCompat parentId\n                this.parentId = this.getBackCompatRequestId();\n            }\n        }\n        else if (parentId) {\n            // If incoming request contains only request-id, new traceid and spanid should be started, request-id value should be used as a parent. Root part of request-id should be stored in custom dimension on the request telemetry if root part is different from traceid. On the outgoing request side, request-id should be emitted in the |traceId.spanId. format.\n            this.parentId = parentId.slice(); // copy\n            var operationId = CorrelationIdManager.getRootId(parentId);\n            if (!Traceparent.isValidTraceId(operationId)) {\n                this.legacyRootId = operationId;\n                operationId = Util.w3cTraceId();\n            }\n            if (parentId.indexOf(\"|\") !== -1) {\n                parentId = parentId.substring(1 + parentId.substring(0, parentId.length - 1).lastIndexOf(\".\"), parentId.length - 1);\n            }\n            this.traceId = operationId;\n            this.spanId = parentId;\n        }\n        else {\n            // Fallback default constructor\n            // if request does not contain any correlation headers, see case p2\n            this.traceId = Util.w3cTraceId();\n            this.spanId = Util.w3cTraceId().substr(0, 16);\n        }\n    }\n    Traceparent.isValidTraceId = function (id) {\n        return id.match(/^[0-9a-f]{32}$/) && id !== \"00000000000000000000000000000000\";\n    };\n    Traceparent.isValidSpanId = function (id) {\n        return id.match(/^[0-9a-f]{16}$/) && id !== \"0000000000000000\";\n    };\n    Traceparent.prototype.getBackCompatRequestId = function () {\n        return \"|\" + this.traceId + \".\" + this.spanId + \".\";\n    };\n    Traceparent.prototype.toString = function () {\n        return this.version + \"-\" + this.traceId + \"-\" + this.spanId + \"-\" + this.traceFlag;\n    };\n    Traceparent.prototype.updateSpanId = function () {\n        this.spanId = Util.w3cTraceId().substr(0, 16);\n    };\n    Traceparent.DEFAULT_TRACE_FLAG = \"01\";\n    Traceparent.DEFAULT_VERSION = \"00\";\n    return Traceparent;\n}());\nmodule.exports = Traceparent;\n//# sourceMappingURL=Traceparent.js.map","\"use strict\";\n/**\n * Helper class to manage parsing and strict-validation of tracestate header. W3C tracestate spec\n * is documented at https://www.w3.org/TR/trace-context/#header-value\n * @class Tracestate\n */\nvar Tracestate = (function () {\n    // if true, performs strict tracestate header checking, else just passes it along\n    function Tracestate(id) {\n        this.fieldmap = [];\n        if (!id) {\n            return;\n        }\n        this.fieldmap = this.parseHeader(id);\n    }\n    Tracestate.prototype.toString = function () {\n        var fieldarr = this.fieldmap;\n        if (!fieldarr || fieldarr.length == 0) {\n            return null;\n        }\n        return fieldarr.join(\", \");\n    };\n    Tracestate.validateKeyChars = function (key) {\n        var keyParts = key.split(\"@\");\n        if (keyParts.length == 2) {\n            // Parse for tenant@vendor format\n            var tenant = keyParts[0].trim();\n            var vendor = keyParts[1].trim();\n            var tenantValid = Boolean(tenant.match(/^[\\ ]?[a-z0-9\\*\\-\\_/]{1,241}$/));\n            var vendorValid = Boolean(vendor.match(/^[\\ ]?[a-z0-9\\*\\-\\_/]{1,14}$/));\n            return tenantValid && vendorValid;\n        }\n        else if (keyParts.length == 1) {\n            // Parse for standard key format\n            return Boolean(key.match(/^[\\ ]?[a-z0-9\\*\\-\\_/]{1,256}$/));\n        }\n        return false;\n    };\n    Tracestate.prototype.parseHeader = function (id) {\n        var res = [];\n        var keydeduper = {};\n        var parts = id.split(\",\");\n        if (parts.length > 32)\n            return null;\n        for (var _i = 0, parts_1 = parts; _i < parts_1.length; _i++) {\n            var rawPart = parts_1[_i];\n            var part = rawPart.trim(); // trim out whitespace\n            if (part.length === 0) {\n                continue; // Discard empty pairs, but keep the rest of this tracestate\n            }\n            var pair = part.split(\"=\");\n            // pair should contain exactly one \"=\"\n            if (pair.length !== 2) {\n                return null; // invalid pair: discard entire tracestate\n            }\n            // Validate length and charset of this key\n            if (!Tracestate.validateKeyChars(pair[0])) {\n                return null;\n            }\n            // Assert uniqueness of this key\n            if (keydeduper[pair[0]]) {\n                return null; // duplicate key: discard entire tracestate\n            }\n            else {\n                keydeduper[pair[0]] = true;\n            }\n            // All checks passed -- add this part\n            res.push(part);\n        }\n        return res;\n    };\n    Tracestate.strict = true;\n    return Tracestate;\n}());\nmodule.exports = Tracestate;\n//# sourceMappingURL=Tracestate.js.map","\"use strict\";\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nvar http = require(\"http\");\nvar https = require(\"https\");\nvar url = require(\"url\");\nvar constants = require(\"constants\");\nvar Logging = require(\"./Logging\");\nvar RequestResponseHeaders = require(\"./RequestResponseHeaders\");\nvar Util = (function () {\n    function Util() {\n    }\n    /**\n     * helper method to access userId and sessionId cookie\n     */\n    Util.getCookie = function (name, cookie) {\n        var value = \"\";\n        if (name && name.length && typeof cookie === \"string\") {\n            var cookieName = name + \"=\";\n            var cookies = cookie.split(\";\");\n            for (var i = 0; i < cookies.length; i++) {\n                var cookie = cookies[i];\n                cookie = Util.trim(cookie);\n                if (cookie && cookie.indexOf(cookieName) === 0) {\n                    value = cookie.substring(cookieName.length, cookies[i].length);\n                    break;\n                }\n            }\n        }\n        return value;\n    };\n    /**\n     * helper method to trim strings (IE8 does not implement String.prototype.trim)\n     */\n    Util.trim = function (str) {\n        if (typeof str === \"string\") {\n            return str.replace(/^\\s+|\\s+$/g, \"\");\n        }\n        else {\n            return \"\";\n        }\n    };\n    /**\n     * Convert an array of int32 to Base64 (no '==' at the end).\n     * MSB first.\n     */\n    Util.int32ArrayToBase64 = function (array) {\n        var toChar = function (v, i) {\n            return String.fromCharCode((v >> i) & 0xFF);\n        };\n        var int32AsString = function (v) {\n            return toChar(v, 24) + toChar(v, 16) + toChar(v, 8) + toChar(v, 0);\n        };\n        var x = array.map(int32AsString).join(\"\");\n        var b = Buffer.from ? Buffer.from(x, \"binary\") : new Buffer(x, \"binary\");\n        var s = b.toString(\"base64\");\n        return s.substr(0, s.indexOf(\"=\"));\n    };\n    /**\n     * generate a random 32bit number (-0x80000000..0x7FFFFFFF).\n     */\n    Util.random32 = function () {\n        return (0x100000000 * Math.random()) | 0;\n    };\n    /**\n     * generate a random 32bit number (0x00000000..0xFFFFFFFF).\n     */\n    Util.randomu32 = function () {\n        return Util.random32() + 0x80000000;\n    };\n    /**\n     * generate W3C-compatible trace id\n     * https://github.com/w3c/distributed-tracing/blob/master/trace_context/HTTP_HEADER_FORMAT.md#trace-id\n     */\n    Util.w3cTraceId = function () {\n        var hexValues = [\"0\", \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"a\", \"b\", \"c\", \"d\", \"e\", \"f\"];\n        // rfc4122 version 4 UUID without dashes and with lowercase letters\n        var oct = \"\", tmp;\n        for (var a = 0; a < 4; a++) {\n            tmp = Util.random32();\n            oct +=\n                hexValues[tmp & 0xF] +\n                    hexValues[tmp >> 4 & 0xF] +\n                    hexValues[tmp >> 8 & 0xF] +\n                    hexValues[tmp >> 12 & 0xF] +\n                    hexValues[tmp >> 16 & 0xF] +\n                    hexValues[tmp >> 20 & 0xF] +\n                    hexValues[tmp >> 24 & 0xF] +\n                    hexValues[tmp >> 28 & 0xF];\n        }\n        // \"Set the two most significant bits (bits 6 and 7) of the clock_seq_hi_and_reserved to zero and one, respectively\"\n        var clockSequenceHi = hexValues[8 + (Math.random() * 4) | 0];\n        return oct.substr(0, 8) + oct.substr(9, 4) + \"4\" + oct.substr(13, 3) + clockSequenceHi + oct.substr(16, 3) + oct.substr(19, 12);\n    };\n    Util.isValidW3CId = function (id) {\n        return id.length === 32 && id !== \"00000000000000000000000000000000\";\n    };\n    /**\n     * Check if an object is of type Array\n     */\n    Util.isArray = function (obj) {\n        return Object.prototype.toString.call(obj) === \"[object Array]\";\n    };\n    /**\n     * Check if an object is of type Error\n     */\n    Util.isError = function (obj) {\n        return obj instanceof Error;\n    };\n    Util.isPrimitive = function (input) {\n        var propType = typeof input;\n        return propType === \"string\" || propType === \"number\" || propType === \"boolean\";\n    };\n    /**\n     * Check if an object is of type Date\n     */\n    Util.isDate = function (obj) {\n        return Object.prototype.toString.call(obj) === \"[object Date]\";\n    };\n    /**\n     * Convert ms to c# time span format\n     */\n    Util.msToTimeSpan = function (totalms) {\n        if (isNaN(totalms) || totalms < 0) {\n            totalms = 0;\n        }\n        var sec = ((totalms / 1000) % 60).toFixed(7).replace(/0{0,4}$/, \"\");\n        var min = \"\" + Math.floor(totalms / (1000 * 60)) % 60;\n        var hour = \"\" + Math.floor(totalms / (1000 * 60 * 60)) % 24;\n        var days = Math.floor(totalms / (1000 * 60 * 60 * 24));\n        sec = sec.indexOf(\".\") < 2 ? \"0\" + sec : sec;\n        min = min.length < 2 ? \"0\" + min : min;\n        hour = hour.length < 2 ? \"0\" + hour : hour;\n        var daysText = days > 0 ? days + \".\" : \"\";\n        return daysText + hour + \":\" + min + \":\" + sec;\n    };\n    /**\n     * Using JSON.stringify, by default Errors do not serialize to something useful:\n     * Simplify a generic Node Error into a simpler map for customDimensions\n     * Custom errors can still implement toJSON to override this functionality\n     */\n    Util.extractError = function (err) {\n        // Error is often subclassed so may have code OR id properties:\n        // https://nodejs.org/api/errors.html#errors_error_code\n        var looseError = err;\n        return {\n            message: err.message,\n            code: looseError.code || looseError.id || \"\",\n        };\n    };\n    /**\n     * Manually call toJSON if available to pre-convert the value.\n     * If a primitive is returned, then the consumer of this function can skip JSON.stringify.\n     * This avoids double escaping of quotes for Date objects, for example.\n     */\n    Util.extractObject = function (origProperty) {\n        if (origProperty instanceof Error) {\n            return Util.extractError(origProperty);\n        }\n        if (typeof origProperty.toJSON === \"function\") {\n            return origProperty.toJSON();\n        }\n        return origProperty;\n    };\n    /**\n     * Validate that an object is of type { [key: string]: string }\n     */\n    Util.validateStringMap = function (obj) {\n        if (typeof obj !== \"object\") {\n            Logging.info(\"Invalid properties dropped from payload\");\n            return;\n        }\n        var map = {};\n        for (var field in obj) {\n            var property = '';\n            var origProperty = obj[field];\n            var propType = typeof origProperty;\n            if (Util.isPrimitive(origProperty)) {\n                property = origProperty.toString();\n            }\n            else if (origProperty === null || propType === \"undefined\") {\n                property = \"\";\n            }\n            else if (propType === \"function\") {\n                Logging.info(\"key: \" + field + \" was function; will not serialize\");\n                continue;\n            }\n            else {\n                var stringTarget = Util.isArray(origProperty) ? origProperty : Util.extractObject(origProperty);\n                try {\n                    if (Util.isPrimitive(stringTarget)) {\n                        property = stringTarget;\n                    }\n                    else {\n                        property = JSON.stringify(stringTarget);\n                    }\n                }\n                catch (e) {\n                    property = origProperty.constructor.name.toString() + \" (Error: \" + e.message + \")\";\n                    Logging.info(\"key: \" + field + \", could not be serialized\");\n                }\n            }\n            map[field] = property.substring(0, Util.MAX_PROPERTY_LENGTH);\n        }\n        return map;\n    };\n    /**\n     * Checks if a request url is not on a excluded domain list\n     * and if it is safe to add correlation headers\n     */\n    Util.canIncludeCorrelationHeader = function (client, requestUrl) {\n        var excludedDomains = client && client.config && client.config.correlationHeaderExcludedDomains;\n        if (!excludedDomains || excludedDomains.length == 0 || !requestUrl) {\n            return true;\n        }\n        for (var i = 0; i < excludedDomains.length; i++) {\n            var regex = new RegExp(excludedDomains[i].replace(/\\./g, \"\\.\").replace(/\\*/g, \".*\"));\n            if (regex.test(url.parse(requestUrl).hostname)) {\n                return false;\n            }\n        }\n        return true;\n    };\n    Util.getCorrelationContextTarget = function (response, key) {\n        var contextHeaders = response.headers && response.headers[RequestResponseHeaders.requestContextHeader];\n        if (contextHeaders) {\n            var keyValues = contextHeaders.split(\",\");\n            for (var i = 0; i < keyValues.length; ++i) {\n                var keyValue = keyValues[i].split(\"=\");\n                if (keyValue.length == 2 && keyValue[0] == key) {\n                    return keyValue[1];\n                }\n            }\n        }\n    };\n    /**\n     * Generate request\n     *\n     * Proxify the request creation to handle proxy http\n     *\n     * @param {string} requestUrl url endpoint\n     * @param {Object} requestOptions Request option\n     * @param {Function} requestCallback callback on request\n     * @returns {http.ClientRequest} request object\n     */\n    Util.makeRequest = function (config, requestUrl, requestOptions, requestCallback) {\n        if (requestUrl && requestUrl.indexOf('//') === 0) {\n            requestUrl = 'https:' + requestUrl;\n        }\n        var requestUrlParsed = url.parse(requestUrl);\n        var options = __assign({}, requestOptions, { host: requestUrlParsed.hostname, port: requestUrlParsed.port, path: requestUrlParsed.pathname });\n        var proxyUrl = undefined;\n        if (requestUrlParsed.protocol === 'https:') {\n            proxyUrl = config.proxyHttpsUrl || undefined;\n        }\n        if (requestUrlParsed.protocol === 'http:') {\n            proxyUrl = config.proxyHttpUrl || undefined;\n        }\n        if (proxyUrl) {\n            if (proxyUrl.indexOf('//') === 0) {\n                proxyUrl = 'http:' + proxyUrl;\n            }\n            var proxyUrlParsed = url.parse(proxyUrl);\n            // https is not supported at the moment\n            if (proxyUrlParsed.protocol === 'https:') {\n                Logging.info(\"Proxies that use HTTPS are not supported\");\n                proxyUrl = undefined;\n            }\n            else {\n                options = __assign({}, options, { host: proxyUrlParsed.hostname, port: proxyUrlParsed.port || \"80\", path: requestUrl, headers: __assign({}, options.headers, { Host: requestUrlParsed.hostname }) });\n            }\n        }\n        var isHttps = requestUrlParsed.protocol === 'https:' && !proxyUrl;\n        if (isHttps && config.httpsAgent !== undefined) {\n            options.agent = config.httpsAgent;\n        }\n        else if (!isHttps && config.httpAgent !== undefined) {\n            options.agent = config.httpAgent;\n        }\n        else if (isHttps) {\n            // HTTPS without a passed in agent. Use one that enforces our TLS rules\n            options.agent = Util.tlsRestrictedAgent;\n        }\n        if (isHttps) {\n            return https.request(options, requestCallback);\n        }\n        else {\n            return http.request(options, requestCallback);\n        }\n    };\n    ;\n    /**\n     * Parse standard <string | string[] | number> request-context header\n     */\n    Util.safeIncludeCorrelationHeader = function (client, request, correlationHeader) {\n        var header; // attempt to cast correlationHeader to string\n        if (typeof correlationHeader === \"string\") {\n            header = correlationHeader;\n        }\n        else if (correlationHeader instanceof Array) {\n            header = correlationHeader.join(\",\");\n        }\n        else if (correlationHeader && typeof correlationHeader.toString === \"function\") {\n            // best effort attempt: requires well-defined toString\n            try {\n                header = correlationHeader.toString();\n            }\n            catch (err) {\n                Logging.warn(\"Outgoing request-context header could not be read. Correlation of requests may be lost.\", err, correlationHeader);\n            }\n        }\n        if (header) {\n            Util.addCorrelationIdHeaderFromString(client, request, header);\n        }\n        else {\n            request.setHeader(RequestResponseHeaders.requestContextHeader, RequestResponseHeaders.requestContextSourceKey + \"=\" + client.config.correlationId);\n        }\n    };\n    Util.addCorrelationIdHeaderFromString = function (client, response, correlationHeader) {\n        var components = correlationHeader.split(\",\");\n        var key = RequestResponseHeaders.requestContextSourceKey + \"=\";\n        var found = components.some(function (value) { return value.substring(0, key.length) === key; });\n        if (!found) {\n            response.setHeader(RequestResponseHeaders.requestContextHeader, correlationHeader + \",\" + RequestResponseHeaders.requestContextSourceKey + \"=\" + client.config.correlationId);\n        }\n    };\n    Util.MAX_PROPERTY_LENGTH = 8192;\n    Util.tlsRestrictedAgent = new https.Agent({\n        secureOptions: constants.SSL_OP_NO_SSLv2 | constants.SSL_OP_NO_SSLv3 |\n            constants.SSL_OP_NO_TLSv1 | constants.SSL_OP_NO_TLSv1_1\n    });\n    return Util;\n}());\nmodule.exports = Util;\n//# sourceMappingURL=Util.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar AutoCollectPerformance = require(\"../AutoCollection/Performance\");\nvar TelemetryType = require(\"../Declarations/Contracts\");\nfunction performanceMetricsTelemetryProcessor(envelope, client) {\n    // If live metrics is enabled, forward all telemetry there\n    if (client) {\n        client.addDocument(envelope);\n    }\n    // Increment rate counters (for standard metrics and live metrics)\n    switch (envelope.data.baseType) {\n        case TelemetryType.TelemetryTypeString.Exception:\n            AutoCollectPerformance.countException();\n            break;\n        case TelemetryType.TelemetryTypeString.Request:\n            var requestData = envelope.data.baseData;\n            AutoCollectPerformance.countRequest(requestData.duration, requestData.success);\n            break;\n        case TelemetryType.TelemetryTypeString.Dependency:\n            var remoteDependencyData = envelope.data.baseData;\n            AutoCollectPerformance.countDependency(remoteDependencyData.duration, remoteDependencyData.success);\n            break;\n    }\n    return true;\n}\nexports.performanceMetricsTelemetryProcessor = performanceMetricsTelemetryProcessor;\n//# sourceMappingURL=PerformanceMetricsTelemetryProcessor.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Contracts = require(\"../Declarations/Contracts\");\n/**\n *  A telemetry processor that handles sampling.\n */\nfunction samplingTelemetryProcessor(envelope, contextObjects) {\n    var samplingPercentage = envelope.sampleRate; // Set for us in Client.getEnvelope\n    var isSampledIn = false;\n    if (samplingPercentage === null || samplingPercentage === undefined || samplingPercentage >= 100) {\n        return true;\n    }\n    else if (envelope.data && Contracts.TelemetryType.Metric === Contracts.baseTypeToTelemetryType(envelope.data.baseType)) {\n        // Exclude MetricData telemetry from sampling\n        return true;\n    }\n    else if (contextObjects.correlationContext && contextObjects.correlationContext.operation) {\n        // If we're using dependency correlation, sampling should retain all telemetry from a given request\n        isSampledIn = getSamplingHashCode(contextObjects.correlationContext.operation.id) < samplingPercentage;\n    }\n    else {\n        // If we're not using dependency correlation, sampling should use a random distribution on each item\n        isSampledIn = (Math.random() * 100) < samplingPercentage;\n    }\n    return isSampledIn;\n}\nexports.samplingTelemetryProcessor = samplingTelemetryProcessor;\n/** Ported from AI .NET SDK */\nfunction getSamplingHashCode(input) {\n    var csharpMin = -2147483648;\n    var csharpMax = 2147483647;\n    var hash = 5381;\n    if (!input) {\n        return 0;\n    }\n    while (input.length < 8) {\n        input = input + input;\n    }\n    for (var i = 0; i < input.length; i++) {\n        // JS doesn't respond to integer overflow by wrapping around. Simulate it with bitwise operators ( | 0)\n        hash = ((((hash << 5) + hash) | 0) + input.charCodeAt(i) | 0);\n    }\n    hash = hash <= csharpMin ? csharpMax : Math.abs(hash);\n    return (hash / csharpMax) * 100;\n}\nexports.getSamplingHashCode = getSamplingHashCode;\n//# sourceMappingURL=SamplingTelemetryProcessor.js.map","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./SamplingTelemetryProcessor\"));\n__export(require(\"./PerformanceMetricsTelemetryProcessor\"));\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar CorrelationContextManager = require(\"./AutoCollection/CorrelationContextManager\"); // Keep this first\nvar AutoCollectConsole = require(\"./AutoCollection/Console\");\nvar AutoCollectExceptions = require(\"./AutoCollection/Exceptions\");\nvar AutoCollectPerformance = require(\"./AutoCollection/Performance\");\nvar AutoCollectHttpDependencies = require(\"./AutoCollection/HttpDependencies\");\nvar AutoCollectHttpRequests = require(\"./AutoCollection/HttpRequests\");\nvar CorrelationIdManager = require(\"./Library/CorrelationIdManager\");\nvar Logging = require(\"./Library/Logging\");\nvar QuickPulseClient = require(\"./Library/QuickPulseStateManager\");\nvar NativePerformance_1 = require(\"./AutoCollection/NativePerformance\");\n// We export these imports so that SDK users may use these classes directly.\n// They're exposed using \"export import\" so that types are passed along as expected\nexports.TelemetryClient = require(\"./Library/NodeClient\");\nexports.Contracts = require(\"./Declarations/Contracts\");\nvar DistributedTracingModes;\n(function (DistributedTracingModes) {\n    /**\n     * (Default) Send Application Insights correlation headers\n     */\n    DistributedTracingModes[DistributedTracingModes[\"AI\"] = 0] = \"AI\";\n    /**\n     * Send both W3C Trace Context headers and back-compatibility Application Insights headers\n     */\n    DistributedTracingModes[DistributedTracingModes[\"AI_AND_W3C\"] = 1] = \"AI_AND_W3C\";\n})(DistributedTracingModes = exports.DistributedTracingModes || (exports.DistributedTracingModes = {}));\n// Default autocollection configuration\nvar _isConsole = true;\nvar _isConsoleLog = false;\nvar _isExceptions = true;\nvar _isPerformance = true;\nvar _isRequests = true;\nvar _isDependencies = true;\nvar _isDiskRetry = true;\nvar _isCorrelating = true;\nvar _forceClsHooked;\nvar _isSendingLiveMetrics = false; // Off by default\nvar _isNativePerformance = true;\nvar _disabledExtendedMetrics;\nvar _diskRetryInterval = undefined;\nvar _diskRetryMaxBytes = undefined;\nvar _console;\nvar _exceptions;\nvar _performance;\nvar _nativePerformance;\nvar _serverRequests;\nvar _clientRequests;\nvar _isStarted = false;\nvar _performanceLiveMetrics;\n/**\n * Initializes the default client. Should be called after setting\n * configuration options.\n *\n * @param setupString the Connection String or Instrumentation Key to use. Optional, if\n * this is not specified, the value will be read from the environment\n * variable APPLICATIONINSIGHTS_CONNECTION_STRING or APPINSIGHTS_INSTRUMENTATIONKEY.\n * @returns {Configuration} the configuration class to initialize\n * and start the SDK.\n */\nfunction setup(setupString) {\n    if (!exports.defaultClient) {\n        exports.defaultClient = new exports.TelemetryClient(setupString);\n        _console = new AutoCollectConsole(exports.defaultClient);\n        _exceptions = new AutoCollectExceptions(exports.defaultClient);\n        _performance = new AutoCollectPerformance(exports.defaultClient);\n        _serverRequests = new AutoCollectHttpRequests(exports.defaultClient);\n        _clientRequests = new AutoCollectHttpDependencies(exports.defaultClient);\n        if (!_nativePerformance) {\n            _nativePerformance = new NativePerformance_1.AutoCollectNativePerformance(exports.defaultClient);\n        }\n    }\n    else {\n        Logging.info(\"The default client is already setup\");\n    }\n    if (exports.defaultClient && exports.defaultClient.channel) {\n        exports.defaultClient.channel.setUseDiskRetryCaching(_isDiskRetry, _diskRetryInterval, _diskRetryMaxBytes);\n    }\n    return Configuration;\n}\nexports.setup = setup;\n/**\n * Starts automatic collection of telemetry. Prior to calling start no\n * telemetry will be *automatically* collected, though manual collection\n * is enabled.\n * @returns {ApplicationInsights} this class\n */\nfunction start() {\n    if (!!exports.defaultClient) {\n        _isStarted = true;\n        _console.enable(_isConsole, _isConsoleLog);\n        _exceptions.enable(_isExceptions);\n        _performance.enable(_isPerformance);\n        _nativePerformance.enable(_isNativePerformance, _disabledExtendedMetrics);\n        _serverRequests.useAutoCorrelation(_isCorrelating, _forceClsHooked);\n        _serverRequests.enable(_isRequests);\n        _clientRequests.enable(_isDependencies);\n        if (exports.liveMetricsClient && _isSendingLiveMetrics) {\n            exports.liveMetricsClient.enable(_isSendingLiveMetrics);\n        }\n    }\n    else {\n        Logging.warn(\"Start cannot be called before setup\");\n    }\n    return Configuration;\n}\nexports.start = start;\n/**\n * Returns an object that is shared across all code handling a given request.\n * This can be used similarly to thread-local storage in other languages.\n * Properties set on this object will be available to telemetry processors.\n *\n * Do not store sensitive information here.\n * Custom properties set on this object can be exposed in a future SDK\n * release via outgoing HTTP headers.\n * This is to allow for correlating data cross-component.\n *\n * This method will return null if automatic dependency correlation is disabled.\n * @returns A plain object for request storage or null if automatic dependency correlation is disabled.\n */\nfunction getCorrelationContext() {\n    if (_isCorrelating) {\n        return CorrelationContextManager.CorrelationContextManager.getCurrentContext();\n    }\n    return null;\n}\nexports.getCorrelationContext = getCorrelationContext;\n/**\n * Returns a function that will get the same correlation context within its\n * function body as the code executing this function.\n * Use this method if automatic dependency correlation is not propagating\n * correctly to an asynchronous callback.\n */\nfunction wrapWithCorrelationContext(fn) {\n    return CorrelationContextManager.CorrelationContextManager.wrapCallback(fn);\n}\nexports.wrapWithCorrelationContext = wrapWithCorrelationContext;\n/**\n * The active configuration for global SDK behaviors, such as autocollection.\n */\nvar Configuration = (function () {\n    function Configuration() {\n    }\n    /**\n     * Sets the distributed tracing modes. If W3C mode is enabled, W3C trace context\n     * headers (traceparent/tracestate) will be parsed in all incoming requests, and included in outgoing\n     * requests. In W3C mode, existing back-compatibility AI headers will also be parsed and included.\n     * Enabling W3C mode will not break existing correlation with other Application Insights instrumented\n     * services. Default=AI\n    */\n    Configuration.setDistributedTracingMode = function (value) {\n        CorrelationIdManager.w3cEnabled = value === DistributedTracingModes.AI_AND_W3C;\n        return Configuration;\n    };\n    /**\n     * Sets the state of console and logger tracking (enabled by default for third-party loggers only)\n     * @param value if true logger activity will be sent to Application Insights\n     * @param collectConsoleLog if true, logger autocollection will include console.log calls (default false)\n     * @returns {Configuration} this class\n     */\n    Configuration.setAutoCollectConsole = function (value, collectConsoleLog) {\n        if (collectConsoleLog === void 0) { collectConsoleLog = false; }\n        _isConsole = value;\n        _isConsoleLog = collectConsoleLog;\n        if (_isStarted) {\n            _console.enable(value, collectConsoleLog);\n        }\n        return Configuration;\n    };\n    /**\n     * Sets the state of exception tracking (enabled by default)\n     * @param value if true uncaught exceptions will be sent to Application Insights\n     * @returns {Configuration} this class\n     */\n    Configuration.setAutoCollectExceptions = function (value) {\n        _isExceptions = value;\n        if (_isStarted) {\n            _exceptions.enable(value);\n        }\n        return Configuration;\n    };\n    /**\n     * Sets the state of performance tracking (enabled by default)\n     * @param value if true performance counters will be collected every second and sent to Application Insights\n     * @param collectExtendedMetrics if true, extended metrics counters will be collected every minute and sent to Application Insights\n     * @returns {Configuration} this class\n     */\n    Configuration.setAutoCollectPerformance = function (value, collectExtendedMetrics) {\n        if (collectExtendedMetrics === void 0) { collectExtendedMetrics = true; }\n        _isPerformance = value;\n        var extendedMetricsConfig = NativePerformance_1.AutoCollectNativePerformance.parseEnabled(collectExtendedMetrics);\n        _isNativePerformance = extendedMetricsConfig.isEnabled;\n        _disabledExtendedMetrics = extendedMetricsConfig.disabledMetrics;\n        if (_isStarted) {\n            _performance.enable(value);\n            _nativePerformance.enable(extendedMetricsConfig.isEnabled, extendedMetricsConfig.disabledMetrics);\n        }\n        return Configuration;\n    };\n    /**\n     * Sets the state of request tracking (enabled by default)\n     * @param value if true requests will be sent to Application Insights\n     * @returns {Configuration} this class\n     */\n    Configuration.setAutoCollectRequests = function (value) {\n        _isRequests = value;\n        if (_isStarted) {\n            _serverRequests.enable(value);\n        }\n        return Configuration;\n    };\n    /**\n     * Sets the state of dependency tracking (enabled by default)\n     * @param value if true dependencies will be sent to Application Insights\n     * @returns {Configuration} this class\n     */\n    Configuration.setAutoCollectDependencies = function (value) {\n        _isDependencies = value;\n        if (_isStarted) {\n            _clientRequests.enable(value);\n        }\n        return Configuration;\n    };\n    /**\n     * Sets the state of automatic dependency correlation (enabled by default)\n     * @param value if true dependencies will be correlated with requests\n     * @param useAsyncHooks if true, forces use of experimental async_hooks module to provide correlation. If false, instead uses only patching-based techniques. If left blank, the best option is chosen for you based on your version of Node.js.\n     * @returns {Configuration} this class\n     */\n    Configuration.setAutoDependencyCorrelation = function (value, useAsyncHooks) {\n        _isCorrelating = value;\n        _forceClsHooked = useAsyncHooks;\n        if (_isStarted) {\n            _serverRequests.useAutoCorrelation(value, useAsyncHooks);\n        }\n        return Configuration;\n    };\n    /**\n     * Enable or disable disk-backed retry caching to cache events when client is offline (enabled by default)\n     * Note that this method only applies to the default client. Disk-backed retry caching is disabled by default for additional clients.\n     * For enable for additional clients, use client.channel.setUseDiskRetryCaching(true).\n     * These cached events are stored in your system or user's temporary directory and access restricted to your user when possible.\n     * @param value if true events that occured while client is offline will be cached on disk\n     * @param resendInterval The wait interval for resending cached events.\n     * @param maxBytesOnDisk The maximum size (in bytes) that the created temporary directory for cache events can grow to, before caching is disabled.\n     * @returns {Configuration} this class\n     */\n    Configuration.setUseDiskRetryCaching = function (value, resendInterval, maxBytesOnDisk) {\n        _isDiskRetry = value;\n        _diskRetryInterval = resendInterval;\n        _diskRetryMaxBytes = maxBytesOnDisk;\n        if (exports.defaultClient && exports.defaultClient.channel) {\n            exports.defaultClient.channel.setUseDiskRetryCaching(value, resendInterval, maxBytesOnDisk);\n        }\n        return Configuration;\n    };\n    /**\n     * Enables debug and warning logging for AppInsights itself.\n     * @param enableDebugLogging if true, enables debug logging\n     * @param enableWarningLogging if true, enables warning logging\n     * @returns {Configuration} this class\n     */\n    Configuration.setInternalLogging = function (enableDebugLogging, enableWarningLogging) {\n        if (enableDebugLogging === void 0) { enableDebugLogging = false; }\n        if (enableWarningLogging === void 0) { enableWarningLogging = true; }\n        Logging.enableDebug = enableDebugLogging;\n        Logging.disableWarnings = !enableWarningLogging;\n        return Configuration;\n    };\n    /**\n     * Enables communication with Application Insights Live Metrics.\n     * @param enable if true, enables communication with the live metrics service\n     */\n    Configuration.setSendLiveMetrics = function (enable) {\n        if (enable === void 0) { enable = false; }\n        if (!exports.defaultClient) {\n            // Need a defaultClient so that we can add the QPS telemetry processor to it\n            Logging.warn(\"Live metrics client cannot be setup without the default client\");\n            return Configuration;\n        }\n        if (!exports.liveMetricsClient && enable) {\n            // No qps client exists. Create one and prepare it to be enabled at .start()\n            exports.liveMetricsClient = new QuickPulseClient(exports.defaultClient.config.instrumentationKey);\n            _performanceLiveMetrics = new AutoCollectPerformance(exports.liveMetricsClient, 1000, true);\n            exports.liveMetricsClient.addCollector(_performanceLiveMetrics);\n            exports.defaultClient.quickPulseClient = exports.liveMetricsClient; // Need this so we can forward all manual tracks to live metrics via PerformanceMetricsTelemetryProcessor\n        }\n        else if (exports.liveMetricsClient) {\n            // qps client already exists; enable/disable it\n            exports.liveMetricsClient.enable(enable);\n        }\n        _isSendingLiveMetrics = enable;\n        return Configuration;\n    };\n    // Convenience shortcut to ApplicationInsights.start\n    Configuration.start = start;\n    return Configuration;\n}());\nexports.Configuration = Configuration;\n/**\n * Disposes the default client and all the auto collectors so they can be reinitialized with different configuration\n*/\nfunction dispose() {\n    exports.defaultClient = null;\n    _isStarted = false;\n    if (_console) {\n        _console.dispose();\n    }\n    if (_exceptions) {\n        _exceptions.dispose();\n    }\n    if (_performance) {\n        _performance.dispose();\n    }\n    if (_nativePerformance) {\n        _nativePerformance.dispose();\n    }\n    if (_serverRequests) {\n        _serverRequests.dispose();\n    }\n    if (_clientRequests) {\n        _clientRequests.dispose();\n    }\n    if (exports.liveMetricsClient) {\n        exports.liveMetricsClient.enable(false);\n        _isSendingLiveMetrics = false;\n        exports.liveMetricsClient = undefined;\n    }\n}\nexports.dispose = dispose;\n//# sourceMappingURL=applicationinsights.js.map","'use strict';\n\nconst asyncWrap = process.binding('async_wrap');\nconst TIMERWRAP = asyncWrap.Providers.TIMERWRAP;\n\nconst patchs = {\n  'nextTick': require('./patches/next-tick.js'),\n  'promise': require('./patches/promise.js'),\n  'timers': require('./patches/timers.js')\n};\n\nconst ignoreUIDs = new Set();\n\nfunction State() {\n  this.enabled = false;\n  this.counter = 0;\n}\n\nfunction Hooks() {\n  const initFns = this.initFns = [];\n  const preFns = this.preFns = [];\n  const postFns = this.postFns = [];\n  const destroyFns = this.destroyFns = [];\n\n  this.init = function (uid, provider, parentUid, parentHandle) {\n    // Ignore TIMERWRAP, since setTimeout etc. is monkey patched\n    if (provider === TIMERWRAP) {\n      ignoreUIDs.add(uid);\n      return;\n    }\n\n    // call hooks\n    for (const hook of initFns) {\n      hook(uid, this, provider, parentUid, parentHandle);\n    }\n  };\n\n  this.pre = function (uid) {\n    if (ignoreUIDs.has(uid)) return;\n\n    // call hooks\n    for (const hook of preFns) {\n      hook(uid, this);\n    }\n  };\n\n  this.post = function (uid, didThrow) {\n    if (ignoreUIDs.has(uid)) return;\n\n    // call hooks\n    for (const hook of postFns) {\n      hook(uid, this, didThrow);\n    }\n  };\n\n  this.destroy = function (uid) {\n    // Cleanup the ignore list if this uid should be ignored\n    if (ignoreUIDs.has(uid)) {\n      ignoreUIDs.delete(uid);\n      return;\n    }\n\n    // call hooks\n    for (const hook of destroyFns) {\n      hook(uid);\n    }\n  };\n}\n\nHooks.prototype.add = function (hooks) {\n  if (hooks.init) this.initFns.push(hooks.init);\n  if (hooks.pre) this.preFns.push(hooks.pre);\n  if (hooks.post) this.postFns.push(hooks.post);\n  if (hooks.destroy) this.destroyFns.push(hooks.destroy);\n};\n\nfunction removeElement(array, item) {\n  const index = array.indexOf(item);\n  if (index === -1) return;\n  array.splice(index, 1);\n}\n\nHooks.prototype.remove = function (hooks) {\n  if (hooks.init) removeElement(this.initFns, hooks.init);\n  if (hooks.pre) removeElement(this.preFns, hooks.pre);\n  if (hooks.post) removeElement(this.postFns, hooks.post);\n  if (hooks.destroy) removeElement(this.destroyFns, hooks.destroy);\n};\n\nfunction AsyncHook() {\n  this._state = new State();\n  this._hooks = new Hooks();\n\n  // expose version for conflict detection\n  this.version = require('./package.json').version;\n\n  // expose the Providers map\n  this.providers = asyncWrap.Providers;\n\n  // apply patches\n  for (const key of Object.keys(patchs)) {\n    patchs[key].call(this);\n  }\n\n  // setup async wrap\n  if (process.env.hasOwnProperty('NODE_ASYNC_HOOK_WARNING')) {\n    console.warn('warning: you are using async-hook-jl which is unstable.');\n  }\n  asyncWrap.setupHooks({\n    init: this._hooks.init,\n    pre: this._hooks.pre,\n    post: this._hooks.post,\n    destroy: this._hooks.destroy\n  });\n}\nmodule.exports = AsyncHook;\n\nAsyncHook.prototype.addHooks = function (hooks) {\n  this._hooks.add(hooks);\n};\n\nAsyncHook.prototype.removeHooks = function (hooks) {\n  this._hooks.remove(hooks);\n};\n\nAsyncHook.prototype.enable = function () {\n  this._state.enabled = true;\n  asyncWrap.enable();\n};\n\nAsyncHook.prototype.disable = function () {\n  this._state.enabled = false;\n  asyncWrap.disable();\n};","'use strict';\n\nconst AsyncHook = require('./async-hook.js');\n\n// If a another copy (same version or not) of stack-chain exists it will result\n// in wrong stack traces (most likely dublicate callSites).\nif (global._asyncHook) {\n  // In case the version match, we can simply return the first initialized copy\n  if (global._asyncHook.version === require('./package.json').version) {\n    module.exports = global._asyncHook;\n  }\n  // The version don't match, this is really bad. Lets just throw\n  else {\n    throw new Error('Conflicting version of async-hook-jl found');\n  }\n} else {\n  const stackChain = require('stack-chain');\n\n  // Remove callSites from this module. AsyncWrap doesn't have any callSites\n  // and the hooks are expected to be completely transparent.\n  stackChain.filter.attach(function (error, frames) {\n    return frames.filter(function (callSite) {\n      const filename = callSite.getFileName();\n      // filename is not always a string, for example in case of eval it is\n      // undefined. So check if the filename is defined.\n      return !(filename && filename.slice(0, __dirname.length) === __dirname);\n    });\n  });\n\n  module.exports = global._asyncHook = new AsyncHook();\n}","'use strict';\n\nfunction NextTickWrap() {}\n\nmodule.exports = function patch() {\n  const hooks = this._hooks;\n  const state = this._state;\n\n  const oldNextTick = process.nextTick;\n  process.nextTick = function () {\n    if (!state.enabled) return oldNextTick.apply(process, arguments);\n\n    const args = new Array(arguments.length);\n    for (let i = 0; i < arguments.length; i++) {\n      args[i] = arguments[i];\n    }\n    const callback = args[0];\n\n    if (typeof callback !== 'function') {\n      throw new TypeError('callback is not a function');\n    }\n\n    const handle = new NextTickWrap();\n    const uid = --state.counter;\n\n    // call the init hook\n    hooks.init.call(handle, uid, 0, null, null);\n\n    // overwrite callback\n    args[0] = function () {\n      // call the pre hook\n      hooks.pre.call(handle, uid);\n\n      let didThrow = true;\n      try {\n        callback.apply(this, arguments);\n        didThrow = false;\n      } finally {\n        // If `callback` threw and there is an uncaughtException handler\n        // then call the `post` and `destroy` hook after the uncaughtException\n        // user handlers have been invoked.\n        if(didThrow && process.listenerCount('uncaughtException') > 0) {\n          process.once('uncaughtException', function () {\n            hooks.post.call(handle, uid, true);\n            hooks.destroy.call(null, uid);\n          });\n        }\n      }\n\n      // callback done successfully\n      hooks.post.call(handle, uid, false);\n      hooks.destroy.call(null, uid);\n    };\n\n    return oldNextTick.apply(process, args);\n  };\n}\n","'use strict';\n\nfunction PromiseWrap() {}\n\nmodule.exports = function patchPromise() {\n  const hooks = this._hooks;\n  const state = this._state;\n\n  const Promise = global.Promise;\n\n  /* As per ECMAScript 2015, .catch must be implemented by calling .then, as\n   * such we need needn't patch .catch as well. see:\n   * http://www.ecma-international.org/ecma-262/6.0/#sec-promise.prototype.catch\n   */\n  const oldThen = Promise.prototype.then;\n  Promise.prototype.then = wrappedThen;\n\n  function makeWrappedHandler(fn, handle, uid, isOnFulfilled) {\n    if ('function' !== typeof fn) {\n      return isOnFulfilled\n        ? makeUnhandledResolutionHandler(uid)\n        : makeUnhandledRejectionHandler(uid);\n    }\n\n    return function wrappedHandler() {\n      hooks.pre.call(handle, uid);\n      try {\n        return fn.apply(this, arguments);\n      } finally {\n        hooks.post.call(handle, uid, false);\n        hooks.destroy.call(null, uid);\n      }\n    };\n  }\n\n  function makeUnhandledResolutionHandler(uid) {\n    return function unhandledResolutionHandler(val) {\n      hooks.destroy.call(null, uid);\n      return val;\n    };\n  }\n\n  function makeUnhandledRejectionHandler(uid) {\n    return function unhandledRejectedHandler(val) {\n      hooks.destroy.call(null, uid);\n      throw val;\n    };\n  }\n\n  function wrappedThen(onFulfilled, onRejected) {\n    if (!state.enabled) return oldThen.call(this, onFulfilled, onRejected);\n\n    const handle = new PromiseWrap();\n    const uid = --state.counter;\n\n    hooks.init.call(handle, uid, 0, null, null);\n\n    return oldThen.call(\n      this,\n      makeWrappedHandler(onFulfilled, handle, uid, true),\n      makeWrappedHandler(onRejected, handle, uid, false)\n    );\n  }\n};\n","'use strict';\n\nconst timers = require('timers');\n\nfunction TimeoutWrap() {}\nfunction IntervalWrap() {}\nfunction ImmediateWrap() {}\n\nconst timeoutMap = new Map();\nconst intervalMap = new Map();\nconst ImmediateMap = new Map();\n\nlet activeCallback = null;\nlet clearedInCallback = false;\n\nmodule.exports = function patch() {\n  patchTimer(this._hooks, this._state, 'setTimeout', 'clearTimeout', TimeoutWrap, timeoutMap, true);\n  patchTimer(this._hooks, this._state, 'setInterval', 'clearInterval', IntervalWrap, intervalMap, false);\n  patchTimer(this._hooks, this._state, 'setImmediate', 'clearImmediate', ImmediateWrap, ImmediateMap, true);\n\n  global.setTimeout = timers.setTimeout;\n  global.setInterval = timers.setInterval;\n  global.setImmediate = timers.setImmediate;\n\n  global.clearTimeout = timers.clearTimeout;\n  global.clearInterval = timers.clearInterval;\n  global.clearImmediate = timers.clearImmediate;\n};\n\nfunction patchTimer(hooks, state, setFn, clearFn, Handle, timerMap, singleCall) {\n  const oldSetFn = timers[setFn];\n  const oldClearFn = timers[clearFn];\n\n  // overwrite set[Timeout]\n  timers[setFn] = function () {\n    if (!state.enabled) return oldSetFn.apply(timers, arguments);\n\n    const args = new Array(arguments.length);\n    for (let i = 0; i < arguments.length; i++) {\n      args[i] = arguments[i];\n    }\n    const callback = args[0];\n\n    if (typeof callback !== 'function') {\n      throw new TypeError('\"callback\" argument must be a function');\n    }\n\n    const handle = new Handle();\n    const uid = --state.counter;\n    let timerId = undefined;\n\n    // call the init hook\n    hooks.init.call(handle, uid, 0, null, null);\n\n    // overwrite callback\n    args[0] = function () {\n      // call the pre hook\n      activeCallback = timerId;\n      hooks.pre.call(handle, uid);\n\n      let didThrow = true;\n      try {\n        callback.apply(this, arguments);\n        didThrow = false;\n      } finally {\n        // If `callback` threw and there is an uncaughtException handler\n        // then call the `post` and `destroy` hook after the uncaughtException\n        // user handlers have been invoked.\n        if (didThrow && process.listenerCount('uncaughtException') > 0) {\n          process.once('uncaughtException', function () {\n            // call the post hook\n            hooks.post.call(handle, uid, true);\n            // setInterval won't continue\n            timerMap.delete(timerId);\n            hooks.destroy.call(null, uid);\n          });\n        }\n      }\n\n      // callback done successfully\n      hooks.post.call(handle, uid, false);\n      activeCallback = null;\n\n      // call the destroy hook if the callback will only be called once\n      if (singleCall || clearedInCallback) {\n        clearedInCallback = false;\n        timerMap.delete(timerId);\n        hooks.destroy.call(null, uid);\n      }\n    };\n\n    timerId = oldSetFn.apply(timers, args);\n    // Bind the timerId and uid for later use, in case the clear* function is\n    // called.\n    timerMap.set(timerId, uid);\n\n    return timerId;\n  };\n\n  // overwrite clear[Timeout]\n  timers[clearFn] = function (timerId) {\n    // If clear* was called within the timer callback, then delay the destroy\n    // event to after the post event has been called.\n    if (activeCallback === timerId && timerId !== null) {\n      clearedInCallback = true;\n    }\n    // clear should call the destroy hook. Note if timerId doesn't exists\n    // it is because asyncWrap wasn't enabled at the time.\n    else if (timerMap.has(timerId)) {\n      const uid = timerMap.get(timerId);\n      timerMap.delete(timerId);\n      hooks.destroy.call(null, uid);\n    }\n\n    oldClearFn.apply(timers, arguments);\n  };\n}\n","'use strict';\n\nmodule.exports = (Promise, ensureAslWrapper) => {\n  // Updates to this class should also be applied to the the ES3 version\n  // in index.js.\n  return class WrappedPromise extends Promise {\n    constructor(executor) {\n      var context, args;\n      super(wrappedExecutor);\n      var promise = this;\n\n      try {\n        executor.apply(context, args);\n      } catch (err) {\n        args[1](err);\n      }\n\n      return promise;\n      function wrappedExecutor(resolve, reject) {\n        context = this;\n        args = [wrappedResolve, wrappedReject];\n\n        // These wrappers create a function that can be passed a function and an argument to\n        // call as a continuation from the resolve or reject.\n        function wrappedResolve(val) {\n          ensureAslWrapper(promise, false);\n          return resolve(val);\n        }\n\n        function wrappedReject(val) {\n          ensureAslWrapper(promise, false);\n          return reject(val);\n        }\n      }\n    }\n  }\n};\n","var wrap = require('shimmer').wrap;\n\n/*\n *\n * CONSTANTS\n *\n */\nvar HAS_CREATE_AL = 1 << 0;\nvar HAS_BEFORE_AL = 1 << 1;\nvar HAS_AFTER_AL = 1 << 2;\nvar HAS_ERROR_AL = 1 << 3;\n\n/**\n * There is one list of currently active listeners that is mutated in place by\n * addAsyncListener and removeAsyncListener. This complicates error-handling,\n * for reasons that are discussed below.\n */\nvar listeners = [];\n\n/**\n * There can be multiple listeners with the same properties, so disambiguate\n * them by assigning them an ID at creation time.\n */\nvar uid = 0;\n\n/**\n * Ensure that errors coming from within listeners are handed off to domains,\n * process._fatalException, or uncaughtException without being treated like\n * user errors.\n */\nvar inAsyncTick = false;\n\n/**\n * Because asynchronous contexts can be nested, and errors can come from anywhere\n * in the stack, a little extra work is required to keep track of where in the\n * nesting we are. Because JS arrays are frequently mutated in place\n */\nvar listenerStack = [];\n\n/**\n * The error handler on a listener can capture errors thrown during synchronous\n * execution immediately after the listener is added. To capture both\n * synchronous and asynchronous errors, the error handler just uses the\n * \"global\" list of active listeners, and the rest of the code ensures that the\n * listener list is correct by using a stack of listener lists during\n * asynchronous execution.\n */\nvar asyncCatcher;\n\n/**\n * The guts of the system -- called each time an asynchronous event happens\n * while one or more listeners are active.\n */\nvar asyncWrap;\n\n/**\n * Simple helper function that's probably faster than using Array\n * filter methods and can be inlined.\n */\nfunction union(dest, added) {\n  var destLength = dest.length;\n  var addedLength = added.length;\n  var returned = [];\n\n  if (destLength === 0 && addedLength === 0) return returned;\n\n  for (var j  = 0; j < destLength; j++) returned[j] = dest[j];\n\n  if (addedLength === 0) return returned;\n\n  for (var i = 0; i < addedLength; i++) {\n    var missing = true;\n    for (j = 0; j < destLength; j++) {\n      if (dest[j].uid === added[i].uid) {\n        missing = false;\n        break;\n      }\n    }\n    if (missing) returned.push(added[i]);\n  }\n\n  return returned;\n}\n\n/*\n * For performance, split error-handlers and asyncCatcher up into two separate\n * code paths.\n */\n\n// 0.9+\nif (process._fatalException) {\n  /**\n   * Error handlers on listeners can throw, the catcher needs to be able to\n   * discriminate between exceptions thrown by user code, and exceptions coming\n   * from within the catcher itself. Use a global to keep track of which state\n   * the catcher is currently in.\n   */\n  var inErrorTick = false;\n\n  /**\n   * Throwing always happens synchronously. If the current array of values for\n   * the current list of asyncListeners is put in a module-scoped variable right\n   * before a call that can throw, it will always be correct when the error\n   * handlers are run.\n   */\n  var errorValues;\n\n  asyncCatcher = function asyncCatcher(er) {\n    var length = listeners.length;\n    if (inErrorTick || length === 0) return false;\n\n    var handled = false;\n\n    /*\n     * error handlers\n     */\n    inErrorTick = true;\n    for (var i = 0; i < length; ++i) {\n      var listener = listeners[i];\n      if ((listener.flags & HAS_ERROR_AL) === 0) continue;\n\n      var value = errorValues && errorValues[listener.uid];\n      handled = listener.error(value, er) || handled;\n    }\n    inErrorTick = false;\n\n    /* Test whether there are any listener arrays on the stack. In the case of\n     * synchronous throws when the listener is active, there may have been\n     * none pushed yet.\n     */\n    if (listenerStack.length > 0) listeners = listenerStack.pop();\n    errorValues = undefined;\n\n    return handled && !inAsyncTick;\n  };\n\n  asyncWrap = function asyncWrap(original, list, length) {\n    var values = [];\n\n    /*\n     * listeners\n     */\n    inAsyncTick = true;\n    for (var i = 0; i < length; ++i) {\n      var listener = list[i];\n      values[listener.uid] = listener.data;\n\n      if ((listener.flags & HAS_CREATE_AL) === 0) continue;\n\n      var value = listener.create(listener.data);\n      if (value !== undefined) values[listener.uid] = value;\n    }\n    inAsyncTick = false;\n\n    /* One of the main differences between this polyfill and the core\n     * asyncListener support is that core avoids creating closures by putting a\n     * lot of the state managemnt on the C++ side of Node (and of course also it\n     * bakes support for async listeners into the Node C++ API through the\n     * AsyncWrap class, which means that it doesn't monkeypatch basically every\n     * async method like this does).\n     */\n    return function () {\n      // put the current values where the catcher can see them\n      errorValues = values;\n\n      /* More than one listener can end up inside these closures, so save the\n       * current listeners on a stack.\n       */\n      listenerStack.push(listeners);\n\n      /* Activate both the listeners that were active when the closure was\n       * created and the listeners that were previously active.\n       */\n      listeners = union(list, listeners);\n\n      /*\n       * before handlers\n       */\n      inAsyncTick = true;\n      for (var i = 0; i < length; ++i) {\n        if ((list[i].flags & HAS_BEFORE_AL) > 0) {\n          list[i].before(this, values[list[i].uid]);\n        }\n      }\n      inAsyncTick = false;\n\n      // save the return value to pass to the after callbacks\n      var returned = original.apply(this, arguments);\n\n      /*\n       * after handlers (not run if original throws)\n       */\n      inAsyncTick = true;\n      for (i = 0; i < length; ++i) {\n        if ((list[i].flags & HAS_AFTER_AL) > 0) {\n          list[i].after(this, values[list[i].uid]);\n        }\n      }\n      inAsyncTick = false;\n\n      // back to the previous listener list on the stack\n      listeners = listenerStack.pop();\n      errorValues = undefined;\n\n      return returned;\n    };\n  };\n\n  wrap(process, '_fatalException', function (_fatalException) {\n    return function _asyncFatalException(er) {\n      return asyncCatcher(er) || _fatalException(er);\n    };\n  });\n}\n// 0.8 and below\nelse {\n  /**\n   * If an error handler in asyncWrap throws, the process must die. Under 0.8\n   * and earlier the only way to put a bullet through the head of the process\n   * is to rethrow from inside the exception handler, so rethrow and set\n   * errorThrew to tell the uncaughtHandler what to do.\n   */\n  var errorThrew = false;\n\n  /**\n   * Under Node 0.8, this handler *only* handles synchronously thrown errors.\n   * This simplifies it, which almost but not quite makes up for the hit taken\n   * by putting everything in a try-catch.\n   */\n  asyncCatcher = function uncaughtCatcher(er) {\n    // going down hard\n    if (errorThrew) throw er;\n\n    var handled = false;\n\n    /*\n     * error handlers\n     */\n    var length = listeners.length;\n    for (var i = 0; i < length; ++i) {\n      var listener = listeners[i];\n      if ((listener.flags & HAS_ERROR_AL) === 0) continue;\n      handled = listener.error(null, er) || handled;\n    }\n\n    /* Rethrow if one of the before / after handlers fire, which will bring the\n     * process down immediately.\n     */\n    if (!handled && inAsyncTick) throw er;\n  };\n\n  asyncWrap = function asyncWrap(original, list, length) {\n    var values = [];\n\n    /*\n     * listeners\n     */\n    inAsyncTick = true;\n    for (var i = 0; i < length; ++i) {\n      var listener = list[i];\n      values[listener.uid] = listener.data;\n\n      if ((listener.flags & HAS_CREATE_AL) === 0) continue;\n\n      var value = listener.create(listener.data);\n      if (value !== undefined) values[listener.uid] = value;\n    }\n    inAsyncTick = false;\n\n    /* One of the main differences between this polyfill and the core\n     * asyncListener support is that core avoids creating closures by putting a\n     * lot of the state managemnt on the C++ side of Node (and of course also it\n     * bakes support for async listeners into the Node C++ API through the\n     * AsyncWrap class, which means that it doesn't monkeypatch basically every\n     * async method like this does).\n     */\n    return function () {\n      /*jshint maxdepth:4*/\n\n      // after() handlers don't run if threw\n      var threw = false;\n\n      // ...unless the error is handled\n      var handled = false;\n\n      /* More than one listener can end up inside these closures, so save the\n       * current listeners on a stack.\n       */\n      listenerStack.push(listeners);\n\n      /* Activate both the listeners that were active when the closure was\n       * created and the listeners that were previously active.\n       */\n      listeners = union(list, listeners);\n\n      /*\n       * before handlers\n       */\n      inAsyncTick = true;\n      for (var i = 0; i < length; ++i) {\n        if ((list[i].flags & HAS_BEFORE_AL) > 0) {\n          list[i].before(this, values[list[i].uid]);\n        }\n      }\n      inAsyncTick = false;\n\n      // save the return value to pass to the after callbacks\n      var returned;\n      try {\n        returned = original.apply(this, arguments);\n      }\n      catch (er) {\n        threw = true;\n        for (var i = 0; i < length; ++i) {\n          if ((listeners[i].flags & HAS_ERROR_AL) == 0) continue;\n          try {\n            handled = listeners[i].error(values[list[i].uid], er) || handled;\n          }\n          catch (x) {\n            errorThrew = true;\n            throw x;\n          }\n        }\n\n        if (!handled) {\n          // having an uncaughtException handler here alters crash semantics\n          process.removeListener('uncaughtException', asyncCatcher);\n          process._originalNextTick(function () {\n            process.addListener('uncaughtException', asyncCatcher);\n          });\n\n          throw er;\n        }\n      }\n      finally {\n        /*\n         * after handlers (not run if original throws)\n         */\n        if (!threw || handled) {\n          inAsyncTick = true;\n          for (i = 0; i < length; ++i) {\n            if ((list[i].flags & HAS_AFTER_AL) > 0) {\n              list[i].after(this, values[list[i].uid]);\n            }\n          }\n          inAsyncTick = false;\n        }\n\n        // back to the previous listener list on the stack\n        listeners = listenerStack.pop();\n      }\n\n\n      return returned;\n    };\n  };\n\n  // will be the first to fire if async-listener is the first module loaded\n  process.addListener('uncaughtException', asyncCatcher);\n}\n\n// for performance in the case where there are no handlers, just the listener\nfunction simpleWrap(original, list, length) {\n  inAsyncTick = true;\n  for (var i = 0; i < length; ++i) {\n    var listener = list[i];\n    if (listener.create) listener.create(listener.data);\n  }\n  inAsyncTick = false;\n\n  // still need to make sure nested async calls are made in the context\n  // of the listeners active at their creation\n  return function () {\n    listenerStack.push(listeners);\n    listeners = union(list, listeners);\n\n    var returned = original.apply(this, arguments);\n\n    listeners = listenerStack.pop();\n\n    return returned;\n  };\n}\n\n/**\n * Called each time an asynchronous function that's been monkeypatched in\n * index.js is called. If there are no listeners, return the function\n * unwrapped.  If there are any asyncListeners and any of them have callbacks,\n * pass them off to asyncWrap for later use, otherwise just call the listener.\n */\nfunction wrapCallback(original) {\n  var length = listeners.length;\n\n  // no context to capture, so avoid closure creation\n  if (length === 0) return original;\n\n  // capture the active listeners as of when the wrapped function was called\n  var list = listeners.slice();\n\n  for (var i = 0; i < length; ++i) {\n    if (list[i].flags > 0) return asyncWrap(original, list, length);\n  }\n\n  return simpleWrap(original, list, length);\n}\n\nfunction AsyncListener(callbacks, data) {\n  if (typeof callbacks.create === 'function') {\n    this.create = callbacks.create;\n    this.flags |= HAS_CREATE_AL;\n  }\n\n  if (typeof callbacks.before === 'function') {\n    this.before = callbacks.before;\n    this.flags |= HAS_BEFORE_AL;\n  }\n\n  if (typeof callbacks.after === 'function') {\n    this.after = callbacks.after;\n    this.flags |= HAS_AFTER_AL;\n  }\n\n  if (typeof callbacks.error === 'function') {\n    this.error = callbacks.error;\n    this.flags |= HAS_ERROR_AL;\n  }\n\n  this.uid = ++uid;\n  this.data = data === undefined ? null : data;\n}\nAsyncListener.prototype.create = undefined;\nAsyncListener.prototype.before = undefined;\nAsyncListener.prototype.after  = undefined;\nAsyncListener.prototype.error  = undefined;\nAsyncListener.prototype.data   = undefined;\nAsyncListener.prototype.uid    = 0;\nAsyncListener.prototype.flags  = 0;\n\nfunction createAsyncListener(callbacks, data) {\n  if (typeof callbacks !== 'object' || !callbacks) {\n    throw new TypeError('callbacks argument must be an object');\n  }\n\n  if (callbacks instanceof AsyncListener) {\n    return callbacks;\n  }\n  else {\n    return new AsyncListener(callbacks, data);\n  }\n}\n\nfunction addAsyncListener(callbacks, data) {\n  var listener;\n  if (!(callbacks instanceof AsyncListener)) {\n    listener = createAsyncListener(callbacks, data);\n  }\n  else {\n    listener = callbacks;\n  }\n\n  // Make sure the listener isn't already in the list.\n  var registered = false;\n  for (var i = 0; i < listeners.length; i++) {\n    if (listener === listeners[i]) {\n      registered = true;\n      break;\n    }\n  }\n\n  if (!registered) listeners.push(listener);\n\n  return listener;\n}\n\nfunction removeAsyncListener(listener) {\n  for (var i = 0; i < listeners.length; i++) {\n    if (listener === listeners[i]) {\n      listeners.splice(i, 1);\n      break;\n    }\n  }\n}\n\nprocess.createAsyncListener = createAsyncListener;\nprocess.addAsyncListener    = addAsyncListener;\nprocess.removeAsyncListener = removeAsyncListener;\n\nmodule.exports = wrapCallback;\n","'use strict';\n\nif (process.addAsyncListener) throw new Error(\"Don't require polyfill unless needed\");\n\nvar shimmer      = require('shimmer')\n  , semver       = require('semver')\n  , wrap         = shimmer.wrap\n  , massWrap     = shimmer.massWrap\n  , wrapCallback = require('./glue.js')\n  , util         = require('util')\n  ;\n\nvar v6plus = semver.gte(process.version, '6.0.0');\nvar v7plus = semver.gte(process.version, '7.0.0');\nvar v8plus = semver.gte(process.version, '8.0.0');\nvar v11plus = semver.gte(process.version, '11.0.0');\n\nvar net = require('net');\n\n// From Node.js v7.0.0, net._normalizeConnectArgs have been renamed net._normalizeArgs\nif (v7plus && !net._normalizeArgs) {\n  // a polyfill in our polyfill etc so forth -- taken from node master on 2017/03/09\n  net._normalizeArgs = function (args) {\n    if (args.length === 0) {\n      return [{}, null];\n    }\n\n    var arg0 = args[0];\n    var options = {};\n    if (typeof arg0 === 'object' && arg0 !== null) {\n      // (options[...][, cb])\n      options = arg0;\n    } else if (isPipeName(arg0)) {\n      // (path[...][, cb])\n      options.path = arg0;\n    } else {\n      // ([port][, host][...][, cb])\n      options.port = arg0;\n      if (args.length > 1 && typeof args[1] === 'string') {\n        options.host = args[1];\n      }\n    }\n\n    var cb = args[args.length - 1];\n    if (typeof cb !== 'function')\n      return [options, null];\n    else\n      return [options, cb];\n  }\n} else if (!v7plus && !net._normalizeConnectArgs) {\n  // a polyfill in our polyfill etc so forth -- taken from node master on 2013/10/30\n  net._normalizeConnectArgs = function (args) {\n    var options = {};\n\n    function toNumber(x) { return (x = Number(x)) >= 0 ? x : false; }\n\n    if (typeof args[0] === 'object' && args[0] !== null) {\n      // connect(options, [cb])\n      options = args[0];\n    }\n    else if (typeof args[0] === 'string' && toNumber(args[0]) === false) {\n      // connect(path, [cb]);\n      options.path = args[0];\n    }\n    else {\n      // connect(port, [host], [cb])\n      options.port = args[0];\n      if (typeof args[1] === 'string') {\n        options.host = args[1];\n      }\n    }\n\n    var cb = args[args.length - 1];\n    return typeof cb === 'function' ? [options, cb] : [options];\n  };\n}\n\n// In https://github.com/nodejs/node/pull/11796 `_listen2` was renamed\n// `_setUpListenHandle`. It's still aliased as `_listen2`, and currently the\n// Node internals still call the alias - but who knows for how long. So better\n// make sure we use the new name instead if available.\nif ('_setUpListenHandle' in net.Server.prototype) {\n  wrap(net.Server.prototype, '_setUpListenHandle', wrapSetUpListenHandle);\n} else {\n  wrap(net.Server.prototype, '_listen2', wrapSetUpListenHandle);\n}\n\nfunction wrapSetUpListenHandle(original) {\n  return function () {\n    this.on('connection', function (socket) {\n      if (socket._handle) {\n        socket._handle.onread = wrapCallback(socket._handle.onread);\n      }\n    });\n\n    try {\n      return original.apply(this, arguments);\n    }\n    finally {\n      // the handle will only not be set in cases where there has been an error\n      if (this._handle && this._handle.onconnection) {\n        this._handle.onconnection = wrapCallback(this._handle.onconnection);\n      }\n    }\n  };\n}\n\nfunction patchOnRead(ctx) {\n  if (ctx && ctx._handle) {\n    var handle = ctx._handle;\n    if (!handle._originalOnread) {\n      handle._originalOnread = handle.onread;\n    }\n    handle.onread = wrapCallback(handle._originalOnread);\n  }\n}\n\nwrap(net.Socket.prototype, 'connect', function (original) {\n  return function () {\n    var args;\n    // Node core uses an internal Symbol here to guard against the edge-case\n    // where the user accidentally passes in an array. As we don't have access\n    // to this Symbol we resort to this hack where we just detect if there is a\n    // symbol or not. Checking for the number of Symbols is by no means a fool\n    // proof solution, but it catches the most basic cases.\n    if (v8plus &&\n        Array.isArray(arguments[0]) &&\n        Object.getOwnPropertySymbols(arguments[0]).length > 0) {\n      // already normalized\n      args = arguments[0];\n    } else {\n      // From Node.js v7.0.0, net._normalizeConnectArgs have been renamed net._normalizeArgs\n      args = v7plus\n        ? net._normalizeArgs(arguments)\n        : net._normalizeConnectArgs(arguments);\n    }\n    if (args[1]) args[1] = wrapCallback(args[1]);\n    var result = original.apply(this, args);\n    patchOnRead(this);\n    return result;\n  };\n});\n\nvar http = require('http');\n\n// NOTE: A rewrite occurred in 0.11 that changed the addRequest signature\n// from (req, host, port, localAddress) to (req, options)\n// Here, I use the longer signature to maintain 0.10 support, even though\n// the rest of the arguments aren't actually used\nwrap(http.Agent.prototype, 'addRequest', function (original) {\n  return function (req) {\n    var onSocket = req.onSocket;\n    req.onSocket = wrapCallback(function (socket) {\n      patchOnRead(socket);\n      return onSocket.apply(this, arguments);\n    });\n    return original.apply(this, arguments);\n  };\n});\n\nvar childProcess = require('child_process');\n\nfunction wrapChildProcess(child) {\n  if (Array.isArray(child.stdio)) {\n    child.stdio.forEach(function (socket) {\n      if (socket && socket._handle) {\n        socket._handle.onread = wrapCallback(socket._handle.onread);\n        wrap(socket._handle, 'close', activatorFirst);\n      }\n    });\n  }\n\n  if (child._handle) {\n    child._handle.onexit = wrapCallback(child._handle.onexit);\n  }\n}\n\n// iojs v2.0.0+\nif (childProcess.ChildProcess) {\n  wrap(childProcess.ChildProcess.prototype, 'spawn', function (original) {\n    return function () {\n      var result = original.apply(this, arguments);\n      wrapChildProcess(this);\n      return result;\n    };\n  });\n} else {\n  massWrap(childProcess, [\n    'execFile', // exec is implemented in terms of execFile\n    'fork',\n    'spawn'\n  ], function (original) {\n    return function () {\n      var result = original.apply(this, arguments);\n      wrapChildProcess(result);\n      return result;\n    };\n  });\n}\n\n// need unwrapped nextTick for use within < 0.9 async error handling\nif (!process._fatalException) {\n  process._originalNextTick = process.nextTick;\n}\n\nvar processors = [];\nif (process._nextDomainTick) processors.push('_nextDomainTick');\nif (process._tickDomainCallback) processors.push('_tickDomainCallback');\n\nmassWrap(\n  process,\n  processors,\n  activator\n);\nwrap(process, 'nextTick', activatorFirst);\n\nvar asynchronizers = [\n  'setTimeout',\n  'setInterval'\n];\nif (global.setImmediate) asynchronizers.push('setImmediate');\n\nvar timers = require('timers');\nvar patchGlobalTimers = global.setTimeout === timers.setTimeout;\n\nmassWrap(\n  timers,\n  asynchronizers,\n  activatorFirst\n);\n\nif (patchGlobalTimers) {\n  massWrap(\n    global,\n    asynchronizers,\n    activatorFirst\n  );\n}\n\nvar dns = require('dns');\nmassWrap(\n  dns,\n  [\n    'lookup',\n    'resolve',\n    'resolve4',\n    'resolve6',\n    'resolveCname',\n    'resolveMx',\n    'resolveNs',\n    'resolveTxt',\n    'resolveSrv',\n    'reverse'\n  ],\n  activator\n);\n\nif (dns.resolveNaptr) wrap(dns, 'resolveNaptr', activator);\n\nvar fs = require('fs');\nmassWrap(\n  fs,\n  [\n    'watch',\n    'rename',\n    'truncate',\n    'chown',\n    'fchown',\n    'chmod',\n    'fchmod',\n    'stat',\n    'lstat',\n    'fstat',\n    'link',\n    'symlink',\n    'readlink',\n    'realpath',\n    'unlink',\n    'rmdir',\n    'mkdir',\n    'readdir',\n    'close',\n    'open',\n    'utimes',\n    'futimes',\n    'fsync',\n    'write',\n    'read',\n    'readFile',\n    'writeFile',\n    'appendFile',\n    'watchFile',\n    'unwatchFile',\n    \"exists\",\n  ],\n  activator\n);\n\n// only wrap lchown and lchmod on systems that have them.\nif (fs.lchown) wrap(fs, 'lchown', activator);\nif (fs.lchmod) wrap(fs, 'lchmod', activator);\n\n// only wrap ftruncate in versions of node that have it\nif (fs.ftruncate) wrap(fs, 'ftruncate', activator);\n\n// Wrap zlib streams\nvar zlib;\ntry { zlib = require('zlib'); } catch (err) { }\nif (zlib && zlib.Deflate && zlib.Deflate.prototype) {\n  var proto = Object.getPrototypeOf(zlib.Deflate.prototype);\n  if (proto._transform) {\n    // streams2\n    wrap(proto, \"_transform\", activator);\n  }\n  else if (proto.write && proto.flush && proto.end) {\n    // plain ol' streams\n    massWrap(\n      proto,\n      [\n        'write',\n        'flush',\n        'end'\n      ],\n      activator\n    );\n  }\n}\n\n// Wrap Crypto\nvar crypto;\ntry { crypto = require('crypto'); } catch (err) { }\nif (crypto) {\n\n  var toWrap = [\n      'pbkdf2',\n      'randomBytes',\n  ];\n  if (!v11plus) {\n    toWrap.push('pseudoRandomBytes');\n  }\n\n  massWrap(crypto, toWrap, activator);\n}\n\n// It is unlikely that any userspace promise implementations have a native\n// implementation of both Promise and Promise.toString.\nvar instrumentPromise = !!global.Promise &&\n    Promise.toString() === 'function Promise() { [native code] }' &&\n    Promise.toString.toString() === 'function toString() { [native code] }';\n\n// Check that global Promise is native\nif (instrumentPromise) {\n  // shoult not use any methods that have already been wrapped\n  var promiseListener = process.addAsyncListener({\n    create: function create() {\n      instrumentPromise = false;\n    }\n  });\n\n  // should not resolve synchronously\n  global.Promise.resolve(true).then(function notSync() {\n    instrumentPromise = false;\n  });\n\n  process.removeAsyncListener(promiseListener);\n}\n\n/*\n * Native promises use the microtask queue to make all callbacks run\n * asynchronously to avoid Zalgo issues. Since the microtask queue is not\n * exposed externally, promises need to be modified in a fairly invasive and\n * complex way.\n *\n * The async boundary in promises that must be patched is between the\n * fulfillment of the promise and the execution of any callback that is waiting\n * for that fulfillment to happen. This means that we need to trigger a create\n * when resolve or reject is called and trigger before, after and error handlers\n * around the callback execution. There may be multiple callbacks for each\n * fulfilled promise, so handlers will behave similar to setInterval where\n * there may be multiple before after and error calls for each create call.\n *\n * async-listener monkeypatching has one basic entry point: `wrapCallback`.\n * `wrapCallback` should be called when create should be triggered and be\n * passed a function to wrap, which will execute the body of the async work.\n * The resolve and reject calls can be modified fairly easily to call\n * `wrapCallback`, but at the time of resolve and reject all the work to be done\n * on fulfillment may not be defined, since a call to then, chain or fetch can\n * be made even after the promise has been fulfilled. To get around this, we\n * create a placeholder function which will call a function passed into it,\n * since the call to the main work is being made from within the wrapped\n * function, async-listener will work correctly.\n *\n * There is another complication with monkeypatching Promises. Calls to then,\n * chain and catch each create new Promises that are fulfilled internally in\n * different ways depending on the return value of the callback. When the\n * callback return a Promise, the new Promise is resolved asynchronously after\n * the returned Promise has been also been resolved. When something other than\n * a promise is resolved the resolve call for the new Promise is put in the\n * microtask queue and asynchronously resolved.\n *\n * Then must be wrapped so that its returned promise has a wrapper that can be\n * used to invoke further continuations. This wrapper cannot be created until\n * after the callback has run, since the callback may return either a promise\n * or another value. Fortunately we already have a wrapper function around the\n * callback we can use (the wrapper created by resolve or reject).\n *\n * By adding an additional argument to this wrapper, we can pass in the\n * returned promise so it can have its own wrapper appended. the wrapper\n * function can the call the callback, and take action based on the return\n * value. If a promise is returned, the new Promise can proxy the returned\n * Promise's wrapper (this wrapper may not exist yet, but will by the time the\n * wrapper needs to be invoked). Otherwise, a new wrapper can be create the\n * same way as in resolve and reject. Since this wrapper is created\n * synchronously within another wrapper, it will properly appear as a\n * continuation from within the callback.\n */\n\nif (instrumentPromise) {\n  wrapPromise();\n}\n\nfunction wrapPromise() {\n  var Promise = global.Promise;\n\n  // Updates to this class should also be applied to the the ES6 version\n  // in es6-wrapped-promise.js.\n  function wrappedPromise(executor) {\n    if (!(this instanceof wrappedPromise)) {\n      return Promise(executor);\n    }\n\n    if (typeof executor !== 'function') {\n      return new Promise(executor);\n    }\n\n    var context, args;\n    var promise = new Promise(wrappedExecutor);\n    promise.__proto__ = wrappedPromise.prototype;\n\n    try {\n      executor.apply(context, args);\n    } catch (err) {\n      args[1](err);\n    }\n\n    return promise;\n\n    function wrappedExecutor(resolve, reject) {\n      context = this;\n      args = [wrappedResolve, wrappedReject];\n\n      // These wrappers create a function that can be passed a function and an argument to\n      // call as a continuation from the resolve or reject.\n      function wrappedResolve(val) {\n        ensureAslWrapper(promise, false);\n        return resolve(val);\n      }\n\n      function wrappedReject(val) {\n        ensureAslWrapper(promise, false);\n        return reject(val);\n      }\n    }\n  }\n\n  util.inherits(wrappedPromise, Promise);\n\n  wrap(Promise.prototype, 'then', wrapThen);\n  // Node.js <v7 only, alias for .then\n  if (Promise.prototype.chain) {\n    wrap(Promise.prototype, 'chain', wrapThen);\n  }\n\n  if (v6plus) {\n    global.Promise = require('./es6-wrapped-promise.js')(Promise, ensureAslWrapper);\n  } else {\n    var PromiseFunctions = [\n      'all',\n      'race',\n      'reject',\n      'resolve',\n      'accept',  // Node.js <v7 only\n      'defer'    // Node.js <v7 only\n    ];\n\n    PromiseFunctions.forEach(function(key) {\n      // don't break `in` by creating a key for undefined entries\n      if (typeof Promise[key] === 'function') {\n        wrappedPromise[key] = Promise[key];\n      }\n    });\n    global.Promise = wrappedPromise\n  }\n\n  function ensureAslWrapper(promise, overwrite) {\n    if (!promise.__asl_wrapper || overwrite) {\n      promise.__asl_wrapper = wrapCallback(propagateAslWrapper);\n    }\n  }\n\n  function propagateAslWrapper(ctx, fn, result, next) {\n    var nextResult;\n    try {\n      nextResult = fn.call(ctx, result);\n      return {returnVal: nextResult, error: false}\n    } catch (err) {\n      return {errorVal: err, error: true}\n    } finally {\n      // Wrap any resulting futures as continuations.\n      if (nextResult instanceof Promise) {\n        next.__asl_wrapper = function proxyWrapper() {\n          var aslWrapper = nextResult.__asl_wrapper || propagateAslWrapper;\n          return aslWrapper.apply(this, arguments);\n        }\n      } else {\n        ensureAslWrapper(next, true);\n      }\n    }\n  }\n\n  function wrapThen(original) {\n    return function wrappedThen() {\n      var promise = this;\n      var next = original.apply(promise, Array.prototype.map.call(arguments, bind));\n\n      next.__asl_wrapper = function proxyWrapper(ctx, fn, val, last) {\n        if (promise.__asl_wrapper) {\n          promise.__asl_wrapper(ctx, function () {}, null, next);\n          return next.__asl_wrapper(ctx, fn, val, last);\n        }\n        return propagateAslWrapper(ctx, fn, val, last);\n      }\n\n      return next;\n\n      // wrap callbacks (success, error) so that the callbacks will be called as a\n      // continuations of the resolve or reject call using the __asl_wrapper created above.\n      function bind(fn) {\n        if (typeof fn !== 'function') return fn;\n        return wrapCallback(function (val) {\n          var result = (promise.__asl_wrapper || propagateAslWrapper)(this, fn, val, next);\n          if (result.error) {\n            throw result.errorVal\n          } else {\n            return result.returnVal\n          }\n        });\n      }\n    }\n  }\n}\n\n// Shim activator for functions that have callback last\nfunction activator(fn) {\n  var fallback = function () {\n    var args;\n    var cbIdx = arguments.length - 1;\n    if (typeof arguments[cbIdx] === \"function\") {\n      args = Array(arguments.length)\n      for (var i = 0; i < arguments.length - 1; i++) {\n        args[i] = arguments[i];\n      }\n      args[cbIdx] = wrapCallback(arguments[cbIdx]);\n    }\n    return fn.apply(this, args || arguments);\n  };\n  // Preserve function length for small arg count functions.\n  switch (fn.length) {\n    case 1:\n      return function (cb) {\n        if (arguments.length !== 1) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, cb);\n      };\n    case 2:\n      return function (a, cb) {\n        if (arguments.length !== 2) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, a, cb);\n      };\n    case 3:\n      return function (a, b, cb) {\n        if (arguments.length !== 3) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, a, b, cb);\n      };\n    case 4:\n      return function (a, b, c, cb) {\n        if (arguments.length !== 4) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, a, b, c, cb);\n      };\n    case 5:\n      return function (a, b, c, d, cb) {\n        if (arguments.length !== 5) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, a, b, c, d, cb);\n      };\n    case 6:\n      return function (a, b, c, d, e, cb) {\n        if (arguments.length !== 6) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, a, b, c, d, e, cb);\n      };\n    default:\n      return fallback;\n  }\n}\n\n// Shim activator for functions that have callback first\nfunction activatorFirst(fn) {\n  var fallback = function () {\n    var args;\n    if (typeof arguments[0] === \"function\") {\n      args = Array(arguments.length)\n      args[0] = wrapCallback(arguments[0]);\n      for (var i = 1; i < arguments.length; i++) {\n        args[i] = arguments[i];\n      }\n    }\n    return fn.apply(this, args || arguments);\n  };\n  // Preserve function length for small arg count functions.\n  switch (fn.length) {\n    case 1:\n      return function (cb) {\n        if (arguments.length !== 1) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, cb);\n      };\n    case 2:\n      return function (cb, a) {\n        if (arguments.length !== 2) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, cb, a);\n      };\n    case 3:\n      return function (cb, a, b) {\n        if (arguments.length !== 3) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, cb, a, b);\n      };\n    case 4:\n      return function (cb, a, b, c) {\n        if (arguments.length !== 4) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, cb, a, b, c);\n      };\n    case 5:\n      return function (cb, a, b, c, d) {\n        if (arguments.length !== 5) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, cb, a, b, c, d);\n      };\n    case 6:\n      return function (cb, a, b, c, d, e) {\n        if (arguments.length !== 6) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, cb, a, b, c, d, e);\n      };\n    default:\n      return fallback;\n  }\n}\n\n// taken from node master on 2017/03/09\nfunction toNumber(x) {\n  return (x = Number(x)) >= 0 ? x : false;\n}\n\n// taken from node master on 2017/03/09\nfunction isPipeName(s) {\n  return typeof s === 'string' && toNumber(s) === false;\n}\n","\"use strict\";\nclass Semaphore {\n    constructor(count) {\n        this.tasks = [];\n        this.count = count;\n    }\n    sched() {\n        if (this.count > 0 && this.tasks.length > 0) {\n            this.count--;\n            let next = this.tasks.shift();\n            if (next === undefined) {\n                throw \"Unexpected undefined value in tasks list\";\n            }\n            next();\n        }\n    }\n    acquire() {\n        return new Promise((res, rej) => {\n            var task = () => {\n                var released = false;\n                res(() => {\n                    if (!released) {\n                        released = true;\n                        this.count++;\n                        this.sched();\n                    }\n                });\n            };\n            this.tasks.push(task);\n            if (process && process.nextTick) {\n                process.nextTick(this.sched.bind(this));\n            }\n            else {\n                setImmediate(this.sched.bind(this));\n            }\n        });\n    }\n    use(f) {\n        return this.acquire()\n            .then(release => {\n            return f()\n                .then((res) => {\n                release();\n                return res;\n            })\n                .catch((err) => {\n                release();\n                throw err;\n            });\n        });\n    }\n}\nexports.Semaphore = Semaphore;\nclass Mutex extends Semaphore {\n    constructor() {\n        super(1);\n    }\n}\nexports.Mutex = Mutex;\n//# sourceMappingURL=index.js.map","module.exports = require('./lib/axios');","'use strict';\n\nvar utils = require('./../utils');\nvar settle = require('./../core/settle');\nvar buildFullPath = require('../core/buildFullPath');\nvar buildURL = require('./../helpers/buildURL');\nvar http = require('http');\nvar https = require('https');\nvar httpFollow = require('follow-redirects').http;\nvar httpsFollow = require('follow-redirects').https;\nvar url = require('url');\nvar zlib = require('zlib');\nvar pkg = require('./../../package.json');\nvar createError = require('../core/createError');\nvar enhanceError = require('../core/enhanceError');\n\nvar isHttps = /https:?/;\n\n/**\n *\n * @param {http.ClientRequestArgs} options\n * @param {AxiosProxyConfig} proxy\n * @param {string} location\n */\nfunction setProxy(options, proxy, location) {\n  options.hostname = proxy.host;\n  options.host = proxy.host;\n  options.port = proxy.port;\n  options.path = location;\n\n  // Basic proxy authorization\n  if (proxy.auth) {\n    var base64 = Buffer.from(proxy.auth.username + ':' + proxy.auth.password, 'utf8').toString('base64');\n    options.headers['Proxy-Authorization'] = 'Basic ' + base64;\n  }\n\n  // If a proxy is used, any redirects must also pass through the proxy\n  options.beforeRedirect = function beforeRedirect(redirection) {\n    redirection.headers.host = redirection.host;\n    setProxy(redirection, proxy, redirection.href);\n  };\n}\n\n/*eslint consistent-return:0*/\nmodule.exports = function httpAdapter(config) {\n  return new Promise(function dispatchHttpRequest(resolvePromise, rejectPromise) {\n    var resolve = function resolve(value) {\n      resolvePromise(value);\n    };\n    var reject = function reject(value) {\n      rejectPromise(value);\n    };\n    var data = config.data;\n    var headers = config.headers;\n\n    // Set User-Agent (required by some servers)\n    // See https://github.com/axios/axios/issues/69\n    if ('User-Agent' in headers || 'user-agent' in headers) {\n      // User-Agent is specified; handle case where no UA header is desired\n      if (!headers['User-Agent'] && !headers['user-agent']) {\n        delete headers['User-Agent'];\n        delete headers['user-agent'];\n      }\n      // Otherwise, use specified value\n    } else {\n      // Only set header if it hasn't been set in config\n      headers['User-Agent'] = 'axios/' + pkg.version;\n    }\n\n    if (data && !utils.isStream(data)) {\n      if (Buffer.isBuffer(data)) {\n        // Nothing to do...\n      } else if (utils.isArrayBuffer(data)) {\n        data = Buffer.from(new Uint8Array(data));\n      } else if (utils.isString(data)) {\n        data = Buffer.from(data, 'utf-8');\n      } else {\n        return reject(createError(\n          'Data after transformation must be a string, an ArrayBuffer, a Buffer, or a Stream',\n          config\n        ));\n      }\n\n      // Add Content-Length header if data exists\n      headers['Content-Length'] = data.length;\n    }\n\n    // HTTP basic authentication\n    var auth = undefined;\n    if (config.auth) {\n      var username = config.auth.username || '';\n      var password = config.auth.password || '';\n      auth = username + ':' + password;\n    }\n\n    // Parse url\n    var fullPath = buildFullPath(config.baseURL, config.url);\n    var parsed = url.parse(fullPath);\n    var protocol = parsed.protocol || 'http:';\n\n    if (!auth && parsed.auth) {\n      var urlAuth = parsed.auth.split(':');\n      var urlUsername = urlAuth[0] || '';\n      var urlPassword = urlAuth[1] || '';\n      auth = urlUsername + ':' + urlPassword;\n    }\n\n    if (auth) {\n      delete headers.Authorization;\n    }\n\n    var isHttpsRequest = isHttps.test(protocol);\n    var agent = isHttpsRequest ? config.httpsAgent : config.httpAgent;\n\n    var options = {\n      path: buildURL(parsed.path, config.params, config.paramsSerializer).replace(/^\\?/, ''),\n      method: config.method.toUpperCase(),\n      headers: headers,\n      agent: agent,\n      agents: { http: config.httpAgent, https: config.httpsAgent },\n      auth: auth\n    };\n\n    if (config.socketPath) {\n      options.socketPath = config.socketPath;\n    } else {\n      options.hostname = parsed.hostname;\n      options.port = parsed.port;\n    }\n\n    var proxy = config.proxy;\n    if (!proxy && proxy !== false) {\n      var proxyEnv = protocol.slice(0, -1) + '_proxy';\n      var proxyUrl = process.env[proxyEnv] || process.env[proxyEnv.toUpperCase()];\n      if (proxyUrl) {\n        var parsedProxyUrl = url.parse(proxyUrl);\n        var noProxyEnv = process.env.no_proxy || process.env.NO_PROXY;\n        var shouldProxy = true;\n\n        if (noProxyEnv) {\n          var noProxy = noProxyEnv.split(',').map(function trim(s) {\n            return s.trim();\n          });\n\n          shouldProxy = !noProxy.some(function proxyMatch(proxyElement) {\n            if (!proxyElement) {\n              return false;\n            }\n            if (proxyElement === '*') {\n              return true;\n            }\n            if (proxyElement[0] === '.' &&\n                parsed.hostname.substr(parsed.hostname.length - proxyElement.length) === proxyElement) {\n              return true;\n            }\n\n            return parsed.hostname === proxyElement;\n          });\n        }\n\n        if (shouldProxy) {\n          proxy = {\n            host: parsedProxyUrl.hostname,\n            port: parsedProxyUrl.port,\n            protocol: parsedProxyUrl.protocol\n          };\n\n          if (parsedProxyUrl.auth) {\n            var proxyUrlAuth = parsedProxyUrl.auth.split(':');\n            proxy.auth = {\n              username: proxyUrlAuth[0],\n              password: proxyUrlAuth[1]\n            };\n          }\n        }\n      }\n    }\n\n    if (proxy) {\n      options.headers.host = parsed.hostname + (parsed.port ? ':' + parsed.port : '');\n      setProxy(options, proxy, protocol + '//' + parsed.hostname + (parsed.port ? ':' + parsed.port : '') + options.path);\n    }\n\n    var transport;\n    var isHttpsProxy = isHttpsRequest && (proxy ? isHttps.test(proxy.protocol) : true);\n    if (config.transport) {\n      transport = config.transport;\n    } else if (config.maxRedirects === 0) {\n      transport = isHttpsProxy ? https : http;\n    } else {\n      if (config.maxRedirects) {\n        options.maxRedirects = config.maxRedirects;\n      }\n      transport = isHttpsProxy ? httpsFollow : httpFollow;\n    }\n\n    if (config.maxBodyLength > -1) {\n      options.maxBodyLength = config.maxBodyLength;\n    }\n\n    // Create the request\n    var req = transport.request(options, function handleResponse(res) {\n      if (req.aborted) return;\n\n      // uncompress the response body transparently if required\n      var stream = res;\n\n      // return the last request in case of redirects\n      var lastRequest = res.req || req;\n\n\n      // if no content, is HEAD request or decompress disabled we should not decompress\n      if (res.statusCode !== 204 && lastRequest.method !== 'HEAD' && config.decompress !== false) {\n        switch (res.headers['content-encoding']) {\n        /*eslint default-case:0*/\n        case 'gzip':\n        case 'compress':\n        case 'deflate':\n        // add the unzipper to the body stream processing pipeline\n          stream = stream.pipe(zlib.createUnzip());\n\n          // remove the content-encoding in order to not confuse downstream operations\n          delete res.headers['content-encoding'];\n          break;\n        }\n      }\n\n      var response = {\n        status: res.statusCode,\n        statusText: res.statusMessage,\n        headers: res.headers,\n        config: config,\n        request: lastRequest\n      };\n\n      if (config.responseType === 'stream') {\n        response.data = stream;\n        settle(resolve, reject, response);\n      } else {\n        var responseBuffer = [];\n        var totalResponseBytes = 0;\n        stream.on('data', function handleStreamData(chunk) {\n          responseBuffer.push(chunk);\n          totalResponseBytes += chunk.length;\n\n          // make sure the content length is not over the maxContentLength if specified\n          if (config.maxContentLength > -1 && totalResponseBytes > config.maxContentLength) {\n            stream.destroy();\n            reject(createError('maxContentLength size of ' + config.maxContentLength + ' exceeded',\n              config, null, lastRequest));\n          }\n        });\n\n        stream.on('error', function handleStreamError(err) {\n          if (req.aborted) return;\n          reject(enhanceError(err, config, null, lastRequest));\n        });\n\n        stream.on('end', function handleStreamEnd() {\n          var responseData = Buffer.concat(responseBuffer);\n          if (config.responseType !== 'arraybuffer') {\n            responseData = responseData.toString(config.responseEncoding);\n            if (!config.responseEncoding || config.responseEncoding === 'utf8') {\n              responseData = utils.stripBOM(responseData);\n            }\n          }\n\n          response.data = responseData;\n          settle(resolve, reject, response);\n        });\n      }\n    });\n\n    // Handle errors\n    req.on('error', function handleRequestError(err) {\n      if (req.aborted && err.code !== 'ERR_FR_TOO_MANY_REDIRECTS') return;\n      reject(enhanceError(err, config, null, req));\n    });\n\n    // Handle request timeout\n    if (config.timeout) {\n      // This is forcing a int timeout to avoid problems if the `req` interface doesn't handle other types.\n      var timeout = parseInt(config.timeout, 10);\n\n      if (isNaN(timeout)) {\n        reject(createError(\n          'error trying to parse `config.timeout` to int',\n          config,\n          'ERR_PARSE_TIMEOUT',\n          req\n        ));\n\n        return;\n      }\n\n      // Sometime, the response will be very slow, and does not respond, the connect event will be block by event loop system.\n      // And timer callback will be fired, and abort() will be invoked before connection, then get \"socket hang up\" and code ECONNRESET.\n      // At this time, if we have a large number of request, nodejs will hang up some socket on background. and the number will up and up.\n      // And then these socket which be hang up will devoring CPU little by little.\n      // ClientRequest.setTimeout will be fired on the specify milliseconds, and can make sure that abort() will be fired after connect.\n      req.setTimeout(timeout, function handleRequestTimeout() {\n        req.abort();\n        reject(createError(\n          'timeout of ' + timeout + 'ms exceeded',\n          config,\n          config.transitional && config.transitional.clarifyTimeoutError ? 'ETIMEDOUT' : 'ECONNABORTED',\n          req\n        ));\n      });\n    }\n\n    if (config.cancelToken) {\n      // Handle cancellation\n      config.cancelToken.promise.then(function onCanceled(cancel) {\n        if (req.aborted) return;\n\n        req.abort();\n        reject(cancel);\n      });\n    }\n\n    // Send the request\n    if (utils.isStream(data)) {\n      data.on('error', function handleStreamError(err) {\n        reject(enhanceError(err, config, null, req));\n      }).pipe(req);\n    } else {\n      req.end(data);\n    }\n  });\n};\n","'use strict';\n\nvar utils = require('./../utils');\nvar settle = require('./../core/settle');\nvar cookies = require('./../helpers/cookies');\nvar buildURL = require('./../helpers/buildURL');\nvar buildFullPath = require('../core/buildFullPath');\nvar parseHeaders = require('./../helpers/parseHeaders');\nvar isURLSameOrigin = require('./../helpers/isURLSameOrigin');\nvar createError = require('../core/createError');\n\nmodule.exports = function xhrAdapter(config) {\n  return new Promise(function dispatchXhrRequest(resolve, reject) {\n    var requestData = config.data;\n    var requestHeaders = config.headers;\n    var responseType = config.responseType;\n\n    if (utils.isFormData(requestData)) {\n      delete requestHeaders['Content-Type']; // Let the browser set it\n    }\n\n    var request = new XMLHttpRequest();\n\n    // HTTP basic authentication\n    if (config.auth) {\n      var username = config.auth.username || '';\n      var password = config.auth.password ? unescape(encodeURIComponent(config.auth.password)) : '';\n      requestHeaders.Authorization = 'Basic ' + btoa(username + ':' + password);\n    }\n\n    var fullPath = buildFullPath(config.baseURL, config.url);\n    request.open(config.method.toUpperCase(), buildURL(fullPath, config.params, config.paramsSerializer), true);\n\n    // Set the request timeout in MS\n    request.timeout = config.timeout;\n\n    function onloadend() {\n      if (!request) {\n        return;\n      }\n      // Prepare the response\n      var responseHeaders = 'getAllResponseHeaders' in request ? parseHeaders(request.getAllResponseHeaders()) : null;\n      var responseData = !responseType || responseType === 'text' ||  responseType === 'json' ?\n        request.responseText : request.response;\n      var response = {\n        data: responseData,\n        status: request.status,\n        statusText: request.statusText,\n        headers: responseHeaders,\n        config: config,\n        request: request\n      };\n\n      settle(resolve, reject, response);\n\n      // Clean up request\n      request = null;\n    }\n\n    if ('onloadend' in request) {\n      // Use onloadend if available\n      request.onloadend = onloadend;\n    } else {\n      // Listen for ready state to emulate onloadend\n      request.onreadystatechange = function handleLoad() {\n        if (!request || request.readyState !== 4) {\n          return;\n        }\n\n        // The request errored out and we didn't get a response, this will be\n        // handled by onerror instead\n        // With one exception: request that using file: protocol, most browsers\n        // will return status as 0 even though it's a successful request\n        if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf('file:') === 0)) {\n          return;\n        }\n        // readystate handler is calling before onerror or ontimeout handlers,\n        // so we should call onloadend on the next 'tick'\n        setTimeout(onloadend);\n      };\n    }\n\n    // Handle browser request cancellation (as opposed to a manual cancellation)\n    request.onabort = function handleAbort() {\n      if (!request) {\n        return;\n      }\n\n      reject(createError('Request aborted', config, 'ECONNABORTED', request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle low level network errors\n    request.onerror = function handleError() {\n      // Real errors are hidden from us by the browser\n      // onerror should only fire if it's a network error\n      reject(createError('Network Error', config, null, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle timeout\n    request.ontimeout = function handleTimeout() {\n      var timeoutErrorMessage = 'timeout of ' + config.timeout + 'ms exceeded';\n      if (config.timeoutErrorMessage) {\n        timeoutErrorMessage = config.timeoutErrorMessage;\n      }\n      reject(createError(\n        timeoutErrorMessage,\n        config,\n        config.transitional && config.transitional.clarifyTimeoutError ? 'ETIMEDOUT' : 'ECONNABORTED',\n        request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Add xsrf header\n    // This is only done if running in a standard browser environment.\n    // Specifically not if we're in a web worker, or react-native.\n    if (utils.isStandardBrowserEnv()) {\n      // Add xsrf header\n      var xsrfValue = (config.withCredentials || isURLSameOrigin(fullPath)) && config.xsrfCookieName ?\n        cookies.read(config.xsrfCookieName) :\n        undefined;\n\n      if (xsrfValue) {\n        requestHeaders[config.xsrfHeaderName] = xsrfValue;\n      }\n    }\n\n    // Add headers to the request\n    if ('setRequestHeader' in request) {\n      utils.forEach(requestHeaders, function setRequestHeader(val, key) {\n        if (typeof requestData === 'undefined' && key.toLowerCase() === 'content-type') {\n          // Remove Content-Type if data is undefined\n          delete requestHeaders[key];\n        } else {\n          // Otherwise add header to the request\n          request.setRequestHeader(key, val);\n        }\n      });\n    }\n\n    // Add withCredentials to request if needed\n    if (!utils.isUndefined(config.withCredentials)) {\n      request.withCredentials = !!config.withCredentials;\n    }\n\n    // Add responseType to request if needed\n    if (responseType && responseType !== 'json') {\n      request.responseType = config.responseType;\n    }\n\n    // Handle progress if needed\n    if (typeof config.onDownloadProgress === 'function') {\n      request.addEventListener('progress', config.onDownloadProgress);\n    }\n\n    // Not all browsers support upload events\n    if (typeof config.onUploadProgress === 'function' && request.upload) {\n      request.upload.addEventListener('progress', config.onUploadProgress);\n    }\n\n    if (config.cancelToken) {\n      // Handle cancellation\n      config.cancelToken.promise.then(function onCanceled(cancel) {\n        if (!request) {\n          return;\n        }\n\n        request.abort();\n        reject(cancel);\n        // Clean up request\n        request = null;\n      });\n    }\n\n    if (!requestData) {\n      requestData = null;\n    }\n\n    // Send the request\n    request.send(requestData);\n  });\n};\n","'use strict';\n\nvar utils = require('./utils');\nvar bind = require('./helpers/bind');\nvar Axios = require('./core/Axios');\nvar mergeConfig = require('./core/mergeConfig');\nvar defaults = require('./defaults');\n\n/**\n * Create an instance of Axios\n *\n * @param {Object} defaultConfig The default config for the instance\n * @return {Axios} A new instance of Axios\n */\nfunction createInstance(defaultConfig) {\n  var context = new Axios(defaultConfig);\n  var instance = bind(Axios.prototype.request, context);\n\n  // Copy axios.prototype to instance\n  utils.extend(instance, Axios.prototype, context);\n\n  // Copy context to instance\n  utils.extend(instance, context);\n\n  return instance;\n}\n\n// Create the default instance to be exported\nvar axios = createInstance(defaults);\n\n// Expose Axios class to allow class inheritance\naxios.Axios = Axios;\n\n// Factory for creating new instances\naxios.create = function create(instanceConfig) {\n  return createInstance(mergeConfig(axios.defaults, instanceConfig));\n};\n\n// Expose Cancel & CancelToken\naxios.Cancel = require('./cancel/Cancel');\naxios.CancelToken = require('./cancel/CancelToken');\naxios.isCancel = require('./cancel/isCancel');\n\n// Expose all/spread\naxios.all = function all(promises) {\n  return Promise.all(promises);\n};\naxios.spread = require('./helpers/spread');\n\n// Expose isAxiosError\naxios.isAxiosError = require('./helpers/isAxiosError');\n\nmodule.exports = axios;\n\n// Allow use of default import syntax in TypeScript\nmodule.exports.default = axios;\n","'use strict';\n\n/**\n * A `Cancel` is an object that is thrown when an operation is canceled.\n *\n * @class\n * @param {string=} message The message.\n */\nfunction Cancel(message) {\n  this.message = message;\n}\n\nCancel.prototype.toString = function toString() {\n  return 'Cancel' + (this.message ? ': ' + this.message : '');\n};\n\nCancel.prototype.__CANCEL__ = true;\n\nmodule.exports = Cancel;\n","'use strict';\n\nvar Cancel = require('./Cancel');\n\n/**\n * A `CancelToken` is an object that can be used to request cancellation of an operation.\n *\n * @class\n * @param {Function} executor The executor function.\n */\nfunction CancelToken(executor) {\n  if (typeof executor !== 'function') {\n    throw new TypeError('executor must be a function.');\n  }\n\n  var resolvePromise;\n  this.promise = new Promise(function promiseExecutor(resolve) {\n    resolvePromise = resolve;\n  });\n\n  var token = this;\n  executor(function cancel(message) {\n    if (token.reason) {\n      // Cancellation has already been requested\n      return;\n    }\n\n    token.reason = new Cancel(message);\n    resolvePromise(token.reason);\n  });\n}\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nCancelToken.prototype.throwIfRequested = function throwIfRequested() {\n  if (this.reason) {\n    throw this.reason;\n  }\n};\n\n/**\n * Returns an object that contains a new `CancelToken` and a function that, when called,\n * cancels the `CancelToken`.\n */\nCancelToken.source = function source() {\n  var cancel;\n  var token = new CancelToken(function executor(c) {\n    cancel = c;\n  });\n  return {\n    token: token,\n    cancel: cancel\n  };\n};\n\nmodule.exports = CancelToken;\n","'use strict';\n\nmodule.exports = function isCancel(value) {\n  return !!(value && value.__CANCEL__);\n};\n","'use strict';\n\nvar utils = require('./../utils');\nvar buildURL = require('../helpers/buildURL');\nvar InterceptorManager = require('./InterceptorManager');\nvar dispatchRequest = require('./dispatchRequest');\nvar mergeConfig = require('./mergeConfig');\nvar validator = require('../helpers/validator');\n\nvar validators = validator.validators;\n/**\n * Create a new instance of Axios\n *\n * @param {Object} instanceConfig The default config for the instance\n */\nfunction Axios(instanceConfig) {\n  this.defaults = instanceConfig;\n  this.interceptors = {\n    request: new InterceptorManager(),\n    response: new InterceptorManager()\n  };\n}\n\n/**\n * Dispatch a request\n *\n * @param {Object} config The config specific for this request (merged with this.defaults)\n */\nAxios.prototype.request = function request(config) {\n  /*eslint no-param-reassign:0*/\n  // Allow for axios('example/url'[, config]) a la fetch API\n  if (typeof config === 'string') {\n    config = arguments[1] || {};\n    config.url = arguments[0];\n  } else {\n    config = config || {};\n  }\n\n  config = mergeConfig(this.defaults, config);\n\n  // Set config.method\n  if (config.method) {\n    config.method = config.method.toLowerCase();\n  } else if (this.defaults.method) {\n    config.method = this.defaults.method.toLowerCase();\n  } else {\n    config.method = 'get';\n  }\n\n  var transitional = config.transitional;\n\n  if (transitional !== undefined) {\n    validator.assertOptions(transitional, {\n      silentJSONParsing: validators.transitional(validators.boolean, '1.0.0'),\n      forcedJSONParsing: validators.transitional(validators.boolean, '1.0.0'),\n      clarifyTimeoutError: validators.transitional(validators.boolean, '1.0.0')\n    }, false);\n  }\n\n  // filter out skipped interceptors\n  var requestInterceptorChain = [];\n  var synchronousRequestInterceptors = true;\n  this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {\n    if (typeof interceptor.runWhen === 'function' && interceptor.runWhen(config) === false) {\n      return;\n    }\n\n    synchronousRequestInterceptors = synchronousRequestInterceptors && interceptor.synchronous;\n\n    requestInterceptorChain.unshift(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  var responseInterceptorChain = [];\n  this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {\n    responseInterceptorChain.push(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  var promise;\n\n  if (!synchronousRequestInterceptors) {\n    var chain = [dispatchRequest, undefined];\n\n    Array.prototype.unshift.apply(chain, requestInterceptorChain);\n    chain = chain.concat(responseInterceptorChain);\n\n    promise = Promise.resolve(config);\n    while (chain.length) {\n      promise = promise.then(chain.shift(), chain.shift());\n    }\n\n    return promise;\n  }\n\n\n  var newConfig = config;\n  while (requestInterceptorChain.length) {\n    var onFulfilled = requestInterceptorChain.shift();\n    var onRejected = requestInterceptorChain.shift();\n    try {\n      newConfig = onFulfilled(newConfig);\n    } catch (error) {\n      onRejected(error);\n      break;\n    }\n  }\n\n  try {\n    promise = dispatchRequest(newConfig);\n  } catch (error) {\n    return Promise.reject(error);\n  }\n\n  while (responseInterceptorChain.length) {\n    promise = promise.then(responseInterceptorChain.shift(), responseInterceptorChain.shift());\n  }\n\n  return promise;\n};\n\nAxios.prototype.getUri = function getUri(config) {\n  config = mergeConfig(this.defaults, config);\n  return buildURL(config.url, config.params, config.paramsSerializer).replace(/^\\?/, '');\n};\n\n// Provide aliases for supported request methods\nutils.forEach(['delete', 'get', 'head', 'options'], function forEachMethodNoData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, config) {\n    return this.request(mergeConfig(config || {}, {\n      method: method,\n      url: url,\n      data: (config || {}).data\n    }));\n  };\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, data, config) {\n    return this.request(mergeConfig(config || {}, {\n      method: method,\n      url: url,\n      data: data\n    }));\n  };\n});\n\nmodule.exports = Axios;\n","'use strict';\n\nvar utils = require('./../utils');\n\nfunction InterceptorManager() {\n  this.handlers = [];\n}\n\n/**\n * Add a new interceptor to the stack\n *\n * @param {Function} fulfilled The function to handle `then` for a `Promise`\n * @param {Function} rejected The function to handle `reject` for a `Promise`\n *\n * @return {Number} An ID used to remove interceptor later\n */\nInterceptorManager.prototype.use = function use(fulfilled, rejected, options) {\n  this.handlers.push({\n    fulfilled: fulfilled,\n    rejected: rejected,\n    synchronous: options ? options.synchronous : false,\n    runWhen: options ? options.runWhen : null\n  });\n  return this.handlers.length - 1;\n};\n\n/**\n * Remove an interceptor from the stack\n *\n * @param {Number} id The ID that was returned by `use`\n */\nInterceptorManager.prototype.eject = function eject(id) {\n  if (this.handlers[id]) {\n    this.handlers[id] = null;\n  }\n};\n\n/**\n * Iterate over all the registered interceptors\n *\n * This method is particularly useful for skipping over any\n * interceptors that may have become `null` calling `eject`.\n *\n * @param {Function} fn The function to call for each interceptor\n */\nInterceptorManager.prototype.forEach = function forEach(fn) {\n  utils.forEach(this.handlers, function forEachHandler(h) {\n    if (h !== null) {\n      fn(h);\n    }\n  });\n};\n\nmodule.exports = InterceptorManager;\n","'use strict';\n\nvar isAbsoluteURL = require('../helpers/isAbsoluteURL');\nvar combineURLs = require('../helpers/combineURLs');\n\n/**\n * Creates a new URL by combining the baseURL with the requestedURL,\n * only when the requestedURL is not already an absolute URL.\n * If the requestURL is absolute, this function returns the requestedURL untouched.\n *\n * @param {string} baseURL The base URL\n * @param {string} requestedURL Absolute or relative URL to combine\n * @returns {string} The combined full path\n */\nmodule.exports = function buildFullPath(baseURL, requestedURL) {\n  if (baseURL && !isAbsoluteURL(requestedURL)) {\n    return combineURLs(baseURL, requestedURL);\n  }\n  return requestedURL;\n};\n","'use strict';\n\nvar enhanceError = require('./enhanceError');\n\n/**\n * Create an Error with the specified message, config, error code, request and response.\n *\n * @param {string} message The error message.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The created error.\n */\nmodule.exports = function createError(message, config, code, request, response) {\n  var error = new Error(message);\n  return enhanceError(error, config, code, request, response);\n};\n","'use strict';\n\nvar utils = require('./../utils');\nvar transformData = require('./transformData');\nvar isCancel = require('../cancel/isCancel');\nvar defaults = require('../defaults');\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nfunction throwIfCancellationRequested(config) {\n  if (config.cancelToken) {\n    config.cancelToken.throwIfRequested();\n  }\n}\n\n/**\n * Dispatch a request to the server using the configured adapter.\n *\n * @param {object} config The config that is to be used for the request\n * @returns {Promise} The Promise to be fulfilled\n */\nmodule.exports = function dispatchRequest(config) {\n  throwIfCancellationRequested(config);\n\n  // Ensure headers exist\n  config.headers = config.headers || {};\n\n  // Transform request data\n  config.data = transformData.call(\n    config,\n    config.data,\n    config.headers,\n    config.transformRequest\n  );\n\n  // Flatten headers\n  config.headers = utils.merge(\n    config.headers.common || {},\n    config.headers[config.method] || {},\n    config.headers\n  );\n\n  utils.forEach(\n    ['delete', 'get', 'head', 'post', 'put', 'patch', 'common'],\n    function cleanHeaderConfig(method) {\n      delete config.headers[method];\n    }\n  );\n\n  var adapter = config.adapter || defaults.adapter;\n\n  return adapter(config).then(function onAdapterResolution(response) {\n    throwIfCancellationRequested(config);\n\n    // Transform response data\n    response.data = transformData.call(\n      config,\n      response.data,\n      response.headers,\n      config.transformResponse\n    );\n\n    return response;\n  }, function onAdapterRejection(reason) {\n    if (!isCancel(reason)) {\n      throwIfCancellationRequested(config);\n\n      // Transform response data\n      if (reason && reason.response) {\n        reason.response.data = transformData.call(\n          config,\n          reason.response.data,\n          reason.response.headers,\n          config.transformResponse\n        );\n      }\n    }\n\n    return Promise.reject(reason);\n  });\n};\n","'use strict';\n\n/**\n * Update an Error with the specified config, error code, and response.\n *\n * @param {Error} error The error to update.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The error.\n */\nmodule.exports = function enhanceError(error, config, code, request, response) {\n  error.config = config;\n  if (code) {\n    error.code = code;\n  }\n\n  error.request = request;\n  error.response = response;\n  error.isAxiosError = true;\n\n  error.toJSON = function toJSON() {\n    return {\n      // Standard\n      message: this.message,\n      name: this.name,\n      // Microsoft\n      description: this.description,\n      number: this.number,\n      // Mozilla\n      fileName: this.fileName,\n      lineNumber: this.lineNumber,\n      columnNumber: this.columnNumber,\n      stack: this.stack,\n      // Axios\n      config: this.config,\n      code: this.code\n    };\n  };\n  return error;\n};\n","'use strict';\n\nvar utils = require('../utils');\n\n/**\n * Config-specific merge-function which creates a new config-object\n * by merging two configuration objects together.\n *\n * @param {Object} config1\n * @param {Object} config2\n * @returns {Object} New object resulting from merging config2 to config1\n */\nmodule.exports = function mergeConfig(config1, config2) {\n  // eslint-disable-next-line no-param-reassign\n  config2 = config2 || {};\n  var config = {};\n\n  var valueFromConfig2Keys = ['url', 'method', 'data'];\n  var mergeDeepPropertiesKeys = ['headers', 'auth', 'proxy', 'params'];\n  var defaultToConfig2Keys = [\n    'baseURL', 'transformRequest', 'transformResponse', 'paramsSerializer',\n    'timeout', 'timeoutMessage', 'withCredentials', 'adapter', 'responseType', 'xsrfCookieName',\n    'xsrfHeaderName', 'onUploadProgress', 'onDownloadProgress', 'decompress',\n    'maxContentLength', 'maxBodyLength', 'maxRedirects', 'transport', 'httpAgent',\n    'httpsAgent', 'cancelToken', 'socketPath', 'responseEncoding'\n  ];\n  var directMergeKeys = ['validateStatus'];\n\n  function getMergedValue(target, source) {\n    if (utils.isPlainObject(target) && utils.isPlainObject(source)) {\n      return utils.merge(target, source);\n    } else if (utils.isPlainObject(source)) {\n      return utils.merge({}, source);\n    } else if (utils.isArray(source)) {\n      return source.slice();\n    }\n    return source;\n  }\n\n  function mergeDeepProperties(prop) {\n    if (!utils.isUndefined(config2[prop])) {\n      config[prop] = getMergedValue(config1[prop], config2[prop]);\n    } else if (!utils.isUndefined(config1[prop])) {\n      config[prop] = getMergedValue(undefined, config1[prop]);\n    }\n  }\n\n  utils.forEach(valueFromConfig2Keys, function valueFromConfig2(prop) {\n    if (!utils.isUndefined(config2[prop])) {\n      config[prop] = getMergedValue(undefined, config2[prop]);\n    }\n  });\n\n  utils.forEach(mergeDeepPropertiesKeys, mergeDeepProperties);\n\n  utils.forEach(defaultToConfig2Keys, function defaultToConfig2(prop) {\n    if (!utils.isUndefined(config2[prop])) {\n      config[prop] = getMergedValue(undefined, config2[prop]);\n    } else if (!utils.isUndefined(config1[prop])) {\n      config[prop] = getMergedValue(undefined, config1[prop]);\n    }\n  });\n\n  utils.forEach(directMergeKeys, function merge(prop) {\n    if (prop in config2) {\n      config[prop] = getMergedValue(config1[prop], config2[prop]);\n    } else if (prop in config1) {\n      config[prop] = getMergedValue(undefined, config1[prop]);\n    }\n  });\n\n  var axiosKeys = valueFromConfig2Keys\n    .concat(mergeDeepPropertiesKeys)\n    .concat(defaultToConfig2Keys)\n    .concat(directMergeKeys);\n\n  var otherKeys = Object\n    .keys(config1)\n    .concat(Object.keys(config2))\n    .filter(function filterAxiosKeys(key) {\n      return axiosKeys.indexOf(key) === -1;\n    });\n\n  utils.forEach(otherKeys, mergeDeepProperties);\n\n  return config;\n};\n","'use strict';\n\nvar createError = require('./createError');\n\n/**\n * Resolve or reject a Promise based on response status.\n *\n * @param {Function} resolve A function that resolves the promise.\n * @param {Function} reject A function that rejects the promise.\n * @param {object} response The response.\n */\nmodule.exports = function settle(resolve, reject, response) {\n  var validateStatus = response.config.validateStatus;\n  if (!response.status || !validateStatus || validateStatus(response.status)) {\n    resolve(response);\n  } else {\n    reject(createError(\n      'Request failed with status code ' + response.status,\n      response.config,\n      null,\n      response.request,\n      response\n    ));\n  }\n};\n","'use strict';\n\nvar utils = require('./../utils');\nvar defaults = require('./../defaults');\n\n/**\n * Transform the data for a request or a response\n *\n * @param {Object|String} data The data to be transformed\n * @param {Array} headers The headers for the request or response\n * @param {Array|Function} fns A single function or Array of functions\n * @returns {*} The resulting transformed data\n */\nmodule.exports = function transformData(data, headers, fns) {\n  var context = this || defaults;\n  /*eslint no-param-reassign:0*/\n  utils.forEach(fns, function transform(fn) {\n    data = fn.call(context, data, headers);\n  });\n\n  return data;\n};\n","'use strict';\n\nvar utils = require('./utils');\nvar normalizeHeaderName = require('./helpers/normalizeHeaderName');\nvar enhanceError = require('./core/enhanceError');\n\nvar DEFAULT_CONTENT_TYPE = {\n  'Content-Type': 'application/x-www-form-urlencoded'\n};\n\nfunction setContentTypeIfUnset(headers, value) {\n  if (!utils.isUndefined(headers) && utils.isUndefined(headers['Content-Type'])) {\n    headers['Content-Type'] = value;\n  }\n}\n\nfunction getDefaultAdapter() {\n  var adapter;\n  if (typeof XMLHttpRequest !== 'undefined') {\n    // For browsers use XHR adapter\n    adapter = require('./adapters/xhr');\n  } else if (typeof process !== 'undefined' && Object.prototype.toString.call(process) === '[object process]') {\n    // For node use HTTP adapter\n    adapter = require('./adapters/http');\n  }\n  return adapter;\n}\n\nfunction stringifySafely(rawValue, parser, encoder) {\n  if (utils.isString(rawValue)) {\n    try {\n      (parser || JSON.parse)(rawValue);\n      return utils.trim(rawValue);\n    } catch (e) {\n      if (e.name !== 'SyntaxError') {\n        throw e;\n      }\n    }\n  }\n\n  return (encoder || JSON.stringify)(rawValue);\n}\n\nvar defaults = {\n\n  transitional: {\n    silentJSONParsing: true,\n    forcedJSONParsing: true,\n    clarifyTimeoutError: false\n  },\n\n  adapter: getDefaultAdapter(),\n\n  transformRequest: [function transformRequest(data, headers) {\n    normalizeHeaderName(headers, 'Accept');\n    normalizeHeaderName(headers, 'Content-Type');\n\n    if (utils.isFormData(data) ||\n      utils.isArrayBuffer(data) ||\n      utils.isBuffer(data) ||\n      utils.isStream(data) ||\n      utils.isFile(data) ||\n      utils.isBlob(data)\n    ) {\n      return data;\n    }\n    if (utils.isArrayBufferView(data)) {\n      return data.buffer;\n    }\n    if (utils.isURLSearchParams(data)) {\n      setContentTypeIfUnset(headers, 'application/x-www-form-urlencoded;charset=utf-8');\n      return data.toString();\n    }\n    if (utils.isObject(data) || (headers && headers['Content-Type'] === 'application/json')) {\n      setContentTypeIfUnset(headers, 'application/json');\n      return stringifySafely(data);\n    }\n    return data;\n  }],\n\n  transformResponse: [function transformResponse(data) {\n    var transitional = this.transitional;\n    var silentJSONParsing = transitional && transitional.silentJSONParsing;\n    var forcedJSONParsing = transitional && transitional.forcedJSONParsing;\n    var strictJSONParsing = !silentJSONParsing && this.responseType === 'json';\n\n    if (strictJSONParsing || (forcedJSONParsing && utils.isString(data) && data.length)) {\n      try {\n        return JSON.parse(data);\n      } catch (e) {\n        if (strictJSONParsing) {\n          if (e.name === 'SyntaxError') {\n            throw enhanceError(e, this, 'E_JSON_PARSE');\n          }\n          throw e;\n        }\n      }\n    }\n\n    return data;\n  }],\n\n  /**\n   * A timeout in milliseconds to abort a request. If set to 0 (default) a\n   * timeout is not created.\n   */\n  timeout: 0,\n\n  xsrfCookieName: 'XSRF-TOKEN',\n  xsrfHeaderName: 'X-XSRF-TOKEN',\n\n  maxContentLength: -1,\n  maxBodyLength: -1,\n\n  validateStatus: function validateStatus(status) {\n    return status >= 200 && status < 300;\n  }\n};\n\ndefaults.headers = {\n  common: {\n    'Accept': 'application/json, text/plain, */*'\n  }\n};\n\nutils.forEach(['delete', 'get', 'head'], function forEachMethodNoData(method) {\n  defaults.headers[method] = {};\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  defaults.headers[method] = utils.merge(DEFAULT_CONTENT_TYPE);\n});\n\nmodule.exports = defaults;\n","'use strict';\n\nmodule.exports = function bind(fn, thisArg) {\n  return function wrap() {\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n    return fn.apply(thisArg, args);\n  };\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nfunction encode(val) {\n  return encodeURIComponent(val).\n    replace(/%3A/gi, ':').\n    replace(/%24/g, '$').\n    replace(/%2C/gi, ',').\n    replace(/%20/g, '+').\n    replace(/%5B/gi, '[').\n    replace(/%5D/gi, ']');\n}\n\n/**\n * Build a URL by appending params to the end\n *\n * @param {string} url The base of the url (e.g., http://www.google.com)\n * @param {object} [params] The params to be appended\n * @returns {string} The formatted url\n */\nmodule.exports = function buildURL(url, params, paramsSerializer) {\n  /*eslint no-param-reassign:0*/\n  if (!params) {\n    return url;\n  }\n\n  var serializedParams;\n  if (paramsSerializer) {\n    serializedParams = paramsSerializer(params);\n  } else if (utils.isURLSearchParams(params)) {\n    serializedParams = params.toString();\n  } else {\n    var parts = [];\n\n    utils.forEach(params, function serialize(val, key) {\n      if (val === null || typeof val === 'undefined') {\n        return;\n      }\n\n      if (utils.isArray(val)) {\n        key = key + '[]';\n      } else {\n        val = [val];\n      }\n\n      utils.forEach(val, function parseValue(v) {\n        if (utils.isDate(v)) {\n          v = v.toISOString();\n        } else if (utils.isObject(v)) {\n          v = JSON.stringify(v);\n        }\n        parts.push(encode(key) + '=' + encode(v));\n      });\n    });\n\n    serializedParams = parts.join('&');\n  }\n\n  if (serializedParams) {\n    var hashmarkIndex = url.indexOf('#');\n    if (hashmarkIndex !== -1) {\n      url = url.slice(0, hashmarkIndex);\n    }\n\n    url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams;\n  }\n\n  return url;\n};\n","'use strict';\n\n/**\n * Creates a new URL by combining the specified URLs\n *\n * @param {string} baseURL The base URL\n * @param {string} relativeURL The relative URL\n * @returns {string} The combined URL\n */\nmodule.exports = function combineURLs(baseURL, relativeURL) {\n  return relativeURL\n    ? baseURL.replace(/\\/+$/, '') + '/' + relativeURL.replace(/^\\/+/, '')\n    : baseURL;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs support document.cookie\n    (function standardBrowserEnv() {\n      return {\n        write: function write(name, value, expires, path, domain, secure) {\n          var cookie = [];\n          cookie.push(name + '=' + encodeURIComponent(value));\n\n          if (utils.isNumber(expires)) {\n            cookie.push('expires=' + new Date(expires).toGMTString());\n          }\n\n          if (utils.isString(path)) {\n            cookie.push('path=' + path);\n          }\n\n          if (utils.isString(domain)) {\n            cookie.push('domain=' + domain);\n          }\n\n          if (secure === true) {\n            cookie.push('secure');\n          }\n\n          document.cookie = cookie.join('; ');\n        },\n\n        read: function read(name) {\n          var match = document.cookie.match(new RegExp('(^|;\\\\s*)(' + name + ')=([^;]*)'));\n          return (match ? decodeURIComponent(match[3]) : null);\n        },\n\n        remove: function remove(name) {\n          this.write(name, '', Date.now() - 86400000);\n        }\n      };\n    })() :\n\n  // Non standard browser env (web workers, react-native) lack needed support.\n    (function nonStandardBrowserEnv() {\n      return {\n        write: function write() {},\n        read: function read() { return null; },\n        remove: function remove() {}\n      };\n    })()\n);\n","'use strict';\n\n/**\n * Determines whether the specified URL is absolute\n *\n * @param {string} url The URL to test\n * @returns {boolean} True if the specified URL is absolute, otherwise false\n */\nmodule.exports = function isAbsoluteURL(url) {\n  // A URL is considered absolute if it begins with \"<scheme>://\" or \"//\" (protocol-relative URL).\n  // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed\n  // by any combination of letters, digits, plus, period, or hyphen.\n  return /^([a-z][a-z\\d\\+\\-\\.]*:)?\\/\\//i.test(url);\n};\n","'use strict';\n\n/**\n * Determines whether the payload is an error thrown by Axios\n *\n * @param {*} payload The value to test\n * @returns {boolean} True if the payload is an error thrown by Axios, otherwise false\n */\nmodule.exports = function isAxiosError(payload) {\n  return (typeof payload === 'object') && (payload.isAxiosError === true);\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs have full support of the APIs needed to test\n  // whether the request URL is of the same origin as current location.\n    (function standardBrowserEnv() {\n      var msie = /(msie|trident)/i.test(navigator.userAgent);\n      var urlParsingNode = document.createElement('a');\n      var originURL;\n\n      /**\n    * Parse a URL to discover it's components\n    *\n    * @param {String} url The URL to be parsed\n    * @returns {Object}\n    */\n      function resolveURL(url) {\n        var href = url;\n\n        if (msie) {\n        // IE needs attribute set twice to normalize properties\n          urlParsingNode.setAttribute('href', href);\n          href = urlParsingNode.href;\n        }\n\n        urlParsingNode.setAttribute('href', href);\n\n        // urlParsingNode provides the UrlUtils interface - http://url.spec.whatwg.org/#urlutils\n        return {\n          href: urlParsingNode.href,\n          protocol: urlParsingNode.protocol ? urlParsingNode.protocol.replace(/:$/, '') : '',\n          host: urlParsingNode.host,\n          search: urlParsingNode.search ? urlParsingNode.search.replace(/^\\?/, '') : '',\n          hash: urlParsingNode.hash ? urlParsingNode.hash.replace(/^#/, '') : '',\n          hostname: urlParsingNode.hostname,\n          port: urlParsingNode.port,\n          pathname: (urlParsingNode.pathname.charAt(0) === '/') ?\n            urlParsingNode.pathname :\n            '/' + urlParsingNode.pathname\n        };\n      }\n\n      originURL = resolveURL(window.location.href);\n\n      /**\n    * Determine if a URL shares the same origin as the current location\n    *\n    * @param {String} requestURL The URL to test\n    * @returns {boolean} True if URL shares the same origin, otherwise false\n    */\n      return function isURLSameOrigin(requestURL) {\n        var parsed = (utils.isString(requestURL)) ? resolveURL(requestURL) : requestURL;\n        return (parsed.protocol === originURL.protocol &&\n            parsed.host === originURL.host);\n      };\n    })() :\n\n  // Non standard browser envs (web workers, react-native) lack needed support.\n    (function nonStandardBrowserEnv() {\n      return function isURLSameOrigin() {\n        return true;\n      };\n    })()\n);\n","'use strict';\n\nvar utils = require('../utils');\n\nmodule.exports = function normalizeHeaderName(headers, normalizedName) {\n  utils.forEach(headers, function processHeader(value, name) {\n    if (name !== normalizedName && name.toUpperCase() === normalizedName.toUpperCase()) {\n      headers[normalizedName] = value;\n      delete headers[name];\n    }\n  });\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\n// Headers whose duplicates are ignored by node\n// c.f. https://nodejs.org/api/http.html#http_message_headers\nvar ignoreDuplicateOf = [\n  'age', 'authorization', 'content-length', 'content-type', 'etag',\n  'expires', 'from', 'host', 'if-modified-since', 'if-unmodified-since',\n  'last-modified', 'location', 'max-forwards', 'proxy-authorization',\n  'referer', 'retry-after', 'user-agent'\n];\n\n/**\n * Parse headers into an object\n *\n * ```\n * Date: Wed, 27 Aug 2014 08:58:49 GMT\n * Content-Type: application/json\n * Connection: keep-alive\n * Transfer-Encoding: chunked\n * ```\n *\n * @param {String} headers Headers needing to be parsed\n * @returns {Object} Headers parsed into an object\n */\nmodule.exports = function parseHeaders(headers) {\n  var parsed = {};\n  var key;\n  var val;\n  var i;\n\n  if (!headers) { return parsed; }\n\n  utils.forEach(headers.split('\\n'), function parser(line) {\n    i = line.indexOf(':');\n    key = utils.trim(line.substr(0, i)).toLowerCase();\n    val = utils.trim(line.substr(i + 1));\n\n    if (key) {\n      if (parsed[key] && ignoreDuplicateOf.indexOf(key) >= 0) {\n        return;\n      }\n      if (key === 'set-cookie') {\n        parsed[key] = (parsed[key] ? parsed[key] : []).concat([val]);\n      } else {\n        parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\n      }\n    }\n  });\n\n  return parsed;\n};\n","'use strict';\n\n/**\n * Syntactic sugar for invoking a function and expanding an array for arguments.\n *\n * Common use case would be to use `Function.prototype.apply`.\n *\n *  ```js\n *  function f(x, y, z) {}\n *  var args = [1, 2, 3];\n *  f.apply(null, args);\n *  ```\n *\n * With `spread` this example can be re-written.\n *\n *  ```js\n *  spread(function(x, y, z) {})([1, 2, 3]);\n *  ```\n *\n * @param {Function} callback\n * @returns {Function}\n */\nmodule.exports = function spread(callback) {\n  return function wrap(arr) {\n    return callback.apply(null, arr);\n  };\n};\n","'use strict';\n\nvar pkg = require('./../../package.json');\n\nvar validators = {};\n\n// eslint-disable-next-line func-names\n['object', 'boolean', 'number', 'function', 'string', 'symbol'].forEach(function(type, i) {\n  validators[type] = function validator(thing) {\n    return typeof thing === type || 'a' + (i < 1 ? 'n ' : ' ') + type;\n  };\n});\n\nvar deprecatedWarnings = {};\nvar currentVerArr = pkg.version.split('.');\n\n/**\n * Compare package versions\n * @param {string} version\n * @param {string?} thanVersion\n * @returns {boolean}\n */\nfunction isOlderVersion(version, thanVersion) {\n  var pkgVersionArr = thanVersion ? thanVersion.split('.') : currentVerArr;\n  var destVer = version.split('.');\n  for (var i = 0; i < 3; i++) {\n    if (pkgVersionArr[i] > destVer[i]) {\n      return true;\n    } else if (pkgVersionArr[i] < destVer[i]) {\n      return false;\n    }\n  }\n  return false;\n}\n\n/**\n * Transitional option validator\n * @param {function|boolean?} validator\n * @param {string?} version\n * @param {string} message\n * @returns {function}\n */\nvalidators.transitional = function transitional(validator, version, message) {\n  var isDeprecated = version && isOlderVersion(version);\n\n  function formatMessage(opt, desc) {\n    return '[Axios v' + pkg.version + '] Transitional option \\'' + opt + '\\'' + desc + (message ? '. ' + message : '');\n  }\n\n  // eslint-disable-next-line func-names\n  return function(value, opt, opts) {\n    if (validator === false) {\n      throw new Error(formatMessage(opt, ' has been removed in ' + version));\n    }\n\n    if (isDeprecated && !deprecatedWarnings[opt]) {\n      deprecatedWarnings[opt] = true;\n      // eslint-disable-next-line no-console\n      console.warn(\n        formatMessage(\n          opt,\n          ' has been deprecated since v' + version + ' and will be removed in the near future'\n        )\n      );\n    }\n\n    return validator ? validator(value, opt, opts) : true;\n  };\n};\n\n/**\n * Assert object's properties type\n * @param {object} options\n * @param {object} schema\n * @param {boolean?} allowUnknown\n */\n\nfunction assertOptions(options, schema, allowUnknown) {\n  if (typeof options !== 'object') {\n    throw new TypeError('options must be an object');\n  }\n  var keys = Object.keys(options);\n  var i = keys.length;\n  while (i-- > 0) {\n    var opt = keys[i];\n    var validator = schema[opt];\n    if (validator) {\n      var value = options[opt];\n      var result = value === undefined || validator(value, opt, options);\n      if (result !== true) {\n        throw new TypeError('option ' + opt + ' must be ' + result);\n      }\n      continue;\n    }\n    if (allowUnknown !== true) {\n      throw Error('Unknown option ' + opt);\n    }\n  }\n}\n\nmodule.exports = {\n  isOlderVersion: isOlderVersion,\n  assertOptions: assertOptions,\n  validators: validators\n};\n","'use strict';\n\nvar bind = require('./helpers/bind');\n\n// utils is a library of generic helper functions non-specific to axios\n\nvar toString = Object.prototype.toString;\n\n/**\n * Determine if a value is an Array\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Array, otherwise false\n */\nfunction isArray(val) {\n  return toString.call(val) === '[object Array]';\n}\n\n/**\n * Determine if a value is undefined\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if the value is undefined, otherwise false\n */\nfunction isUndefined(val) {\n  return typeof val === 'undefined';\n}\n\n/**\n * Determine if a value is a Buffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Buffer, otherwise false\n */\nfunction isBuffer(val) {\n  return val !== null && !isUndefined(val) && val.constructor !== null && !isUndefined(val.constructor)\n    && typeof val.constructor.isBuffer === 'function' && val.constructor.isBuffer(val);\n}\n\n/**\n * Determine if a value is an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an ArrayBuffer, otherwise false\n */\nfunction isArrayBuffer(val) {\n  return toString.call(val) === '[object ArrayBuffer]';\n}\n\n/**\n * Determine if a value is a FormData\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an FormData, otherwise false\n */\nfunction isFormData(val) {\n  return (typeof FormData !== 'undefined') && (val instanceof FormData);\n}\n\n/**\n * Determine if a value is a view on an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false\n */\nfunction isArrayBufferView(val) {\n  var result;\n  if ((typeof ArrayBuffer !== 'undefined') && (ArrayBuffer.isView)) {\n    result = ArrayBuffer.isView(val);\n  } else {\n    result = (val) && (val.buffer) && (val.buffer instanceof ArrayBuffer);\n  }\n  return result;\n}\n\n/**\n * Determine if a value is a String\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a String, otherwise false\n */\nfunction isString(val) {\n  return typeof val === 'string';\n}\n\n/**\n * Determine if a value is a Number\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Number, otherwise false\n */\nfunction isNumber(val) {\n  return typeof val === 'number';\n}\n\n/**\n * Determine if a value is an Object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Object, otherwise false\n */\nfunction isObject(val) {\n  return val !== null && typeof val === 'object';\n}\n\n/**\n * Determine if a value is a plain Object\n *\n * @param {Object} val The value to test\n * @return {boolean} True if value is a plain Object, otherwise false\n */\nfunction isPlainObject(val) {\n  if (toString.call(val) !== '[object Object]') {\n    return false;\n  }\n\n  var prototype = Object.getPrototypeOf(val);\n  return prototype === null || prototype === Object.prototype;\n}\n\n/**\n * Determine if a value is a Date\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Date, otherwise false\n */\nfunction isDate(val) {\n  return toString.call(val) === '[object Date]';\n}\n\n/**\n * Determine if a value is a File\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a File, otherwise false\n */\nfunction isFile(val) {\n  return toString.call(val) === '[object File]';\n}\n\n/**\n * Determine if a value is a Blob\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Blob, otherwise false\n */\nfunction isBlob(val) {\n  return toString.call(val) === '[object Blob]';\n}\n\n/**\n * Determine if a value is a Function\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Function, otherwise false\n */\nfunction isFunction(val) {\n  return toString.call(val) === '[object Function]';\n}\n\n/**\n * Determine if a value is a Stream\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Stream, otherwise false\n */\nfunction isStream(val) {\n  return isObject(val) && isFunction(val.pipe);\n}\n\n/**\n * Determine if a value is a URLSearchParams object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a URLSearchParams object, otherwise false\n */\nfunction isURLSearchParams(val) {\n  return typeof URLSearchParams !== 'undefined' && val instanceof URLSearchParams;\n}\n\n/**\n * Trim excess whitespace off the beginning and end of a string\n *\n * @param {String} str The String to trim\n * @returns {String} The String freed of excess whitespace\n */\nfunction trim(str) {\n  return str.trim ? str.trim() : str.replace(/^\\s+|\\s+$/g, '');\n}\n\n/**\n * Determine if we're running in a standard browser environment\n *\n * This allows axios to run in a web worker, and react-native.\n * Both environments support XMLHttpRequest, but not fully standard globals.\n *\n * web workers:\n *  typeof window -> undefined\n *  typeof document -> undefined\n *\n * react-native:\n *  navigator.product -> 'ReactNative'\n * nativescript\n *  navigator.product -> 'NativeScript' or 'NS'\n */\nfunction isStandardBrowserEnv() {\n  if (typeof navigator !== 'undefined' && (navigator.product === 'ReactNative' ||\n                                           navigator.product === 'NativeScript' ||\n                                           navigator.product === 'NS')) {\n    return false;\n  }\n  return (\n    typeof window !== 'undefined' &&\n    typeof document !== 'undefined'\n  );\n}\n\n/**\n * Iterate over an Array or an Object invoking a function for each item.\n *\n * If `obj` is an Array callback will be called passing\n * the value, index, and complete array for each item.\n *\n * If 'obj' is an Object callback will be called passing\n * the value, key, and complete object for each property.\n *\n * @param {Object|Array} obj The object to iterate\n * @param {Function} fn The callback to invoke for each item\n */\nfunction forEach(obj, fn) {\n  // Don't bother if no value provided\n  if (obj === null || typeof obj === 'undefined') {\n    return;\n  }\n\n  // Force an array if not already something iterable\n  if (typeof obj !== 'object') {\n    /*eslint no-param-reassign:0*/\n    obj = [obj];\n  }\n\n  if (isArray(obj)) {\n    // Iterate over array values\n    for (var i = 0, l = obj.length; i < l; i++) {\n      fn.call(null, obj[i], i, obj);\n    }\n  } else {\n    // Iterate over object keys\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        fn.call(null, obj[key], key, obj);\n      }\n    }\n  }\n}\n\n/**\n * Accepts varargs expecting each argument to be an object, then\n * immutably merges the properties of each object and returns result.\n *\n * When multiple objects contain the same key the later object in\n * the arguments list will take precedence.\n *\n * Example:\n *\n * ```js\n * var result = merge({foo: 123}, {foo: 456});\n * console.log(result.foo); // outputs 456\n * ```\n *\n * @param {Object} obj1 Object to merge\n * @returns {Object} Result of all merge properties\n */\nfunction merge(/* obj1, obj2, obj3, ... */) {\n  var result = {};\n  function assignValue(val, key) {\n    if (isPlainObject(result[key]) && isPlainObject(val)) {\n      result[key] = merge(result[key], val);\n    } else if (isPlainObject(val)) {\n      result[key] = merge({}, val);\n    } else if (isArray(val)) {\n      result[key] = val.slice();\n    } else {\n      result[key] = val;\n    }\n  }\n\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    forEach(arguments[i], assignValue);\n  }\n  return result;\n}\n\n/**\n * Extends object a by mutably adding to it the properties of object b.\n *\n * @param {Object} a The object to be extended\n * @param {Object} b The object to copy properties from\n * @param {Object} thisArg The object to bind function to\n * @return {Object} The resulting value of object a\n */\nfunction extend(a, b, thisArg) {\n  forEach(b, function assignValue(val, key) {\n    if (thisArg && typeof val === 'function') {\n      a[key] = bind(val, thisArg);\n    } else {\n      a[key] = val;\n    }\n  });\n  return a;\n}\n\n/**\n * Remove byte order marker. This catches EF BB BF (the UTF-8 BOM)\n *\n * @param {string} content with BOM\n * @return {string} content value without BOM\n */\nfunction stripBOM(content) {\n  if (content.charCodeAt(0) === 0xFEFF) {\n    content = content.slice(1);\n  }\n  return content;\n}\n\nmodule.exports = {\n  isArray: isArray,\n  isArrayBuffer: isArrayBuffer,\n  isBuffer: isBuffer,\n  isFormData: isFormData,\n  isArrayBufferView: isArrayBufferView,\n  isString: isString,\n  isNumber: isNumber,\n  isObject: isObject,\n  isPlainObject: isPlainObject,\n  isUndefined: isUndefined,\n  isDate: isDate,\n  isFile: isFile,\n  isBlob: isBlob,\n  isFunction: isFunction,\n  isStream: isStream,\n  isURLSearchParams: isURLSearchParams,\n  isStandardBrowserEnv: isStandardBrowserEnv,\n  forEach: forEach,\n  merge: merge,\n  extend: extend,\n  trim: trim,\n  stripBOM: stripBOM\n};\n","'use strict';\nmodule.exports = balanced;\nfunction balanced(a, b, str) {\n  if (a instanceof RegExp) a = maybeMatch(a, str);\n  if (b instanceof RegExp) b = maybeMatch(b, str);\n\n  var r = range(a, b, str);\n\n  return r && {\n    start: r[0],\n    end: r[1],\n    pre: str.slice(0, r[0]),\n    body: str.slice(r[0] + a.length, r[1]),\n    post: str.slice(r[1] + b.length)\n  };\n}\n\nfunction maybeMatch(reg, str) {\n  var m = str.match(reg);\n  return m ? m[0] : null;\n}\n\nbalanced.range = range;\nfunction range(a, b, str) {\n  var begs, beg, left, right, result;\n  var ai = str.indexOf(a);\n  var bi = str.indexOf(b, ai + 1);\n  var i = ai;\n\n  if (ai >= 0 && bi > 0) {\n    if(a===b) {\n      return [ai, bi];\n    }\n    begs = [];\n    left = str.length;\n\n    while (i >= 0 && !result) {\n      if (i == ai) {\n        begs.push(i);\n        ai = str.indexOf(a, i + 1);\n      } else if (begs.length == 1) {\n        result = [ begs.pop(), bi ];\n      } else {\n        beg = begs.pop();\n        if (beg < left) {\n          left = beg;\n          right = bi;\n        }\n\n        bi = str.indexOf(b, i + 1);\n      }\n\n      i = ai < bi && ai >= 0 ? ai : bi;\n    }\n\n    if (begs.length) {\n      result = [ left, right ];\n    }\n  }\n\n  return result;\n}\n","var concatMap = require('concat-map');\nvar balanced = require('balanced-match');\n\nmodule.exports = expandTop;\n\nvar escSlash = '\\0SLASH'+Math.random()+'\\0';\nvar escOpen = '\\0OPEN'+Math.random()+'\\0';\nvar escClose = '\\0CLOSE'+Math.random()+'\\0';\nvar escComma = '\\0COMMA'+Math.random()+'\\0';\nvar escPeriod = '\\0PERIOD'+Math.random()+'\\0';\n\nfunction numeric(str) {\n  return parseInt(str, 10) == str\n    ? parseInt(str, 10)\n    : str.charCodeAt(0);\n}\n\nfunction escapeBraces(str) {\n  return str.split('\\\\\\\\').join(escSlash)\n            .split('\\\\{').join(escOpen)\n            .split('\\\\}').join(escClose)\n            .split('\\\\,').join(escComma)\n            .split('\\\\.').join(escPeriod);\n}\n\nfunction unescapeBraces(str) {\n  return str.split(escSlash).join('\\\\')\n            .split(escOpen).join('{')\n            .split(escClose).join('}')\n            .split(escComma).join(',')\n            .split(escPeriod).join('.');\n}\n\n\n// Basically just str.split(\",\"), but handling cases\n// where we have nested braced sections, which should be\n// treated as individual members, like {a,{b,c},d}\nfunction parseCommaParts(str) {\n  if (!str)\n    return [''];\n\n  var parts = [];\n  var m = balanced('{', '}', str);\n\n  if (!m)\n    return str.split(',');\n\n  var pre = m.pre;\n  var body = m.body;\n  var post = m.post;\n  var p = pre.split(',');\n\n  p[p.length-1] += '{' + body + '}';\n  var postParts = parseCommaParts(post);\n  if (post.length) {\n    p[p.length-1] += postParts.shift();\n    p.push.apply(p, postParts);\n  }\n\n  parts.push.apply(parts, p);\n\n  return parts;\n}\n\nfunction expandTop(str) {\n  if (!str)\n    return [];\n\n  // I don't know why Bash 4.3 does this, but it does.\n  // Anything starting with {} will have the first two bytes preserved\n  // but *only* at the top level, so {},a}b will not expand to anything,\n  // but a{},b}c will be expanded to [a}c,abc].\n  // One could argue that this is a bug in Bash, but since the goal of\n  // this module is to match Bash's rules, we escape a leading {}\n  if (str.substr(0, 2) === '{}') {\n    str = '\\\\{\\\\}' + str.substr(2);\n  }\n\n  return expand(escapeBraces(str), true).map(unescapeBraces);\n}\n\nfunction identity(e) {\n  return e;\n}\n\nfunction embrace(str) {\n  return '{' + str + '}';\n}\nfunction isPadded(el) {\n  return /^-?0\\d/.test(el);\n}\n\nfunction lte(i, y) {\n  return i <= y;\n}\nfunction gte(i, y) {\n  return i >= y;\n}\n\nfunction expand(str, isTop) {\n  var expansions = [];\n\n  var m = balanced('{', '}', str);\n  if (!m || /\\$$/.test(m.pre)) return [str];\n\n  var isNumericSequence = /^-?\\d+\\.\\.-?\\d+(?:\\.\\.-?\\d+)?$/.test(m.body);\n  var isAlphaSequence = /^[a-zA-Z]\\.\\.[a-zA-Z](?:\\.\\.-?\\d+)?$/.test(m.body);\n  var isSequence = isNumericSequence || isAlphaSequence;\n  var isOptions = m.body.indexOf(',') >= 0;\n  if (!isSequence && !isOptions) {\n    // {a},b}\n    if (m.post.match(/,.*\\}/)) {\n      str = m.pre + '{' + m.body + escClose + m.post;\n      return expand(str);\n    }\n    return [str];\n  }\n\n  var n;\n  if (isSequence) {\n    n = m.body.split(/\\.\\./);\n  } else {\n    n = parseCommaParts(m.body);\n    if (n.length === 1) {\n      // x{{a,b}}y ==> x{a}y x{b}y\n      n = expand(n[0], false).map(embrace);\n      if (n.length === 1) {\n        var post = m.post.length\n          ? expand(m.post, false)\n          : [''];\n        return post.map(function(p) {\n          return m.pre + n[0] + p;\n        });\n      }\n    }\n  }\n\n  // at this point, n is the parts, and we know it's not a comma set\n  // with a single entry.\n\n  // no need to expand pre, since it is guaranteed to be free of brace-sets\n  var pre = m.pre;\n  var post = m.post.length\n    ? expand(m.post, false)\n    : [''];\n\n  var N;\n\n  if (isSequence) {\n    var x = numeric(n[0]);\n    var y = numeric(n[1]);\n    var width = Math.max(n[0].length, n[1].length)\n    var incr = n.length == 3\n      ? Math.abs(numeric(n[2]))\n      : 1;\n    var test = lte;\n    var reverse = y < x;\n    if (reverse) {\n      incr *= -1;\n      test = gte;\n    }\n    var pad = n.some(isPadded);\n\n    N = [];\n\n    for (var i = x; test(i, y); i += incr) {\n      var c;\n      if (isAlphaSequence) {\n        c = String.fromCharCode(i);\n        if (c === '\\\\')\n          c = '';\n      } else {\n        c = String(i);\n        if (pad) {\n          var need = width - c.length;\n          if (need > 0) {\n            var z = new Array(need + 1).join('0');\n            if (i < 0)\n              c = '-' + z + c.slice(1);\n            else\n              c = z + c;\n          }\n        }\n      }\n      N.push(c);\n    }\n  } else {\n    N = concatMap(n, function(el) { return expand(el, false) });\n  }\n\n  for (var j = 0; j < N.length; j++) {\n    for (var k = 0; k < post.length; k++) {\n      var expansion = pre + N[j] + post[k];\n      if (!isTop || isSequence || expansion)\n        expansions.push(expansion);\n    }\n  }\n\n  return expansions;\n}\n\n","var Buffer = require('buffer').Buffer;\n\nvar CRC_TABLE = [\n  0x00000000, 0x77073096, 0xee0e612c, 0x990951ba, 0x076dc419,\n  0x706af48f, 0xe963a535, 0x9e6495a3, 0x0edb8832, 0x79dcb8a4,\n  0xe0d5e91e, 0x97d2d988, 0x09b64c2b, 0x7eb17cbd, 0xe7b82d07,\n  0x90bf1d91, 0x1db71064, 0x6ab020f2, 0xf3b97148, 0x84be41de,\n  0x1adad47d, 0x6ddde4eb, 0xf4d4b551, 0x83d385c7, 0x136c9856,\n  0x646ba8c0, 0xfd62f97a, 0x8a65c9ec, 0x14015c4f, 0x63066cd9,\n  0xfa0f3d63, 0x8d080df5, 0x3b6e20c8, 0x4c69105e, 0xd56041e4,\n  0xa2677172, 0x3c03e4d1, 0x4b04d447, 0xd20d85fd, 0xa50ab56b,\n  0x35b5a8fa, 0x42b2986c, 0xdbbbc9d6, 0xacbcf940, 0x32d86ce3,\n  0x45df5c75, 0xdcd60dcf, 0xabd13d59, 0x26d930ac, 0x51de003a,\n  0xc8d75180, 0xbfd06116, 0x21b4f4b5, 0x56b3c423, 0xcfba9599,\n  0xb8bda50f, 0x2802b89e, 0x5f058808, 0xc60cd9b2, 0xb10be924,\n  0x2f6f7c87, 0x58684c11, 0xc1611dab, 0xb6662d3d, 0x76dc4190,\n  0x01db7106, 0x98d220bc, 0xefd5102a, 0x71b18589, 0x06b6b51f,\n  0x9fbfe4a5, 0xe8b8d433, 0x7807c9a2, 0x0f00f934, 0x9609a88e,\n  0xe10e9818, 0x7f6a0dbb, 0x086d3d2d, 0x91646c97, 0xe6635c01,\n  0x6b6b51f4, 0x1c6c6162, 0x856530d8, 0xf262004e, 0x6c0695ed,\n  0x1b01a57b, 0x8208f4c1, 0xf50fc457, 0x65b0d9c6, 0x12b7e950,\n  0x8bbeb8ea, 0xfcb9887c, 0x62dd1ddf, 0x15da2d49, 0x8cd37cf3,\n  0xfbd44c65, 0x4db26158, 0x3ab551ce, 0xa3bc0074, 0xd4bb30e2,\n  0x4adfa541, 0x3dd895d7, 0xa4d1c46d, 0xd3d6f4fb, 0x4369e96a,\n  0x346ed9fc, 0xad678846, 0xda60b8d0, 0x44042d73, 0x33031de5,\n  0xaa0a4c5f, 0xdd0d7cc9, 0x5005713c, 0x270241aa, 0xbe0b1010,\n  0xc90c2086, 0x5768b525, 0x206f85b3, 0xb966d409, 0xce61e49f,\n  0x5edef90e, 0x29d9c998, 0xb0d09822, 0xc7d7a8b4, 0x59b33d17,\n  0x2eb40d81, 0xb7bd5c3b, 0xc0ba6cad, 0xedb88320, 0x9abfb3b6,\n  0x03b6e20c, 0x74b1d29a, 0xead54739, 0x9dd277af, 0x04db2615,\n  0x73dc1683, 0xe3630b12, 0x94643b84, 0x0d6d6a3e, 0x7a6a5aa8,\n  0xe40ecf0b, 0x9309ff9d, 0x0a00ae27, 0x7d079eb1, 0xf00f9344,\n  0x8708a3d2, 0x1e01f268, 0x6906c2fe, 0xf762575d, 0x806567cb,\n  0x196c3671, 0x6e6b06e7, 0xfed41b76, 0x89d32be0, 0x10da7a5a,\n  0x67dd4acc, 0xf9b9df6f, 0x8ebeeff9, 0x17b7be43, 0x60b08ed5,\n  0xd6d6a3e8, 0xa1d1937e, 0x38d8c2c4, 0x4fdff252, 0xd1bb67f1,\n  0xa6bc5767, 0x3fb506dd, 0x48b2364b, 0xd80d2bda, 0xaf0a1b4c,\n  0x36034af6, 0x41047a60, 0xdf60efc3, 0xa867df55, 0x316e8eef,\n  0x4669be79, 0xcb61b38c, 0xbc66831a, 0x256fd2a0, 0x5268e236,\n  0xcc0c7795, 0xbb0b4703, 0x220216b9, 0x5505262f, 0xc5ba3bbe,\n  0xb2bd0b28, 0x2bb45a92, 0x5cb36a04, 0xc2d7ffa7, 0xb5d0cf31,\n  0x2cd99e8b, 0x5bdeae1d, 0x9b64c2b0, 0xec63f226, 0x756aa39c,\n  0x026d930a, 0x9c0906a9, 0xeb0e363f, 0x72076785, 0x05005713,\n  0x95bf4a82, 0xe2b87a14, 0x7bb12bae, 0x0cb61b38, 0x92d28e9b,\n  0xe5d5be0d, 0x7cdcefb7, 0x0bdbdf21, 0x86d3d2d4, 0xf1d4e242,\n  0x68ddb3f8, 0x1fda836e, 0x81be16cd, 0xf6b9265b, 0x6fb077e1,\n  0x18b74777, 0x88085ae6, 0xff0f6a70, 0x66063bca, 0x11010b5c,\n  0x8f659eff, 0xf862ae69, 0x616bffd3, 0x166ccf45, 0xa00ae278,\n  0xd70dd2ee, 0x4e048354, 0x3903b3c2, 0xa7672661, 0xd06016f7,\n  0x4969474d, 0x3e6e77db, 0xaed16a4a, 0xd9d65adc, 0x40df0b66,\n  0x37d83bf0, 0xa9bcae53, 0xdebb9ec5, 0x47b2cf7f, 0x30b5ffe9,\n  0xbdbdf21c, 0xcabac28a, 0x53b39330, 0x24b4a3a6, 0xbad03605,\n  0xcdd70693, 0x54de5729, 0x23d967bf, 0xb3667a2e, 0xc4614ab8,\n  0x5d681b02, 0x2a6f2b94, 0xb40bbe37, 0xc30c8ea1, 0x5a05df1b,\n  0x2d02ef8d\n];\n\nif (typeof Int32Array !== 'undefined') {\n  CRC_TABLE = new Int32Array(CRC_TABLE);\n}\n\nfunction ensureBuffer(input) {\n  if (Buffer.isBuffer(input)) {\n    return input;\n  }\n\n  var hasNewBufferAPI =\n      typeof Buffer.alloc === \"function\" &&\n      typeof Buffer.from === \"function\";\n\n  if (typeof input === \"number\") {\n    return hasNewBufferAPI ? Buffer.alloc(input) : new Buffer(input);\n  }\n  else if (typeof input === \"string\") {\n    return hasNewBufferAPI ? Buffer.from(input) : new Buffer(input);\n  }\n  else {\n    throw new Error(\"input must be buffer, number, or string, received \" +\n                    typeof input);\n  }\n}\n\nfunction bufferizeInt(num) {\n  var tmp = ensureBuffer(4);\n  tmp.writeInt32BE(num, 0);\n  return tmp;\n}\n\nfunction _crc32(buf, previous) {\n  buf = ensureBuffer(buf);\n  if (Buffer.isBuffer(previous)) {\n    previous = previous.readUInt32BE(0);\n  }\n  var crc = ~~previous ^ -1;\n  for (var n = 0; n < buf.length; n++) {\n    crc = CRC_TABLE[(crc ^ buf[n]) & 0xff] ^ (crc >>> 8);\n  }\n  return (crc ^ -1);\n}\n\nfunction crc32() {\n  return bufferizeInt(_crc32.apply(null, arguments));\n}\ncrc32.signed = function () {\n  return _crc32.apply(null, arguments);\n};\ncrc32.unsigned = function () {\n  return _crc32.apply(null, arguments) >>> 0;\n};\n\nmodule.exports = crc32;\n","'use strict';\n\nconst util = require('util');\nconst assert = require('assert');\nconst wrapEmitter = require('emitter-listener');\nconst asyncHook = require('async-hook-jl');\n\nconst CONTEXTS_SYMBOL = 'cls@contexts';\nconst ERROR_SYMBOL = 'error@context';\n\n//const trace = [];\n\nconst invertedProviders = [];\nfor (let key in asyncHook.providers) {\n  invertedProviders[asyncHook.providers[key]] = key;\n}\n\nconst DEBUG_CLS_HOOKED = process.env.DEBUG_CLS_HOOKED;\n\nlet currentUid = -1;\n\nmodule.exports = {\n  getNamespace: getNamespace,\n  createNamespace: createNamespace,\n  destroyNamespace: destroyNamespace,\n  reset: reset,\n  //trace: trace,\n  ERROR_SYMBOL: ERROR_SYMBOL\n};\n\nfunction Namespace(name) {\n  this.name = name;\n  // changed in 2.7: no default context\n  this.active = null;\n  this._set = [];\n  this.id = null;\n  this._contexts = new Map();\n}\n\nNamespace.prototype.set = function set(key, value) {\n  if (!this.active) {\n    throw new Error('No context available. ns.run() or ns.bind() must be called first.');\n  }\n\n  if (DEBUG_CLS_HOOKED) {\n    debug2('    SETTING KEY:' + key + '=' + value + ' in ns:' + this.name + ' uid:' + currentUid + ' active:' +\n      util.inspect(this.active, true));\n  }\n  this.active[key] = value;\n  return value;\n};\n\nNamespace.prototype.get = function get(key) {\n  if (!this.active) {\n    if (DEBUG_CLS_HOOKED) {\n      debug2('    GETTING KEY:' + key + '=undefined' + ' ' + this.name + ' uid:' + currentUid + ' active:' +\n        util.inspect(this.active, true));\n    }\n    return undefined;\n  }\n  if (DEBUG_CLS_HOOKED) {\n    debug2('    GETTING KEY:' + key + '=' + this.active[key] + ' ' + this.name + ' uid:' + currentUid + ' active:' +\n      util.inspect(this.active, true));\n  }\n  return this.active[key];\n};\n\nNamespace.prototype.createContext = function createContext() {\n  if (DEBUG_CLS_HOOKED) {\n    debug2('   CREATING Context: ' + this.name + ' uid:' + currentUid + ' len:' + this._set.length + ' ' + ' active:' +\n      util.inspect(this.active, true, 2, true));\n  }\n\n  let context = Object.create(this.active ? this.active : Object.prototype);\n  context._ns_name = this.name;\n  context.id = currentUid;\n\n  if (DEBUG_CLS_HOOKED) {\n    debug2('   CREATED Context: ' + this.name + ' uid:' + currentUid + ' len:' + this._set.length + ' ' + ' context:' +\n      util.inspect(context, true, 2, true));\n  }\n\n  return context;\n};\n\nNamespace.prototype.run = function run(fn) {\n  let context = this.createContext();\n  this.enter(context);\n  try {\n    if (DEBUG_CLS_HOOKED) {\n      debug2(' BEFORE RUN: ' + this.name + ' uid:' + currentUid + ' len:' + this._set.length + ' ' +\n        util.inspect(context));\n    }\n    fn(context);\n    return context;\n  }\n  catch (exception) {\n    if (exception) {\n      exception[ERROR_SYMBOL] = context;\n    }\n    throw exception;\n  }\n  finally {\n    if (DEBUG_CLS_HOOKED) {\n      debug2(' AFTER RUN: ' + this.name + ' uid:' + currentUid + ' len:' + this._set.length + ' ' +\n        util.inspect(context));\n    }\n    this.exit(context);\n  }\n};\n\nNamespace.prototype.runAndReturn = function runAndReturn(fn) {\n  var value;\n  this.run(function (context) {\n    value = fn(context);\n  });\n  return value;\n};\n\n/**\n * Uses global Promise and assumes Promise is cls friendly or wrapped already.\n * @param {function} fn\n * @returns {*}\n */\nNamespace.prototype.runPromise = function runPromise(fn) {\n  let context = this.createContext();\n  this.enter(context);\n\n  let promise = fn(context);\n  if (!promise || !promise.then || !promise.catch) {\n    throw new Error('fn must return a promise.');\n  }\n\n  if (DEBUG_CLS_HOOKED) {\n    debug2(' BEFORE runPromise: ' + this.name + ' uid:' + currentUid + ' len:' + this._set.length + ' ' +\n      util.inspect(context));\n  }\n\n  return promise\n    .then(result => {\n      if (DEBUG_CLS_HOOKED) {\n        debug2(' AFTER runPromise: ' + this.name + ' uid:' + currentUid + ' len:' + this._set.length + ' ' +\n          util.inspect(context));\n      }\n      this.exit(context);\n      return result;\n    })\n    .catch(err => {\n      err[ERROR_SYMBOL] = context;\n      if (DEBUG_CLS_HOOKED) {\n        debug2(' AFTER runPromise: ' + this.name + ' uid:' + currentUid + ' len:' + this._set.length + ' ' +\n          util.inspect(context));\n      }\n      this.exit(context);\n      throw err;\n    });\n};\n\nNamespace.prototype.bind = function bindFactory(fn, context) {\n  if (!context) {\n    if (!this.active) {\n      context = this.createContext();\n    }\n    else {\n      context = this.active;\n    }\n  }\n\n  let self = this;\n  return function clsBind() {\n    self.enter(context);\n    try {\n      return fn.apply(this, arguments);\n    }\n    catch (exception) {\n      if (exception) {\n        exception[ERROR_SYMBOL] = context;\n      }\n      throw exception;\n    }\n    finally {\n      self.exit(context);\n    }\n  };\n};\n\nNamespace.prototype.enter = function enter(context) {\n  assert.ok(context, 'context must be provided for entering');\n  if (DEBUG_CLS_HOOKED) {\n    debug2('  ENTER ' + this.name + ' uid:' + currentUid + ' len:' + this._set.length + ' context: ' +\n      util.inspect(context));\n  }\n\n  this._set.push(this.active);\n  this.active = context;\n};\n\nNamespace.prototype.exit = function exit(context) {\n  assert.ok(context, 'context must be provided for exiting');\n  if (DEBUG_CLS_HOOKED) {\n    debug2('  EXIT ' + this.name + ' uid:' + currentUid + ' len:' + this._set.length + ' context: ' +\n      util.inspect(context));\n  }\n\n  // Fast path for most exits that are at the top of the stack\n  if (this.active === context) {\n    assert.ok(this._set.length, 'can\\'t remove top context');\n    this.active = this._set.pop();\n    return;\n  }\n\n  // Fast search in the stack using lastIndexOf\n  let index = this._set.lastIndexOf(context);\n\n  if (index < 0) {\n    if (DEBUG_CLS_HOOKED) {\n      debug2('??ERROR?? context exiting but not entered - ignoring: ' + util.inspect(context));\n    }\n    assert.ok(index >= 0, 'context not currently entered; can\\'t exit. \\n' + util.inspect(this) + '\\n' +\n      util.inspect(context));\n  } else {\n    assert.ok(index, 'can\\'t remove top context');\n    this._set.splice(index, 1);\n  }\n};\n\nNamespace.prototype.bindEmitter = function bindEmitter(emitter) {\n  assert.ok(emitter.on && emitter.addListener && emitter.emit, 'can only bind real EEs');\n\n  let namespace = this;\n  let thisSymbol = 'context@' + this.name;\n\n  // Capture the context active at the time the emitter is bound.\n  function attach(listener) {\n    if (!listener) {\n      return;\n    }\n    if (!listener[CONTEXTS_SYMBOL]) {\n      listener[CONTEXTS_SYMBOL] = Object.create(null);\n    }\n\n    listener[CONTEXTS_SYMBOL][thisSymbol] = {\n      namespace: namespace,\n      context: namespace.active\n    };\n  }\n\n  // At emit time, bind the listener within the correct context.\n  function bind(unwrapped) {\n    if (!(unwrapped && unwrapped[CONTEXTS_SYMBOL])) {\n      return unwrapped;\n    }\n\n    let wrapped = unwrapped;\n    let unwrappedContexts = unwrapped[CONTEXTS_SYMBOL];\n    Object.keys(unwrappedContexts).forEach(function (name) {\n      let thunk = unwrappedContexts[name];\n      wrapped = thunk.namespace.bind(wrapped, thunk.context);\n    });\n    return wrapped;\n  }\n\n  wrapEmitter(emitter, attach, bind);\n};\n\n/**\n * If an error comes out of a namespace, it will have a context attached to it.\n * This function knows how to find it.\n *\n * @param {Error} exception Possibly annotated error.\n */\nNamespace.prototype.fromException = function fromException(exception) {\n  return exception[ERROR_SYMBOL];\n};\n\nfunction getNamespace(name) {\n  return process.namespaces[name];\n}\n\nfunction createNamespace(name) {\n  assert.ok(name, 'namespace must be given a name.');\n\n  if (DEBUG_CLS_HOOKED) {\n    debug2('CREATING NAMESPACE ' + name);\n  }\n  let namespace = new Namespace(name);\n  namespace.id = currentUid;\n\n  asyncHook.addHooks({\n    init(uid, handle, provider, parentUid, parentHandle) {\n      //parentUid = parentUid || currentUid;  // Suggested usage but appears to work better for tracing modules.\n      currentUid = uid;\n\n      //CHAIN Parent's Context onto child if none exists. This is needed to pass net-events.spec\n      if (parentUid) {\n        namespace._contexts.set(uid, namespace._contexts.get(parentUid));\n        if (DEBUG_CLS_HOOKED) {\n          debug2('PARENTID: ' + name + ' uid:' + uid + ' parent:' + parentUid + ' provider:' + provider);\n        }\n      } else {\n        namespace._contexts.set(currentUid, namespace.active);\n      }\n\n      if (DEBUG_CLS_HOOKED) {\n        debug2('INIT ' + name + ' uid:' + uid + ' parent:' + parentUid + ' provider:' + invertedProviders[provider]\n          + ' active:' + util.inspect(namespace.active, true));\n      }\n\n    },\n    pre(uid, handle) {\n      currentUid = uid;\n      let context = namespace._contexts.get(uid);\n      if (context) {\n        if (DEBUG_CLS_HOOKED) {\n          debug2(' PRE ' + name + ' uid:' + uid + ' handle:' + getFunctionName(handle) + ' context:' +\n            util.inspect(context));\n        }\n\n        namespace.enter(context);\n      } else {\n        if (DEBUG_CLS_HOOKED) {\n          debug2(' PRE MISSING CONTEXT ' + name + ' uid:' + uid + ' handle:' + getFunctionName(handle));\n        }\n      }\n    },\n    post(uid, handle) {\n      currentUid = uid;\n      let context = namespace._contexts.get(uid);\n      if (context) {\n        if (DEBUG_CLS_HOOKED) {\n          debug2(' POST ' + name + ' uid:' + uid + ' handle:' + getFunctionName(handle) + ' context:' +\n            util.inspect(context));\n        }\n\n        namespace.exit(context);\n      } else {\n        if (DEBUG_CLS_HOOKED) {\n          debug2(' POST MISSING CONTEXT ' + name + ' uid:' + uid + ' handle:' + getFunctionName(handle));\n        }\n      }\n    },\n    destroy(uid) {\n      currentUid = uid;\n\n      if (DEBUG_CLS_HOOKED) {\n        debug2('DESTROY ' + name + ' uid:' + uid + ' context:' + util.inspect(namespace._contexts.get(currentUid))\n          + ' active:' + util.inspect(namespace.active, true));\n      }\n\n      namespace._contexts.delete(uid);\n    }\n  });\n\n  process.namespaces[name] = namespace;\n  return namespace;\n}\n\nfunction destroyNamespace(name) {\n  let namespace = getNamespace(name);\n\n  assert.ok(namespace, 'can\\'t delete nonexistent namespace! \"' + name + '\"');\n  assert.ok(namespace.id, 'don\\'t assign to process.namespaces directly! ' + util.inspect(namespace));\n\n  process.namespaces[name] = null;\n}\n\nfunction reset() {\n  // must unregister async listeners\n  if (process.namespaces) {\n    Object.keys(process.namespaces).forEach(function (name) {\n      destroyNamespace(name);\n    });\n  }\n  process.namespaces = Object.create(null);\n}\n\nprocess.namespaces = {};\n\nif (asyncHook._state && !asyncHook._state.enabled) {\n  asyncHook.enable();\n}\n\nfunction debug2(msg) {\n  if (process.env.DEBUG) {\n    process._rawDebug(msg);\n  }\n}\n\n\n/*function debug(from, ns) {\n process._rawDebug('DEBUG: ' + util.inspect({\n from: from,\n currentUid: currentUid,\n context: ns ? ns._contexts.get(currentUid) : 'no ns'\n }, true, 2, true));\n }*/\n\n\nfunction getFunctionName(fn) {\n  if (!fn) {\n    return fn;\n  }\n  if (typeof fn === 'function') {\n    if (fn.name) {\n      return fn.name;\n    }\n    return (fn.toString().trim().match(/^function\\s*([^\\s(]+)/) || [])[1];\n  } else if (fn.constructor && fn.constructor.name) {\n    return fn.constructor.name;\n  }\n}\n\n\n// Add back to callstack\nif (DEBUG_CLS_HOOKED) {\n  var stackChain = require('stack-chain');\n  for (var modifier in stackChain.filter._modifiers) {\n    stackChain.filter.deattach(modifier);\n  }\n}\n","/* eslint-disable max-len */\n'use strict';\n\nconst util = require('util');\nconst assert = require('assert');\nconst wrapEmitter = require('emitter-listener');\nconst async_hooks = require('async_hooks');\n\nconst CONTEXTS_SYMBOL = 'cls@contexts';\nconst ERROR_SYMBOL = 'error@context';\n\nconst DEBUG_CLS_HOOKED = process.env.DEBUG_CLS_HOOKED;\n\nlet currentUid = -1;\n\nmodule.exports = {\n  getNamespace: getNamespace,\n  createNamespace: createNamespace,\n  destroyNamespace: destroyNamespace,\n  reset: reset,\n  ERROR_SYMBOL: ERROR_SYMBOL\n};\n\nfunction Namespace(name) {\n  this.name = name;\n  // changed in 2.7: no default context\n  this.active = null;\n  this._set = [];\n  this.id = null;\n  this._contexts = new Map();\n  this._indent = 0;\n}\n\nNamespace.prototype.set = function set(key, value) {\n  if (!this.active) {\n    throw new Error('No context available. ns.run() or ns.bind() must be called first.');\n  }\n\n  this.active[key] = value;\n\n  if (DEBUG_CLS_HOOKED) {\n    const indentStr = ' '.repeat(this._indent < 0 ? 0 : this._indent);\n    debug2(indentStr + 'CONTEXT-SET KEY:' + key + '=' + value + ' in ns:' + this.name + ' currentUid:' + currentUid + ' active:' + util.inspect(this.active, {showHidden:true, depth:2, colors:true}));\n  }\n\n  return value;\n};\n\nNamespace.prototype.get = function get(key) {\n  if (!this.active) {\n    if (DEBUG_CLS_HOOKED) {\n      const asyncHooksCurrentId = async_hooks.currentId();\n      const triggerId = async_hooks.triggerAsyncId();\n      const indentStr = ' '.repeat(this._indent < 0 ? 0 : this._indent);\n      //debug2(indentStr + 'CONTEXT-GETTING KEY NO ACTIVE NS:' + key + '=undefined' + ' (' + this.name + ') currentUid:' + currentUid + ' active:' + util.inspect(this.active, {showHidden:true, depth:2, colors:true}));\n      debug2(`${indentStr}CONTEXT-GETTING KEY NO ACTIVE NS: (${this.name}) ${key}=undefined currentUid:${currentUid} asyncHooksCurrentId:${asyncHooksCurrentId} triggerId:${triggerId} len:${this._set.length}`);\n    }\n    return undefined;\n  }\n  if (DEBUG_CLS_HOOKED) {\n    const asyncHooksCurrentId = async_hooks.executionAsyncId();\n    const triggerId = async_hooks.triggerAsyncId();\n    const indentStr = ' '.repeat(this._indent < 0 ? 0 : this._indent);\n    debug2(indentStr + 'CONTEXT-GETTING KEY:' + key + '=' + this.active[key] + ' (' + this.name + ') currentUid:' + currentUid + ' active:' + util.inspect(this.active, {showHidden:true, depth:2, colors:true}));\n    debug2(`${indentStr}CONTEXT-GETTING KEY: (${this.name}) ${key}=${this.active[key]} currentUid:${currentUid} asyncHooksCurrentId:${asyncHooksCurrentId} triggerId:${triggerId} len:${this._set.length} active:${util.inspect(this.active)}`);\n  }\n  return this.active[key];\n};\n\nNamespace.prototype.createContext = function createContext() {\n  // Prototype inherit existing context if created a new child context within existing context.\n  let context = Object.create(this.active ? this.active : Object.prototype);\n  context._ns_name = this.name;\n  context.id = currentUid;\n\n  if (DEBUG_CLS_HOOKED) {\n    const asyncHooksCurrentId = async_hooks.executionAsyncId();\n    const triggerId = async_hooks.triggerAsyncId();\n    const indentStr = ' '.repeat(this._indent < 0 ? 0 : this._indent);\n    debug2(`${indentStr}CONTEXT-CREATED Context: (${this.name}) currentUid:${currentUid} asyncHooksCurrentId:${asyncHooksCurrentId} triggerId:${triggerId} len:${this._set.length} context:${util.inspect(context, {showHidden:true, depth:2, colors:true})}`);\n  }\n\n  return context;\n};\n\nNamespace.prototype.run = function run(fn) {\n  let context = this.createContext();\n  this.enter(context);\n\n  try {\n    if (DEBUG_CLS_HOOKED) {\n      const triggerId = async_hooks.triggerAsyncId();\n      const asyncHooksCurrentId = async_hooks.executionAsyncId();\n      const indentStr = ' '.repeat(this._indent < 0 ? 0 : this._indent);\n      debug2(`${indentStr}CONTEXT-RUN BEGIN: (${this.name}) currentUid:${currentUid} triggerId:${triggerId} asyncHooksCurrentId:${asyncHooksCurrentId} len:${this._set.length} context:${util.inspect(context)}`);\n    }\n    fn(context);\n    return context;\n  } catch (exception) {\n    if (exception) {\n      exception[ERROR_SYMBOL] = context;\n    }\n    throw exception;\n  } finally {\n    if (DEBUG_CLS_HOOKED) {\n      const triggerId = async_hooks.triggerAsyncId();\n      const asyncHooksCurrentId = async_hooks.executionAsyncId();\n      const indentStr = ' '.repeat(this._indent < 0 ? 0 : this._indent);\n      debug2(`${indentStr}CONTEXT-RUN END: (${this.name}) currentUid:${currentUid} triggerId:${triggerId} asyncHooksCurrentId:${asyncHooksCurrentId} len:${this._set.length} ${util.inspect(context)}`);\n    }\n    this.exit(context);\n  }\n};\n\nNamespace.prototype.runAndReturn = function runAndReturn(fn) {\n  let value;\n  this.run(function (context) {\n    value = fn(context);\n  });\n  return value;\n};\n\n/**\n * Uses global Promise and assumes Promise is cls friendly or wrapped already.\n * @param {function} fn\n * @returns {*}\n */\nNamespace.prototype.runPromise = function runPromise(fn) {\n  let context = this.createContext();\n  this.enter(context);\n\n  let promise = fn(context);\n  if (!promise || !promise.then || !promise.catch) {\n    throw new Error('fn must return a promise.');\n  }\n\n  if (DEBUG_CLS_HOOKED) {\n    debug2('CONTEXT-runPromise BEFORE: (' + this.name + ') currentUid:' + currentUid + ' len:' + this._set.length + ' ' + util.inspect(context));\n  }\n\n  return promise\n    .then(result => {\n      if (DEBUG_CLS_HOOKED) {\n        debug2('CONTEXT-runPromise AFTER then: (' + this.name + ') currentUid:' + currentUid + ' len:' + this._set.length + ' ' + util.inspect(context));\n      }\n      this.exit(context);\n      return result;\n    })\n    .catch(err => {\n      err[ERROR_SYMBOL] = context;\n      if (DEBUG_CLS_HOOKED) {\n        debug2('CONTEXT-runPromise AFTER catch: (' + this.name + ') currentUid:' + currentUid + ' len:' + this._set.length + ' ' + util.inspect(context));\n      }\n      this.exit(context);\n      throw err;\n    });\n};\n\nNamespace.prototype.bind = function bindFactory(fn, context) {\n  if (!context) {\n    if (!this.active) {\n      context = this.createContext();\n    } else {\n      context = this.active;\n    }\n  }\n\n  let self = this;\n  return function clsBind() {\n    self.enter(context);\n    try {\n      return fn.apply(this, arguments);\n    } catch (exception) {\n      if (exception) {\n        exception[ERROR_SYMBOL] = context;\n      }\n      throw exception;\n    } finally {\n      self.exit(context);\n    }\n  };\n};\n\nNamespace.prototype.enter = function enter(context) {\n  assert.ok(context, 'context must be provided for entering');\n  if (DEBUG_CLS_HOOKED) {\n    const asyncHooksCurrentId = async_hooks.executionAsyncId();\n    const triggerId = async_hooks.triggerAsyncId();\n    const indentStr = ' '.repeat(this._indent < 0 ? 0 : this._indent);\n    debug2(`${indentStr}CONTEXT-ENTER: (${this.name}) currentUid:${currentUid} triggerId:${triggerId} asyncHooksCurrentId:${asyncHooksCurrentId} len:${this._set.length} ${util.inspect(context)}`);\n  }\n\n  this._set.push(this.active);\n  this.active = context;\n};\n\nNamespace.prototype.exit = function exit(context) {\n  assert.ok(context, 'context must be provided for exiting');\n  if (DEBUG_CLS_HOOKED) {\n    const asyncHooksCurrentId = async_hooks.executionAsyncId();\n    const triggerId = async_hooks.triggerAsyncId();\n    const indentStr = ' '.repeat(this._indent < 0 ? 0 : this._indent);\n    debug2(`${indentStr}CONTEXT-EXIT: (${this.name}) currentUid:${currentUid} triggerId:${triggerId} asyncHooksCurrentId:${asyncHooksCurrentId} len:${this._set.length} ${util.inspect(context)}`);\n  }\n\n  // Fast path for most exits that are at the top of the stack\n  if (this.active === context) {\n    assert.ok(this._set.length, 'can\\'t remove top context');\n    this.active = this._set.pop();\n    return;\n  }\n\n  // Fast search in the stack using lastIndexOf\n  let index = this._set.lastIndexOf(context);\n\n  if (index < 0) {\n    if (DEBUG_CLS_HOOKED) {\n      debug2('??ERROR?? context exiting but not entered - ignoring: ' + util.inspect(context));\n    }\n    assert.ok(index >= 0, 'context not currently entered; can\\'t exit. \\n' + util.inspect(this) + '\\n' + util.inspect(context));\n  } else {\n    assert.ok(index, 'can\\'t remove top context');\n    this._set.splice(index, 1);\n  }\n};\n\nNamespace.prototype.bindEmitter = function bindEmitter(emitter) {\n  assert.ok(emitter.on && emitter.addListener && emitter.emit, 'can only bind real EEs');\n\n  let namespace = this;\n  let thisSymbol = 'context@' + this.name;\n\n  // Capture the context active at the time the emitter is bound.\n  function attach(listener) {\n    if (!listener) {\n      return;\n    }\n    if (!listener[CONTEXTS_SYMBOL]) {\n      listener[CONTEXTS_SYMBOL] = Object.create(null);\n    }\n\n    listener[CONTEXTS_SYMBOL][thisSymbol] = {\n      namespace: namespace,\n      context: namespace.active\n    };\n  }\n\n  // At emit time, bind the listener within the correct context.\n  function bind(unwrapped) {\n    if (!(unwrapped && unwrapped[CONTEXTS_SYMBOL])) {\n      return unwrapped;\n    }\n\n    let wrapped = unwrapped;\n    let unwrappedContexts = unwrapped[CONTEXTS_SYMBOL];\n    Object.keys(unwrappedContexts).forEach(function (name) {\n      let thunk = unwrappedContexts[name];\n      wrapped = thunk.namespace.bind(wrapped, thunk.context);\n    });\n    return wrapped;\n  }\n\n  wrapEmitter(emitter, attach, bind);\n};\n\n/**\n * If an error comes out of a namespace, it will have a context attached to it.\n * This function knows how to find it.\n *\n * @param {Error} exception Possibly annotated error.\n */\nNamespace.prototype.fromException = function fromException(exception) {\n  return exception[ERROR_SYMBOL];\n};\n\nfunction getNamespace(name) {\n  return process.namespaces[name];\n}\n\nfunction createNamespace(name) {\n  assert.ok(name, 'namespace must be given a name.');\n\n  if (DEBUG_CLS_HOOKED) {\n    debug2(`NS-CREATING NAMESPACE (${name})`);\n  }\n  let namespace = new Namespace(name);\n  namespace.id = currentUid;\n\n  const hook = async_hooks.createHook({\n    init(asyncId, type, triggerId, resource) {\n      currentUid = async_hooks.executionAsyncId();\n\n      //CHAIN Parent's Context onto child if none exists. This is needed to pass net-events.spec\n      // let initContext = namespace.active;\n      // if(!initContext && triggerId) {\n      //   let parentContext = namespace._contexts.get(triggerId);\n      //   if (parentContext) {\n      //     namespace.active = parentContext;\n      //     namespace._contexts.set(currentUid, parentContext);\n      //     if (DEBUG_CLS_HOOKED) {\n      //       const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n      //       debug2(`${indentStr}INIT [${type}] (${name}) WITH PARENT CONTEXT asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, true)} resource:${resource}`);\n      //     }\n      //   } else if (DEBUG_CLS_HOOKED) {\n      //       const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n      //       debug2(`${indentStr}INIT [${type}] (${name}) MISSING CONTEXT asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, true)} resource:${resource}`);\n      //     }\n      // }else {\n      //   namespace._contexts.set(currentUid, namespace.active);\n      //   if (DEBUG_CLS_HOOKED) {\n      //     const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n      //     debug2(`${indentStr}INIT [${type}] (${name}) asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, true)} resource:${resource}`);\n      //   }\n      // }\n      if(namespace.active) {\n        namespace._contexts.set(asyncId, namespace.active);\n\n        if (DEBUG_CLS_HOOKED) {\n          const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n          debug2(`${indentStr}INIT [${type}] (${name}) asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, {showHidden:true, depth:2, colors:true})} resource:${resource}`);\n        }\n      }else if(currentUid === 0){\n        // CurrentId will be 0 when triggered from C++. Promise events\n        // https://github.com/nodejs/node/blob/master/doc/api/async_hooks.md#triggerid\n        const triggerId = async_hooks.triggerAsyncId();\n        const triggerIdContext = namespace._contexts.get(triggerId);\n        if (triggerIdContext) {\n          namespace._contexts.set(asyncId, triggerIdContext);\n          if (DEBUG_CLS_HOOKED) {\n            const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n            debug2(`${indentStr}INIT USING CONTEXT FROM TRIGGERID [${type}] (${name}) asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, { showHidden: true, depth: 2, colors: true })} resource:${resource}`);\n          }\n        } else if (DEBUG_CLS_HOOKED) {\n          const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n          debug2(`${indentStr}INIT MISSING CONTEXT [${type}] (${name}) asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, { showHidden: true, depth: 2, colors: true })} resource:${resource}`);\n        }\n      }\n\n\n      if(DEBUG_CLS_HOOKED && type === 'PROMISE'){\n        debug2(util.inspect(resource, {showHidden: true}));\n        const parentId = resource.parentId;\n        const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n        debug2(`${indentStr}INIT RESOURCE-PROMISE [${type}] (${name}) parentId:${parentId} asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, {showHidden:true, depth:2, colors:true})} resource:${resource}`);\n      }\n\n    },\n    before(asyncId) {\n      currentUid = async_hooks.executionAsyncId();\n      let context;\n\n      /*\n      if(currentUid === 0){\n        // CurrentId will be 0 when triggered from C++. Promise events\n        // https://github.com/nodejs/node/blob/master/doc/api/async_hooks.md#triggerid\n        //const triggerId = async_hooks.triggerAsyncId();\n        context = namespace._contexts.get(asyncId); // || namespace._contexts.get(triggerId);\n      }else{\n        context = namespace._contexts.get(currentUid);\n      }\n      */\n\n      //HACK to work with promises until they are fixed in node > 8.1.1\n      context = namespace._contexts.get(asyncId) || namespace._contexts.get(currentUid);\n\n      if (context) {\n        if (DEBUG_CLS_HOOKED) {\n          const triggerId = async_hooks.triggerAsyncId();\n          const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n          debug2(`${indentStr}BEFORE (${name}) asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, {showHidden:true, depth:2, colors:true})} context:${util.inspect(context)}`);\n          namespace._indent += 2;\n        }\n\n        namespace.enter(context);\n\n      } else if (DEBUG_CLS_HOOKED) {\n        const triggerId = async_hooks.triggerAsyncId();\n        const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n        debug2(`${indentStr}BEFORE MISSING CONTEXT (${name}) asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, {showHidden:true, depth:2, colors:true})} namespace._contexts:${util.inspect(namespace._contexts, {showHidden:true, depth:2, colors:true})}`);\n        namespace._indent += 2;\n      }\n    },\n    after(asyncId) {\n      currentUid = async_hooks.executionAsyncId();\n      let context; // = namespace._contexts.get(currentUid);\n      /*\n      if(currentUid === 0){\n        // CurrentId will be 0 when triggered from C++. Promise events\n        // https://github.com/nodejs/node/blob/master/doc/api/async_hooks.md#triggerid\n        //const triggerId = async_hooks.triggerAsyncId();\n        context = namespace._contexts.get(asyncId); // || namespace._contexts.get(triggerId);\n      }else{\n        context = namespace._contexts.get(currentUid);\n      }\n      */\n      //HACK to work with promises until they are fixed in node > 8.1.1\n      context = namespace._contexts.get(asyncId) || namespace._contexts.get(currentUid);\n\n      if (context) {\n        if (DEBUG_CLS_HOOKED) {\n          const triggerId = async_hooks.triggerAsyncId();\n          namespace._indent -= 2;\n          const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n          debug2(`${indentStr}AFTER (${name}) asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, {showHidden:true, depth:2, colors:true})} context:${util.inspect(context)}`);\n        }\n\n        namespace.exit(context);\n\n      } else if (DEBUG_CLS_HOOKED) {\n        const triggerId = async_hooks.triggerAsyncId();\n        namespace._indent -= 2;\n        const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n        debug2(`${indentStr}AFTER MISSING CONTEXT (${name}) asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, {showHidden:true, depth:2, colors:true})} context:${util.inspect(context)}`);\n      }\n    },\n    destroy(asyncId) {\n      currentUid = async_hooks.executionAsyncId();\n      if (DEBUG_CLS_HOOKED) {\n        const triggerId = async_hooks.triggerAsyncId();\n        const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n        debug2(`${indentStr}DESTROY (${name}) currentUid:${currentUid} asyncId:${asyncId} triggerId:${triggerId} active:${util.inspect(namespace.active, {showHidden:true, depth:2, colors:true})} context:${util.inspect(namespace._contexts.get(currentUid))}`);\n      }\n\n      namespace._contexts.delete(asyncId);\n    }\n  });\n\n  hook.enable();\n\n  process.namespaces[name] = namespace;\n  return namespace;\n}\n\nfunction destroyNamespace(name) {\n  let namespace = getNamespace(name);\n\n  assert.ok(namespace, 'can\\'t delete nonexistent namespace! \"' + name + '\"');\n  assert.ok(namespace.id, 'don\\'t assign to process.namespaces directly! ' + util.inspect(namespace));\n\n  process.namespaces[name] = null;\n}\n\nfunction reset() {\n  // must unregister async listeners\n  if (process.namespaces) {\n    Object.keys(process.namespaces).forEach(function (name) {\n      destroyNamespace(name);\n    });\n  }\n  process.namespaces = Object.create(null);\n}\n\nprocess.namespaces = {};\n\n//const fs = require('fs');\nfunction debug2(...args) {\n  if (DEBUG_CLS_HOOKED) {\n    //fs.writeSync(1, `${util.format(...args)}\\n`);\n    process._rawDebug(`${util.format(...args)}`);\n  }\n}\n\n/*function getFunctionName(fn) {\n  if (!fn) {\n    return fn;\n  }\n  if (typeof fn === 'function') {\n    if (fn.name) {\n      return fn.name;\n    }\n    return (fn.toString().trim().match(/^function\\s*([^\\s(]+)/) || [])[1];\n  } else if (fn.constructor && fn.constructor.name) {\n    return fn.constructor.name;\n  }\n}*/\n\n\n","'use strict';\n\nconst semver = require('semver');\n\n/**\n * In order to increase node version support, this loads the version of context\n * that is appropriate for the version of on nodejs that is running.\n * Node < v8 - uses AsyncWrap and async-hooks-jl\n * Node >= v8 - uses native async-hooks\n */\nif(process && semver.gte(process.versions.node, '8.0.0')){\n  module.exports = require('./context');\n}else{\n  module.exports = require('./context-legacy');\n}\n","module.exports = function (xs, fn) {\n    var res = [];\n    for (var i = 0; i < xs.length; i++) {\n        var x = fn(xs[i], i);\n        if (isArray(x)) res.push.apply(res, x);\n        else res.push(x);\n    }\n    return res;\n};\n\nvar isArray = Array.isArray || function (xs) {\n    return Object.prototype.toString.call(xs) === '[object Array]';\n};\n","'use strict';\n\nvar assert      = require('assert');\nvar wrapEmitter = require('emitter-listener');\n\n/*\n *\n * CONSTANTS\n *\n */\nvar CONTEXTS_SYMBOL = 'cls@contexts';\nvar ERROR_SYMBOL = 'error@context';\n\n// load polyfill if native support is unavailable\nif (!process.addAsyncListener) require('async-listener');\n\nfunction Namespace(name) {\n  this.name   = name;\n  // changed in 2.7: no default context\n  this.active = null;\n  this._set   = [];\n  this.id     = null;\n}\n\nNamespace.prototype.set = function (key, value) {\n  if (!this.active) {\n    throw new Error(\"No context available. ns.run() or ns.bind() must be called first.\");\n  }\n\n  this.active[key] = value;\n  return value;\n};\n\nNamespace.prototype.get = function (key) {\n  if (!this.active) return undefined;\n\n  return this.active[key];\n};\n\nNamespace.prototype.createContext = function () {\n  return Object.create(this.active);\n};\n\nNamespace.prototype.run = function (fn) {\n  var context = this.createContext();\n  this.enter(context);\n  try {\n    fn(context);\n    return context;\n  }\n  catch (exception) {\n    if (exception) {\n      exception[ERROR_SYMBOL] = context;\n    }\n    throw exception;\n  }\n  finally {\n    this.exit(context);\n  }\n};\n\nNamespace.prototype.runAndReturn = function (fn) {\n  var value;\n  this.run(function (context) {\n    value = fn(context);\n  });\n  return value;\n};\n\nNamespace.prototype.bind = function (fn, context) {\n  if (!context) {\n    if (!this.active) {\n      context = this.createContext();\n    }\n    else {\n      context = this.active;\n    }\n  }\n\n  var self = this;\n  return function () {\n    self.enter(context);\n    try {\n      return fn.apply(this, arguments);\n    }\n    catch (exception) {\n      if (exception) {\n        exception[ERROR_SYMBOL] = context;\n      }\n      throw exception;\n    }\n    finally {\n      self.exit(context);\n    }\n  };\n};\n\nNamespace.prototype.enter = function (context) {\n  assert.ok(context, \"context must be provided for entering\");\n\n  this._set.push(this.active);\n  this.active = context;\n};\n\nNamespace.prototype.exit = function (context) {\n  assert.ok(context, \"context must be provided for exiting\");\n\n  // Fast path for most exits that are at the top of the stack\n  if (this.active === context) {\n    assert.ok(this._set.length, \"can't remove top context\");\n    this.active = this._set.pop();\n    return;\n  }\n\n  // Fast search in the stack using lastIndexOf\n  var index = this._set.lastIndexOf(context);\n\n  assert.ok(index >= 0, \"context not currently entered; can't exit\");\n  assert.ok(index,      \"can't remove top context\");\n\n  this._set.splice(index, 1);\n};\n\nNamespace.prototype.bindEmitter = function (emitter) {\n  assert.ok(emitter.on && emitter.addListener && emitter.emit, \"can only bind real EEs\");\n\n  var namespace  = this;\n  var thisSymbol = 'context@' + this.name;\n\n  // Capture the context active at the time the emitter is bound.\n  function attach(listener) {\n    if (!listener) return;\n    if (!listener[CONTEXTS_SYMBOL]) listener[CONTEXTS_SYMBOL] = Object.create(null);\n\n    listener[CONTEXTS_SYMBOL][thisSymbol] = {\n      namespace : namespace,\n      context   : namespace.active\n    };\n  }\n\n  // At emit time, bind the listener within the correct context.\n  function bind(unwrapped) {\n    if (!(unwrapped && unwrapped[CONTEXTS_SYMBOL])) return unwrapped;\n\n    var wrapped  = unwrapped;\n    var contexts = unwrapped[CONTEXTS_SYMBOL];\n    Object.keys(contexts).forEach(function (name) {\n      var thunk = contexts[name];\n      wrapped = thunk.namespace.bind(wrapped, thunk.context);\n    });\n    return wrapped;\n  }\n\n  wrapEmitter(emitter, attach, bind);\n};\n\n/**\n * If an error comes out of a namespace, it will have a context attached to it.\n * This function knows how to find it.\n *\n * @param {Error} exception Possibly annotated error.\n */\nNamespace.prototype.fromException = function (exception) {\n  return exception[ERROR_SYMBOL];\n};\n\nfunction get(name) {\n  return process.namespaces[name];\n}\n\nfunction create(name) {\n  assert.ok(name, \"namespace must be given a name!\");\n\n  var namespace = new Namespace(name);\n  namespace.id = process.addAsyncListener({\n    create : function () { return namespace.active; },\n    before : function (context, storage) { if (storage) namespace.enter(storage); },\n    after  : function (context, storage) { if (storage) namespace.exit(storage); },\n    error  : function (storage) { if (storage) namespace.exit(storage); }\n  });\n\n  process.namespaces[name] = namespace;\n  return namespace;\n}\n\nfunction destroy(name) {\n  var namespace = get(name);\n\n  assert.ok(namespace,    \"can't delete nonexistent namespace!\");\n  assert.ok(namespace.id, \"don't assign to process.namespaces directly!\");\n\n  process.removeAsyncListener(namespace.id);\n  process.namespaces[name] = null;\n}\n\nfunction reset() {\n  // must unregister async listeners\n  if (process.namespaces) {\n    Object.keys(process.namespaces).forEach(function (name) {\n      destroy(name);\n    });\n  }\n  process.namespaces = Object.create(null);\n}\nif (!process.namespaces) reset(); // call immediately to set up\n\nmodule.exports = {\n  getNamespace     : get,\n  createNamespace  : create,\n  destroyNamespace : destroy,\n  reset            : reset\n};\n","const nodeFetch = require('node-fetch')\nconst realFetch = nodeFetch.default || nodeFetch\n\nconst fetch = function (url, options) {\n  // Support schemaless URIs on the server for parity with the browser.\n  // Ex: //github.com/ -> https://github.com/\n  if (/^\\/\\//.test(url)) {\n    url = 'https:' + url\n  }\n  return realFetch.call(this, url, options)\n}\n\nfetch.ponyfill = true\n\nmodule.exports = exports = fetch\nexports.fetch = fetch\nexports.Headers = nodeFetch.Headers\nexports.Request = nodeFetch.Request\nexports.Response = nodeFetch.Response\n\n// Needed for TypeScript consumers without esModuleInterop.\nexports.default = fetch\n","/* eslint-env browser */\n\n/**\n * This is the web browser implementation of `debug()`.\n */\n\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = localstorage();\nexports.destroy = (() => {\n\tlet warned = false;\n\n\treturn () => {\n\t\tif (!warned) {\n\t\t\twarned = true;\n\t\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t\t}\n\t};\n})();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n\t'#0000CC',\n\t'#0000FF',\n\t'#0033CC',\n\t'#0033FF',\n\t'#0066CC',\n\t'#0066FF',\n\t'#0099CC',\n\t'#0099FF',\n\t'#00CC00',\n\t'#00CC33',\n\t'#00CC66',\n\t'#00CC99',\n\t'#00CCCC',\n\t'#00CCFF',\n\t'#3300CC',\n\t'#3300FF',\n\t'#3333CC',\n\t'#3333FF',\n\t'#3366CC',\n\t'#3366FF',\n\t'#3399CC',\n\t'#3399FF',\n\t'#33CC00',\n\t'#33CC33',\n\t'#33CC66',\n\t'#33CC99',\n\t'#33CCCC',\n\t'#33CCFF',\n\t'#6600CC',\n\t'#6600FF',\n\t'#6633CC',\n\t'#6633FF',\n\t'#66CC00',\n\t'#66CC33',\n\t'#9900CC',\n\t'#9900FF',\n\t'#9933CC',\n\t'#9933FF',\n\t'#99CC00',\n\t'#99CC33',\n\t'#CC0000',\n\t'#CC0033',\n\t'#CC0066',\n\t'#CC0099',\n\t'#CC00CC',\n\t'#CC00FF',\n\t'#CC3300',\n\t'#CC3333',\n\t'#CC3366',\n\t'#CC3399',\n\t'#CC33CC',\n\t'#CC33FF',\n\t'#CC6600',\n\t'#CC6633',\n\t'#CC9900',\n\t'#CC9933',\n\t'#CCCC00',\n\t'#CCCC33',\n\t'#FF0000',\n\t'#FF0033',\n\t'#FF0066',\n\t'#FF0099',\n\t'#FF00CC',\n\t'#FF00FF',\n\t'#FF3300',\n\t'#FF3333',\n\t'#FF3366',\n\t'#FF3399',\n\t'#FF33CC',\n\t'#FF33FF',\n\t'#FF6600',\n\t'#FF6633',\n\t'#FF9900',\n\t'#FF9933',\n\t'#FFCC00',\n\t'#FFCC33'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\n// eslint-disable-next-line complexity\nfunction useColors() {\n\t// NB: In an Electron preload script, document will be defined but not fully\n\t// initialized. Since we know we're in Chrome, we'll just detect this case\n\t// explicitly\n\tif (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {\n\t\treturn true;\n\t}\n\n\t// Internet Explorer and Edge do not support colors.\n\tif (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n\t\treturn false;\n\t}\n\n\t// Is webkit? http://stackoverflow.com/a/16459606/376773\n\t// document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n\treturn (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n\t\t// Is firebug? http://stackoverflow.com/a/398120/376773\n\t\t(typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n\t\t// Is firefox >= v31?\n\t\t// https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\n\t\t// Double check webkit in userAgent just in case we are in a worker\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n\targs[0] = (this.useColors ? '%c' : '') +\n\t\tthis.namespace +\n\t\t(this.useColors ? ' %c' : ' ') +\n\t\targs[0] +\n\t\t(this.useColors ? '%c ' : ' ') +\n\t\t'+' + module.exports.humanize(this.diff);\n\n\tif (!this.useColors) {\n\t\treturn;\n\t}\n\n\tconst c = 'color: ' + this.color;\n\targs.splice(1, 0, c, 'color: inherit');\n\n\t// The final \"%c\" is somewhat tricky, because there could be other\n\t// arguments passed either before or after the %c, so we need to\n\t// figure out the correct index to insert the CSS into\n\tlet index = 0;\n\tlet lastC = 0;\n\targs[0].replace(/%[a-zA-Z%]/g, match => {\n\t\tif (match === '%%') {\n\t\t\treturn;\n\t\t}\n\t\tindex++;\n\t\tif (match === '%c') {\n\t\t\t// We only are interested in the *last* %c\n\t\t\t// (the user may have provided their own)\n\t\t\tlastC = index;\n\t\t}\n\t});\n\n\targs.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.debug()` when available.\n * No-op when `console.debug` is not a \"function\".\n * If `console.debug` is not available, falls back\n * to `console.log`.\n *\n * @api public\n */\nexports.log = console.debug || console.log || (() => {});\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n\ttry {\n\t\tif (namespaces) {\n\t\t\texports.storage.setItem('debug', namespaces);\n\t\t} else {\n\t\t\texports.storage.removeItem('debug');\n\t\t}\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\nfunction load() {\n\tlet r;\n\ttry {\n\t\tr = exports.storage.getItem('debug');\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n\n\t// If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n\tif (!r && typeof process !== 'undefined' && 'env' in process) {\n\t\tr = process.env.DEBUG;\n\t}\n\n\treturn r;\n}\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n\ttry {\n\t\t// TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\n\t\t// The Browser also has localStorage in the global context.\n\t\treturn localStorage;\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\nmodule.exports = require('./common')(exports);\n\nconst {formatters} = module.exports;\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nformatters.j = function (v) {\n\ttry {\n\t\treturn JSON.stringify(v);\n\t} catch (error) {\n\t\treturn '[UnexpectedJSONParseError]: ' + error.message;\n\t}\n};\n","\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n */\n\nfunction setup(env) {\n\tcreateDebug.debug = createDebug;\n\tcreateDebug.default = createDebug;\n\tcreateDebug.coerce = coerce;\n\tcreateDebug.disable = disable;\n\tcreateDebug.enable = enable;\n\tcreateDebug.enabled = enabled;\n\tcreateDebug.humanize = require('ms');\n\tcreateDebug.destroy = destroy;\n\n\tObject.keys(env).forEach(key => {\n\t\tcreateDebug[key] = env[key];\n\t});\n\n\t/**\n\t* The currently active debug mode names, and names to skip.\n\t*/\n\n\tcreateDebug.names = [];\n\tcreateDebug.skips = [];\n\n\t/**\n\t* Map of special \"%n\" handling functions, for the debug \"format\" argument.\n\t*\n\t* Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n\t*/\n\tcreateDebug.formatters = {};\n\n\t/**\n\t* Selects a color for a debug namespace\n\t* @param {String} namespace The namespace string for the for the debug instance to be colored\n\t* @return {Number|String} An ANSI color code for the given namespace\n\t* @api private\n\t*/\n\tfunction selectColor(namespace) {\n\t\tlet hash = 0;\n\n\t\tfor (let i = 0; i < namespace.length; i++) {\n\t\t\thash = ((hash << 5) - hash) + namespace.charCodeAt(i);\n\t\t\thash |= 0; // Convert to 32bit integer\n\t\t}\n\n\t\treturn createDebug.colors[Math.abs(hash) % createDebug.colors.length];\n\t}\n\tcreateDebug.selectColor = selectColor;\n\n\t/**\n\t* Create a debugger with the given `namespace`.\n\t*\n\t* @param {String} namespace\n\t* @return {Function}\n\t* @api public\n\t*/\n\tfunction createDebug(namespace) {\n\t\tlet prevTime;\n\t\tlet enableOverride = null;\n\n\t\tfunction debug(...args) {\n\t\t\t// Disabled?\n\t\t\tif (!debug.enabled) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst self = debug;\n\n\t\t\t// Set `diff` timestamp\n\t\t\tconst curr = Number(new Date());\n\t\t\tconst ms = curr - (prevTime || curr);\n\t\t\tself.diff = ms;\n\t\t\tself.prev = prevTime;\n\t\t\tself.curr = curr;\n\t\t\tprevTime = curr;\n\n\t\t\targs[0] = createDebug.coerce(args[0]);\n\n\t\t\tif (typeof args[0] !== 'string') {\n\t\t\t\t// Anything else let's inspect with %O\n\t\t\t\targs.unshift('%O');\n\t\t\t}\n\n\t\t\t// Apply any `formatters` transformations\n\t\t\tlet index = 0;\n\t\t\targs[0] = args[0].replace(/%([a-zA-Z%])/g, (match, format) => {\n\t\t\t\t// If we encounter an escaped % then don't increase the array index\n\t\t\t\tif (match === '%%') {\n\t\t\t\t\treturn '%';\n\t\t\t\t}\n\t\t\t\tindex++;\n\t\t\t\tconst formatter = createDebug.formatters[format];\n\t\t\t\tif (typeof formatter === 'function') {\n\t\t\t\t\tconst val = args[index];\n\t\t\t\t\tmatch = formatter.call(self, val);\n\n\t\t\t\t\t// Now we need to remove `args[index]` since it's inlined in the `format`\n\t\t\t\t\targs.splice(index, 1);\n\t\t\t\t\tindex--;\n\t\t\t\t}\n\t\t\t\treturn match;\n\t\t\t});\n\n\t\t\t// Apply env-specific formatting (colors, etc.)\n\t\t\tcreateDebug.formatArgs.call(self, args);\n\n\t\t\tconst logFn = self.log || createDebug.log;\n\t\t\tlogFn.apply(self, args);\n\t\t}\n\n\t\tdebug.namespace = namespace;\n\t\tdebug.useColors = createDebug.useColors();\n\t\tdebug.color = createDebug.selectColor(namespace);\n\t\tdebug.extend = extend;\n\t\tdebug.destroy = createDebug.destroy; // XXX Temporary. Will be removed in the next major release.\n\n\t\tObject.defineProperty(debug, 'enabled', {\n\t\t\tenumerable: true,\n\t\t\tconfigurable: false,\n\t\t\tget: () => enableOverride === null ? createDebug.enabled(namespace) : enableOverride,\n\t\t\tset: v => {\n\t\t\t\tenableOverride = v;\n\t\t\t}\n\t\t});\n\n\t\t// Env-specific initialization logic for debug instances\n\t\tif (typeof createDebug.init === 'function') {\n\t\t\tcreateDebug.init(debug);\n\t\t}\n\n\t\treturn debug;\n\t}\n\n\tfunction extend(namespace, delimiter) {\n\t\tconst newDebug = createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);\n\t\tnewDebug.log = this.log;\n\t\treturn newDebug;\n\t}\n\n\t/**\n\t* Enables a debug mode by namespaces. This can include modes\n\t* separated by a colon and wildcards.\n\t*\n\t* @param {String} namespaces\n\t* @api public\n\t*/\n\tfunction enable(namespaces) {\n\t\tcreateDebug.save(namespaces);\n\n\t\tcreateDebug.names = [];\n\t\tcreateDebug.skips = [];\n\n\t\tlet i;\n\t\tconst split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n\t\tconst len = split.length;\n\n\t\tfor (i = 0; i < len; i++) {\n\t\t\tif (!split[i]) {\n\t\t\t\t// ignore empty strings\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tnamespaces = split[i].replace(/\\*/g, '.*?');\n\n\t\t\tif (namespaces[0] === '-') {\n\t\t\t\tcreateDebug.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n\t\t\t} else {\n\t\t\t\tcreateDebug.names.push(new RegExp('^' + namespaces + '$'));\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t* Disable debug output.\n\t*\n\t* @return {String} namespaces\n\t* @api public\n\t*/\n\tfunction disable() {\n\t\tconst namespaces = [\n\t\t\t...createDebug.names.map(toNamespace),\n\t\t\t...createDebug.skips.map(toNamespace).map(namespace => '-' + namespace)\n\t\t].join(',');\n\t\tcreateDebug.enable('');\n\t\treturn namespaces;\n\t}\n\n\t/**\n\t* Returns true if the given mode name is enabled, false otherwise.\n\t*\n\t* @param {String} name\n\t* @return {Boolean}\n\t* @api public\n\t*/\n\tfunction enabled(name) {\n\t\tif (name[name.length - 1] === '*') {\n\t\t\treturn true;\n\t\t}\n\n\t\tlet i;\n\t\tlet len;\n\n\t\tfor (i = 0, len = createDebug.skips.length; i < len; i++) {\n\t\t\tif (createDebug.skips[i].test(name)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tfor (i = 0, len = createDebug.names.length; i < len; i++) {\n\t\t\tif (createDebug.names[i].test(name)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t/**\n\t* Convert regexp to namespace\n\t*\n\t* @param {RegExp} regxep\n\t* @return {String} namespace\n\t* @api private\n\t*/\n\tfunction toNamespace(regexp) {\n\t\treturn regexp.toString()\n\t\t\t.substring(2, regexp.toString().length - 2)\n\t\t\t.replace(/\\.\\*\\?$/, '*');\n\t}\n\n\t/**\n\t* Coerce `val`.\n\t*\n\t* @param {Mixed} val\n\t* @return {Mixed}\n\t* @api private\n\t*/\n\tfunction coerce(val) {\n\t\tif (val instanceof Error) {\n\t\t\treturn val.stack || val.message;\n\t\t}\n\t\treturn val;\n\t}\n\n\t/**\n\t* XXX DO NOT USE. This is a temporary stub function.\n\t* XXX It WILL be removed in the next major release.\n\t*/\n\tfunction destroy() {\n\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t}\n\n\tcreateDebug.enable(createDebug.load());\n\n\treturn createDebug;\n}\n\nmodule.exports = setup;\n","/**\n * Detect Electron renderer / nwjs process, which is node, but we should\n * treat as a browser.\n */\n\nif (typeof process === 'undefined' || process.type === 'renderer' || process.browser === true || process.__nwjs) {\n\tmodule.exports = require('./browser.js');\n} else {\n\tmodule.exports = require('./node.js');\n}\n","/**\n * Module dependencies.\n */\n\nconst tty = require('tty');\nconst util = require('util');\n\n/**\n * This is the Node.js implementation of `debug()`.\n */\n\nexports.init = init;\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.destroy = util.deprecate(\n\t() => {},\n\t'Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.'\n);\n\n/**\n * Colors.\n */\n\nexports.colors = [6, 2, 3, 4, 5, 1];\n\ntry {\n\t// Optional dependency (as in, doesn't need to be installed, NOT like optionalDependencies in package.json)\n\t// eslint-disable-next-line import/no-extraneous-dependencies\n\tconst supportsColor = require('supports-color');\n\n\tif (supportsColor && (supportsColor.stderr || supportsColor).level >= 2) {\n\t\texports.colors = [\n\t\t\t20,\n\t\t\t21,\n\t\t\t26,\n\t\t\t27,\n\t\t\t32,\n\t\t\t33,\n\t\t\t38,\n\t\t\t39,\n\t\t\t40,\n\t\t\t41,\n\t\t\t42,\n\t\t\t43,\n\t\t\t44,\n\t\t\t45,\n\t\t\t56,\n\t\t\t57,\n\t\t\t62,\n\t\t\t63,\n\t\t\t68,\n\t\t\t69,\n\t\t\t74,\n\t\t\t75,\n\t\t\t76,\n\t\t\t77,\n\t\t\t78,\n\t\t\t79,\n\t\t\t80,\n\t\t\t81,\n\t\t\t92,\n\t\t\t93,\n\t\t\t98,\n\t\t\t99,\n\t\t\t112,\n\t\t\t113,\n\t\t\t128,\n\t\t\t129,\n\t\t\t134,\n\t\t\t135,\n\t\t\t148,\n\t\t\t149,\n\t\t\t160,\n\t\t\t161,\n\t\t\t162,\n\t\t\t163,\n\t\t\t164,\n\t\t\t165,\n\t\t\t166,\n\t\t\t167,\n\t\t\t168,\n\t\t\t169,\n\t\t\t170,\n\t\t\t171,\n\t\t\t172,\n\t\t\t173,\n\t\t\t178,\n\t\t\t179,\n\t\t\t184,\n\t\t\t185,\n\t\t\t196,\n\t\t\t197,\n\t\t\t198,\n\t\t\t199,\n\t\t\t200,\n\t\t\t201,\n\t\t\t202,\n\t\t\t203,\n\t\t\t204,\n\t\t\t205,\n\t\t\t206,\n\t\t\t207,\n\t\t\t208,\n\t\t\t209,\n\t\t\t214,\n\t\t\t215,\n\t\t\t220,\n\t\t\t221\n\t\t];\n\t}\n} catch (error) {\n\t// Swallow - we only care if `supports-color` is available; it doesn't have to be.\n}\n\n/**\n * Build up the default `inspectOpts` object from the environment variables.\n *\n *   $ DEBUG_COLORS=no DEBUG_DEPTH=10 DEBUG_SHOW_HIDDEN=enabled node script.js\n */\n\nexports.inspectOpts = Object.keys(process.env).filter(key => {\n\treturn /^debug_/i.test(key);\n}).reduce((obj, key) => {\n\t// Camel-case\n\tconst prop = key\n\t\t.substring(6)\n\t\t.toLowerCase()\n\t\t.replace(/_([a-z])/g, (_, k) => {\n\t\t\treturn k.toUpperCase();\n\t\t});\n\n\t// Coerce string value into JS value\n\tlet val = process.env[key];\n\tif (/^(yes|on|true|enabled)$/i.test(val)) {\n\t\tval = true;\n\t} else if (/^(no|off|false|disabled)$/i.test(val)) {\n\t\tval = false;\n\t} else if (val === 'null') {\n\t\tval = null;\n\t} else {\n\t\tval = Number(val);\n\t}\n\n\tobj[prop] = val;\n\treturn obj;\n}, {});\n\n/**\n * Is stdout a TTY? Colored output is enabled when `true`.\n */\n\nfunction useColors() {\n\treturn 'colors' in exports.inspectOpts ?\n\t\tBoolean(exports.inspectOpts.colors) :\n\t\ttty.isatty(process.stderr.fd);\n}\n\n/**\n * Adds ANSI color escape codes if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n\tconst {namespace: name, useColors} = this;\n\n\tif (useColors) {\n\t\tconst c = this.color;\n\t\tconst colorCode = '\\u001B[3' + (c < 8 ? c : '8;5;' + c);\n\t\tconst prefix = `  ${colorCode};1m${name} \\u001B[0m`;\n\n\t\targs[0] = prefix + args[0].split('\\n').join('\\n' + prefix);\n\t\targs.push(colorCode + 'm+' + module.exports.humanize(this.diff) + '\\u001B[0m');\n\t} else {\n\t\targs[0] = getDate() + name + ' ' + args[0];\n\t}\n}\n\nfunction getDate() {\n\tif (exports.inspectOpts.hideDate) {\n\t\treturn '';\n\t}\n\treturn new Date().toISOString() + ' ';\n}\n\n/**\n * Invokes `util.format()` with the specified arguments and writes to stderr.\n */\n\nfunction log(...args) {\n\treturn process.stderr.write(util.format(...args) + '\\n');\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n\tif (namespaces) {\n\t\tprocess.env.DEBUG = namespaces;\n\t} else {\n\t\t// If you set a process.env field to null or undefined, it gets cast to the\n\t\t// string 'null' or 'undefined'. Just delete instead.\n\t\tdelete process.env.DEBUG;\n\t}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n\treturn process.env.DEBUG;\n}\n\n/**\n * Init logic for `debug` instances.\n *\n * Create a new `inspectOpts` object in case `useColors` is set\n * differently for a particular `debug` instance.\n */\n\nfunction init(debug) {\n\tdebug.inspectOpts = {};\n\n\tconst keys = Object.keys(exports.inspectOpts);\n\tfor (let i = 0; i < keys.length; i++) {\n\t\tdebug.inspectOpts[keys[i]] = exports.inspectOpts[keys[i]];\n\t}\n}\n\nmodule.exports = require('./common')(exports);\n\nconst {formatters} = module.exports;\n\n/**\n * Map %o to `util.inspect()`, all on a single line.\n */\n\nformatters.o = function (v) {\n\tthis.inspectOpts.colors = this.useColors;\n\treturn util.inspect(v, this.inspectOpts)\n\t\t.split('\\n')\n\t\t.map(str => str.trim())\n\t\t.join(' ');\n};\n\n/**\n * Map %O to `util.inspect()`, allowing multiple lines if needed.\n */\n\nformatters.O = function (v) {\n\tthis.inspectOpts.colors = this.useColors;\n\treturn util.inspect(v, this.inspectOpts);\n};\n","\"use strict\";\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nexports.AzureMonitorSymbol = \"Azure_Monitor_Tracer\";\n/**\n * By default, @azure/core-tracing default tracer is a NoopTracer.\n * This patching changes the default tracer to a patched BasicTracer\n * which emits ended spans as diag-channel events.\n *\n * The @opentelemetry/tracing package must be installed to use these patches\n * https://www.npmjs.com/package/@opentelemetry/tracing\n * @param coreTracing\n */\nvar azureCoreTracingPatchFunction = function (coreTracing) {\n    try {\n        var BasicTracer = require(\"@opentelemetry/tracing\").BasicTracer;\n        var tracerConfig = diagnostic_channel_1.channel.spanContextPropagator\n            ? { scopeManager: diagnostic_channel_1.channel.spanContextPropagator }\n            : undefined;\n        var tracer_1 = new BasicTracer(tracerConfig);\n        // Patch startSpan instead of using spanProcessor.onStart because parentSpan must be\n        // set while the span is constructed\n        var startSpanOriginal_1 = tracer_1.startSpan;\n        tracer_1.startSpan = function (name, options) {\n            // if no parent span was provided, apply the current context\n            if (!options || !options.parent) {\n                var parentOperation = tracer_1.getCurrentSpan();\n                if (parentOperation && parentOperation.operation && parentOperation.operation.traceparent) {\n                    options = __assign({}, options, { parent: {\n                            traceId: parentOperation.operation.traceparent.traceId,\n                            spanId: parentOperation.operation.traceparent.spanId,\n                        } });\n                }\n            }\n            var span = startSpanOriginal_1.call(this, name, options);\n            span.addEvent(\"Application Insights Integration enabled\");\n            return span;\n        };\n        tracer_1.addSpanProcessor(new AzureMonitorSpanProcessor());\n        tracer_1[exports.AzureMonitorSymbol] = true;\n        coreTracing.setTracer(tracer_1); // recordSpanData is not present on BasicTracer - cast to any\n    }\n    catch (e) { /* squash errors */ }\n    return coreTracing;\n};\nvar AzureMonitorSpanProcessor = /** @class */ (function () {\n    function AzureMonitorSpanProcessor() {\n    }\n    AzureMonitorSpanProcessor.prototype.onStart = function (span) {\n        // noop since startSpan is already patched\n    };\n    AzureMonitorSpanProcessor.prototype.onEnd = function (span) {\n        diagnostic_channel_1.channel.publish(\"azure-coretracing\", span);\n    };\n    AzureMonitorSpanProcessor.prototype.shutdown = function () {\n        // noop\n    };\n    return AzureMonitorSpanProcessor;\n}());\nexports.azureCoreTracing = {\n    versionSpecifier: \">= 1.0.0 < 2.0.0\",\n    patch: azureCoreTracingPatchFunction,\n};\nfunction enable() {\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"@azure/core-tracing\", exports.azureCoreTracing);\n}\nexports.enable = enable;\n//# sourceMappingURL=azure-coretracing.pub.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license. See LICENSE file in the project root for details.\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nvar bunyanPatchFunction = function (originalBunyan) {\n    var originalEmit = originalBunyan.prototype._emit;\n    originalBunyan.prototype._emit = function (rec, noemit) {\n        var ret = originalEmit.apply(this, arguments);\n        if (!noemit) {\n            var str = ret;\n            if (!str) {\n                str = originalEmit.call(this, rec, true);\n            }\n            diagnostic_channel_1.channel.publish(\"bunyan\", { level: rec.level, result: str });\n        }\n        return ret;\n    };\n    return originalBunyan;\n};\nexports.bunyan = {\n    versionSpecifier: \">= 1.0.0 < 2.0.0\",\n    patch: bunyanPatchFunction,\n};\nfunction enable() {\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"bunyan\", exports.bunyan);\n}\nexports.enable = enable;\n//# sourceMappingURL=bunyan.pub.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license. See LICENSE file in the project root for details.\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nvar stream_1 = require(\"stream\");\nvar consolePatchFunction = function (originalConsole) {\n    var aiLoggingOutStream = new stream_1.Writable();\n    var aiLoggingErrStream = new stream_1.Writable();\n    // Default console is roughly equivalent to `new Console(process.stdout, process.stderr)`\n    // We create a version which publishes to the channel and also to stdout/stderr\n    aiLoggingOutStream.write = function (chunk) {\n        if (!chunk) {\n            return true;\n        }\n        var message = chunk.toString();\n        diagnostic_channel_1.channel.publish(\"console\", { message: message });\n        return true;\n    };\n    aiLoggingErrStream.write = function (chunk) {\n        if (!chunk) {\n            return true;\n        }\n        var message = chunk.toString();\n        diagnostic_channel_1.channel.publish(\"console\", { message: message, stderr: true });\n        return true;\n    };\n    var aiLoggingConsole = new originalConsole.Console(aiLoggingOutStream, aiLoggingErrStream);\n    var consoleMethods = [\"log\", \"info\", \"warn\", \"error\", \"dir\", \"time\", \"timeEnd\", \"trace\", \"assert\"];\n    var _loop_1 = function (method) {\n        var originalMethod = originalConsole[method];\n        if (originalMethod) {\n            originalConsole[method] = function () {\n                if (aiLoggingConsole[method]) {\n                    try {\n                        aiLoggingConsole[method].apply(aiLoggingConsole, arguments);\n                    }\n                    catch (e) {\n                        // Ignore errors; allow the original method to throw if necessary\n                    }\n                }\n                return originalMethod.apply(originalConsole, arguments);\n            };\n        }\n    };\n    for (var _i = 0, consoleMethods_1 = consoleMethods; _i < consoleMethods_1.length; _i++) {\n        var method = consoleMethods_1[_i];\n        _loop_1(method);\n    }\n    return originalConsole;\n};\nexports.console = {\n    versionSpecifier: \">= 4.0.0\",\n    patch: consolePatchFunction,\n};\nfunction enable() {\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"console\", exports.console);\n    // Force patching of console\n    /* tslint:disable-next-line:no-var-requires */\n    require(\"console\");\n}\nexports.enable = enable;\n//# sourceMappingURL=console.pub.js.map","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license. See LICENSE file in the project root for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar azuresdk = require(\"./azure-coretracing.pub\");\nexports.azuresdk = azuresdk;\nvar bunyan = require(\"./bunyan.pub\");\nexports.bunyan = bunyan;\nvar consolePub = require(\"./console.pub\");\nexports.console = consolePub;\nvar mongodbCore = require(\"./mongodb-core.pub\");\nexports.mongodbCore = mongodbCore;\nvar mongodb = require(\"./mongodb.pub\");\nexports.mongodb = mongodb;\nvar mysql = require(\"./mysql.pub\");\nexports.mysql = mysql;\nvar pgPool = require(\"./pg-pool.pub\");\nexports.pgPool = pgPool;\nvar pg = require(\"./pg.pub\");\nexports.pg = pg;\nvar redis = require(\"./redis.pub\");\nexports.redis = redis;\nvar tedious = require(\"./tedious.pub\");\nexports.tedious = tedious;\nvar winston = require(\"./winston.pub\");\nexports.winston = winston;\nfunction enable() {\n    bunyan.enable();\n    consolePub.enable();\n    mongodbCore.enable();\n    mongodb.enable();\n    mysql.enable();\n    pg.enable();\n    pgPool.enable();\n    redis.enable();\n    winston.enable();\n    azuresdk.enable();\n    tedious.enable();\n}\nexports.enable = enable;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license. See LICENSE file in the project root for details.\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nvar mongodbcorePatchFunction = function (originalMongoCore) {\n    var originalConnect = originalMongoCore.Server.prototype.connect;\n    originalMongoCore.Server.prototype.connect = function contextPreservingConnect() {\n        var ret = originalConnect.apply(this, arguments);\n        // Messages sent to mongo progress through a pool\n        // This can result in context getting mixed between different responses\n        // so we wrap the callbacks to restore appropriate state\n        var originalWrite = this.s.pool.write;\n        this.s.pool.write = function contextPreservingWrite() {\n            var cbidx = typeof arguments[1] === \"function\" ? 1 : 2;\n            if (typeof arguments[cbidx] === \"function\") {\n                arguments[cbidx] = diagnostic_channel_1.channel.bindToContext(arguments[cbidx]);\n            }\n            return originalWrite.apply(this, arguments);\n        };\n        // Logout is a special case, it doesn't call the write function but instead\n        // directly calls into connection.write\n        var originalLogout = this.s.pool.logout;\n        this.s.pool.logout = function contextPreservingLogout() {\n            if (typeof arguments[1] === \"function\") {\n                arguments[1] = diagnostic_channel_1.channel.bindToContext(arguments[1]);\n            }\n            return originalLogout.apply(this, arguments);\n        };\n        return ret;\n    };\n    return originalMongoCore;\n};\nexports.mongoCore = {\n    versionSpecifier: \">= 2.0.0 < 4.0.0\",\n    patch: mongodbcorePatchFunction,\n};\nfunction enable() {\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"mongodb-core\", exports.mongoCore);\n}\nexports.enable = enable;\n//# sourceMappingURL=mongodb-core.pub.js.map","\"use strict\";\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license. See LICENSE file in the project root for details.\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nvar mongodbPatchFunction = function (originalMongo) {\n    var listener = originalMongo.instrument({\n        operationIdGenerator: {\n            next: function () {\n                return diagnostic_channel_1.channel.bindToContext(function (cb) { return cb(); });\n            },\n        },\n    });\n    var eventMap = {};\n    listener.on(\"started\", function (event) {\n        if (eventMap[event.requestId]) {\n            // Note: Mongo can generate 2 completely separate requests\n            // which share the same requestId, if a certain race condition is triggered.\n            // For now, we accept that this can happen and potentially miss or mislabel some events.\n            return;\n        }\n        eventMap[event.requestId] = __assign({}, event, { time: new Date() });\n    });\n    listener.on(\"succeeded\", function (event) {\n        var startedData = eventMap[event.requestId];\n        if (startedData) {\n            delete eventMap[event.requestId];\n        }\n        if (typeof event.operationId === \"function\") {\n            event.operationId(function () { return diagnostic_channel_1.channel.publish(\"mongodb\", { startedData: startedData, event: event, succeeded: true }); });\n        }\n        else {\n            // fallback -- correlation will not work here\n            diagnostic_channel_1.channel.publish(\"mongodb\", { startedData: startedData, event: event, succeeded: true });\n        }\n    });\n    listener.on(\"failed\", function (event) {\n        var startedData = eventMap[event.requestId];\n        if (startedData) {\n            delete eventMap[event.requestId];\n        }\n        if (typeof event.operationId === \"function\") {\n            event.operationId(function () { return diagnostic_channel_1.channel.publish(\"mongodb\", { startedData: startedData, event: event, succeeded: false }); });\n        }\n        else {\n            // fallback -- correlation will not work here\n            diagnostic_channel_1.channel.publish(\"mongodb\", { startedData: startedData, event: event, succeeded: false });\n        }\n    });\n    return originalMongo;\n};\nvar mongodb3PatchFunction = function (originalMongo) {\n    var listener = originalMongo.instrument();\n    var eventMap = {};\n    var contextMap = {};\n    listener.on(\"started\", function (event) {\n        if (eventMap[event.requestId]) {\n            // Note: Mongo can generate 2 completely separate requests\n            // which share the same requestId, if a certain race condition is triggered.\n            // For now, we accept that this can happen and potentially miss or mislabel some events.\n            return;\n        }\n        contextMap[event.requestId] = diagnostic_channel_1.channel.bindToContext(function (cb) { return cb(); });\n        eventMap[event.requestId] = __assign({}, event, { time: new Date() });\n    });\n    listener.on(\"succeeded\", function (event) {\n        var startedData = eventMap[event.requestId];\n        if (startedData) {\n            delete eventMap[event.requestId];\n        }\n        if (typeof event === \"object\" && typeof contextMap[event.requestId] === \"function\") {\n            contextMap[event.requestId](function () { return diagnostic_channel_1.channel.publish(\"mongodb\", { startedData: startedData, event: event, succeeded: true }); });\n            delete contextMap[event.requestId];\n        }\n    });\n    listener.on(\"failed\", function (event) {\n        var startedData = eventMap[event.requestId];\n        if (startedData) {\n            delete eventMap[event.requestId];\n        }\n        if (typeof event === \"object\" && typeof contextMap[event.requestId] === \"function\") {\n            contextMap[event.requestId](function () { return diagnostic_channel_1.channel.publish(\"mongodb\", { startedData: startedData, event: event, succeeded: false }); });\n            delete contextMap[event.requestId];\n        }\n    });\n    return originalMongo;\n};\n// In mongodb 3.3.0, mongodb-core was merged into mongodb, so the same patching\n// can be used here. this.s.pool was changed to this.s.coreTopology.s.pool\nvar mongodbcorePatchFunction = function (originalMongo) {\n    var originalConnect = originalMongo.Server.prototype.connect;\n    originalMongo.Server.prototype.connect = function contextPreservingConnect() {\n        var ret = originalConnect.apply(this, arguments);\n        // Messages sent to mongo progress through a pool\n        // This can result in context getting mixed between different responses\n        // so we wrap the callbacks to restore appropriate state\n        var originalWrite = this.s.coreTopology.s.pool.write;\n        this.s.coreTopology.s.pool.write = function contextPreservingWrite() {\n            var cbidx = typeof arguments[1] === \"function\" ? 1 : 2;\n            if (typeof arguments[cbidx] === \"function\") {\n                arguments[cbidx] = diagnostic_channel_1.channel.bindToContext(arguments[cbidx]);\n            }\n            return originalWrite.apply(this, arguments);\n        };\n        // Logout is a special case, it doesn't call the write function but instead\n        // directly calls into connection.write\n        var originalLogout = this.s.coreTopology.s.pool.logout;\n        this.s.coreTopology.s.pool.logout = function contextPreservingLogout() {\n            if (typeof arguments[1] === \"function\") {\n                arguments[1] = diagnostic_channel_1.channel.bindToContext(arguments[1]);\n            }\n            return originalLogout.apply(this, arguments);\n        };\n        return ret;\n    };\n    return originalMongo;\n};\nvar mongodb330PatchFunction = function (originalMongo) {\n    mongodbcorePatchFunction(originalMongo); // apply mongodb-core patches\n    var listener = originalMongo.instrument();\n    var eventMap = {};\n    var contextMap = {};\n    listener.on(\"started\", function (event) {\n        if (eventMap[event.requestId]) {\n            // Note: Mongo can generate 2 completely separate requests\n            // which share the same requestId, if a certain race condition is triggered.\n            // For now, we accept that this can happen and potentially miss or mislabel some events.\n            return;\n        }\n        contextMap[event.requestId] = diagnostic_channel_1.channel.bindToContext(function (cb) { return cb(); });\n        eventMap[event.requestId] = event;\n    });\n    listener.on(\"succeeded\", function (event) {\n        var startedData = eventMap[event.requestId];\n        if (startedData) {\n            delete eventMap[event.requestId];\n        }\n        if (typeof event === \"object\" && typeof contextMap[event.requestId] === \"function\") {\n            contextMap[event.requestId](function () { return diagnostic_channel_1.channel.publish(\"mongodb\", { startedData: startedData, event: event, succeeded: true }); });\n            delete contextMap[event.requestId];\n        }\n    });\n    listener.on(\"failed\", function (event) {\n        var startedData = eventMap[event.requestId];\n        if (startedData) {\n            delete eventMap[event.requestId];\n        }\n        if (typeof event === \"object\" && typeof contextMap[event.requestId] === \"function\") {\n            contextMap[event.requestId](function () { return diagnostic_channel_1.channel.publish(\"mongodb\", { startedData: startedData, event: event, succeeded: false }); });\n            delete contextMap[event.requestId];\n        }\n    });\n    return originalMongo;\n};\nexports.mongo2 = {\n    versionSpecifier: \">= 2.0.0 <= 3.0.5\",\n    patch: mongodbPatchFunction,\n};\nexports.mongo3 = {\n    versionSpecifier: \"> 3.0.5 < 3.3.0\",\n    patch: mongodb3PatchFunction,\n};\nexports.mongo330 = {\n    versionSpecifier: \">= 3.3.0 < 4.0.0\",\n    patch: mongodb330PatchFunction,\n};\nfunction enable() {\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"mongodb\", exports.mongo2);\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"mongodb\", exports.mongo3);\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"mongodb\", exports.mongo330);\n}\nexports.enable = enable;\n//# sourceMappingURL=mongodb.pub.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license. See LICENSE file in the project root for details.\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nvar path = require(\"path\");\nvar mysqlPatchFunction = function (originalMysql, originalMysqlPath) {\n    // The `name` passed in here is for debugging purposes,\n    // to help distinguish which object is being patched.\n    var patchObjectFunction = function (obj, name) {\n        return function (func, cbWrapper) {\n            var originalFunc = obj[func];\n            if (originalFunc) {\n                obj[func] = function mysqlContextPreserver() {\n                    // Find the callback, if there is one\n                    var cbidx = arguments.length - 1;\n                    for (var i = arguments.length - 1; i >= 0; --i) {\n                        if (typeof arguments[i] === \"function\") {\n                            cbidx = i;\n                            break;\n                        }\n                        else if (typeof arguments[i] !== \"undefined\") {\n                            break;\n                        }\n                    }\n                    var cb = arguments[cbidx];\n                    var resultContainer = { result: null, startTime: null, startDate: null };\n                    if (typeof cb === \"function\") {\n                        // Preserve context on the callback.\n                        // If this is one of the functions that we want to track,\n                        // then wrap the callback with the tracking wrapper\n                        if (cbWrapper) {\n                            resultContainer.startTime = process.hrtime();\n                            resultContainer.startDate = new Date();\n                            arguments[cbidx] = diagnostic_channel_1.channel.bindToContext(cbWrapper(resultContainer, cb));\n                        }\n                        else {\n                            arguments[cbidx] = diagnostic_channel_1.channel.bindToContext(cb);\n                        }\n                    }\n                    var result = originalFunc.apply(this, arguments);\n                    resultContainer.result = result;\n                    return result;\n                };\n            }\n        };\n    };\n    var patchClassMemberFunction = function (classObject, name) {\n        return patchObjectFunction(classObject.prototype, name + \".prototype\");\n    };\n    var connectionCallbackFunctions = [\n        \"connect\", \"changeUser\",\n        \"ping\", \"statistics\", \"end\",\n    ];\n    var connectionClass = require(path.dirname(originalMysqlPath) + \"/lib/Connection\");\n    connectionCallbackFunctions.forEach(function (value) { return patchClassMemberFunction(connectionClass, \"Connection\")(value); });\n    // Connection.createQuery is a static method\n    patchObjectFunction(connectionClass, \"Connection\")(\"createQuery\", function (resultContainer, cb) {\n        return function (err) {\n            var hrDuration = process.hrtime(resultContainer.startTime);\n            /* tslint:disable-next-line:no-bitwise */\n            var duration = (hrDuration[0] * 1e3 + hrDuration[1] / 1e6) | 0;\n            diagnostic_channel_1.channel.publish(\"mysql\", { query: resultContainer.result, callbackArgs: arguments, err: err, duration: duration, time: resultContainer.startDate });\n            cb.apply(this, arguments);\n        };\n    });\n    var poolCallbackFunctions = [\n        \"_enqueueCallback\",\n    ];\n    var poolClass = require(path.dirname(originalMysqlPath) + \"/lib/Pool\");\n    poolCallbackFunctions.forEach(function (value) { return patchClassMemberFunction(poolClass, \"Pool\")(value); });\n    return originalMysql;\n};\nexports.mysql = {\n    versionSpecifier: \">= 2.0.0 < 3.0.0\",\n    patch: mysqlPatchFunction,\n};\nfunction enable() {\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"mysql\", exports.mysql);\n}\nexports.enable = enable;\n//# sourceMappingURL=mysql.pub.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license. See LICENSE file in the project root for details.\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nfunction postgresPool1PatchFunction(originalPgPool) {\n    var originalConnect = originalPgPool.prototype.connect;\n    originalPgPool.prototype.connect = function connect(callback) {\n        if (callback) {\n            arguments[0] = diagnostic_channel_1.channel.bindToContext(callback);\n        }\n        return originalConnect.apply(this, arguments);\n    };\n    return originalPgPool;\n}\nexports.postgresPool1 = {\n    versionSpecifier: \">= 1.0.0 < 3.0.0\",\n    patch: postgresPool1PatchFunction,\n};\nfunction enable() {\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"pg-pool\", exports.postgresPool1);\n}\nexports.enable = enable;\n//# sourceMappingURL=pg-pool.pub.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license. See LICENSE file in the project root for details.\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nvar events_1 = require(\"events\");\nfunction postgres6PatchFunction(originalPg, originalPgPath) {\n    var originalClientQuery = originalPg.Client.prototype.query;\n    var diagnosticOriginalFunc = \"__diagnosticOriginalFunc\";\n    // wherever the callback is passed, find it, save it, and remove it from the call\n    // to the the original .query() function\n    originalPg.Client.prototype.query = function query(config, values, callback) {\n        var data = {\n            query: {},\n            database: {\n                host: this.connectionParameters.host,\n                port: this.connectionParameters.port,\n            },\n            result: null,\n            error: null,\n            duration: 0,\n            time: new Date(),\n        };\n        var start = process.hrtime();\n        var queryResult;\n        function patchCallback(cb) {\n            if (cb && cb[diagnosticOriginalFunc]) {\n                cb = cb[diagnosticOriginalFunc];\n            }\n            var trackingCallback = diagnostic_channel_1.channel.bindToContext(function (err, res) {\n                var end = process.hrtime(start);\n                data.result = res && { rowCount: res.rowCount, command: res.command };\n                data.error = err;\n                data.duration = Math.ceil((end[0] * 1e3) + (end[1] / 1e6));\n                diagnostic_channel_1.channel.publish(\"postgres\", data);\n                // emulate weird internal behavior in pg@6\n                // on success, the callback is called *before* query events are emitted\n                // on failure, the callback is called *instead of* the query emitting events\n                // with no events, that means no promises (since the promise is resolved/rejected in an event handler)\n                // since we are always inserting ourselves as a callback, we have to restore the original\n                // behavior if the user didn't provide one themselves\n                if (err) {\n                    if (cb) {\n                        return cb.apply(this, arguments);\n                    }\n                    else if (queryResult && queryResult instanceof events_1.EventEmitter) {\n                        queryResult.emit(\"error\", err);\n                    }\n                }\n                else if (cb) {\n                    cb.apply(this, arguments);\n                }\n            });\n            try {\n                Object.defineProperty(trackingCallback, diagnosticOriginalFunc, { value: cb });\n                return trackingCallback;\n            }\n            catch (e) {\n                // this should never happen, but bailout in case it does\n                return cb;\n            }\n        }\n        // this function takes too many variations of arguments.\n        // this patches any provided callback or creates a new callback if one wasn't provided.\n        // since the callback is always called (if provided) in addition to always having a Promisified\n        // EventEmitter returned (well, sometimes -- see above), its safe to insert a callback if none was given\n        try {\n            if (typeof config === \"string\") {\n                if (values instanceof Array) {\n                    data.query.preparable = {\n                        text: config,\n                        args: values,\n                    };\n                    callback = patchCallback(callback);\n                }\n                else {\n                    data.query.text = config;\n                    // pg v6 will, for some reason, accept both\n                    // client.query(\"...\", undefined, () => {...})\n                    // **and**\n                    // client.query(\"...\", () => {...});\n                    // Internally, precedence is given to the callback argument\n                    if (callback) {\n                        callback = patchCallback(callback);\n                    }\n                    else {\n                        values = patchCallback(values);\n                    }\n                }\n            }\n            else {\n                if (typeof config.name === \"string\") {\n                    data.query.plan = config.name;\n                }\n                else if (config.values instanceof Array) {\n                    data.query.preparable = {\n                        text: config.text,\n                        args: config.values,\n                    };\n                }\n                else {\n                    data.query.text = config.text;\n                }\n                if (callback) {\n                    callback = patchCallback(callback);\n                }\n                else if (values) {\n                    values = patchCallback(values);\n                }\n                else {\n                    config.callback = patchCallback(config.callback);\n                }\n            }\n        }\n        catch (e) {\n            // if our logic here throws, bail out and just let pg do its thing\n            return originalClientQuery.apply(this, arguments);\n        }\n        arguments[0] = config;\n        arguments[1] = values;\n        arguments[2] = callback;\n        arguments.length = (arguments.length > 3) ? arguments.length : 3;\n        queryResult = originalClientQuery.apply(this, arguments);\n        return queryResult;\n    };\n    return originalPg;\n}\nfunction postgres7PatchFunction(originalPg, originalPgPath) {\n    var originalClientQuery = originalPg.Client.prototype.query;\n    var diagnosticOriginalFunc = \"__diagnosticOriginalFunc\";\n    // wherever the callback is passed, find it, save it, and remove it from the call\n    // to the the original .query() function\n    originalPg.Client.prototype.query = function query(config, values, callback) {\n        var _this = this;\n        var callbackProvided = !!callback; // Starting in pg@7.x+, Promise is returned only if !callbackProvided\n        var data = {\n            query: {},\n            database: {\n                host: this.connectionParameters.host,\n                port: this.connectionParameters.port,\n            },\n            result: null,\n            error: null,\n            duration: 0,\n            time: new Date(),\n        };\n        var start = process.hrtime();\n        var queryResult;\n        function patchCallback(cb) {\n            if (cb && cb[diagnosticOriginalFunc]) {\n                cb = cb[diagnosticOriginalFunc];\n            }\n            var trackingCallback = diagnostic_channel_1.channel.bindToContext(function (err, res) {\n                var end = process.hrtime(start);\n                data.result = res && { rowCount: res.rowCount, command: res.command };\n                data.error = err;\n                data.duration = Math.ceil((end[0] * 1e3) + (end[1] / 1e6));\n                diagnostic_channel_1.channel.publish(\"postgres\", data);\n                if (err) {\n                    if (cb) {\n                        return cb.apply(this, arguments);\n                    }\n                    else if (queryResult && queryResult instanceof events_1.EventEmitter) {\n                        queryResult.emit(\"error\", err);\n                    }\n                }\n                else if (cb) {\n                    cb.apply(this, arguments);\n                }\n            });\n            try {\n                Object.defineProperty(trackingCallback, diagnosticOriginalFunc, { value: cb });\n                return trackingCallback;\n            }\n            catch (e) {\n                // this should never happen, but bailout in case it does\n                return cb;\n            }\n        }\n        // Only try to wrap the callback if it is a function. We want to keep the same\n        // behavior of returning a promise only if no callback is provided. Wrapping\n        // a nonfunction makes it a function and pg will interpret it as a callback\n        try {\n            if (typeof config === \"string\") {\n                if (values instanceof Array) {\n                    data.query.preparable = {\n                        text: config,\n                        args: values,\n                    };\n                    callbackProvided = typeof callback === \"function\";\n                    callback = callbackProvided ? patchCallback(callback) : callback;\n                }\n                else {\n                    data.query.text = config;\n                    if (callback) {\n                        callbackProvided = typeof callback === \"function\";\n                        callback = callbackProvided ? patchCallback(callback) : callback;\n                    }\n                    else {\n                        callbackProvided = typeof values === \"function\";\n                        values = callbackProvided ? patchCallback(values) : values;\n                    }\n                }\n            }\n            else {\n                if (typeof config.name === \"string\") {\n                    data.query.plan = config.name;\n                }\n                else if (config.values instanceof Array) {\n                    data.query.preparable = {\n                        text: config.text,\n                        args: config.values,\n                    };\n                }\n                else {\n                    data.query.text = config.text;\n                }\n                if (callback) {\n                    callbackProvided = typeof callback === \"function\";\n                    callback = patchCallback(callback);\n                }\n                else if (values) {\n                    callbackProvided = typeof values === \"function\";\n                    values = callbackProvided ? patchCallback(values) : values;\n                }\n                else {\n                    callbackProvided = typeof config.callback === \"function\";\n                    config.callback = callbackProvided ? patchCallback(config.callback) : config.callback;\n                }\n            }\n        }\n        catch (e) {\n            // if our logic here throws, bail out and just let pg do its thing\n            return originalClientQuery.apply(this, arguments);\n        }\n        arguments[0] = config;\n        arguments[1] = values;\n        arguments[2] = callback;\n        arguments.length = (arguments.length > 3) ? arguments.length : 3;\n        queryResult = originalClientQuery.apply(this, arguments);\n        if (!callbackProvided) {\n            // no callback, so create a pass along promise\n            return queryResult\n                // pass resolved promise after publishing the event\n                .then(function (result) {\n                patchCallback()(undefined, result);\n                return new _this._Promise(function (resolve, reject) {\n                    resolve(result);\n                });\n            })\n                // pass along rejected promise after publishing the error\n                .catch(function (error) {\n                patchCallback()(error, undefined);\n                return new _this._Promise(function (resolve, reject) {\n                    reject(error);\n                });\n            });\n        }\n        return queryResult;\n    };\n    return originalPg;\n}\nexports.postgres6 = {\n    versionSpecifier: \"6.*\",\n    patch: postgres6PatchFunction,\n};\nexports.postgres7 = {\n    versionSpecifier: \">=7.* <=8.*\",\n    patch: postgres7PatchFunction,\n};\nfunction enable() {\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"pg\", exports.postgres6);\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"pg\", exports.postgres7);\n}\nexports.enable = enable;\n//# sourceMappingURL=pg.pub.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license. See LICENSE file in the project root for details.\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nvar redisPatchFunction = function (originalRedis) {\n    var originalSend = originalRedis.RedisClient.prototype.internal_send_command;\n    // Note: This is mixing together both context tracking and dependency tracking\n    originalRedis.RedisClient.prototype.internal_send_command = function (commandObj) {\n        if (commandObj) {\n            var cb_1 = commandObj.callback;\n            if (!cb_1 || !cb_1.pubsubBound) {\n                var address_1 = this.address;\n                var startTime_1 = process.hrtime();\n                var startDate_1 = new Date();\n                // Note: augmenting the callback on internal_send_command is correct for context\n                // tracking, but may be too low-level for dependency tracking. There are some 'errors'\n                // which higher levels expect in some cases\n                // However, the only other option is to intercept every individual command.\n                commandObj.callback = diagnostic_channel_1.channel.bindToContext(function (err, result) {\n                    var hrDuration = process.hrtime(startTime_1);\n                    /* tslint:disable-next-line:no-bitwise */\n                    var duration = (hrDuration[0] * 1e3 + hrDuration[1] / 1e6) | 0;\n                    diagnostic_channel_1.channel.publish(\"redis\", { duration: duration, address: address_1, commandObj: commandObj, err: err, result: result, time: startDate_1 });\n                    if (typeof cb_1 === \"function\") {\n                        cb_1.apply(this, arguments);\n                    }\n                });\n                commandObj.callback.pubsubBound = true;\n            }\n        }\n        return originalSend.call(this, commandObj);\n    };\n    return originalRedis;\n};\nexports.redis = {\n    versionSpecifier: \">= 2.0.0 < 4.0.0\",\n    patch: redisPatchFunction,\n};\nfunction enable() {\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"redis\", exports.redis);\n}\nexports.enable = enable;\n//# sourceMappingURL=redis.pub.js.map","\"use strict\";\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license. See LICENSE file in the project root for details.\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nvar tediousPatchFunction = function (originalTedious) {\n    var originalMakeRequest = originalTedious.Connection.prototype.makeRequest;\n    originalTedious.Connection.prototype.makeRequest = function makeRequest() {\n        function getPatchedCallback(origCallback) {\n            var start = process.hrtime();\n            var data = {\n                query: {},\n                database: {\n                    host: null,\n                    port: null,\n                },\n                result: null,\n                error: null,\n                duration: 0,\n            };\n            return diagnostic_channel_1.channel.bindToContext(function (err, rowCount, rows) {\n                var end = process.hrtime(start);\n                data = __assign({}, data, { database: {\n                        host: this.connection.config.server,\n                        port: this.connection.config.options.port,\n                    }, result: !err && { rowCount: rowCount, rows: rows }, query: {\n                        text: this.parametersByName.statement.value,\n                    }, error: err, duration: Math.ceil((end[0] * 1e3) + (end[1] / 1e6)) });\n                diagnostic_channel_1.channel.publish(\"tedious\", data);\n                origCallback.call(this, err, rowCount, rows);\n            });\n        }\n        var request = arguments[0];\n        arguments[0].callback = getPatchedCallback(request.callback);\n        originalMakeRequest.apply(this, arguments);\n    };\n    return originalTedious;\n};\nexports.tedious = {\n    versionSpecifier: \">= 6.0.0 < 9.0.0\",\n    patch: tediousPatchFunction,\n};\nfunction enable() {\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"tedious\", exports.tedious);\n}\nexports.enable = enable;\n//# sourceMappingURL=tedious.pub.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\n            t[p[i]] = s[p[i]];\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license. See LICENSE file in the project root for details.\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\n// register a \"filter\" with each logger that publishes the data about to be logged\nvar winston2PatchFunction = function (originalWinston) {\n    var originalLog = originalWinston.Logger.prototype.log;\n    var curLevels;\n    var loggingFilter = function (level, message, meta) {\n        var levelKind;\n        if (curLevels === originalWinston.config.npm.levels) {\n            levelKind = \"npm\";\n        }\n        else if (curLevels === originalWinston.config.syslog.levels) {\n            levelKind = \"syslog\";\n        }\n        else {\n            levelKind = \"unknown\";\n        }\n        diagnostic_channel_1.channel.publish(\"winston\", { level: level, message: message, meta: meta, levelKind: levelKind });\n        return message;\n    };\n    // whenever someone logs, ensure our filter comes last\n    originalWinston.Logger.prototype.log = function log() {\n        curLevels = this.levels;\n        if (!this.filters || this.filters.length === 0) {\n            this.filters = [loggingFilter];\n        }\n        else if (this.filters[this.filters.length - 1] !== loggingFilter) {\n            this.filters = this.filters.filter(function (f) { return f !== loggingFilter; });\n            this.filters.push(loggingFilter);\n        }\n        return originalLog.apply(this, arguments);\n    };\n    return originalWinston;\n};\nvar winston3PatchFunction = function (originalWinston) {\n    var mapLevelToKind = function (winston, level) {\n        var levelKind;\n        if (winston.config.npm.levels[level] != null) {\n            levelKind = \"npm\";\n        }\n        else if (winston.config.syslog.levels[level] != null) {\n            levelKind = \"syslog\";\n        }\n        else {\n            levelKind = \"unknown\";\n        }\n        return levelKind;\n    };\n    var AppInsightsTransport = /** @class */ (function (_super) {\n        __extends(AppInsightsTransport, _super);\n        function AppInsightsTransport(winston, opts) {\n            var _this = _super.call(this, opts) || this;\n            _this.winston = winston;\n            return _this;\n        }\n        AppInsightsTransport.prototype.log = function (info, callback) {\n            // tslint:disable-next-line:prefer-const - try to obtain level from Symbol(level) afterwards\n            var message = info.message, level = info.level, meta = info.meta, splat = __rest(info, [\"message\", \"level\", \"meta\"]);\n            level = typeof Symbol[\"for\"] === \"function\" ? info[Symbol[\"for\"](\"level\")] : level; // Symbol(level) is uncolorized, so prefer getting it from here\n            message = info instanceof Error ? info : message; // Winston places Errors at info, strings at info.message\n            var levelKind = mapLevelToKind(this.winston, level);\n            meta = meta || {}; // Winston _somtimes_ puts metadata inside meta, so start from here\n            for (var key in splat) {\n                if (splat.hasOwnProperty(key)) {\n                    meta[key] = splat[key];\n                }\n            }\n            diagnostic_channel_1.channel.publish(\"winston\", { message: message, level: level, levelKind: levelKind, meta: meta });\n            callback();\n        };\n        return AppInsightsTransport;\n    }(originalWinston.Transport));\n    // Patch this function\n    function patchedConfigure() {\n        // Grab highest sev logging level in case of custom logging levels\n        var levels = arguments[0].levels || originalWinston.config.npm.levels;\n        var lastLevel;\n        for (var level in levels) {\n            if (levels.hasOwnProperty(level)) {\n                lastLevel = lastLevel === undefined || levels[level] > levels[lastLevel] ? level : lastLevel;\n            }\n        }\n        this.add(new AppInsightsTransport(originalWinston, { level: lastLevel }));\n    }\n    var origCreate = originalWinston.createLogger;\n    originalWinston.createLogger = function patchedCreate() {\n        // Grab highest sev logging level in case of custom logging levels\n        var levels = arguments[0].levels || originalWinston.config.npm.levels;\n        var lastLevel;\n        for (var level in levels) {\n            if (levels.hasOwnProperty(level)) {\n                lastLevel = lastLevel === undefined || levels[level] > levels[lastLevel] ? level : lastLevel;\n            }\n        }\n        // Add custom app insights transport to the end\n        // Remark: Configure is not available until after createLogger()\n        // and the Logger prototype is not exported in winston 3.x, so\n        // patch both createLogger and configure. Could also call configure\n        // again after createLogger, but that would cause configure to be called\n        // twice per create.\n        var result = origCreate.apply(this, arguments);\n        result.add(new AppInsightsTransport(originalWinston, { level: lastLevel }));\n        var origConfigure = result.configure;\n        result.configure = function () {\n            origConfigure.apply(this, arguments);\n            patchedConfigure.apply(this, arguments);\n        };\n        return result;\n    };\n    var origRootConfigure = originalWinston.createLogger;\n    originalWinston.configure = function () {\n        origRootConfigure.apply(this, arguments);\n        patchedConfigure.apply(this, arguments);\n    };\n    originalWinston.add(new AppInsightsTransport(originalWinston));\n    return originalWinston;\n};\nexports.winston3 = {\n    versionSpecifier: \"3.x\",\n    patch: winston3PatchFunction,\n};\nexports.winston2 = {\n    versionSpecifier: \"2.x\",\n    patch: winston2PatchFunction,\n};\nfunction enable() {\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"winston\", exports.winston2);\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"winston\", exports.winston3);\n}\nexports.enable = enable;\n//# sourceMappingURL=winston.pub.js.map","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = () => ([]);\nwebpackEmptyContext.resolve = webpackEmptyContext;\nwebpackEmptyContext.id = 54694;\nmodule.exports = webpackEmptyContext;","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = () => ([]);\nwebpackEmptyContext.resolve = webpackEmptyContext;\nwebpackEmptyContext.id = 80420;\nmodule.exports = webpackEmptyContext;","\"use strict\";\r\n// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT license. See LICENSE file in the project root for details.\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar patchRequire_1 = require(\"./patchRequire\");\r\nvar patchRequire_2 = require(\"./patchRequire\");\r\nexports.makePatchingRequire = patchRequire_2.makePatchingRequire;\r\nvar trueFilter = function (publishing) { return true; };\r\nvar ContextPreservingEventEmitter = (function () {\r\n    function ContextPreservingEventEmitter() {\r\n        this.version = require(\"./../../package.json\").version; // Allow for future versions to replace things?\r\n        this.subscribers = {};\r\n        this.contextPreservationFunction = function (cb) { return cb; };\r\n        this.knownPatches = {};\r\n        this.currentlyPublishing = false;\r\n    }\r\n    ContextPreservingEventEmitter.prototype.shouldPublish = function (name) {\r\n        var listeners = this.subscribers[name];\r\n        if (listeners) {\r\n            return listeners.some(function (_a) {\r\n                var filter = _a.filter;\r\n                return !filter || filter(false);\r\n            });\r\n        }\r\n        return false;\r\n    };\r\n    ContextPreservingEventEmitter.prototype.publish = function (name, event) {\r\n        if (this.currentlyPublishing) {\r\n            return; // Avoid reentrancy\r\n        }\r\n        var listeners = this.subscribers[name];\r\n        // Note: Listeners called synchronously to preserve context\r\n        if (listeners) {\r\n            var standardEvent_1 = {\r\n                timestamp: Date.now(),\r\n                data: event,\r\n            };\r\n            this.currentlyPublishing = true;\r\n            listeners.forEach(function (_a) {\r\n                var listener = _a.listener, filter = _a.filter;\r\n                try {\r\n                    if (filter && filter(true)) {\r\n                        listener(standardEvent_1);\r\n                    }\r\n                }\r\n                catch (e) {\r\n                    // Subscriber threw an error\r\n                }\r\n            });\r\n            this.currentlyPublishing = false;\r\n        }\r\n    };\r\n    ContextPreservingEventEmitter.prototype.subscribe = function (name, listener, filter) {\r\n        if (filter === void 0) { filter = trueFilter; }\r\n        if (!this.subscribers[name]) {\r\n            this.subscribers[name] = [];\r\n        }\r\n        this.subscribers[name].push({ listener: listener, filter: filter });\r\n    };\r\n    ContextPreservingEventEmitter.prototype.unsubscribe = function (name, listener, filter) {\r\n        if (filter === void 0) { filter = trueFilter; }\r\n        var listeners = this.subscribers[name];\r\n        if (listeners) {\r\n            for (var index = 0; index < listeners.length; ++index) {\r\n                if (listeners[index].listener === listener && listeners[index].filter === filter) {\r\n                    listeners.splice(index, 1);\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n    // Used for tests\r\n    ContextPreservingEventEmitter.prototype.reset = function () {\r\n        var _this = this;\r\n        this.subscribers = {};\r\n        this.contextPreservationFunction = function (cb) { return cb; };\r\n        // Modify the knownPatches object rather than replace, since a reference will be used in the require patcher\r\n        Object.getOwnPropertyNames(this.knownPatches).forEach(function (prop) { return delete _this.knownPatches[prop]; });\r\n    };\r\n    ContextPreservingEventEmitter.prototype.bindToContext = function (cb) {\r\n        return this.contextPreservationFunction(cb);\r\n    };\r\n    ContextPreservingEventEmitter.prototype.addContextPreservation = function (preserver) {\r\n        var previousPreservationStack = this.contextPreservationFunction;\r\n        this.contextPreservationFunction = (function (cb) { return preserver(previousPreservationStack(cb)); });\r\n    };\r\n    ContextPreservingEventEmitter.prototype.registerMonkeyPatch = function (packageName, patcher) {\r\n        if (!this.knownPatches[packageName]) {\r\n            this.knownPatches[packageName] = [];\r\n        }\r\n        this.knownPatches[packageName].push(patcher);\r\n    };\r\n    ContextPreservingEventEmitter.prototype.getPatchesObject = function () {\r\n        return this.knownPatches;\r\n    };\r\n    return ContextPreservingEventEmitter;\r\n}());\r\nif (!global.diagnosticsSource) {\r\n    global.diagnosticsSource = new ContextPreservingEventEmitter();\r\n    // TODO: should this only patch require after at least one monkey patch is registered?\r\n    /* tslint:disable-next-line:no-var-requires */\r\n    var moduleModule = require(\"module\");\r\n    // Note: We pass in the object now before any patches are registered, but the object is passed by reference\r\n    // so any updates made to the object will be visible in the patcher.\r\n    moduleModule.prototype.require = patchRequire_1.makePatchingRequire(global.diagnosticsSource.getPatchesObject());\r\n}\r\nexports.channel = global.diagnosticsSource;\r\n//# sourceMappingURL=channel.js.map","\"use strict\";\r\n// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT license. See LICENSE file in the project root for details.\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar path = require(\"path\");\r\nvar semver = require(\"semver\");\r\n/* tslint:disable-next-line:no-var-requires */\r\nvar moduleModule = require(\"module\");\r\nvar nativeModules = Object.keys(process.binding(\"natives\"));\r\nvar originalRequire = moduleModule.prototype.require;\r\nfunction makePatchingRequire(knownPatches) {\r\n    var patchedModules = {};\r\n    return function patchedRequire(moduleId) {\r\n        var originalModule = originalRequire.apply(this, arguments);\r\n        if (knownPatches[moduleId]) {\r\n            // Fetch the specific path of the module\r\n            var modulePath = moduleModule._resolveFilename(moduleId, this);\r\n            if (patchedModules.hasOwnProperty(modulePath)) {\r\n                // This module has already been patched, no need to reapply\r\n                return patchedModules[modulePath];\r\n            }\r\n            var moduleVersion = void 0;\r\n            if (nativeModules.indexOf(moduleId) < 0) {\r\n                try {\r\n                    moduleVersion = originalRequire.call(this, path.join(moduleId, \"package.json\")).version;\r\n                }\r\n                catch (e) {\r\n                    // This should only happen if moduleId is actually a path rather than a module\r\n                    // This is not a supported scenario\r\n                    return originalModule;\r\n                }\r\n            }\r\n            else {\r\n                // This module is implemented natively so we cannot find a package.json\r\n                // Instead, take the version of node itself\r\n                moduleVersion = process.version.substring(1);\r\n            }\r\n            var prereleaseTagIndex = moduleVersion.indexOf(\"-\");\r\n            if (prereleaseTagIndex >= 0) {\r\n                // We ignore prerelease tags to avoid impossible to fix gaps in support\r\n                // e.g. supporting console in >= 4.0.0 would otherwise not include\r\n                // 8.0.0-pre\r\n                moduleVersion = moduleVersion.substring(0, prereleaseTagIndex);\r\n            }\r\n            var modifiedModule = originalModule;\r\n            for (var _i = 0, _a = knownPatches[moduleId]; _i < _a.length; _i++) {\r\n                var modulePatcher = _a[_i];\r\n                if (semver.satisfies(moduleVersion, modulePatcher.versionSpecifier)) {\r\n                    modifiedModule = modulePatcher.patch(modifiedModule, modulePath);\r\n                }\r\n            }\r\n            return patchedModules[modulePath] = modifiedModule;\r\n        }\r\n        return originalModule;\r\n    };\r\n}\r\nexports.makePatchingRequire = makePatchingRequire;\r\n//# sourceMappingURL=patchRequire.js.map","/*istanbul ignore start*/\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.convertChangesToDMP = convertChangesToDMP;\n\n/*istanbul ignore end*/\n// See: http://code.google.com/p/google-diff-match-patch/wiki/API\nfunction convertChangesToDMP(changes) {\n  var ret = [],\n      change,\n      operation;\n\n  for (var i = 0; i < changes.length; i++) {\n    change = changes[i];\n\n    if (change.added) {\n      operation = 1;\n    } else if (change.removed) {\n      operation = -1;\n    } else {\n      operation = 0;\n    }\n\n    ret.push([operation, change.value]);\n  }\n\n  return ret;\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9jb252ZXJ0L2RtcC5qcyJdLCJuYW1lcyI6WyJjb252ZXJ0Q2hhbmdlc1RvRE1QIiwiY2hhbmdlcyIsInJldCIsImNoYW5nZSIsIm9wZXJhdGlvbiIsImkiLCJsZW5ndGgiLCJhZGRlZCIsInJlbW92ZWQiLCJwdXNoIiwidmFsdWUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBO0FBQ08sU0FBU0EsbUJBQVQsQ0FBNkJDLE9BQTdCLEVBQXNDO0FBQzNDLE1BQUlDLEdBQUcsR0FBRyxFQUFWO0FBQUEsTUFDSUMsTUFESjtBQUFBLE1BRUlDLFNBRko7O0FBR0EsT0FBSyxJQUFJQyxDQUFDLEdBQUcsQ0FBYixFQUFnQkEsQ0FBQyxHQUFHSixPQUFPLENBQUNLLE1BQTVCLEVBQW9DRCxDQUFDLEVBQXJDLEVBQXlDO0FBQ3ZDRixJQUFBQSxNQUFNLEdBQUdGLE9BQU8sQ0FBQ0ksQ0FBRCxDQUFoQjs7QUFDQSxRQUFJRixNQUFNLENBQUNJLEtBQVgsRUFBa0I7QUFDaEJILE1BQUFBLFNBQVMsR0FBRyxDQUFaO0FBQ0QsS0FGRCxNQUVPLElBQUlELE1BQU0sQ0FBQ0ssT0FBWCxFQUFvQjtBQUN6QkosTUFBQUEsU0FBUyxHQUFHLENBQUMsQ0FBYjtBQUNELEtBRk0sTUFFQTtBQUNMQSxNQUFBQSxTQUFTLEdBQUcsQ0FBWjtBQUNEOztBQUVERixJQUFBQSxHQUFHLENBQUNPLElBQUosQ0FBUyxDQUFDTCxTQUFELEVBQVlELE1BQU0sQ0FBQ08sS0FBbkIsQ0FBVDtBQUNEOztBQUNELFNBQU9SLEdBQVA7QUFDRCIsInNvdXJjZXNDb250ZW50IjpbIi8vIFNlZTogaHR0cDovL2NvZGUuZ29vZ2xlLmNvbS9wL2dvb2dsZS1kaWZmLW1hdGNoLXBhdGNoL3dpa2kvQVBJXG5leHBvcnQgZnVuY3Rpb24gY29udmVydENoYW5nZXNUb0RNUChjaGFuZ2VzKSB7XG4gIGxldCByZXQgPSBbXSxcbiAgICAgIGNoYW5nZSxcbiAgICAgIG9wZXJhdGlvbjtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGFuZ2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgY2hhbmdlID0gY2hhbmdlc1tpXTtcbiAgICBpZiAoY2hhbmdlLmFkZGVkKSB7XG4gICAgICBvcGVyYXRpb24gPSAxO1xuICAgIH0gZWxzZSBpZiAoY2hhbmdlLnJlbW92ZWQpIHtcbiAgICAgIG9wZXJhdGlvbiA9IC0xO1xuICAgIH0gZWxzZSB7XG4gICAgICBvcGVyYXRpb24gPSAwO1xuICAgIH1cblxuICAgIHJldC5wdXNoKFtvcGVyYXRpb24sIGNoYW5nZS52YWx1ZV0pO1xuICB9XG4gIHJldHVybiByZXQ7XG59XG4iXX0=\n","/*istanbul ignore start*/\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.convertChangesToXML = convertChangesToXML;\n\n/*istanbul ignore end*/\nfunction convertChangesToXML(changes) {\n  var ret = [];\n\n  for (var i = 0; i < changes.length; i++) {\n    var change = changes[i];\n\n    if (change.added) {\n      ret.push('<ins>');\n    } else if (change.removed) {\n      ret.push('<del>');\n    }\n\n    ret.push(escapeHTML(change.value));\n\n    if (change.added) {\n      ret.push('</ins>');\n    } else if (change.removed) {\n      ret.push('</del>');\n    }\n  }\n\n  return ret.join('');\n}\n\nfunction escapeHTML(s) {\n  var n = s;\n  n = n.replace(/&/g, '&amp;');\n  n = n.replace(/</g, '&lt;');\n  n = n.replace(/>/g, '&gt;');\n  n = n.replace(/\"/g, '&quot;');\n  return n;\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9jb252ZXJ0L3htbC5qcyJdLCJuYW1lcyI6WyJjb252ZXJ0Q2hhbmdlc1RvWE1MIiwiY2hhbmdlcyIsInJldCIsImkiLCJsZW5ndGgiLCJjaGFuZ2UiLCJhZGRlZCIsInB1c2giLCJyZW1vdmVkIiwiZXNjYXBlSFRNTCIsInZhbHVlIiwiam9pbiIsInMiLCJuIiwicmVwbGFjZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQU8sU0FBU0EsbUJBQVQsQ0FBNkJDLE9BQTdCLEVBQXNDO0FBQzNDLE1BQUlDLEdBQUcsR0FBRyxFQUFWOztBQUNBLE9BQUssSUFBSUMsQ0FBQyxHQUFHLENBQWIsRUFBZ0JBLENBQUMsR0FBR0YsT0FBTyxDQUFDRyxNQUE1QixFQUFvQ0QsQ0FBQyxFQUFyQyxFQUF5QztBQUN2QyxRQUFJRSxNQUFNLEdBQUdKLE9BQU8sQ0FBQ0UsQ0FBRCxDQUFwQjs7QUFDQSxRQUFJRSxNQUFNLENBQUNDLEtBQVgsRUFBa0I7QUFDaEJKLE1BQUFBLEdBQUcsQ0FBQ0ssSUFBSixDQUFTLE9BQVQ7QUFDRCxLQUZELE1BRU8sSUFBSUYsTUFBTSxDQUFDRyxPQUFYLEVBQW9CO0FBQ3pCTixNQUFBQSxHQUFHLENBQUNLLElBQUosQ0FBUyxPQUFUO0FBQ0Q7O0FBRURMLElBQUFBLEdBQUcsQ0FBQ0ssSUFBSixDQUFTRSxVQUFVLENBQUNKLE1BQU0sQ0FBQ0ssS0FBUixDQUFuQjs7QUFFQSxRQUFJTCxNQUFNLENBQUNDLEtBQVgsRUFBa0I7QUFDaEJKLE1BQUFBLEdBQUcsQ0FBQ0ssSUFBSixDQUFTLFFBQVQ7QUFDRCxLQUZELE1BRU8sSUFBSUYsTUFBTSxDQUFDRyxPQUFYLEVBQW9CO0FBQ3pCTixNQUFBQSxHQUFHLENBQUNLLElBQUosQ0FBUyxRQUFUO0FBQ0Q7QUFDRjs7QUFDRCxTQUFPTCxHQUFHLENBQUNTLElBQUosQ0FBUyxFQUFULENBQVA7QUFDRDs7QUFFRCxTQUFTRixVQUFULENBQW9CRyxDQUFwQixFQUF1QjtBQUNyQixNQUFJQyxDQUFDLEdBQUdELENBQVI7QUFDQUMsRUFBQUEsQ0FBQyxHQUFHQSxDQUFDLENBQUNDLE9BQUYsQ0FBVSxJQUFWLEVBQWdCLE9BQWhCLENBQUo7QUFDQUQsRUFBQUEsQ0FBQyxHQUFHQSxDQUFDLENBQUNDLE9BQUYsQ0FBVSxJQUFWLEVBQWdCLE1BQWhCLENBQUo7QUFDQUQsRUFBQUEsQ0FBQyxHQUFHQSxDQUFDLENBQUNDLE9BQUYsQ0FBVSxJQUFWLEVBQWdCLE1BQWhCLENBQUo7QUFDQUQsRUFBQUEsQ0FBQyxHQUFHQSxDQUFDLENBQUNDLE9BQUYsQ0FBVSxJQUFWLEVBQWdCLFFBQWhCLENBQUo7QUFFQSxTQUFPRCxDQUFQO0FBQ0QiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZnVuY3Rpb24gY29udmVydENoYW5nZXNUb1hNTChjaGFuZ2VzKSB7XG4gIGxldCByZXQgPSBbXTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGFuZ2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgbGV0IGNoYW5nZSA9IGNoYW5nZXNbaV07XG4gICAgaWYgKGNoYW5nZS5hZGRlZCkge1xuICAgICAgcmV0LnB1c2goJzxpbnM+Jyk7XG4gICAgfSBlbHNlIGlmIChjaGFuZ2UucmVtb3ZlZCkge1xuICAgICAgcmV0LnB1c2goJzxkZWw+Jyk7XG4gICAgfVxuXG4gICAgcmV0LnB1c2goZXNjYXBlSFRNTChjaGFuZ2UudmFsdWUpKTtcblxuICAgIGlmIChjaGFuZ2UuYWRkZWQpIHtcbiAgICAgIHJldC5wdXNoKCc8L2lucz4nKTtcbiAgICB9IGVsc2UgaWYgKGNoYW5nZS5yZW1vdmVkKSB7XG4gICAgICByZXQucHVzaCgnPC9kZWw+Jyk7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXQuam9pbignJyk7XG59XG5cbmZ1bmN0aW9uIGVzY2FwZUhUTUwocykge1xuICBsZXQgbiA9IHM7XG4gIG4gPSBuLnJlcGxhY2UoLyYvZywgJyZhbXA7Jyk7XG4gIG4gPSBuLnJlcGxhY2UoLzwvZywgJyZsdDsnKTtcbiAgbiA9IG4ucmVwbGFjZSgvPi9nLCAnJmd0OycpO1xuICBuID0gbi5yZXBsYWNlKC9cIi9nLCAnJnF1b3Q7Jyk7XG5cbiAgcmV0dXJuIG47XG59XG4iXX0=\n","/*istanbul ignore start*/\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.diffArrays = diffArrays;\nexports.arrayDiff = void 0;\n\n/*istanbul ignore end*/\nvar\n/*istanbul ignore start*/\n_base = _interopRequireDefault(require(\"./base\"))\n/*istanbul ignore end*/\n;\n\n/*istanbul ignore start*/ function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n/*istanbul ignore end*/\nvar arrayDiff = new\n/*istanbul ignore start*/\n_base\n/*istanbul ignore end*/\n[\n/*istanbul ignore start*/\n\"default\"\n/*istanbul ignore end*/\n]();\n\n/*istanbul ignore start*/\nexports.arrayDiff = arrayDiff;\n\n/*istanbul ignore end*/\narrayDiff.tokenize = function (value) {\n  return value.slice();\n};\n\narrayDiff.join = arrayDiff.removeEmpty = function (value) {\n  return value;\n};\n\nfunction diffArrays(oldArr, newArr, callback) {\n  return arrayDiff.diff(oldArr, newArr, callback);\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9kaWZmL2FycmF5LmpzIl0sIm5hbWVzIjpbImFycmF5RGlmZiIsIkRpZmYiLCJ0b2tlbml6ZSIsInZhbHVlIiwic2xpY2UiLCJqb2luIiwicmVtb3ZlRW1wdHkiLCJkaWZmQXJyYXlzIiwib2xkQXJyIiwibmV3QXJyIiwiY2FsbGJhY2siLCJkaWZmIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7Ozs7QUFFTyxJQUFNQSxTQUFTLEdBQUc7QUFBSUM7QUFBQUE7QUFBQUE7QUFBQUE7QUFBQUE7QUFBQUE7QUFBQUE7QUFBQUEsQ0FBSixFQUFsQjs7Ozs7O0FBQ1BELFNBQVMsQ0FBQ0UsUUFBVixHQUFxQixVQUFTQyxLQUFULEVBQWdCO0FBQ25DLFNBQU9BLEtBQUssQ0FBQ0MsS0FBTixFQUFQO0FBQ0QsQ0FGRDs7QUFHQUosU0FBUyxDQUFDSyxJQUFWLEdBQWlCTCxTQUFTLENBQUNNLFdBQVYsR0FBd0IsVUFBU0gsS0FBVCxFQUFnQjtBQUN2RCxTQUFPQSxLQUFQO0FBQ0QsQ0FGRDs7QUFJTyxTQUFTSSxVQUFULENBQW9CQyxNQUFwQixFQUE0QkMsTUFBNUIsRUFBb0NDLFFBQXBDLEVBQThDO0FBQUUsU0FBT1YsU0FBUyxDQUFDVyxJQUFWLENBQWVILE1BQWYsRUFBdUJDLE1BQXZCLEVBQStCQyxRQUEvQixDQUFQO0FBQWtEIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IERpZmYgZnJvbSAnLi9iYXNlJztcblxuZXhwb3J0IGNvbnN0IGFycmF5RGlmZiA9IG5ldyBEaWZmKCk7XG5hcnJheURpZmYudG9rZW5pemUgPSBmdW5jdGlvbih2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUuc2xpY2UoKTtcbn07XG5hcnJheURpZmYuam9pbiA9IGFycmF5RGlmZi5yZW1vdmVFbXB0eSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBkaWZmQXJyYXlzKG9sZEFyciwgbmV3QXJyLCBjYWxsYmFjaykgeyByZXR1cm4gYXJyYXlEaWZmLmRpZmYob2xkQXJyLCBuZXdBcnIsIGNhbGxiYWNrKTsgfVxuIl19\n","/*istanbul ignore start*/\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = Diff;\n\n/*istanbul ignore end*/\nfunction Diff() {}\n\nDiff.prototype = {\n  /*istanbul ignore start*/\n\n  /*istanbul ignore end*/\n  diff: function diff(oldString, newString) {\n    /*istanbul ignore start*/\n    var\n    /*istanbul ignore end*/\n    options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var callback = options.callback;\n\n    if (typeof options === 'function') {\n      callback = options;\n      options = {};\n    }\n\n    this.options = options;\n    var self = this;\n\n    function done(value) {\n      if (callback) {\n        setTimeout(function () {\n          callback(undefined, value);\n        }, 0);\n        return true;\n      } else {\n        return value;\n      }\n    } // Allow subclasses to massage the input prior to running\n\n\n    oldString = this.castInput(oldString);\n    newString = this.castInput(newString);\n    oldString = this.removeEmpty(this.tokenize(oldString));\n    newString = this.removeEmpty(this.tokenize(newString));\n    var newLen = newString.length,\n        oldLen = oldString.length;\n    var editLength = 1;\n    var maxEditLength = newLen + oldLen;\n    var bestPath = [{\n      newPos: -1,\n      components: []\n    }]; // Seed editLength = 0, i.e. the content starts with the same values\n\n    var oldPos = this.extractCommon(bestPath[0], newString, oldString, 0);\n\n    if (bestPath[0].newPos + 1 >= newLen && oldPos + 1 >= oldLen) {\n      // Identity per the equality and tokenizer\n      return done([{\n        value: this.join(newString),\n        count: newString.length\n      }]);\n    } // Main worker method. checks all permutations of a given edit length for acceptance.\n\n\n    function execEditLength() {\n      for (var diagonalPath = -1 * editLength; diagonalPath <= editLength; diagonalPath += 2) {\n        var basePath =\n        /*istanbul ignore start*/\n        void 0\n        /*istanbul ignore end*/\n        ;\n\n        var addPath = bestPath[diagonalPath - 1],\n            removePath = bestPath[diagonalPath + 1],\n            _oldPos = (removePath ? removePath.newPos : 0) - diagonalPath;\n\n        if (addPath) {\n          // No one else is going to attempt to use this value, clear it\n          bestPath[diagonalPath - 1] = undefined;\n        }\n\n        var canAdd = addPath && addPath.newPos + 1 < newLen,\n            canRemove = removePath && 0 <= _oldPos && _oldPos < oldLen;\n\n        if (!canAdd && !canRemove) {\n          // If this path is a terminal then prune\n          bestPath[diagonalPath] = undefined;\n          continue;\n        } // Select the diagonal that we want to branch from. We select the prior\n        // path whose position in the new string is the farthest from the origin\n        // and does not pass the bounds of the diff graph\n\n\n        if (!canAdd || canRemove && addPath.newPos < removePath.newPos) {\n          basePath = clonePath(removePath);\n          self.pushComponent(basePath.components, undefined, true);\n        } else {\n          basePath = addPath; // No need to clone, we've pulled it from the list\n\n          basePath.newPos++;\n          self.pushComponent(basePath.components, true, undefined);\n        }\n\n        _oldPos = self.extractCommon(basePath, newString, oldString, diagonalPath); // If we have hit the end of both strings, then we are done\n\n        if (basePath.newPos + 1 >= newLen && _oldPos + 1 >= oldLen) {\n          return done(buildValues(self, basePath.components, newString, oldString, self.useLongestToken));\n        } else {\n          // Otherwise track this path as a potential candidate and continue.\n          bestPath[diagonalPath] = basePath;\n        }\n      }\n\n      editLength++;\n    } // Performs the length of edit iteration. Is a bit fugly as this has to support the\n    // sync and async mode which is never fun. Loops over execEditLength until a value\n    // is produced.\n\n\n    if (callback) {\n      (function exec() {\n        setTimeout(function () {\n          // This should not happen, but we want to be safe.\n\n          /* istanbul ignore next */\n          if (editLength > maxEditLength) {\n            return callback();\n          }\n\n          if (!execEditLength()) {\n            exec();\n          }\n        }, 0);\n      })();\n    } else {\n      while (editLength <= maxEditLength) {\n        var ret = execEditLength();\n\n        if (ret) {\n          return ret;\n        }\n      }\n    }\n  },\n\n  /*istanbul ignore start*/\n\n  /*istanbul ignore end*/\n  pushComponent: function pushComponent(components, added, removed) {\n    var last = components[components.length - 1];\n\n    if (last && last.added === added && last.removed === removed) {\n      // We need to clone here as the component clone operation is just\n      // as shallow array clone\n      components[components.length - 1] = {\n        count: last.count + 1,\n        added: added,\n        removed: removed\n      };\n    } else {\n      components.push({\n        count: 1,\n        added: added,\n        removed: removed\n      });\n    }\n  },\n\n  /*istanbul ignore start*/\n\n  /*istanbul ignore end*/\n  extractCommon: function extractCommon(basePath, newString, oldString, diagonalPath) {\n    var newLen = newString.length,\n        oldLen = oldString.length,\n        newPos = basePath.newPos,\n        oldPos = newPos - diagonalPath,\n        commonCount = 0;\n\n    while (newPos + 1 < newLen && oldPos + 1 < oldLen && this.equals(newString[newPos + 1], oldString[oldPos + 1])) {\n      newPos++;\n      oldPos++;\n      commonCount++;\n    }\n\n    if (commonCount) {\n      basePath.components.push({\n        count: commonCount\n      });\n    }\n\n    basePath.newPos = newPos;\n    return oldPos;\n  },\n\n  /*istanbul ignore start*/\n\n  /*istanbul ignore end*/\n  equals: function equals(left, right) {\n    if (this.options.comparator) {\n      return this.options.comparator(left, right);\n    } else {\n      return left === right || this.options.ignoreCase && left.toLowerCase() === right.toLowerCase();\n    }\n  },\n\n  /*istanbul ignore start*/\n\n  /*istanbul ignore end*/\n  removeEmpty: function removeEmpty(array) {\n    var ret = [];\n\n    for (var i = 0; i < array.length; i++) {\n      if (array[i]) {\n        ret.push(array[i]);\n      }\n    }\n\n    return ret;\n  },\n\n  /*istanbul ignore start*/\n\n  /*istanbul ignore end*/\n  castInput: function castInput(value) {\n    return value;\n  },\n\n  /*istanbul ignore start*/\n\n  /*istanbul ignore end*/\n  tokenize: function tokenize(value) {\n    return value.split('');\n  },\n\n  /*istanbul ignore start*/\n\n  /*istanbul ignore end*/\n  join: function join(chars) {\n    return chars.join('');\n  }\n};\n\nfunction buildValues(diff, components, newString, oldString, useLongestToken) {\n  var componentPos = 0,\n      componentLen = components.length,\n      newPos = 0,\n      oldPos = 0;\n\n  for (; componentPos < componentLen; componentPos++) {\n    var component = components[componentPos];\n\n    if (!component.removed) {\n      if (!component.added && useLongestToken) {\n        var value = newString.slice(newPos, newPos + component.count);\n        value = value.map(function (value, i) {\n          var oldValue = oldString[oldPos + i];\n          return oldValue.length > value.length ? oldValue : value;\n        });\n        component.value = diff.join(value);\n      } else {\n        component.value = diff.join(newString.slice(newPos, newPos + component.count));\n      }\n\n      newPos += component.count; // Common case\n\n      if (!component.added) {\n        oldPos += component.count;\n      }\n    } else {\n      component.value = diff.join(oldString.slice(oldPos, oldPos + component.count));\n      oldPos += component.count; // Reverse add and remove so removes are output first to match common convention\n      // The diffing algorithm is tied to add then remove output and this is the simplest\n      // route to get the desired output with minimal overhead.\n\n      if (componentPos && components[componentPos - 1].added) {\n        var tmp = components[componentPos - 1];\n        components[componentPos - 1] = components[componentPos];\n        components[componentPos] = tmp;\n      }\n    }\n  } // Special case handle for when one terminal is ignored (i.e. whitespace).\n  // For this case we merge the terminal into the prior string and drop the change.\n  // This is only available for string mode.\n\n\n  var lastComponent = components[componentLen - 1];\n\n  if (componentLen > 1 && typeof lastComponent.value === 'string' && (lastComponent.added || lastComponent.removed) && diff.equals('', lastComponent.value)) {\n    components[componentLen - 2].value += lastComponent.value;\n    components.pop();\n  }\n\n  return components;\n}\n\nfunction clonePath(path) {\n  return {\n    newPos: path.newPos,\n    components: path.components.slice(0)\n  };\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9kaWZmL2Jhc2UuanMiXSwibmFtZXMiOlsiRGlmZiIsInByb3RvdHlwZSIsImRpZmYiLCJvbGRTdHJpbmciLCJuZXdTdHJpbmciLCJvcHRpb25zIiwiY2FsbGJhY2siLCJzZWxmIiwiZG9uZSIsInZhbHVlIiwic2V0VGltZW91dCIsInVuZGVmaW5lZCIsImNhc3RJbnB1dCIsInJlbW92ZUVtcHR5IiwidG9rZW5pemUiLCJuZXdMZW4iLCJsZW5ndGgiLCJvbGRMZW4iLCJlZGl0TGVuZ3RoIiwibWF4RWRpdExlbmd0aCIsImJlc3RQYXRoIiwibmV3UG9zIiwiY29tcG9uZW50cyIsIm9sZFBvcyIsImV4dHJhY3RDb21tb24iLCJqb2luIiwiY291bnQiLCJleGVjRWRpdExlbmd0aCIsImRpYWdvbmFsUGF0aCIsImJhc2VQYXRoIiwiYWRkUGF0aCIsInJlbW92ZVBhdGgiLCJjYW5BZGQiLCJjYW5SZW1vdmUiLCJjbG9uZVBhdGgiLCJwdXNoQ29tcG9uZW50IiwiYnVpbGRWYWx1ZXMiLCJ1c2VMb25nZXN0VG9rZW4iLCJleGVjIiwicmV0IiwiYWRkZWQiLCJyZW1vdmVkIiwibGFzdCIsInB1c2giLCJjb21tb25Db3VudCIsImVxdWFscyIsImxlZnQiLCJyaWdodCIsImNvbXBhcmF0b3IiLCJpZ25vcmVDYXNlIiwidG9Mb3dlckNhc2UiLCJhcnJheSIsImkiLCJzcGxpdCIsImNoYXJzIiwiY29tcG9uZW50UG9zIiwiY29tcG9uZW50TGVuIiwiY29tcG9uZW50Iiwic2xpY2UiLCJtYXAiLCJvbGRWYWx1ZSIsInRtcCIsImxhc3RDb21wb25lbnQiLCJwb3AiLCJwYXRoIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBZSxTQUFTQSxJQUFULEdBQWdCLENBQUU7O0FBRWpDQSxJQUFJLENBQUNDLFNBQUwsR0FBaUI7QUFBQTs7QUFBQTtBQUNmQyxFQUFBQSxJQURlLGdCQUNWQyxTQURVLEVBQ0NDLFNBREQsRUFDMEI7QUFBQTtBQUFBO0FBQUE7QUFBZEMs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QUcsQ0FBZixJQUNHLE9BQU9NLGFBQWEsQ0FBQ3JELEtBQXJCLEtBQStCLFFBRGxDLEtBRUlxRCxhQUFhLENBQUN0QixLQUFkLElBQXVCc0IsYUFBYSxDQUFDckIsT0FGekMsS0FHR3ZDLElBQUksQ0FBQzJDLE1BQUwsQ0FBWSxFQUFaLEVBQWdCaUIsYUFBYSxDQUFDckQsS0FBOUIsQ0FIUCxFQUc2QztBQUMzQ2EsSUFBQUEsVUFBVSxDQUFDa0MsWUFBWSxHQUFHLENBQWhCLENBQVYsQ0FBNkIvQyxLQUE3QixJQUFzQ3FELGFBQWEsQ0FBQ3JELEtBQXBEO0FBQ0FhLElBQUFBLFVBQVUsQ0FBQ3lDLEdBQVg7QUFDRDs7QUFFRCxTQUFPekMsVUFBUDtBQUNEOztBQUVELFNBQVNZLFNBQVQsQ0FBbUI4QixJQUFuQixFQUF5QjtBQUN2QixTQUFPO0FBQUUzQyxJQUFBQSxNQUFNLEVBQUUyQyxJQUFJLENBQUMzQyxNQUFmO0FBQXVCQyxJQUFBQSxVQUFVLEVBQUUwQyxJQUFJLENBQUMxQyxVQUFMLENBQWdCb0MsS0FBaEIsQ0FBc0IsQ0FBdEI7QUFBbkMsR0FBUDtBQUNEIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gRGlmZigpIHt9XG5cbkRpZmYucHJvdG90eXBlID0ge1xuICBkaWZmKG9sZFN0cmluZywgbmV3U3RyaW5nLCBvcHRpb25zID0ge30pIHtcbiAgICBsZXQgY2FsbGJhY2sgPSBvcHRpb25zLmNhbGxiYWNrO1xuICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgY2FsbGJhY2sgPSBvcHRpb25zO1xuICAgICAgb3B0aW9ucyA9IHt9O1xuICAgIH1cbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuXG4gICAgbGV0IHNlbGYgPSB0aGlzO1xuXG4gICAgZnVuY3Rpb24gZG9uZSh2YWx1ZSkge1xuICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7IGNhbGxiYWNrKHVuZGVmaW5lZCwgdmFsdWUpOyB9LCAwKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gQWxsb3cgc3ViY2xhc3NlcyB0byBtYXNzYWdlIHRoZSBpbnB1dCBwcmlvciB0byBydW5uaW5nXG4gICAgb2xkU3RyaW5nID0gdGhpcy5jYXN0SW5wdXQob2xkU3RyaW5nKTtcbiAgICBuZXdTdHJpbmcgPSB0aGlzLmNhc3RJbnB1dChuZXdTdHJpbmcpO1xuXG4gICAgb2xkU3RyaW5nID0gdGhpcy5yZW1vdmVFbXB0eSh0aGlzLnRva2VuaXplKG9sZFN0cmluZykpO1xuICAgIG5ld1N0cmluZyA9IHRoaXMucmVtb3ZlRW1wdHkodGhpcy50b2tlbml6ZShuZXdTdHJpbmcpKTtcblxuICAgIGxldCBuZXdMZW4gPSBuZXdTdHJpbmcubGVuZ3RoLCBvbGRMZW4gPSBvbGRTdHJpbmcubGVuZ3RoO1xuICAgIGxldCBlZGl0TGVuZ3RoID0gMTtcbiAgICBsZXQgbWF4RWRpdExlbmd0aCA9IG5ld0xlbiArIG9sZExlbjtcbiAgICBsZXQgYmVzdFBhdGggPSBbeyBuZXdQb3M6IC0xLCBjb21wb25lbnRzOiBbXSB9XTtcblxuICAgIC8vIFNlZWQgZWRpdExlbmd0aCA9IDAsIGkuZS4gdGhlIGNvbnRlbnQgc3RhcnRzIHdpdGggdGhlIHNhbWUgdmFsdWVzXG4gICAgbGV0IG9sZFBvcyA9IHRoaXMuZXh0cmFjdENvbW1vbihiZXN0UGF0aFswXSwgbmV3U3RyaW5nLCBvbGRTdHJpbmcsIDApO1xuICAgIGlmIChiZXN0UGF0aFswXS5uZXdQb3MgKyAxID49IG5ld0xlbiAmJiBvbGRQb3MgKyAxID49IG9sZExlbikge1xuICAgICAgLy8gSWRlbnRpdHkgcGVyIHRoZSBlcXVhbGl0eSBhbmQgdG9rZW5pemVyXG4gICAgICByZXR1cm4gZG9uZShbe3ZhbHVlOiB0aGlzLmpvaW4obmV3U3RyaW5nKSwgY291bnQ6IG5ld1N0cmluZy5sZW5ndGh9XSk7XG4gICAgfVxuXG4gICAgLy8gTWFpbiB3b3JrZXIgbWV0aG9kLiBjaGVja3MgYWxsIHBlcm11dGF0aW9ucyBvZiBhIGdpdmVuIGVkaXQgbGVuZ3RoIGZvciBhY2NlcHRhbmNlLlxuICAgIGZ1bmN0aW9uIGV4ZWNFZGl0TGVuZ3RoKCkge1xuICAgICAgZm9yIChsZXQgZGlhZ29uYWxQYXRoID0gLTEgKiBlZGl0TGVuZ3RoOyBkaWFnb25hbFBhdGggPD0gZWRpdExlbmd0aDsgZGlhZ29uYWxQYXRoICs9IDIpIHtcbiAgICAgICAgbGV0IGJhc2VQYXRoO1xuICAgICAgICBsZXQgYWRkUGF0aCA9IGJlc3RQYXRoW2RpYWdvbmFsUGF0aCAtIDFdLFxuICAgICAgICAgICAgcmVtb3ZlUGF0aCA9IGJlc3RQYXRoW2RpYWdvbmFsUGF0aCArIDFdLFxuICAgICAgICAgICAgb2xkUG9zID0gKHJlbW92ZVBhdGggPyByZW1vdmVQYXRoLm5ld1BvcyA6IDApIC0gZGlhZ29uYWxQYXRoO1xuICAgICAgICBpZiAoYWRkUGF0aCkge1xuICAgICAgICAgIC8vIE5vIG9uZSBlbHNlIGlzIGdvaW5nIHRvIGF0dGVtcHQgdG8gdXNlIHRoaXMgdmFsdWUsIGNsZWFyIGl0XG4gICAgICAgICAgYmVzdFBhdGhbZGlhZ29uYWxQYXRoIC0gMV0gPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgY2FuQWRkID0gYWRkUGF0aCAmJiBhZGRQYXRoLm5ld1BvcyArIDEgPCBuZXdMZW4sXG4gICAgICAgICAgICBjYW5SZW1vdmUgPSByZW1vdmVQYXRoICYmIDAgPD0gb2xkUG9zICYmIG9sZFBvcyA8IG9sZExlbjtcbiAgICAgICAgaWYgKCFjYW5BZGQgJiYgIWNhblJlbW92ZSkge1xuICAgICAgICAgIC8vIElmIHRoaXMgcGF0aCBpcyBhIHRlcm1pbmFsIHRoZW4gcHJ1bmVcbiAgICAgICAgICBiZXN0UGF0aFtkaWFnb25hbFBhdGhdID0gdW5kZWZpbmVkO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU2VsZWN0IHRoZSBkaWFnb25hbCB0aGF0IHdlIHdhbnQgdG8gYnJhbmNoIGZyb20uIFdlIHNlbGVjdCB0aGUgcHJpb3JcbiAgICAgICAgLy8gcGF0aCB3aG9zZSBwb3NpdGlvbiBpbiB0aGUgbmV3IHN0cmluZyBpcyB0aGUgZmFydGhlc3QgZnJvbSB0aGUgb3JpZ2luXG4gICAgICAgIC8vIGFuZCBkb2VzIG5vdCBwYXNzIHRoZSBib3VuZHMgb2YgdGhlIGRpZmYgZ3JhcGhcbiAgICAgICAgaWYgKCFjYW5BZGQgfHwgKGNhblJlbW92ZSAmJiBhZGRQYXRoLm5ld1BvcyA8IHJlbW92ZVBhdGgubmV3UG9zKSkge1xuICAgICAgICAgIGJhc2VQYXRoID0gY2xvbmVQYXRoKHJlbW92ZVBhdGgpO1xuICAgICAgICAgIHNlbGYucHVzaENvbXBvbmVudChiYXNlUGF0aC5jb21wb25lbnRzLCB1bmRlZmluZWQsIHRydWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGJhc2VQYXRoID0gYWRkUGF0aDsgLy8gTm8gbmVlZCB0byBjbG9uZSwgd2UndmUgcHVsbGVkIGl0IGZyb20gdGhlIGxpc3RcbiAgICAgICAgICBiYXNlUGF0aC5uZXdQb3MrKztcbiAgICAgICAgICBzZWxmLnB1c2hDb21wb25lbnQoYmFzZVBhdGguY29tcG9uZW50cywgdHJ1ZSwgdW5kZWZpbmVkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIG9sZFBvcyA9IHNlbGYuZXh0cmFjdENvbW1vbihiYXNlUGF0aCwgbmV3U3RyaW5nLCBvbGRTdHJpbmcsIGRpYWdvbmFsUGF0aCk7XG5cbiAgICAgICAgLy8gSWYgd2UgaGF2ZSBoaXQgdGhlIGVuZCBvZiBib3RoIHN0cmluZ3MsIHRoZW4gd2UgYXJlIGRvbmVcbiAgICAgICAgaWYgKGJhc2VQYXRoLm5ld1BvcyArIDEgPj0gbmV3TGVuICYmIG9sZFBvcyArIDEgPj0gb2xkTGVuKSB7XG4gICAgICAgICAgcmV0dXJuIGRvbmUoYnVpbGRWYWx1ZXMoc2VsZiwgYmFzZVBhdGguY29tcG9uZW50cywgbmV3U3RyaW5nLCBvbGRTdHJpbmcsIHNlbGYudXNlTG9uZ2VzdFRva2VuKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gT3RoZXJ3aXNlIHRyYWNrIHRoaXMgcGF0aCBhcyBhIHBvdGVudGlhbCBjYW5kaWRhdGUgYW5kIGNvbnRpbnVlLlxuICAgICAgICAgIGJlc3RQYXRoW2RpYWdvbmFsUGF0aF0gPSBiYXNlUGF0aDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBlZGl0TGVuZ3RoKys7XG4gICAgfVxuXG4gICAgLy8gUGVyZm9ybXMgdGhlIGxlbmd0aCBvZiBlZGl0IGl0ZXJhdGlvbi4gSXMgYSBiaXQgZnVnbHkgYXMgdGhpcyBoYXMgdG8gc3VwcG9ydCB0aGVcbiAgICAvLyBzeW5jIGFuZCBhc3luYyBtb2RlIHdoaWNoIGlzIG5ldmVyIGZ1bi4gTG9vcHMgb3ZlciBleGVjRWRpdExlbmd0aCB1bnRpbCBhIHZhbHVlXG4gICAgLy8gaXMgcHJvZHVjZWQuXG4gICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAoZnVuY3Rpb24gZXhlYygpIHtcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAvLyBUaGlzIHNob3VsZCBub3QgaGFwcGVuLCBidXQgd2Ugd2FudCB0byBiZSBzYWZlLlxuICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICAgICAgaWYgKGVkaXRMZW5ndGggPiBtYXhFZGl0TGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gY2FsbGJhY2soKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoIWV4ZWNFZGl0TGVuZ3RoKCkpIHtcbiAgICAgICAgICAgIGV4ZWMoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIDApO1xuICAgICAgfSgpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgd2hpbGUgKGVkaXRMZW5ndGggPD0gbWF4RWRpdExlbmd0aCkge1xuICAgICAgICBsZXQgcmV0ID0gZXhlY0VkaXRMZW5ndGgoKTtcbiAgICAgICAgaWYgKHJldCkge1xuICAgICAgICAgIHJldHVybiByZXQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0sXG5cbiAgcHVzaENvbXBvbmVudChjb21wb25lbnRzLCBhZGRlZCwgcmVtb3ZlZCkge1xuICAgIGxldCBsYXN0ID0gY29tcG9uZW50c1tjb21wb25lbnRzLmxlbmd0aCAtIDFdO1xuICAgIGlmIChsYXN0ICYmIGxhc3QuYWRkZWQgPT09IGFkZGVkICYmIGxhc3QucmVtb3ZlZCA9PT0gcmVtb3ZlZCkge1xuICAgICAgLy8gV2UgbmVlZCB0byBjbG9uZSBoZXJlIGFzIHRoZSBjb21wb25lbnQgY2xvbmUgb3BlcmF0aW9uIGlzIGp1c3RcbiAgICAgIC8vIGFzIHNoYWxsb3cgYXJyYXkgY2xvbmVcbiAgICAgIGNvbXBvbmVudHNbY29tcG9uZW50cy5sZW5ndGggLSAxXSA9IHtjb3VudDogbGFzdC5jb3VudCArIDEsIGFkZGVkOiBhZGRlZCwgcmVtb3ZlZDogcmVtb3ZlZCB9O1xuICAgIH0gZWxzZSB7XG4gICAgICBjb21wb25lbnRzLnB1c2goe2NvdW50OiAxLCBhZGRlZDogYWRkZWQsIHJlbW92ZWQ6IHJlbW92ZWQgfSk7XG4gICAgfVxuICB9LFxuICBleHRyYWN0Q29tbW9uKGJhc2VQYXRoLCBuZXdTdHJpbmcsIG9sZFN0cmluZywgZGlhZ29uYWxQYXRoKSB7XG4gICAgbGV0IG5ld0xlbiA9IG5ld1N0cmluZy5sZW5ndGgsXG4gICAgICAgIG9sZExlbiA9IG9sZFN0cmluZy5sZW5ndGgsXG4gICAgICAgIG5ld1BvcyA9IGJhc2VQYXRoLm5ld1BvcyxcbiAgICAgICAgb2xkUG9zID0gbmV3UG9zIC0gZGlhZ29uYWxQYXRoLFxuXG4gICAgICAgIGNvbW1vbkNvdW50ID0gMDtcbiAgICB3aGlsZSAobmV3UG9zICsgMSA8IG5ld0xlbiAmJiBvbGRQb3MgKyAxIDwgb2xkTGVuICYmIHRoaXMuZXF1YWxzKG5ld1N0cmluZ1tuZXdQb3MgKyAxXSwgb2xkU3RyaW5nW29sZFBvcyArIDFdKSkge1xuICAgICAgbmV3UG9zKys7XG4gICAgICBvbGRQb3MrKztcbiAgICAgIGNvbW1vbkNvdW50Kys7XG4gICAgfVxuXG4gICAgaWYgKGNvbW1vbkNvdW50KSB7XG4gICAgICBiYXNlUGF0aC5jb21wb25lbnRzLnB1c2goe2NvdW50OiBjb21tb25Db3VudH0pO1xuICAgIH1cblxuICAgIGJhc2VQYXRoLm5ld1BvcyA9IG5ld1BvcztcbiAgICByZXR1cm4gb2xkUG9zO1xuICB9LFxuXG4gIGVxdWFscyhsZWZ0LCByaWdodCkge1xuICAgIGlmICh0aGlzLm9wdGlvbnMuY29tcGFyYXRvcikge1xuICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy5jb21wYXJhdG9yKGxlZnQsIHJpZ2h0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGxlZnQgPT09IHJpZ2h0XG4gICAgICAgIHx8ICh0aGlzLm9wdGlvbnMuaWdub3JlQ2FzZSAmJiBsZWZ0LnRvTG93ZXJDYXNlKCkgPT09IHJpZ2h0LnRvTG93ZXJDYXNlKCkpO1xuICAgIH1cbiAgfSxcbiAgcmVtb3ZlRW1wdHkoYXJyYXkpIHtcbiAgICBsZXQgcmV0ID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKGFycmF5W2ldKSB7XG4gICAgICAgIHJldC5wdXNoKGFycmF5W2ldKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJldDtcbiAgfSxcbiAgY2FzdElucHV0KHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9LFxuICB0b2tlbml6ZSh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZS5zcGxpdCgnJyk7XG4gIH0sXG4gIGpvaW4oY2hhcnMpIHtcbiAgICByZXR1cm4gY2hhcnMuam9pbignJyk7XG4gIH1cbn07XG5cbmZ1bmN0aW9uIGJ1aWxkVmFsdWVzKGRpZmYsIGNvbXBvbmVudHMsIG5ld1N0cmluZywgb2xkU3RyaW5nLCB1c2VMb25nZXN0VG9rZW4pIHtcbiAgbGV0IGNvbXBvbmVudFBvcyA9IDAsXG4gICAgICBjb21wb25lbnRMZW4gPSBjb21wb25lbnRzLmxlbmd0aCxcbiAgICAgIG5ld1BvcyA9IDAsXG4gICAgICBvbGRQb3MgPSAwO1xuXG4gIGZvciAoOyBjb21wb25lbnRQb3MgPCBjb21wb25lbnRMZW47IGNvbXBvbmVudFBvcysrKSB7XG4gICAgbGV0IGNvbXBvbmVudCA9IGNvbXBvbmVudHNbY29tcG9uZW50UG9zXTtcbiAgICBpZiAoIWNvbXBvbmVudC5yZW1vdmVkKSB7XG4gICAgICBpZiAoIWNvbXBvbmVudC5hZGRlZCAmJiB1c2VMb25nZXN0VG9rZW4pIHtcbiAgICAgICAgbGV0IHZhbHVlID0gbmV3U3RyaW5nLnNsaWNlKG5ld1BvcywgbmV3UG9zICsgY29tcG9uZW50LmNvdW50KTtcbiAgICAgICAgdmFsdWUgPSB2YWx1ZS5tYXAoZnVuY3Rpb24odmFsdWUsIGkpIHtcbiAgICAgICAgICBsZXQgb2xkVmFsdWUgPSBvbGRTdHJpbmdbb2xkUG9zICsgaV07XG4gICAgICAgICAgcmV0dXJuIG9sZFZhbHVlLmxlbmd0aCA+IHZhbHVlLmxlbmd0aCA/IG9sZFZhbHVlIDogdmFsdWU7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbXBvbmVudC52YWx1ZSA9IGRpZmYuam9pbih2YWx1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb21wb25lbnQudmFsdWUgPSBkaWZmLmpvaW4obmV3U3RyaW5nLnNsaWNlKG5ld1BvcywgbmV3UG9zICsgY29tcG9uZW50LmNvdW50KSk7XG4gICAgICB9XG4gICAgICBuZXdQb3MgKz0gY29tcG9uZW50LmNvdW50O1xuXG4gICAgICAvLyBDb21tb24gY2FzZVxuICAgICAgaWYgKCFjb21wb25lbnQuYWRkZWQpIHtcbiAgICAgICAgb2xkUG9zICs9IGNvbXBvbmVudC5jb3VudDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY29tcG9uZW50LnZhbHVlID0gZGlmZi5qb2luKG9sZFN0cmluZy5zbGljZShvbGRQb3MsIG9sZFBvcyArIGNvbXBvbmVudC5jb3VudCkpO1xuICAgICAgb2xkUG9zICs9IGNvbXBvbmVudC5jb3VudDtcblxuICAgICAgLy8gUmV2ZXJzZSBhZGQgYW5kIHJlbW92ZSBzbyByZW1vdmVzIGFyZSBvdXRwdXQgZmlyc3QgdG8gbWF0Y2ggY29tbW9uIGNvbnZlbnRpb25cbiAgICAgIC8vIFRoZSBkaWZmaW5nIGFsZ29yaXRobSBpcyB0aWVkIHRvIGFkZCB0aGVuIHJlbW92ZSBvdXRwdXQgYW5kIHRoaXMgaXMgdGhlIHNpbXBsZXN0XG4gICAgICAvLyByb3V0ZSB0byBnZXQgdGhlIGRlc2lyZWQgb3V0cHV0IHdpdGggbWluaW1hbCBvdmVyaGVhZC5cbiAgICAgIGlmIChjb21wb25lbnRQb3MgJiYgY29tcG9uZW50c1tjb21wb25lbnRQb3MgLSAxXS5hZGRlZCkge1xuICAgICAgICBsZXQgdG1wID0gY29tcG9uZW50c1tjb21wb25lbnRQb3MgLSAxXTtcbiAgICAgICAgY29tcG9uZW50c1tjb21wb25lbnRQb3MgLSAxXSA9IGNvbXBvbmVudHNbY29tcG9uZW50UG9zXTtcbiAgICAgICAgY29tcG9uZW50c1tjb21wb25lbnRQb3NdID0gdG1wO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIFNwZWNpYWwgY2FzZSBoYW5kbGUgZm9yIHdoZW4gb25lIHRlcm1pbmFsIGlzIGlnbm9yZWQgKGkuZS4gd2hpdGVzcGFjZSkuXG4gIC8vIEZvciB0aGlzIGNhc2Ugd2UgbWVyZ2UgdGhlIHRlcm1pbmFsIGludG8gdGhlIHByaW9yIHN0cmluZyBhbmQgZHJvcCB0aGUgY2hhbmdlLlxuICAvLyBUaGlzIGlzIG9ubHkgYXZhaWxhYmxlIGZvciBzdHJpbmcgbW9kZS5cbiAgbGV0IGxhc3RDb21wb25lbnQgPSBjb21wb25lbnRzW2NvbXBvbmVudExlbiAtIDFdO1xuICBpZiAoY29tcG9uZW50TGVuID4gMVxuICAgICAgJiYgdHlwZW9mIGxhc3RDb21wb25lbnQudmFsdWUgPT09ICdzdHJpbmcnXG4gICAgICAmJiAobGFzdENvbXBvbmVudC5hZGRlZCB8fCBsYXN0Q29tcG9uZW50LnJlbW92ZWQpXG4gICAgICAmJiBkaWZmLmVxdWFscygnJywgbGFzdENvbXBvbmVudC52YWx1ZSkpIHtcbiAgICBjb21wb25lbnRzW2NvbXBvbmVudExlbiAtIDJdLnZhbHVlICs9IGxhc3RDb21wb25lbnQudmFsdWU7XG4gICAgY29tcG9uZW50cy5wb3AoKTtcbiAgfVxuXG4gIHJldHVybiBjb21wb25lbnRzO1xufVxuXG5mdW5jdGlvbiBjbG9uZVBhdGgocGF0aCkge1xuICByZXR1cm4geyBuZXdQb3M6IHBhdGgubmV3UG9zLCBjb21wb25lbnRzOiBwYXRoLmNvbXBvbmVudHMuc2xpY2UoMCkgfTtcbn1cbiJdfQ==\n","/*istanbul ignore start*/\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.diffChars = diffChars;\nexports.characterDiff = void 0;\n\n/*istanbul ignore end*/\nvar\n/*istanbul ignore start*/\n_base = _interopRequireDefault(require(\"./base\"))\n/*istanbul ignore end*/\n;\n\n/*istanbul ignore start*/ function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n/*istanbul ignore end*/\nvar characterDiff = new\n/*istanbul ignore start*/\n_base\n/*istanbul ignore end*/\n[\n/*istanbul ignore start*/\n\"default\"\n/*istanbul ignore end*/\n]();\n\n/*istanbul ignore start*/\nexports.characterDiff = characterDiff;\n\n/*istanbul ignore end*/\nfunction diffChars(oldStr, newStr, options) {\n  return characterDiff.diff(oldStr, newStr, options);\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9kaWZmL2NoYXJhY3Rlci5qcyJdLCJuYW1lcyI6WyJjaGFyYWN0ZXJEaWZmIiwiRGlmZiIsImRpZmZDaGFycyIsIm9sZFN0ciIsIm5ld1N0ciIsIm9wdGlvbnMiLCJkaWZmIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7Ozs7QUFFTyxJQUFNQSxhQUFhLEdBQUc7QUFBSUM7QUFBQUE7QUFBQUE7QUFBQUE7QUFBQUE7QUFBQUE7QUFBQUE7QUFBQUEsQ0FBSixFQUF0Qjs7Ozs7O0FBQ0EsU0FBU0MsU0FBVCxDQUFtQkMsTUFBbkIsRUFBMkJDLE1BQTNCLEVBQW1DQyxPQUFuQyxFQUE0QztBQUFFLFNBQU9MLGFBQWEsQ0FBQ00sSUFBZCxDQUFtQkgsTUFBbkIsRUFBMkJDLE1BQTNCLEVBQW1DQyxPQUFuQyxDQUFQO0FBQXFEIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IERpZmYgZnJvbSAnLi9iYXNlJztcblxuZXhwb3J0IGNvbnN0IGNoYXJhY3RlckRpZmYgPSBuZXcgRGlmZigpO1xuZXhwb3J0IGZ1bmN0aW9uIGRpZmZDaGFycyhvbGRTdHIsIG5ld1N0ciwgb3B0aW9ucykgeyByZXR1cm4gY2hhcmFjdGVyRGlmZi5kaWZmKG9sZFN0ciwgbmV3U3RyLCBvcHRpb25zKTsgfVxuIl19\n","/*istanbul ignore start*/\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.diffCss = diffCss;\nexports.cssDiff = void 0;\n\n/*istanbul ignore end*/\nvar\n/*istanbul ignore start*/\n_base = _interopRequireDefault(require(\"./base\"))\n/*istanbul ignore end*/\n;\n\n/*istanbul ignore start*/ function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n/*istanbul ignore end*/\nvar cssDiff = new\n/*istanbul ignore start*/\n_base\n/*istanbul ignore end*/\n[\n/*istanbul ignore start*/\n\"default\"\n/*istanbul ignore end*/\n]();\n\n/*istanbul ignore start*/\nexports.cssDiff = cssDiff;\n\n/*istanbul ignore end*/\ncssDiff.tokenize = function (value) {\n  return value.split(/([{}:;,]|\\s+)/);\n};\n\nfunction diffCss(oldStr, newStr, callback) {\n  return cssDiff.diff(oldStr, newStr, callback);\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9kaWZmL2Nzcy5qcyJdLCJuYW1lcyI6WyJjc3NEaWZmIiwiRGlmZiIsInRva2VuaXplIiwidmFsdWUiLCJzcGxpdCIsImRpZmZDc3MiLCJvbGRTdHIiLCJuZXdTdHIiLCJjYWxsYmFjayIsImRpZmYiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOzs7OztBQUVPLElBQU1BLE9BQU8sR0FBRztBQUFJQztBQUFBQTtBQUFBQTtBQUFBQTtBQUFBQTtBQUFBQTtBQUFBQTtBQUFBQSxDQUFKLEVBQWhCOzs7Ozs7QUFDUEQsT0FBTyxDQUFDRSxRQUFSLEdBQW1CLFVBQVNDLEtBQVQsRUFBZ0I7QUFDakMsU0FBT0EsS0FBSyxDQUFDQyxLQUFOLENBQVksZUFBWixDQUFQO0FBQ0QsQ0FGRDs7QUFJTyxTQUFTQyxPQUFULENBQWlCQyxNQUFqQixFQUF5QkMsTUFBekIsRUFBaUNDLFFBQWpDLEVBQTJDO0FBQUUsU0FBT1IsT0FBTyxDQUFDUyxJQUFSLENBQWFILE1BQWIsRUFBcUJDLE1BQXJCLEVBQTZCQyxRQUE3QixDQUFQO0FBQWdEIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IERpZmYgZnJvbSAnLi9iYXNlJztcblxuZXhwb3J0IGNvbnN0IGNzc0RpZmYgPSBuZXcgRGlmZigpO1xuY3NzRGlmZi50b2tlbml6ZSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZS5zcGxpdCgvKFt7fTo7LF18XFxzKykvKTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBkaWZmQ3NzKG9sZFN0ciwgbmV3U3RyLCBjYWxsYmFjaykgeyByZXR1cm4gY3NzRGlmZi5kaWZmKG9sZFN0ciwgbmV3U3RyLCBjYWxsYmFjayk7IH1cbiJdfQ==\n","/*istanbul ignore start*/\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.diffJson = diffJson;\nexports.canonicalize = canonicalize;\nexports.jsonDiff = void 0;\n\n/*istanbul ignore end*/\nvar\n/*istanbul ignore start*/\n_base = _interopRequireDefault(require(\"./base\"))\n/*istanbul ignore end*/\n;\n\nvar\n/*istanbul ignore start*/\n_line = require(\"./line\")\n/*istanbul ignore end*/\n;\n\n/*istanbul ignore start*/ function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n/*istanbul ignore end*/\nvar objectPrototypeToString = Object.prototype.toString;\nvar jsonDiff = new\n/*istanbul ignore start*/\n_base\n/*istanbul ignore end*/\n[\n/*istanbul ignore start*/\n\"default\"\n/*istanbul ignore end*/\n](); // Discriminate between two lines of pretty-printed, serialized JSON where one of them has a\n// dangling comma and the other doesn't. Turns out including the dangling comma yields the nicest output:\n\n/*istanbul ignore start*/\nexports.jsonDiff = jsonDiff;\n\n/*istanbul ignore end*/\njsonDiff.useLongestToken = true;\njsonDiff.tokenize =\n/*istanbul ignore start*/\n_line\n/*istanbul ignore end*/\n.\n/*istanbul ignore start*/\nlineDiff\n/*istanbul ignore end*/\n.tokenize;\n\njsonDiff.castInput = function (value) {\n  /*istanbul ignore start*/\n  var _this$options =\n  /*istanbul ignore end*/\n  this.options,\n      undefinedReplacement = _this$options.undefinedReplacement,\n      _this$options$stringi = _this$options.stringifyReplacer,\n      stringifyReplacer = _this$options$stringi === void 0 ? function (k, v)\n  /*istanbul ignore start*/\n  {\n    return (\n      /*istanbul ignore end*/\n      typeof v === 'undefined' ? undefinedReplacement : v\n    );\n  } : _this$options$stringi;\n  return typeof value === 'string' ? value : JSON.stringify(canonicalize(value, null, null, stringifyReplacer), stringifyReplacer, '  ');\n};\n\njsonDiff.equals = function (left, right) {\n  return (\n    /*istanbul ignore start*/\n    _base\n    /*istanbul ignore end*/\n    [\n    /*istanbul ignore start*/\n    \"default\"\n    /*istanbul ignore end*/\n    ].prototype.equals.call(jsonDiff, left.replace(/,([\\r\\n])/g, '$1'), right.replace(/,([\\r\\n])/g, '$1'))\n  );\n};\n\nfunction diffJson(oldObj, newObj, options) {\n  return jsonDiff.diff(oldObj, newObj, options);\n} // This function handles the presence of circular references by bailing out when encountering an\n// object that is already on the \"stack\" of items being processed. Accepts an optional replacer\n\n\nfunction canonicalize(obj, stack, replacementStack, replacer, key) {\n  stack = stack || [];\n  replacementStack = replacementStack || [];\n\n  if (replacer) {\n    obj = replacer(key, obj);\n  }\n\n  var i;\n\n  for (i = 0; i < stack.length; i += 1) {\n    if (stack[i] === obj) {\n      return replacementStack[i];\n    }\n  }\n\n  var canonicalizedObj;\n\n  if ('[object Array]' === objectPrototypeToString.call(obj)) {\n    stack.push(obj);\n    canonicalizedObj = new Array(obj.length);\n    replacementStack.push(canonicalizedObj);\n\n    for (i = 0; i < obj.length; i += 1) {\n      canonicalizedObj[i] = canonicalize(obj[i], stack, replacementStack, replacer, key);\n    }\n\n    stack.pop();\n    replacementStack.pop();\n    return canonicalizedObj;\n  }\n\n  if (obj && obj.toJSON) {\n    obj = obj.toJSON();\n  }\n\n  if (\n  /*istanbul ignore start*/\n  _typeof(\n  /*istanbul ignore end*/\n  obj) === 'object' && obj !== null) {\n    stack.push(obj);\n    canonicalizedObj = {};\n    replacementStack.push(canonicalizedObj);\n\n    var sortedKeys = [],\n        _key;\n\n    for (_key in obj) {\n      /* istanbul ignore else */\n      if (obj.hasOwnProperty(_key)) {\n        sortedKeys.push(_key);\n      }\n    }\n\n    sortedKeys.sort();\n\n    for (i = 0; i < sortedKeys.length; i += 1) {\n      _key = sortedKeys[i];\n      canonicalizedObj[_key] = canonicalize(obj[_key], stack, replacementStack, replacer, _key);\n    }\n\n    stack.pop();\n    replacementStack.pop();\n  } else {\n    canonicalizedObj = obj;\n  }\n\n  return canonicalizedObj;\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9kaWZmL2pzb24uanMiXSwibmFtZXMiOlsib2JqZWN0UHJvdG90eXBlVG9TdHJpbmciLCJPYmplY3QiLCJwcm90b3R5cGUiLCJ0b1N0cmluZyIsImpzb25EaWZmIiwiRGlmZiIsInVzZUxvbmdlc3RUb2tlbiIsInRva2VuaXplIiwibGluZURpZmYiLCJjYXN0SW5wdXQiLCJ2YWx1ZSIsIm9wdGlvbnMiLCJ1bmRlZmluZWRSZXBsYWNlbWVudCIsInN0cmluZ2lmeVJlcGxhY2VyIiwiayIsInYiLCJKU09OIiwic3RyaW5naWZ5IiwiY2Fub25pY2FsaXplIiwiZXF1YWxzIiwibGVmdCIsInJpZ2h0IiwiY2FsbCIsInJlcGxhY2UiLCJkaWZmSnNvbiIsIm9sZE9iaiIsIm5ld09iaiIsImRpZmYiLCJvYmoiLCJzdGFjayIsInJlcGxhY2VtZW50U3RhY2siLCJyZXBsYWNlciIsImtleSIsImkiLCJsZW5ndGgiLCJjYW5vbmljYWxpemVkT2JqIiwicHVzaCIsIkFycmF5IiwicG9wIiwidG9KU09OIiwic29ydGVkS2V5cyIsImhhc093blByb3BlcnR5Iiwic29ydCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7Ozs7Ozs7QUFFQSxJQUFNQSx1QkFBdUIsR0FBR0MsTUFBTSxDQUFDQyxTQUFQLENBQWlCQyxRQUFqRDtBQUdPLElBQU1DLFFBQVEsR0FBRztBQUFJQztBQUFBQTtBQUFBQTtBQUFBQTtBQUFBQTtBQUFBQTtBQUFBQTtBQUFBQSxDQUFKLEVBQWpCLEMsQ0FDUDtBQUNBOzs7Ozs7QUFDQUQsUUFBUSxDQUFDRSxlQUFULEdBQTJCLElBQTNCO0FBRUFGLFFBQVEsQ0FBQ0csUUFBVDtBQUFvQkM7QUFBQUE7QUFBQUE7QUFBQUE7QUFBQUE7QUFBQUE7QUFBQTtBQUFBLENBQVNELFFBQTdCOztBQUNBSCxRQUFRLENBQUNLLFNBQVQsR0FBcUIsVUFBU0MsS0FBVCxFQUFnQjtBQUFBO0FBQUE7QUFBQTtBQUMrRSxPQUFLQyxPQURwRjtBQUFBLE1BQzVCQyxvQkFENEIsaUJBQzVCQSxvQkFENEI7QUFBQSw0Q0FDTkMsaUJBRE07QUFBQSxNQUNOQSxpQkFETSxzQ0FDYyxVQUFDQyxDQUFELEVBQUlDLENBQUo7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFVLGFBQU9BLENBQVAsS0FBYSxXQUFiLEdBQTJCSCxvQkFBM0IsR0FBa0RHO0FBQTVEO0FBQUEsR0FEZDtBQUduQyxTQUFPLE9BQU9MLEtBQVAsS0FBaUIsUUFBakIsR0FBNEJBLEtBQTVCLEdBQW9DTSxJQUFJLENBQUNDLFNBQUwsQ0FBZUMsWUFBWSxDQUFDUixLQUFELEVBQVEsSUFBUixFQUFjLElBQWQsRUFBb0JHLGlCQUFwQixDQUEzQixFQUFtRUEsaUJBQW5FLEVBQXNGLElBQXRGLENBQTNDO0FBQ0QsQ0FKRDs7QUFLQVQsUUFBUSxDQUFDZSxNQUFULEdBQWtCLFVBQVNDLElBQVQsRUFBZUMsS0FBZixFQUFzQjtBQUN0QyxTQUFPaEI7QUFBQUE7QUFBQUE7QUFBQUE7QUFBQUE7QUFBQUE7QUFBQUE7QUFBQUE7QUFBQUEsTUFBS0gsU0FBTCxDQUFlaUIsTUFBZixDQUFzQkcsSUFBdEIsQ0FBMkJsQixRQUEzQixFQUFxQ2dCLElBQUksQ0FBQ0csT0FBTCxDQUFhLFlBQWIsRUFBMkIsSUFBM0IsQ0FBckMsRUFBdUVGLEtBQUssQ0FBQ0UsT0FBTixDQUFjLFlBQWQsRUFBNEIsSUFBNUIsQ0FBdkU7QUFBUDtBQUNELENBRkQ7O0FBSU8sU0FBU0MsUUFBVCxDQUFrQkMsTUFBbEIsRUFBMEJDLE1BQTFCLEVBQWtDZixPQUFsQyxFQUEyQztBQUFFLFNBQU9QLFFBQVEsQ0FBQ3VCLElBQVQsQ0FBY0YsTUFBZCxFQUFzQkMsTUFBdEIsRUFBOEJmLE9BQTlCLENBQVA7QUFBZ0QsQyxDQUVwRztBQUNBOzs7QUFDTyxTQUFTTyxZQUFULENBQXNCVSxHQUF0QixFQUEyQkMsS0FBM0IsRUFBa0NDLGdCQUFsQyxFQUFvREMsUUFBcEQsRUFBOERDLEdBQTlELEVBQW1FO0FBQ3hFSCxFQUFBQSxLQUFLLEdBQUdBLEtBQUssSUFBSSxFQUFqQjtBQUNBQyxFQUFBQSxnQkFBZ0IsR0FBR0EsZ0JBQWdCLElBQUksRUFBdkM7O0FBRUEsTUFBSUMsUUFBSixFQUFjO0FBQ1pILElBQUFBLEdBQUcsR0FBR0csUUFBUSxDQUFDQyxHQUFELEVBQU1KLEdBQU4sQ0FBZDtBQUNEOztBQUVELE1BQUlLLENBQUo7O0FBRUEsT0FBS0EsQ0FBQyxHQUFHLENBQVQsRUFBWUEsQ0FBQyxHQUFHSixLQUFLLENBQUNLLE1BQXRCLEVBQThCRCxDQUFDLElBQUksQ0FBbkMsRUFBc0M7QUFDcEMsUUFBSUosS0FBSyxDQUFDSSxDQUFELENBQUwsS0FBYUwsR0FBakIsRUFBc0I7QUFDcEIsYUFBT0UsZ0JBQWdCLENBQUNHLENBQUQsQ0FBdkI7QUFDRDtBQUNGOztBQUVELE1BQUlFLGdCQUFKOztBQUVBLE1BQUkscUJBQXFCbkMsdUJBQXVCLENBQUNzQixJQUF4QixDQUE2Qk0sR0FBN0IsQ0FBekIsRUFBNEQ7QUFDMURDLElBQUFBLEtBQUssQ0FBQ08sSUFBTixDQUFXUixHQUFYO0FBQ0FPLElBQUFBLGdCQUFnQixHQUFHLElBQUlFLEtBQUosQ0FBVVQsR0FBRyxDQUFDTSxNQUFkLENBQW5CO0FBQ0FKLElBQUFBLGdCQUFnQixDQUFDTSxJQUFqQixDQUFzQkQsZ0JBQXRCOztBQUNBLFNBQUtGLENBQUMsR0FBRyxDQUFULEVBQVlBLENBQUMsR0FBR0wsR0FBRyxDQUFDTSxNQUFwQixFQUE0QkQsQ0FBQyxJQUFJLENBQWpDLEVBQW9DO0FBQ2xDRSxNQUFBQSxnQkFBZ0IsQ0FBQ0YsQ0FBRCxDQUFoQixHQUFzQmYsWUFBWSxDQUFDVSxHQUFHLENBQUNLLENBQUQsQ0FBSixFQUFTSixLQUFULEVBQWdCQyxnQkFBaEIsRUFBa0NDLFFBQWxDLEVBQTRDQyxHQUE1QyxDQUFsQztBQUNEOztBQUNESCxJQUFBQSxLQUFLLENBQUNTLEdBQU47QUFDQVIsSUFBQUEsZ0JBQWdCLENBQUNRLEdBQWpCO0FBQ0EsV0FBT0gsZ0JBQVA7QUFDRDs7QUFFRCxNQUFJUCxHQUFHLElBQUlBLEdBQUcsQ0FBQ1csTUFBZixFQUF1QjtBQUNyQlgsSUFBQUEsR0FBRyxHQUFHQSxHQUFHLENBQUNXLE1BQUosRUFBTjtBQUNEOztBQUVEO0FBQUk7QUFBQTtBQUFBO0FBQU9YLEVBQUFBLEdBQVAsTUFBZSxRQUFmLElBQTJCQSxHQUFHLEtBQUssSUFBdkMsRUFBNkM7QUFDM0NDLElBQUFBLEtBQUssQ0FBQ08sSUFBTixDQUFXUixHQUFYO0FBQ0FPLElBQUFBLGdCQUFnQixHQUFHLEVBQW5CO0FBQ0FMLElBQUFBLGdCQUFnQixDQUFDTSxJQUFqQixDQUFzQkQsZ0JBQXRCOztBQUNBLFFBQUlLLFVBQVUsR0FBRyxFQUFqQjtBQUFBLFFBQ0lSLElBREo7O0FBRUEsU0FBS0EsSUFBTCxJQUFZSixHQUFaLEVBQWlCO0FBQ2Y7QUFDQSxVQUFJQSxHQUFHLENBQUNhLGNBQUosQ0FBbUJULElBQW5CLENBQUosRUFBNkI7QUFDM0JRLFFBQUFBLFVBQVUsQ0FBQ0osSUFBWCxDQUFnQkosSUFBaEI7QUFDRDtBQUNGOztBQUNEUSxJQUFBQSxVQUFVLENBQUNFLElBQVg7O0FBQ0EsU0FBS1QsQ0FBQyxHQUFHLENBQVQsRUFBWUEsQ0FBQyxHQUFHTyxVQUFVLENBQUNOLE1BQTNCLEVBQW1DRCxDQUFDLElBQUksQ0FBeEMsRUFBMkM7QUFDekNELE1BQUFBLElBQUcsR0FBR1EsVUFBVSxDQUFDUCxDQUFELENBQWhCO0FBQ0FFLE1BQUFBLGdCQUFnQixDQUFDSCxJQUFELENBQWhCLEdBQXdCZCxZQUFZLENBQUNVLEdBQUcsQ0FBQ0ksSUFBRCxDQUFKLEVBQVdILEtBQVgsRUFBa0JDLGdCQUFsQixFQUFvQ0MsUUFBcEMsRUFBOENDLElBQTlDLENBQXBDO0FBQ0Q7O0FBQ0RILElBQUFBLEtBQUssQ0FBQ1MsR0FBTjtBQUNBUixJQUFBQSxnQkFBZ0IsQ0FBQ1EsR0FBakI7QUFDRCxHQW5CRCxNQW1CTztBQUNMSCxJQUFBQSxnQkFBZ0IsR0FBR1AsR0FBbkI7QUFDRDs7QUFDRCxTQUFPTyxnQkFBUDtBQUNEIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IERpZmYgZnJvbSAnLi9iYXNlJztcbmltcG9ydCB7bGluZURpZmZ9IGZyb20gJy4vbGluZSc7XG5cbmNvbnN0IG9iamVjdFByb3RvdHlwZVRvU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztcblxuXG5leHBvcnQgY29uc3QganNvbkRpZmYgPSBuZXcgRGlmZigpO1xuLy8gRGlzY3JpbWluYXRlIGJldHdlZW4gdHdvIGxpbmVzIG9mIHByZXR0eS1wcmludGVkLCBzZXJpYWxpemVkIEpTT04gd2hlcmUgb25lIG9mIHRoZW0gaGFzIGFcbi8vIGRhbmdsaW5nIGNvbW1hIGFuZCB0aGUgb3RoZXIgZG9lc24ndC4gVHVybnMgb3V0IGluY2x1ZGluZyB0aGUgZGFuZ2xpbmcgY29tbWEgeWllbGRzIHRoZSBuaWNlc3Qgb3V0cHV0OlxuanNvbkRpZmYudXNlTG9uZ2VzdFRva2VuID0gdHJ1ZTtcblxuanNvbkRpZmYudG9rZW5pemUgPSBsaW5lRGlmZi50b2tlbml6ZTtcbmpzb25EaWZmLmNhc3RJbnB1dCA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gIGNvbnN0IHt1bmRlZmluZWRSZXBsYWNlbWVudCwgc3RyaW5naWZ5UmVwbGFjZXIgPSAoaywgdikgPT4gdHlwZW9mIHYgPT09ICd1bmRlZmluZWQnID8gdW5kZWZpbmVkUmVwbGFjZW1lbnQgOiB2fSA9IHRoaXMub3B0aW9ucztcblxuICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyA/IHZhbHVlIDogSlNPTi5zdHJpbmdpZnkoY2Fub25pY2FsaXplKHZhbHVlLCBudWxsLCBudWxsLCBzdHJpbmdpZnlSZXBsYWNlciksIHN0cmluZ2lmeVJlcGxhY2VyLCAnICAnKTtcbn07XG5qc29uRGlmZi5lcXVhbHMgPSBmdW5jdGlvbihsZWZ0LCByaWdodCkge1xuICByZXR1cm4gRGlmZi5wcm90b3R5cGUuZXF1YWxzLmNhbGwoanNvbkRpZmYsIGxlZnQucmVwbGFjZSgvLChbXFxyXFxuXSkvZywgJyQxJyksIHJpZ2h0LnJlcGxhY2UoLywoW1xcclxcbl0pL2csICckMScpKTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBkaWZmSnNvbihvbGRPYmosIG5ld09iaiwgb3B0aW9ucykgeyByZXR1cm4ganNvbkRpZmYuZGlmZihvbGRPYmosIG5ld09iaiwgb3B0aW9ucyk7IH1cblxuLy8gVGhpcyBmdW5jdGlvbiBoYW5kbGVzIHRoZSBwcmVzZW5jZSBvZiBjaXJjdWxhciByZWZlcmVuY2VzIGJ5IGJhaWxpbmcgb3V0IHdoZW4gZW5jb3VudGVyaW5nIGFuXG4vLyBvYmplY3QgdGhhdCBpcyBhbHJlYWR5IG9uIHRoZSBcInN0YWNrXCIgb2YgaXRlbXMgYmVpbmcgcHJvY2Vzc2VkLiBBY2NlcHRzIGFuIG9wdGlvbmFsIHJlcGxhY2VyXG5leHBvcnQgZnVuY3Rpb24gY2Fub25pY2FsaXplKG9iaiwgc3RhY2ssIHJlcGxhY2VtZW50U3RhY2ssIHJlcGxhY2VyLCBrZXkpIHtcbiAgc3RhY2sgPSBzdGFjayB8fCBbXTtcbiAgcmVwbGFjZW1lbnRTdGFjayA9IHJlcGxhY2VtZW50U3RhY2sgfHwgW107XG5cbiAgaWYgKHJlcGxhY2VyKSB7XG4gICAgb2JqID0gcmVwbGFjZXIoa2V5LCBvYmopO1xuICB9XG5cbiAgbGV0IGk7XG5cbiAgZm9yIChpID0gMDsgaSA8IHN0YWNrLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgaWYgKHN0YWNrW2ldID09PSBvYmopIHtcbiAgICAgIHJldHVybiByZXBsYWNlbWVudFN0YWNrW2ldO1xuICAgIH1cbiAgfVxuXG4gIGxldCBjYW5vbmljYWxpemVkT2JqO1xuXG4gIGlmICgnW29iamVjdCBBcnJheV0nID09PSBvYmplY3RQcm90b3R5cGVUb1N0cmluZy5jYWxsKG9iaikpIHtcbiAgICBzdGFjay5wdXNoKG9iaik7XG4gICAgY2Fub25pY2FsaXplZE9iaiA9IG5ldyBBcnJheShvYmoubGVuZ3RoKTtcbiAgICByZXBsYWNlbWVudFN0YWNrLnB1c2goY2Fub25pY2FsaXplZE9iaik7XG4gICAgZm9yIChpID0gMDsgaSA8IG9iai5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgY2Fub25pY2FsaXplZE9ialtpXSA9IGNhbm9uaWNhbGl6ZShvYmpbaV0sIHN0YWNrLCByZXBsYWNlbWVudFN0YWNrLCByZXBsYWNlciwga2V5KTtcbiAgICB9XG4gICAgc3RhY2sucG9wKCk7XG4gICAgcmVwbGFjZW1lbnRTdGFjay5wb3AoKTtcbiAgICByZXR1cm4gY2Fub25pY2FsaXplZE9iajtcbiAgfVxuXG4gIGlmIChvYmogJiYgb2JqLnRvSlNPTikge1xuICAgIG9iaiA9IG9iai50b0pTT04oKTtcbiAgfVxuXG4gIGlmICh0eXBlb2Ygb2JqID09PSAnb2JqZWN0JyAmJiBvYmogIT09IG51bGwpIHtcbiAgICBzdGFjay5wdXNoKG9iaik7XG4gICAgY2Fub25pY2FsaXplZE9iaiA9IHt9O1xuICAgIHJlcGxhY2VtZW50U3RhY2sucHVzaChjYW5vbmljYWxpemVkT2JqKTtcbiAgICBsZXQgc29ydGVkS2V5cyA9IFtdLFxuICAgICAgICBrZXk7XG4gICAgZm9yIChrZXkgaW4gb2JqKSB7XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgIHNvcnRlZEtleXMucHVzaChrZXkpO1xuICAgICAgfVxuICAgIH1cbiAgICBzb3J0ZWRLZXlzLnNvcnQoKTtcbiAgICBmb3IgKGkgPSAwOyBpIDwgc29ydGVkS2V5cy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAga2V5ID0gc29ydGVkS2V5c1tpXTtcbiAgICAgIGNhbm9uaWNhbGl6ZWRPYmpba2V5XSA9IGNhbm9uaWNhbGl6ZShvYmpba2V5XSwgc3RhY2ssIHJlcGxhY2VtZW50U3RhY2ssIHJlcGxhY2VyLCBrZXkpO1xuICAgIH1cbiAgICBzdGFjay5wb3AoKTtcbiAgICByZXBsYWNlbWVudFN0YWNrLnBvcCgpO1xuICB9IGVsc2Uge1xuICAgIGNhbm9uaWNhbGl6ZWRPYmogPSBvYmo7XG4gIH1cbiAgcmV0dXJuIGNhbm9uaWNhbGl6ZWRPYmo7XG59XG4iXX0=\n","/*istanbul ignore start*/\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.diffLines = diffLines;\nexports.diffTrimmedLines = diffTrimmedLines;\nexports.lineDiff = void 0;\n\n/*istanbul ignore end*/\nvar\n/*istanbul ignore start*/\n_base = _interopRequireDefault(require(\"./base\"))\n/*istanbul ignore end*/\n;\n\nvar\n/*istanbul ignore start*/\n_params = require(\"../util/params\")\n/*istanbul ignore end*/\n;\n\n/*istanbul ignore start*/ function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n/*istanbul ignore end*/\nvar lineDiff = new\n/*istanbul ignore start*/\n_base\n/*istanbul ignore end*/\n[\n/*istanbul ignore start*/\n\"default\"\n/*istanbul ignore end*/\n]();\n\n/*istanbul ignore start*/\nexports.lineDiff = lineDiff;\n\n/*istanbul ignore end*/\nlineDiff.tokenize = function (value) {\n  var retLines = [],\n      linesAndNewlines = value.split(/(\\n|\\r\\n)/); // Ignore the final empty token that occurs if the string ends with a new line\n\n  if (!linesAndNewlines[linesAndNewlines.length - 1]) {\n    linesAndNewlines.pop();\n  } // Merge the content and line separators into single tokens\n\n\n  for (var i = 0; i < linesAndNewlines.length; i++) {\n    var line = linesAndNewlines[i];\n\n    if (i % 2 && !this.options.newlineIsToken) {\n      retLines[retLines.length - 1] += line;\n    } else {\n      if (this.options.ignoreWhitespace) {\n        line = line.trim();\n      }\n\n      retLines.push(line);\n    }\n  }\n\n  return retLines;\n};\n\nfunction diffLines(oldStr, newStr, callback) {\n  return lineDiff.diff(oldStr, newStr, callback);\n}\n\nfunction diffTrimmedLines(oldStr, newStr, callback) {\n  var options =\n  /*istanbul ignore start*/\n  (0,\n  /*istanbul ignore end*/\n\n  /*istanbul ignore start*/\n  _params\n  /*istanbul ignore end*/\n  .\n  /*istanbul ignore start*/\n  generateOptions)\n  /*istanbul ignore end*/\n  (callback, {\n    ignoreWhitespace: true\n  });\n  return lineDiff.diff(oldStr, newStr, options);\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9kaWZmL2xpbmUuanMiXSwibmFtZXMiOlsibGluZURpZmYiLCJEaWZmIiwidG9rZW5pemUiLCJ2YWx1ZSIsInJldExpbmVzIiwibGluZXNBbmROZXdsaW5lcyIsInNwbGl0IiwibGVuZ3RoIiwicG9wIiwiaSIsImxpbmUiLCJvcHRpb25zIiwibmV3bGluZUlzVG9rZW4iLCJpZ25vcmVXaGl0ZXNwYWNlIiwidHJpbSIsInB1c2giLCJkaWZmTGluZXMiLCJvbGRTdHIiLCJuZXdTdHIiLCJjYWxsYmFjayIsImRpZmYiLCJkaWZmVHJpbW1lZExpbmVzIiwiZ2VuZXJhdGVPcHRpb25zIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTs7Ozs7QUFFTyxJQUFNQSxRQUFRLEdBQUc7QUFBSUM7QUFBQUE7QUFBQUE7QUFBQUE7QUFBQUE7QUFBQUE7QUFBQUE7QUFBQUEsQ0FBSixFQUFqQjs7Ozs7O0FBQ1BELFFBQVEsQ0FBQ0UsUUFBVCxHQUFvQixVQUFTQyxLQUFULEVBQWdCO0FBQ2xDLE1BQUlDLFFBQVEsR0FBRyxFQUFmO0FBQUEsTUFDSUMsZ0JBQWdCLEdBQUdGLEtBQUssQ0FBQ0csS0FBTixDQUFZLFdBQVosQ0FEdkIsQ0FEa0MsQ0FJbEM7O0FBQ0EsTUFBSSxDQUFDRCxnQkFBZ0IsQ0FBQ0EsZ0JBQWdCLENBQUNFLE1BQWpCLEdBQTBCLENBQTNCLENBQXJCLEVBQW9EO0FBQ2xERixJQUFBQSxnQkFBZ0IsQ0FBQ0csR0FBakI7QUFDRCxHQVBpQyxDQVNsQzs7O0FBQ0EsT0FBSyxJQUFJQyxDQUFDLEdBQUcsQ0FBYixFQUFnQkEsQ0FBQyxHQUFHSixnQkFBZ0IsQ0FBQ0UsTUFBckMsRUFBNkNFLENBQUMsRUFBOUMsRUFBa0Q7QUFDaEQsUUFBSUMsSUFBSSxHQUFHTCxnQkFBZ0IsQ0FBQ0ksQ0FBRCxDQUEzQjs7QUFFQSxRQUFJQSxDQUFDLEdBQUcsQ0FBSixJQUFTLENBQUMsS0FBS0UsT0FBTCxDQUFhQyxjQUEzQixFQUEyQztBQUN6Q1IsTUFBQUEsUUFBUSxDQUFDQSxRQUFRLENBQUNHLE1BQVQsR0FBa0IsQ0FBbkIsQ0FBUixJQUFpQ0csSUFBakM7QUFDRCxLQUZELE1BRU87QUFDTCxVQUFJLEtBQUtDLE9BQUwsQ0FBYUUsZ0JBQWpCLEVBQW1DO0FBQ2pDSCxRQUFBQSxJQUFJLEdBQUdBLElBQUksQ0FBQ0ksSUFBTCxFQUFQO0FBQ0Q7O0FBQ0RWLE1BQUFBLFFBQVEsQ0FBQ1csSUFBVCxDQUFjTCxJQUFkO0FBQ0Q7QUFDRjs7QUFFRCxTQUFPTixRQUFQO0FBQ0QsQ0F4QkQ7O0FBMEJPLFNBQVNZLFNBQVQsQ0FBbUJDLE1BQW5CLEVBQTJCQyxNQUEzQixFQUFtQ0MsUUFBbkMsRUFBNkM7QUFBRSxTQUFPbkIsUUFBUSxDQUFDb0IsSUFBVCxDQUFjSCxNQUFkLEVBQXNCQyxNQUF0QixFQUE4QkMsUUFBOUIsQ0FBUDtBQUFpRDs7QUFDaEcsU0FBU0UsZ0JBQVQsQ0FBMEJKLE1BQTFCLEVBQWtDQyxNQUFsQyxFQUEwQ0MsUUFBMUMsRUFBb0Q7QUFDekQsTUFBSVIsT0FBTztBQUFHO0FBQUE7QUFBQTs7QUFBQVc7QUFBQUE7QUFBQUE7QUFBQUE7QUFBQUE7QUFBQUE7QUFBQTtBQUFBLEdBQWdCSCxRQUFoQixFQUEwQjtBQUFDTixJQUFBQSxnQkFBZ0IsRUFBRTtBQUFuQixHQUExQixDQUFkO0FBQ0EsU0FBT2IsUUFBUSxDQUFDb0IsSUFBVCxDQUFjSCxNQUFkLEVBQXNCQyxNQUF0QixFQUE4QlAsT0FBOUIsQ0FBUDtBQUNEIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IERpZmYgZnJvbSAnLi9iYXNlJztcbmltcG9ydCB7Z2VuZXJhdGVPcHRpb25zfSBmcm9tICcuLi91dGlsL3BhcmFtcyc7XG5cbmV4cG9ydCBjb25zdCBsaW5lRGlmZiA9IG5ldyBEaWZmKCk7XG5saW5lRGlmZi50b2tlbml6ZSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gIGxldCByZXRMaW5lcyA9IFtdLFxuICAgICAgbGluZXNBbmROZXdsaW5lcyA9IHZhbHVlLnNwbGl0KC8oXFxufFxcclxcbikvKTtcblxuICAvLyBJZ25vcmUgdGhlIGZpbmFsIGVtcHR5IHRva2VuIHRoYXQgb2NjdXJzIGlmIHRoZSBzdHJpbmcgZW5kcyB3aXRoIGEgbmV3IGxpbmVcbiAgaWYgKCFsaW5lc0FuZE5ld2xpbmVzW2xpbmVzQW5kTmV3bGluZXMubGVuZ3RoIC0gMV0pIHtcbiAgICBsaW5lc0FuZE5ld2xpbmVzLnBvcCgpO1xuICB9XG5cbiAgLy8gTWVyZ2UgdGhlIGNvbnRlbnQgYW5kIGxpbmUgc2VwYXJhdG9ycyBpbnRvIHNpbmdsZSB0b2tlbnNcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaW5lc0FuZE5ld2xpbmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgbGV0IGxpbmUgPSBsaW5lc0FuZE5ld2xpbmVzW2ldO1xuXG4gICAgaWYgKGkgJSAyICYmICF0aGlzLm9wdGlvbnMubmV3bGluZUlzVG9rZW4pIHtcbiAgICAgIHJldExpbmVzW3JldExpbmVzLmxlbmd0aCAtIDFdICs9IGxpbmU7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMuaWdub3JlV2hpdGVzcGFjZSkge1xuICAgICAgICBsaW5lID0gbGluZS50cmltKCk7XG4gICAgICB9XG4gICAgICByZXRMaW5lcy5wdXNoKGxpbmUpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZXRMaW5lcztcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBkaWZmTGluZXMob2xkU3RyLCBuZXdTdHIsIGNhbGxiYWNrKSB7IHJldHVybiBsaW5lRGlmZi5kaWZmKG9sZFN0ciwgbmV3U3RyLCBjYWxsYmFjayk7IH1cbmV4cG9ydCBmdW5jdGlvbiBkaWZmVHJpbW1lZExpbmVzKG9sZFN0ciwgbmV3U3RyLCBjYWxsYmFjaykge1xuICBsZXQgb3B0aW9ucyA9IGdlbmVyYXRlT3B0aW9ucyhjYWxsYmFjaywge2lnbm9yZVdoaXRlc3BhY2U6IHRydWV9KTtcbiAgcmV0dXJuIGxpbmVEaWZmLmRpZmYob2xkU3RyLCBuZXdTdHIsIG9wdGlvbnMpO1xufVxuIl19\n","/*istanbul ignore start*/\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.diffSentences = diffSentences;\nexports.sentenceDiff = void 0;\n\n/*istanbul ignore end*/\nvar\n/*istanbul ignore start*/\n_base = _interopRequireDefault(require(\"./base\"))\n/*istanbul ignore end*/\n;\n\n/*istanbul ignore start*/ function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n/*istanbul ignore end*/\nvar sentenceDiff = new\n/*istanbul ignore start*/\n_base\n/*istanbul ignore end*/\n[\n/*istanbul ignore start*/\n\"default\"\n/*istanbul ignore end*/\n]();\n\n/*istanbul ignore start*/\nexports.sentenceDiff = sentenceDiff;\n\n/*istanbul ignore end*/\nsentenceDiff.tokenize = function (value) {\n  return value.split(/(\\S.+?[.!?])(?=\\s+|$)/);\n};\n\nfunction diffSentences(oldStr, newStr, callback) {\n  return sentenceDiff.diff(oldStr, newStr, callback);\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9kaWZmL3NlbnRlbmNlLmpzIl0sIm5hbWVzIjpbInNlbnRlbmNlRGlmZiIsIkRpZmYiLCJ0b2tlbml6ZSIsInZhbHVlIiwic3BsaXQiLCJkaWZmU2VudGVuY2VzIiwib2xkU3RyIiwibmV3U3RyIiwiY2FsbGJhY2siLCJkaWZmIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7Ozs7QUFHTyxJQUFNQSxZQUFZLEdBQUc7QUFBSUM7QUFBQUE7QUFBQUE7QUFBQUE7QUFBQUE7QUFBQUE7QUFBQUE7QUFBQUEsQ0FBSixFQUFyQjs7Ozs7O0FBQ1BELFlBQVksQ0FBQ0UsUUFBYixHQUF3QixVQUFTQyxLQUFULEVBQWdCO0FBQ3RDLFNBQU9BLEtBQUssQ0FBQ0MsS0FBTixDQUFZLHVCQUFaLENBQVA7QUFDRCxDQUZEOztBQUlPLFNBQVNDLGFBQVQsQ0FBdUJDLE1BQXZCLEVBQStCQyxNQUEvQixFQUF1Q0MsUUFBdkMsRUFBaUQ7QUFBRSxTQUFPUixZQUFZLENBQUNTLElBQWIsQ0FBa0JILE1BQWxCLEVBQTBCQyxNQUExQixFQUFrQ0MsUUFBbEMsQ0FBUDtBQUFxRCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBEaWZmIGZyb20gJy4vYmFzZSc7XG5cblxuZXhwb3J0IGNvbnN0IHNlbnRlbmNlRGlmZiA9IG5ldyBEaWZmKCk7XG5zZW50ZW5jZURpZmYudG9rZW5pemUgPSBmdW5jdGlvbih2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUuc3BsaXQoLyhcXFMuKz9bLiE/XSkoPz1cXHMrfCQpLyk7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gZGlmZlNlbnRlbmNlcyhvbGRTdHIsIG5ld1N0ciwgY2FsbGJhY2spIHsgcmV0dXJuIHNlbnRlbmNlRGlmZi5kaWZmKG9sZFN0ciwgbmV3U3RyLCBjYWxsYmFjayk7IH1cbiJdfQ==\n","/*istanbul ignore start*/\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.diffWords = diffWords;\nexports.diffWordsWithSpace = diffWordsWithSpace;\nexports.wordDiff = void 0;\n\n/*istanbul ignore end*/\nvar\n/*istanbul ignore start*/\n_base = _interopRequireDefault(require(\"./base\"))\n/*istanbul ignore end*/\n;\n\nvar\n/*istanbul ignore start*/\n_params = require(\"../util/params\")\n/*istanbul ignore end*/\n;\n\n/*istanbul ignore start*/ function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n/*istanbul ignore end*/\n// Based on https://en.wikipedia.org/wiki/Latin_script_in_Unicode\n//\n// Ranges and exceptions:\n// Latin-1 Supplement, 008000FF\n//  - U+00D7   Multiplication sign\n//  - U+00F7   Division sign\n// Latin Extended-A, 0100017F\n// Latin Extended-B, 0180024F\n// IPA Extensions, 025002AF\n// Spacing Modifier Letters, 02B002FF\n//  - U+02C7   &#711;  Caron\n//  - U+02D8   &#728;  Breve\n//  - U+02D9   &#729;  Dot Above\n//  - U+02DA   &#730;  Ring Above\n//  - U+02DB   &#731;  Ogonek\n//  - U+02DC   &#732;  Small Tilde\n//  - U+02DD   &#733;  Double Acute Accent\n// Latin Extended Additional, 1E001EFF\nvar extendedWordChars = /^[A-Za-z\\xC0-\\u02C6\\u02C8-\\u02D7\\u02DE-\\u02FF\\u1E00-\\u1EFF]+$/;\nvar reWhitespace = /\\S/;\nvar wordDiff = new\n/*istanbul ignore start*/\n_base\n/*istanbul ignore end*/\n[\n/*istanbul ignore start*/\n\"default\"\n/*istanbul ignore end*/\n]();\n\n/*istanbul ignore start*/\nexports.wordDiff = wordDiff;\n\n/*istanbul ignore end*/\nwordDiff.equals = function (left, right) {\n  if (this.options.ignoreCase) {\n    left = left.toLowerCase();\n    right = right.toLowerCase();\n  }\n\n  return left === right || this.options.ignoreWhitespace && !reWhitespace.test(left) && !reWhitespace.test(right);\n};\n\nwordDiff.tokenize = function (value) {\n  // All whitespace symbols except newline group into one token, each newline - in separate token\n  var tokens = value.split(/([^\\S\\r\\n]+|[()[\\]{}'\"\\r\\n]|\\b)/); // Join the boundary splits that we do not consider to be boundaries. This is primarily the extended Latin character set.\n\n  for (var i = 0; i < tokens.length - 1; i++) {\n    // If we have an empty string in the next field and we have only word chars before and after, merge\n    if (!tokens[i + 1] && tokens[i + 2] && extendedWordChars.test(tokens[i]) && extendedWordChars.test(tokens[i + 2])) {\n      tokens[i] += tokens[i + 2];\n      tokens.splice(i + 1, 2);\n      i--;\n    }\n  }\n\n  return tokens;\n};\n\nfunction diffWords(oldStr, newStr, options) {\n  options =\n  /*istanbul ignore start*/\n  (0,\n  /*istanbul ignore end*/\n\n  /*istanbul ignore start*/\n  _params\n  /*istanbul ignore end*/\n  .\n  /*istanbul ignore start*/\n  generateOptions)\n  /*istanbul ignore end*/\n  (options, {\n    ignoreWhitespace: true\n  });\n  return wordDiff.diff(oldStr, newStr, options);\n}\n\nfunction diffWordsWithSpace(oldStr, newStr, options) {\n  return wordDiff.diff(oldStr, newStr, options);\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9kaWZmL3dvcmQuanMiXSwibmFtZXMiOlsiZXh0ZW5kZWRXb3JkQ2hhcnMiLCJyZVdoaXRlc3BhY2UiLCJ3b3JkRGlmZiIsIkRpZmYiLCJlcXVhbHMiLCJsZWZ0IiwicmlnaHQiLCJvcHRpb25zIiwiaWdub3JlQ2FzZSIsInRvTG93ZXJDYXNlIiwiaWdub3JlV2hpdGVzcGFjZSIsInRlc3QiLCJ0b2tlbml6ZSIsInZhbHVlIiwidG9rZW5zIiwic3BsaXQiLCJpIiwibGVuZ3RoIiwic3BsaWNlIiwiZGlmZldvcmRzIiwib2xkU3RyIiwibmV3U3RyIiwiZ2VuZXJhdGVPcHRpb25zIiwiZGlmZiIsImRpZmZXb3Jkc1dpdGhTcGFjZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7Ozs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBTUEsaUJBQWlCLEdBQUcsK0RBQTFCO0FBRUEsSUFBTUMsWUFBWSxHQUFHLElBQXJCO0FBRU8sSUFBTUMsUUFBUSxHQUFHO0FBQUlDO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBLENBQUosRUFBakI7Ozs7OztBQUNQRCxRQUFRLENBQUNFLE1BQVQsR0FBa0IsVUFBU0MsSUFBVCxFQUFlQyxLQUFmLEVBQXNCO0FBQ3RDLE1BQUksS0FBS0MsT0FBTCxDQUFhQyxVQUFqQixFQUE2QjtBQUMzQkgsSUFBQUEsSUFBSSxHQUFHQSxJQUFJLENBQUNJLFdBQUwsRUFBUDtBQUNBSCxJQUFBQSxLQUFLLEdBQUdBLEtBQUssQ0FBQ0csV0FBTixFQUFSO0FBQ0Q7O0FBQ0QsU0FBT0osSUFBSSxLQUFLQyxLQUFULElBQW1CLEtBQUtDLE9BQUwsQ0FBYUcsZ0JBQWIsSUFBaUMsQ0FBQ1QsWUFBWSxDQUFDVSxJQUFiLENBQWtCTixJQUFsQixDQUFsQyxJQUE2RCxDQUFDSixZQUFZLENBQUNVLElBQWIsQ0FBa0JMLEtBQWxCLENBQXhGO0FBQ0QsQ0FORDs7QUFPQUosUUFBUSxDQUFDVSxRQUFULEdBQW9CLFVBQVNDLEtBQVQsRUFBZ0I7QUFDbEM7QUFDQSxNQUFJQyxNQUFNLEdBQUdELEtBQUssQ0FBQ0UsS0FBTixDQUFZLGlDQUFaLENBQWIsQ0FGa0MsQ0FJbEM7O0FBQ0EsT0FBSyxJQUFJQyxDQUFDLEdBQUcsQ0FBYixFQUFnQkEsQ0FBQyxHQUFHRixNQUFNLENBQUNHLE1BQVAsR0FBZ0IsQ0FBcEMsRUFBdUNELENBQUMsRUFBeEMsRUFBNEM7QUFDMUM7QUFDQSxRQUFJLENBQUNGLE1BQU0sQ0FBQ0UsQ0FBQyxHQUFHLENBQUwsQ0FBUCxJQUFrQkYsTUFBTSxDQUFDRSxDQUFDLEdBQUcsQ0FBTCxDQUF4QixJQUNLaEIsaUJBQWlCLENBQUNXLElBQWxCLENBQXVCRyxNQUFNLENBQUNFLENBQUQsQ0FBN0IsQ0FETCxJQUVLaEIsaUJBQWlCLENBQUNXLElBQWxCLENBQXVCRyxNQUFNLENBQUNFLENBQUMsR0FBRyxDQUFMLENBQTdCLENBRlQsRUFFZ0Q7QUFDOUNGLE1BQUFBLE1BQU0sQ0FBQ0UsQ0FBRCxDQUFOLElBQWFGLE1BQU0sQ0FBQ0UsQ0FBQyxHQUFHLENBQUwsQ0FBbkI7QUFDQUYsTUFBQUEsTUFBTSxDQUFDSSxNQUFQLENBQWNGLENBQUMsR0FBRyxDQUFsQixFQUFxQixDQUFyQjtBQUNBQSxNQUFBQSxDQUFDO0FBQ0Y7QUFDRjs7QUFFRCxTQUFPRixNQUFQO0FBQ0QsQ0FqQkQ7O0FBbUJPLFNBQVNLLFNBQVQsQ0FBbUJDLE1BQW5CLEVBQTJCQyxNQUEzQixFQUFtQ2QsT0FBbkMsRUFBNEM7QUFDakRBLEVBQUFBLE9BQU87QUFBRztBQUFBO0FBQUE7O0FBQUFlO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUFBO0FBQUE7QUFBQSxHQUFnQmYsT0FBaEIsRUFBeUI7QUFBQ0csSUFBQUEsZ0JBQWdCLEVBQUU7QUFBbkIsR0FBekIsQ0FBVjtBQUNBLFNBQU9SLFFBQVEsQ0FBQ3FCLElBQVQsQ0FBY0gsTUFBZCxFQUFzQkMsTUFBdEIsRUFBOEJkLE9BQTlCLENBQVA7QUFDRDs7QUFFTSxTQUFTaUIsa0JBQVQsQ0FBNEJKLE1BQTVCLEVBQW9DQyxNQUFwQyxFQUE0Q2QsT0FBNUMsRUFBcUQ7QUFDMUQsU0FBT0wsUUFBUSxDQUFDcUIsSUFBVCxDQUFjSCxNQUFkLEVBQXNCQyxNQUF0QixFQUE4QmQsT0FBOUIsQ0FBUDtBQUNEIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IERpZmYgZnJvbSAnLi9iYXNlJztcbmltcG9ydCB7Z2VuZXJhdGVPcHRpb25zfSBmcm9tICcuLi91dGlsL3BhcmFtcyc7XG5cbi8vIEJhc2VkIG9uIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0xhdGluX3NjcmlwdF9pbl9Vbmljb2RlXG4vL1xuLy8gUmFuZ2VzIGFuZCBleGNlcHRpb25zOlxuLy8gTGF0aW4tMSBTdXBwbGVtZW50LCAwMDgw4oCTMDBGRlxuLy8gIC0gVSswMEQ3ICDDlyBNdWx0aXBsaWNhdGlvbiBzaWduXG4vLyAgLSBVKzAwRjcgIMO3IERpdmlzaW9uIHNpZ25cbi8vIExhdGluIEV4dGVuZGVkLUEsIDAxMDDigJMwMTdGXG4vLyBMYXRpbiBFeHRlbmRlZC1CLCAwMTgw4oCTMDI0RlxuLy8gSVBBIEV4dGVuc2lvbnMsIDAyNTDigJMwMkFGXG4vLyBTcGFjaW5nIE1vZGlmaWVyIExldHRlcnMsIDAyQjDigJMwMkZGXG4vLyAgLSBVKzAyQzcgIMuHICYjNzExOyAgQ2Fyb25cbi8vICAtIFUrMDJEOCAgy5ggJiM3Mjg7ICBCcmV2ZVxuLy8gIC0gVSswMkQ5ICDLmSAmIzcyOTsgIERvdCBBYm92ZVxuLy8gIC0gVSswMkRBICDLmiAmIzczMDsgIFJpbmcgQWJvdmVcbi8vICAtIFUrMDJEQiAgy5sgJiM3MzE7ICBPZ29uZWtcbi8vICAtIFUrMDJEQyAgy5wgJiM3MzI7ICBTbWFsbCBUaWxkZVxuLy8gIC0gVSswMkREICDLnSAmIzczMzsgIERvdWJsZSBBY3V0ZSBBY2NlbnRcbi8vIExhdGluIEV4dGVuZGVkIEFkZGl0aW9uYWwsIDFFMDDigJMxRUZGXG5jb25zdCBleHRlbmRlZFdvcmRDaGFycyA9IC9eW2EtekEtWlxcdXtDMH0tXFx1e0ZGfVxcdXtEOH0tXFx1e0Y2fVxcdXtGOH0tXFx1ezJDNn1cXHV7MkM4fS1cXHV7MkQ3fVxcdXsyREV9LVxcdXsyRkZ9XFx1ezFFMDB9LVxcdXsxRUZGfV0rJC91O1xuXG5jb25zdCByZVdoaXRlc3BhY2UgPSAvXFxTLztcblxuZXhwb3J0IGNvbnN0IHdvcmREaWZmID0gbmV3IERpZmYoKTtcbndvcmREaWZmLmVxdWFscyA9IGZ1bmN0aW9uKGxlZnQsIHJpZ2h0KSB7XG4gIGlmICh0aGlzLm9wdGlvbnMuaWdub3JlQ2FzZSkge1xuICAgIGxlZnQgPSBsZWZ0LnRvTG93ZXJDYXNlKCk7XG4gICAgcmlnaHQgPSByaWdodC50b0xvd2VyQ2FzZSgpO1xuICB9XG4gIHJldHVybiBsZWZ0ID09PSByaWdodCB8fCAodGhpcy5vcHRpb25zLmlnbm9yZVdoaXRlc3BhY2UgJiYgIXJlV2hpdGVzcGFjZS50ZXN0KGxlZnQpICYmICFyZVdoaXRlc3BhY2UudGVzdChyaWdodCkpO1xufTtcbndvcmREaWZmLnRva2VuaXplID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgLy8gQWxsIHdoaXRlc3BhY2Ugc3ltYm9scyBleGNlcHQgbmV3bGluZSBncm91cCBpbnRvIG9uZSB0b2tlbiwgZWFjaCBuZXdsaW5lIC0gaW4gc2VwYXJhdGUgdG9rZW5cbiAgbGV0IHRva2VucyA9IHZhbHVlLnNwbGl0KC8oW15cXFNcXHJcXG5dK3xbKClbXFxde30nXCJcXHJcXG5dfFxcYikvKTtcblxuICAvLyBKb2luIHRoZSBib3VuZGFyeSBzcGxpdHMgdGhhdCB3ZSBkbyBub3QgY29uc2lkZXIgdG8gYmUgYm91bmRhcmllcy4gVGhpcyBpcyBwcmltYXJpbHkgdGhlIGV4dGVuZGVkIExhdGluIGNoYXJhY3RlciBzZXQuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgdG9rZW5zLmxlbmd0aCAtIDE7IGkrKykge1xuICAgIC8vIElmIHdlIGhhdmUgYW4gZW1wdHkgc3RyaW5nIGluIHRoZSBuZXh0IGZpZWxkIGFuZCB3ZSBoYXZlIG9ubHkgd29yZCBjaGFycyBiZWZvcmUgYW5kIGFmdGVyLCBtZXJnZVxuICAgIGlmICghdG9rZW5zW2kgKyAxXSAmJiB0b2tlbnNbaSArIDJdXG4gICAgICAgICAgJiYgZXh0ZW5kZWRXb3JkQ2hhcnMudGVzdCh0b2tlbnNbaV0pXG4gICAgICAgICAgJiYgZXh0ZW5kZWRXb3JkQ2hhcnMudGVzdCh0b2tlbnNbaSArIDJdKSkge1xuICAgICAgdG9rZW5zW2ldICs9IHRva2Vuc1tpICsgMl07XG4gICAgICB0b2tlbnMuc3BsaWNlKGkgKyAxLCAyKTtcbiAgICAgIGktLTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdG9rZW5zO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIGRpZmZXb3JkcyhvbGRTdHIsIG5ld1N0ciwgb3B0aW9ucykge1xuICBvcHRpb25zID0gZ2VuZXJhdGVPcHRpb25zKG9wdGlvbnMsIHtpZ25vcmVXaGl0ZXNwYWNlOiB0cnVlfSk7XG4gIHJldHVybiB3b3JkRGlmZi5kaWZmKG9sZFN0ciwgbmV3U3RyLCBvcHRpb25zKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRpZmZXb3Jkc1dpdGhTcGFjZShvbGRTdHIsIG5ld1N0ciwgb3B0aW9ucykge1xuICByZXR1cm4gd29yZERpZmYuZGlmZihvbGRTdHIsIG5ld1N0ciwgb3B0aW9ucyk7XG59XG4iXX0=\n","/*istanbul ignore start*/\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"Diff\", {\n  enumerable: true,\n  get: function get() {\n    return _base[\"default\"];\n  }\n});\nObject.defineProperty(exports, \"diffChars\", {\n  enumerable: true,\n  get: function get() {\n    return _character.diffChars;\n  }\n});\nObject.defineProperty(exports, \"diffWords\", {\n  enumerable: true,\n  get: function get() {\n    return _word.diffWords;\n  }\n});\nObject.defineProperty(exports, \"diffWordsWithSpace\", {\n  enumerable: true,\n  get: function get() {\n    return _word.diffWordsWithSpace;\n  }\n});\nObject.defineProperty(exports, \"diffLines\", {\n  enumerable: true,\n  get: function get() {\n    return _line.diffLines;\n  }\n});\nObject.defineProperty(exports, \"diffTrimmedLines\", {\n  enumerable: true,\n  get: function get() {\n    return _line.diffTrimmedLines;\n  }\n});\nObject.defineProperty(exports, \"diffSentences\", {\n  enumerable: true,\n  get: function get() {\n    return _sentence.diffSentences;\n  }\n});\nObject.defineProperty(exports, \"diffCss\", {\n  enumerable: true,\n  get: function get() {\n    return _css.diffCss;\n  }\n});\nObject.defineProperty(exports, \"diffJson\", {\n  enumerable: true,\n  get: function get() {\n    return _json.diffJson;\n  }\n});\nObject.defineProperty(exports, \"canonicalize\", {\n  enumerable: true,\n  get: function get() {\n    return _json.canonicalize;\n  }\n});\nObject.defineProperty(exports, \"diffArrays\", {\n  enumerable: true,\n  get: function get() {\n    return _array.diffArrays;\n  }\n});\nObject.defineProperty(exports, \"applyPatch\", {\n  enumerable: true,\n  get: function get() {\n    return _apply.applyPatch;\n  }\n});\nObject.defineProperty(exports, \"applyPatches\", {\n  enumerable: true,\n  get: function get() {\n    return _apply.applyPatches;\n  }\n});\nObject.defineProperty(exports, \"parsePatch\", {\n  enumerable: true,\n  get: function get() {\n    return _parse.parsePatch;\n  }\n});\nObject.defineProperty(exports, \"merge\", {\n  enumerable: true,\n  get: function get() {\n    return _merge.merge;\n  }\n});\nObject.defineProperty(exports, \"structuredPatch\", {\n  enumerable: true,\n  get: function get() {\n    return _create.structuredPatch;\n  }\n});\nObject.defineProperty(exports, \"createTwoFilesPatch\", {\n  enumerable: true,\n  get: function get() {\n    return _create.createTwoFilesPatch;\n  }\n});\nObject.defineProperty(exports, \"createPatch\", {\n  enumerable: true,\n  get: function get() {\n    return _create.createPatch;\n  }\n});\nObject.defineProperty(exports, \"convertChangesToDMP\", {\n  enumerable: true,\n  get: function get() {\n    return _dmp.convertChangesToDMP;\n  }\n});\nObject.defineProperty(exports, \"convertChangesToXML\", {\n  enumerable: true,\n  get: function get() {\n    return _xml.convertChangesToXML;\n  }\n});\n\n/*istanbul ignore end*/\nvar\n/*istanbul ignore start*/\n_base = _interopRequireDefault(require(\"./diff/base\"))\n/*istanbul ignore end*/\n;\n\nvar\n/*istanbul ignore start*/\n_character = require(\"./diff/character\")\n/*istanbul ignore end*/\n;\n\nvar\n/*istanbul ignore start*/\n_word = require(\"./diff/word\")\n/*istanbul ignore end*/\n;\n\nvar\n/*istanbul ignore start*/\n_line = require(\"./diff/line\")\n/*istanbul ignore end*/\n;\n\nvar\n/*istanbul ignore start*/\n_sentence = require(\"./diff/sentence\")\n/*istanbul ignore end*/\n;\n\nvar\n/*istanbul ignore start*/\n_css = require(\"./diff/css\")\n/*istanbul ignore end*/\n;\n\nvar\n/*istanbul ignore start*/\n_json = require(\"./diff/json\")\n/*istanbul ignore end*/\n;\n\nvar\n/*istanbul ignore start*/\n_array = require(\"./diff/array\")\n/*istanbul ignore end*/\n;\n\nvar\n/*istanbul ignore start*/\n_apply = require(\"./patch/apply\")\n/*istanbul ignore end*/\n;\n\nvar\n/*istanbul ignore start*/\n_parse = require(\"./patch/parse\")\n/*istanbul ignore end*/\n;\n\nvar\n/*istanbul ignore start*/\n_merge = require(\"./patch/merge\")\n/*istanbul ignore end*/\n;\n\nvar\n/*istanbul ignore start*/\n_create = require(\"./patch/create\")\n/*istanbul ignore end*/\n;\n\nvar\n/*istanbul ignore start*/\n_dmp = require(\"./convert/dmp\")\n/*istanbul ignore end*/\n;\n\nvar\n/*istanbul ignore start*/\n_xml = require(\"./convert/xml\")\n/*istanbul ignore end*/\n;\n\n/*istanbul ignore start*/ function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n/*istanbul ignore end*/\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9pbmRleC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQWdCQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUEiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBTZWUgTElDRU5TRSBmaWxlIGZvciB0ZXJtcyBvZiB1c2UgKi9cblxuLypcbiAqIFRleHQgZGlmZiBpbXBsZW1lbnRhdGlvbi5cbiAqXG4gKiBUaGlzIGxpYnJhcnkgc3VwcG9ydHMgdGhlIGZvbGxvd2luZyBBUElTOlxuICogSnNEaWZmLmRpZmZDaGFyczogQ2hhcmFjdGVyIGJ5IGNoYXJhY3RlciBkaWZmXG4gKiBKc0RpZmYuZGlmZldvcmRzOiBXb3JkIChhcyBkZWZpbmVkIGJ5IFxcYiByZWdleCkgZGlmZiB3aGljaCBpZ25vcmVzIHdoaXRlc3BhY2VcbiAqIEpzRGlmZi5kaWZmTGluZXM6IExpbmUgYmFzZWQgZGlmZlxuICpcbiAqIEpzRGlmZi5kaWZmQ3NzOiBEaWZmIHRhcmdldGVkIGF0IENTUyBjb250ZW50XG4gKlxuICogVGhlc2UgbWV0aG9kcyBhcmUgYmFzZWQgb24gdGhlIGltcGxlbWVudGF0aW9uIHByb3Bvc2VkIGluXG4gKiBcIkFuIE8oTkQpIERpZmZlcmVuY2UgQWxnb3JpdGhtIGFuZCBpdHMgVmFyaWF0aW9uc1wiIChNeWVycywgMTk4NikuXG4gKiBodHRwOi8vY2l0ZXNlZXJ4LmlzdC5wc3UuZWR1L3ZpZXdkb2Mvc3VtbWFyeT9kb2k9MTAuMS4xLjQuNjkyN1xuICovXG5pbXBvcnQgRGlmZiBmcm9tICcuL2RpZmYvYmFzZSc7XG5pbXBvcnQge2RpZmZDaGFyc30gZnJvbSAnLi9kaWZmL2NoYXJhY3Rlcic7XG5pbXBvcnQge2RpZmZXb3JkcywgZGlmZldvcmRzV2l0aFNwYWNlfSBmcm9tICcuL2RpZmYvd29yZCc7XG5pbXBvcnQge2RpZmZMaW5lcywgZGlmZlRyaW1tZWRMaW5lc30gZnJvbSAnLi9kaWZmL2xpbmUnO1xuaW1wb3J0IHtkaWZmU2VudGVuY2VzfSBmcm9tICcuL2RpZmYvc2VudGVuY2UnO1xuXG5pbXBvcnQge2RpZmZDc3N9IGZyb20gJy4vZGlmZi9jc3MnO1xuaW1wb3J0IHtkaWZmSnNvbiwgY2Fub25pY2FsaXplfSBmcm9tICcuL2RpZmYvanNvbic7XG5cbmltcG9ydCB7ZGlmZkFycmF5c30gZnJvbSAnLi9kaWZmL2FycmF5JztcblxuaW1wb3J0IHthcHBseVBhdGNoLCBhcHBseVBhdGNoZXN9IGZyb20gJy4vcGF0Y2gvYXBwbHknO1xuaW1wb3J0IHtwYXJzZVBhdGNofSBmcm9tICcuL3BhdGNoL3BhcnNlJztcbmltcG9ydCB7bWVyZ2V9IGZyb20gJy4vcGF0Y2gvbWVyZ2UnO1xuaW1wb3J0IHtzdHJ1Y3R1cmVkUGF0Y2gsIGNyZWF0ZVR3b0ZpbGVzUGF0Y2gsIGNyZWF0ZVBhdGNofSBmcm9tICcuL3BhdGNoL2NyZWF0ZSc7XG5cbmltcG9ydCB7Y29udmVydENoYW5nZXNUb0RNUH0gZnJvbSAnLi9jb252ZXJ0L2RtcCc7XG5pbXBvcnQge2NvbnZlcnRDaGFuZ2VzVG9YTUx9IGZyb20gJy4vY29udmVydC94bWwnO1xuXG5leHBvcnQge1xuICBEaWZmLFxuXG4gIGRpZmZDaGFycyxcbiAgZGlmZldvcmRzLFxuICBkaWZmV29yZHNXaXRoU3BhY2UsXG4gIGRpZmZMaW5lcyxcbiAgZGlmZlRyaW1tZWRMaW5lcyxcbiAgZGlmZlNlbnRlbmNlcyxcblxuICBkaWZmQ3NzLFxuICBkaWZmSnNvbixcblxuICBkaWZmQXJyYXlzLFxuXG4gIHN0cnVjdHVyZWRQYXRjaCxcbiAgY3JlYXRlVHdvRmlsZXNQYXRjaCxcbiAgY3JlYXRlUGF0Y2gsXG4gIGFwcGx5UGF0Y2gsXG4gIGFwcGx5UGF0Y2hlcyxcbiAgcGFyc2VQYXRjaCxcbiAgbWVyZ2UsXG4gIGNvbnZlcnRDaGFuZ2VzVG9ETVAsXG4gIGNvbnZlcnRDaGFuZ2VzVG9YTUwsXG4gIGNhbm9uaWNhbGl6ZVxufTtcbiJdfQ==\n","/*istanbul ignore start*/\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.applyPatch = applyPatch;\nexports.applyPatches = applyPatches;\n\n/*istanbul ignore end*/\nvar\n/*istanbul ignore start*/\n_parse = require(\"./parse\")\n/*istanbul ignore end*/\n;\n\nvar\n/*istanbul ignore start*/\n_distanceIterator = _interopRequireDefault(require(\"../util/distance-iterator\"))\n/*istanbul ignore end*/\n;\n\n/*istanbul ignore start*/ function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n/*istanbul ignore end*/\nfunction applyPatch(source, uniDiff) {\n  /*istanbul ignore start*/\n  var\n  /*istanbul ignore end*/\n  options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n  if (typeof uniDiff === 'string') {\n    uniDiff =\n    /*istanbul ignore start*/\n    (0,\n    /*istanbul ignore end*/\n\n    /*istanbul ignore start*/\n    _parse\n    /*istanbul ignore end*/\n    .\n    /*istanbul ignore start*/\n    parsePatch)\n    /*istanbul ignore end*/\n    (uniDiff);\n  }\n\n  if (Array.isArray(uniDiff)) {\n    if (uniDiff.length > 1) {\n      throw new Error('applyPatch only works with a single input.');\n    }\n\n    uniDiff = uniDiff[0];\n  } // Apply the diff to the input\n\n\n  var lines = source.split(/\\r\\n|[\\n\\v\\f\\r\\x85]/),\n      delimiters = source.match(/\\r\\n|[\\n\\v\\f\\r\\x85]/g) || [],\n      hunks = uniDiff.hunks,\n      compareLine = options.compareLine || function (lineNumber, line, operation, patchContent)\n  /*istanbul ignore start*/\n  {\n    return (\n      /*istanbul ignore end*/\n      line === patchContent\n    );\n  },\n      errorCount = 0,\n      fuzzFactor = options.fuzzFactor || 0,\n      minLine = 0,\n      offset = 0,\n      removeEOFNL,\n      addEOFNL;\n  /**\n   * Checks if the hunk exactly fits on the provided location\n   */\n\n\n  function hunkFits(hunk, toPos) {\n    for (var j = 0; j < hunk.lines.length; j++) {\n      var line = hunk.lines[j],\n          operation = line.length > 0 ? line[0] : ' ',\n          content = line.length > 0 ? line.substr(1) : line;\n\n      if (operation === ' ' || operation === '-') {\n        // Context sanity check\n        if (!compareLine(toPos + 1, lines[toPos], operation, content)) {\n          errorCount++;\n\n          if (errorCount > fuzzFactor) {\n            return false;\n          }\n        }\n\n        toPos++;\n      }\n    }\n\n    return true;\n  } // Search best fit offsets for each hunk based on the previous ones\n\n\n  for (var i = 0; i < hunks.length; i++) {\n    var hunk = hunks[i],\n        maxLine = lines.length - hunk.oldLines,\n        localOffset = 0,\n        toPos = offset + hunk.oldStart - 1;\n    var iterator =\n    /*istanbul ignore start*/\n    (0,\n    /*istanbul ignore end*/\n\n    /*istanbul ignore start*/\n    _distanceIterator\n    /*istanbul ignore end*/\n    [\n    /*istanbul ignore start*/\n    \"default\"\n    /*istanbul ignore end*/\n    ])(toPos, minLine, maxLine);\n\n    for (; localOffset !== undefined; localOffset = iterator()) {\n      if (hunkFits(hunk, toPos + localOffset)) {\n        hunk.offset = offset += localOffset;\n        break;\n      }\n    }\n\n    if (localOffset === undefined) {\n      return false;\n    } // Set lower text limit to end of the current hunk, so next ones don't try\n    // to fit over already patched text\n\n\n    minLine = hunk.offset + hunk.oldStart + hunk.oldLines;\n  } // Apply patch hunks\n\n\n  var diffOffset = 0;\n\n  for (var _i = 0; _i < hunks.length; _i++) {\n    var _hunk = hunks[_i],\n        _toPos = _hunk.oldStart + _hunk.offset + diffOffset - 1;\n\n    diffOffset += _hunk.newLines - _hunk.oldLines;\n\n    for (var j = 0; j < _hunk.lines.length; j++) {\n      var line = _hunk.lines[j],\n          operation = line.length > 0 ? line[0] : ' ',\n          content = line.length > 0 ? line.substr(1) : line,\n          delimiter = _hunk.linedelimiters[j];\n\n      if (operation === ' ') {\n        _toPos++;\n      } else if (operation === '-') {\n        lines.splice(_toPos, 1);\n        delimiters.splice(_toPos, 1);\n        /* istanbul ignore else */\n      } else if (operation === '+') {\n        lines.splice(_toPos, 0, content);\n        delimiters.splice(_toPos, 0, delimiter);\n        _toPos++;\n      } else if (operation === '\\\\') {\n        var previousOperation = _hunk.lines[j - 1] ? _hunk.lines[j - 1][0] : null;\n\n        if (previousOperation === '+') {\n          removeEOFNL = true;\n        } else if (previousOperation === '-') {\n          addEOFNL = true;\n        }\n      }\n    }\n  } // Handle EOFNL insertion/removal\n\n\n  if (removeEOFNL) {\n    while (!lines[lines.length - 1]) {\n      lines.pop();\n      delimiters.pop();\n    }\n  } else if (addEOFNL) {\n    lines.push('');\n    delimiters.push('\\n');\n  }\n\n  for (var _k = 0; _k < lines.length - 1; _k++) {\n    lines[_k] = lines[_k] + delimiters[_k];\n  }\n\n  return lines.join('');\n} // Wrapper that supports multiple file patches via callbacks.\n\n\nfunction applyPatches(uniDiff, options) {\n  if (typeof uniDiff === 'string') {\n    uniDiff =\n    /*istanbul ignore start*/\n    (0,\n    /*istanbul ignore end*/\n\n    /*istanbul ignore start*/\n    _parse\n    /*istanbul ignore end*/\n    .\n    /*istanbul ignore start*/\n    parsePatch)\n    /*istanbul ignore end*/\n    (uniDiff);\n  }\n\n  var currentIndex = 0;\n\n  function processIndex() {\n    var index = uniDiff[currentIndex++];\n\n    if (!index) {\n      return options.complete();\n    }\n\n    options.loadFile(index, function (err, data) {\n      if (err) {\n        return options.complete(err);\n      }\n\n      var updatedContent = applyPatch(data, index, options);\n      options.patched(index, updatedContent, function (err) {\n        if (err) {\n          return options.complete(err);\n        }\n\n        processIndex();\n      });\n    });\n  }\n\n  processIndex();\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9wYXRjaC9hcHBseS5qcyJdLCJuYW1lcyI6WyJhcHBseVBhdGNoIiwic291cmNlIiwidW5pRGlmZiIsIm9wdGlvbnMiLCJwYXJzZVBhdGNoIiwiQXJyYXkiLCJpc0FycmF5IiwibGVuZ3RoIiwiRXJyb3IiLCJsaW5lcyIsInNwbGl0IiwiZGVsaW1pdGVycyIsIm1hdGNoIiwiaHVua3MiLCJjb21wYXJlTGluZSIsImxpbmVOdW1iZXIiLCJsaW5lIiwib3BlcmF0aW9uIiwicGF0Y2hDb250ZW50IiwiZXJyb3JDb3VudCIsImZ1enpGYWN0b3IiLCJtaW5MaW5lIiwib2Zmc2V0IiwicmVtb3ZlRU9GTkwiLCJhZGRFT0ZOTCIsImh1bmtGaXRzIiwiaHVuayIsInRvUG9zIiwiaiIsImNvbnRlbnQiLCJzdWJzdHIiLCJpIiwibWF4TGluZSIsIm9sZExpbmVzIiwibG9jYWxPZmZzZXQiLCJvbGRTdGFydCIsIml0ZXJhdG9yIiwiZGlzdGFuY2VJdGVyYXRvciIsInVuZGVmaW5lZCIsImRpZmZPZmZzZXQiLCJuZXdMaW5lcyIsImRlbGltaXRlciIsImxpbmVkZWxpbWl0ZXJzIiwic3BsaWNlIiwicHJldmlvdXNPcGVyYXRpb24iLCJwb3AiLCJwdXNoIiwiX2siLCJqb2luIiwiYXBwbHlQYXRjaGVzIiwiY3VycmVudEluZGV4IiwicHJvY2Vzc0luZGV4IiwiaW5kZXgiLCJjb21wbGV0ZSIsImxvYWRGaWxlIiwiZXJyIiwiZGF0YSIsInVwZGF0ZWRDb250ZW50IiwicGF0Y2hlZCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTs7Ozs7QUFFTyxTQUFTQSxVQUFULENBQW9CQyxNQUFwQixFQUE0QkMsT0FBNUIsRUFBbUQ7QUFBQTtBQUFBO0FBQUE7QUFBZEMsRUFBQUEsT0FBYyx1RUFBSixFQUFJOztBQUN4RCxNQUFJLE9BQU9ELE9BQVAsS0FBbUIsUUFBdkIsRUFBaUM7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QUNEOztBQUVELE1BQUlnRCxZQUFZLEdBQUcsQ0FBbkI7O0FBQ0EsV0FBU0MsWUFBVCxHQUF3QjtBQUN0QixRQUFJQyxLQUFLLEdBQUdsRCxPQUFPLENBQUNnRCxZQUFZLEVBQWIsQ0FBbkI7O0FBQ0EsUUFBSSxDQUFDRSxLQUFMLEVBQVk7QUFDVixhQUFPakQsT0FBTyxDQUFDa0QsUUFBUixFQUFQO0FBQ0Q7O0FBRURsRCxJQUFBQSxPQUFPLENBQUNtRCxRQUFSLENBQWlCRixLQUFqQixFQUF3QixVQUFTRyxHQUFULEVBQWNDLElBQWQsRUFBb0I7QUFDMUMsVUFBSUQsR0FBSixFQUFTO0FBQ1AsZUFBT3BELE9BQU8sQ0FBQ2tELFFBQVIsQ0FBaUJFLEdBQWpCLENBQVA7QUFDRDs7QUFFRCxVQUFJRSxjQUFjLEdBQUd6RCxVQUFVLENBQUN3RCxJQUFELEVBQU9KLEtBQVAsRUFBY2pELE9BQWQsQ0FBL0I7QUFDQUEsTUFBQUEsT0FBTyxDQUFDdUQsT0FBUixDQUFnQk4sS0FBaEIsRUFBdUJLLGNBQXZCLEVBQXVDLFVBQVNGLEdBQVQsRUFBYztBQUNuRCxZQUFJQSxHQUFKLEVBQVM7QUFDUCxpQkFBT3BELE9BQU8sQ0FBQ2tELFFBQVIsQ0FBaUJFLEdBQWpCLENBQVA7QUFDRDs7QUFFREosUUFBQUEsWUFBWTtBQUNiLE9BTkQ7QUFPRCxLQWJEO0FBY0Q7O0FBQ0RBLEVBQUFBLFlBQVk7QUFDYiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7cGFyc2VQYXRjaH0gZnJvbSAnLi9wYXJzZSc7XG5pbXBvcnQgZGlzdGFuY2VJdGVyYXRvciBmcm9tICcuLi91dGlsL2Rpc3RhbmNlLWl0ZXJhdG9yJztcblxuZXhwb3J0IGZ1bmN0aW9uIGFwcGx5UGF0Y2goc291cmNlLCB1bmlEaWZmLCBvcHRpb25zID0ge30pIHtcbiAgaWYgKHR5cGVvZiB1bmlEaWZmID09PSAnc3RyaW5nJykge1xuICAgIHVuaURpZmYgPSBwYXJzZVBhdGNoKHVuaURpZmYpO1xuICB9XG5cbiAgaWYgKEFycmF5LmlzQXJyYXkodW5pRGlmZikpIHtcbiAgICBpZiAodW5pRGlmZi5sZW5ndGggPiAxKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2FwcGx5UGF0Y2ggb25seSB3b3JrcyB3aXRoIGEgc2luZ2xlIGlucHV0LicpO1xuICAgIH1cblxuICAgIHVuaURpZmYgPSB1bmlEaWZmWzBdO1xuICB9XG5cbiAgLy8gQXBwbHkgdGhlIGRpZmYgdG8gdGhlIGlucHV0XG4gIGxldCBsaW5lcyA9IHNvdXJjZS5zcGxpdCgvXFxyXFxufFtcXG5cXHZcXGZcXHJcXHg4NV0vKSxcbiAgICAgIGRlbGltaXRlcnMgPSBzb3VyY2UubWF0Y2goL1xcclxcbnxbXFxuXFx2XFxmXFxyXFx4ODVdL2cpIHx8IFtdLFxuICAgICAgaHVua3MgPSB1bmlEaWZmLmh1bmtzLFxuXG4gICAgICBjb21wYXJlTGluZSA9IG9wdGlvbnMuY29tcGFyZUxpbmUgfHwgKChsaW5lTnVtYmVyLCBsaW5lLCBvcGVyYXRpb24sIHBhdGNoQ29udGVudCkgPT4gbGluZSA9PT0gcGF0Y2hDb250ZW50KSxcbiAgICAgIGVycm9yQ291bnQgPSAwLFxuICAgICAgZnV6ekZhY3RvciA9IG9wdGlvbnMuZnV6ekZhY3RvciB8fCAwLFxuICAgICAgbWluTGluZSA9IDAsXG4gICAgICBvZmZzZXQgPSAwLFxuXG4gICAgICByZW1vdmVFT0ZOTCxcbiAgICAgIGFkZEVPRk5MO1xuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgdGhlIGh1bmsgZXhhY3RseSBmaXRzIG9uIHRoZSBwcm92aWRlZCBsb2NhdGlvblxuICAgKi9cbiAgZnVuY3Rpb24gaHVua0ZpdHMoaHVuaywgdG9Qb3MpIHtcbiAgICBmb3IgKGxldCBqID0gMDsgaiA8IGh1bmsubGluZXMubGVuZ3RoOyBqKyspIHtcbiAgICAgIGxldCBsaW5lID0gaHVuay5saW5lc1tqXSxcbiAgICAgICAgICBvcGVyYXRpb24gPSAobGluZS5sZW5ndGggPiAwID8gbGluZVswXSA6ICcgJyksXG4gICAgICAgICAgY29udGVudCA9IChsaW5lLmxlbmd0aCA+IDAgPyBsaW5lLnN1YnN0cigxKSA6IGxpbmUpO1xuXG4gICAgICBpZiAob3BlcmF0aW9uID09PSAnICcgfHwgb3BlcmF0aW9uID09PSAnLScpIHtcbiAgICAgICAgLy8gQ29udGV4dCBzYW5pdHkgY2hlY2tcbiAgICAgICAgaWYgKCFjb21wYXJlTGluZSh0b1BvcyArIDEsIGxpbmVzW3RvUG9zXSwgb3BlcmF0aW9uLCBjb250ZW50KSkge1xuICAgICAgICAgIGVycm9yQ291bnQrKztcblxuICAgICAgICAgIGlmIChlcnJvckNvdW50ID4gZnV6ekZhY3Rvcikge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0b1BvcysrO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLy8gU2VhcmNoIGJlc3QgZml0IG9mZnNldHMgZm9yIGVhY2ggaHVuayBiYXNlZCBvbiB0aGUgcHJldmlvdXMgb25lc1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGh1bmtzLmxlbmd0aDsgaSsrKSB7XG4gICAgbGV0IGh1bmsgPSBodW5rc1tpXSxcbiAgICAgICAgbWF4TGluZSA9IGxpbmVzLmxlbmd0aCAtIGh1bmsub2xkTGluZXMsXG4gICAgICAgIGxvY2FsT2Zmc2V0ID0gMCxcbiAgICAgICAgdG9Qb3MgPSBvZmZzZXQgKyBodW5rLm9sZFN0YXJ0IC0gMTtcblxuICAgIGxldCBpdGVyYXRvciA9IGRpc3RhbmNlSXRlcmF0b3IodG9Qb3MsIG1pbkxpbmUsIG1heExpbmUpO1xuXG4gICAgZm9yICg7IGxvY2FsT2Zmc2V0ICE9PSB1bmRlZmluZWQ7IGxvY2FsT2Zmc2V0ID0gaXRlcmF0b3IoKSkge1xuICAgICAgaWYgKGh1bmtGaXRzKGh1bmssIHRvUG9zICsgbG9jYWxPZmZzZXQpKSB7XG4gICAgICAgIGh1bmsub2Zmc2V0ID0gb2Zmc2V0ICs9IGxvY2FsT2Zmc2V0O1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAobG9jYWxPZmZzZXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8vIFNldCBsb3dlciB0ZXh0IGxpbWl0IHRvIGVuZCBvZiB0aGUgY3VycmVudCBodW5rLCBzbyBuZXh0IG9uZXMgZG9uJ3QgdHJ5XG4gICAgLy8gdG8gZml0IG92ZXIgYWxyZWFkeSBwYXRjaGVkIHRleHRcbiAgICBtaW5MaW5lID0gaHVuay5vZmZzZXQgKyBodW5rLm9sZFN0YXJ0ICsgaHVuay5vbGRMaW5lcztcbiAgfVxuXG4gIC8vIEFwcGx5IHBhdGNoIGh1bmtzXG4gIGxldCBkaWZmT2Zmc2V0ID0gMDtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBodW5rcy5sZW5ndGg7IGkrKykge1xuICAgIGxldCBodW5rID0gaHVua3NbaV0sXG4gICAgICAgIHRvUG9zID0gaHVuay5vbGRTdGFydCArIGh1bmsub2Zmc2V0ICsgZGlmZk9mZnNldCAtIDE7XG4gICAgZGlmZk9mZnNldCArPSBodW5rLm5ld0xpbmVzIC0gaHVuay5vbGRMaW5lcztcblxuICAgIGZvciAobGV0IGogPSAwOyBqIDwgaHVuay5saW5lcy5sZW5ndGg7IGorKykge1xuICAgICAgbGV0IGxpbmUgPSBodW5rLmxpbmVzW2pdLFxuICAgICAgICAgIG9wZXJhdGlvbiA9IChsaW5lLmxlbmd0aCA+IDAgPyBsaW5lWzBdIDogJyAnKSxcbiAgICAgICAgICBjb250ZW50ID0gKGxpbmUubGVuZ3RoID4gMCA/IGxpbmUuc3Vic3RyKDEpIDogbGluZSksXG4gICAgICAgICAgZGVsaW1pdGVyID0gaHVuay5saW5lZGVsaW1pdGVyc1tqXTtcblxuICAgICAgaWYgKG9wZXJhdGlvbiA9PT0gJyAnKSB7XG4gICAgICAgIHRvUG9zKys7XG4gICAgICB9IGVsc2UgaWYgKG9wZXJhdGlvbiA9PT0gJy0nKSB7XG4gICAgICAgIGxpbmVzLnNwbGljZSh0b1BvcywgMSk7XG4gICAgICAgIGRlbGltaXRlcnMuc3BsaWNlKHRvUG9zLCAxKTtcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgICB9IGVsc2UgaWYgKG9wZXJhdGlvbiA9PT0gJysnKSB7XG4gICAgICAgIGxpbmVzLnNwbGljZSh0b1BvcywgMCwgY29udGVudCk7XG4gICAgICAgIGRlbGltaXRlcnMuc3BsaWNlKHRvUG9zLCAwLCBkZWxpbWl0ZXIpO1xuICAgICAgICB0b1BvcysrO1xuICAgICAgfSBlbHNlIGlmIChvcGVyYXRpb24gPT09ICdcXFxcJykge1xuICAgICAgICBsZXQgcHJldmlvdXNPcGVyYXRpb24gPSBodW5rLmxpbmVzW2ogLSAxXSA/IGh1bmsubGluZXNbaiAtIDFdWzBdIDogbnVsbDtcbiAgICAgICAgaWYgKHByZXZpb3VzT3BlcmF0aW9uID09PSAnKycpIHtcbiAgICAgICAgICByZW1vdmVFT0ZOTCA9IHRydWU7XG4gICAgICAgIH0gZWxzZSBpZiAocHJldmlvdXNPcGVyYXRpb24gPT09ICctJykge1xuICAgICAgICAgIGFkZEVPRk5MID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIEhhbmRsZSBFT0ZOTCBpbnNlcnRpb24vcmVtb3ZhbFxuICBpZiAocmVtb3ZlRU9GTkwpIHtcbiAgICB3aGlsZSAoIWxpbmVzW2xpbmVzLmxlbmd0aCAtIDFdKSB7XG4gICAgICBsaW5lcy5wb3AoKTtcbiAgICAgIGRlbGltaXRlcnMucG9wKCk7XG4gICAgfVxuICB9IGVsc2UgaWYgKGFkZEVPRk5MKSB7XG4gICAgbGluZXMucHVzaCgnJyk7XG4gICAgZGVsaW1pdGVycy5wdXNoKCdcXG4nKTtcbiAgfVxuICBmb3IgKGxldCBfayA9IDA7IF9rIDwgbGluZXMubGVuZ3RoIC0gMTsgX2srKykge1xuICAgIGxpbmVzW19rXSA9IGxpbmVzW19rXSArIGRlbGltaXRlcnNbX2tdO1xuICB9XG4gIHJldHVybiBsaW5lcy5qb2luKCcnKTtcbn1cblxuLy8gV3JhcHBlciB0aGF0IHN1cHBvcnRzIG11bHRpcGxlIGZpbGUgcGF0Y2hlcyB2aWEgY2FsbGJhY2tzLlxuZXhwb3J0IGZ1bmN0aW9uIGFwcGx5UGF0Y2hlcyh1bmlEaWZmLCBvcHRpb25zKSB7XG4gIGlmICh0eXBlb2YgdW5pRGlmZiA9PT0gJ3N0cmluZycpIHtcbiAgICB1bmlEaWZmID0gcGFyc2VQYXRjaCh1bmlEaWZmKTtcbiAgfVxuXG4gIGxldCBjdXJyZW50SW5kZXggPSAwO1xuICBmdW5jdGlvbiBwcm9jZXNzSW5kZXgoKSB7XG4gICAgbGV0IGluZGV4ID0gdW5pRGlmZltjdXJyZW50SW5kZXgrK107XG4gICAgaWYgKCFpbmRleCkge1xuICAgICAgcmV0dXJuIG9wdGlvbnMuY29tcGxldGUoKTtcbiAgICB9XG5cbiAgICBvcHRpb25zLmxvYWRGaWxlKGluZGV4LCBmdW5jdGlvbihlcnIsIGRhdGEpIHtcbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgcmV0dXJuIG9wdGlvbnMuY29tcGxldGUoZXJyKTtcbiAgICAgIH1cblxuICAgICAgbGV0IHVwZGF0ZWRDb250ZW50ID0gYXBwbHlQYXRjaChkYXRhLCBpbmRleCwgb3B0aW9ucyk7XG4gICAgICBvcHRpb25zLnBhdGNoZWQoaW5kZXgsIHVwZGF0ZWRDb250ZW50LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgIHJldHVybiBvcHRpb25zLmNvbXBsZXRlKGVycik7XG4gICAgICAgIH1cblxuICAgICAgICBwcm9jZXNzSW5kZXgoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG4gIHByb2Nlc3NJbmRleCgpO1xufVxuIl19\n","/*istanbul ignore start*/\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.structuredPatch = structuredPatch;\nexports.formatPatch = formatPatch;\nexports.createTwoFilesPatch = createTwoFilesPatch;\nexports.createPatch = createPatch;\n\n/*istanbul ignore end*/\nvar\n/*istanbul ignore start*/\n_line = require(\"../diff/line\")\n/*istanbul ignore end*/\n;\n\n/*istanbul ignore start*/ function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n/*istanbul ignore end*/\nfunction structuredPatch(oldFileName, newFileName, oldStr, newStr, oldHeader, newHeader, options) {\n  if (!options) {\n    options = {};\n  }\n\n  if (typeof options.context === 'undefined') {\n    options.context = 4;\n  }\n\n  var diff =\n  /*istanbul ignore start*/\n  (0,\n  /*istanbul ignore end*/\n\n  /*istanbul ignore start*/\n  _line\n  /*istanbul ignore end*/\n  .\n  /*istanbul ignore start*/\n  diffLines)\n  /*istanbul ignore end*/\n  (oldStr, newStr, options);\n  diff.push({\n    value: '',\n    lines: []\n  }); // Append an empty value to make cleanup easier\n\n  function contextLines(lines) {\n    return lines.map(function (entry) {\n      return ' ' + entry;\n    });\n  }\n\n  var hunks = [];\n  var oldRangeStart = 0,\n      newRangeStart = 0,\n      curRange = [],\n      oldLine = 1,\n      newLine = 1;\n\n  /*istanbul ignore start*/\n  var _loop = function _loop(\n  /*istanbul ignore end*/\n  i) {\n    var current = diff[i],\n        lines = current.lines || current.value.replace(/\\n$/, '').split('\\n');\n    current.lines = lines;\n\n    if (current.added || current.removed) {\n      /*istanbul ignore start*/\n      var _curRange;\n\n      /*istanbul ignore end*/\n      // If we have previous context, start with that\n      if (!oldRangeStart) {\n        var prev = diff[i - 1];\n        oldRangeStart = oldLine;\n        newRangeStart = newLine;\n\n        if (prev) {\n          curRange = options.context > 0 ? contextLines(prev.lines.slice(-options.context)) : [];\n          oldRangeStart -= curRange.length;\n          newRangeStart -= curRange.length;\n        }\n      } // Output our changes\n\n\n      /*istanbul ignore start*/\n\n      /*istanbul ignore end*/\n\n      /*istanbul ignore start*/\n      (_curRange =\n      /*istanbul ignore end*/\n      curRange).push.apply(\n      /*istanbul ignore start*/\n      _curRange\n      /*istanbul ignore end*/\n      ,\n      /*istanbul ignore start*/\n      _toConsumableArray(\n      /*istanbul ignore end*/\n      lines.map(function (entry) {\n        return (current.added ? '+' : '-') + entry;\n      }))); // Track the updated file position\n\n\n      if (current.added) {\n        newLine += lines.length;\n      } else {\n        oldLine += lines.length;\n      }\n    } else {\n      // Identical context lines. Track line changes\n      if (oldRangeStart) {\n        // Close out any changes that have been output (or join overlapping)\n        if (lines.length <= options.context * 2 && i < diff.length - 2) {\n          /*istanbul ignore start*/\n          var _curRange2;\n\n          /*istanbul ignore end*/\n          // Overlapping\n\n          /*istanbul ignore start*/\n\n          /*istanbul ignore end*/\n\n          /*istanbul ignore start*/\n          (_curRange2 =\n          /*istanbul ignore end*/\n          curRange).push.apply(\n          /*istanbul ignore start*/\n          _curRange2\n          /*istanbul ignore end*/\n          ,\n          /*istanbul ignore start*/\n          _toConsumableArray(\n          /*istanbul ignore end*/\n          contextLines(lines)));\n        } else {\n          /*istanbul ignore start*/\n          var _curRange3;\n\n          /*istanbul ignore end*/\n          // end the range and output\n          var contextSize = Math.min(lines.length, options.context);\n\n          /*istanbul ignore start*/\n\n          /*istanbul ignore end*/\n\n          /*istanbul ignore start*/\n          (_curRange3 =\n          /*istanbul ignore end*/\n          curRange).push.apply(\n          /*istanbul ignore start*/\n          _curRange3\n          /*istanbul ignore end*/\n          ,\n          /*istanbul ignore start*/\n          _toConsumableArray(\n          /*istanbul ignore end*/\n          contextLines(lines.slice(0, contextSize))));\n\n          var hunk = {\n            oldStart: oldRangeStart,\n            oldLines: oldLine - oldRangeStart + contextSize,\n            newStart: newRangeStart,\n            newLines: newLine - newRangeStart + contextSize,\n            lines: curRange\n          };\n\n          if (i >= diff.length - 2 && lines.length <= options.context) {\n            // EOF is inside this hunk\n            var oldEOFNewline = /\\n$/.test(oldStr);\n            var newEOFNewline = /\\n$/.test(newStr);\n            var noNlBeforeAdds = lines.length == 0 && curRange.length > hunk.oldLines;\n\n            if (!oldEOFNewline && noNlBeforeAdds && oldStr.length > 0) {\n              // special case: old has no eol and no trailing context; no-nl can end up before adds\n              // however, if the old file is empty, do not output the no-nl line\n              curRange.splice(hunk.oldLines, 0, '\\\\ No newline at end of file');\n            }\n\n            if (!oldEOFNewline && !noNlBeforeAdds || !newEOFNewline) {\n              curRange.push('\\\\ No newline at end of file');\n            }\n          }\n\n          hunks.push(hunk);\n          oldRangeStart = 0;\n          newRangeStart = 0;\n          curRange = [];\n        }\n      }\n\n      oldLine += lines.length;\n      newLine += lines.length;\n    }\n  };\n\n  for (var i = 0; i < diff.length; i++) {\n    /*istanbul ignore start*/\n    _loop(\n    /*istanbul ignore end*/\n    i);\n  }\n\n  return {\n    oldFileName: oldFileName,\n    newFileName: newFileName,\n    oldHeader: oldHeader,\n    newHeader: newHeader,\n    hunks: hunks\n  };\n}\n\nfunction formatPatch(diff) {\n  var ret = [];\n\n  if (diff.oldFileName == diff.newFileName) {\n    ret.push('Index: ' + diff.oldFileName);\n  }\n\n  ret.push('===================================================================');\n  ret.push('--- ' + diff.oldFileName + (typeof diff.oldHeader === 'undefined' ? '' : '\\t' + diff.oldHeader));\n  ret.push('+++ ' + diff.newFileName + (typeof diff.newHeader === 'undefined' ? '' : '\\t' + diff.newHeader));\n\n  for (var i = 0; i < diff.hunks.length; i++) {\n    var hunk = diff.hunks[i]; // Unified Diff Format quirk: If the chunk size is 0,\n    // the first number is one lower than one would expect.\n    // https://www.artima.com/weblogs/viewpost.jsp?thread=164293\n\n    if (hunk.oldLines === 0) {\n      hunk.oldStart -= 1;\n    }\n\n    if (hunk.newLines === 0) {\n      hunk.newStart -= 1;\n    }\n\n    ret.push('@@ -' + hunk.oldStart + ',' + hunk.oldLines + ' +' + hunk.newStart + ',' + hunk.newLines + ' @@');\n    ret.push.apply(ret, hunk.lines);\n  }\n\n  return ret.join('\\n') + '\\n';\n}\n\nfunction createTwoFilesPatch(oldFileName, newFileName, oldStr, newStr, oldHeader, newHeader, options) {\n  return formatPatch(structuredPatch(oldFileName, newFileName, oldStr, newStr, oldHeader, newHeader, options));\n}\n\nfunction createPatch(fileName, oldStr, newStr, oldHeader, newHeader, options) {\n  return createTwoFilesPatch(fileName, fileName, oldStr, newStr, oldHeader, newHeader, options);\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9wYXRjaC9jcmVhdGUuanMiXSwibmFtZXMiOlsic3RydWN0dXJlZFBhdGNoIiwib2xkRmlsZU5hbWUiLCJuZXdGaWxlTmFtZSIsIm9sZFN0ciIsIm5ld1N0ciIsIm9sZEhlYWRlciIsIm5ld0hlYWRlciIsIm9wdGlvbnMiLCJjb250ZXh0IiwiZGlmZiIsImRpZmZMaW5lcyIsInB1c2giLCJ2YWx1ZSIsImxpbmVzIiwiY29udGV4dExpbmVzIiwibWFwIiwiZW50cnkiLCJodW5rcyIsIm9sZFJhbmdlU3RhcnQiLCJuZXdSYW5nZVN0YXJ0IiwiY3VyUmFuZ2UiLCJvbGRMaW5lIiwibmV3TGluZSIsImkiLCJjdXJyZW50IiwicmVwbGFjZSIsInNwbGl0IiwiYWRkZWQiLCJyZW1vdmVkIiwicHJldiIsInNsaWNlIiwibGVuZ3RoIiwiY29udGV4dFNpemUiLCJNYXRoIiwibWluIiwiaHVuayIsIm9sZFN0YXJ0Iiwib2xkTGluZXMiLCJuZXdTdGFydCIsIm5ld0xpbmVzIiwib2xkRU9GTmV3bGluZSIsInRlc3QiLCJuZXdFT0ZOZXdsaW5lIiwibm9ObEJlZm9yZUFkZHMiLCJzcGxpY2UiLCJmb3JtYXRQYXRjaCIsInJldCIsImFwcGx5Iiwiam9pbiIsImNyZWF0ZVR3b0ZpbGVzUGF0Y2giLCJjcmVhdGVQYXRjaCIsImZpbGVOYW1lIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOzs7Ozs7Ozs7Ozs7Ozs7QUFFTyxTQUFTQSxlQUFULENBQXlCQyxXQUF6QixFQUFzQ0MsV0FBdEMsRUFBbURDLE1BQW5ELEVBQTJEQyxNQUEzRCxFQUFtRUMsU0FBbkUsRUFBOEVDLFNBQTlFLEVBQXlGQyxPQUF6RixFQUFrRztBQUN2RyxNQUFJLENBQUNBLE9BQUwsRUFBYztBQUNaQSxJQUFBQSxPQUFPLEdBQUcsRUFBVjtBQUNEOztBQUNELE1BQUksT0FBT0EsT0FBTyxDQUFDQyxPQUFmLEtBQTJCLFdBQS9CLEVBQTRDO0FB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eHBvcnQgZnVuY3Rpb24gc3RydWN0dXJlZFBhdGNoKG9sZEZpbGVOYW1lLCBuZXdGaWxlTmFtZSwgb2xkU3RyLCBuZXdTdHIsIG9sZEhlYWRlciwgbmV3SGVhZGVyLCBvcHRpb25zKSB7XG4gIGlmICghb3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSB7fTtcbiAgfVxuICBpZiAodHlwZW9mIG9wdGlvbnMuY29udGV4dCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBvcHRpb25zLmNvbnRleHQgPSA0O1xuICB9XG5cbiAgY29uc3QgZGlmZiA9IGRpZmZMaW5lcyhvbGRTdHIsIG5ld1N0ciwgb3B0aW9ucyk7XG4gIGRpZmYucHVzaCh7dmFsdWU6ICcnLCBsaW5lczogW119KTsgLy8gQXBwZW5kIGFuIGVtcHR5IHZhbHVlIHRvIG1ha2UgY2xlYW51cCBlYXNpZXJcblxuICBmdW5jdGlvbiBjb250ZXh0TGluZXMobGluZXMpIHtcbiAgICByZXR1cm4gbGluZXMubWFwKGZ1bmN0aW9uKGVudHJ5KSB7IHJldHVybiAnICcgKyBlbnRyeTsgfSk7XG4gIH1cblxuICBsZXQgaHVua3MgPSBbXTtcbiAgbGV0IG9sZFJhbmdlU3RhcnQgPSAwLCBuZXdSYW5nZVN0YXJ0ID0gMCwgY3VyUmFuZ2UgPSBbXSxcbiAgICAgIG9sZExpbmUgPSAxLCBuZXdMaW5lID0gMTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBkaWZmLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgY3VycmVudCA9IGRpZmZbaV0sXG4gICAgICAgICAgbGluZXMgPSBjdXJyZW50LmxpbmVzIHx8IGN1cnJlbnQudmFsdWUucmVwbGFjZSgvXFxuJC8sICcnKS5zcGxpdCgnXFxuJyk7XG4gICAgY3VycmVudC5saW5lcyA9IGxpbmVzO1xuXG4gICAgaWYgKGN1cnJlbnQuYWRkZWQgfHwgY3VycmVudC5yZW1vdmVkKSB7XG4gICAgICAvLyBJZiB3ZSBoYXZlIHByZXZpb3VzIGNvbnRleHQsIHN0YXJ0IHdpdGggdGhhdFxuICAgICAgaWYgKCFvbGRSYW5nZVN0YXJ0KSB7XG4gICAgICAgIGNvbnN0IHByZXYgPSBkaWZmW2kgLSAxXTtcbiAgICAgICAgb2xkUmFuZ2VTdGFydCA9IG9sZExpbmU7XG4gICAgICAgIG5ld1JhbmdlU3RhcnQgPSBuZXdMaW5lO1xuXG4gICAgICAgIGlmIChwcmV2KSB7XG4gICAgICAgICAgY3VyUmFuZ2UgPSBvcHRpb25zLmNvbnRleHQgPiAwID8gY29udGV4dExpbmVzKHByZXYubGluZXMuc2xpY2UoLW9wdGlvbnMuY29udGV4dCkpIDogW107XG4gICAgICAgICAgb2xkUmFuZ2VTdGFydCAtPSBjdXJSYW5nZS5sZW5ndGg7XG4gICAgICAgICAgbmV3UmFuZ2VTdGFydCAtPSBjdXJSYW5nZS5sZW5ndGg7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gT3V0cHV0IG91ciBjaGFuZ2VzXG4gICAgICBjdXJSYW5nZS5wdXNoKC4uLiBsaW5lcy5tYXAoZnVuY3Rpb24oZW50cnkpIHtcbiAgICAgICAgcmV0dXJuIChjdXJyZW50LmFkZGVkID8gJysnIDogJy0nKSArIGVudHJ5O1xuICAgICAgfSkpO1xuXG4gICAgICAvLyBUcmFjayB0aGUgdXBkYXRlZCBmaWxlIHBvc2l0aW9uXG4gICAgICBpZiAoY3VycmVudC5hZGRlZCkge1xuICAgICAgICBuZXdMaW5lICs9IGxpbmVzLmxlbmd0aDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG9sZExpbmUgKz0gbGluZXMubGVuZ3RoO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBJZGVudGljYWwgY29udGV4dCBsaW5lcy4gVHJhY2sgbGluZSBjaGFuZ2VzXG4gICAgICBpZiAob2xkUmFuZ2VTdGFydCkge1xuICAgICAgICAvLyBDbG9zZSBvdXQgYW55IGNoYW5nZXMgdGhhdCBoYXZlIGJlZW4gb3V0cHV0IChvciBqb2luIG92ZXJsYXBwaW5nKVxuICAgICAgICBpZiAobGluZXMubGVuZ3RoIDw9IG9wdGlvbnMuY29udGV4dCAqIDIgJiYgaSA8IGRpZmYubGVuZ3RoIC0gMikge1xuICAgICAgICAgIC8vIE92ZXJsYXBwaW5nXG4gICAgICAgICAgY3VyUmFuZ2UucHVzaCguLi4gY29udGV4dExpbmVzKGxpbmVzKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gZW5kIHRoZSByYW5nZSBhbmQgb3V0cHV0XG4gICAgICAgICAgbGV0IGNvbnRleHRTaXplID0gTWF0aC5taW4obGluZXMubGVuZ3RoLCBvcHRpb25zLmNvbnRleHQpO1xuICAgICAgICAgIGN1clJhbmdlLnB1c2goLi4uIGNvbnRleHRMaW5lcyhsaW5lcy5zbGljZSgwLCBjb250ZXh0U2l6ZSkpKTtcblxuICAgICAgICAgIGxldCBodW5rID0ge1xuICAgICAgICAgICAgb2xkU3RhcnQ6IG9sZFJhbmdlU3RhcnQsXG4gICAgICAgICAgICBvbGRMaW5lczogKG9sZExpbmUgLSBvbGRSYW5nZVN0YXJ0ICsgY29udGV4dFNpemUpLFxuICAgICAgICAgICAgbmV3U3RhcnQ6IG5ld1JhbmdlU3RhcnQsXG4gICAgICAgICAgICBuZXdMaW5lczogKG5ld0xpbmUgLSBuZXdSYW5nZVN0YXJ0ICsgY29udGV4dFNpemUpLFxuICAgICAgICAgICAgbGluZXM6IGN1clJhbmdlXG4gICAgICAgICAgfTtcbiAgICAgICAgICBpZiAoaSA+PSBkaWZmLmxlbmd0aCAtIDIgJiYgbGluZXMubGVuZ3RoIDw9IG9wdGlvbnMuY29udGV4dCkge1xuICAgICAgICAgICAgLy8gRU9GIGlzIGluc2lkZSB0aGlzIGh1bmtcbiAgICAgICAgICAgIGxldCBvbGRFT0ZOZXdsaW5lID0gKCgvXFxuJC8pLnRlc3Qob2xkU3RyKSk7XG4gICAgICAgICAgICBsZXQgbmV3RU9GTmV3bGluZSA9ICgoL1xcbiQvKS50ZXN0KG5ld1N0cikpO1xuICAgICAgICAgICAgbGV0IG5vTmxCZWZvcmVBZGRzID0gbGluZXMubGVuZ3RoID09IDAgJiYgY3VyUmFuZ2UubGVuZ3RoID4gaHVuay5vbGRMaW5lcztcbiAgICAgICAgICAgIGlmICghb2xkRU9GTmV3bGluZSAmJiBub05sQmVmb3JlQWRkcyAmJiBvbGRTdHIubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAvLyBzcGVjaWFsIGNhc2U6IG9sZCBoYXMgbm8gZW9sIGFuZCBubyB0cmFpbGluZyBjb250ZXh0OyBuby1ubCBjYW4gZW5kIHVwIGJlZm9yZSBhZGRzXG4gICAgICAgICAgICAgIC8vIGhvd2V2ZXIsIGlmIHRoZSBvbGQgZmlsZSBpcyBlbXB0eSwgZG8gbm90IG91dHB1dCB0aGUgbm8tbmwgbGluZVxuICAgICAgICAgICAgICBjdXJSYW5nZS5zcGxpY2UoaHVuay5vbGRMaW5lcywgMCwgJ1xcXFwgTm8gbmV3bGluZSBhdCBlbmQgb2YgZmlsZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCghb2xkRU9GTmV3bGluZSAmJiAhbm9ObEJlZm9yZUFkZHMpIHx8ICFuZXdFT0ZOZXdsaW5lKSB7XG4gICAgICAgICAgICAgIGN1clJhbmdlLnB1c2goJ1xcXFwgTm8gbmV3bGluZSBhdCBlbmQgb2YgZmlsZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBodW5rcy5wdXNoKGh1bmspO1xuXG4gICAgICAgICAgb2xkUmFuZ2VTdGFydCA9IDA7XG4gICAgICAgICAgbmV3UmFuZ2VTdGFydCA9IDA7XG4gICAgICAgICAgY3VyUmFuZ2UgPSBbXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgb2xkTGluZSArPSBsaW5lcy5sZW5ndGg7XG4gICAgICBuZXdMaW5lICs9IGxpbmVzLmxlbmd0aDtcbiAgICB9XG4gIH1cblxuICByZXR1cm4ge1xuICAgIG9sZEZpbGVOYW1lOiBvbGRGaWxlTmFtZSwgbmV3RmlsZU5hbWU6IG5ld0ZpbGVOYW1lLFxuICAgIG9sZEhlYWRlcjogb2xkSGVhZGVyLCBuZXdIZWFkZXI6IG5ld0hlYWRlcixcbiAgICBodW5rczogaHVua3NcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZvcm1hdFBhdGNoKGRpZmYpIHtcbiAgY29uc3QgcmV0ID0gW107XG4gIGlmIChkaWZmLm9sZEZpbGVOYW1lID09IGRpZmYubmV3RmlsZU5hbWUpIHtcbiAgICByZXQucHVzaCgnSW5kZXg6ICcgKyBkaWZmLm9sZEZpbGVOYW1lKTtcbiAgfVxuICByZXQucHVzaCgnPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PScpO1xuICByZXQucHVzaCgnLS0tICcgKyBkaWZmLm9sZEZpbGVOYW1lICsgKHR5cGVvZiBkaWZmLm9sZEhlYWRlciA9PT0gJ3VuZGVmaW5lZCcgPyAnJyA6ICdcXHQnICsgZGlmZi5vbGRIZWFkZXIpKTtcbiAgcmV0LnB1c2goJysrKyAnICsgZGlmZi5uZXdGaWxlTmFtZSArICh0eXBlb2YgZGlmZi5uZXdIZWFkZXIgPT09ICd1bmRlZmluZWQnID8gJycgOiAnXFx0JyArIGRpZmYubmV3SGVhZGVyKSk7XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBkaWZmLmh1bmtzLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgaHVuayA9IGRpZmYuaHVua3NbaV07XG4gICAgLy8gVW5pZmllZCBEaWZmIEZvcm1hdCBxdWlyazogSWYgdGhlIGNodW5rIHNpemUgaXMgMCxcbiAgICAvLyB0aGUgZmlyc3QgbnVtYmVyIGlzIG9uZSBsb3dlciB0aGFuIG9uZSB3b3VsZCBleHBlY3QuXG4gICAgLy8gaHR0cHM6Ly93d3cuYXJ0aW1hLmNvbS93ZWJsb2dzL3ZpZXdwb3N0LmpzcD90aHJlYWQ9MTY0MjkzXG4gICAgaWYgKGh1bmsub2xkTGluZXMgPT09IDApIHtcbiAgICAgIGh1bmsub2xkU3RhcnQgLT0gMTtcbiAgICB9XG4gICAgaWYgKGh1bmsubmV3TGluZXMgPT09IDApIHtcbiAgICAgIGh1bmsubmV3U3RhcnQgLT0gMTtcbiAgICB9XG4gICAgcmV0LnB1c2goXG4gICAgICAnQEAgLScgKyBodW5rLm9sZFN0YXJ0ICsgJywnICsgaHVuay5vbGRMaW5lc1xuICAgICAgKyAnICsnICsgaHVuay5uZXdTdGFydCArICcsJyArIGh1bmsubmV3TGluZXNcbiAgICAgICsgJyBAQCdcbiAgICApO1xuICAgIHJldC5wdXNoLmFwcGx5KHJldCwgaHVuay5saW5lcyk7XG4gIH1cblxuICByZXR1cm4gcmV0LmpvaW4oJ1xcbicpICsgJ1xcbic7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVUd29GaWxlc1BhdGNoKG9sZEZpbGVOYW1lLCBuZXdGaWxlTmFtZSwgb2xkU3RyLCBuZXdTdHIsIG9sZEhlYWRlciwgbmV3SGVhZGVyLCBvcHRpb25zKSB7XG4gIHJldHVybiBmb3JtYXRQYXRjaChzdHJ1Y3R1cmVkUGF0Y2gob2xkRmlsZU5hbWUsIG5ld0ZpbGVOYW1lLCBvbGRTdHIsIG5ld1N0ciwgb2xkSGVhZGVyLCBuZXdIZWFkZXIsIG9wdGlvbnMpKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVBhdGNoKGZpbGVOYW1lLCBvbGRTdHIsIG5ld1N0ciwgb2xkSGVhZGVyLCBuZXdIZWFkZXIsIG9wdGlvbnMpIHtcbiAgcmV0dXJuIGNyZWF0ZVR3b0ZpbGVzUGF0Y2goZmlsZU5hbWUsIGZpbGVOYW1lLCBvbGRTdHIsIG5ld1N0ciwgb2xkSGVhZGVyLCBuZXdIZWFkZXIsIG9wdGlvbnMpO1xufVxuIl19\n","/*istanbul ignore start*/\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.calcLineCount = calcLineCount;\nexports.merge = merge;\n\n/*istanbul ignore end*/\nvar\n/*istanbul ignore start*/\n_create = require(\"./create\")\n/*istanbul ignore end*/\n;\n\nvar\n/*istanbul ignore start*/\n_parse = require(\"./parse\")\n/*istanbul ignore end*/\n;\n\nvar\n/*istanbul ignore start*/\n_array = require(\"../util/array\")\n/*istanbul ignore end*/\n;\n\n/*istanbul ignore start*/ function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n/*istanbul ignore end*/\nfunction calcLineCount(hunk) {\n  /*istanbul ignore start*/\n  var _calcOldNewLineCount =\n  /*istanbul ignore end*/\n  calcOldNewLineCount(hunk.lines),\n      oldLines = _calcOldNewLineCount.oldLines,\n      newLines = _calcOldNewLineCount.newLines;\n\n  if (oldLines !== undefined) {\n    hunk.oldLines = oldLines;\n  } else {\n    delete hunk.oldLines;\n  }\n\n  if (newLines !== undefined) {\n    hunk.newLines = newLines;\n  } else {\n    delete hunk.newLines;\n  }\n}\n\nfunction merge(mine, theirs, base) {\n  mine = loadPatch(mine, base);\n  theirs = loadPatch(theirs, base);\n  var ret = {}; // For index we just let it pass through as it doesn't have any necessary meaning.\n  // Leaving sanity checks on this to the API consumer that may know more about the\n  // meaning in their own context.\n\n  if (mine.index || theirs.index) {\n    ret.index = mine.index || theirs.index;\n  }\n\n  if (mine.newFileName || theirs.newFileName) {\n    if (!fileNameChanged(mine)) {\n      // No header or no change in ours, use theirs (and ours if theirs does not exist)\n      ret.oldFileName = theirs.oldFileName || mine.oldFileName;\n      ret.newFileName = theirs.newFileName || mine.newFileName;\n      ret.oldHeader = theirs.oldHeader || mine.oldHeader;\n      ret.newHeader = theirs.newHeader || mine.newHeader;\n    } else if (!fileNameChanged(theirs)) {\n      // No header or no change in theirs, use ours\n      ret.oldFileName = mine.oldFileName;\n      ret.newFileName = mine.newFileName;\n      ret.oldHeader = mine.oldHeader;\n      ret.newHeader = mine.newHeader;\n    } else {\n      // Both changed... figure it out\n      ret.oldFileName = selectField(ret, mine.oldFileName, theirs.oldFileName);\n      ret.newFileName = selectField(ret, mine.newFileName, theirs.newFileName);\n      ret.oldHeader = selectField(ret, mine.oldHeader, theirs.oldHeader);\n      ret.newHeader = selectField(ret, mine.newHeader, theirs.newHeader);\n    }\n  }\n\n  ret.hunks = [];\n  var mineIndex = 0,\n      theirsIndex = 0,\n      mineOffset = 0,\n      theirsOffset = 0;\n\n  while (mineIndex < mine.hunks.length || theirsIndex < theirs.hunks.length) {\n    var mineCurrent = mine.hunks[mineIndex] || {\n      oldStart: Infinity\n    },\n        theirsCurrent = theirs.hunks[theirsIndex] || {\n      oldStart: Infinity\n    };\n\n    if (hunkBefore(mineCurrent, theirsCurrent)) {\n      // This patch does not overlap with any of the others, yay.\n      ret.hunks.push(cloneHunk(mineCurrent, mineOffset));\n      mineIndex++;\n      theirsOffset += mineCurrent.newLines - mineCurrent.oldLines;\n    } else if (hunkBefore(theirsCurrent, mineCurrent)) {\n      // This patch does not overlap with any of the others, yay.\n      ret.hunks.push(cloneHunk(theirsCurrent, theirsOffset));\n      theirsIndex++;\n      mineOffset += theirsCurrent.newLines - theirsCurrent.oldLines;\n    } else {\n      // Overlap, merge as best we can\n      var mergedHunk = {\n        oldStart: Math.min(mineCurrent.oldStart, theirsCurrent.oldStart),\n        oldLines: 0,\n        newStart: Math.min(mineCurrent.newStart + mineOffset, theirsCurrent.oldStart + theirsOffset),\n        newLines: 0,\n        lines: []\n      };\n      mergeLines(mergedHunk, mineCurrent.oldStart, mineCurrent.lines, theirsCurrent.oldStart, theirsCurrent.lines);\n      theirsIndex++;\n      mineIndex++;\n      ret.hunks.push(mergedHunk);\n    }\n  }\n\n  return ret;\n}\n\nfunction loadPatch(param, base) {\n  if (typeof param === 'string') {\n    if (/^@@/m.test(param) || /^Index:/m.test(param)) {\n      return (\n        /*istanbul ignore start*/\n        (0,\n        /*istanbul ignore end*/\n\n        /*istanbul ignore start*/\n        _parse\n        /*istanbul ignore end*/\n        .\n        /*istanbul ignore start*/\n        parsePatch)\n        /*istanbul ignore end*/\n        (param)[0]\n      );\n    }\n\n    if (!base) {\n      throw new Error('Must provide a base reference or pass in a patch');\n    }\n\n    return (\n      /*istanbul ignore start*/\n      (0,\n      /*istanbul ignore end*/\n\n      /*istanbul ignore start*/\n      _create\n      /*istanbul ignore end*/\n      .\n      /*istanbul ignore start*/\n      structuredPatch)\n      /*istanbul ignore end*/\n      (undefined, undefined, base, param)\n    );\n  }\n\n  return param;\n}\n\nfunction fileNameChanged(patch) {\n  return patch.newFileName && patch.newFileName !== patch.oldFileName;\n}\n\nfunction selectField(index, mine, theirs) {\n  if (mine === theirs) {\n    return mine;\n  } else {\n    index.conflict = true;\n    return {\n      mine: mine,\n      theirs: theirs\n    };\n  }\n}\n\nfunction hunkBefore(test, check) {\n  return test.oldStart < check.oldStart && test.oldStart + test.oldLines < check.oldStart;\n}\n\nfunction cloneHunk(hunk, offset) {\n  return {\n    oldStart: hunk.oldStart,\n    oldLines: hunk.oldLines,\n    newStart: hunk.newStart + offset,\n    newLines: hunk.newLines,\n    lines: hunk.lines\n  };\n}\n\nfunction mergeLines(hunk, mineOffset, mineLines, theirOffset, theirLines) {\n  // This will generally result in a conflicted hunk, but there are cases where the context\n  // is the only overlap where we can successfully merge the content here.\n  var mine = {\n    offset: mineOffset,\n    lines: mineLines,\n    index: 0\n  },\n      their = {\n    offset: theirOffset,\n    lines: theirLines,\n    index: 0\n  }; // Handle any leading content\n\n  insertLeading(hunk, mine, their);\n  insertLeading(hunk, their, mine); // Now in the overlap content. Scan through and select the best changes from each.\n\n  while (mine.index < mine.lines.length && their.index < their.lines.length) {\n    var mineCurrent = mine.lines[mine.index],\n        theirCurrent = their.lines[their.index];\n\n    if ((mineCurrent[0] === '-' || mineCurrent[0] === '+') && (theirCurrent[0] === '-' || theirCurrent[0] === '+')) {\n      // Both modified ...\n      mutualChange(hunk, mine, their);\n    } else if (mineCurrent[0] === '+' && theirCurrent[0] === ' ') {\n      /*istanbul ignore start*/\n      var _hunk$lines;\n\n      /*istanbul ignore end*/\n      // Mine inserted\n\n      /*istanbul ignore start*/\n\n      /*istanbul ignore end*/\n\n      /*istanbul ignore start*/\n      (_hunk$lines =\n      /*istanbul ignore end*/\n      hunk.lines).push.apply(\n      /*istanbul ignore start*/\n      _hunk$lines\n      /*istanbul ignore end*/\n      ,\n      /*istanbul ignore start*/\n      _toConsumableArray(\n      /*istanbul ignore end*/\n      collectChange(mine)));\n    } else if (theirCurrent[0] === '+' && mineCurrent[0] === ' ') {\n      /*istanbul ignore start*/\n      var _hunk$lines2;\n\n      /*istanbul ignore end*/\n      // Theirs inserted\n\n      /*istanbul ignore start*/\n\n      /*istanbul ignore end*/\n\n      /*istanbul ignore start*/\n      (_hunk$lines2 =\n      /*istanbul ignore end*/\n      hunk.lines).push.apply(\n      /*istanbul ignore start*/\n      _hunk$lines2\n      /*istanbul ignore end*/\n      ,\n      /*istanbul ignore start*/\n      _toConsumableArray(\n      /*istanbul ignore end*/\n      collectChange(their)));\n    } else if (mineCurrent[0] === '-' && theirCurrent[0] === ' ') {\n      // Mine removed or edited\n      removal(hunk, mine, their);\n    } else if (theirCurrent[0] === '-' && mineCurrent[0] === ' ') {\n      // Their removed or edited\n      removal(hunk, their, mine, true);\n    } else if (mineCurrent === theirCurrent) {\n      // Context identity\n      hunk.lines.push(mineCurrent);\n      mine.index++;\n      their.index++;\n    } else {\n      // Context mismatch\n      conflict(hunk, collectChange(mine), collectChange(their));\n    }\n  } // Now push anything that may be remaining\n\n\n  insertTrailing(hunk, mine);\n  insertTrailing(hunk, their);\n  calcLineCount(hunk);\n}\n\nfunction mutualChange(hunk, mine, their) {\n  var myChanges = collectChange(mine),\n      theirChanges = collectChange(their);\n\n  if (allRemoves(myChanges) && allRemoves(theirChanges)) {\n    // Special case for remove changes that are supersets of one another\n    if (\n    /*istanbul ignore start*/\n    (0,\n    /*istanbul ignore end*/\n\n    /*istanbul ignore start*/\n    _array\n    /*istanbul ignore end*/\n    .\n    /*istanbul ignore start*/\n    arrayStartsWith)\n    /*istanbul ignore end*/\n    (myChanges, theirChanges) && skipRemoveSuperset(their, myChanges, myChanges.length - theirChanges.length)) {\n      /*istanbul ignore start*/\n      var _hunk$lines3;\n\n      /*istanbul ignore end*/\n\n      /*istanbul ignore start*/\n\n      /*istanbul ignore end*/\n\n      /*istanbul ignore start*/\n      (_hunk$lines3 =\n      /*istanbul ignore end*/\n      hunk.lines).push.apply(\n      /*istanbul ignore start*/\n      _hunk$lines3\n      /*istanbul ignore end*/\n      ,\n      /*istanbul ignore start*/\n      _toConsumableArray(\n      /*istanbul ignore end*/\n      myChanges));\n\n      return;\n    } else if (\n    /*istanbul ignore start*/\n    (0,\n    /*istanbul ignore end*/\n\n    /*istanbul ignore start*/\n    _array\n    /*istanbul ignore end*/\n    .\n    /*istanbul ignore start*/\n    arrayStartsWith)\n    /*istanbul ignore end*/\n    (theirChanges, myChanges) && skipRemoveSuperset(mine, theirChanges, theirChanges.length - myChanges.length)) {\n      /*istanbul ignore start*/\n      var _hunk$lines4;\n\n      /*istanbul ignore end*/\n\n      /*istanbul ignore start*/\n\n      /*istanbul ignore end*/\n\n      /*istanbul ignore start*/\n      (_hunk$lines4 =\n      /*istanbul ignore end*/\n      hunk.lines).push.apply(\n      /*istanbul ignore start*/\n      _hunk$lines4\n      /*istanbul ignore end*/\n      ,\n      /*istanbul ignore start*/\n      _toConsumableArray(\n      /*istanbul ignore end*/\n      theirChanges));\n\n      return;\n    }\n  } else if (\n  /*istanbul ignore start*/\n  (0,\n  /*istanbul ignore end*/\n\n  /*istanbul ignore start*/\n  _array\n  /*istanbul ignore end*/\n  .\n  /*istanbul ignore start*/\n  arrayEqual)\n  /*istanbul ignore end*/\n  (myChanges, theirChanges)) {\n    /*istanbul ignore start*/\n    var _hunk$lines5;\n\n    /*istanbul ignore end*/\n\n    /*istanbul ignore start*/\n\n    /*istanbul ignore end*/\n\n    /*istanbul ignore start*/\n    (_hunk$lines5 =\n    /*istanbul ignore end*/\n    hunk.lines).push.apply(\n    /*istanbul ignore start*/\n    _hunk$lines5\n    /*istanbul ignore end*/\n    ,\n    /*istanbul ignore start*/\n    _toConsumableArray(\n    /*istanbul ignore end*/\n    myChanges));\n\n    return;\n  }\n\n  conflict(hunk, myChanges, theirChanges);\n}\n\nfunction removal(hunk, mine, their, swap) {\n  var myChanges = collectChange(mine),\n      theirChanges = collectContext(their, myChanges);\n\n  if (theirChanges.merged) {\n    /*istanbul ignore start*/\n    var _hunk$lines6;\n\n    /*istanbul ignore end*/\n\n    /*istanbul ignore start*/\n\n    /*istanbul ignore end*/\n\n    /*istanbul ignore start*/\n    (_hunk$lines6 =\n    /*istanbul ignore end*/\n    hunk.lines).push.apply(\n    /*istanbul ignore start*/\n    _hunk$lines6\n    /*istanbul ignore end*/\n    ,\n    /*istanbul ignore start*/\n    _toConsumableArray(\n    /*istanbul ignore end*/\n    theirChanges.merged));\n  } else {\n    conflict(hunk, swap ? theirChanges : myChanges, swap ? myChanges : theirChanges);\n  }\n}\n\nfunction conflict(hunk, mine, their) {\n  hunk.conflict = true;\n  hunk.lines.push({\n    conflict: true,\n    mine: mine,\n    theirs: their\n  });\n}\n\nfunction insertLeading(hunk, insert, their) {\n  while (insert.offset < their.offset && insert.index < insert.lines.length) {\n    var line = insert.lines[insert.index++];\n    hunk.lines.push(line);\n    insert.offset++;\n  }\n}\n\nfunction insertTrailing(hunk, insert) {\n  while (insert.index < insert.lines.length) {\n    var line = insert.lines[insert.index++];\n    hunk.lines.push(line);\n  }\n}\n\nfunction collectChange(state) {\n  var ret = [],\n      operation = state.lines[state.index][0];\n\n  while (state.index < state.lines.length) {\n    var line = state.lines[state.index]; // Group additions that are immediately after subtractions and treat them as one \"atomic\" modify change.\n\n    if (operation === '-' && line[0] === '+') {\n      operation = '+';\n    }\n\n    if (operation === line[0]) {\n      ret.push(line);\n      state.index++;\n    } else {\n      break;\n    }\n  }\n\n  return ret;\n}\n\nfunction collectContext(state, matchChanges) {\n  var changes = [],\n      merged = [],\n      matchIndex = 0,\n      contextChanges = false,\n      conflicted = false;\n\n  while (matchIndex < matchChanges.length && state.index < state.lines.length) {\n    var change = state.lines[state.index],\n        match = matchChanges[matchIndex]; // Once we've hit our add, then we are done\n\n    if (match[0] === '+') {\n      break;\n    }\n\n    contextChanges = contextChanges || change[0] !== ' ';\n    merged.push(match);\n    matchIndex++; // Consume any additions in the other block as a conflict to attempt\n    // to pull in the remaining context after this\n\n    if (change[0] === '+') {\n      conflicted = true;\n\n      while (change[0] === '+') {\n        changes.push(change);\n        change = state.lines[++state.index];\n      }\n    }\n\n    if (match.substr(1) === change.substr(1)) {\n      changes.push(change);\n      state.index++;\n    } else {\n      conflicted = true;\n    }\n  }\n\n  if ((matchChanges[matchIndex] || '')[0] === '+' && contextChanges) {\n    conflicted = true;\n  }\n\n  if (conflicted) {\n    return changes;\n  }\n\n  while (matchIndex < matchChanges.length) {\n    merged.push(matchChanges[matchIndex++]);\n  }\n\n  return {\n    merged: merged,\n    changes: changes\n  };\n}\n\nfunction allRemoves(changes) {\n  return changes.reduce(function (prev, change) {\n    return prev && change[0] === '-';\n  }, true);\n}\n\nfunction skipRemoveSuperset(state, removeChanges, delta) {\n  for (var i = 0; i < delta; i++) {\n    var changeContent = removeChanges[removeChanges.length - delta + i].substr(1);\n\n    if (state.lines[state.index + i] !== ' ' + changeContent) {\n      return false;\n    }\n  }\n\n  state.index += delta;\n  return true;\n}\n\nfunction calcOldNewLineCount(lines) {\n  var oldLines = 0;\n  var newLines = 0;\n  lines.forEach(function (line) {\n    if (typeof line !== 'string') {\n      var myCount = calcOldNewLineCount(line.mine);\n      var theirCount = calcOldNewLineCount(line.theirs);\n\n      if (oldLines !== undefined) {\n        if (myCount.oldLines === theirCount.oldLines) {\n          oldLines += myCount.oldLines;\n        } else {\n          oldLines = undefined;\n        }\n      }\n\n      if (newLines !== undefined) {\n        if (myCount.newLines === theirCount.newLines) {\n          newLines += myCount.newLines;\n        } else {\n          newLines = undefined;\n        }\n      }\n    } else {\n      if (newLines !== undefined && (line[0] === '+' || line[0] === ' ')) {\n        newLines++;\n      }\n\n      if (oldLines !== undefined && (line[0] === '-' || line[0] === ' ')) {\n        oldLines++;\n      }\n    }\n  });\n  return {\n    oldLines: oldLines,\n    newLines: newLines\n  };\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9wYXRjaC9tZXJnZS5qcyJdLCJuYW1lcyI6WyJjYWxjTGluZUNvdW50IiwiaHVuayIsImNhbGNPbGROZXdMaW5lQ291bnQiLCJsaW5lcyIsIm9sZExpbmVzIiwibmV3TGluZXMiLCJ1bmRlZmluZWQiLCJtZXJnZSIsIm1pbmUiLCJ0aGVpcnMiLCJiYXNlIiwibG9hZFBhdGNoIiwicmV0IiwiaW5kZXgiLCJuZXdGaWxlTmFtZSIsImZpbGVOYW1lQ2hhbmdlZCIsIm9sZEZpbGVOYW1lIiwib2xkSGVhZGVyIiwibmV3SGVhZGVyIiwic2VsZWN0RmllbGQiLCJodW5rcyIsIm1pbmVJbmRleCIsInRoZWlyc0luZGV4IiwibWluZU9mZnNldCIsInRoZWlyc09mZnNldCIsImxlbmd0aCIsIm1pbmVDdXJyZW50Iiwib2xkU3RhcnQiLCJJbmZpbml0eSIsInRoZWlyc0N1cnJlbnQiLCJodW5rQmVmb3JlIiwicHVzaCIsImNsb25lSHVuayIsIm1lcmdlZEh1bmsiLCJNYXRoIiwibWluIiwibmV3U3RhcnQiLCJtZXJnZUxpbmVzIiwicGFyYW0iLCJ0ZXN0IiwicGFyc2VQYXRjaCIsIkVycm9yIiwic3RydWN0dXJlZFBhdGNoIiwicGF0Y2giLCJjb25mbGljdCIsImNoZWNrIiwib2Zmc2V0IiwibWluZUxpbmVzIiwidGhlaXJPZmZzZXQiLCJ0aGVpckxpbmVzIiwidGhlaXIiLCJpbnNlcnRMZWFkaW5nIiwidGhlaXJDdXJyZW50IiwibXV0dWFsQ2hhbmdlIiwiY29sbGVjdENoYW5nZSIsInJlbW92YWwiLCJpbnNlcnRUcmFpbGluZyIsIm15Q2hhbmdlcyIsInRoZWlyQ2hhbmdlcyIsImFsbFJlbW92ZXMiLCJhcnJheVN0YXJ0c1dpdGgiLCJza2lwUmVtb3ZlU3VwZXJzZXQiLCJhcnJheUVxdWFsIiwic3dhcCIsImNvbGxlY3RDb250ZXh0IiwibWVyZ2VkIiwiaW5zZXJ0IiwibGluZSIsInN0YXRlIiwib3BlcmF0aW9uIiwibWF0Y2hDaGFuZ2VzIiwiY2hhbmdlcyIsIm1hdGNoSW5kZXgiLCJjb250ZXh0Q2hhbmdlcyIsImNvbmZsaWN0ZWQiLCJjaGFuZ2UiLCJtYXRjaCIsInN1YnN0ciIsInJlZHVjZSIsInByZXYiLCJyZW1vdmVDaGFuZ2VzIiwiZGVsdGEiLCJpIiwiY2hhbmdlQ29udGVudCIsImZvckVhY2giLCJteUNvdW50IiwidGhlaXJDb3VudCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBOzs7Ozs7Ozs7Ozs7Ozs7QUFFTyxTQUFTQSxhQUFULENBQXVCQyxJQUF2QixFQUE2QjtBQUFBO0FBQUE7QUFBQTtBQUNMQyxFQUFBQSxtQkFBbUIsQ0FBQ0QsSUFBSSxDQUFDRSxLQUFOLENBRGQ7QUFBQSxNQUMzQkMsUUFEMkIsd0JBQzNCQSxRQUQyQjtBQUFBLE1BQ2pCQyxRQURpQix3QkFDakJBLFFBRGlCOztBQUdsQyxNQUFJRCxRQUFRLEtBQUtFLFNBQWpCLEVBQTRCO0FBQzFCTCxJQUFBQSxJQUFJLENBQUNHLFFBQUwsR0FBZ0JBLFFBQWhCO0FBQ0QsR0FGRCxNQUVPO0FBQ0wsV0FBT0gsSUFBSSxDQUFDRyxRQUFaO0FBQ0Q7O0FBRUQsTUFBSUMsUUFBUSxLQUFLQyxTQUFqQixFQUE0QjtBQUMxQkwsSUFBQUEsSUFBSSxDQUFDSSxRQUFMLEdBQWdCQSxRQUFoQjtBQUNELEdBRkQsTUFFTztBQUNMLFdBQU9KLElBQUksQ0FBQ0ksUUFBWjtBQUNEO0FBQ0Y7O0FBRU0sU0FBU0UsS0FBVCxDQUFlQyxJQUFmLEVBQXFCQyxNQUFyQixFQUE2QkMsSUFBN0IsRUFBbUM7QUFDeENGLEVBQUFBLElBQUksR0FBR0csU0FBUyxDQUFDSCxJQUFELEVBQU9FLElBQVAsQ0FBaEI7QUFDQUQsRUFBQUEsTUFBTSxHQUFHRSxTQUFTLENBQUNGLE1BQUQsRUFBU0MsSUFBVCxDQUFsQjtBQUVBLE1BQUlFLEdBQUcsR0FBRyxFQUFWLENBSndD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QUFKLEVBQW9FO0FBQ2xFL0QsUUFBQUEsUUFBUTtBQUNUO0FBQ0Y7QUFDRixHQTVCRDtBQThCQSxTQUFPO0FBQUNBLElBQUFBLFFBQVEsRUFBUkEsUUFBRDtBQUFXQyxJQUFBQSxRQUFRLEVBQVJBO0FBQVgsR0FBUDtBQUNEIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtzdHJ1Y3R1cmVkUGF0Y2h9IGZyb20gJy4vY3JlYXRlJztcbmltcG9ydCB7cGFyc2VQYXRjaH0gZnJvbSAnLi9wYXJzZSc7XG5cbmltcG9ydCB7YXJyYXlFcXVhbCwgYXJyYXlTdGFydHNXaXRofSBmcm9tICcuLi91dGlsL2FycmF5JztcblxuZXhwb3J0IGZ1bmN0aW9uIGNhbGNMaW5lQ291bnQoaHVuaykge1xuICBjb25zdCB7b2xkTGluZXMsIG5ld0xpbmVzfSA9IGNhbGNPbGROZXdMaW5lQ291bnQoaHVuay5saW5lcyk7XG5cbiAgaWYgKG9sZExpbmVzICE9PSB1bmRlZmluZWQpIHtcbiAgICBodW5rLm9sZExpbmVzID0gb2xkTGluZXM7XG4gIH0gZWxzZSB7XG4gICAgZGVsZXRlIGh1bmsub2xkTGluZXM7XG4gIH1cblxuICBpZiAobmV3TGluZXMgIT09IHVuZGVmaW5lZCkge1xuICAgIGh1bmsubmV3TGluZXMgPSBuZXdMaW5lcztcbiAgfSBlbHNlIHtcbiAgICBkZWxldGUgaHVuay5uZXdMaW5lcztcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gbWVyZ2UobWluZSwgdGhlaXJzLCBiYXNlKSB7XG4gIG1pbmUgPSBsb2FkUGF0Y2gobWluZSwgYmFzZSk7XG4gIHRoZWlycyA9IGxvYWRQYXRjaCh0aGVpcnMsIGJhc2UpO1xuXG4gIGxldCByZXQgPSB7fTtcblxuICAvLyBGb3IgaW5kZXggd2UganVzdCBsZXQgaXQgcGFzcyB0aHJvdWdoIGFzIGl0IGRvZXNuJ3QgaGF2ZSBhbnkgbmVjZXNzYXJ5IG1lYW5pbmcuXG4gIC8vIExlYXZpbmcgc2FuaXR5IGNoZWNrcyBvbiB0aGlzIHRvIHRoZSBBUEkgY29uc3VtZXIgdGhhdCBtYXkga25vdyBtb3JlIGFib3V0IHRoZVxuICAvLyBtZWFuaW5nIGluIHRoZWlyIG93biBjb250ZXh0LlxuICBpZiAobWluZS5pbmRleCB8fCB0aGVpcnMuaW5kZXgpIHtcbiAgICByZXQuaW5kZXggPSBtaW5lLmluZGV4IHx8IHRoZWlycy5pbmRleDtcbiAgfVxuXG4gIGlmIChtaW5lLm5ld0ZpbGVOYW1lIHx8IHRoZWlycy5uZXdGaWxlTmFtZSkge1xuICAgIGlmICghZmlsZU5hbWVDaGFuZ2VkKG1pbmUpKSB7XG4gICAgICAvLyBObyBoZWFkZXIgb3Igbm8gY2hhbmdlIGluIG91cnMsIHVzZSB0aGVpcnMgKGFuZCBvdXJzIGlmIHRoZWlycyBkb2VzIG5vdCBleGlzdClcbiAgICAgIHJldC5vbGRGaWxlTmFtZSA9IHRoZWlycy5vbGRGaWxlTmFtZSB8fCBtaW5lLm9sZEZpbGVOYW1lO1xuICAgICAgcmV0Lm5ld0ZpbGVOYW1lID0gdGhlaXJzLm5ld0ZpbGVOYW1lIHx8IG1pbmUubmV3RmlsZU5hbWU7XG4gICAgICByZXQub2xkSGVhZGVyID0gdGhlaXJzLm9sZEhlYWRlciB8fCBtaW5lLm9sZEhlYWRlcjtcbiAgICAgIHJldC5uZXdIZWFkZXIgPSB0aGVpcnMubmV3SGVhZGVyIHx8IG1pbmUubmV3SGVhZGVyO1xuICAgIH0gZWxzZSBpZiAoIWZpbGVOYW1lQ2hhbmdlZCh0aGVpcnMpKSB7XG4gICAgICAvLyBObyBoZWFkZXIgb3Igbm8gY2hhbmdlIGluIHRoZWlycywgdXNlIG91cnNcbiAgICAgIHJldC5vbGRGaWxlTmFtZSA9IG1pbmUub2xkRmlsZU5hbWU7XG4gICAgICByZXQubmV3RmlsZU5hbWUgPSBtaW5lLm5ld0ZpbGVOYW1lO1xuICAgICAgcmV0Lm9sZEhlYWRlciA9IG1pbmUub2xkSGVhZGVyO1xuICAgICAgcmV0Lm5ld0hlYWRlciA9IG1pbmUubmV3SGVhZGVyO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBCb3RoIGNoYW5nZWQuLi4gZmlndXJlIGl0IG91dFxuICAgICAgcmV0Lm9sZEZpbGVOYW1lID0gc2VsZWN0RmllbGQocmV0LCBtaW5lLm9sZEZpbGVOYW1lLCB0aGVpcnMub2xkRmlsZU5hbWUpO1xuICAgICAgcmV0Lm5ld0ZpbGVOYW1lID0gc2VsZWN0RmllbGQocmV0LCBtaW5lLm5ld0ZpbGVOYW1lLCB0aGVpcnMubmV3RmlsZU5hbWUpO1xuICAgICAgcmV0Lm9sZEhlYWRlciA9IHNlbGVjdEZpZWxkKHJldCwgbWluZS5vbGRIZWFkZXIsIHRoZWlycy5vbGRIZWFkZXIpO1xuICAgICAgcmV0Lm5ld0hlYWRlciA9IHNlbGVjdEZpZWxkKHJldCwgbWluZS5uZXdIZWFkZXIsIHRoZWlycy5uZXdIZWFkZXIpO1xuICAgIH1cbiAgfVxuXG4gIHJldC5odW5rcyA9IFtdO1xuXG4gIGxldCBtaW5lSW5kZXggPSAwLFxuICAgICAgdGhlaXJzSW5kZXggPSAwLFxuICAgICAgbWluZU9mZnNldCA9IDAsXG4gICAgICB0aGVpcnNPZmZzZXQgPSAwO1xuXG4gIHdoaWxlIChtaW5lSW5kZXggPCBtaW5lLmh1bmtzLmxlbmd0aCB8fCB0aGVpcnNJbmRleCA8IHRoZWlycy5odW5rcy5sZW5ndGgpIHtcbiAgICBsZXQgbWluZUN1cnJlbnQgPSBtaW5lLmh1bmtzW21pbmVJbmRleF0gfHwge29sZFN0YXJ0OiBJbmZpbml0eX0sXG4gICAgICAgIHRoZWlyc0N1cnJlbnQgPSB0aGVpcnMuaHVua3NbdGhlaXJzSW5kZXhdIHx8IHtvbGRTdGFydDogSW5maW5pdHl9O1xuXG4gICAgaWYgKGh1bmtCZWZvcmUobWluZUN1cnJlbnQsIHRoZWlyc0N1cnJlbnQpKSB7XG4gICAgICAvLyBUaGlzIHBhdGNoIGRvZXMgbm90IG92ZXJsYXAgd2l0aCBhbnkgb2YgdGhlIG90aGVycywgeWF5LlxuICAgICAgcmV0Lmh1bmtzLnB1c2goY2xvbmVIdW5rKG1pbmVDdXJyZW50LCBtaW5lT2Zmc2V0KSk7XG4gICAgICBtaW5lSW5kZXgrKztcbiAgICAgIHRoZWlyc09mZnNldCArPSBtaW5lQ3VycmVudC5uZXdMaW5lcyAtIG1pbmVDdXJyZW50Lm9sZExpbmVzO1xuICAgIH0gZWxzZSBpZiAoaHVua0JlZm9yZSh0aGVpcnNDdXJyZW50LCBtaW5lQ3VycmVudCkpIHtcbiAgICAgIC8vIFRoaXMgcGF0Y2ggZG9lcyBub3Qgb3ZlcmxhcCB3aXRoIGFueSBvZiB0aGUgb3RoZXJzLCB5YXkuXG4gICAgICByZXQuaHVua3MucHVzaChjbG9uZUh1bmsodGhlaXJzQ3VycmVudCwgdGhlaXJzT2Zmc2V0KSk7XG4gICAgICB0aGVpcnNJbmRleCsrO1xuICAgICAgbWluZU9mZnNldCArPSB0aGVpcnNDdXJyZW50Lm5ld0xpbmVzIC0gdGhlaXJzQ3VycmVudC5vbGRMaW5lcztcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gT3ZlcmxhcCwgbWVyZ2UgYXMgYmVzdCB3ZSBjYW5cbiAgICAgIGxldCBtZXJnZWRIdW5rID0ge1xuICAgICAgICBvbGRTdGFydDogTWF0aC5taW4obWluZUN1cnJlbnQub2xkU3RhcnQsIHRoZWlyc0N1cnJlbnQub2xkU3RhcnQpLFxuICAgICAgICBvbGRMaW5lczogMCxcbiAgICAgICAgbmV3U3RhcnQ6IE1hdGgubWluKG1pbmVDdXJyZW50Lm5ld1N0YXJ0ICsgbWluZU9mZnNldCwgdGhlaXJzQ3VycmVudC5vbGRTdGFydCArIHRoZWlyc09mZnNldCksXG4gICAgICAgIG5ld0xpbmVzOiAwLFxuICAgICAgICBsaW5lczogW11cbiAgICAgIH07XG4gICAgICBtZXJnZUxpbmVzKG1lcmdlZEh1bmssIG1pbmVDdXJyZW50Lm9sZFN0YXJ0LCBtaW5lQ3VycmVudC5saW5lcywgdGhlaXJzQ3VycmVudC5vbGRTdGFydCwgdGhlaXJzQ3VycmVudC5saW5lcyk7XG4gICAgICB0aGVpcnNJbmRleCsrO1xuICAgICAgbWluZUluZGV4Kys7XG5cbiAgICAgIHJldC5odW5rcy5wdXNoKG1lcmdlZEh1bmspO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZXQ7XG59XG5cbmZ1bmN0aW9uIGxvYWRQYXRjaChwYXJhbSwgYmFzZSkge1xuICBpZiAodHlwZW9mIHBhcmFtID09PSAnc3RyaW5nJykge1xuICAgIGlmICgoL15AQC9tKS50ZXN0KHBhcmFtKSB8fCAoKC9eSW5kZXg6L20pLnRlc3QocGFyYW0pKSkge1xuICAgICAgcmV0dXJuIHBhcnNlUGF0Y2gocGFyYW0pWzBdO1xuICAgIH1cblxuICAgIGlmICghYmFzZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNdXN0IHByb3ZpZGUgYSBiYXNlIHJlZmVyZW5jZSBvciBwYXNzIGluIGEgcGF0Y2gnKTtcbiAgICB9XG4gICAgcmV0dXJuIHN0cnVjdHVyZWRQYXRjaCh1bmRlZmluZWQsIHVuZGVmaW5lZCwgYmFzZSwgcGFyYW0pO1xuICB9XG5cbiAgcmV0dXJuIHBhcmFtO1xufVxuXG5mdW5jdGlvbiBmaWxlTmFtZUNoYW5nZWQocGF0Y2gpIHtcbiAgcmV0dXJuIHBhdGNoLm5ld0ZpbGVOYW1lICYmIHBhdGNoLm5ld0ZpbGVOYW1lICE9PSBwYXRjaC5vbGRGaWxlTmFtZTtcbn1cblxuZnVuY3Rpb24gc2VsZWN0RmllbGQoaW5kZXgsIG1pbmUsIHRoZWlycykge1xuICBpZiAobWluZSA9PT0gdGhlaXJzKSB7XG4gICAgcmV0dXJuIG1pbmU7XG4gIH0gZWxzZSB7XG4gICAgaW5kZXguY29uZmxpY3QgPSB0cnVlO1xuICAgIHJldHVybiB7bWluZSwgdGhlaXJzfTtcbiAgfVxufVxuXG5mdW5jdGlvbiBodW5rQmVmb3JlKHRlc3QsIGNoZWNrKSB7XG4gIHJldHVybiB0ZXN0Lm9sZFN0YXJ0IDwgY2hlY2sub2xkU3RhcnRcbiAgICAmJiAodGVzdC5vbGRTdGFydCArIHRlc3Qub2xkTGluZXMpIDwgY2hlY2sub2xkU3RhcnQ7XG59XG5cbmZ1bmN0aW9uIGNsb25lSHVuayhodW5rLCBvZmZzZXQpIHtcbiAgcmV0dXJuIHtcbiAgICBvbGRTdGFydDogaHVuay5vbGRTdGFydCwgb2xkTGluZXM6IGh1bmsub2xkTGluZXMsXG4gICAgbmV3U3RhcnQ6IGh1bmsubmV3U3RhcnQgKyBvZmZzZXQsIG5ld0xpbmVzOiBodW5rLm5ld0xpbmVzLFxuICAgIGxpbmVzOiBodW5rLmxpbmVzXG4gIH07XG59XG5cbmZ1bmN0aW9uIG1lcmdlTGluZXMoaHVuaywgbWluZU9mZnNldCwgbWluZUxpbmVzLCB0aGVpck9mZnNldCwgdGhlaXJMaW5lcykge1xuICAvLyBUaGlzIHdpbGwgZ2VuZXJhbGx5IHJlc3VsdCBpbiBhIGNvbmZsaWN0ZWQgaHVuaywgYnV0IHRoZXJlIGFyZSBjYXNlcyB3aGVyZSB0aGUgY29udGV4dFxuICAvLyBpcyB0aGUgb25seSBvdmVybGFwIHdoZXJlIHdlIGNhbiBzdWNjZXNzZnVsbHkgbWVyZ2UgdGhlIGNvbnRlbnQgaGVyZS5cbiAgbGV0IG1pbmUgPSB7b2Zmc2V0OiBtaW5lT2Zmc2V0LCBsaW5lczogbWluZUxpbmVzLCBpbmRleDogMH0sXG4gICAgICB0aGVpciA9IHtvZmZzZXQ6IHRoZWlyT2Zmc2V0LCBsaW5lczogdGhlaXJMaW5lcywgaW5kZXg6IDB9O1xuXG4gIC8vIEhhbmRsZSBhbnkgbGVhZGluZyBjb250ZW50XG4gIGluc2VydExlYWRpbmcoaHVuaywgbWluZSwgdGhlaXIpO1xuICBpbnNlcnRMZWFkaW5nKGh1bmssIHRoZWlyLCBtaW5lKTtcblxuICAvLyBOb3cgaW4gdGhlIG92ZXJsYXAgY29udGVudC4gU2NhbiB0aHJvdWdoIGFuZCBzZWxlY3QgdGhlIGJlc3QgY2hhbmdlcyBmcm9tIGVhY2guXG4gIHdoaWxlIChtaW5lLmluZGV4IDwgbWluZS5saW5lcy5sZW5ndGggJiYgdGhlaXIuaW5kZXggPCB0aGVpci5saW5lcy5sZW5ndGgpIHtcbiAgICBsZXQgbWluZUN1cnJlbnQgPSBtaW5lLmxpbmVzW21pbmUuaW5kZXhdLFxuICAgICAgICB0aGVpckN1cnJlbnQgPSB0aGVpci5saW5lc1t0aGVpci5pbmRleF07XG5cbiAgICBpZiAoKG1pbmVDdXJyZW50WzBdID09PSAnLScgfHwgbWluZUN1cnJlbnRbMF0gPT09ICcrJylcbiAgICAgICAgJiYgKHRoZWlyQ3VycmVudFswXSA9PT0gJy0nIHx8IHRoZWlyQ3VycmVudFswXSA9PT0gJysnKSkge1xuICAgICAgLy8gQm90aCBtb2RpZmllZCAuLi5cbiAgICAgIG11dHVhbENoYW5nZShodW5rLCBtaW5lLCB0aGVpcik7XG4gICAgfSBlbHNlIGlmIChtaW5lQ3VycmVudFswXSA9PT0gJysnICYmIHRoZWlyQ3VycmVudFswXSA9PT0gJyAnKSB7XG4gICAgICAvLyBNaW5lIGluc2VydGVkXG4gICAgICBodW5rLmxpbmVzLnB1c2goLi4uIGNvbGxlY3RDaGFuZ2UobWluZSkpO1xuICAgIH0gZWxzZSBpZiAodGhlaXJDdXJyZW50WzBdID09PSAnKycgJiYgbWluZUN1cnJlbnRbMF0gPT09ICcgJykge1xuICAgICAgLy8gVGhlaXJzIGluc2VydGVkXG4gICAgICBodW5rLmxpbmVzLnB1c2goLi4uIGNvbGxlY3RDaGFuZ2UodGhlaXIpKTtcbiAgICB9IGVsc2UgaWYgKG1pbmVDdXJyZW50WzBdID09PSAnLScgJiYgdGhlaXJDdXJyZW50WzBdID09PSAnICcpIHtcbiAgICAgIC8vIE1pbmUgcmVtb3ZlZCBvciBlZGl0ZWRcbiAgICAgIHJlbW92YWwoaHVuaywgbWluZSwgdGhlaXIpO1xuICAgIH0gZWxzZSBpZiAodGhlaXJDdXJyZW50WzBdID09PSAnLScgJiYgbWluZUN1cnJlbnRbMF0gPT09ICcgJykge1xuICAgICAgLy8gVGhlaXIgcmVtb3ZlZCBvciBlZGl0ZWRcbiAgICAgIHJlbW92YWwoaHVuaywgdGhlaXIsIG1pbmUsIHRydWUpO1xuICAgIH0gZWxzZSBpZiAobWluZUN1cnJlbnQgPT09IHRoZWlyQ3VycmVudCkge1xuICAgICAgLy8gQ29udGV4dCBpZGVudGl0eVxuICAgICAgaHVuay5saW5lcy5wdXNoKG1pbmVDdXJyZW50KTtcbiAgICAgIG1pbmUuaW5kZXgrKztcbiAgICAgIHRoZWlyLmluZGV4Kys7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIENvbnRleHQgbWlzbWF0Y2hcbiAgICAgIGNvbmZsaWN0KGh1bmssIGNvbGxlY3RDaGFuZ2UobWluZSksIGNvbGxlY3RDaGFuZ2UodGhlaXIpKTtcbiAgICB9XG4gIH1cblxuICAvLyBOb3cgcHVzaCBhbnl0aGluZyB0aGF0IG1heSBiZSByZW1haW5pbmdcbiAgaW5zZXJ0VHJhaWxpbmcoaHVuaywgbWluZSk7XG4gIGluc2VydFRyYWlsaW5nKGh1bmssIHRoZWlyKTtcblxuICBjYWxjTGluZUNvdW50KGh1bmspO1xufVxuXG5mdW5jdGlvbiBtdXR1YWxDaGFuZ2UoaHVuaywgbWluZSwgdGhlaXIpIHtcbiAgbGV0IG15Q2hhbmdlcyA9IGNvbGxlY3RDaGFuZ2UobWluZSksXG4gICAgICB0aGVpckNoYW5nZXMgPSBjb2xsZWN0Q2hhbmdlKHRoZWlyKTtcblxuICBpZiAoYWxsUmVtb3ZlcyhteUNoYW5nZXMpICYmIGFsbFJlbW92ZXModGhlaXJDaGFuZ2VzKSkge1xuICAgIC8vIFNwZWNpYWwgY2FzZSBmb3IgcmVtb3ZlIGNoYW5nZXMgdGhhdCBhcmUgc3VwZXJzZXRzIG9mIG9uZSBhbm90aGVyXG4gICAgaWYgKGFycmF5U3RhcnRzV2l0aChteUNoYW5nZXMsIHRoZWlyQ2hhbmdlcylcbiAgICAgICAgJiYgc2tpcFJlbW92ZVN1cGVyc2V0KHRoZWlyLCBteUNoYW5nZXMsIG15Q2hhbmdlcy5sZW5ndGggLSB0aGVpckNoYW5nZXMubGVuZ3RoKSkge1xuICAgICAgaHVuay5saW5lcy5wdXNoKC4uLiBteUNoYW5nZXMpO1xuICAgICAgcmV0dXJuO1xuICAgIH0gZWxzZSBpZiAoYXJyYXlTdGFydHNXaXRoKHRoZWlyQ2hhbmdlcywgbXlDaGFuZ2VzKVxuICAgICAgICAmJiBza2lwUmVtb3ZlU3VwZXJzZXQobWluZSwgdGhlaXJDaGFuZ2VzLCB0aGVpckNoYW5nZXMubGVuZ3RoIC0gbXlDaGFuZ2VzLmxlbmd0aCkpIHtcbiAgICAgIGh1bmsubGluZXMucHVzaCguLi4gdGhlaXJDaGFuZ2VzKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH0gZWxzZSBpZiAoYXJyYXlFcXVhbChteUNoYW5nZXMsIHRoZWlyQ2hhbmdlcykpIHtcbiAgICBodW5rLmxpbmVzLnB1c2goLi4uIG15Q2hhbmdlcyk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uZmxpY3QoaHVuaywgbXlDaGFuZ2VzLCB0aGVpckNoYW5nZXMpO1xufVxuXG5mdW5jdGlvbiByZW1vdmFsKGh1bmssIG1pbmUsIHRoZWlyLCBzd2FwKSB7XG4gIGxldCBteUNoYW5nZXMgPSBjb2xsZWN0Q2hhbmdlKG1pbmUpLFxuICAgICAgdGhlaXJDaGFuZ2VzID0gY29sbGVjdENvbnRleHQodGhlaXIsIG15Q2hhbmdlcyk7XG4gIGlmICh0aGVpckNoYW5nZXMubWVyZ2VkKSB7XG4gICAgaHVuay5saW5lcy5wdXNoKC4uLiB0aGVpckNoYW5nZXMubWVyZ2VkKTtcbiAgfSBlbHNlIHtcbiAgICBjb25mbGljdChodW5rLCBzd2FwID8gdGhlaXJDaGFuZ2VzIDogbXlDaGFuZ2VzLCBzd2FwID8gbXlDaGFuZ2VzIDogdGhlaXJDaGFuZ2VzKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBjb25mbGljdChodW5rLCBtaW5lLCB0aGVpcikge1xuICBodW5rLmNvbmZsaWN0ID0gdHJ1ZTtcbiAgaHVuay5saW5lcy5wdXNoKHtcbiAgICBjb25mbGljdDogdHJ1ZSxcbiAgICBtaW5lOiBtaW5lLFxuICAgIHRoZWlyczogdGhlaXJcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGluc2VydExlYWRpbmcoaHVuaywgaW5zZXJ0LCB0aGVpcikge1xuICB3aGlsZSAoaW5zZXJ0Lm9mZnNldCA8IHRoZWlyLm9mZnNldCAmJiBpbnNlcnQuaW5kZXggPCBpbnNlcnQubGluZXMubGVuZ3RoKSB7XG4gICAgbGV0IGxpbmUgPSBpbnNlcnQubGluZXNbaW5zZXJ0LmluZGV4KytdO1xuICAgIGh1bmsubGluZXMucHVzaChsaW5lKTtcbiAgICBpbnNlcnQub2Zmc2V0Kys7XG4gIH1cbn1cbmZ1bmN0aW9uIGluc2VydFRyYWlsaW5nKGh1bmssIGluc2VydCkge1xuICB3aGlsZSAoaW5zZXJ0LmluZGV4IDwgaW5zZXJ0LmxpbmVzLmxlbmd0aCkge1xuICAgIGxldCBsaW5lID0gaW5zZXJ0LmxpbmVzW2luc2VydC5pbmRleCsrXTtcbiAgICBodW5rLmxpbmVzLnB1c2gobGluZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gY29sbGVjdENoYW5nZShzdGF0ZSkge1xuICBsZXQgcmV0ID0gW10sXG4gICAgICBvcGVyYXRpb24gPSBzdGF0ZS5saW5lc1tzdGF0ZS5pbmRleF1bMF07XG4gIHdoaWxlIChzdGF0ZS5pbmRleCA8IHN0YXRlLmxpbmVzLmxlbmd0aCkge1xuICAgIGxldCBsaW5lID0gc3RhdGUubGluZXNbc3RhdGUuaW5kZXhdO1xuXG4gICAgLy8gR3JvdXAgYWRkaXRpb25zIHRoYXQgYXJlIGltbWVkaWF0ZWx5IGFmdGVyIHN1YnRyYWN0aW9ucyBhbmQgdHJlYXQgdGhlbSBhcyBvbmUgXCJhdG9taWNcIiBtb2RpZnkgY2hhbmdlLlxuICAgIGlmIChvcGVyYXRpb24gPT09ICctJyAmJiBsaW5lWzBdID09PSAnKycpIHtcbiAgICAgIG9wZXJhdGlvbiA9ICcrJztcbiAgICB9XG5cbiAgICBpZiAob3BlcmF0aW9uID09PSBsaW5lWzBdKSB7XG4gICAgICByZXQucHVzaChsaW5lKTtcbiAgICAgIHN0YXRlLmluZGV4Kys7XG4gICAgfSBlbHNlIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZXQ7XG59XG5mdW5jdGlvbiBjb2xsZWN0Q29udGV4dChzdGF0ZSwgbWF0Y2hDaGFuZ2VzKSB7XG4gIGxldCBjaGFuZ2VzID0gW10sXG4gICAgICBtZXJnZWQgPSBbXSxcbiAgICAgIG1hdGNoSW5kZXggPSAwLFxuICAgICAgY29udGV4dENoYW5nZXMgPSBmYWxzZSxcbiAgICAgIGNvbmZsaWN0ZWQgPSBmYWxzZTtcbiAgd2hpbGUgKG1hdGNoSW5kZXggPCBtYXRjaENoYW5nZXMubGVuZ3RoXG4gICAgICAgICYmIHN0YXRlLmluZGV4IDwgc3RhdGUubGluZXMubGVuZ3RoKSB7XG4gICAgbGV0IGNoYW5nZSA9IHN0YXRlLmxpbmVzW3N0YXRlLmluZGV4XSxcbiAgICAgICAgbWF0Y2ggPSBtYXRjaENoYW5nZXNbbWF0Y2hJbmRleF07XG5cbiAgICAvLyBPbmNlIHdlJ3ZlIGhpdCBvdXIgYWRkLCB0aGVuIHdlIGFyZSBkb25lXG4gICAgaWYgKG1hdGNoWzBdID09PSAnKycpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIGNvbnRleHRDaGFuZ2VzID0gY29udGV4dENoYW5nZXMgfHwgY2hhbmdlWzBdICE9PSAnICc7XG5cbiAgICBtZXJnZWQucHVzaChtYXRjaCk7XG4gICAgbWF0Y2hJbmRleCsrO1xuXG4gICAgLy8gQ29uc3VtZSBhbnkgYWRkaXRpb25zIGluIHRoZSBvdGhlciBibG9jayBhcyBhIGNvbmZsaWN0IHRvIGF0dGVtcHRcbiAgICAvLyB0byBwdWxsIGluIHRoZSByZW1haW5pbmcgY29udGV4dCBhZnRlciB0aGlzXG4gICAgaWYgKGNoYW5nZVswXSA9PT0gJysnKSB7XG4gICAgICBjb25mbGljdGVkID0gdHJ1ZTtcblxuICAgICAgd2hpbGUgKGNoYW5nZVswXSA9PT0gJysnKSB7XG4gICAgICAgIGNoYW5nZXMucHVzaChjaGFuZ2UpO1xuICAgICAgICBjaGFuZ2UgPSBzdGF0ZS5saW5lc1srK3N0YXRlLmluZGV4XTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAobWF0Y2guc3Vic3RyKDEpID09PSBjaGFuZ2Uuc3Vic3RyKDEpKSB7XG4gICAgICBjaGFuZ2VzLnB1c2goY2hhbmdlKTtcbiAgICAgIHN0YXRlLmluZGV4Kys7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbmZsaWN0ZWQgPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIGlmICgobWF0Y2hDaGFuZ2VzW21hdGNoSW5kZXhdIHx8ICcnKVswXSA9PT0gJysnXG4gICAgICAmJiBjb250ZXh0Q2hhbmdlcykge1xuICAgIGNvbmZsaWN0ZWQgPSB0cnVlO1xuICB9XG5cbiAgaWYgKGNvbmZsaWN0ZWQpIHtcbiAgICByZXR1cm4gY2hhbmdlcztcbiAgfVxuXG4gIHdoaWxlIChtYXRjaEluZGV4IDwgbWF0Y2hDaGFuZ2VzLmxlbmd0aCkge1xuICAgIG1lcmdlZC5wdXNoKG1hdGNoQ2hhbmdlc1ttYXRjaEluZGV4KytdKTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgbWVyZ2VkLFxuICAgIGNoYW5nZXNcbiAgfTtcbn1cblxuZnVuY3Rpb24gYWxsUmVtb3ZlcyhjaGFuZ2VzKSB7XG4gIHJldHVybiBjaGFuZ2VzLnJlZHVjZShmdW5jdGlvbihwcmV2LCBjaGFuZ2UpIHtcbiAgICByZXR1cm4gcHJldiAmJiBjaGFuZ2VbMF0gPT09ICctJztcbiAgfSwgdHJ1ZSk7XG59XG5mdW5jdGlvbiBza2lwUmVtb3ZlU3VwZXJzZXQoc3RhdGUsIHJlbW92ZUNoYW5nZXMsIGRlbHRhKSB7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgZGVsdGE7IGkrKykge1xuICAgIGxldCBjaGFuZ2VDb250ZW50ID0gcmVtb3ZlQ2hhbmdlc1tyZW1vdmVDaGFuZ2VzLmxlbmd0aCAtIGRlbHRhICsgaV0uc3Vic3RyKDEpO1xuICAgIGlmIChzdGF0ZS5saW5lc1tzdGF0ZS5pbmRleCArIGldICE9PSAnICcgKyBjaGFuZ2VDb250ZW50KSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgc3RhdGUuaW5kZXggKz0gZGVsdGE7XG4gIHJldHVybiB0cnVlO1xufVxuXG5mdW5jdGlvbiBjYWxjT2xkTmV3TGluZUNvdW50KGxpbmVzKSB7XG4gIGxldCBvbGRMaW5lcyA9IDA7XG4gIGxldCBuZXdMaW5lcyA9IDA7XG5cbiAgbGluZXMuZm9yRWFjaChmdW5jdGlvbihsaW5lKSB7XG4gICAgaWYgKHR5cGVvZiBsaW5lICE9PSAnc3RyaW5nJykge1xuICAgICAgbGV0IG15Q291bnQgPSBjYWxjT2xkTmV3TGluZUNvdW50KGxpbmUubWluZSk7XG4gICAgICBsZXQgdGhlaXJDb3VudCA9IGNhbGNPbGROZXdMaW5lQ291bnQobGluZS50aGVpcnMpO1xuXG4gICAgICBpZiAob2xkTGluZXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpZiAobXlDb3VudC5vbGRMaW5lcyA9PT0gdGhlaXJDb3VudC5vbGRMaW5lcykge1xuICAgICAgICAgIG9sZExpbmVzICs9IG15Q291bnQub2xkTGluZXM7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb2xkTGluZXMgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKG5ld0xpbmVzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaWYgKG15Q291bnQubmV3TGluZXMgPT09IHRoZWlyQ291bnQubmV3TGluZXMpIHtcbiAgICAgICAgICBuZXdMaW5lcyArPSBteUNvdW50Lm5ld0xpbmVzO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG5ld0xpbmVzID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChuZXdMaW5lcyAhPT0gdW5kZWZpbmVkICYmIChsaW5lWzBdID09PSAnKycgfHwgbGluZVswXSA9PT0gJyAnKSkge1xuICAgICAgICBuZXdMaW5lcysrO1xuICAgICAgfVxuICAgICAgaWYgKG9sZExpbmVzICE9PSB1bmRlZmluZWQgJiYgKGxpbmVbMF0gPT09ICctJyB8fCBsaW5lWzBdID09PSAnICcpKSB7XG4gICAgICAgIG9sZExpbmVzKys7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4ge29sZExpbmVzLCBuZXdMaW5lc307XG59XG4iXX0=\n","/*istanbul ignore start*/\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.parsePatch = parsePatch;\n\n/*istanbul ignore end*/\nfunction parsePatch(uniDiff) {\n  /*istanbul ignore start*/\n  var\n  /*istanbul ignore end*/\n  options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var diffstr = uniDiff.split(/\\r\\n|[\\n\\v\\f\\r\\x85]/),\n      delimiters = uniDiff.match(/\\r\\n|[\\n\\v\\f\\r\\x85]/g) || [],\n      list = [],\n      i = 0;\n\n  function parseIndex() {\n    var index = {};\n    list.push(index); // Parse diff metadata\n\n    while (i < diffstr.length) {\n      var line = diffstr[i]; // File header found, end parsing diff metadata\n\n      if (/^(\\-\\-\\-|\\+\\+\\+|@@)\\s/.test(line)) {\n        break;\n      } // Diff index\n\n\n      var header = /^(?:Index:|diff(?: -r \\w+)+)\\s+(.+?)\\s*$/.exec(line);\n\n      if (header) {\n        index.index = header[1];\n      }\n\n      i++;\n    } // Parse file headers if they are defined. Unified diff requires them, but\n    // there's no technical issues to have an isolated hunk without file header\n\n\n    parseFileHeader(index);\n    parseFileHeader(index); // Parse hunks\n\n    index.hunks = [];\n\n    while (i < diffstr.length) {\n      var _line = diffstr[i];\n\n      if (/^(Index:|diff|\\-\\-\\-|\\+\\+\\+)\\s/.test(_line)) {\n        break;\n      } else if (/^@@/.test(_line)) {\n        index.hunks.push(parseHunk());\n      } else if (_line && options.strict) {\n        // Ignore unexpected content unless in strict mode\n        throw new Error('Unknown line ' + (i + 1) + ' ' + JSON.stringify(_line));\n      } else {\n        i++;\n      }\n    }\n  } // Parses the --- and +++ headers, if none are found, no lines\n  // are consumed.\n\n\n  function parseFileHeader(index) {\n    var fileHeader = /^(---|\\+\\+\\+)\\s+(.*)$/.exec(diffstr[i]);\n\n    if (fileHeader) {\n      var keyPrefix = fileHeader[1] === '---' ? 'old' : 'new';\n      var data = fileHeader[2].split('\\t', 2);\n      var fileName = data[0].replace(/\\\\\\\\/g, '\\\\');\n\n      if (/^\".*\"$/.test(fileName)) {\n        fileName = fileName.substr(1, fileName.length - 2);\n      }\n\n      index[keyPrefix + 'FileName'] = fileName;\n      index[keyPrefix + 'Header'] = (data[1] || '').trim();\n      i++;\n    }\n  } // Parses a hunk\n  // This assumes that we are at the start of a hunk.\n\n\n  function parseHunk() {\n    var chunkHeaderIndex = i,\n        chunkHeaderLine = diffstr[i++],\n        chunkHeader = chunkHeaderLine.split(/@@ -(\\d+)(?:,(\\d+))? \\+(\\d+)(?:,(\\d+))? @@/);\n    var hunk = {\n      oldStart: +chunkHeader[1],\n      oldLines: typeof chunkHeader[2] === 'undefined' ? 1 : +chunkHeader[2],\n      newStart: +chunkHeader[3],\n      newLines: typeof chunkHeader[4] === 'undefined' ? 1 : +chunkHeader[4],\n      lines: [],\n      linedelimiters: []\n    }; // Unified Diff Format quirk: If the chunk size is 0,\n    // the first number is one lower than one would expect.\n    // https://www.artima.com/weblogs/viewpost.jsp?thread=164293\n\n    if (hunk.oldLines === 0) {\n      hunk.oldStart += 1;\n    }\n\n    if (hunk.newLines === 0) {\n      hunk.newStart += 1;\n    }\n\n    var addCount = 0,\n        removeCount = 0;\n\n    for (; i < diffstr.length; i++) {\n      // Lines starting with '---' could be mistaken for the \"remove line\" operation\n      // But they could be the header for the next file. Therefore prune such cases out.\n      if (diffstr[i].indexOf('--- ') === 0 && i + 2 < diffstr.length && diffstr[i + 1].indexOf('+++ ') === 0 && diffstr[i + 2].indexOf('@@') === 0) {\n        break;\n      }\n\n      var operation = diffstr[i].length == 0 && i != diffstr.length - 1 ? ' ' : diffstr[i][0];\n\n      if (operation === '+' || operation === '-' || operation === ' ' || operation === '\\\\') {\n        hunk.lines.push(diffstr[i]);\n        hunk.linedelimiters.push(delimiters[i] || '\\n');\n\n        if (operation === '+') {\n          addCount++;\n        } else if (operation === '-') {\n          removeCount++;\n        } else if (operation === ' ') {\n          addCount++;\n          removeCount++;\n        }\n      } else {\n        break;\n      }\n    } // Handle the empty block count case\n\n\n    if (!addCount && hunk.newLines === 1) {\n      hunk.newLines = 0;\n    }\n\n    if (!removeCount && hunk.oldLines === 1) {\n      hunk.oldLines = 0;\n    } // Perform optional sanity checking\n\n\n    if (options.strict) {\n      if (addCount !== hunk.newLines) {\n        throw new Error('Added line count did not match for hunk at line ' + (chunkHeaderIndex + 1));\n      }\n\n      if (removeCount !== hunk.oldLines) {\n        throw new Error('Removed line count did not match for hunk at line ' + (chunkHeaderIndex + 1));\n      }\n    }\n\n    return hunk;\n  }\n\n  while (i < diffstr.length) {\n    parseIndex();\n  }\n\n  return list;\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9wYXRjaC9wYXJzZS5qcyJdLCJuYW1lcyI6WyJwYXJzZVBhdGNoIiwidW5pRGlmZiIsIm9wdGlvbnMiLCJkaWZmc3RyIiwic3BsaXQiLCJkZWxpbWl0ZXJzIiwibWF0Y2giLCJsaXN0IiwiaSIsInBhcnNlSW5kZXgiLCJpbmRleCIsInB1c2giLCJsZW5ndGgiLCJsaW5lIiwidGVzdCIsImhlYWRlciIsImV4ZWMiLCJwYXJzZUZpbGVIZWFkZXIiLCJodW5rcyIsInBhcnNlSHVuayIsInN0cmljdCIsIkVycm9yIiwiSlNPTiIsInN0cmluZ2lmeSIsImZpbGVIZWFkZXIiLCJrZXlQcmVmaXgiLCJkYXRhIiwiZmlsZU5hbWUiLCJyZXBsYWNlIiwic3Vic3RyIiwidHJpbSIsImNodW5rSGVhZGVySW5kZXgiLCJjaHVua0hlYWRlckxpbmUiLCJjaHVua0hlYWRlciIsImh1bmsiLCJvbGRTdGFydCIsIm9sZExpbmVzIiwibmV3U3RhcnQiLCJuZXdMaW5lcyIsImxpbmVzIiwibGluZWRlbGltaXRlcnMiLCJhZGRDb3VudCIsInJlbW92ZUNvdW50IiwiaW5kZXhPZiIsIm9wZXJhdGlvbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQU8sU0FBU0EsVUFBVCxDQUFvQkMsT0FBcEIsRUFBMkM7QUFBQTtBQUFBO0FBQUE7QUFBZEMsRUFBQUEsT0FBYyx1RUFBSixFQUFJO0FBQ2hELE1BQUlDLE9BQU8sR0FBR0YsT0FBTyxDQUFDRyxLQUFSLENBQWMscUJBQWQsQ0FBZDtBQUFBLE1BQ0lDLFVBQVUsR0FBR0osT0FBTyxDQUFDSyxLQUFSLENBQWMsc0JBQWQsS0FBeUMsRUFEMUQ7QUFBQSxNQUVJQyxJQUFJLEdBQUcsRUFGWDtBQUFBLE1BR0lDLENBQUMsR0FBRyxDQUhSOztBQUtBLFdBQVNDLFVBQVQsR0FBc0I7QUFDcEIsUUFBSUMsS0FBSyxHQUFHLEVBQVo7QUFDQUgsSUFBQUEsSUFBSSxDQUFDSSxJQUFMLENBQVVELEtBQVYsRUFGb0IsQ0FJcEI7O0FB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QUwsS0FBa0IsQ0FBbkMsRUFBc0M7QUFDcENKLE1BQUFBLElBQUksQ0FBQ0ksUUFBTCxHQUFnQixDQUFoQjtBQUNEOztBQUNELFFBQUksQ0FBQ0ksV0FBRCxJQUFnQlIsSUFBSSxDQUFDRSxRQUFMLEtBQWtCLENBQXRDLEVBQXlDO0FBQ3ZDRixNQUFBQSxJQUFJLENBQUNFLFFBQUwsR0FBZ0IsQ0FBaEI7QUFDRCxLQTVEa0IsQ0E4RG5COzs7QUFDQSxRQUFJbEMsT0FBTyxDQUFDa0IsTUFBWixFQUFvQjtBQUNsQixVQUFJcUIsUUFBUSxLQUFLUCxJQUFJLENBQUNJLFFBQXRCLEVBQWdDO0FBQzlCLGNBQU0sSUFBSWpCLEtBQUosQ0FBVSxzREFBc0RVLGdCQUFnQixHQUFHLENBQXpFLENBQVYsQ0FBTjtBQUNEOztBQUNELFVBQUlXLFdBQVcsS0FBS1IsSUFBSSxDQUFDRSxRQUF6QixFQUFtQztBQUNqQyxjQUFNLElBQUlmLEtBQUosQ0FBVSx3REFBd0RVLGdCQUFnQixHQUFHLENBQTNFLENBQVYsQ0FBTjtBQUNEO0FBQ0Y7O0FBRUQsV0FBT0csSUFBUDtBQUNEOztBQUVELFNBQU8xQixDQUFDLEdBQUdMLE9BQU8sQ0FBQ1MsTUFBbkIsRUFBMkI7QUFDekJILElBQUFBLFVBQVU7QUFDWDs7QUFFRCxTQUFPRixJQUFQO0FBQ0QiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZnVuY3Rpb24gcGFyc2VQYXRjaCh1bmlEaWZmLCBvcHRpb25zID0ge30pIHtcbiAgbGV0IGRpZmZzdHIgPSB1bmlEaWZmLnNwbGl0KC9cXHJcXG58W1xcblxcdlxcZlxcclxceDg1XS8pLFxuICAgICAgZGVsaW1pdGVycyA9IHVuaURpZmYubWF0Y2goL1xcclxcbnxbXFxuXFx2XFxmXFxyXFx4ODVdL2cpIHx8IFtdLFxuICAgICAgbGlzdCA9IFtdLFxuICAgICAgaSA9IDA7XG5cbiAgZnVuY3Rpb24gcGFyc2VJbmRleCgpIHtcbiAgICBsZXQgaW5kZXggPSB7fTtcbiAgICBsaXN0LnB1c2goaW5kZXgpO1xuXG4gICAgLy8gUGFyc2UgZGlmZiBtZXRhZGF0YVxuICAgIHdoaWxlIChpIDwgZGlmZnN0ci5sZW5ndGgpIHtcbiAgICAgIGxldCBsaW5lID0gZGlmZnN0cltpXTtcblxuICAgICAgLy8gRmlsZSBoZWFkZXIgZm91bmQsIGVuZCBwYXJzaW5nIGRpZmYgbWV0YWRhdGFcbiAgICAgIGlmICgoL14oXFwtXFwtXFwtfFxcK1xcK1xcK3xAQClcXHMvKS50ZXN0KGxpbmUpKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICAvLyBEaWZmIGluZGV4XG4gICAgICBsZXQgaGVhZGVyID0gKC9eKD86SW5kZXg6fGRpZmYoPzogLXIgXFx3KykrKVxccysoLis/KVxccyokLykuZXhlYyhsaW5lKTtcbiAgICAgIGlmIChoZWFkZXIpIHtcbiAgICAgICAgaW5kZXguaW5kZXggPSBoZWFkZXJbMV07XG4gICAgICB9XG5cbiAgICAgIGkrKztcbiAgICB9XG5cbiAgICAvLyBQYXJzZSBmaWxlIGhlYWRlcnMgaWYgdGhleSBhcmUgZGVmaW5lZC4gVW5pZmllZCBkaWZmIHJlcXVpcmVzIHRoZW0sIGJ1dFxuICAgIC8vIHRoZXJlJ3Mgbm8gdGVjaG5pY2FsIGlzc3VlcyB0byBoYXZlIGFuIGlzb2xhdGVkIGh1bmsgd2l0aG91dCBmaWxlIGhlYWRlclxuICAgIHBhcnNlRmlsZUhlYWRlcihpbmRleCk7XG4gICAgcGFyc2VGaWxlSGVhZGVyKGluZGV4KTtcblxuICAgIC8vIFBhcnNlIGh1bmtzXG4gICAgaW5kZXguaHVua3MgPSBbXTtcblxuICAgIHdoaWxlIChpIDwgZGlmZnN0ci5sZW5ndGgpIHtcbiAgICAgIGxldCBsaW5lID0gZGlmZnN0cltpXTtcblxuICAgICAgaWYgKCgvXihJbmRleDp8ZGlmZnxcXC1cXC1cXC18XFwrXFwrXFwrKVxccy8pLnRlc3QobGluZSkpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9IGVsc2UgaWYgKCgvXkBALykudGVzdChsaW5lKSkge1xuICAgICAgICBpbmRleC5odW5rcy5wdXNoKHBhcnNlSHVuaygpKTtcbiAgICAgIH0gZWxzZSBpZiAobGluZSAmJiBvcHRpb25zLnN0cmljdCkge1xuICAgICAgICAvLyBJZ25vcmUgdW5leHBlY3RlZCBjb250ZW50IHVubGVzcyBpbiBzdHJpY3QgbW9kZVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Vua25vd24gbGluZSAnICsgKGkgKyAxKSArICcgJyArIEpTT04uc3RyaW5naWZ5KGxpbmUpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGkrKztcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBQYXJzZXMgdGhlIC0tLSBhbmQgKysrIGhlYWRlcnMsIGlmIG5vbmUgYXJlIGZvdW5kLCBubyBsaW5lc1xuICAvLyBhcmUgY29uc3VtZWQuXG4gIGZ1bmN0aW9uIHBhcnNlRmlsZUhlYWRlcihpbmRleCkge1xuICAgIGNvbnN0IGZpbGVIZWFkZXIgPSAoL14oLS0tfFxcK1xcK1xcKylcXHMrKC4qKSQvKS5leGVjKGRpZmZzdHJbaV0pO1xuICAgIGlmIChmaWxlSGVhZGVyKSB7XG4gICAgICBsZXQga2V5UHJlZml4ID0gZmlsZUhlYWRlclsxXSA9PT0gJy0tLScgPyAnb2xkJyA6ICduZXcnO1xuICAgICAgY29uc3QgZGF0YSA9IGZpbGVIZWFkZXJbMl0uc3BsaXQoJ1xcdCcsIDIpO1xuICAgICAgbGV0IGZpbGVOYW1lID0gZGF0YVswXS5yZXBsYWNlKC9cXFxcXFxcXC9nLCAnXFxcXCcpO1xuICAgICAgaWYgKCgvXlwiLipcIiQvKS50ZXN0KGZpbGVOYW1lKSkge1xuICAgICAgICBmaWxlTmFtZSA9IGZpbGVOYW1lLnN1YnN0cigxLCBmaWxlTmFtZS5sZW5ndGggLSAyKTtcbiAgICAgIH1cbiAgICAgIGluZGV4W2tleVByZWZpeCArICdGaWxlTmFtZSddID0gZmlsZU5hbWU7XG4gICAgICBpbmRleFtrZXlQcmVmaXggKyAnSGVhZGVyJ10gPSAoZGF0YVsxXSB8fCAnJykudHJpbSgpO1xuXG4gICAgICBpKys7XG4gICAgfVxuICB9XG5cbiAgLy8gUGFyc2VzIGEgaHVua1xuICAvLyBUaGlzIGFzc3VtZXMgdGhhdCB3ZSBhcmUgYXQgdGhlIHN0YXJ0IG9mIGEgaHVuay5cbiAgZnVuY3Rpb24gcGFyc2VIdW5rKCkge1xuICAgIGxldCBjaHVua0hlYWRlckluZGV4ID0gaSxcbiAgICAgICAgY2h1bmtIZWFkZXJMaW5lID0gZGlmZnN0cltpKytdLFxuICAgICAgICBjaHVua0hlYWRlciA9IGNodW5rSGVhZGVyTGluZS5zcGxpdCgvQEAgLShcXGQrKSg/OiwoXFxkKykpPyBcXCsoXFxkKykoPzosKFxcZCspKT8gQEAvKTtcblxuICAgIGxldCBodW5rID0ge1xuICAgICAgb2xkU3RhcnQ6ICtjaHVua0hlYWRlclsxXSxcbiAgICAgIG9sZExpbmVzOiB0eXBlb2YgY2h1bmtIZWFkZXJbMl0gPT09ICd1bmRlZmluZWQnID8gMSA6ICtjaHVua0hlYWRlclsyXSxcbiAgICAgIG5ld1N0YXJ0OiArY2h1bmtIZWFkZXJbM10sXG4gICAgICBuZXdMaW5lczogdHlwZW9mIGNodW5rSGVhZGVyWzRdID09PSAndW5kZWZpbmVkJyA/IDEgOiArY2h1bmtIZWFkZXJbNF0sXG4gICAgICBsaW5lczogW10sXG4gICAgICBsaW5lZGVsaW1pdGVyczogW11cbiAgICB9O1xuXG4gICAgLy8gVW5pZmllZCBEaWZmIEZvcm1hdCBxdWlyazogSWYgdGhlIGNodW5rIHNpemUgaXMgMCxcbiAgICAvLyB0aGUgZmlyc3QgbnVtYmVyIGlzIG9uZSBsb3dlciB0aGFuIG9uZSB3b3VsZCBleHBlY3QuXG4gICAgLy8gaHR0cHM6Ly93d3cuYXJ0aW1hLmNvbS93ZWJsb2dzL3ZpZXdwb3N0LmpzcD90aHJlYWQ9MTY0MjkzXG4gICAgaWYgKGh1bmsub2xkTGluZXMgPT09IDApIHtcbiAgICAgIGh1bmsub2xkU3RhcnQgKz0gMTtcbiAgICB9XG4gICAgaWYgKGh1bmsubmV3TGluZXMgPT09IDApIHtcbiAgICAgIGh1bmsubmV3U3RhcnQgKz0gMTtcbiAgICB9XG5cbiAgICBsZXQgYWRkQ291bnQgPSAwLFxuICAgICAgICByZW1vdmVDb3VudCA9IDA7XG4gICAgZm9yICg7IGkgPCBkaWZmc3RyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAvLyBMaW5lcyBzdGFydGluZyB3aXRoICctLS0nIGNvdWxkIGJlIG1pc3Rha2VuIGZvciB0aGUgXCJyZW1vdmUgbGluZVwiIG9wZXJhdGlvblxuICAgICAgLy8gQnV0IHRoZXkgY291bGQgYmUgdGhlIGhlYWRlciBmb3IgdGhlIG5leHQgZmlsZS4gVGhlcmVmb3JlIHBydW5lIHN1Y2ggY2FzZXMgb3V0LlxuICAgICAgaWYgKGRpZmZzdHJbaV0uaW5kZXhPZignLS0tICcpID09PSAwXG4gICAgICAgICAgICAmJiAoaSArIDIgPCBkaWZmc3RyLmxlbmd0aClcbiAgICAgICAgICAgICYmIGRpZmZzdHJbaSArIDFdLmluZGV4T2YoJysrKyAnKSA9PT0gMFxuICAgICAgICAgICAgJiYgZGlmZnN0cltpICsgMl0uaW5kZXhPZignQEAnKSA9PT0gMCkge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgbGV0IG9wZXJhdGlvbiA9IChkaWZmc3RyW2ldLmxlbmd0aCA9PSAwICYmIGkgIT0gKGRpZmZzdHIubGVuZ3RoIC0gMSkpID8gJyAnIDogZGlmZnN0cltpXVswXTtcblxuICAgICAgaWYgKG9wZXJhdGlvbiA9PT0gJysnIHx8IG9wZXJhdGlvbiA9PT0gJy0nIHx8IG9wZXJhdGlvbiA9PT0gJyAnIHx8IG9wZXJhdGlvbiA9PT0gJ1xcXFwnKSB7XG4gICAgICAgIGh1bmsubGluZXMucHVzaChkaWZmc3RyW2ldKTtcbiAgICAgICAgaHVuay5saW5lZGVsaW1pdGVycy5wdXNoKGRlbGltaXRlcnNbaV0gfHwgJ1xcbicpO1xuXG4gICAgICAgIGlmIChvcGVyYXRpb24gPT09ICcrJykge1xuICAgICAgICAgIGFkZENvdW50Kys7XG4gICAgICAgIH0gZWxzZSBpZiAob3BlcmF0aW9uID09PSAnLScpIHtcbiAgICAgICAgICByZW1vdmVDb3VudCsrO1xuICAgICAgICB9IGVsc2UgaWYgKG9wZXJhdGlvbiA9PT0gJyAnKSB7XG4gICAgICAgICAgYWRkQ291bnQrKztcbiAgICAgICAgICByZW1vdmVDb3VudCsrO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBIYW5kbGUgdGhlIGVtcHR5IGJsb2NrIGNvdW50IGNhc2VcbiAgICBpZiAoIWFkZENvdW50ICYmIGh1bmsubmV3TGluZXMgPT09IDEpIHtcbiAgICAgIGh1bmsubmV3TGluZXMgPSAwO1xuICAgIH1cbiAgICBpZiAoIXJlbW92ZUNvdW50ICYmIGh1bmsub2xkTGluZXMgPT09IDEpIHtcbiAgICAgIGh1bmsub2xkTGluZXMgPSAwO1xuICAgIH1cblxuICAgIC8vIFBlcmZvcm0gb3B0aW9uYWwgc2FuaXR5IGNoZWNraW5nXG4gICAgaWYgKG9wdGlvbnMuc3RyaWN0KSB7XG4gICAgICBpZiAoYWRkQ291bnQgIT09IGh1bmsubmV3TGluZXMpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdBZGRlZCBsaW5lIGNvdW50IGRpZCBub3QgbWF0Y2ggZm9yIGh1bmsgYXQgbGluZSAnICsgKGNodW5rSGVhZGVySW5kZXggKyAxKSk7XG4gICAgICB9XG4gICAgICBpZiAocmVtb3ZlQ291bnQgIT09IGh1bmsub2xkTGluZXMpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZW1vdmVkIGxpbmUgY291bnQgZGlkIG5vdCBtYXRjaCBmb3IgaHVuayBhdCBsaW5lICcgKyAoY2h1bmtIZWFkZXJJbmRleCArIDEpKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gaHVuaztcbiAgfVxuXG4gIHdoaWxlIChpIDwgZGlmZnN0ci5sZW5ndGgpIHtcbiAgICBwYXJzZUluZGV4KCk7XG4gIH1cblxuICByZXR1cm4gbGlzdDtcbn1cbiJdfQ==\n","/*istanbul ignore start*/\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.arrayEqual = arrayEqual;\nexports.arrayStartsWith = arrayStartsWith;\n\n/*istanbul ignore end*/\nfunction arrayEqual(a, b) {\n  if (a.length !== b.length) {\n    return false;\n  }\n\n  return arrayStartsWith(a, b);\n}\n\nfunction arrayStartsWith(array, start) {\n  if (start.length > array.length) {\n    return false;\n  }\n\n  for (var i = 0; i < start.length; i++) {\n    if (start[i] !== array[i]) {\n      return false;\n    }\n  }\n\n  return true;\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy91dGlsL2FycmF5LmpzIl0sIm5hbWVzIjpbImFycmF5RXF1YWwiLCJhIiwiYiIsImxlbmd0aCIsImFycmF5U3RhcnRzV2l0aCIsImFycmF5Iiwic3RhcnQiLCJpIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQU8sU0FBU0EsVUFBVCxDQUFvQkMsQ0FBcEIsRUFBdUJDLENBQXZCLEVBQTBCO0FBQy9CLE1BQUlELENBQUMsQ0FBQ0UsTUFBRixLQUFhRCxDQUFDLENBQUNDLE1BQW5CLEVBQTJCO0FBQ3pCLFdBQU8sS0FBUDtBQUNEOztBQUVELFNBQU9DLGVBQWUsQ0FBQ0gsQ0FBRCxFQUFJQyxDQUFKLENBQXRCO0FBQ0Q7O0FBRU0sU0FBU0UsZUFBVCxDQUF5QkMsS0FBekIsRUFBZ0NDLEtBQWhDLEVBQXVDO0FBQzVDLE1BQUlBLEtBQUssQ0FBQ0gsTUFBTixHQUFlRSxLQUFLLENBQUNGLE1BQXpCLEVBQWlDO0FBQy9CLFdBQU8sS0FBUDtBQUNEOztBQUVELE9BQUssSUFBSUksQ0FBQyxHQUFHLENBQWIsRUFBZ0JBLENBQUMsR0FBR0QsS0FBSyxDQUFDSCxNQUExQixFQUFrQ0ksQ0FBQyxFQUFuQyxFQUF1QztBQUNyQyxRQUFJRCxLQUFLLENBQUNDLENBQUQsQ0FBTCxLQUFhRixLQUFLLENBQUNFLENBQUQsQ0FBdEIsRUFBMkI7QUFDekIsYUFBTyxLQUFQO0FBQ0Q7QUFDRjs7QUFFRCxTQUFPLElBQVA7QUFDRCIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBmdW5jdGlvbiBhcnJheUVxdWFsKGEsIGIpIHtcbiAgaWYgKGEubGVuZ3RoICE9PSBiLmxlbmd0aCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHJldHVybiBhcnJheVN0YXJ0c1dpdGgoYSwgYik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhcnJheVN0YXJ0c1dpdGgoYXJyYXksIHN0YXJ0KSB7XG4gIGlmIChzdGFydC5sZW5ndGggPiBhcnJheS5sZW5ndGgpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBmb3IgKGxldCBpID0gMDsgaSA8IHN0YXJ0Lmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHN0YXJ0W2ldICE9PSBhcnJheVtpXSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufVxuIl19\n","/*istanbul ignore start*/\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = _default;\n\n/*istanbul ignore end*/\n// Iterator that traverses in the range of [min, max], stepping\n// by distance from a given start position. I.e. for [0, 4], with\n// start of 2, this will iterate 2, 3, 1, 4, 0.\nfunction\n/*istanbul ignore start*/\n_default\n/*istanbul ignore end*/\n(start, minLine, maxLine) {\n  var wantForward = true,\n      backwardExhausted = false,\n      forwardExhausted = false,\n      localOffset = 1;\n  return function iterator() {\n    if (wantForward && !forwardExhausted) {\n      if (backwardExhausted) {\n        localOffset++;\n      } else {\n        wantForward = false;\n      } // Check if trying to fit beyond text length, and if not, check it fits\n      // after offset location (or desired location on first iteration)\n\n\n      if (start + localOffset <= maxLine) {\n        return localOffset;\n      }\n\n      forwardExhausted = true;\n    }\n\n    if (!backwardExhausted) {\n      if (!forwardExhausted) {\n        wantForward = true;\n      } // Check if trying to fit before text beginning, and if not, check it fits\n      // before offset location\n\n\n      if (minLine <= start - localOffset) {\n        return -localOffset++;\n      }\n\n      backwardExhausted = true;\n      return iterator();\n    } // We tried to fit hunk before text beginning and beyond text length, then\n    // hunk can't fit on the text. Return undefined\n\n  };\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy91dGlsL2Rpc3RhbmNlLWl0ZXJhdG9yLmpzIl0sIm5hbWVzIjpbInN0YXJ0IiwibWluTGluZSIsIm1heExpbmUiLCJ3YW50Rm9yd2FyZCIsImJhY2t3YXJkRXhoYXVzdGVkIiwiZm9yd2FyZEV4aGF1c3RlZCIsImxvY2FsT2Zmc2V0IiwiaXRlcmF0b3IiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNlO0FBQUE7QUFBQTtBQUFBO0FBQUEsQ0FBU0EsS0FBVCxFQUFnQkMsT0FBaEIsRUFBeUJDLE9BQXpCLEVBQWtDO0FBQy9DLE1BQUlDLFdBQVcsR0FBRyxJQUFsQjtBQUFBLE1BQ0lDLGlCQUFpQixHQUFHLEtBRHhCO0FBQUEsTUFFSUMsZ0JBQWdCLEdBQUcsS0FGdkI7QUFBQSxNQUdJQyxXQUFXLEdBQUcsQ0FIbEI7QUFLQSxTQUFPLFNBQVNDLFFBQVQsR0FBb0I7QUFDekIsUUFBSUosV0FBVyxJQUFJLENBQUNFLGdCQUFwQixFQUFzQztBQUNwQyxVQUFJRCxpQkFBSixFQUF1QjtBQUNyQkUsUUFBQUEsV0FBVztBQUNaLE9BRkQsTUFFTztBQUNMSCxRQUFBQSxXQUFXLEdBQUcsS0FBZDtBQUNELE9BTG1DLENBT3BDO0FBQ0E7OztBQUNBLFVBQUlILEtBQUssR0FBR00sV0FBUixJQUF1QkosT0FBM0IsRUFBb0M7QUFDbEMsZUFBT0ksV0FBUDtBQUNEOztBQUVERCxNQUFBQSxnQkFBZ0IsR0FBRyxJQUFuQjtBQUNEOztBQUVELFFBQUksQ0FBQ0QsaUJBQUwsRUFBd0I7QUFDdEIsVUFBSSxDQUFDQyxnQkFBTCxFQUF1QjtBQUNyQkYsUUFBQUEsV0FBVyxHQUFHLElBQWQ7QUFDRCxPQUhxQixDQUt0QjtBQUNBOzs7QUFDQSxVQUFJRixPQUFPLElBQUlELEtBQUssR0FBR00sV0FBdkIsRUFBb0M7QUFDbEMsZUFBTyxDQUFDQSxXQUFXLEVBQW5CO0FBQ0Q7O0FBRURGLE1BQUFBLGlCQUFpQixHQUFHLElBQXBCO0FBQ0EsYUFBT0csUUFBUSxFQUFmO0FBQ0QsS0E5QndCLENBZ0N6QjtBQUNBOztBQUNELEdBbENEO0FBbUNEIiwic291cmNlc0NvbnRlbnQiOlsiLy8gSXRlcmF0b3IgdGhhdCB0cmF2ZXJzZXMgaW4gdGhlIHJhbmdlIG9mIFttaW4sIG1heF0sIHN0ZXBwaW5nXG4vLyBieSBkaXN0YW5jZSBmcm9tIGEgZ2l2ZW4gc3RhcnQgcG9zaXRpb24uIEkuZS4gZm9yIFswLCA0XSwgd2l0aFxuLy8gc3RhcnQgb2YgMiwgdGhpcyB3aWxsIGl0ZXJhdGUgMiwgMywgMSwgNCwgMC5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHN0YXJ0LCBtaW5MaW5lLCBtYXhMaW5lKSB7XG4gIGxldCB3YW50Rm9yd2FyZCA9IHRydWUsXG4gICAgICBiYWNrd2FyZEV4aGF1c3RlZCA9IGZhbHNlLFxuICAgICAgZm9yd2FyZEV4aGF1c3RlZCA9IGZhbHNlLFxuICAgICAgbG9jYWxPZmZzZXQgPSAxO1xuXG4gIHJldHVybiBmdW5jdGlvbiBpdGVyYXRvcigpIHtcbiAgICBpZiAod2FudEZvcndhcmQgJiYgIWZvcndhcmRFeGhhdXN0ZWQpIHtcbiAgICAgIGlmIChiYWNrd2FyZEV4aGF1c3RlZCkge1xuICAgICAgICBsb2NhbE9mZnNldCsrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgd2FudEZvcndhcmQgPSBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgLy8gQ2hlY2sgaWYgdHJ5aW5nIHRvIGZpdCBiZXlvbmQgdGV4dCBsZW5ndGgsIGFuZCBpZiBub3QsIGNoZWNrIGl0IGZpdHNcbiAgICAgIC8vIGFmdGVyIG9mZnNldCBsb2NhdGlvbiAob3IgZGVzaXJlZCBsb2NhdGlvbiBvbiBmaXJzdCBpdGVyYXRpb24pXG4gICAgICBpZiAoc3RhcnQgKyBsb2NhbE9mZnNldCA8PSBtYXhMaW5lKSB7XG4gICAgICAgIHJldHVybiBsb2NhbE9mZnNldDtcbiAgICAgIH1cblxuICAgICAgZm9yd2FyZEV4aGF1c3RlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgaWYgKCFiYWNrd2FyZEV4aGF1c3RlZCkge1xuICAgICAgaWYgKCFmb3J3YXJkRXhoYXVzdGVkKSB7XG4gICAgICAgIHdhbnRGb3J3YXJkID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgLy8gQ2hlY2sgaWYgdHJ5aW5nIHRvIGZpdCBiZWZvcmUgdGV4dCBiZWdpbm5pbmcsIGFuZCBpZiBub3QsIGNoZWNrIGl0IGZpdHNcbiAgICAgIC8vIGJlZm9yZSBvZmZzZXQgbG9jYXRpb25cbiAgICAgIGlmIChtaW5MaW5lIDw9IHN0YXJ0IC0gbG9jYWxPZmZzZXQpIHtcbiAgICAgICAgcmV0dXJuIC1sb2NhbE9mZnNldCsrO1xuICAgICAgfVxuXG4gICAgICBiYWNrd2FyZEV4aGF1c3RlZCA9IHRydWU7XG4gICAgICByZXR1cm4gaXRlcmF0b3IoKTtcbiAgICB9XG5cbiAgICAvLyBXZSB0cmllZCB0byBmaXQgaHVuayBiZWZvcmUgdGV4dCBiZWdpbm5pbmcgYW5kIGJleW9uZCB0ZXh0IGxlbmd0aCwgdGhlblxuICAgIC8vIGh1bmsgY2FuJ3QgZml0IG9uIHRoZSB0ZXh0LiBSZXR1cm4gdW5kZWZpbmVkXG4gIH07XG59XG4iXX0=\n","/*istanbul ignore start*/\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.generateOptions = generateOptions;\n\n/*istanbul ignore end*/\nfunction generateOptions(options, defaults) {\n  if (typeof options === 'function') {\n    defaults.callback = options;\n  } else if (options) {\n    for (var name in options) {\n      /* istanbul ignore else */\n      if (options.hasOwnProperty(name)) {\n        defaults[name] = options[name];\n      }\n    }\n  }\n\n  return defaults;\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy91dGlsL3BhcmFtcy5qcyJdLCJuYW1lcyI6WyJnZW5lcmF0ZU9wdGlvbnMiLCJvcHRpb25zIiwiZGVmYXVsdHMiLCJjYWxsYmFjayIsIm5hbWUiLCJoYXNPd25Qcm9wZXJ0eSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQU8sU0FBU0EsZUFBVCxDQUF5QkMsT0FBekIsRUFBa0NDLFFBQWxDLEVBQTRDO0FBQ2pELE1BQUksT0FBT0QsT0FBUCxLQUFtQixVQUF2QixFQUFtQztBQUNqQ0MsSUFBQUEsUUFBUSxDQUFDQyxRQUFULEdBQW9CRixPQUFwQjtBQUNELEdBRkQsTUFFTyxJQUFJQSxPQUFKLEVBQWE7QUFDbEIsU0FBSyxJQUFJRyxJQUFULElBQWlCSCxPQUFqQixFQUEwQjtBQUN4QjtBQUNBLFVBQUlBLE9BQU8sQ0FBQ0ksY0FBUixDQUF1QkQsSUFBdkIsQ0FBSixFQUFrQztBQUNoQ0YsUUFBQUEsUUFBUSxDQUFDRSxJQUFELENBQVIsR0FBaUJILE9BQU8sQ0FBQ0csSUFBRCxDQUF4QjtBQUNEO0FBQ0Y7QUFDRjs7QUFDRCxTQUFPRixRQUFQO0FBQ0QiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVPcHRpb25zKG9wdGlvbnMsIGRlZmF1bHRzKSB7XG4gIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGRlZmF1bHRzLmNhbGxiYWNrID0gb3B0aW9ucztcbiAgfSBlbHNlIGlmIChvcHRpb25zKSB7XG4gICAgZm9yIChsZXQgbmFtZSBpbiBvcHRpb25zKSB7XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgICAgaWYgKG9wdGlvbnMuaGFzT3duUHJvcGVydHkobmFtZSkpIHtcbiAgICAgICAgZGVmYXVsdHNbbmFtZV0gPSBvcHRpb25zW25hbWVdO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gZGVmYXVsdHM7XG59XG4iXX0=\n","'use strict';\n\nvar shimmer = require('shimmer');\nvar wrap    = shimmer.wrap;\nvar unwrap  = shimmer.unwrap;\n\n// Default to complaining loudly when things don't go according to plan.\n// dunderscores are boring\nvar SYMBOL = 'wrap@before';\n\n// Sets a property on an object, preserving its enumerability.\n// This function assumes that the property is already writable.\nfunction defineProperty(obj, name, value) {\n  var enumerable = !!obj[name] && obj.propertyIsEnumerable(name);\n  Object.defineProperty(obj, name, {\n    configurable: true,\n    enumerable: enumerable,\n    writable: true,\n    value: value\n  });\n}\n\nfunction _process(self, listeners) {\n  var l = listeners.length;\n  for (var p = 0; p < l; p++) {\n    var listener = listeners[p];\n    // set up the listener so that onEmit can do whatever it needs\n    var before = self[SYMBOL];\n    if (typeof before === 'function') {\n      before(listener);\n    }\n    else if (Array.isArray(before)) {\n      var length = before.length;\n      for (var i = 0; i < length; i++) before[i](listener);\n    }\n  }\n}\n\nfunction _listeners(self, event) {\n  var listeners;\n  listeners = self._events && self._events[event];\n  if (!Array.isArray(listeners)) {\n    if (listeners) {\n      listeners = [listeners];\n    }\n    else {\n      listeners = [];\n    }\n  }\n\n  return listeners;\n}\n\nfunction _findAndProcess(self, event, before) {\n  var after = _listeners(self, event);\n  var unprocessed = after.filter(function(fn) { return before.indexOf(fn) === -1; });\n  if (unprocessed.length > 0) _process(self, unprocessed);\n}\n\nfunction _wrap(unwrapped, visit) {\n  if (!unwrapped) return;\n\n  var wrapped = unwrapped;\n  if (typeof unwrapped === 'function') {\n    wrapped = visit(unwrapped);\n  }\n  else if (Array.isArray(unwrapped)) {\n    wrapped = [];\n    for (var i = 0; i < unwrapped.length; i++) {\n      wrapped[i] = visit(unwrapped[i]);\n    }\n  }\n  return wrapped;\n}\n\nmodule.exports = function wrapEmitter(emitter, onAddListener, onEmit) {\n  if (!emitter || !emitter.on || !emitter.addListener ||\n      !emitter.removeListener || !emitter.emit) {\n    throw new Error(\"can only wrap real EEs\");\n  }\n\n  if (!onAddListener) throw new Error(\"must have function to run on listener addition\");\n  if (!onEmit) throw new Error(\"must have function to wrap listeners when emitting\");\n\n  /* Attach a context to a listener, and make sure that this hook stays\n   * attached to the emitter forevermore.\n   */\n  function adding(on) {\n    return function added(event, listener) {\n      var existing = _listeners(this, event).slice();\n\n      try {\n        var returned = on.call(this, event, listener);\n        _findAndProcess(this, event, existing);\n        return returned;\n      }\n      finally {\n        // old-style streaming overwrites .on and .addListener, so rewrap\n        if (!this.on.__wrapped) wrap(this, 'on', adding);\n        if (!this.addListener.__wrapped) wrap(this, 'addListener', adding);\n      }\n    };\n  }\n\n  function emitting(emit) {\n    return function emitted(event) {\n      if (!this._events || !this._events[event]) return emit.apply(this, arguments);\n\n      var unwrapped = this._events[event];\n\n      /* Ensure that if removeListener gets called, it's working with the\n       * unwrapped listeners.\n       */\n      function remover(removeListener) {\n        return function removed() {\n          this._events[event] = unwrapped;\n          try {\n            return removeListener.apply(this, arguments);\n          }\n          finally {\n            unwrapped = this._events[event];\n            this._events[event] = _wrap(unwrapped, onEmit);\n          }\n        };\n      }\n      wrap(this, 'removeListener', remover);\n\n      try {\n        /* At emit time, ensure that whatever else is going on, removeListener will\n         * still work while at the same time running whatever hooks are necessary to\n         * make sure the listener is run in the correct context.\n         */\n        this._events[event] = _wrap(unwrapped, onEmit);\n        return emit.apply(this, arguments);\n      }\n      finally {\n        /* Ensure that regardless of what happens when preparing and running the\n         * listeners, the status quo ante is restored before continuing.\n         */\n        unwrap(this, 'removeListener');\n        this._events[event] = unwrapped;\n      }\n    };\n  }\n\n  // support multiple onAddListeners\n  if (!emitter[SYMBOL]) {\n    defineProperty(emitter, SYMBOL, onAddListener);\n  }\n  else if (typeof emitter[SYMBOL] === 'function') {\n    defineProperty(emitter, SYMBOL, [emitter[SYMBOL], onAddListener]);\n  }\n  else if (Array.isArray(emitter[SYMBOL])) {\n    emitter[SYMBOL].push(onAddListener);\n  }\n\n  // only wrap the core functions once\n  if (!emitter.__wrapped) {\n    wrap(emitter, 'addListener', adding);\n    wrap(emitter, 'on',          adding);\n    wrap(emitter, 'emit',        emitting);\n\n    defineProperty(emitter, '__unwrap', function () {\n      unwrap(emitter, 'addListener');\n      unwrap(emitter, 'on');\n      unwrap(emitter, 'emit');\n      delete emitter[SYMBOL];\n      delete emitter.__wrapped;\n    });\n    defineProperty(emitter, '__wrapped', true);\n  }\n};\n","var once = require('once');\n\nvar noop = function() {};\n\nvar isRequest = function(stream) {\n\treturn stream.setHeader && typeof stream.abort === 'function';\n};\n\nvar isChildProcess = function(stream) {\n\treturn stream.stdio && Array.isArray(stream.stdio) && stream.stdio.length === 3\n};\n\nvar eos = function(stream, opts, callback) {\n\tif (typeof opts === 'function') return eos(stream, null, opts);\n\tif (!opts) opts = {};\n\n\tcallback = once(callback || noop);\n\n\tvar ws = stream._writableState;\n\tvar rs = stream._readableState;\n\tvar readable = opts.readable || (opts.readable !== false && stream.readable);\n\tvar writable = opts.writable || (opts.writable !== false && stream.writable);\n\tvar cancelled = false;\n\n\tvar onlegacyfinish = function() {\n\t\tif (!stream.writable) onfinish();\n\t};\n\n\tvar onfinish = function() {\n\t\twritable = false;\n\t\tif (!readable) callback.call(stream);\n\t};\n\n\tvar onend = function() {\n\t\treadable = false;\n\t\tif (!writable) callback.call(stream);\n\t};\n\n\tvar onexit = function(exitCode) {\n\t\tcallback.call(stream, exitCode ? new Error('exited with error code: ' + exitCode) : null);\n\t};\n\n\tvar onerror = function(err) {\n\t\tcallback.call(stream, err);\n\t};\n\n\tvar onclose = function() {\n\t\tprocess.nextTick(onclosenexttick);\n\t};\n\n\tvar onclosenexttick = function() {\n\t\tif (cancelled) return;\n\t\tif (readable && !(rs && (rs.ended && !rs.destroyed))) return callback.call(stream, new Error('premature close'));\n\t\tif (writable && !(ws && (ws.ended && !ws.destroyed))) return callback.call(stream, new Error('premature close'));\n\t};\n\n\tvar onrequest = function() {\n\t\tstream.req.on('finish', onfinish);\n\t};\n\n\tif (isRequest(stream)) {\n\t\tstream.on('complete', onfinish);\n\t\tstream.on('abort', onclose);\n\t\tif (stream.req) onrequest();\n\t\telse stream.on('request', onrequest);\n\t} else if (writable && !ws) { // legacy streams\n\t\tstream.on('end', onlegacyfinish);\n\t\tstream.on('close', onlegacyfinish);\n\t}\n\n\tif (isChildProcess(stream)) stream.on('exit', onexit);\n\n\tstream.on('end', onend);\n\tstream.on('finish', onfinish);\n\tif (opts.error !== false) stream.on('error', onerror);\n\tstream.on('close', onclose);\n\n\treturn function() {\n\t\tcancelled = true;\n\t\tstream.removeListener('complete', onfinish);\n\t\tstream.removeListener('abort', onclose);\n\t\tstream.removeListener('request', onrequest);\n\t\tif (stream.req) stream.req.removeListener('finish', onfinish);\n\t\tstream.removeListener('end', onlegacyfinish);\n\t\tstream.removeListener('close', onlegacyfinish);\n\t\tstream.removeListener('finish', onfinish);\n\t\tstream.removeListener('exit', onexit);\n\t\tstream.removeListener('end', onend);\n\t\tstream.removeListener('error', onerror);\n\t\tstream.removeListener('close', onclose);\n\t};\n};\n\nmodule.exports = eos;\n","const debug = require('debug')('extract-zip')\n// eslint-disable-next-line node/no-unsupported-features/node-builtins\nconst { createWriteStream, promises: fs } = require('fs')\nconst getStream = require('get-stream')\nconst path = require('path')\nconst { promisify } = require('util')\nconst stream = require('stream')\nconst yauzl = require('yauzl')\n\nconst openZip = promisify(yauzl.open)\nconst pipeline = promisify(stream.pipeline)\n\nclass Extractor {\n  constructor (zipPath, opts) {\n    this.zipPath = zipPath\n    this.opts = opts\n  }\n\n  async extract () {\n    debug('opening', this.zipPath, 'with opts', this.opts)\n\n    this.zipfile = await openZip(this.zipPath, { lazyEntries: true })\n    this.canceled = false\n\n    return new Promise((resolve, reject) => {\n      this.zipfile.on('error', err => {\n        this.canceled = true\n        reject(err)\n      })\n      this.zipfile.readEntry()\n\n      this.zipfile.on('close', () => {\n        if (!this.canceled) {\n          debug('zip extraction complete')\n          resolve()\n        }\n      })\n\n      this.zipfile.on('entry', async entry => {\n        /* istanbul ignore if */\n        if (this.canceled) {\n          debug('skipping entry', entry.fileName, { cancelled: this.canceled })\n          return\n        }\n\n        debug('zipfile entry', entry.fileName)\n\n        if (entry.fileName.startsWith('__MACOSX/')) {\n          this.zipfile.readEntry()\n          return\n        }\n\n        const destDir = path.dirname(path.join(this.opts.dir, entry.fileName))\n\n        try {\n          await fs.mkdir(destDir, { recursive: true })\n\n          const canonicalDestDir = await fs.realpath(destDir)\n          const relativeDestDir = path.relative(this.opts.dir, canonicalDestDir)\n\n          if (relativeDestDir.split(path.sep).includes('..')) {\n            throw new Error(`Out of bound path \"${canonicalDestDir}\" found while processing file ${entry.fileName}`)\n          }\n\n          await this.extractEntry(entry)\n          debug('finished processing', entry.fileName)\n          this.zipfile.readEntry()\n        } catch (err) {\n          this.canceled = true\n          this.zipfile.close()\n          reject(err)\n        }\n      })\n    })\n  }\n\n  async extractEntry (entry) {\n    /* istanbul ignore if */\n    if (this.canceled) {\n      debug('skipping entry extraction', entry.fileName, { cancelled: this.canceled })\n      return\n    }\n\n    if (this.opts.onEntry) {\n      this.opts.onEntry(entry, this.zipfile)\n    }\n\n    const dest = path.join(this.opts.dir, entry.fileName)\n\n    // convert external file attr int into a fs stat mode int\n    const mode = (entry.externalFileAttributes >> 16) & 0xFFFF\n    // check if it's a symlink or dir (using stat mode constants)\n    const IFMT = 61440\n    const IFDIR = 16384\n    const IFLNK = 40960\n    const symlink = (mode & IFMT) === IFLNK\n    let isDir = (mode & IFMT) === IFDIR\n\n    // Failsafe, borrowed from jsZip\n    if (!isDir && entry.fileName.endsWith('/')) {\n      isDir = true\n    }\n\n    // check for windows weird way of specifying a directory\n    // https://github.com/maxogden/extract-zip/issues/13#issuecomment-154494566\n    const madeBy = entry.versionMadeBy >> 8\n    if (!isDir) isDir = (madeBy === 0 && entry.externalFileAttributes === 16)\n\n    debug('extracting entry', { filename: entry.fileName, isDir: isDir, isSymlink: symlink })\n\n    const procMode = this.getExtractedMode(mode, isDir) & 0o777\n\n    // always ensure folders are created\n    const destDir = isDir ? dest : path.dirname(dest)\n\n    const mkdirOptions = { recursive: true }\n    if (isDir) {\n      mkdirOptions.mode = procMode\n    }\n    debug('mkdir', { dir: destDir, ...mkdirOptions })\n    await fs.mkdir(destDir, mkdirOptions)\n    if (isDir) return\n\n    debug('opening read stream', dest)\n    const readStream = await promisify(this.zipfile.openReadStream.bind(this.zipfile))(entry)\n\n    if (symlink) {\n      const link = await getStream(readStream)\n      debug('creating symlink', link, dest)\n      await fs.symlink(link, dest)\n    } else {\n      await pipeline(readStream, createWriteStream(dest, { mode: procMode }))\n    }\n  }\n\n  getExtractedMode (entryMode, isDir) {\n    let mode = entryMode\n    // Set defaults, if necessary\n    if (mode === 0) {\n      if (isDir) {\n        if (this.opts.defaultDirMode) {\n          mode = parseInt(this.opts.defaultDirMode, 10)\n        }\n\n        if (!mode) {\n          mode = 0o755\n        }\n      } else {\n        if (this.opts.defaultFileMode) {\n          mode = parseInt(this.opts.defaultFileMode, 10)\n        }\n\n        if (!mode) {\n          mode = 0o644\n        }\n      }\n    }\n\n    return mode\n  }\n}\n\nmodule.exports = async function (zipPath, opts) {\n  debug('creating target directory', opts.dir)\n\n  if (!path.isAbsolute(opts.dir)) {\n    throw new Error('Target directory is expected to be absolute')\n  }\n\n  await fs.mkdir(opts.dir, { recursive: true })\n  opts.dir = await fs.realpath(opts.dir)\n  return new Extractor(zipPath, opts).extract()\n}\n","var fs = require('fs');\nvar util = require('util');\nvar stream = require('stream');\nvar Readable = stream.Readable;\nvar Writable = stream.Writable;\nvar PassThrough = stream.PassThrough;\nvar Pend = require('pend');\nvar EventEmitter = require('events').EventEmitter;\n\nexports.createFromBuffer = createFromBuffer;\nexports.createFromFd = createFromFd;\nexports.BufferSlicer = BufferSlicer;\nexports.FdSlicer = FdSlicer;\n\nutil.inherits(FdSlicer, EventEmitter);\nfunction FdSlicer(fd, options) {\n  options = options || {};\n  EventEmitter.call(this);\n\n  this.fd = fd;\n  this.pend = new Pend();\n  this.pend.max = 1;\n  this.refCount = 0;\n  this.autoClose = !!options.autoClose;\n}\n\nFdSlicer.prototype.read = function(buffer, offset, length, position, callback) {\n  var self = this;\n  self.pend.go(function(cb) {\n    fs.read(self.fd, buffer, offset, length, position, function(err, bytesRead, buffer) {\n      cb();\n      callback(err, bytesRead, buffer);\n    });\n  });\n};\n\nFdSlicer.prototype.write = function(buffer, offset, length, position, callback) {\n  var self = this;\n  self.pend.go(function(cb) {\n    fs.write(self.fd, buffer, offset, length, position, function(err, written, buffer) {\n      cb();\n      callback(err, written, buffer);\n    });\n  });\n};\n\nFdSlicer.prototype.createReadStream = function(options) {\n  return new ReadStream(this, options);\n};\n\nFdSlicer.prototype.createWriteStream = function(options) {\n  return new WriteStream(this, options);\n};\n\nFdSlicer.prototype.ref = function() {\n  this.refCount += 1;\n};\n\nFdSlicer.prototype.unref = function() {\n  var self = this;\n  self.refCount -= 1;\n\n  if (self.refCount > 0) return;\n  if (self.refCount < 0) throw new Error(\"invalid unref\");\n\n  if (self.autoClose) {\n    fs.close(self.fd, onCloseDone);\n  }\n\n  function onCloseDone(err) {\n    if (err) {\n      self.emit('error', err);\n    } else {\n      self.emit('close');\n    }\n  }\n};\n\nutil.inherits(ReadStream, Readable);\nfunction ReadStream(context, options) {\n  options = options || {};\n  Readable.call(this, options);\n\n  this.context = context;\n  this.context.ref();\n\n  this.start = options.start || 0;\n  this.endOffset = options.end;\n  this.pos = this.start;\n  this.destroyed = false;\n}\n\nReadStream.prototype._read = function(n) {\n  var self = this;\n  if (self.destroyed) return;\n\n  var toRead = Math.min(self._readableState.highWaterMark, n);\n  if (self.endOffset != null) {\n    toRead = Math.min(toRead, self.endOffset - self.pos);\n  }\n  if (toRead <= 0) {\n    self.destroyed = true;\n    self.push(null);\n    self.context.unref();\n    return;\n  }\n  self.context.pend.go(function(cb) {\n    if (self.destroyed) return cb();\n    var buffer = new Buffer(toRead);\n    fs.read(self.context.fd, buffer, 0, toRead, self.pos, function(err, bytesRead) {\n      if (err) {\n        self.destroy(err);\n      } else if (bytesRead === 0) {\n        self.destroyed = true;\n        self.push(null);\n        self.context.unref();\n      } else {\n        self.pos += bytesRead;\n        self.push(buffer.slice(0, bytesRead));\n      }\n      cb();\n    });\n  });\n};\n\nReadStream.prototype.destroy = function(err) {\n  if (this.destroyed) return;\n  err = err || new Error(\"stream destroyed\");\n  this.destroyed = true;\n  this.emit('error', err);\n  this.context.unref();\n};\n\nutil.inherits(WriteStream, Writable);\nfunction WriteStream(context, options) {\n  options = options || {};\n  Writable.call(this, options);\n\n  this.context = context;\n  this.context.ref();\n\n  this.start = options.start || 0;\n  this.endOffset = (options.end == null) ? Infinity : +options.end;\n  this.bytesWritten = 0;\n  this.pos = this.start;\n  this.destroyed = false;\n\n  this.on('finish', this.destroy.bind(this));\n}\n\nWriteStream.prototype._write = function(buffer, encoding, callback) {\n  var self = this;\n  if (self.destroyed) return;\n\n  if (self.pos + buffer.length > self.endOffset) {\n    var err = new Error(\"maximum file length exceeded\");\n    err.code = 'ETOOBIG';\n    self.destroy();\n    callback(err);\n    return;\n  }\n  self.context.pend.go(function(cb) {\n    if (self.destroyed) return cb();\n    fs.write(self.context.fd, buffer, 0, buffer.length, self.pos, function(err, bytes) {\n      if (err) {\n        self.destroy();\n        cb();\n        callback(err);\n      } else {\n        self.bytesWritten += bytes;\n        self.pos += bytes;\n        self.emit('progress');\n        cb();\n        callback();\n      }\n    });\n  });\n};\n\nWriteStream.prototype.destroy = function() {\n  if (this.destroyed) return;\n  this.destroyed = true;\n  this.context.unref();\n};\n\nutil.inherits(BufferSlicer, EventEmitter);\nfunction BufferSlicer(buffer, options) {\n  EventEmitter.call(this);\n\n  options = options || {};\n  this.refCount = 0;\n  this.buffer = buffer;\n  this.maxChunkSize = options.maxChunkSize || Number.MAX_SAFE_INTEGER;\n}\n\nBufferSlicer.prototype.read = function(buffer, offset, length, position, callback) {\n  var end = position + length;\n  var delta = end - this.buffer.length;\n  var written = (delta > 0) ? delta : length;\n  this.buffer.copy(buffer, offset, position, end);\n  setImmediate(function() {\n    callback(null, written);\n  });\n};\n\nBufferSlicer.prototype.write = function(buffer, offset, length, position, callback) {\n  buffer.copy(this.buffer, position, offset, offset + length);\n  setImmediate(function() {\n    callback(null, length, buffer);\n  });\n};\n\nBufferSlicer.prototype.createReadStream = function(options) {\n  options = options || {};\n  var readStream = new PassThrough(options);\n  readStream.destroyed = false;\n  readStream.start = options.start || 0;\n  readStream.endOffset = options.end;\n  // by the time this function returns, we'll be done.\n  readStream.pos = readStream.endOffset || this.buffer.length;\n\n  // respect the maxChunkSize option to slice up the chunk into smaller pieces.\n  var entireSlice = this.buffer.slice(readStream.start, readStream.pos);\n  var offset = 0;\n  while (true) {\n    var nextOffset = offset + this.maxChunkSize;\n    if (nextOffset >= entireSlice.length) {\n      // last chunk\n      if (offset < entireSlice.length) {\n        readStream.write(entireSlice.slice(offset, entireSlice.length));\n      }\n      break;\n    }\n    readStream.write(entireSlice.slice(offset, nextOffset));\n    offset = nextOffset;\n  }\n\n  readStream.end();\n  readStream.destroy = function() {\n    readStream.destroyed = true;\n  };\n  return readStream;\n};\n\nBufferSlicer.prototype.createWriteStream = function(options) {\n  var bufferSlicer = this;\n  options = options || {};\n  var writeStream = new Writable(options);\n  writeStream.start = options.start || 0;\n  writeStream.endOffset = (options.end == null) ? this.buffer.length : +options.end;\n  writeStream.bytesWritten = 0;\n  writeStream.pos = writeStream.start;\n  writeStream.destroyed = false;\n  writeStream._write = function(buffer, encoding, callback) {\n    if (writeStream.destroyed) return;\n\n    var end = writeStream.pos + buffer.length;\n    if (end > writeStream.endOffset) {\n      var err = new Error(\"maximum file length exceeded\");\n      err.code = 'ETOOBIG';\n      writeStream.destroyed = true;\n      callback(err);\n      return;\n    }\n    buffer.copy(bufferSlicer.buffer, writeStream.pos, 0, buffer.length);\n\n    writeStream.bytesWritten += buffer.length;\n    writeStream.pos = end;\n    writeStream.emit('progress');\n    callback();\n  };\n  writeStream.destroy = function() {\n    writeStream.destroyed = true;\n  };\n  return writeStream;\n};\n\nBufferSlicer.prototype.ref = function() {\n  this.refCount += 1;\n};\n\nBufferSlicer.prototype.unref = function() {\n  this.refCount -= 1;\n\n  if (this.refCount < 0) {\n    throw new Error(\"invalid unref\");\n  }\n};\n\nfunction createFromBuffer(buffer, options) {\n  return new BufferSlicer(buffer, options);\n}\n\nfunction createFromFd(fd, options) {\n  return new FdSlicer(fd, options);\n}\n","var debug;\n\nmodule.exports = function () {\n  if (!debug) {\n    try {\n      /* eslint global-require: off */\n      debug = require(\"debug\")(\"follow-redirects\");\n    }\n    catch (error) { /* */ }\n    if (typeof debug !== \"function\") {\n      debug = function () { /* */ };\n    }\n  }\n  debug.apply(null, arguments);\n};\n","var url = require(\"url\");\nvar URL = url.URL;\nvar http = require(\"http\");\nvar https = require(\"https\");\nvar Writable = require(\"stream\").Writable;\nvar assert = require(\"assert\");\nvar debug = require(\"./debug\");\n\n// Create handlers that pass events from native requests\nvar events = [\"abort\", \"aborted\", \"connect\", \"error\", \"socket\", \"timeout\"];\nvar eventHandlers = Object.create(null);\nevents.forEach(function (event) {\n  eventHandlers[event] = function (arg1, arg2, arg3) {\n    this._redirectable.emit(event, arg1, arg2, arg3);\n  };\n});\n\nvar InvalidUrlError = createErrorType(\n  \"ERR_INVALID_URL\",\n  \"Invalid URL\",\n  TypeError\n);\n// Error types with codes\nvar RedirectionError = createErrorType(\n  \"ERR_FR_REDIRECTION_FAILURE\",\n  \"Redirected request failed\"\n);\nvar TooManyRedirectsError = createErrorType(\n  \"ERR_FR_TOO_MANY_REDIRECTS\",\n  \"Maximum number of redirects exceeded\"\n);\nvar MaxBodyLengthExceededError = createErrorType(\n  \"ERR_FR_MAX_BODY_LENGTH_EXCEEDED\",\n  \"Request body larger than maxBodyLength limit\"\n);\nvar WriteAfterEndError = createErrorType(\n  \"ERR_STREAM_WRITE_AFTER_END\",\n  \"write after end\"\n);\n\n// istanbul ignore next\nvar destroy = Writable.prototype.destroy || noop;\n\n// An HTTP(S) request that can be redirected\nfunction RedirectableRequest(options, responseCallback) {\n  // Initialize the request\n  Writable.call(this);\n  this._sanitizeOptions(options);\n  this._options = options;\n  this._ended = false;\n  this._ending = false;\n  this._redirectCount = 0;\n  this._redirects = [];\n  this._requestBodyLength = 0;\n  this._requestBodyBuffers = [];\n\n  // Attach a callback if passed\n  if (responseCallback) {\n    this.on(\"response\", responseCallback);\n  }\n\n  // React to responses of native requests\n  var self = this;\n  this._onNativeResponse = function (response) {\n    self._processResponse(response);\n  };\n\n  // Perform the first request\n  this._performRequest();\n}\nRedirectableRequest.prototype = Object.create(Writable.prototype);\n\nRedirectableRequest.prototype.abort = function () {\n  destroyRequest(this._currentRequest);\n  this._currentRequest.abort();\n  this.emit(\"abort\");\n};\n\nRedirectableRequest.prototype.destroy = function (error) {\n  destroyRequest(this._currentRequest, error);\n  destroy.call(this, error);\n  return this;\n};\n\n// Writes buffered data to the current native request\nRedirectableRequest.prototype.write = function (data, encoding, callback) {\n  // Writing is not allowed if end has been called\n  if (this._ending) {\n    throw new WriteAfterEndError();\n  }\n\n  // Validate input and shift parameters if necessary\n  if (!isString(data) && !isBuffer(data)) {\n    throw new TypeError(\"data should be a string, Buffer or Uint8Array\");\n  }\n  if (isFunction(encoding)) {\n    callback = encoding;\n    encoding = null;\n  }\n\n  // Ignore empty buffers, since writing them doesn't invoke the callback\n  // https://github.com/nodejs/node/issues/22066\n  if (data.length === 0) {\n    if (callback) {\n      callback();\n    }\n    return;\n  }\n  // Only write when we don't exceed the maximum body length\n  if (this._requestBodyLength + data.length <= this._options.maxBodyLength) {\n    this._requestBodyLength += data.length;\n    this._requestBodyBuffers.push({ data: data, encoding: encoding });\n    this._currentRequest.write(data, encoding, callback);\n  }\n  // Error when we exceed the maximum body length\n  else {\n    this.emit(\"error\", new MaxBodyLengthExceededError());\n    this.abort();\n  }\n};\n\n// Ends the current native request\nRedirectableRequest.prototype.end = function (data, encoding, callback) {\n  // Shift parameters if necessary\n  if (isFunction(data)) {\n    callback = data;\n    data = encoding = null;\n  }\n  else if (isFunction(encoding)) {\n    callback = encoding;\n    encoding = null;\n  }\n\n  // Write data if needed and end\n  if (!data) {\n    this._ended = this._ending = true;\n    this._currentRequest.end(null, null, callback);\n  }\n  else {\n    var self = this;\n    var currentRequest = this._currentRequest;\n    this.write(data, encoding, function () {\n      self._ended = true;\n      currentRequest.end(null, null, callback);\n    });\n    this._ending = true;\n  }\n};\n\n// Sets a header value on the current native request\nRedirectableRequest.prototype.setHeader = function (name, value) {\n  this._options.headers[name] = value;\n  this._currentRequest.setHeader(name, value);\n};\n\n// Clears a header value on the current native request\nRedirectableRequest.prototype.removeHeader = function (name) {\n  delete this._options.headers[name];\n  this._currentRequest.removeHeader(name);\n};\n\n// Global timeout for all underlying requests\nRedirectableRequest.prototype.setTimeout = function (msecs, callback) {\n  var self = this;\n\n  // Destroys the socket on timeout\n  function destroyOnTimeout(socket) {\n    socket.setTimeout(msecs);\n    socket.removeListener(\"timeout\", socket.destroy);\n    socket.addListener(\"timeout\", socket.destroy);\n  }\n\n  // Sets up a timer to trigger a timeout event\n  function startTimer(socket) {\n    if (self._timeout) {\n      clearTimeout(self._timeout);\n    }\n    self._timeout = setTimeout(function () {\n      self.emit(\"timeout\");\n      clearTimer();\n    }, msecs);\n    destroyOnTimeout(socket);\n  }\n\n  // Stops a timeout from triggering\n  function clearTimer() {\n    // Clear the timeout\n    if (self._timeout) {\n      clearTimeout(self._timeout);\n      self._timeout = null;\n    }\n\n    // Clean up all attached listeners\n    self.removeListener(\"abort\", clearTimer);\n    self.removeListener(\"error\", clearTimer);\n    self.removeListener(\"response\", clearTimer);\n    self.removeListener(\"close\", clearTimer);\n    if (callback) {\n      self.removeListener(\"timeout\", callback);\n    }\n    if (!self.socket) {\n      self._currentRequest.removeListener(\"socket\", startTimer);\n    }\n  }\n\n  // Attach callback if passed\n  if (callback) {\n    this.on(\"timeout\", callback);\n  }\n\n  // Start the timer if or when the socket is opened\n  if (this.socket) {\n    startTimer(this.socket);\n  }\n  else {\n    this._currentRequest.once(\"socket\", startTimer);\n  }\n\n  // Clean up on events\n  this.on(\"socket\", destroyOnTimeout);\n  this.on(\"abort\", clearTimer);\n  this.on(\"error\", clearTimer);\n  this.on(\"response\", clearTimer);\n  this.on(\"close\", clearTimer);\n\n  return this;\n};\n\n// Proxy all other public ClientRequest methods\n[\n  \"flushHeaders\", \"getHeader\",\n  \"setNoDelay\", \"setSocketKeepAlive\",\n].forEach(function (method) {\n  RedirectableRequest.prototype[method] = function (a, b) {\n    return this._currentRequest[method](a, b);\n  };\n});\n\n// Proxy all public ClientRequest properties\n[\"aborted\", \"connection\", \"socket\"].forEach(function (property) {\n  Object.defineProperty(RedirectableRequest.prototype, property, {\n    get: function () { return this._currentRequest[property]; },\n  });\n});\n\nRedirectableRequest.prototype._sanitizeOptions = function (options) {\n  // Ensure headers are always present\n  if (!options.headers) {\n    options.headers = {};\n  }\n\n  // Since http.request treats host as an alias of hostname,\n  // but the url module interprets host as hostname plus port,\n  // eliminate the host property to avoid confusion.\n  if (options.host) {\n    // Use hostname if set, because it has precedence\n    if (!options.hostname) {\n      options.hostname = options.host;\n    }\n    delete options.host;\n  }\n\n  // Complete the URL object when necessary\n  if (!options.pathname && options.path) {\n    var searchPos = options.path.indexOf(\"?\");\n    if (searchPos < 0) {\n      options.pathname = options.path;\n    }\n    else {\n      options.pathname = options.path.substring(0, searchPos);\n      options.search = options.path.substring(searchPos);\n    }\n  }\n};\n\n\n// Executes the next native request (initial or redirect)\nRedirectableRequest.prototype._performRequest = function () {\n  // Load the native protocol\n  var protocol = this._options.protocol;\n  var nativeProtocol = this._options.nativeProtocols[protocol];\n  if (!nativeProtocol) {\n    this.emit(\"error\", new TypeError(\"Unsupported protocol \" + protocol));\n    return;\n  }\n\n  // If specified, use the agent corresponding to the protocol\n  // (HTTP and HTTPS use different types of agents)\n  if (this._options.agents) {\n    var scheme = protocol.slice(0, -1);\n    this._options.agent = this._options.agents[scheme];\n  }\n\n  // Create the native request and set up its event handlers\n  var request = this._currentRequest =\n        nativeProtocol.request(this._options, this._onNativeResponse);\n  request._redirectable = this;\n  for (var event of events) {\n    request.on(event, eventHandlers[event]);\n  }\n\n  // RFC72305.3.1: When making a request directly to an origin server, []\n  // a client MUST send only the absolute path [] as the request-target.\n  this._currentUrl = /^\\//.test(this._options.path) ?\n    url.format(this._options) :\n    // When making a request to a proxy, []\n    // a client MUST send the target URI in absolute-form [].\n    this._options.path;\n\n  // End a redirected request\n  // (The first request must be ended explicitly with RedirectableRequest#end)\n  if (this._isRedirect) {\n    // Write the request entity and end\n    var i = 0;\n    var self = this;\n    var buffers = this._requestBodyBuffers;\n    (function writeNext(error) {\n      // Only write if this request has not been redirected yet\n      /* istanbul ignore else */\n      if (request === self._currentRequest) {\n        // Report any write errors\n        /* istanbul ignore if */\n        if (error) {\n          self.emit(\"error\", error);\n        }\n        // Write the next buffer if there are still left\n        else if (i < buffers.length) {\n          var buffer = buffers[i++];\n          /* istanbul ignore else */\n          if (!request.finished) {\n            request.write(buffer.data, buffer.encoding, writeNext);\n          }\n        }\n        // End the request if `end` has been called on us\n        else if (self._ended) {\n          request.end();\n        }\n      }\n    }());\n  }\n};\n\n// Processes a response from the current native request\nRedirectableRequest.prototype._processResponse = function (response) {\n  // Store the redirected response\n  var statusCode = response.statusCode;\n  if (this._options.trackRedirects) {\n    this._redirects.push({\n      url: this._currentUrl,\n      headers: response.headers,\n      statusCode: statusCode,\n    });\n  }\n\n  // RFC72316.4: The 3xx (Redirection) class of status code indicates\n  // that further action needs to be taken by the user agent in order to\n  // fulfill the request. If a Location header field is provided,\n  // the user agent MAY automatically redirect its request to the URI\n  // referenced by the Location field value,\n  // even if the specific status code is not understood.\n\n  // If the response is not a redirect; return it as-is\n  var location = response.headers.location;\n  if (!location || this._options.followRedirects === false ||\n      statusCode < 300 || statusCode >= 400) {\n    response.responseUrl = this._currentUrl;\n    response.redirects = this._redirects;\n    this.emit(\"response\", response);\n\n    // Clean up\n    this._requestBodyBuffers = [];\n    return;\n  }\n\n  // The response is a redirect, so abort the current request\n  destroyRequest(this._currentRequest);\n  // Discard the remainder of the response to avoid waiting for data\n  response.destroy();\n\n  // RFC72316.4: A client SHOULD detect and intervene\n  // in cyclical redirections (i.e., \"infinite\" redirection loops).\n  if (++this._redirectCount > this._options.maxRedirects) {\n    this.emit(\"error\", new TooManyRedirectsError());\n    return;\n  }\n\n  // Store the request headers if applicable\n  var requestHeaders;\n  var beforeRedirect = this._options.beforeRedirect;\n  if (beforeRedirect) {\n    requestHeaders = Object.assign({\n      // The Host header was set by nativeProtocol.request\n      Host: response.req.getHeader(\"host\"),\n    }, this._options.headers);\n  }\n\n  // RFC72316.4: Automatic redirection needs to done with\n  // care for methods not known to be safe, []\n  // RFC72316.4.23: For historical reasons, a user agent MAY change\n  // the request method from POST to GET for the subsequent request.\n  var method = this._options.method;\n  if ((statusCode === 301 || statusCode === 302) && this._options.method === \"POST\" ||\n      // RFC72316.4.4: The 303 (See Other) status code indicates that\n      // the server is redirecting the user agent to a different resource []\n      // A user agent can perform a retrieval request targeting that URI\n      // (a GET or HEAD request if using HTTP) []\n      (statusCode === 303) && !/^(?:GET|HEAD)$/.test(this._options.method)) {\n    this._options.method = \"GET\";\n    // Drop a possible entity and headers related to it\n    this._requestBodyBuffers = [];\n    removeMatchingHeaders(/^content-/i, this._options.headers);\n  }\n\n  // Drop the Host header, as the redirect might lead to a different host\n  var currentHostHeader = removeMatchingHeaders(/^host$/i, this._options.headers);\n\n  // If the redirect is relative, carry over the host of the last request\n  var currentUrlParts = url.parse(this._currentUrl);\n  var currentHost = currentHostHeader || currentUrlParts.host;\n  var currentUrl = /^\\w+:/.test(location) ? this._currentUrl :\n    url.format(Object.assign(currentUrlParts, { host: currentHost }));\n\n  // Determine the URL of the redirection\n  var redirectUrl;\n  try {\n    redirectUrl = url.resolve(currentUrl, location);\n  }\n  catch (cause) {\n    this.emit(\"error\", new RedirectionError({ cause: cause }));\n    return;\n  }\n\n  // Create the redirected request\n  debug(\"redirecting to\", redirectUrl);\n  this._isRedirect = true;\n  var redirectUrlParts = url.parse(redirectUrl);\n  Object.assign(this._options, redirectUrlParts);\n\n  // Drop confidential headers when redirecting to a less secure protocol\n  // or to a different domain that is not a superdomain\n  if (redirectUrlParts.protocol !== currentUrlParts.protocol &&\n     redirectUrlParts.protocol !== \"https:\" ||\n     redirectUrlParts.host !== currentHost &&\n     !isSubdomain(redirectUrlParts.host, currentHost)) {\n    removeMatchingHeaders(/^(?:authorization|cookie)$/i, this._options.headers);\n  }\n\n  // Evaluate the beforeRedirect callback\n  if (isFunction(beforeRedirect)) {\n    var responseDetails = {\n      headers: response.headers,\n      statusCode: statusCode,\n    };\n    var requestDetails = {\n      url: currentUrl,\n      method: method,\n      headers: requestHeaders,\n    };\n    try {\n      beforeRedirect(this._options, responseDetails, requestDetails);\n    }\n    catch (err) {\n      this.emit(\"error\", err);\n      return;\n    }\n    this._sanitizeOptions(this._options);\n  }\n\n  // Perform the redirected request\n  try {\n    this._performRequest();\n  }\n  catch (cause) {\n    this.emit(\"error\", new RedirectionError({ cause: cause }));\n  }\n};\n\n// Wraps the key/value object of protocols with redirect functionality\nfunction wrap(protocols) {\n  // Default settings\n  var exports = {\n    maxRedirects: 21,\n    maxBodyLength: 10 * 1024 * 1024,\n  };\n\n  // Wrap each protocol\n  var nativeProtocols = {};\n  Object.keys(protocols).forEach(function (scheme) {\n    var protocol = scheme + \":\";\n    var nativeProtocol = nativeProtocols[protocol] = protocols[scheme];\n    var wrappedProtocol = exports[scheme] = Object.create(nativeProtocol);\n\n    // Executes a request, following redirects\n    function request(input, options, callback) {\n      // Parse parameters\n      if (isString(input)) {\n        var parsed;\n        try {\n          parsed = urlToOptions(new URL(input));\n        }\n        catch (err) {\n          /* istanbul ignore next */\n          parsed = url.parse(input);\n        }\n        if (!isString(parsed.protocol)) {\n          throw new InvalidUrlError({ input });\n        }\n        input = parsed;\n      }\n      else if (URL && (input instanceof URL)) {\n        input = urlToOptions(input);\n      }\n      else {\n        callback = options;\n        options = input;\n        input = { protocol: protocol };\n      }\n      if (isFunction(options)) {\n        callback = options;\n        options = null;\n      }\n\n      // Set defaults\n      options = Object.assign({\n        maxRedirects: exports.maxRedirects,\n        maxBodyLength: exports.maxBodyLength,\n      }, input, options);\n      options.nativeProtocols = nativeProtocols;\n      if (!isString(options.host) && !isString(options.hostname)) {\n        options.hostname = \"::1\";\n      }\n\n      assert.equal(options.protocol, protocol, \"protocol mismatch\");\n      debug(\"options\", options);\n      return new RedirectableRequest(options, callback);\n    }\n\n    // Executes a GET request, following redirects\n    function get(input, options, callback) {\n      var wrappedRequest = wrappedProtocol.request(input, options, callback);\n      wrappedRequest.end();\n      return wrappedRequest;\n    }\n\n    // Expose the properties on the wrapped protocol\n    Object.defineProperties(wrappedProtocol, {\n      request: { value: request, configurable: true, enumerable: true, writable: true },\n      get: { value: get, configurable: true, enumerable: true, writable: true },\n    });\n  });\n  return exports;\n}\n\n/* istanbul ignore next */\nfunction noop() { /* empty */ }\n\n// from https://github.com/nodejs/node/blob/master/lib/internal/url.js\nfunction urlToOptions(urlObject) {\n  var options = {\n    protocol: urlObject.protocol,\n    hostname: urlObject.hostname.startsWith(\"[\") ?\n      /* istanbul ignore next */\n      urlObject.hostname.slice(1, -1) :\n      urlObject.hostname,\n    hash: urlObject.hash,\n    search: urlObject.search,\n    pathname: urlObject.pathname,\n    path: urlObject.pathname + urlObject.search,\n    href: urlObject.href,\n  };\n  if (urlObject.port !== \"\") {\n    options.port = Number(urlObject.port);\n  }\n  return options;\n}\n\nfunction removeMatchingHeaders(regex, headers) {\n  var lastValue;\n  for (var header in headers) {\n    if (regex.test(header)) {\n      lastValue = headers[header];\n      delete headers[header];\n    }\n  }\n  return (lastValue === null || typeof lastValue === \"undefined\") ?\n    undefined : String(lastValue).trim();\n}\n\nfunction createErrorType(code, message, baseClass) {\n  // Create constructor\n  function CustomError(properties) {\n    Error.captureStackTrace(this, this.constructor);\n    Object.assign(this, properties || {});\n    this.code = code;\n    this.message = this.cause ? message + \": \" + this.cause.message : message;\n  }\n\n  // Attach constructor and set default properties\n  CustomError.prototype = new (baseClass || Error)();\n  CustomError.prototype.constructor = CustomError;\n  CustomError.prototype.name = \"Error [\" + code + \"]\";\n  return CustomError;\n}\n\nfunction destroyRequest(request, error) {\n  for (var event of events) {\n    request.removeListener(event, eventHandlers[event]);\n  }\n  request.on(\"error\", noop);\n  request.destroy(error);\n}\n\nfunction isSubdomain(subdomain, domain) {\n  assert(isString(subdomain) && isString(domain));\n  var dot = subdomain.length - domain.length - 1;\n  return dot > 0 && subdomain[dot] === \".\" && subdomain.endsWith(domain);\n}\n\nfunction isString(value) {\n  return typeof value === \"string\" || value instanceof String;\n}\n\nfunction isFunction(value) {\n  return typeof value === \"function\";\n}\n\nfunction isBuffer(value) {\n  return typeof value === \"object\" && (\"length\" in value);\n}\n\n// Exports\nmodule.exports = wrap({ http: http, https: https });\nmodule.exports.wrap = wrap;\n","module.exports = realpath\nrealpath.realpath = realpath\nrealpath.sync = realpathSync\nrealpath.realpathSync = realpathSync\nrealpath.monkeypatch = monkeypatch\nrealpath.unmonkeypatch = unmonkeypatch\n\nvar fs = require('fs')\nvar origRealpath = fs.realpath\nvar origRealpathSync = fs.realpathSync\n\nvar version = process.version\nvar ok = /^v[0-5]\\./.test(version)\nvar old = require('./old.js')\n\nfunction newError (er) {\n  return er && er.syscall === 'realpath' && (\n    er.code === 'ELOOP' ||\n    er.code === 'ENOMEM' ||\n    er.code === 'ENAMETOOLONG'\n  )\n}\n\nfunction realpath (p, cache, cb) {\n  if (ok) {\n    return origRealpath(p, cache, cb)\n  }\n\n  if (typeof cache === 'function') {\n    cb = cache\n    cache = null\n  }\n  origRealpath(p, cache, function (er, result) {\n    if (newError(er)) {\n      old.realpath(p, cache, cb)\n    } else {\n      cb(er, result)\n    }\n  })\n}\n\nfunction realpathSync (p, cache) {\n  if (ok) {\n    return origRealpathSync(p, cache)\n  }\n\n  try {\n    return origRealpathSync(p, cache)\n  } catch (er) {\n    if (newError(er)) {\n      return old.realpathSync(p, cache)\n    } else {\n      throw er\n    }\n  }\n}\n\nfunction monkeypatch () {\n  fs.realpath = realpath\n  fs.realpathSync = realpathSync\n}\n\nfunction unmonkeypatch () {\n  fs.realpath = origRealpath\n  fs.realpathSync = origRealpathSync\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar pathModule = require('path');\nvar isWindows = process.platform === 'win32';\nvar fs = require('fs');\n\n// JavaScript implementation of realpath, ported from node pre-v6\n\nvar DEBUG = process.env.NODE_DEBUG && /fs/.test(process.env.NODE_DEBUG);\n\nfunction rethrow() {\n  // Only enable in debug mode. A backtrace uses ~1000 bytes of heap space and\n  // is fairly slow to generate.\n  var callback;\n  if (DEBUG) {\n    var backtrace = new Error;\n    callback = debugCallback;\n  } else\n    callback = missingCallback;\n\n  return callback;\n\n  function debugCallback(err) {\n    if (err) {\n      backtrace.message = err.message;\n      err = backtrace;\n      missingCallback(err);\n    }\n  }\n\n  function missingCallback(err) {\n    if (err) {\n      if (process.throwDeprecation)\n        throw err;  // Forgot a callback but don't know where? Use NODE_DEBUG=fs\n      else if (!process.noDeprecation) {\n        var msg = 'fs: missing callback ' + (err.stack || err.message);\n        if (process.traceDeprecation)\n          console.trace(msg);\n        else\n          console.error(msg);\n      }\n    }\n  }\n}\n\nfunction maybeCallback(cb) {\n  return typeof cb === 'function' ? cb : rethrow();\n}\n\nvar normalize = pathModule.normalize;\n\n// Regexp that finds the next partion of a (partial) path\n// result is [base_with_slash, base], e.g. ['somedir/', 'somedir']\nif (isWindows) {\n  var nextPartRe = /(.*?)(?:[\\/\\\\]+|$)/g;\n} else {\n  var nextPartRe = /(.*?)(?:[\\/]+|$)/g;\n}\n\n// Regex to find the device root, including trailing slash. E.g. 'c:\\\\'.\nif (isWindows) {\n  var splitRootRe = /^(?:[a-zA-Z]:|[\\\\\\/]{2}[^\\\\\\/]+[\\\\\\/][^\\\\\\/]+)?[\\\\\\/]*/;\n} else {\n  var splitRootRe = /^[\\/]*/;\n}\n\nexports.realpathSync = function realpathSync(p, cache) {\n  // make p is absolute\n  p = pathModule.resolve(p);\n\n  if (cache && Object.prototype.hasOwnProperty.call(cache, p)) {\n    return cache[p];\n  }\n\n  var original = p,\n      seenLinks = {},\n      knownHard = {};\n\n  // current character position in p\n  var pos;\n  // the partial path so far, including a trailing slash if any\n  var current;\n  // the partial path without a trailing slash (except when pointing at a root)\n  var base;\n  // the partial path scanned in the previous round, with slash\n  var previous;\n\n  start();\n\n  function start() {\n    // Skip over roots\n    var m = splitRootRe.exec(p);\n    pos = m[0].length;\n    current = m[0];\n    base = m[0];\n    previous = '';\n\n    // On windows, check that the root exists. On unix there is no need.\n    if (isWindows && !knownHard[base]) {\n      fs.lstatSync(base);\n      knownHard[base] = true;\n    }\n  }\n\n  // walk down the path, swapping out linked pathparts for their real\n  // values\n  // NB: p.length changes.\n  while (pos < p.length) {\n    // find the next part\n    nextPartRe.lastIndex = pos;\n    var result = nextPartRe.exec(p);\n    previous = current;\n    current += result[0];\n    base = previous + result[1];\n    pos = nextPartRe.lastIndex;\n\n    // continue if not a symlink\n    if (knownHard[base] || (cache && cache[base] === base)) {\n      continue;\n    }\n\n    var resolvedLink;\n    if (cache && Object.prototype.hasOwnProperty.call(cache, base)) {\n      // some known symbolic link.  no need to stat again.\n      resolvedLink = cache[base];\n    } else {\n      var stat = fs.lstatSync(base);\n      if (!stat.isSymbolicLink()) {\n        knownHard[base] = true;\n        if (cache) cache[base] = base;\n        continue;\n      }\n\n      // read the link if it wasn't read before\n      // dev/ino always return 0 on windows, so skip the check.\n      var linkTarget = null;\n      if (!isWindows) {\n        var id = stat.dev.toString(32) + ':' + stat.ino.toString(32);\n        if (seenLinks.hasOwnProperty(id)) {\n          linkTarget = seenLinks[id];\n        }\n      }\n      if (linkTarget === null) {\n        fs.statSync(base);\n        linkTarget = fs.readlinkSync(base);\n      }\n      resolvedLink = pathModule.resolve(previous, linkTarget);\n      // track this, if given a cache.\n      if (cache) cache[base] = resolvedLink;\n      if (!isWindows) seenLinks[id] = linkTarget;\n    }\n\n    // resolve the link, then start over\n    p = pathModule.resolve(resolvedLink, p.slice(pos));\n    start();\n  }\n\n  if (cache) cache[original] = p;\n\n  return p;\n};\n\n\nexports.realpath = function realpath(p, cache, cb) {\n  if (typeof cb !== 'function') {\n    cb = maybeCallback(cache);\n    cache = null;\n  }\n\n  // make p is absolute\n  p = pathModule.resolve(p);\n\n  if (cache && Object.prototype.hasOwnProperty.call(cache, p)) {\n    return process.nextTick(cb.bind(null, null, cache[p]));\n  }\n\n  var original = p,\n      seenLinks = {},\n      knownHard = {};\n\n  // current character position in p\n  var pos;\n  // the partial path so far, including a trailing slash if any\n  var current;\n  // the partial path without a trailing slash (except when pointing at a root)\n  var base;\n  // the partial path scanned in the previous round, with slash\n  var previous;\n\n  start();\n\n  function start() {\n    // Skip over roots\n    var m = splitRootRe.exec(p);\n    pos = m[0].length;\n    current = m[0];\n    base = m[0];\n    previous = '';\n\n    // On windows, check that the root exists. On unix there is no need.\n    if (isWindows && !knownHard[base]) {\n      fs.lstat(base, function(err) {\n        if (err) return cb(err);\n        knownHard[base] = true;\n        LOOP();\n      });\n    } else {\n      process.nextTick(LOOP);\n    }\n  }\n\n  // walk down the path, swapping out linked pathparts for their real\n  // values\n  function LOOP() {\n    // stop if scanned past end of path\n    if (pos >= p.length) {\n      if (cache) cache[original] = p;\n      return cb(null, p);\n    }\n\n    // find the next part\n    nextPartRe.lastIndex = pos;\n    var result = nextPartRe.exec(p);\n    previous = current;\n    current += result[0];\n    base = previous + result[1];\n    pos = nextPartRe.lastIndex;\n\n    // continue if not a symlink\n    if (knownHard[base] || (cache && cache[base] === base)) {\n      return process.nextTick(LOOP);\n    }\n\n    if (cache && Object.prototype.hasOwnProperty.call(cache, base)) {\n      // known symbolic link.  no need to stat again.\n      return gotResolvedLink(cache[base]);\n    }\n\n    return fs.lstat(base, gotStat);\n  }\n\n  function gotStat(err, stat) {\n    if (err) return cb(err);\n\n    // if not a symlink, skip to the next path part\n    if (!stat.isSymbolicLink()) {\n      knownHard[base] = true;\n      if (cache) cache[base] = base;\n      return process.nextTick(LOOP);\n    }\n\n    // stat & read the link if not read before\n    // call gotTarget as soon as the link target is known\n    // dev/ino always return 0 on windows, so skip the check.\n    if (!isWindows) {\n      var id = stat.dev.toString(32) + ':' + stat.ino.toString(32);\n      if (seenLinks.hasOwnProperty(id)) {\n        return gotTarget(null, seenLinks[id], base);\n      }\n    }\n    fs.stat(base, function(err) {\n      if (err) return cb(err);\n\n      fs.readlink(base, function(err, target) {\n        if (!isWindows) seenLinks[id] = target;\n        gotTarget(err, target);\n      });\n    });\n  }\n\n  function gotTarget(err, target, base) {\n    if (err) return cb(err);\n\n    var resolvedLink = pathModule.resolve(previous, target);\n    if (cache) cache[base] = resolvedLink;\n    gotResolvedLink(resolvedLink);\n  }\n\n  function gotResolvedLink(resolvedLink) {\n    // resolve the link, then start over\n    p = pathModule.resolve(resolvedLink, p.slice(pos));\n    start();\n  }\n};\n","'use strict';\nconst {PassThrough: PassThroughStream} = require('stream');\n\nmodule.exports = options => {\n\toptions = {...options};\n\n\tconst {array} = options;\n\tlet {encoding} = options;\n\tconst isBuffer = encoding === 'buffer';\n\tlet objectMode = false;\n\n\tif (array) {\n\t\tobjectMode = !(encoding || isBuffer);\n\t} else {\n\t\tencoding = encoding || 'utf8';\n\t}\n\n\tif (isBuffer) {\n\t\tencoding = null;\n\t}\n\n\tconst stream = new PassThroughStream({objectMode});\n\n\tif (encoding) {\n\t\tstream.setEncoding(encoding);\n\t}\n\n\tlet length = 0;\n\tconst chunks = [];\n\n\tstream.on('data', chunk => {\n\t\tchunks.push(chunk);\n\n\t\tif (objectMode) {\n\t\t\tlength = chunks.length;\n\t\t} else {\n\t\t\tlength += chunk.length;\n\t\t}\n\t});\n\n\tstream.getBufferedValue = () => {\n\t\tif (array) {\n\t\t\treturn chunks;\n\t\t}\n\n\t\treturn isBuffer ? Buffer.concat(chunks, length) : chunks.join('');\n\t};\n\n\tstream.getBufferedLength = () => length;\n\n\treturn stream;\n};\n","'use strict';\nconst {constants: BufferConstants} = require('buffer');\nconst pump = require('pump');\nconst bufferStream = require('./buffer-stream');\n\nclass MaxBufferError extends Error {\n\tconstructor() {\n\t\tsuper('maxBuffer exceeded');\n\t\tthis.name = 'MaxBufferError';\n\t}\n}\n\nasync function getStream(inputStream, options) {\n\tif (!inputStream) {\n\t\treturn Promise.reject(new Error('Expected a stream'));\n\t}\n\n\toptions = {\n\t\tmaxBuffer: Infinity,\n\t\t...options\n\t};\n\n\tconst {maxBuffer} = options;\n\n\tlet stream;\n\tawait new Promise((resolve, reject) => {\n\t\tconst rejectPromise = error => {\n\t\t\t// Don't retrieve an oversized buffer.\n\t\t\tif (error && stream.getBufferedLength() <= BufferConstants.MAX_LENGTH) {\n\t\t\t\terror.bufferedData = stream.getBufferedValue();\n\t\t\t}\n\n\t\t\treject(error);\n\t\t};\n\n\t\tstream = pump(inputStream, bufferStream(options), error => {\n\t\t\tif (error) {\n\t\t\t\trejectPromise(error);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tresolve();\n\t\t});\n\n\t\tstream.on('data', () => {\n\t\t\tif (stream.getBufferedLength() > maxBuffer) {\n\t\t\t\trejectPromise(new MaxBufferError());\n\t\t\t}\n\t\t});\n\t});\n\n\treturn stream.getBufferedValue();\n}\n\nmodule.exports = getStream;\n// TODO: Remove this for the next major release\nmodule.exports.default = getStream;\nmodule.exports.buffer = (stream, options) => getStream(stream, {...options, encoding: 'buffer'});\nmodule.exports.array = (stream, options) => getStream(stream, {...options, array: true});\nmodule.exports.MaxBufferError = MaxBufferError;\n","exports.alphasort = alphasort\nexports.alphasorti = alphasorti\nexports.setopts = setopts\nexports.ownProp = ownProp\nexports.makeAbs = makeAbs\nexports.finish = finish\nexports.mark = mark\nexports.isIgnored = isIgnored\nexports.childrenIgnored = childrenIgnored\n\nfunction ownProp (obj, field) {\n  return Object.prototype.hasOwnProperty.call(obj, field)\n}\n\nvar path = require(\"path\")\nvar minimatch = require(\"minimatch\")\nvar isAbsolute = require(\"path-is-absolute\")\nvar Minimatch = minimatch.Minimatch\n\nfunction alphasorti (a, b) {\n  return a.toLowerCase().localeCompare(b.toLowerCase())\n}\n\nfunction alphasort (a, b) {\n  return a.localeCompare(b)\n}\n\nfunction setupIgnores (self, options) {\n  self.ignore = options.ignore || []\n\n  if (!Array.isArray(self.ignore))\n    self.ignore = [self.ignore]\n\n  if (self.ignore.length) {\n    self.ignore = self.ignore.map(ignoreMap)\n  }\n}\n\n// ignore patterns are always in dot:true mode.\nfunction ignoreMap (pattern) {\n  var gmatcher = null\n  if (pattern.slice(-3) === '/**') {\n    var gpattern = pattern.replace(/(\\/\\*\\*)+$/, '')\n    gmatcher = new Minimatch(gpattern, { dot: true })\n  }\n\n  return {\n    matcher: new Minimatch(pattern, { dot: true }),\n    gmatcher: gmatcher\n  }\n}\n\nfunction setopts (self, pattern, options) {\n  if (!options)\n    options = {}\n\n  // base-matching: just use globstar for that.\n  if (options.matchBase && -1 === pattern.indexOf(\"/\")) {\n    if (options.noglobstar) {\n      throw new Error(\"base matching requires globstar\")\n    }\n    pattern = \"**/\" + pattern\n  }\n\n  self.silent = !!options.silent\n  self.pattern = pattern\n  self.strict = options.strict !== false\n  self.realpath = !!options.realpath\n  self.realpathCache = options.realpathCache || Object.create(null)\n  self.follow = !!options.follow\n  self.dot = !!options.dot\n  self.mark = !!options.mark\n  self.nodir = !!options.nodir\n  if (self.nodir)\n    self.mark = true\n  self.sync = !!options.sync\n  self.nounique = !!options.nounique\n  self.nonull = !!options.nonull\n  self.nosort = !!options.nosort\n  self.nocase = !!options.nocase\n  self.stat = !!options.stat\n  self.noprocess = !!options.noprocess\n  self.absolute = !!options.absolute\n\n  self.maxLength = options.maxLength || Infinity\n  self.cache = options.cache || Object.create(null)\n  self.statCache = options.statCache || Object.create(null)\n  self.symlinks = options.symlinks || Object.create(null)\n\n  setupIgnores(self, options)\n\n  self.changedCwd = false\n  var cwd = process.cwd()\n  if (!ownProp(options, \"cwd\"))\n    self.cwd = cwd\n  else {\n    self.cwd = path.resolve(options.cwd)\n    self.changedCwd = self.cwd !== cwd\n  }\n\n  self.root = options.root || path.resolve(self.cwd, \"/\")\n  self.root = path.resolve(self.root)\n  if (process.platform === \"win32\")\n    self.root = self.root.replace(/\\\\/g, \"/\")\n\n  // TODO: is an absolute `cwd` supposed to be resolved against `root`?\n  // e.g. { cwd: '/test', root: __dirname } === path.join(__dirname, '/test')\n  self.cwdAbs = isAbsolute(self.cwd) ? self.cwd : makeAbs(self, self.cwd)\n  if (process.platform === \"win32\")\n    self.cwdAbs = self.cwdAbs.replace(/\\\\/g, \"/\")\n  self.nomount = !!options.nomount\n\n  // disable comments and negation in Minimatch.\n  // Note that they are not supported in Glob itself anyway.\n  options.nonegate = true\n  options.nocomment = true\n\n  self.minimatch = new Minimatch(pattern, options)\n  self.options = self.minimatch.options\n}\n\nfunction finish (self) {\n  var nou = self.nounique\n  var all = nou ? [] : Object.create(null)\n\n  for (var i = 0, l = self.matches.length; i < l; i ++) {\n    var matches = self.matches[i]\n    if (!matches || Object.keys(matches).length === 0) {\n      if (self.nonull) {\n        // do like the shell, and spit out the literal glob\n        var literal = self.minimatch.globSet[i]\n        if (nou)\n          all.push(literal)\n        else\n          all[literal] = true\n      }\n    } else {\n      // had matches\n      var m = Object.keys(matches)\n      if (nou)\n        all.push.apply(all, m)\n      else\n        m.forEach(function (m) {\n          all[m] = true\n        })\n    }\n  }\n\n  if (!nou)\n    all = Object.keys(all)\n\n  if (!self.nosort)\n    all = all.sort(self.nocase ? alphasorti : alphasort)\n\n  // at *some* point we statted all of these\n  if (self.mark) {\n    for (var i = 0; i < all.length; i++) {\n      all[i] = self._mark(all[i])\n    }\n    if (self.nodir) {\n      all = all.filter(function (e) {\n        var notDir = !(/\\/$/.test(e))\n        var c = self.cache[e] || self.cache[makeAbs(self, e)]\n        if (notDir && c)\n          notDir = c !== 'DIR' && !Array.isArray(c)\n        return notDir\n      })\n    }\n  }\n\n  if (self.ignore.length)\n    all = all.filter(function(m) {\n      return !isIgnored(self, m)\n    })\n\n  self.found = all\n}\n\nfunction mark (self, p) {\n  var abs = makeAbs(self, p)\n  var c = self.cache[abs]\n  var m = p\n  if (c) {\n    var isDir = c === 'DIR' || Array.isArray(c)\n    var slash = p.slice(-1) === '/'\n\n    if (isDir && !slash)\n      m += '/'\n    else if (!isDir && slash)\n      m = m.slice(0, -1)\n\n    if (m !== p) {\n      var mabs = makeAbs(self, m)\n      self.statCache[mabs] = self.statCache[abs]\n      self.cache[mabs] = self.cache[abs]\n    }\n  }\n\n  return m\n}\n\n// lotta situps...\nfunction makeAbs (self, f) {\n  var abs = f\n  if (f.charAt(0) === '/') {\n    abs = path.join(self.root, f)\n  } else if (isAbsolute(f) || f === '') {\n    abs = f\n  } else if (self.changedCwd) {\n    abs = path.resolve(self.cwd, f)\n  } else {\n    abs = path.resolve(f)\n  }\n\n  if (process.platform === 'win32')\n    abs = abs.replace(/\\\\/g, '/')\n\n  return abs\n}\n\n\n// Return true, if pattern ends with globstar '**', for the accompanying parent directory.\n// Ex:- If node_modules/** is the pattern, add 'node_modules' to ignore list along with it's contents\nfunction isIgnored (self, path) {\n  if (!self.ignore.length)\n    return false\n\n  return self.ignore.some(function(item) {\n    return item.matcher.match(path) || !!(item.gmatcher && item.gmatcher.match(path))\n  })\n}\n\nfunction childrenIgnored (self, path) {\n  if (!self.ignore.length)\n    return false\n\n  return self.ignore.some(function(item) {\n    return !!(item.gmatcher && item.gmatcher.match(path))\n  })\n}\n","// Approach:\n//\n// 1. Get the minimatch set\n// 2. For each pattern in the set, PROCESS(pattern, false)\n// 3. Store matches per-set, then uniq them\n//\n// PROCESS(pattern, inGlobStar)\n// Get the first [n] items from pattern that are all strings\n// Join these together.  This is PREFIX.\n//   If there is no more remaining, then stat(PREFIX) and\n//   add to matches if it succeeds.  END.\n//\n// If inGlobStar and PREFIX is symlink and points to dir\n//   set ENTRIES = []\n// else readdir(PREFIX) as ENTRIES\n//   If fail, END\n//\n// with ENTRIES\n//   If pattern[n] is GLOBSTAR\n//     // handle the case where the globstar match is empty\n//     // by pruning it out, and testing the resulting pattern\n//     PROCESS(pattern[0..n] + pattern[n+1 .. $], false)\n//     // handle other cases.\n//     for ENTRY in ENTRIES (not dotfiles)\n//       // attach globstar + tail onto the entry\n//       // Mark that this entry is a globstar match\n//       PROCESS(pattern[0..n] + ENTRY + pattern[n .. $], true)\n//\n//   else // not globstar\n//     for ENTRY in ENTRIES (not dotfiles, unless pattern[n] is dot)\n//       Test ENTRY against pattern[n]\n//       If fails, continue\n//       If passes, PROCESS(pattern[0..n] + item + pattern[n+1 .. $])\n//\n// Caveat:\n//   Cache all stats and readdirs results to minimize syscall.  Since all\n//   we ever care about is existence and directory-ness, we can just keep\n//   `true` for files, and [children,...] for directories, or `false` for\n//   things that don't exist.\n\nmodule.exports = glob\n\nvar fs = require('fs')\nvar rp = require('fs.realpath')\nvar minimatch = require('minimatch')\nvar Minimatch = minimatch.Minimatch\nvar inherits = require('inherits')\nvar EE = require('events').EventEmitter\nvar path = require('path')\nvar assert = require('assert')\nvar isAbsolute = require('path-is-absolute')\nvar globSync = require('./sync.js')\nvar common = require('./common.js')\nvar alphasort = common.alphasort\nvar alphasorti = common.alphasorti\nvar setopts = common.setopts\nvar ownProp = common.ownProp\nvar inflight = require('inflight')\nvar util = require('util')\nvar childrenIgnored = common.childrenIgnored\nvar isIgnored = common.isIgnored\n\nvar once = require('once')\n\nfunction glob (pattern, options, cb) {\n  if (typeof options === 'function') cb = options, options = {}\n  if (!options) options = {}\n\n  if (options.sync) {\n    if (cb)\n      throw new TypeError('callback provided to sync glob')\n    return globSync(pattern, options)\n  }\n\n  return new Glob(pattern, options, cb)\n}\n\nglob.sync = globSync\nvar GlobSync = glob.GlobSync = globSync.GlobSync\n\n// old api surface\nglob.glob = glob\n\nfunction extend (origin, add) {\n  if (add === null || typeof add !== 'object') {\n    return origin\n  }\n\n  var keys = Object.keys(add)\n  var i = keys.length\n  while (i--) {\n    origin[keys[i]] = add[keys[i]]\n  }\n  return origin\n}\n\nglob.hasMagic = function (pattern, options_) {\n  var options = extend({}, options_)\n  options.noprocess = true\n\n  var g = new Glob(pattern, options)\n  var set = g.minimatch.set\n\n  if (!pattern)\n    return false\n\n  if (set.length > 1)\n    return true\n\n  for (var j = 0; j < set[0].length; j++) {\n    if (typeof set[0][j] !== 'string')\n      return true\n  }\n\n  return false\n}\n\nglob.Glob = Glob\ninherits(Glob, EE)\nfunction Glob (pattern, options, cb) {\n  if (typeof options === 'function') {\n    cb = options\n    options = null\n  }\n\n  if (options && options.sync) {\n    if (cb)\n      throw new TypeError('callback provided to sync glob')\n    return new GlobSync(pattern, options)\n  }\n\n  if (!(this instanceof Glob))\n    return new Glob(pattern, options, cb)\n\n  setopts(this, pattern, options)\n  this._didRealPath = false\n\n  // process each pattern in the minimatch set\n  var n = this.minimatch.set.length\n\n  // The matches are stored as {<filename>: true,...} so that\n  // duplicates are automagically pruned.\n  // Later, we do an Object.keys() on these.\n  // Keep them as a list so we can fill in when nonull is set.\n  this.matches = new Array(n)\n\n  if (typeof cb === 'function') {\n    cb = once(cb)\n    this.on('error', cb)\n    this.on('end', function (matches) {\n      cb(null, matches)\n    })\n  }\n\n  var self = this\n  this._processing = 0\n\n  this._emitQueue = []\n  this._processQueue = []\n  this.paused = false\n\n  if (this.noprocess)\n    return this\n\n  if (n === 0)\n    return done()\n\n  var sync = true\n  for (var i = 0; i < n; i ++) {\n    this._process(this.minimatch.set[i], i, false, done)\n  }\n  sync = false\n\n  function done () {\n    --self._processing\n    if (self._processing <= 0) {\n      if (sync) {\n        process.nextTick(function () {\n          self._finish()\n        })\n      } else {\n        self._finish()\n      }\n    }\n  }\n}\n\nGlob.prototype._finish = function () {\n  assert(this instanceof Glob)\n  if (this.aborted)\n    return\n\n  if (this.realpath && !this._didRealpath)\n    return this._realpath()\n\n  common.finish(this)\n  this.emit('end', this.found)\n}\n\nGlob.prototype._realpath = function () {\n  if (this._didRealpath)\n    return\n\n  this._didRealpath = true\n\n  var n = this.matches.length\n  if (n === 0)\n    return this._finish()\n\n  var self = this\n  for (var i = 0; i < this.matches.length; i++)\n    this._realpathSet(i, next)\n\n  function next () {\n    if (--n === 0)\n      self._finish()\n  }\n}\n\nGlob.prototype._realpathSet = function (index, cb) {\n  var matchset = this.matches[index]\n  if (!matchset)\n    return cb()\n\n  var found = Object.keys(matchset)\n  var self = this\n  var n = found.length\n\n  if (n === 0)\n    return cb()\n\n  var set = this.matches[index] = Object.create(null)\n  found.forEach(function (p, i) {\n    // If there's a problem with the stat, then it means that\n    // one or more of the links in the realpath couldn't be\n    // resolved.  just return the abs value in that case.\n    p = self._makeAbs(p)\n    rp.realpath(p, self.realpathCache, function (er, real) {\n      if (!er)\n        set[real] = true\n      else if (er.syscall === 'stat')\n        set[p] = true\n      else\n        self.emit('error', er) // srsly wtf right here\n\n      if (--n === 0) {\n        self.matches[index] = set\n        cb()\n      }\n    })\n  })\n}\n\nGlob.prototype._mark = function (p) {\n  return common.mark(this, p)\n}\n\nGlob.prototype._makeAbs = function (f) {\n  return common.makeAbs(this, f)\n}\n\nGlob.prototype.abort = function () {\n  this.aborted = true\n  this.emit('abort')\n}\n\nGlob.prototype.pause = function () {\n  if (!this.paused) {\n    this.paused = true\n    this.emit('pause')\n  }\n}\n\nGlob.prototype.resume = function () {\n  if (this.paused) {\n    this.emit('resume')\n    this.paused = false\n    if (this._emitQueue.length) {\n      var eq = this._emitQueue.slice(0)\n      this._emitQueue.length = 0\n      for (var i = 0; i < eq.length; i ++) {\n        var e = eq[i]\n        this._emitMatch(e[0], e[1])\n      }\n    }\n    if (this._processQueue.length) {\n      var pq = this._processQueue.slice(0)\n      this._processQueue.length = 0\n      for (var i = 0; i < pq.length; i ++) {\n        var p = pq[i]\n        this._processing--\n        this._process(p[0], p[1], p[2], p[3])\n      }\n    }\n  }\n}\n\nGlob.prototype._process = function (pattern, index, inGlobStar, cb) {\n  assert(this instanceof Glob)\n  assert(typeof cb === 'function')\n\n  if (this.aborted)\n    return\n\n  this._processing++\n  if (this.paused) {\n    this._processQueue.push([pattern, index, inGlobStar, cb])\n    return\n  }\n\n  //console.error('PROCESS %d', this._processing, pattern)\n\n  // Get the first [n] parts of pattern that are all strings.\n  var n = 0\n  while (typeof pattern[n] === 'string') {\n    n ++\n  }\n  // now n is the index of the first one that is *not* a string.\n\n  // see if there's anything else\n  var prefix\n  switch (n) {\n    // if not, then this is rather simple\n    case pattern.length:\n      this._processSimple(pattern.join('/'), index, cb)\n      return\n\n    case 0:\n      // pattern *starts* with some non-trivial item.\n      // going to readdir(cwd), but not include the prefix in matches.\n      prefix = null\n      break\n\n    default:\n      // pattern has some string bits in the front.\n      // whatever it starts with, whether that's 'absolute' like /foo/bar,\n      // or 'relative' like '../baz'\n      prefix = pattern.slice(0, n).join('/')\n      break\n  }\n\n  var remain = pattern.slice(n)\n\n  // get the list of entries.\n  var read\n  if (prefix === null)\n    read = '.'\n  else if (isAbsolute(prefix) || isAbsolute(pattern.join('/'))) {\n    if (!prefix || !isAbsolute(prefix))\n      prefix = '/' + prefix\n    read = prefix\n  } else\n    read = prefix\n\n  var abs = this._makeAbs(read)\n\n  //if ignored, skip _processing\n  if (childrenIgnored(this, read))\n    return cb()\n\n  var isGlobStar = remain[0] === minimatch.GLOBSTAR\n  if (isGlobStar)\n    this._processGlobStar(prefix, read, abs, remain, index, inGlobStar, cb)\n  else\n    this._processReaddir(prefix, read, abs, remain, index, inGlobStar, cb)\n}\n\nGlob.prototype._processReaddir = function (prefix, read, abs, remain, index, inGlobStar, cb) {\n  var self = this\n  this._readdir(abs, inGlobStar, function (er, entries) {\n    return self._processReaddir2(prefix, read, abs, remain, index, inGlobStar, entries, cb)\n  })\n}\n\nGlob.prototype._processReaddir2 = function (prefix, read, abs, remain, index, inGlobStar, entries, cb) {\n\n  // if the abs isn't a dir, then nothing can match!\n  if (!entries)\n    return cb()\n\n  // It will only match dot entries if it starts with a dot, or if\n  // dot is set.  Stuff like @(.foo|.bar) isn't allowed.\n  var pn = remain[0]\n  var negate = !!this.minimatch.negate\n  var rawGlob = pn._glob\n  var dotOk = this.dot || rawGlob.charAt(0) === '.'\n\n  var matchedEntries = []\n  for (var i = 0; i < entries.length; i++) {\n    var e = entries[i]\n    if (e.charAt(0) !== '.' || dotOk) {\n      var m\n      if (negate && !prefix) {\n        m = !e.match(pn)\n      } else {\n        m = e.match(pn)\n      }\n      if (m)\n        matchedEntries.push(e)\n    }\n  }\n\n  //console.error('prd2', prefix, entries, remain[0]._glob, matchedEntries)\n\n  var len = matchedEntries.length\n  // If there are no matched entries, then nothing matches.\n  if (len === 0)\n    return cb()\n\n  // if this is the last remaining pattern bit, then no need for\n  // an additional stat *unless* the user has specified mark or\n  // stat explicitly.  We know they exist, since readdir returned\n  // them.\n\n  if (remain.length === 1 && !this.mark && !this.stat) {\n    if (!this.matches[index])\n      this.matches[index] = Object.create(null)\n\n    for (var i = 0; i < len; i ++) {\n      var e = matchedEntries[i]\n      if (prefix) {\n        if (prefix !== '/')\n          e = prefix + '/' + e\n        else\n          e = prefix + e\n      }\n\n      if (e.charAt(0) === '/' && !this.nomount) {\n        e = path.join(this.root, e)\n      }\n      this._emitMatch(index, e)\n    }\n    // This was the last one, and no stats were needed\n    return cb()\n  }\n\n  // now test all matched entries as stand-ins for that part\n  // of the pattern.\n  remain.shift()\n  for (var i = 0; i < len; i ++) {\n    var e = matchedEntries[i]\n    var newPattern\n    if (prefix) {\n      if (prefix !== '/')\n        e = prefix + '/' + e\n      else\n        e = prefix + e\n    }\n    this._process([e].concat(remain), index, inGlobStar, cb)\n  }\n  cb()\n}\n\nGlob.prototype._emitMatch = function (index, e) {\n  if (this.aborted)\n    return\n\n  if (isIgnored(this, e))\n    return\n\n  if (this.paused) {\n    this._emitQueue.push([index, e])\n    return\n  }\n\n  var abs = isAbsolute(e) ? e : this._makeAbs(e)\n\n  if (this.mark)\n    e = this._mark(e)\n\n  if (this.absolute)\n    e = abs\n\n  if (this.matches[index][e])\n    return\n\n  if (this.nodir) {\n    var c = this.cache[abs]\n    if (c === 'DIR' || Array.isArray(c))\n      return\n  }\n\n  this.matches[index][e] = true\n\n  var st = this.statCache[abs]\n  if (st)\n    this.emit('stat', e, st)\n\n  this.emit('match', e)\n}\n\nGlob.prototype._readdirInGlobStar = function (abs, cb) {\n  if (this.aborted)\n    return\n\n  // follow all symlinked directories forever\n  // just proceed as if this is a non-globstar situation\n  if (this.follow)\n    return this._readdir(abs, false, cb)\n\n  var lstatkey = 'lstat\\0' + abs\n  var self = this\n  var lstatcb = inflight(lstatkey, lstatcb_)\n\n  if (lstatcb)\n    fs.lstat(abs, lstatcb)\n\n  function lstatcb_ (er, lstat) {\n    if (er && er.code === 'ENOENT')\n      return cb()\n\n    var isSym = lstat && lstat.isSymbolicLink()\n    self.symlinks[abs] = isSym\n\n    // If it's not a symlink or a dir, then it's definitely a regular file.\n    // don't bother doing a readdir in that case.\n    if (!isSym && lstat && !lstat.isDirectory()) {\n      self.cache[abs] = 'FILE'\n      cb()\n    } else\n      self._readdir(abs, false, cb)\n  }\n}\n\nGlob.prototype._readdir = function (abs, inGlobStar, cb) {\n  if (this.aborted)\n    return\n\n  cb = inflight('readdir\\0'+abs+'\\0'+inGlobStar, cb)\n  if (!cb)\n    return\n\n  //console.error('RD %j %j', +inGlobStar, abs)\n  if (inGlobStar && !ownProp(this.symlinks, abs))\n    return this._readdirInGlobStar(abs, cb)\n\n  if (ownProp(this.cache, abs)) {\n    var c = this.cache[abs]\n    if (!c || c === 'FILE')\n      return cb()\n\n    if (Array.isArray(c))\n      return cb(null, c)\n  }\n\n  var self = this\n  fs.readdir(abs, readdirCb(this, abs, cb))\n}\n\nfunction readdirCb (self, abs, cb) {\n  return function (er, entries) {\n    if (er)\n      self._readdirError(abs, er, cb)\n    else\n      self._readdirEntries(abs, entries, cb)\n  }\n}\n\nGlob.prototype._readdirEntries = function (abs, entries, cb) {\n  if (this.aborted)\n    return\n\n  // if we haven't asked to stat everything, then just\n  // assume that everything in there exists, so we can avoid\n  // having to stat it a second time.\n  if (!this.mark && !this.stat) {\n    for (var i = 0; i < entries.length; i ++) {\n      var e = entries[i]\n      if (abs === '/')\n        e = abs + e\n      else\n        e = abs + '/' + e\n      this.cache[e] = true\n    }\n  }\n\n  this.cache[abs] = entries\n  return cb(null, entries)\n}\n\nGlob.prototype._readdirError = function (f, er, cb) {\n  if (this.aborted)\n    return\n\n  // handle errors, and cache the information\n  switch (er.code) {\n    case 'ENOTSUP': // https://github.com/isaacs/node-glob/issues/205\n    case 'ENOTDIR': // totally normal. means it *does* exist.\n      var abs = this._makeAbs(f)\n      this.cache[abs] = 'FILE'\n      if (abs === this.cwdAbs) {\n        var error = new Error(er.code + ' invalid cwd ' + this.cwd)\n        error.path = this.cwd\n        error.code = er.code\n        this.emit('error', error)\n        this.abort()\n      }\n      break\n\n    case 'ENOENT': // not terribly unusual\n    case 'ELOOP':\n    case 'ENAMETOOLONG':\n    case 'UNKNOWN':\n      this.cache[this._makeAbs(f)] = false\n      break\n\n    default: // some unusual error.  Treat as failure.\n      this.cache[this._makeAbs(f)] = false\n      if (this.strict) {\n        this.emit('error', er)\n        // If the error is handled, then we abort\n        // if not, we threw out of here\n        this.abort()\n      }\n      if (!this.silent)\n        console.error('glob error', er)\n      break\n  }\n\n  return cb()\n}\n\nGlob.prototype._processGlobStar = function (prefix, read, abs, remain, index, inGlobStar, cb) {\n  var self = this\n  this._readdir(abs, inGlobStar, function (er, entries) {\n    self._processGlobStar2(prefix, read, abs, remain, index, inGlobStar, entries, cb)\n  })\n}\n\n\nGlob.prototype._processGlobStar2 = function (prefix, read, abs, remain, index, inGlobStar, entries, cb) {\n  //console.error('pgs2', prefix, remain[0], entries)\n\n  // no entries means not a dir, so it can never have matches\n  // foo.txt/** doesn't match foo.txt\n  if (!entries)\n    return cb()\n\n  // test without the globstar, and with every child both below\n  // and replacing the globstar.\n  var remainWithoutGlobStar = remain.slice(1)\n  var gspref = prefix ? [ prefix ] : []\n  var noGlobStar = gspref.concat(remainWithoutGlobStar)\n\n  // the noGlobStar pattern exits the inGlobStar state\n  this._process(noGlobStar, index, false, cb)\n\n  var isSym = this.symlinks[abs]\n  var len = entries.length\n\n  // If it's a symlink, and we're in a globstar, then stop\n  if (isSym && inGlobStar)\n    return cb()\n\n  for (var i = 0; i < len; i++) {\n    var e = entries[i]\n    if (e.charAt(0) === '.' && !this.dot)\n      continue\n\n    // these two cases enter the inGlobStar state\n    var instead = gspref.concat(entries[i], remainWithoutGlobStar)\n    this._process(instead, index, true, cb)\n\n    var below = gspref.concat(entries[i], remain)\n    this._process(below, index, true, cb)\n  }\n\n  cb()\n}\n\nGlob.prototype._processSimple = function (prefix, index, cb) {\n  // XXX review this.  Shouldn't it be doing the mounting etc\n  // before doing stat?  kinda weird?\n  var self = this\n  this._stat(prefix, function (er, exists) {\n    self._processSimple2(prefix, index, er, exists, cb)\n  })\n}\nGlob.prototype._processSimple2 = function (prefix, index, er, exists, cb) {\n\n  //console.error('ps2', prefix, exists)\n\n  if (!this.matches[index])\n    this.matches[index] = Object.create(null)\n\n  // If it doesn't exist, then just mark the lack of results\n  if (!exists)\n    return cb()\n\n  if (prefix && isAbsolute(prefix) && !this.nomount) {\n    var trail = /[\\/\\\\]$/.test(prefix)\n    if (prefix.charAt(0) === '/') {\n      prefix = path.join(this.root, prefix)\n    } else {\n      prefix = path.resolve(this.root, prefix)\n      if (trail)\n        prefix += '/'\n    }\n  }\n\n  if (process.platform === 'win32')\n    prefix = prefix.replace(/\\\\/g, '/')\n\n  // Mark this as a match\n  this._emitMatch(index, prefix)\n  cb()\n}\n\n// Returns either 'DIR', 'FILE', or false\nGlob.prototype._stat = function (f, cb) {\n  var abs = this._makeAbs(f)\n  var needDir = f.slice(-1) === '/'\n\n  if (f.length > this.maxLength)\n    return cb()\n\n  if (!this.stat && ownProp(this.cache, abs)) {\n    var c = this.cache[abs]\n\n    if (Array.isArray(c))\n      c = 'DIR'\n\n    // It exists, but maybe not how we need it\n    if (!needDir || c === 'DIR')\n      return cb(null, c)\n\n    if (needDir && c === 'FILE')\n      return cb()\n\n    // otherwise we have to stat, because maybe c=true\n    // if we know it exists, but not what it is.\n  }\n\n  var exists\n  var stat = this.statCache[abs]\n  if (stat !== undefined) {\n    if (stat === false)\n      return cb(null, stat)\n    else {\n      var type = stat.isDirectory() ? 'DIR' : 'FILE'\n      if (needDir && type === 'FILE')\n        return cb()\n      else\n        return cb(null, type, stat)\n    }\n  }\n\n  var self = this\n  var statcb = inflight('stat\\0' + abs, lstatcb_)\n  if (statcb)\n    fs.lstat(abs, statcb)\n\n  function lstatcb_ (er, lstat) {\n    if (lstat && lstat.isSymbolicLink()) {\n      // If it's a symlink, then treat it as the target, unless\n      // the target does not exist, then treat it as a file.\n      return fs.stat(abs, function (er, stat) {\n        if (er)\n          self._stat2(f, abs, null, lstat, cb)\n        else\n          self._stat2(f, abs, er, stat, cb)\n      })\n    } else {\n      self._stat2(f, abs, er, lstat, cb)\n    }\n  }\n}\n\nGlob.prototype._stat2 = function (f, abs, er, stat, cb) {\n  if (er && (er.code === 'ENOENT' || er.code === 'ENOTDIR')) {\n    this.statCache[abs] = false\n    return cb()\n  }\n\n  var needDir = f.slice(-1) === '/'\n  this.statCache[abs] = stat\n\n  if (abs.slice(-1) === '/' && stat && !stat.isDirectory())\n    return cb(null, false, stat)\n\n  var c = true\n  if (stat)\n    c = stat.isDirectory() ? 'DIR' : 'FILE'\n  this.cache[abs] = this.cache[abs] || c\n\n  if (needDir && c === 'FILE')\n    return cb()\n\n  return cb(null, c, stat)\n}\n","module.exports = globSync\nglobSync.GlobSync = GlobSync\n\nvar fs = require('fs')\nvar rp = require('fs.realpath')\nvar minimatch = require('minimatch')\nvar Minimatch = minimatch.Minimatch\nvar Glob = require('./glob.js').Glob\nvar util = require('util')\nvar path = require('path')\nvar assert = require('assert')\nvar isAbsolute = require('path-is-absolute')\nvar common = require('./common.js')\nvar alphasort = common.alphasort\nvar alphasorti = common.alphasorti\nvar setopts = common.setopts\nvar ownProp = common.ownProp\nvar childrenIgnored = common.childrenIgnored\nvar isIgnored = common.isIgnored\n\nfunction globSync (pattern, options) {\n  if (typeof options === 'function' || arguments.length === 3)\n    throw new TypeError('callback provided to sync glob\\n'+\n                        'See: https://github.com/isaacs/node-glob/issues/167')\n\n  return new GlobSync(pattern, options).found\n}\n\nfunction GlobSync (pattern, options) {\n  if (!pattern)\n    throw new Error('must provide pattern')\n\n  if (typeof options === 'function' || arguments.length === 3)\n    throw new TypeError('callback provided to sync glob\\n'+\n                        'See: https://github.com/isaacs/node-glob/issues/167')\n\n  if (!(this instanceof GlobSync))\n    return new GlobSync(pattern, options)\n\n  setopts(this, pattern, options)\n\n  if (this.noprocess)\n    return this\n\n  var n = this.minimatch.set.length\n  this.matches = new Array(n)\n  for (var i = 0; i < n; i ++) {\n    this._process(this.minimatch.set[i], i, false)\n  }\n  this._finish()\n}\n\nGlobSync.prototype._finish = function () {\n  assert(this instanceof GlobSync)\n  if (this.realpath) {\n    var self = this\n    this.matches.forEach(function (matchset, index) {\n      var set = self.matches[index] = Object.create(null)\n      for (var p in matchset) {\n        try {\n          p = self._makeAbs(p)\n          var real = rp.realpathSync(p, self.realpathCache)\n          set[real] = true\n        } catch (er) {\n          if (er.syscall === 'stat')\n            set[self._makeAbs(p)] = true\n          else\n            throw er\n        }\n      }\n    })\n  }\n  common.finish(this)\n}\n\n\nGlobSync.prototype._process = function (pattern, index, inGlobStar) {\n  assert(this instanceof GlobSync)\n\n  // Get the first [n] parts of pattern that are all strings.\n  var n = 0\n  while (typeof pattern[n] === 'string') {\n    n ++\n  }\n  // now n is the index of the first one that is *not* a string.\n\n  // See if there's anything else\n  var prefix\n  switch (n) {\n    // if not, then this is rather simple\n    case pattern.length:\n      this._processSimple(pattern.join('/'), index)\n      return\n\n    case 0:\n      // pattern *starts* with some non-trivial item.\n      // going to readdir(cwd), but not include the prefix in matches.\n      prefix = null\n      break\n\n    default:\n      // pattern has some string bits in the front.\n      // whatever it starts with, whether that's 'absolute' like /foo/bar,\n      // or 'relative' like '../baz'\n      prefix = pattern.slice(0, n).join('/')\n      break\n  }\n\n  var remain = pattern.slice(n)\n\n  // get the list of entries.\n  var read\n  if (prefix === null)\n    read = '.'\n  else if (isAbsolute(prefix) || isAbsolute(pattern.join('/'))) {\n    if (!prefix || !isAbsolute(prefix))\n      prefix = '/' + prefix\n    read = prefix\n  } else\n    read = prefix\n\n  var abs = this._makeAbs(read)\n\n  //if ignored, skip processing\n  if (childrenIgnored(this, read))\n    return\n\n  var isGlobStar = remain[0] === minimatch.GLOBSTAR\n  if (isGlobStar)\n    this._processGlobStar(prefix, read, abs, remain, index, inGlobStar)\n  else\n    this._processReaddir(prefix, read, abs, remain, index, inGlobStar)\n}\n\n\nGlobSync.prototype._processReaddir = function (prefix, read, abs, remain, index, inGlobStar) {\n  var entries = this._readdir(abs, inGlobStar)\n\n  // if the abs isn't a dir, then nothing can match!\n  if (!entries)\n    return\n\n  // It will only match dot entries if it starts with a dot, or if\n  // dot is set.  Stuff like @(.foo|.bar) isn't allowed.\n  var pn = remain[0]\n  var negate = !!this.minimatch.negate\n  var rawGlob = pn._glob\n  var dotOk = this.dot || rawGlob.charAt(0) === '.'\n\n  var matchedEntries = []\n  for (var i = 0; i < entries.length; i++) {\n    var e = entries[i]\n    if (e.charAt(0) !== '.' || dotOk) {\n      var m\n      if (negate && !prefix) {\n        m = !e.match(pn)\n      } else {\n        m = e.match(pn)\n      }\n      if (m)\n        matchedEntries.push(e)\n    }\n  }\n\n  var len = matchedEntries.length\n  // If there are no matched entries, then nothing matches.\n  if (len === 0)\n    return\n\n  // if this is the last remaining pattern bit, then no need for\n  // an additional stat *unless* the user has specified mark or\n  // stat explicitly.  We know they exist, since readdir returned\n  // them.\n\n  if (remain.length === 1 && !this.mark && !this.stat) {\n    if (!this.matches[index])\n      this.matches[index] = Object.create(null)\n\n    for (var i = 0; i < len; i ++) {\n      var e = matchedEntries[i]\n      if (prefix) {\n        if (prefix.slice(-1) !== '/')\n          e = prefix + '/' + e\n        else\n          e = prefix + e\n      }\n\n      if (e.charAt(0) === '/' && !this.nomount) {\n        e = path.join(this.root, e)\n      }\n      this._emitMatch(index, e)\n    }\n    // This was the last one, and no stats were needed\n    return\n  }\n\n  // now test all matched entries as stand-ins for that part\n  // of the pattern.\n  remain.shift()\n  for (var i = 0; i < len; i ++) {\n    var e = matchedEntries[i]\n    var newPattern\n    if (prefix)\n      newPattern = [prefix, e]\n    else\n      newPattern = [e]\n    this._process(newPattern.concat(remain), index, inGlobStar)\n  }\n}\n\n\nGlobSync.prototype._emitMatch = function (index, e) {\n  if (isIgnored(this, e))\n    return\n\n  var abs = this._makeAbs(e)\n\n  if (this.mark)\n    e = this._mark(e)\n\n  if (this.absolute) {\n    e = abs\n  }\n\n  if (this.matches[index][e])\n    return\n\n  if (this.nodir) {\n    var c = this.cache[abs]\n    if (c === 'DIR' || Array.isArray(c))\n      return\n  }\n\n  this.matches[index][e] = true\n\n  if (this.stat)\n    this._stat(e)\n}\n\n\nGlobSync.prototype._readdirInGlobStar = function (abs) {\n  // follow all symlinked directories forever\n  // just proceed as if this is a non-globstar situation\n  if (this.follow)\n    return this._readdir(abs, false)\n\n  var entries\n  var lstat\n  var stat\n  try {\n    lstat = fs.lstatSync(abs)\n  } catch (er) {\n    if (er.code === 'ENOENT') {\n      // lstat failed, doesn't exist\n      return null\n    }\n  }\n\n  var isSym = lstat && lstat.isSymbolicLink()\n  this.symlinks[abs] = isSym\n\n  // If it's not a symlink or a dir, then it's definitely a regular file.\n  // don't bother doing a readdir in that case.\n  if (!isSym && lstat && !lstat.isDirectory())\n    this.cache[abs] = 'FILE'\n  else\n    entries = this._readdir(abs, false)\n\n  return entries\n}\n\nGlobSync.prototype._readdir = function (abs, inGlobStar) {\n  var entries\n\n  if (inGlobStar && !ownProp(this.symlinks, abs))\n    return this._readdirInGlobStar(abs)\n\n  if (ownProp(this.cache, abs)) {\n    var c = this.cache[abs]\n    if (!c || c === 'FILE')\n      return null\n\n    if (Array.isArray(c))\n      return c\n  }\n\n  try {\n    return this._readdirEntries(abs, fs.readdirSync(abs))\n  } catch (er) {\n    this._readdirError(abs, er)\n    return null\n  }\n}\n\nGlobSync.prototype._readdirEntries = function (abs, entries) {\n  // if we haven't asked to stat everything, then just\n  // assume that everything in there exists, so we can avoid\n  // having to stat it a second time.\n  if (!this.mark && !this.stat) {\n    for (var i = 0; i < entries.length; i ++) {\n      var e = entries[i]\n      if (abs === '/')\n        e = abs + e\n      else\n        e = abs + '/' + e\n      this.cache[e] = true\n    }\n  }\n\n  this.cache[abs] = entries\n\n  // mark and cache dir-ness\n  return entries\n}\n\nGlobSync.prototype._readdirError = function (f, er) {\n  // handle errors, and cache the information\n  switch (er.code) {\n    case 'ENOTSUP': // https://github.com/isaacs/node-glob/issues/205\n    case 'ENOTDIR': // totally normal. means it *does* exist.\n      var abs = this._makeAbs(f)\n      this.cache[abs] = 'FILE'\n      if (abs === this.cwdAbs) {\n        var error = new Error(er.code + ' invalid cwd ' + this.cwd)\n        error.path = this.cwd\n        error.code = er.code\n        throw error\n      }\n      break\n\n    case 'ENOENT': // not terribly unusual\n    case 'ELOOP':\n    case 'ENAMETOOLONG':\n    case 'UNKNOWN':\n      this.cache[this._makeAbs(f)] = false\n      break\n\n    default: // some unusual error.  Treat as failure.\n      this.cache[this._makeAbs(f)] = false\n      if (this.strict)\n        throw er\n      if (!this.silent)\n        console.error('glob error', er)\n      break\n  }\n}\n\nGlobSync.prototype._processGlobStar = function (prefix, read, abs, remain, index, inGlobStar) {\n\n  var entries = this._readdir(abs, inGlobStar)\n\n  // no entries means not a dir, so it can never have matches\n  // foo.txt/** doesn't match foo.txt\n  if (!entries)\n    return\n\n  // test without the globstar, and with every child both below\n  // and replacing the globstar.\n  var remainWithoutGlobStar = remain.slice(1)\n  var gspref = prefix ? [ prefix ] : []\n  var noGlobStar = gspref.concat(remainWithoutGlobStar)\n\n  // the noGlobStar pattern exits the inGlobStar state\n  this._process(noGlobStar, index, false)\n\n  var len = entries.length\n  var isSym = this.symlinks[abs]\n\n  // If it's a symlink, and we're in a globstar, then stop\n  if (isSym && inGlobStar)\n    return\n\n  for (var i = 0; i < len; i++) {\n    var e = entries[i]\n    if (e.charAt(0) === '.' && !this.dot)\n      continue\n\n    // these two cases enter the inGlobStar state\n    var instead = gspref.concat(entries[i], remainWithoutGlobStar)\n    this._process(instead, index, true)\n\n    var below = gspref.concat(entries[i], remain)\n    this._process(below, index, true)\n  }\n}\n\nGlobSync.prototype._processSimple = function (prefix, index) {\n  // XXX review this.  Shouldn't it be doing the mounting etc\n  // before doing stat?  kinda weird?\n  var exists = this._stat(prefix)\n\n  if (!this.matches[index])\n    this.matches[index] = Object.create(null)\n\n  // If it doesn't exist, then just mark the lack of results\n  if (!exists)\n    return\n\n  if (prefix && isAbsolute(prefix) && !this.nomount) {\n    var trail = /[\\/\\\\]$/.test(prefix)\n    if (prefix.charAt(0) === '/') {\n      prefix = path.join(this.root, prefix)\n    } else {\n      prefix = path.resolve(this.root, prefix)\n      if (trail)\n        prefix += '/'\n    }\n  }\n\n  if (process.platform === 'win32')\n    prefix = prefix.replace(/\\\\/g, '/')\n\n  // Mark this as a match\n  this._emitMatch(index, prefix)\n}\n\n// Returns either 'DIR', 'FILE', or false\nGlobSync.prototype._stat = function (f) {\n  var abs = this._makeAbs(f)\n  var needDir = f.slice(-1) === '/'\n\n  if (f.length > this.maxLength)\n    return false\n\n  if (!this.stat && ownProp(this.cache, abs)) {\n    var c = this.cache[abs]\n\n    if (Array.isArray(c))\n      c = 'DIR'\n\n    // It exists, but maybe not how we need it\n    if (!needDir || c === 'DIR')\n      return c\n\n    if (needDir && c === 'FILE')\n      return false\n\n    // otherwise we have to stat, because maybe c=true\n    // if we know it exists, but not what it is.\n  }\n\n  var exists\n  var stat = this.statCache[abs]\n  if (!stat) {\n    var lstat\n    try {\n      lstat = fs.lstatSync(abs)\n    } catch (er) {\n      if (er && (er.code === 'ENOENT' || er.code === 'ENOTDIR')) {\n        this.statCache[abs] = false\n        return false\n      }\n    }\n\n    if (lstat && lstat.isSymbolicLink()) {\n      try {\n        stat = fs.statSync(abs)\n      } catch (er) {\n        stat = lstat\n      }\n    } else {\n      stat = lstat\n    }\n  }\n\n  this.statCache[abs] = stat\n\n  var c = true\n  if (stat)\n    c = stat.isDirectory() ? 'DIR' : 'FILE'\n\n  this.cache[abs] = this.cache[abs] || c\n\n  if (needDir && c === 'FILE')\n    return false\n\n  return c\n}\n\nGlobSync.prototype._mark = function (p) {\n  return common.mark(this, p)\n}\n\nGlobSync.prototype._makeAbs = function (f) {\n  return common.makeAbs(this, f)\n}\n","'use strict';\n\nmodule.exports = (flag, argv = process.argv) => {\n\tconst prefix = flag.startsWith('-') ? '' : (flag.length === 1 ? '-' : '--');\n\tconst position = argv.indexOf(prefix + flag);\n\tconst terminatorPosition = argv.indexOf('--');\n\treturn position !== -1 && (terminatorPosition === -1 || position < terminatorPosition);\n};\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst net_1 = __importDefault(require(\"net\"));\nconst tls_1 = __importDefault(require(\"tls\"));\nconst url_1 = __importDefault(require(\"url\"));\nconst assert_1 = __importDefault(require(\"assert\"));\nconst debug_1 = __importDefault(require(\"debug\"));\nconst agent_base_1 = require(\"agent-base\");\nconst parse_proxy_response_1 = __importDefault(require(\"./parse-proxy-response\"));\nconst debug = debug_1.default('https-proxy-agent:agent');\n/**\n * The `HttpsProxyAgent` implements an HTTP Agent subclass that connects to\n * the specified \"HTTP(s) proxy server\" in order to proxy HTTPS requests.\n *\n * Outgoing HTTP requests are first tunneled through the proxy server using the\n * `CONNECT` HTTP request method to establish a connection to the proxy server,\n * and then the proxy server connects to the destination target and issues the\n * HTTP request from the proxy server.\n *\n * `https:` requests have their socket connection upgraded to TLS once\n * the connection to the proxy server has been established.\n *\n * @api public\n */\nclass HttpsProxyAgent extends agent_base_1.Agent {\n    constructor(_opts) {\n        let opts;\n        if (typeof _opts === 'string') {\n            opts = url_1.default.parse(_opts);\n        }\n        else {\n            opts = _opts;\n        }\n        if (!opts) {\n            throw new Error('an HTTP(S) proxy server `host` and `port` must be specified!');\n        }\n        debug('creating new HttpsProxyAgent instance: %o', opts);\n        super(opts);\n        const proxy = Object.assign({}, opts);\n        // If `true`, then connect to the proxy server over TLS.\n        // Defaults to `false`.\n        this.secureProxy = opts.secureProxy || isHTTPS(proxy.protocol);\n        // Prefer `hostname` over `host`, and set the `port` if needed.\n        proxy.host = proxy.hostname || proxy.host;\n        if (typeof proxy.port === 'string') {\n            proxy.port = parseInt(proxy.port, 10);\n        }\n        if (!proxy.port && proxy.host) {\n            proxy.port = this.secureProxy ? 443 : 80;\n        }\n        // ALPN is supported by Node.js >= v5.\n        // attempt to negotiate http/1.1 for proxy servers that support http/2\n        if (this.secureProxy && !('ALPNProtocols' in proxy)) {\n            proxy.ALPNProtocols = ['http 1.1'];\n        }\n        if (proxy.host && proxy.path) {\n            // If both a `host` and `path` are specified then it's most likely\n            // the result of a `url.parse()` call... we need to remove the\n            // `path` portion so that `net.connect()` doesn't attempt to open\n            // that as a Unix socket file.\n            delete proxy.path;\n            delete proxy.pathname;\n        }\n        this.proxy = proxy;\n    }\n    /**\n     * Called when the node-core HTTP client library is creating a\n     * new HTTP request.\n     *\n     * @api protected\n     */\n    callback(req, opts) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const { proxy, secureProxy } = this;\n            // Create a socket connection to the proxy server.\n            let socket;\n            if (secureProxy) {\n                debug('Creating `tls.Socket`: %o', proxy);\n                socket = tls_1.default.connect(proxy);\n            }\n            else {\n                debug('Creating `net.Socket`: %o', proxy);\n                socket = net_1.default.connect(proxy);\n            }\n            const headers = Object.assign({}, proxy.headers);\n            const hostname = `${opts.host}:${opts.port}`;\n            let payload = `CONNECT ${hostname} HTTP/1.1\\r\\n`;\n            // Inject the `Proxy-Authorization` header if necessary.\n            if (proxy.auth) {\n                headers['Proxy-Authorization'] = `Basic ${Buffer.from(proxy.auth).toString('base64')}`;\n            }\n            // The `Host` header should only include the port\n            // number when it is not the default port.\n            let { host, port, secureEndpoint } = opts;\n            if (!isDefaultPort(port, secureEndpoint)) {\n                host += `:${port}`;\n            }\n            headers.Host = host;\n            headers.Connection = 'close';\n            for (const name of Object.keys(headers)) {\n                payload += `${name}: ${headers[name]}\\r\\n`;\n            }\n            const proxyResponsePromise = parse_proxy_response_1.default(socket);\n            socket.write(`${payload}\\r\\n`);\n            const { statusCode, buffered } = yield proxyResponsePromise;\n            if (statusCode === 200) {\n                req.once('socket', resume);\n                if (opts.secureEndpoint) {\n                    // The proxy is connecting to a TLS server, so upgrade\n                    // this socket connection to a TLS connection.\n                    debug('Upgrading socket connection to TLS');\n                    const servername = opts.servername || opts.host;\n                    return tls_1.default.connect(Object.assign(Object.assign({}, omit(opts, 'host', 'hostname', 'path', 'port')), { socket,\n                        servername }));\n                }\n                return socket;\n            }\n            // Some other status code that's not 200... need to re-play the HTTP\n            // header \"data\" events onto the socket once the HTTP machinery is\n            // attached so that the node core `http` can parse and handle the\n            // error status code.\n            // Close the original socket, and a new \"fake\" socket is returned\n            // instead, so that the proxy doesn't get the HTTP request\n            // written to it (which may contain `Authorization` headers or other\n            // sensitive data).\n            //\n            // See: https://hackerone.com/reports/541502\n            socket.destroy();\n            const fakeSocket = new net_1.default.Socket({ writable: false });\n            fakeSocket.readable = true;\n            // Need to wait for the \"socket\" event to re-play the \"data\" events.\n            req.once('socket', (s) => {\n                debug('replaying proxy buffer for failed request');\n                assert_1.default(s.listenerCount('data') > 0);\n                // Replay the \"buffered\" Buffer onto the fake `socket`, since at\n                // this point the HTTP module machinery has been hooked up for\n                // the user.\n                s.push(buffered);\n                s.push(null);\n            });\n            return fakeSocket;\n        });\n    }\n}\nexports.default = HttpsProxyAgent;\nfunction resume(socket) {\n    socket.resume();\n}\nfunction isDefaultPort(port, secure) {\n    return Boolean((!secure && port === 80) || (secure && port === 443));\n}\nfunction isHTTPS(protocol) {\n    return typeof protocol === 'string' ? /^https:?$/i.test(protocol) : false;\n}\nfunction omit(obj, ...keys) {\n    const ret = {};\n    let key;\n    for (key in obj) {\n        if (!keys.includes(key)) {\n            ret[key] = obj[key];\n        }\n    }\n    return ret;\n}\n//# sourceMappingURL=agent.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nconst agent_1 = __importDefault(require(\"./agent\"));\nfunction createHttpsProxyAgent(opts) {\n    return new agent_1.default(opts);\n}\n(function (createHttpsProxyAgent) {\n    createHttpsProxyAgent.HttpsProxyAgent = agent_1.default;\n    createHttpsProxyAgent.prototype = agent_1.default.prototype;\n})(createHttpsProxyAgent || (createHttpsProxyAgent = {}));\nmodule.exports = createHttpsProxyAgent;\n//# sourceMappingURL=index.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst debug_1 = __importDefault(require(\"debug\"));\nconst debug = debug_1.default('https-proxy-agent:parse-proxy-response');\nfunction parseProxyResponse(socket) {\n    return new Promise((resolve, reject) => {\n        // we need to buffer any HTTP traffic that happens with the proxy before we get\n        // the CONNECT response, so that if the response is anything other than an \"200\"\n        // response code, then we can re-play the \"data\" events on the socket once the\n        // HTTP parser is hooked up...\n        let buffersLength = 0;\n        const buffers = [];\n        function read() {\n            const b = socket.read();\n            if (b)\n                ondata(b);\n            else\n                socket.once('readable', read);\n        }\n        function cleanup() {\n            socket.removeListener('end', onend);\n            socket.removeListener('error', onerror);\n            socket.removeListener('close', onclose);\n            socket.removeListener('readable', read);\n        }\n        function onclose(err) {\n            debug('onclose had error %o', err);\n        }\n        function onend() {\n            debug('onend');\n        }\n        function onerror(err) {\n            cleanup();\n            debug('onerror %o', err);\n            reject(err);\n        }\n        function ondata(b) {\n            buffers.push(b);\n            buffersLength += b.length;\n            const buffered = Buffer.concat(buffers, buffersLength);\n            const endOfHeaders = buffered.indexOf('\\r\\n\\r\\n');\n            if (endOfHeaders === -1) {\n                // keep buffering\n                debug('have not received end of HTTP headers yet...');\n                read();\n                return;\n            }\n            const firstLine = buffered.toString('ascii', 0, buffered.indexOf('\\r\\n'));\n            const statusCode = +firstLine.split(' ')[1];\n            debug('got proxy server response: %o', firstLine);\n            resolve({\n                statusCode,\n                buffered\n            });\n        }\n        socket.on('error', onerror);\n        socket.on('close', onclose);\n        socket.on('end', onend);\n        read();\n    });\n}\nexports.default = parseProxyResponse;\n//# sourceMappingURL=parse-proxy-response.js.map","var wrappy = require('wrappy')\nvar reqs = Object.create(null)\nvar once = require('once')\n\nmodule.exports = wrappy(inflight)\n\nfunction inflight (key, cb) {\n  if (reqs[key]) {\n    reqs[key].push(cb)\n    return null\n  } else {\n    reqs[key] = [cb]\n    return makeres(key)\n  }\n}\n\nfunction makeres (key) {\n  return once(function RES () {\n    var cbs = reqs[key]\n    var len = cbs.length\n    var args = slice(arguments)\n\n    // XXX It's somewhat ambiguous whether a new callback added in this\n    // pass should be queued for later execution if something in the\n    // list of callbacks throws, or if it should just be discarded.\n    // However, it's such an edge case that it hardly matters, and either\n    // choice is likely as surprising as the other.\n    // As it happens, we do go ahead and schedule it for later execution.\n    try {\n      for (var i = 0; i < len; i++) {\n        cbs[i].apply(null, args)\n      }\n    } finally {\n      if (cbs.length > len) {\n        // added more in the interim.\n        // de-zalgo, just in case, but don't call again.\n        cbs.splice(0, len)\n        process.nextTick(function () {\n          RES.apply(null, args)\n        })\n      } else {\n        delete reqs[key]\n      }\n    }\n  })\n}\n\nfunction slice (args) {\n  var length = args.length\n  var array = []\n\n  for (var i = 0; i < length; i++) array[i] = args[i]\n  return array\n}\n","try {\n  var util = require('util');\n  /* istanbul ignore next */\n  if (typeof util.inherits !== 'function') throw '';\n  module.exports = util.inherits;\n} catch (e) {\n  /* istanbul ignore next */\n  module.exports = require('./inherits_browser.js');\n}\n","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      ctor.prototype = Object.create(superCtor.prototype, {\n        constructor: {\n          value: ctor,\n          enumerable: false,\n          writable: true,\n          configurable: true\n        }\n      })\n    }\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      var TempCtor = function () {}\n      TempCtor.prototype = superCtor.prototype\n      ctor.prototype = new TempCtor()\n      ctor.prototype.constructor = ctor\n    }\n  }\n}\n","/**\n * @license\n * Lodash <https://lodash.com/>\n * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n;(function() {\n\n  /** Used as a safe reference for `undefined` in pre-ES5 environments. */\n  var undefined;\n\n  /** Used as the semantic version number. */\n  var VERSION = '4.17.21';\n\n  /** Used as the size to enable large array optimizations. */\n  var LARGE_ARRAY_SIZE = 200;\n\n  /** Error message constants. */\n  var CORE_ERROR_TEXT = 'Unsupported core-js use. Try https://npms.io/search?q=ponyfill.',\n      FUNC_ERROR_TEXT = 'Expected a function',\n      INVALID_TEMPL_VAR_ERROR_TEXT = 'Invalid `variable` option passed into `_.template`';\n\n  /** Used to stand-in for `undefined` hash values. */\n  var HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n  /** Used as the maximum memoize cache size. */\n  var MAX_MEMOIZE_SIZE = 500;\n\n  /** Used as the internal argument placeholder. */\n  var PLACEHOLDER = '__lodash_placeholder__';\n\n  /** Used to compose bitmasks for cloning. */\n  var CLONE_DEEP_FLAG = 1,\n      CLONE_FLAT_FLAG = 2,\n      CLONE_SYMBOLS_FLAG = 4;\n\n  /** Used to compose bitmasks for value comparisons. */\n  var COMPARE_PARTIAL_FLAG = 1,\n      COMPARE_UNORDERED_FLAG = 2;\n\n  /** Used to compose bitmasks for function metadata. */\n  var WRAP_BIND_FLAG = 1,\n      WRAP_BIND_KEY_FLAG = 2,\n      WRAP_CURRY_BOUND_FLAG = 4,\n      WRAP_CURRY_FLAG = 8,\n      WRAP_CURRY_RIGHT_FLAG = 16,\n      WRAP_PARTIAL_FLAG = 32,\n      WRAP_PARTIAL_RIGHT_FLAG = 64,\n      WRAP_ARY_FLAG = 128,\n      WRAP_REARG_FLAG = 256,\n      WRAP_FLIP_FLAG = 512;\n\n  /** Used as default options for `_.truncate`. */\n  var DEFAULT_TRUNC_LENGTH = 30,\n      DEFAULT_TRUNC_OMISSION = '...';\n\n  /** Used to detect hot functions by number of calls within a span of milliseconds. */\n  var HOT_COUNT = 800,\n      HOT_SPAN = 16;\n\n  /** Used to indicate the type of lazy iteratees. */\n  var LAZY_FILTER_FLAG = 1,\n      LAZY_MAP_FLAG = 2,\n      LAZY_WHILE_FLAG = 3;\n\n  /** Used as references for various `Number` constants. */\n  var INFINITY = 1 / 0,\n      MAX_SAFE_INTEGER = 9007199254740991,\n      MAX_INTEGER = 1.7976931348623157e+308,\n      NAN = 0 / 0;\n\n  /** Used as references for the maximum length and index of an array. */\n  var MAX_ARRAY_LENGTH = 4294967295,\n      MAX_ARRAY_INDEX = MAX_ARRAY_LENGTH - 1,\n      HALF_MAX_ARRAY_LENGTH = MAX_ARRAY_LENGTH >>> 1;\n\n  /** Used to associate wrap methods with their bit flags. */\n  var wrapFlags = [\n    ['ary', WRAP_ARY_FLAG],\n    ['bind', WRAP_BIND_FLAG],\n    ['bindKey', WRAP_BIND_KEY_FLAG],\n    ['curry', WRAP_CURRY_FLAG],\n    ['curryRight', WRAP_CURRY_RIGHT_FLAG],\n    ['flip', WRAP_FLIP_FLAG],\n    ['partial', WRAP_PARTIAL_FLAG],\n    ['partialRight', WRAP_PARTIAL_RIGHT_FLAG],\n    ['rearg', WRAP_REARG_FLAG]\n  ];\n\n  /** `Object#toString` result references. */\n  var argsTag = '[object Arguments]',\n      arrayTag = '[object Array]',\n      asyncTag = '[object AsyncFunction]',\n      boolTag = '[object Boolean]',\n      dateTag = '[object Date]',\n      domExcTag = '[object DOMException]',\n      errorTag = '[object Error]',\n      funcTag = '[object Function]',\n      genTag = '[object GeneratorFunction]',\n      mapTag = '[object Map]',\n      numberTag = '[object Number]',\n      nullTag = '[object Null]',\n      objectTag = '[object Object]',\n      promiseTag = '[object Promise]',\n      proxyTag = '[object Proxy]',\n      regexpTag = '[object RegExp]',\n      setTag = '[object Set]',\n      stringTag = '[object String]',\n      symbolTag = '[object Symbol]',\n      undefinedTag = '[object Undefined]',\n      weakMapTag = '[object WeakMap]',\n      weakSetTag = '[object WeakSet]';\n\n  var arrayBufferTag = '[object ArrayBuffer]',\n      dataViewTag = '[object DataView]',\n      float32Tag = '[object Float32Array]',\n      float64Tag = '[object Float64Array]',\n      int8Tag = '[object Int8Array]',\n      int16Tag = '[object Int16Array]',\n      int32Tag = '[object Int32Array]',\n      uint8Tag = '[object Uint8Array]',\n      uint8ClampedTag = '[object Uint8ClampedArray]',\n      uint16Tag = '[object Uint16Array]',\n      uint32Tag = '[object Uint32Array]';\n\n  /** Used to match empty string literals in compiled template source. */\n  var reEmptyStringLeading = /\\b__p \\+= '';/g,\n      reEmptyStringMiddle = /\\b(__p \\+=) '' \\+/g,\n      reEmptyStringTrailing = /(__e\\(.*?\\)|\\b__t\\)) \\+\\n'';/g;\n\n  /** Used to match HTML entities and HTML characters. */\n  var reEscapedHtml = /&(?:amp|lt|gt|quot|#39);/g,\n      reUnescapedHtml = /[&<>\"']/g,\n      reHasEscapedHtml = RegExp(reEscapedHtml.source),\n      reHasUnescapedHtml = RegExp(reUnescapedHtml.source);\n\n  /** Used to match template delimiters. */\n  var reEscape = /<%-([\\s\\S]+?)%>/g,\n      reEvaluate = /<%([\\s\\S]+?)%>/g,\n      reInterpolate = /<%=([\\s\\S]+?)%>/g;\n\n  /** Used to match property names within property paths. */\n  var reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n      reIsPlainProp = /^\\w*$/,\n      rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n  /**\n   * Used to match `RegExp`\n   * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n   */\n  var reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g,\n      reHasRegExpChar = RegExp(reRegExpChar.source);\n\n  /** Used to match leading whitespace. */\n  var reTrimStart = /^\\s+/;\n\n  /** Used to match a single whitespace character. */\n  var reWhitespace = /\\s/;\n\n  /** Used to match wrap detail comments. */\n  var reWrapComment = /\\{(?:\\n\\/\\* \\[wrapped with .+\\] \\*\\/)?\\n?/,\n      reWrapDetails = /\\{\\n\\/\\* \\[wrapped with (.+)\\] \\*/,\n      reSplitDetails = /,? & /;\n\n  /** Used to match words composed of alphanumeric characters. */\n  var reAsciiWord = /[^\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\x7f]+/g;\n\n  /**\n   * Used to validate the `validate` option in `_.template` variable.\n   *\n   * Forbids characters which could potentially change the meaning of the function argument definition:\n   * - \"(),\" (modification of function parameters)\n   * - \"=\" (default value)\n   * - \"[]{}\" (destructuring of function parameters)\n   * - \"/\" (beginning of a comment)\n   * - whitespace\n   */\n  var reForbiddenIdentifierChars = /[()=,{}\\[\\]\\/\\s]/;\n\n  /** Used to match backslashes in property paths. */\n  var reEscapeChar = /\\\\(\\\\)?/g;\n\n  /**\n   * Used to match\n   * [ES template delimiters](http://ecma-international.org/ecma-262/7.0/#sec-template-literal-lexical-components).\n   */\n  var reEsTemplate = /\\$\\{([^\\\\}]*(?:\\\\.[^\\\\}]*)*)\\}/g;\n\n  /** Used to match `RegExp` flags from their coerced string values. */\n  var reFlags = /\\w*$/;\n\n  /** Used to detect bad signed hexadecimal string values. */\n  var reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n  /** Used to detect binary string values. */\n  var reIsBinary = /^0b[01]+$/i;\n\n  /** Used to detect host constructors (Safari). */\n  var reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n  /** Used to detect octal string values. */\n  var reIsOctal = /^0o[0-7]+$/i;\n\n  /** Used to detect unsigned integer values. */\n  var reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n  /** Used to match Latin Unicode letters (excluding mathematical operators). */\n  var reLatin = /[\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\xff\\u0100-\\u017f]/g;\n\n  /** Used to ensure capturing order of template delimiters. */\n  var reNoMatch = /($^)/;\n\n  /** Used to match unescaped characters in compiled string literals. */\n  var reUnescapedString = /['\\n\\r\\u2028\\u2029\\\\]/g;\n\n  /** Used to compose unicode character classes. */\n  var rsAstralRange = '\\\\ud800-\\\\udfff',\n      rsComboMarksRange = '\\\\u0300-\\\\u036f',\n      reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n      rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n      rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange,\n      rsDingbatRange = '\\\\u2700-\\\\u27bf',\n      rsLowerRange = 'a-z\\\\xdf-\\\\xf6\\\\xf8-\\\\xff',\n      rsMathOpRange = '\\\\xac\\\\xb1\\\\xd7\\\\xf7',\n      rsNonCharRange = '\\\\x00-\\\\x2f\\\\x3a-\\\\x40\\\\x5b-\\\\x60\\\\x7b-\\\\xbf',\n      rsPunctuationRange = '\\\\u2000-\\\\u206f',\n      rsSpaceRange = ' \\\\t\\\\x0b\\\\f\\\\xa0\\\\ufeff\\\\n\\\\r\\\\u2028\\\\u2029\\\\u1680\\\\u180e\\\\u2000\\\\u2001\\\\u2002\\\\u2003\\\\u2004\\\\u2005\\\\u2006\\\\u2007\\\\u2008\\\\u2009\\\\u200a\\\\u202f\\\\u205f\\\\u3000',\n      rsUpperRange = 'A-Z\\\\xc0-\\\\xd6\\\\xd8-\\\\xde',\n      rsVarRange = '\\\\ufe0e\\\\ufe0f',\n      rsBreakRange = rsMathOpRange + rsNonCharRange + rsPunctuationRange + rsSpaceRange;\n\n  /** Used to compose unicode capture groups. */\n  var rsApos = \"['\\u2019]\",\n      rsAstral = '[' + rsAstralRange + ']',\n      rsBreak = '[' + rsBreakRange + ']',\n      rsCombo = '[' + rsComboRange + ']',\n      rsDigits = '\\\\d+',\n      rsDingbat = '[' + rsDingbatRange + ']',\n      rsLower = '[' + rsLowerRange + ']',\n      rsMisc = '[^' + rsAstralRange + rsBreakRange + rsDigits + rsDingbatRange + rsLowerRange + rsUpperRange + ']',\n      rsFitz = '\\\\ud83c[\\\\udffb-\\\\udfff]',\n      rsModifier = '(?:' + rsCombo + '|' + rsFitz + ')',\n      rsNonAstral = '[^' + rsAstralRange + ']',\n      rsRegional = '(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}',\n      rsSurrPair = '[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]',\n      rsUpper = '[' + rsUpperRange + ']',\n      rsZWJ = '\\\\u200d';\n\n  /** Used to compose unicode regexes. */\n  var rsMiscLower = '(?:' + rsLower + '|' + rsMisc + ')',\n      rsMiscUpper = '(?:' + rsUpper + '|' + rsMisc + ')',\n      rsOptContrLower = '(?:' + rsApos + '(?:d|ll|m|re|s|t|ve))?',\n      rsOptContrUpper = '(?:' + rsApos + '(?:D|LL|M|RE|S|T|VE))?',\n      reOptMod = rsModifier + '?',\n      rsOptVar = '[' + rsVarRange + ']?',\n      rsOptJoin = '(?:' + rsZWJ + '(?:' + [rsNonAstral, rsRegional, rsSurrPair].join('|') + ')' + rsOptVar + reOptMod + ')*',\n      rsOrdLower = '\\\\d*(?:1st|2nd|3rd|(?![123])\\\\dth)(?=\\\\b|[A-Z_])',\n      rsOrdUpper = '\\\\d*(?:1ST|2ND|3RD|(?![123])\\\\dTH)(?=\\\\b|[a-z_])',\n      rsSeq = rsOptVar + reOptMod + rsOptJoin,\n      rsEmoji = '(?:' + [rsDingbat, rsRegional, rsSurrPair].join('|') + ')' + rsSeq,\n      rsSymbol = '(?:' + [rsNonAstral + rsCombo + '?', rsCombo, rsRegional, rsSurrPair, rsAstral].join('|') + ')';\n\n  /** Used to match apostrophes. */\n  var reApos = RegExp(rsApos, 'g');\n\n  /**\n   * Used to match [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks) and\n   * [combining diacritical marks for symbols](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks_for_Symbols).\n   */\n  var reComboMark = RegExp(rsCombo, 'g');\n\n  /** Used to match [string symbols](https://mathiasbynens.be/notes/javascript-unicode). */\n  var reUnicode = RegExp(rsFitz + '(?=' + rsFitz + ')|' + rsSymbol + rsSeq, 'g');\n\n  /** Used to match complex or compound words. */\n  var reUnicodeWord = RegExp([\n    rsUpper + '?' + rsLower + '+' + rsOptContrLower + '(?=' + [rsBreak, rsUpper, '$'].join('|') + ')',\n    rsMiscUpper + '+' + rsOptContrUpper + '(?=' + [rsBreak, rsUpper + rsMiscLower, '$'].join('|') + ')',\n    rsUpper + '?' + rsMiscLower + '+' + rsOptContrLower,\n    rsUpper + '+' + rsOptContrUpper,\n    rsOrdUpper,\n    rsOrdLower,\n    rsDigits,\n    rsEmoji\n  ].join('|'), 'g');\n\n  /** Used to detect strings with [zero-width joiners or code points from the astral planes](http://eev.ee/blog/2015/09/12/dark-corners-of-unicode/). */\n  var reHasUnicode = RegExp('[' + rsZWJ + rsAstralRange  + rsComboRange + rsVarRange + ']');\n\n  /** Used to detect strings that need a more robust regexp to match words. */\n  var reHasUnicodeWord = /[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;\n\n  /** Used to assign default `context` object properties. */\n  var contextProps = [\n    'Array', 'Buffer', 'DataView', 'Date', 'Error', 'Float32Array', 'Float64Array',\n    'Function', 'Int8Array', 'Int16Array', 'Int32Array', 'Map', 'Math', 'Object',\n    'Promise', 'RegExp', 'Set', 'String', 'Symbol', 'TypeError', 'Uint8Array',\n    'Uint8ClampedArray', 'Uint16Array', 'Uint32Array', 'WeakMap',\n    '_', 'clearTimeout', 'isFinite', 'parseInt', 'setTimeout'\n  ];\n\n  /** Used to make template sourceURLs easier to identify. */\n  var templateCounter = -1;\n\n  /** Used to identify `toStringTag` values of typed arrays. */\n  var typedArrayTags = {};\n  typedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\n  typedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\n  typedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\n  typedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\n  typedArrayTags[uint32Tag] = true;\n  typedArrayTags[argsTag] = typedArrayTags[arrayTag] =\n  typedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\n  typedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\n  typedArrayTags[errorTag] = typedArrayTags[funcTag] =\n  typedArrayTags[mapTag] = typedArrayTags[numberTag] =\n  typedArrayTags[objectTag] = typedArrayTags[regexpTag] =\n  typedArrayTags[setTag] = typedArrayTags[stringTag] =\n  typedArrayTags[weakMapTag] = false;\n\n  /** Used to identify `toStringTag` values supported by `_.clone`. */\n  var cloneableTags = {};\n  cloneableTags[argsTag] = cloneableTags[arrayTag] =\n  cloneableTags[arrayBufferTag] = cloneableTags[dataViewTag] =\n  cloneableTags[boolTag] = cloneableTags[dateTag] =\n  cloneableTags[float32Tag] = cloneableTags[float64Tag] =\n  cloneableTags[int8Tag] = cloneableTags[int16Tag] =\n  cloneableTags[int32Tag] = cloneableTags[mapTag] =\n  cloneableTags[numberTag] = cloneableTags[objectTag] =\n  cloneableTags[regexpTag] = cloneableTags[setTag] =\n  cloneableTags[stringTag] = cloneableTags[symbolTag] =\n  cloneableTags[uint8Tag] = cloneableTags[uint8ClampedTag] =\n  cloneableTags[uint16Tag] = cloneableTags[uint32Tag] = true;\n  cloneableTags[errorTag] = cloneableTags[funcTag] =\n  cloneableTags[weakMapTag] = false;\n\n  /** Used to map Latin Unicode letters to basic Latin letters. */\n  var deburredLetters = {\n    // Latin-1 Supplement block.\n    '\\xc0': 'A',  '\\xc1': 'A', '\\xc2': 'A', '\\xc3': 'A', '\\xc4': 'A', '\\xc5': 'A',\n    '\\xe0': 'a',  '\\xe1': 'a', '\\xe2': 'a', '\\xe3': 'a', '\\xe4': 'a', '\\xe5': 'a',\n    '\\xc7': 'C',  '\\xe7': 'c',\n    '\\xd0': 'D',  '\\xf0': 'd',\n    '\\xc8': 'E',  '\\xc9': 'E', '\\xca': 'E', '\\xcb': 'E',\n    '\\xe8': 'e',  '\\xe9': 'e', '\\xea': 'e', '\\xeb': 'e',\n    '\\xcc': 'I',  '\\xcd': 'I', '\\xce': 'I', '\\xcf': 'I',\n    '\\xec': 'i',  '\\xed': 'i', '\\xee': 'i', '\\xef': 'i',\n    '\\xd1': 'N',  '\\xf1': 'n',\n    '\\xd2': 'O',  '\\xd3': 'O', '\\xd4': 'O', '\\xd5': 'O', '\\xd6': 'O', '\\xd8': 'O',\n    '\\xf2': 'o',  '\\xf3': 'o', '\\xf4': 'o', '\\xf5': 'o', '\\xf6': 'o', '\\xf8': 'o',\n    '\\xd9': 'U',  '\\xda': 'U', '\\xdb': 'U', '\\xdc': 'U',\n    '\\xf9': 'u',  '\\xfa': 'u', '\\xfb': 'u', '\\xfc': 'u',\n    '\\xdd': 'Y',  '\\xfd': 'y', '\\xff': 'y',\n    '\\xc6': 'Ae', '\\xe6': 'ae',\n    '\\xde': 'Th', '\\xfe': 'th',\n    '\\xdf': 'ss',\n    // Latin Extended-A block.\n    '\\u0100': 'A',  '\\u0102': 'A', '\\u0104': 'A',\n    '\\u0101': 'a',  '\\u0103': 'a', '\\u0105': 'a',\n    '\\u0106': 'C',  '\\u0108': 'C', '\\u010a': 'C', '\\u010c': 'C',\n    '\\u0107': 'c',  '\\u0109': 'c', '\\u010b': 'c', '\\u010d': 'c',\n    '\\u010e': 'D',  '\\u0110': 'D', '\\u010f': 'd', '\\u0111': 'd',\n    '\\u0112': 'E',  '\\u0114': 'E', '\\u0116': 'E', '\\u0118': 'E', '\\u011a': 'E',\n    '\\u0113': 'e',  '\\u0115': 'e', '\\u0117': 'e', '\\u0119': 'e', '\\u011b': 'e',\n    '\\u011c': 'G',  '\\u011e': 'G', '\\u0120': 'G', '\\u0122': 'G',\n    '\\u011d': 'g',  '\\u011f': 'g', '\\u0121': 'g', '\\u0123': 'g',\n    '\\u0124': 'H',  '\\u0126': 'H', '\\u0125': 'h', '\\u0127': 'h',\n    '\\u0128': 'I',  '\\u012a': 'I', '\\u012c': 'I', '\\u012e': 'I', '\\u0130': 'I',\n    '\\u0129': 'i',  '\\u012b': 'i', '\\u012d': 'i', '\\u012f': 'i', '\\u0131': 'i',\n    '\\u0134': 'J',  '\\u0135': 'j',\n    '\\u0136': 'K',  '\\u0137': 'k', '\\u0138': 'k',\n    '\\u0139': 'L',  '\\u013b': 'L', '\\u013d': 'L', '\\u013f': 'L', '\\u0141': 'L',\n    '\\u013a': 'l',  '\\u013c': 'l', '\\u013e': 'l', '\\u0140': 'l', '\\u0142': 'l',\n    '\\u0143': 'N',  '\\u0145': 'N', '\\u0147': 'N', '\\u014a': 'N',\n    '\\u0144': 'n',  '\\u0146': 'n', '\\u0148': 'n', '\\u014b': 'n',\n    '\\u014c': 'O',  '\\u014e': 'O', '\\u0150': 'O',\n    '\\u014d': 'o',  '\\u014f': 'o', '\\u0151': 'o',\n    '\\u0154': 'R',  '\\u0156': 'R', '\\u0158': 'R',\n    '\\u0155': 'r',  '\\u0157': 'r', '\\u0159': 'r',\n    '\\u015a': 'S',  '\\u015c': 'S', '\\u015e': 'S', '\\u0160': 'S',\n    '\\u015b': 's',  '\\u015d': 's', '\\u015f': 's', '\\u0161': 's',\n    '\\u0162': 'T',  '\\u0164': 'T', '\\u0166': 'T',\n    '\\u0163': 't',  '\\u0165': 't', '\\u0167': 't',\n    '\\u0168': 'U',  '\\u016a': 'U', '\\u016c': 'U', '\\u016e': 'U', '\\u0170': 'U', '\\u0172': 'U',\n    '\\u0169': 'u',  '\\u016b': 'u', '\\u016d': 'u', '\\u016f': 'u', '\\u0171': 'u', '\\u0173': 'u',\n    '\\u0174': 'W',  '\\u0175': 'w',\n    '\\u0176': 'Y',  '\\u0177': 'y', '\\u0178': 'Y',\n    '\\u0179': 'Z',  '\\u017b': 'Z', '\\u017d': 'Z',\n    '\\u017a': 'z',  '\\u017c': 'z', '\\u017e': 'z',\n    '\\u0132': 'IJ', '\\u0133': 'ij',\n    '\\u0152': 'Oe', '\\u0153': 'oe',\n    '\\u0149': \"'n\", '\\u017f': 's'\n  };\n\n  /** Used to map characters to HTML entities. */\n  var htmlEscapes = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#39;'\n  };\n\n  /** Used to map HTML entities to characters. */\n  var htmlUnescapes = {\n    '&amp;': '&',\n    '&lt;': '<',\n    '&gt;': '>',\n    '&quot;': '\"',\n    '&#39;': \"'\"\n  };\n\n  /** Used to escape characters for inclusion in compiled string literals. */\n  var stringEscapes = {\n    '\\\\': '\\\\',\n    \"'\": \"'\",\n    '\\n': 'n',\n    '\\r': 'r',\n    '\\u2028': 'u2028',\n    '\\u2029': 'u2029'\n  };\n\n  /** Built-in method references without a dependency on `root`. */\n  var freeParseFloat = parseFloat,\n      freeParseInt = parseInt;\n\n  /** Detect free variable `global` from Node.js. */\n  var freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n  /** Detect free variable `self`. */\n  var freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n  /** Used as a reference to the global object. */\n  var root = freeGlobal || freeSelf || Function('return this')();\n\n  /** Detect free variable `exports`. */\n  var freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n  /** Detect free variable `module`. */\n  var freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n  /** Detect the popular CommonJS extension `module.exports`. */\n  var moduleExports = freeModule && freeModule.exports === freeExports;\n\n  /** Detect free variable `process` from Node.js. */\n  var freeProcess = moduleExports && freeGlobal.process;\n\n  /** Used to access faster Node.js helpers. */\n  var nodeUtil = (function() {\n    try {\n      // Use `util.types` for Node.js 10+.\n      var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n      if (types) {\n        return types;\n      }\n\n      // Legacy `process.binding('util')` for Node.js < 10.\n      return freeProcess && freeProcess.binding && freeProcess.binding('util');\n    } catch (e) {}\n  }());\n\n  /* Node.js helper references. */\n  var nodeIsArrayBuffer = nodeUtil && nodeUtil.isArrayBuffer,\n      nodeIsDate = nodeUtil && nodeUtil.isDate,\n      nodeIsMap = nodeUtil && nodeUtil.isMap,\n      nodeIsRegExp = nodeUtil && nodeUtil.isRegExp,\n      nodeIsSet = nodeUtil && nodeUtil.isSet,\n      nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * A faster alternative to `Function#apply`, this function invokes `func`\n   * with the `this` binding of `thisArg` and the arguments of `args`.\n   *\n   * @private\n   * @param {Function} func The function to invoke.\n   * @param {*} thisArg The `this` binding of `func`.\n   * @param {Array} args The arguments to invoke `func` with.\n   * @returns {*} Returns the result of `func`.\n   */\n  function apply(func, thisArg, args) {\n    switch (args.length) {\n      case 0: return func.call(thisArg);\n      case 1: return func.call(thisArg, args[0]);\n      case 2: return func.call(thisArg, args[0], args[1]);\n      case 3: return func.call(thisArg, args[0], args[1], args[2]);\n    }\n    return func.apply(thisArg, args);\n  }\n\n  /**\n   * A specialized version of `baseAggregator` for arrays.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} setter The function to set `accumulator` values.\n   * @param {Function} iteratee The iteratee to transform keys.\n   * @param {Object} accumulator The initial aggregated object.\n   * @returns {Function} Returns `accumulator`.\n   */\n  function arrayAggregator(array, setter, iteratee, accumulator) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      var value = array[index];\n      setter(accumulator, value, iteratee(value), array);\n    }\n    return accumulator;\n  }\n\n  /**\n   * A specialized version of `_.forEach` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns `array`.\n   */\n  function arrayEach(array, iteratee) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      if (iteratee(array[index], index, array) === false) {\n        break;\n      }\n    }\n    return array;\n  }\n\n  /**\n   * A specialized version of `_.forEachRight` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns `array`.\n   */\n  function arrayEachRight(array, iteratee) {\n    var length = array == null ? 0 : array.length;\n\n    while (length--) {\n      if (iteratee(array[length], length, array) === false) {\n        break;\n      }\n    }\n    return array;\n  }\n\n  /**\n   * A specialized version of `_.every` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} predicate The function invoked per iteration.\n   * @returns {boolean} Returns `true` if all elements pass the predicate check,\n   *  else `false`.\n   */\n  function arrayEvery(array, predicate) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      if (!predicate(array[index], index, array)) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  /**\n   * A specialized version of `_.filter` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} predicate The function invoked per iteration.\n   * @returns {Array} Returns the new filtered array.\n   */\n  function arrayFilter(array, predicate) {\n    var index = -1,\n        length = array == null ? 0 : array.length,\n        resIndex = 0,\n        result = [];\n\n    while (++index < length) {\n      var value = array[index];\n      if (predicate(value, index, array)) {\n        result[resIndex++] = value;\n      }\n    }\n    return result;\n  }\n\n  /**\n   * A specialized version of `_.includes` for arrays without support for\n   * specifying an index to search from.\n   *\n   * @private\n   * @param {Array} [array] The array to inspect.\n   * @param {*} target The value to search for.\n   * @returns {boolean} Returns `true` if `target` is found, else `false`.\n   */\n  function arrayIncludes(array, value) {\n    var length = array == null ? 0 : array.length;\n    return !!length && baseIndexOf(array, value, 0) > -1;\n  }\n\n  /**\n   * This function is like `arrayIncludes` except that it accepts a comparator.\n   *\n   * @private\n   * @param {Array} [array] The array to inspect.\n   * @param {*} target The value to search for.\n   * @param {Function} comparator The comparator invoked per element.\n   * @returns {boolean} Returns `true` if `target` is found, else `false`.\n   */\n  function arrayIncludesWith(array, value, comparator) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      if (comparator(value, array[index])) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  /**\n   * A specialized version of `_.map` for arrays without support for iteratee\n   * shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns the new mapped array.\n   */\n  function arrayMap(array, iteratee) {\n    var index = -1,\n        length = array == null ? 0 : array.length,\n        result = Array(length);\n\n    while (++index < length) {\n      result[index] = iteratee(array[index], index, array);\n    }\n    return result;\n  }\n\n  /**\n   * Appends the elements of `values` to `array`.\n   *\n   * @private\n   * @param {Array} array The array to modify.\n   * @param {Array} values The values to append.\n   * @returns {Array} Returns `array`.\n   */\n  function arrayPush(array, values) {\n    var index = -1,\n        length = values.length,\n        offset = array.length;\n\n    while (++index < length) {\n      array[offset + index] = values[index];\n    }\n    return array;\n  }\n\n  /**\n   * A specialized version of `_.reduce` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @param {*} [accumulator] The initial value.\n   * @param {boolean} [initAccum] Specify using the first element of `array` as\n   *  the initial value.\n   * @returns {*} Returns the accumulated value.\n   */\n  function arrayReduce(array, iteratee, accumulator, initAccum) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    if (initAccum && length) {\n      accumulator = array[++index];\n    }\n    while (++index < length) {\n      accumulator = iteratee(accumulator, array[index], index, array);\n    }\n    return accumulator;\n  }\n\n  /**\n   * A specialized version of `_.reduceRight` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @param {*} [accumulator] The initial value.\n   * @param {boolean} [initAccum] Specify using the last element of `array` as\n   *  the initial value.\n   * @returns {*} Returns the accumulated value.\n   */\n  function arrayReduceRight(array, iteratee, accumulator, initAccum) {\n    var length = array == null ? 0 : array.length;\n    if (initAccum && length) {\n      accumulator = array[--length];\n    }\n    while (length--) {\n      accumulator = iteratee(accumulator, array[length], length, array);\n    }\n    return accumulator;\n  }\n\n  /**\n   * A specialized version of `_.some` for arrays without support for iteratee\n   * shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} predicate The function invoked per iteration.\n   * @returns {boolean} Returns `true` if any element passes the predicate check,\n   *  else `false`.\n   */\n  function arraySome(array, predicate) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      if (predicate(array[index], index, array)) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  /**\n   * Gets the size of an ASCII `string`.\n   *\n   * @private\n   * @param {string} string The string inspect.\n   * @returns {number} Returns the string size.\n   */\n  var asciiSize = baseProperty('length');\n\n  /**\n   * Converts an ASCII `string` to an array.\n   *\n   * @private\n   * @param {string} string The string to convert.\n   * @returns {Array} Returns the converted array.\n   */\n  function asciiToArray(string) {\n    return string.split('');\n  }\n\n  /**\n   * Splits an ASCII `string` into an array of its words.\n   *\n   * @private\n   * @param {string} The string to inspect.\n   * @returns {Array} Returns the words of `string`.\n   */\n  function asciiWords(string) {\n    return string.match(reAsciiWord) || [];\n  }\n\n  /**\n   * The base implementation of methods like `_.findKey` and `_.findLastKey`,\n   * without support for iteratee shorthands, which iterates over `collection`\n   * using `eachFunc`.\n   *\n   * @private\n   * @param {Array|Object} collection The collection to inspect.\n   * @param {Function} predicate The function invoked per iteration.\n   * @param {Function} eachFunc The function to iterate over `collection`.\n   * @returns {*} Returns the found element or its key, else `undefined`.\n   */\n  function baseFindKey(collection, predicate, eachFunc) {\n    var result;\n    eachFunc(collection, function(value, key, collection) {\n      if (predicate(value, key, collection)) {\n        result = key;\n        return false;\n      }\n    });\n    return result;\n  }\n\n  /**\n   * The base implementation of `_.findIndex` and `_.findLastIndex` without\n   * support for iteratee shorthands.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {Function} predicate The function invoked per iteration.\n   * @param {number} fromIndex The index to search from.\n   * @param {boolean} [fromRight] Specify iterating from right to left.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function baseFindIndex(array, predicate, fromIndex, fromRight) {\n    var length = array.length,\n        index = fromIndex + (fromRight ? 1 : -1);\n\n    while ((fromRight ? index-- : ++index < length)) {\n      if (predicate(array[index], index, array)) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * The base implementation of `_.indexOf` without `fromIndex` bounds checks.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function baseIndexOf(array, value, fromIndex) {\n    return value === value\n      ? strictIndexOf(array, value, fromIndex)\n      : baseFindIndex(array, baseIsNaN, fromIndex);\n  }\n\n  /**\n   * This function is like `baseIndexOf` except that it accepts a comparator.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @param {Function} comparator The comparator invoked per element.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function baseIndexOfWith(array, value, fromIndex, comparator) {\n    var index = fromIndex - 1,\n        length = array.length;\n\n    while (++index < length) {\n      if (comparator(array[index], value)) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * The base implementation of `_.isNaN` without support for number objects.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n   */\n  function baseIsNaN(value) {\n    return value !== value;\n  }\n\n  /**\n   * The base implementation of `_.mean` and `_.meanBy` without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} array The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {number} Returns the mean.\n   */\n  function baseMean(array, iteratee) {\n    var length = array == null ? 0 : array.length;\n    return length ? (baseSum(array, iteratee) / length) : NAN;\n  }\n\n  /**\n   * The base implementation of `_.property` without support for deep paths.\n   *\n   * @private\n   * @param {string} key The key of the property to get.\n   * @returns {Function} Returns the new accessor function.\n   */\n  function baseProperty(key) {\n    return function(object) {\n      return object == null ? undefined : object[key];\n    };\n  }\n\n  /**\n   * The base implementation of `_.propertyOf` without support for deep paths.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @returns {Function} Returns the new accessor function.\n   */\n  function basePropertyOf(object) {\n    return function(key) {\n      return object == null ? undefined : object[key];\n    };\n  }\n\n  /**\n   * The base implementation of `_.reduce` and `_.reduceRight`, without support\n   * for iteratee shorthands, which iterates over `collection` using `eachFunc`.\n   *\n   * @private\n   * @param {Array|Object} collection The collection to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @param {*} accumulator The initial value.\n   * @param {boolean} initAccum Specify using the first or last element of\n   *  `collection` as the initial value.\n   * @param {Function} eachFunc The function to iterate over `collection`.\n   * @returns {*} Returns the accumulated value.\n   */\n  function baseReduce(collection, iteratee, accumulator, initAccum, eachFunc) {\n    eachFunc(collection, function(value, index, collection) {\n      accumulator = initAccum\n        ? (initAccum = false, value)\n        : iteratee(accumulator, value, index, collection);\n    });\n    return accumulator;\n  }\n\n  /**\n   * The base implementation of `_.sortBy` which uses `comparer` to define the\n   * sort order of `array` and replaces criteria objects with their corresponding\n   * values.\n   *\n   * @private\n   * @param {Array} array The array to sort.\n   * @param {Function} comparer The function to define sort order.\n   * @returns {Array} Returns `array`.\n   */\n  function baseSortBy(array, comparer) {\n    var length = array.length;\n\n    array.sort(comparer);\n    while (length--) {\n      array[length] = array[length].value;\n    }\n    return array;\n  }\n\n  /**\n   * The base implementation of `_.sum` and `_.sumBy` without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} array The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {number} Returns the sum.\n   */\n  function baseSum(array, iteratee) {\n    var result,\n        index = -1,\n        length = array.length;\n\n    while (++index < length) {\n      var current = iteratee(array[index]);\n      if (current !== undefined) {\n        result = result === undefined ? current : (result + current);\n      }\n    }\n    return result;\n  }\n\n  /**\n   * The base implementation of `_.times` without support for iteratee shorthands\n   * or max array length checks.\n   *\n   * @private\n   * @param {number} n The number of times to invoke `iteratee`.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns the array of results.\n   */\n  function baseTimes(n, iteratee) {\n    var index = -1,\n        result = Array(n);\n\n    while (++index < n) {\n      result[index] = iteratee(index);\n    }\n    return result;\n  }\n\n  /**\n   * The base implementation of `_.toPairs` and `_.toPairsIn` which creates an array\n   * of key-value pairs for `object` corresponding to the property names of `props`.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @param {Array} props The property names to get values for.\n   * @returns {Object} Returns the key-value pairs.\n   */\n  function baseToPairs(object, props) {\n    return arrayMap(props, function(key) {\n      return [key, object[key]];\n    });\n  }\n\n  /**\n   * The base implementation of `_.trim`.\n   *\n   * @private\n   * @param {string} string The string to trim.\n   * @returns {string} Returns the trimmed string.\n   */\n  function baseTrim(string) {\n    return string\n      ? string.slice(0, trimmedEndIndex(string) + 1).replace(reTrimStart, '')\n      : string;\n  }\n\n  /**\n   * The base implementation of `_.unary` without support for storing metadata.\n   *\n   * @private\n   * @param {Function} func The function to cap arguments for.\n   * @returns {Function} Returns the new capped function.\n   */\n  function baseUnary(func) {\n    return function(value) {\n      return func(value);\n    };\n  }\n\n  /**\n   * The base implementation of `_.values` and `_.valuesIn` which creates an\n   * array of `object` property values corresponding to the property names\n   * of `props`.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @param {Array} props The property names to get values for.\n   * @returns {Object} Returns the array of property values.\n   */\n  function baseValues(object, props) {\n    return arrayMap(props, function(key) {\n      return object[key];\n    });\n  }\n\n  /**\n   * Checks if a `cache` value for `key` exists.\n   *\n   * @private\n   * @param {Object} cache The cache to query.\n   * @param {string} key The key of the entry to check.\n   * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n   */\n  function cacheHas(cache, key) {\n    return cache.has(key);\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimStart` to get the index of the first string symbol\n   * that is not found in the character symbols.\n   *\n   * @private\n   * @param {Array} strSymbols The string symbols to inspect.\n   * @param {Array} chrSymbols The character symbols to find.\n   * @returns {number} Returns the index of the first unmatched string symbol.\n   */\n  function charsStartIndex(strSymbols, chrSymbols) {\n    var index = -1,\n        length = strSymbols.length;\n\n    while (++index < length && baseIndexOf(chrSymbols, strSymbols[index], 0) > -1) {}\n    return index;\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimEnd` to get the index of the last string symbol\n   * that is not found in the character symbols.\n   *\n   * @private\n   * @param {Array} strSymbols The string symbols to inspect.\n   * @param {Array} chrSymbols The character symbols to find.\n   * @returns {number} Returns the index of the last unmatched string symbol.\n   */\n  function charsEndIndex(strSymbols, chrSymbols) {\n    var index = strSymbols.length;\n\n    while (index-- && baseIndexOf(chrSymbols, strSymbols[index], 0) > -1) {}\n    return index;\n  }\n\n  /**\n   * Gets the number of `placeholder` occurrences in `array`.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} placeholder The placeholder to search for.\n   * @returns {number} Returns the placeholder count.\n   */\n  function countHolders(array, placeholder) {\n    var length = array.length,\n        result = 0;\n\n    while (length--) {\n      if (array[length] === placeholder) {\n        ++result;\n      }\n    }\n    return result;\n  }\n\n  /**\n   * Used by `_.deburr` to convert Latin-1 Supplement and Latin Extended-A\n   * letters to basic Latin letters.\n   *\n   * @private\n   * @param {string} letter The matched letter to deburr.\n   * @returns {string} Returns the deburred letter.\n   */\n  var deburrLetter = basePropertyOf(deburredLetters);\n\n  /**\n   * Used by `_.escape` to convert characters to HTML entities.\n   *\n   * @private\n   * @param {string} chr The matched character to escape.\n   * @returns {string} Returns the escaped character.\n   */\n  var escapeHtmlChar = basePropertyOf(htmlEscapes);\n\n  /**\n   * Used by `_.template` to escape characters for inclusion in compiled string literals.\n   *\n   * @private\n   * @param {string} chr The matched character to escape.\n   * @returns {string} Returns the escaped character.\n   */\n  function escapeStringChar(chr) {\n    return '\\\\' + stringEscapes[chr];\n  }\n\n  /**\n   * Gets the value at `key` of `object`.\n   *\n   * @private\n   * @param {Object} [object] The object to query.\n   * @param {string} key The key of the property to get.\n   * @returns {*} Returns the property value.\n   */\n  function getValue(object, key) {\n    return object == null ? undefined : object[key];\n  }\n\n  /**\n   * Checks if `string` contains Unicode symbols.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {boolean} Returns `true` if a symbol is found, else `false`.\n   */\n  function hasUnicode(string) {\n    return reHasUnicode.test(string);\n  }\n\n  /**\n   * Checks if `string` contains a word composed of Unicode symbols.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {boolean} Returns `true` if a word is found, else `false`.\n   */\n  function hasUnicodeWord(string) {\n    return reHasUnicodeWord.test(string);\n  }\n\n  /**\n   * Converts `iterator` to an array.\n   *\n   * @private\n   * @param {Object} iterator The iterator to convert.\n   * @returns {Array} Returns the converted array.\n   */\n  function iteratorToArray(iterator) {\n    var data,\n        result = [];\n\n    while (!(data = iterator.next()).done) {\n      result.push(data.value);\n    }\n    return result;\n  }\n\n  /**\n   * Converts `map` to its key-value pairs.\n   *\n   * @private\n   * @param {Object} map The map to convert.\n   * @returns {Array} Returns the key-value pairs.\n   */\n  function mapToArray(map) {\n    var index = -1,\n        result = Array(map.size);\n\n    map.forEach(function(value, key) {\n      result[++index] = [key, value];\n    });\n    return result;\n  }\n\n  /**\n   * Creates a unary function that invokes `func` with its argument transformed.\n   *\n   * @private\n   * @param {Function} func The function to wrap.\n   * @param {Function} transform The argument transform.\n   * @returns {Function} Returns the new function.\n   */\n  function overArg(func, transform) {\n    return function(arg) {\n      return func(transform(arg));\n    };\n  }\n\n  /**\n   * Replaces all `placeholder` elements in `array` with an internal placeholder\n   * and returns an array of their indexes.\n   *\n   * @private\n   * @param {Array} array The array to modify.\n   * @param {*} placeholder The placeholder to replace.\n   * @returns {Array} Returns the new array of placeholder indexes.\n   */\n  function replaceHolders(array, placeholder) {\n    var index = -1,\n        length = array.length,\n        resIndex = 0,\n        result = [];\n\n    while (++index < length) {\n      var value = array[index];\n      if (value === placeholder || value === PLACEHOLDER) {\n        array[index] = PLACEHOLDER;\n        result[resIndex++] = index;\n      }\n    }\n    return result;\n  }\n\n  /**\n   * Converts `set` to an array of its values.\n   *\n   * @private\n   * @param {Object} set The set to convert.\n   * @returns {Array} Returns the values.\n   */\n  function setToArray(set) {\n    var index = -1,\n        result = Array(set.size);\n\n    set.forEach(function(value) {\n      result[++index] = value;\n    });\n    return result;\n  }\n\n  /**\n   * Converts `set` to its value-value pairs.\n   *\n   * @private\n   * @param {Object} set The set to convert.\n   * @returns {Array} Returns the value-value pairs.\n   */\n  function setToPairs(set) {\n    var index = -1,\n        result = Array(set.size);\n\n    set.forEach(function(value) {\n      result[++index] = [value, value];\n    });\n    return result;\n  }\n\n  /**\n   * A specialized version of `_.indexOf` which performs strict equality\n   * comparisons of values, i.e. `===`.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function strictIndexOf(array, value, fromIndex) {\n    var index = fromIndex - 1,\n        length = array.length;\n\n    while (++index < length) {\n      if (array[index] === value) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * A specialized version of `_.lastIndexOf` which performs strict equality\n   * comparisons of values, i.e. `===`.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function strictLastIndexOf(array, value, fromIndex) {\n    var index = fromIndex + 1;\n    while (index--) {\n      if (array[index] === value) {\n        return index;\n      }\n    }\n    return index;\n  }\n\n  /**\n   * Gets the number of symbols in `string`.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {number} Returns the string size.\n   */\n  function stringSize(string) {\n    return hasUnicode(string)\n      ? unicodeSize(string)\n      : asciiSize(string);\n  }\n\n  /**\n   * Converts `string` to an array.\n   *\n   * @private\n   * @param {string} string The string to convert.\n   * @returns {Array} Returns the converted array.\n   */\n  function stringToArray(string) {\n    return hasUnicode(string)\n      ? unicodeToArray(string)\n      : asciiToArray(string);\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimEnd` to get the index of the last non-whitespace\n   * character of `string`.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {number} Returns the index of the last non-whitespace character.\n   */\n  function trimmedEndIndex(string) {\n    var index = string.length;\n\n    while (index-- && reWhitespace.test(string.charAt(index))) {}\n    return index;\n  }\n\n  /**\n   * Used by `_.unescape` to convert HTML entities to characters.\n   *\n   * @private\n   * @param {string} chr The matched character to unescape.\n   * @returns {string} Returns the unescaped character.\n   */\n  var unescapeHtmlChar = basePropertyOf(htmlUnescapes);\n\n  /**\n   * Gets the size of a Unicode `string`.\n   *\n   * @private\n   * @param {string} string The string inspect.\n   * @returns {number} Returns the string size.\n   */\n  function unicodeSize(string) {\n    var result = reUnicode.lastIndex = 0;\n    while (reUnicode.test(string)) {\n      ++result;\n    }\n    return result;\n  }\n\n  /**\n   * Converts a Unicode `string` to an array.\n   *\n   * @private\n   * @param {string} string The string to convert.\n   * @returns {Array} Returns the converted array.\n   */\n  function unicodeToArray(string) {\n    return string.match(reUnicode) || [];\n  }\n\n  /**\n   * Splits a Unicode `string` into an array of its words.\n   *\n   * @private\n   * @param {string} The string to inspect.\n   * @returns {Array} Returns the words of `string`.\n   */\n  function unicodeWords(string) {\n    return string.match(reUnicodeWord) || [];\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Create a new pristine `lodash` function using the `context` object.\n   *\n   * @static\n   * @memberOf _\n   * @since 1.1.0\n   * @category Util\n   * @param {Object} [context=root] The context object.\n   * @returns {Function} Returns a new `lodash` function.\n   * @example\n   *\n   * _.mixin({ 'foo': _.constant('foo') });\n   *\n   * var lodash = _.runInContext();\n   * lodash.mixin({ 'bar': lodash.constant('bar') });\n   *\n   * _.isFunction(_.foo);\n   * // => true\n   * _.isFunction(_.bar);\n   * // => false\n   *\n   * lodash.isFunction(lodash.foo);\n   * // => false\n   * lodash.isFunction(lodash.bar);\n   * // => true\n   *\n   * // Create a suped-up `defer` in Node.js.\n   * var defer = _.runInContext({ 'setTimeout': setImmediate }).defer;\n   */\n  var runInContext = (function runInContext(context) {\n    context = context == null ? root : _.defaults(root.Object(), context, _.pick(root, contextProps));\n\n    /** Built-in constructor references. */\n    var Array = context.Array,\n        Date = context.Date,\n        Error = context.Error,\n        Function = context.Function,\n        Math = context.Math,\n        Object = context.Object,\n        RegExp = context.RegExp,\n        String = context.String,\n        TypeError = context.TypeError;\n\n    /** Used for built-in method references. */\n    var arrayProto = Array.prototype,\n        funcProto = Function.prototype,\n        objectProto = Object.prototype;\n\n    /** Used to detect overreaching core-js shims. */\n    var coreJsData = context['__core-js_shared__'];\n\n    /** Used to resolve the decompiled source of functions. */\n    var funcToString = funcProto.toString;\n\n    /** Used to check objects for own properties. */\n    var hasOwnProperty = objectProto.hasOwnProperty;\n\n    /** Used to generate unique IDs. */\n    var idCounter = 0;\n\n    /** Used to detect methods masquerading as native. */\n    var maskSrcKey = (function() {\n      var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n      return uid ? ('Symbol(src)_1.' + uid) : '';\n    }());\n\n    /**\n     * Used to resolve the\n     * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n     * of values.\n     */\n    var nativeObjectToString = objectProto.toString;\n\n    /** Used to infer the `Object` constructor. */\n    var objectCtorString = funcToString.call(Object);\n\n    /** Used to restore the original `_` reference in `_.noConflict`. */\n    var oldDash = root._;\n\n    /** Used to detect if a method is native. */\n    var reIsNative = RegExp('^' +\n      funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n      .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n    );\n\n    /** Built-in value references. */\n    var Buffer = moduleExports ? context.Buffer : undefined,\n        Symbol = context.Symbol,\n        Uint8Array = context.Uint8Array,\n        allocUnsafe = Buffer ? Buffer.allocUnsafe : undefined,\n        getPrototype = overArg(Object.getPrototypeOf, Object),\n        objectCreate = Object.create,\n        propertyIsEnumerable = objectProto.propertyIsEnumerable,\n        splice = arrayProto.splice,\n        spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined,\n        symIterator = Symbol ? Symbol.iterator : undefined,\n        symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n    var defineProperty = (function() {\n      try {\n        var func = getNative(Object, 'defineProperty');\n        func({}, '', {});\n        return func;\n      } catch (e) {}\n    }());\n\n    /** Mocked built-ins. */\n    var ctxClearTimeout = context.clearTimeout !== root.clearTimeout && context.clearTimeout,\n        ctxNow = Date && Date.now !== root.Date.now && Date.now,\n        ctxSetTimeout = context.setTimeout !== root.setTimeout && context.setTimeout;\n\n    /* Built-in method references for those with the same name as other `lodash` methods. */\n    var nativeCeil = Math.ceil,\n        nativeFloor = Math.floor,\n        nativeGetSymbols = Object.getOwnPropertySymbols,\n        nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined,\n        nativeIsFinite = context.isFinite,\n        nativeJoin = arrayProto.join,\n        nativeKeys = overArg(Object.keys, Object),\n        nativeMax = Math.max,\n        nativeMin = Math.min,\n        nativeNow = Date.now,\n        nativeParseInt = context.parseInt,\n        nativeRandom = Math.random,\n        nativeReverse = arrayProto.reverse;\n\n    /* Built-in method references that are verified to be native. */\n    var DataView = getNative(context, 'DataView'),\n        Map = getNative(context, 'Map'),\n        Promise = getNative(context, 'Promise'),\n        Set = getNative(context, 'Set'),\n        WeakMap = getNative(context, 'WeakMap'),\n        nativeCreate = getNative(Object, 'create');\n\n    /** Used to store function metadata. */\n    var metaMap = WeakMap && new WeakMap;\n\n    /** Used to lookup unminified function names. */\n    var realNames = {};\n\n    /** Used to detect maps, sets, and weakmaps. */\n    var dataViewCtorString = toSource(DataView),\n        mapCtorString = toSource(Map),\n        promiseCtorString = toSource(Promise),\n        setCtorString = toSource(Set),\n        weakMapCtorString = toSource(WeakMap);\n\n    /** Used to convert symbols to primitives and strings. */\n    var symbolProto = Symbol ? Symbol.prototype : undefined,\n        symbolValueOf = symbolProto ? symbolProto.valueOf : undefined,\n        symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a `lodash` object which wraps `value` to enable implicit method\n     * chain sequences. Methods that operate on and return arrays, collections,\n     * and functions can be chained together. Methods that retrieve a single value\n     * or may return a primitive value will automatically end the chain sequence\n     * and return the unwrapped value. Otherwise, the value must be unwrapped\n     * with `_#value`.\n     *\n     * Explicit chain sequences, which must be unwrapped with `_#value`, may be\n     * enabled using `_.chain`.\n     *\n     * The execution of chained methods is lazy, that is, it's deferred until\n     * `_#value` is implicitly or explicitly called.\n     *\n     * Lazy evaluation allows several methods to support shortcut fusion.\n     * Shortcut fusion is an optimization to merge iteratee calls; this avoids\n     * the creation of intermediate arrays and can greatly reduce the number of\n     * iteratee executions. Sections of a chain sequence qualify for shortcut\n     * fusion if the section is applied to an array and iteratees accept only\n     * one argument. The heuristic for whether a section qualifies for shortcut\n     * fusion is subject to change.\n     *\n     * Chaining is supported in custom builds as long as the `_#value` method is\n     * directly or indirectly included in the build.\n     *\n     * In addition to lodash methods, wrappers have `Array` and `String` methods.\n     *\n     * The wrapper `Array` methods are:\n     * `concat`, `join`, `pop`, `push`, `shift`, `sort`, `splice`, and `unshift`\n     *\n     * The wrapper `String` methods are:\n     * `replace` and `split`\n     *\n     * The wrapper methods that support shortcut fusion are:\n     * `at`, `compact`, `drop`, `dropRight`, `dropWhile`, `filter`, `find`,\n     * `findLast`, `head`, `initial`, `last`, `map`, `reject`, `reverse`, `slice`,\n     * `tail`, `take`, `takeRight`, `takeRightWhile`, `takeWhile`, and `toArray`\n     *\n     * The chainable wrapper methods are:\n     * `after`, `ary`, `assign`, `assignIn`, `assignInWith`, `assignWith`, `at`,\n     * `before`, `bind`, `bindAll`, `bindKey`, `castArray`, `chain`, `chunk`,\n     * `commit`, `compact`, `concat`, `conforms`, `constant`, `countBy`, `create`,\n     * `curry`, `debounce`, `defaults`, `defaultsDeep`, `defer`, `delay`,\n     * `difference`, `differenceBy`, `differenceWith`, `drop`, `dropRight`,\n     * `dropRightWhile`, `dropWhile`, `extend`, `extendWith`, `fill`, `filter`,\n     * `flatMap`, `flatMapDeep`, `flatMapDepth`, `flatten`, `flattenDeep`,\n     * `flattenDepth`, `flip`, `flow`, `flowRight`, `fromPairs`, `functions`,\n     * `functionsIn`, `groupBy`, `initial`, `intersection`, `intersectionBy`,\n     * `intersectionWith`, `invert`, `invertBy`, `invokeMap`, `iteratee`, `keyBy`,\n     * `keys`, `keysIn`, `map`, `mapKeys`, `mapValues`, `matches`, `matchesProperty`,\n     * `memoize`, `merge`, `mergeWith`, `method`, `methodOf`, `mixin`, `negate`,\n     * `nthArg`, `omit`, `omitBy`, `once`, `orderBy`, `over`, `overArgs`,\n     * `overEvery`, `overSome`, `partial`, `partialRight`, `partition`, `pick`,\n     * `pickBy`, `plant`, `property`, `propertyOf`, `pull`, `pullAll`, `pullAllBy`,\n     * `pullAllWith`, `pullAt`, `push`, `range`, `rangeRight`, `rearg`, `reject`,\n     * `remove`, `rest`, `reverse`, `sampleSize`, `set`, `setWith`, `shuffle`,\n     * `slice`, `sort`, `sortBy`, `splice`, `spread`, `tail`, `take`, `takeRight`,\n     * `takeRightWhile`, `takeWhile`, `tap`, `throttle`, `thru`, `toArray`,\n     * `toPairs`, `toPairsIn`, `toPath`, `toPlainObject`, `transform`, `unary`,\n     * `union`, `unionBy`, `unionWith`, `uniq`, `uniqBy`, `uniqWith`, `unset`,\n     * `unshift`, `unzip`, `unzipWith`, `update`, `updateWith`, `values`,\n     * `valuesIn`, `without`, `wrap`, `xor`, `xorBy`, `xorWith`, `zip`,\n     * `zipObject`, `zipObjectDeep`, and `zipWith`\n     *\n     * The wrapper methods that are **not** chainable by default are:\n     * `add`, `attempt`, `camelCase`, `capitalize`, `ceil`, `clamp`, `clone`,\n     * `cloneDeep`, `cloneDeepWith`, `cloneWith`, `conformsTo`, `deburr`,\n     * `defaultTo`, `divide`, `each`, `eachRight`, `endsWith`, `eq`, `escape`,\n     * `escapeRegExp`, `every`, `find`, `findIndex`, `findKey`, `findLast`,\n     * `findLastIndex`, `findLastKey`, `first`, `floor`, `forEach`, `forEachRight`,\n     * `forIn`, `forInRight`, `forOwn`, `forOwnRight`, `get`, `gt`, `gte`, `has`,\n     * `hasIn`, `head`, `identity`, `includes`, `indexOf`, `inRange`, `invoke`,\n     * `isArguments`, `isArray`, `isArrayBuffer`, `isArrayLike`, `isArrayLikeObject`,\n     * `isBoolean`, `isBuffer`, `isDate`, `isElement`, `isEmpty`, `isEqual`,\n     * `isEqualWith`, `isError`, `isFinite`, `isFunction`, `isInteger`, `isLength`,\n     * `isMap`, `isMatch`, `isMatchWith`, `isNaN`, `isNative`, `isNil`, `isNull`,\n     * `isNumber`, `isObject`, `isObjectLike`, `isPlainObject`, `isRegExp`,\n     * `isSafeInteger`, `isSet`, `isString`, `isUndefined`, `isTypedArray`,\n     * `isWeakMap`, `isWeakSet`, `join`, `kebabCase`, `last`, `lastIndexOf`,\n     * `lowerCase`, `lowerFirst`, `lt`, `lte`, `max`, `maxBy`, `mean`, `meanBy`,\n     * `min`, `minBy`, `multiply`, `noConflict`, `noop`, `now`, `nth`, `pad`,\n     * `padEnd`, `padStart`, `parseInt`, `pop`, `random`, `reduce`, `reduceRight`,\n     * `repeat`, `result`, `round`, `runInContext`, `sample`, `shift`, `size`,\n     * `snakeCase`, `some`, `sortedIndex`, `sortedIndexBy`, `sortedLastIndex`,\n     * `sortedLastIndexBy`, `startCase`, `startsWith`, `stubArray`, `stubFalse`,\n     * `stubObject`, `stubString`, `stubTrue`, `subtract`, `sum`, `sumBy`,\n     * `template`, `times`, `toFinite`, `toInteger`, `toJSON`, `toLength`,\n     * `toLower`, `toNumber`, `toSafeInteger`, `toString`, `toUpper`, `trim`,\n     * `trimEnd`, `trimStart`, `truncate`, `unescape`, `uniqueId`, `upperCase`,\n     * `upperFirst`, `value`, and `words`\n     *\n     * @name _\n     * @constructor\n     * @category Seq\n     * @param {*} value The value to wrap in a `lodash` instance.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var wrapped = _([1, 2, 3]);\n     *\n     * // Returns an unwrapped value.\n     * wrapped.reduce(_.add);\n     * // => 6\n     *\n     * // Returns a wrapped value.\n     * var squares = wrapped.map(square);\n     *\n     * _.isArray(squares);\n     * // => false\n     *\n     * _.isArray(squares.value());\n     * // => true\n     */\n    function lodash(value) {\n      if (isObjectLike(value) && !isArray(value) && !(value instanceof LazyWrapper)) {\n        if (value instanceof LodashWrapper) {\n          return value;\n        }\n        if (hasOwnProperty.call(value, '__wrapped__')) {\n          return wrapperClone(value);\n        }\n      }\n      return new LodashWrapper(value);\n    }\n\n    /**\n     * The base implementation of `_.create` without support for assigning\n     * properties to the created object.\n     *\n     * @private\n     * @param {Object} proto The object to inherit from.\n     * @returns {Object} Returns the new object.\n     */\n    var baseCreate = (function() {\n      function object() {}\n      return function(proto) {\n        if (!isObject(proto)) {\n          return {};\n        }\n        if (objectCreate) {\n          return objectCreate(proto);\n        }\n        object.prototype = proto;\n        var result = new object;\n        object.prototype = undefined;\n        return result;\n      };\n    }());\n\n    /**\n     * The function whose prototype chain sequence wrappers inherit from.\n     *\n     * @private\n     */\n    function baseLodash() {\n      // No operation performed.\n    }\n\n    /**\n     * The base constructor for creating `lodash` wrapper objects.\n     *\n     * @private\n     * @param {*} value The value to wrap.\n     * @param {boolean} [chainAll] Enable explicit method chain sequences.\n     */\n    function LodashWrapper(value, chainAll) {\n      this.__wrapped__ = value;\n      this.__actions__ = [];\n      this.__chain__ = !!chainAll;\n      this.__index__ = 0;\n      this.__values__ = undefined;\n    }\n\n    /**\n     * By default, the template delimiters used by lodash are like those in\n     * embedded Ruby (ERB) as well as ES2015 template strings. Change the\n     * following template settings to use alternative delimiters.\n     *\n     * @static\n     * @memberOf _\n     * @type {Object}\n     */\n    lodash.templateSettings = {\n\n      /**\n       * Used to detect `data` property values to be HTML-escaped.\n       *\n       * @memberOf _.templateSettings\n       * @type {RegExp}\n       */\n      'escape': reEscape,\n\n      /**\n       * Used to detect code to be evaluated.\n       *\n       * @memberOf _.templateSettings\n       * @type {RegExp}\n       */\n      'evaluate': reEvaluate,\n\n      /**\n       * Used to detect `data` property values to inject.\n       *\n       * @memberOf _.templateSettings\n       * @type {RegExp}\n       */\n      'interpolate': reInterpolate,\n\n      /**\n       * Used to reference the data object in the template text.\n       *\n       * @memberOf _.templateSettings\n       * @type {string}\n       */\n      'variable': '',\n\n      /**\n       * Used to import variables into the compiled template.\n       *\n       * @memberOf _.templateSettings\n       * @type {Object}\n       */\n      'imports': {\n\n        /**\n         * A reference to the `lodash` function.\n         *\n         * @memberOf _.templateSettings.imports\n         * @type {Function}\n         */\n        '_': lodash\n      }\n    };\n\n    // Ensure wrappers are instances of `baseLodash`.\n    lodash.prototype = baseLodash.prototype;\n    lodash.prototype.constructor = lodash;\n\n    LodashWrapper.prototype = baseCreate(baseLodash.prototype);\n    LodashWrapper.prototype.constructor = LodashWrapper;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a lazy wrapper object which wraps `value` to enable lazy evaluation.\n     *\n     * @private\n     * @constructor\n     * @param {*} value The value to wrap.\n     */\n    function LazyWrapper(value) {\n      this.__wrapped__ = value;\n      this.__actions__ = [];\n      this.__dir__ = 1;\n      this.__filtered__ = false;\n      this.__iteratees__ = [];\n      this.__takeCount__ = MAX_ARRAY_LENGTH;\n      this.__views__ = [];\n    }\n\n    /**\n     * Creates a clone of the lazy wrapper object.\n     *\n     * @private\n     * @name clone\n     * @memberOf LazyWrapper\n     * @returns {Object} Returns the cloned `LazyWrapper` object.\n     */\n    function lazyClone() {\n      var result = new LazyWrapper(this.__wrapped__);\n      result.__actions__ = copyArray(this.__actions__);\n      result.__dir__ = this.__dir__;\n      result.__filtered__ = this.__filtered__;\n      result.__iteratees__ = copyArray(this.__iteratees__);\n      result.__takeCount__ = this.__takeCount__;\n      result.__views__ = copyArray(this.__views__);\n      return result;\n    }\n\n    /**\n     * Reverses the direction of lazy iteration.\n     *\n     * @private\n     * @name reverse\n     * @memberOf LazyWrapper\n     * @returns {Object} Returns the new reversed `LazyWrapper` object.\n     */\n    function lazyReverse() {\n      if (this.__filtered__) {\n        var result = new LazyWrapper(this);\n        result.__dir__ = -1;\n        result.__filtered__ = true;\n      } else {\n        result = this.clone();\n        result.__dir__ *= -1;\n      }\n      return result;\n    }\n\n    /**\n     * Extracts the unwrapped value from its lazy wrapper.\n     *\n     * @private\n     * @name value\n     * @memberOf LazyWrapper\n     * @returns {*} Returns the unwrapped value.\n     */\n    function lazyValue() {\n      var array = this.__wrapped__.value(),\n          dir = this.__dir__,\n          isArr = isArray(array),\n          isRight = dir < 0,\n          arrLength = isArr ? array.length : 0,\n          view = getView(0, arrLength, this.__views__),\n          start = view.start,\n          end = view.end,\n          length = end - start,\n          index = isRight ? end : (start - 1),\n          iteratees = this.__iteratees__,\n          iterLength = iteratees.length,\n          resIndex = 0,\n          takeCount = nativeMin(length, this.__takeCount__);\n\n      if (!isArr || (!isRight && arrLength == length && takeCount == length)) {\n        return baseWrapperValue(array, this.__actions__);\n      }\n      var result = [];\n\n      outer:\n      while (length-- && resIndex < takeCount) {\n        index += dir;\n\n        var iterIndex = -1,\n            value = array[index];\n\n        while (++iterIndex < iterLength) {\n          var data = iteratees[iterIndex],\n              iteratee = data.iteratee,\n              type = data.type,\n              computed = iteratee(value);\n\n          if (type == LAZY_MAP_FLAG) {\n            value = computed;\n          } else if (!computed) {\n            if (type == LAZY_FILTER_FLAG) {\n              continue outer;\n            } else {\n              break outer;\n            }\n          }\n        }\n        result[resIndex++] = value;\n      }\n      return result;\n    }\n\n    // Ensure `LazyWrapper` is an instance of `baseLodash`.\n    LazyWrapper.prototype = baseCreate(baseLodash.prototype);\n    LazyWrapper.prototype.constructor = LazyWrapper;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a hash object.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n    function Hash(entries) {\n      var index = -1,\n          length = entries == null ? 0 : entries.length;\n\n      this.clear();\n      while (++index < length) {\n        var entry = entries[index];\n        this.set(entry[0], entry[1]);\n      }\n    }\n\n    /**\n     * Removes all key-value entries from the hash.\n     *\n     * @private\n     * @name clear\n     * @memberOf Hash\n     */\n    function hashClear() {\n      this.__data__ = nativeCreate ? nativeCreate(null) : {};\n      this.size = 0;\n    }\n\n    /**\n     * Removes `key` and its value from the hash.\n     *\n     * @private\n     * @name delete\n     * @memberOf Hash\n     * @param {Object} hash The hash to modify.\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n    function hashDelete(key) {\n      var result = this.has(key) && delete this.__data__[key];\n      this.size -= result ? 1 : 0;\n      return result;\n    }\n\n    /**\n     * Gets the hash value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf Hash\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n    function hashGet(key) {\n      var data = this.__data__;\n      if (nativeCreate) {\n        var result = data[key];\n        return result === HASH_UNDEFINED ? undefined : result;\n      }\n      return hasOwnProperty.call(data, key) ? data[key] : undefined;\n    }\n\n    /**\n     * Checks if a hash value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf Hash\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function hashHas(key) {\n      var data = this.__data__;\n      return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n    }\n\n    /**\n     * Sets the hash `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf Hash\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the hash instance.\n     */\n    function hashSet(key, value) {\n      var data = this.__data__;\n      this.size += this.has(key) ? 0 : 1;\n      data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n      return this;\n    }\n\n    // Add methods to `Hash`.\n    Hash.prototype.clear = hashClear;\n    Hash.prototype['delete'] = hashDelete;\n    Hash.prototype.get = hashGet;\n    Hash.prototype.has = hashHas;\n    Hash.prototype.set = hashSet;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an list cache object.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n    function ListCache(entries) {\n      var index = -1,\n          length = entries == null ? 0 : entries.length;\n\n      this.clear();\n      while (++index < length) {\n        var entry = entries[index];\n        this.set(entry[0], entry[1]);\n      }\n    }\n\n    /**\n     * Removes all key-value entries from the list cache.\n     *\n     * @private\n     * @name clear\n     * @memberOf ListCache\n     */\n    function listCacheClear() {\n      this.__data__ = [];\n      this.size = 0;\n    }\n\n    /**\n     * Removes `key` and its value from the list cache.\n     *\n     * @private\n     * @name delete\n     * @memberOf ListCache\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n    function listCacheDelete(key) {\n      var data = this.__data__,\n          index = assocIndexOf(data, key);\n\n      if (index < 0) {\n        return false;\n      }\n      var lastIndex = data.length - 1;\n      if (index == lastIndex) {\n        data.pop();\n      } else {\n        splice.call(data, index, 1);\n      }\n      --this.size;\n      return true;\n    }\n\n    /**\n     * Gets the list cache value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf ListCache\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n    function listCacheGet(key) {\n      var data = this.__data__,\n          index = assocIndexOf(data, key);\n\n      return index < 0 ? undefined : data[index][1];\n    }\n\n    /**\n     * Checks if a list cache value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf ListCache\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function listCacheHas(key) {\n      return assocIndexOf(this.__data__, key) > -1;\n    }\n\n    /**\n     * Sets the list cache `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf ListCache\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the list cache instance.\n     */\n    function listCacheSet(key, value) {\n      var data = this.__data__,\n          index = assocIndexOf(data, key);\n\n      if (index < 0) {\n        ++this.size;\n        data.push([key, value]);\n      } else {\n        data[index][1] = value;\n      }\n      return this;\n    }\n\n    // Add methods to `ListCache`.\n    ListCache.prototype.clear = listCacheClear;\n    ListCache.prototype['delete'] = listCacheDelete;\n    ListCache.prototype.get = listCacheGet;\n    ListCache.prototype.has = listCacheHas;\n    ListCache.prototype.set = listCacheSet;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a map cache object to store key-value pairs.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n    function MapCache(entries) {\n      var index = -1,\n          length = entries == null ? 0 : entries.length;\n\n      this.clear();\n      while (++index < length) {\n        var entry = entries[index];\n        this.set(entry[0], entry[1]);\n      }\n    }\n\n    /**\n     * Removes all key-value entries from the map.\n     *\n     * @private\n     * @name clear\n     * @memberOf MapCache\n     */\n    function mapCacheClear() {\n      this.size = 0;\n      this.__data__ = {\n        'hash': new Hash,\n        'map': new (Map || ListCache),\n        'string': new Hash\n      };\n    }\n\n    /**\n     * Removes `key` and its value from the map.\n     *\n     * @private\n     * @name delete\n     * @memberOf MapCache\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n    function mapCacheDelete(key) {\n      var result = getMapData(this, key)['delete'](key);\n      this.size -= result ? 1 : 0;\n      return result;\n    }\n\n    /**\n     * Gets the map value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf MapCache\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n    function mapCacheGet(key) {\n      return getMapData(this, key).get(key);\n    }\n\n    /**\n     * Checks if a map value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf MapCache\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function mapCacheHas(key) {\n      return getMapData(this, key).has(key);\n    }\n\n    /**\n     * Sets the map `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf MapCache\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the map cache instance.\n     */\n    function mapCacheSet(key, value) {\n      var data = getMapData(this, key),\n          size = data.size;\n\n      data.set(key, value);\n      this.size += data.size == size ? 0 : 1;\n      return this;\n    }\n\n    // Add methods to `MapCache`.\n    MapCache.prototype.clear = mapCacheClear;\n    MapCache.prototype['delete'] = mapCacheDelete;\n    MapCache.prototype.get = mapCacheGet;\n    MapCache.prototype.has = mapCacheHas;\n    MapCache.prototype.set = mapCacheSet;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     *\n     * Creates an array cache object to store unique values.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [values] The values to cache.\n     */\n    function SetCache(values) {\n      var index = -1,\n          length = values == null ? 0 : values.length;\n\n      this.__data__ = new MapCache;\n      while (++index < length) {\n        this.add(values[index]);\n      }\n    }\n\n    /**\n     * Adds `value` to the array cache.\n     *\n     * @private\n     * @name add\n     * @memberOf SetCache\n     * @alias push\n     * @param {*} value The value to cache.\n     * @returns {Object} Returns the cache instance.\n     */\n    function setCacheAdd(value) {\n      this.__data__.set(value, HASH_UNDEFINED);\n      return this;\n    }\n\n    /**\n     * Checks if `value` is in the array cache.\n     *\n     * @private\n     * @name has\n     * @memberOf SetCache\n     * @param {*} value The value to search for.\n     * @returns {number} Returns `true` if `value` is found, else `false`.\n     */\n    function setCacheHas(value) {\n      return this.__data__.has(value);\n    }\n\n    // Add methods to `SetCache`.\n    SetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\n    SetCache.prototype.has = setCacheHas;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a stack cache object to store key-value pairs.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n    function Stack(entries) {\n      var data = this.__data__ = new ListCache(entries);\n      this.size = data.size;\n    }\n\n    /**\n     * Removes all key-value entries from the stack.\n     *\n     * @private\n     * @name clear\n     * @memberOf Stack\n     */\n    function stackClear() {\n      this.__data__ = new ListCache;\n      this.size = 0;\n    }\n\n    /**\n     * Removes `key` and its value from the stack.\n     *\n     * @private\n     * @name delete\n     * @memberOf Stack\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n    function stackDelete(key) {\n      var data = this.__data__,\n          result = data['delete'](key);\n\n      this.size = data.size;\n      return result;\n    }\n\n    /**\n     * Gets the stack value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf Stack\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n    function stackGet(key) {\n      return this.__data__.get(key);\n    }\n\n    /**\n     * Checks if a stack value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf Stack\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function stackHas(key) {\n      return this.__data__.has(key);\n    }\n\n    /**\n     * Sets the stack `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf Stack\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the stack cache instance.\n     */\n    function stackSet(key, value) {\n      var data = this.__data__;\n      if (data instanceof ListCache) {\n        var pairs = data.__data__;\n        if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n          pairs.push([key, value]);\n          this.size = ++data.size;\n          return this;\n        }\n        data = this.__data__ = new MapCache(pairs);\n      }\n      data.set(key, value);\n      this.size = data.size;\n      return this;\n    }\n\n    // Add methods to `Stack`.\n    Stack.prototype.clear = stackClear;\n    Stack.prototype['delete'] = stackDelete;\n    Stack.prototype.get = stackGet;\n    Stack.prototype.has = stackHas;\n    Stack.prototype.set = stackSet;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an array of the enumerable property names of the array-like `value`.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @param {boolean} inherited Specify returning inherited property names.\n     * @returns {Array} Returns the array of property names.\n     */\n    function arrayLikeKeys(value, inherited) {\n      var isArr = isArray(value),\n          isArg = !isArr && isArguments(value),\n          isBuff = !isArr && !isArg && isBuffer(value),\n          isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n          skipIndexes = isArr || isArg || isBuff || isType,\n          result = skipIndexes ? baseTimes(value.length, String) : [],\n          length = result.length;\n\n      for (var key in value) {\n        if ((inherited || hasOwnProperty.call(value, key)) &&\n            !(skipIndexes && (\n               // Safari 9 has enumerable `arguments.length` in strict mode.\n               key == 'length' ||\n               // Node.js 0.10 has enumerable non-index properties on buffers.\n               (isBuff && (key == 'offset' || key == 'parent')) ||\n               // PhantomJS 2 has enumerable non-index properties on typed arrays.\n               (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n               // Skip index properties.\n               isIndex(key, length)\n            ))) {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * A specialized version of `_.sample` for arrays.\n     *\n     * @private\n     * @param {Array} array The array to sample.\n     * @returns {*} Returns the random element.\n     */\n    function arraySample(array) {\n      var length = array.length;\n      return length ? array[baseRandom(0, length - 1)] : undefined;\n    }\n\n    /**\n     * A specialized version of `_.sampleSize` for arrays.\n     *\n     * @private\n     * @param {Array} array The array to sample.\n     * @param {number} n The number of elements to sample.\n     * @returns {Array} Returns the random elements.\n     */\n    function arraySampleSize(array, n) {\n      return shuffleSelf(copyArray(array), baseClamp(n, 0, array.length));\n    }\n\n    /**\n     * A specialized version of `_.shuffle` for arrays.\n     *\n     * @private\n     * @param {Array} array The array to shuffle.\n     * @returns {Array} Returns the new shuffled array.\n     */\n    function arrayShuffle(array) {\n      return shuffleSelf(copyArray(array));\n    }\n\n    /**\n     * This function is like `assignValue` except that it doesn't assign\n     * `undefined` values.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {string} key The key of the property to assign.\n     * @param {*} value The value to assign.\n     */\n    function assignMergeValue(object, key, value) {\n      if ((value !== undefined && !eq(object[key], value)) ||\n          (value === undefined && !(key in object))) {\n        baseAssignValue(object, key, value);\n      }\n    }\n\n    /**\n     * Assigns `value` to `key` of `object` if the existing value is not equivalent\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {string} key The key of the property to assign.\n     * @param {*} value The value to assign.\n     */\n    function assignValue(object, key, value) {\n      var objValue = object[key];\n      if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n          (value === undefined && !(key in object))) {\n        baseAssignValue(object, key, value);\n      }\n    }\n\n    /**\n     * Gets the index at which the `key` is found in `array` of key-value pairs.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {*} key The key to search for.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     */\n    function assocIndexOf(array, key) {\n      var length = array.length;\n      while (length--) {\n        if (eq(array[length][0], key)) {\n          return length;\n        }\n      }\n      return -1;\n    }\n\n    /**\n     * Aggregates elements of `collection` on `accumulator` with keys transformed\n     * by `iteratee` and values set by `setter`.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} setter The function to set `accumulator` values.\n     * @param {Function} iteratee The iteratee to transform keys.\n     * @param {Object} accumulator The initial aggregated object.\n     * @returns {Function} Returns `accumulator`.\n     */\n    function baseAggregator(collection, setter, iteratee, accumulator) {\n      baseEach(collection, function(value, key, collection) {\n        setter(accumulator, value, iteratee(value), collection);\n      });\n      return accumulator;\n    }\n\n    /**\n     * The base implementation of `_.assign` without support for multiple sources\n     * or `customizer` functions.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @returns {Object} Returns `object`.\n     */\n    function baseAssign(object, source) {\n      return object && copyObject(source, keys(source), object);\n    }\n\n    /**\n     * The base implementation of `_.assignIn` without support for multiple sources\n     * or `customizer` functions.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @returns {Object} Returns `object`.\n     */\n    function baseAssignIn(object, source) {\n      return object && copyObject(source, keysIn(source), object);\n    }\n\n    /**\n     * The base implementation of `assignValue` and `assignMergeValue` without\n     * value checks.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {string} key The key of the property to assign.\n     * @param {*} value The value to assign.\n     */\n    function baseAssignValue(object, key, value) {\n      if (key == '__proto__' && defineProperty) {\n        defineProperty(object, key, {\n          'configurable': true,\n          'enumerable': true,\n          'value': value,\n          'writable': true\n        });\n      } else {\n        object[key] = value;\n      }\n    }\n\n    /**\n     * The base implementation of `_.at` without support for individual paths.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {string[]} paths The property paths to pick.\n     * @returns {Array} Returns the picked elements.\n     */\n    function baseAt(object, paths) {\n      var index = -1,\n          length = paths.length,\n          result = Array(length),\n          skip = object == null;\n\n      while (++index < length) {\n        result[index] = skip ? undefined : get(object, paths[index]);\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.clamp` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {number} number The number to clamp.\n     * @param {number} [lower] The lower bound.\n     * @param {number} upper The upper bound.\n     * @returns {number} Returns the clamped number.\n     */\n    function baseClamp(number, lower, upper) {\n      if (number === number) {\n        if (upper !== undefined) {\n          number = number <= upper ? number : upper;\n        }\n        if (lower !== undefined) {\n          number = number >= lower ? number : lower;\n        }\n      }\n      return number;\n    }\n\n    /**\n     * The base implementation of `_.clone` and `_.cloneDeep` which tracks\n     * traversed objects.\n     *\n     * @private\n     * @param {*} value The value to clone.\n     * @param {boolean} bitmask The bitmask flags.\n     *  1 - Deep clone\n     *  2 - Flatten inherited properties\n     *  4 - Clone symbols\n     * @param {Function} [customizer] The function to customize cloning.\n     * @param {string} [key] The key of `value`.\n     * @param {Object} [object] The parent object of `value`.\n     * @param {Object} [stack] Tracks traversed objects and their clone counterparts.\n     * @returns {*} Returns the cloned value.\n     */\n    function baseClone(value, bitmask, customizer, key, object, stack) {\n      var result,\n          isDeep = bitmask & CLONE_DEEP_FLAG,\n          isFlat = bitmask & CLONE_FLAT_FLAG,\n          isFull = bitmask & CLONE_SYMBOLS_FLAG;\n\n      if (customizer) {\n        result = object ? customizer(value, key, object, stack) : customizer(value);\n      }\n      if (result !== undefined) {\n        return result;\n      }\n      if (!isObject(value)) {\n        return value;\n      }\n      var isArr = isArray(value);\n      if (isArr) {\n        result = initCloneArray(value);\n        if (!isDeep) {\n          return copyArray(value, result);\n        }\n      } else {\n        var tag = getTag(value),\n            isFunc = tag == funcTag || tag == genTag;\n\n        if (isBuffer(value)) {\n          return cloneBuffer(value, isDeep);\n        }\n        if (tag == objectTag || tag == argsTag || (isFunc && !object)) {\n          result = (isFlat || isFunc) ? {} : initCloneObject(value);\n          if (!isDeep) {\n            return isFlat\n              ? copySymbolsIn(value, baseAssignIn(result, value))\n              : copySymbols(value, baseAssign(result, value));\n          }\n        } else {\n          if (!cloneableTags[tag]) {\n            return object ? value : {};\n          }\n          result = initCloneByTag(value, tag, isDeep);\n        }\n      }\n      // Check for circular references and return its corresponding clone.\n      stack || (stack = new Stack);\n      var stacked = stack.get(value);\n      if (stacked) {\n        return stacked;\n      }\n      stack.set(value, result);\n\n      if (isSet(value)) {\n        value.forEach(function(subValue) {\n          result.add(baseClone(subValue, bitmask, customizer, subValue, value, stack));\n        });\n      } else if (isMap(value)) {\n        value.forEach(function(subValue, key) {\n          result.set(key, baseClone(subValue, bitmask, customizer, key, value, stack));\n        });\n      }\n\n      var keysFunc = isFull\n        ? (isFlat ? getAllKeysIn : getAllKeys)\n        : (isFlat ? keysIn : keys);\n\n      var props = isArr ? undefined : keysFunc(value);\n      arrayEach(props || value, function(subValue, key) {\n        if (props) {\n          key = subValue;\n          subValue = value[key];\n        }\n        // Recursively populate clone (susceptible to call stack limits).\n        assignValue(result, key, baseClone(subValue, bitmask, customizer, key, value, stack));\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.conforms` which doesn't clone `source`.\n     *\n     * @private\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {Function} Returns the new spec function.\n     */\n    function baseConforms(source) {\n      var props = keys(source);\n      return function(object) {\n        return baseConformsTo(object, source, props);\n      };\n    }\n\n    /**\n     * The base implementation of `_.conformsTo` which accepts `props` to check.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {boolean} Returns `true` if `object` conforms, else `false`.\n     */\n    function baseConformsTo(object, source, props) {\n      var length = props.length;\n      if (object == null) {\n        return !length;\n      }\n      object = Object(object);\n      while (length--) {\n        var key = props[length],\n            predicate = source[key],\n            value = object[key];\n\n        if ((value === undefined && !(key in object)) || !predicate(value)) {\n          return false;\n        }\n      }\n      return true;\n    }\n\n    /**\n     * The base implementation of `_.delay` and `_.defer` which accepts `args`\n     * to provide to `func`.\n     *\n     * @private\n     * @param {Function} func The function to delay.\n     * @param {number} wait The number of milliseconds to delay invocation.\n     * @param {Array} args The arguments to provide to `func`.\n     * @returns {number|Object} Returns the timer id or timeout object.\n     */\n    function baseDelay(func, wait, args) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      return setTimeout(function() { func.apply(undefined, args); }, wait);\n    }\n\n    /**\n     * The base implementation of methods like `_.difference` without support\n     * for excluding multiple arrays or iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {Array} values The values to exclude.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     */\n    function baseDifference(array, values, iteratee, comparator) {\n      var index = -1,\n          includes = arrayIncludes,\n          isCommon = true,\n          length = array.length,\n          result = [],\n          valuesLength = values.length;\n\n      if (!length) {\n        return result;\n      }\n      if (iteratee) {\n        values = arrayMap(values, baseUnary(iteratee));\n      }\n      if (comparator) {\n        includes = arrayIncludesWith;\n        isCommon = false;\n      }\n      else if (values.length >= LARGE_ARRAY_SIZE) {\n        includes = cacheHas;\n        isCommon = false;\n        values = new SetCache(values);\n      }\n      outer:\n      while (++index < length) {\n        var value = array[index],\n            computed = iteratee == null ? value : iteratee(value);\n\n        value = (comparator || value !== 0) ? value : 0;\n        if (isCommon && computed === computed) {\n          var valuesIndex = valuesLength;\n          while (valuesIndex--) {\n            if (values[valuesIndex] === computed) {\n              continue outer;\n            }\n          }\n          result.push(value);\n        }\n        else if (!includes(values, computed, comparator)) {\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.forEach` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     */\n    var baseEach = createBaseEach(baseForOwn);\n\n    /**\n     * The base implementation of `_.forEachRight` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     */\n    var baseEachRight = createBaseEach(baseForOwnRight, true);\n\n    /**\n     * The base implementation of `_.every` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {boolean} Returns `true` if all elements pass the predicate check,\n     *  else `false`\n     */\n    function baseEvery(collection, predicate) {\n      var result = true;\n      baseEach(collection, function(value, index, collection) {\n        result = !!predicate(value, index, collection);\n        return result;\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of methods like `_.max` and `_.min` which accepts a\n     * `comparator` to determine the extremum value.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} iteratee The iteratee invoked per iteration.\n     * @param {Function} comparator The comparator used to compare values.\n     * @returns {*} Returns the extremum value.\n     */\n    function baseExtremum(array, iteratee, comparator) {\n      var index = -1,\n          length = array.length;\n\n      while (++index < length) {\n        var value = array[index],\n            current = iteratee(value);\n\n        if (current != null && (computed === undefined\n              ? (current === current && !isSymbol(current))\n              : comparator(current, computed)\n            )) {\n          var computed = current,\n              result = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.fill` without an iteratee call guard.\n     *\n     * @private\n     * @param {Array} array The array to fill.\n     * @param {*} value The value to fill `array` with.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns `array`.\n     */\n    function baseFill(array, value, start, end) {\n      var length = array.length;\n\n      start = toInteger(start);\n      if (start < 0) {\n        start = -start > length ? 0 : (length + start);\n      }\n      end = (end === undefined || end > length) ? length : toInteger(end);\n      if (end < 0) {\n        end += length;\n      }\n      end = start > end ? 0 : toLength(end);\n      while (start < end) {\n        array[start++] = value;\n      }\n      return array;\n    }\n\n    /**\n     * The base implementation of `_.filter` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {Array} Returns the new filtered array.\n     */\n    function baseFilter(collection, predicate) {\n      var result = [];\n      baseEach(collection, function(value, index, collection) {\n        if (predicate(value, index, collection)) {\n          result.push(value);\n        }\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.flatten` with support for restricting flattening.\n     *\n     * @private\n     * @param {Array} array The array to flatten.\n     * @param {number} depth The maximum recursion depth.\n     * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n     * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n     * @param {Array} [result=[]] The initial result value.\n     * @returns {Array} Returns the new flattened array.\n     */\n    function baseFlatten(array, depth, predicate, isStrict, result) {\n      var index = -1,\n          length = array.length;\n\n      predicate || (predicate = isFlattenable);\n      result || (result = []);\n\n      while (++index < length) {\n        var value = array[index];\n        if (depth > 0 && predicate(value)) {\n          if (depth > 1) {\n            // Recursively flatten arrays (susceptible to call stack limits).\n            baseFlatten(value, depth - 1, predicate, isStrict, result);\n          } else {\n            arrayPush(result, value);\n          }\n        } else if (!isStrict) {\n          result[result.length] = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `baseForOwn` which iterates over `object`\n     * properties returned by `keysFunc` and invokes `iteratee` for each property.\n     * Iteratee functions may exit iteration early by explicitly returning `false`.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {Function} keysFunc The function to get the keys of `object`.\n     * @returns {Object} Returns `object`.\n     */\n    var baseFor = createBaseFor();\n\n    /**\n     * This function is like `baseFor` except that it iterates over properties\n     * in the opposite order.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {Function} keysFunc The function to get the keys of `object`.\n     * @returns {Object} Returns `object`.\n     */\n    var baseForRight = createBaseFor(true);\n\n    /**\n     * The base implementation of `_.forOwn` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     */\n    function baseForOwn(object, iteratee) {\n      return object && baseFor(object, iteratee, keys);\n    }\n\n    /**\n     * The base implementation of `_.forOwnRight` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     */\n    function baseForOwnRight(object, iteratee) {\n      return object && baseForRight(object, iteratee, keys);\n    }\n\n    /**\n     * The base implementation of `_.functions` which creates an array of\n     * `object` function property names filtered from `props`.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @param {Array} props The property names to filter.\n     * @returns {Array} Returns the function names.\n     */\n    function baseFunctions(object, props) {\n      return arrayFilter(props, function(key) {\n        return isFunction(object[key]);\n      });\n    }\n\n    /**\n     * The base implementation of `_.get` without support for default values.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the property to get.\n     * @returns {*} Returns the resolved value.\n     */\n    function baseGet(object, path) {\n      path = castPath(path, object);\n\n      var index = 0,\n          length = path.length;\n\n      while (object != null && index < length) {\n        object = object[toKey(path[index++])];\n      }\n      return (index && index == length) ? object : undefined;\n    }\n\n    /**\n     * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n     * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n     * symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Function} keysFunc The function to get the keys of `object`.\n     * @param {Function} symbolsFunc The function to get the symbols of `object`.\n     * @returns {Array} Returns the array of property names and symbols.\n     */\n    function baseGetAllKeys(object, keysFunc, symbolsFunc) {\n      var result = keysFunc(object);\n      return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n    }\n\n    /**\n     * The base implementation of `getTag` without fallbacks for buggy environments.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @returns {string} Returns the `toStringTag`.\n     */\n    function baseGetTag(value) {\n      if (value == null) {\n        return value === undefined ? undefinedTag : nullTag;\n      }\n      return (symToStringTag && symToStringTag in Object(value))\n        ? getRawTag(value)\n        : objectToString(value);\n    }\n\n    /**\n     * The base implementation of `_.gt` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is greater than `other`,\n     *  else `false`.\n     */\n    function baseGt(value, other) {\n      return value > other;\n    }\n\n    /**\n     * The base implementation of `_.has` without support for deep paths.\n     *\n     * @private\n     * @param {Object} [object] The object to query.\n     * @param {Array|string} key The key to check.\n     * @returns {boolean} Returns `true` if `key` exists, else `false`.\n     */\n    function baseHas(object, key) {\n      return object != null && hasOwnProperty.call(object, key);\n    }\n\n    /**\n     * The base implementation of `_.hasIn` without support for deep paths.\n     *\n     * @private\n     * @param {Object} [object] The object to query.\n     * @param {Array|string} key The key to check.\n     * @returns {boolean} Returns `true` if `key` exists, else `false`.\n     */\n    function baseHasIn(object, key) {\n      return object != null && key in Object(object);\n    }\n\n    /**\n     * The base implementation of `_.inRange` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {number} number The number to check.\n     * @param {number} start The start of the range.\n     * @param {number} end The end of the range.\n     * @returns {boolean} Returns `true` if `number` is in the range, else `false`.\n     */\n    function baseInRange(number, start, end) {\n      return number >= nativeMin(start, end) && number < nativeMax(start, end);\n    }\n\n    /**\n     * The base implementation of methods like `_.intersection`, without support\n     * for iteratee shorthands, that accepts an array of arrays to inspect.\n     *\n     * @private\n     * @param {Array} arrays The arrays to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of shared values.\n     */\n    function baseIntersection(arrays, iteratee, comparator) {\n      var includes = comparator ? arrayIncludesWith : arrayIncludes,\n          length = arrays[0].length,\n          othLength = arrays.length,\n          othIndex = othLength,\n          caches = Array(othLength),\n          maxLength = Infinity,\n          result = [];\n\n      while (othIndex--) {\n        var array = arrays[othIndex];\n        if (othIndex && iteratee) {\n          array = arrayMap(array, baseUnary(iteratee));\n        }\n        maxLength = nativeMin(array.length, maxLength);\n        caches[othIndex] = !comparator && (iteratee || (length >= 120 && array.length >= 120))\n          ? new SetCache(othIndex && array)\n          : undefined;\n      }\n      array = arrays[0];\n\n      var index = -1,\n          seen = caches[0];\n\n      outer:\n      while (++index < length && result.length < maxLength) {\n        var value = array[index],\n            computed = iteratee ? iteratee(value) : value;\n\n        value = (comparator || value !== 0) ? value : 0;\n        if (!(seen\n              ? cacheHas(seen, computed)\n              : includes(result, computed, comparator)\n            )) {\n          othIndex = othLength;\n          while (--othIndex) {\n            var cache = caches[othIndex];\n            if (!(cache\n                  ? cacheHas(cache, computed)\n                  : includes(arrays[othIndex], computed, comparator))\n                ) {\n              continue outer;\n            }\n          }\n          if (seen) {\n            seen.push(computed);\n          }\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.invert` and `_.invertBy` which inverts\n     * `object` with values transformed by `iteratee` and set by `setter`.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} setter The function to set `accumulator` values.\n     * @param {Function} iteratee The iteratee to transform values.\n     * @param {Object} accumulator The initial inverted object.\n     * @returns {Function} Returns `accumulator`.\n     */\n    function baseInverter(object, setter, iteratee, accumulator) {\n      baseForOwn(object, function(value, key, object) {\n        setter(accumulator, iteratee(value), key, object);\n      });\n      return accumulator;\n    }\n\n    /**\n     * The base implementation of `_.invoke` without support for individual\n     * method arguments.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the method to invoke.\n     * @param {Array} args The arguments to invoke the method with.\n     * @returns {*} Returns the result of the invoked method.\n     */\n    function baseInvoke(object, path, args) {\n      path = castPath(path, object);\n      object = parent(object, path);\n      var func = object == null ? object : object[toKey(last(path))];\n      return func == null ? undefined : apply(func, object, args);\n    }\n\n    /**\n     * The base implementation of `_.isArguments`.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n     */\n    function baseIsArguments(value) {\n      return isObjectLike(value) && baseGetTag(value) == argsTag;\n    }\n\n    /**\n     * The base implementation of `_.isArrayBuffer` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array buffer, else `false`.\n     */\n    function baseIsArrayBuffer(value) {\n      return isObjectLike(value) && baseGetTag(value) == arrayBufferTag;\n    }\n\n    /**\n     * The base implementation of `_.isDate` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a date object, else `false`.\n     */\n    function baseIsDate(value) {\n      return isObjectLike(value) && baseGetTag(value) == dateTag;\n    }\n\n    /**\n     * The base implementation of `_.isEqual` which supports partial comparisons\n     * and tracks traversed objects.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @param {boolean} bitmask The bitmask flags.\n     *  1 - Unordered comparison\n     *  2 - Partial comparison\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     */\n    function baseIsEqual(value, other, bitmask, customizer, stack) {\n      if (value === other) {\n        return true;\n      }\n      if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n        return value !== value && other !== other;\n      }\n      return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n    }\n\n    /**\n     * A specialized version of `baseIsEqual` for arrays and objects which performs\n     * deep comparisons and tracks traversed objects enabling objects with circular\n     * references to be compared.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n      var objIsArr = isArray(object),\n          othIsArr = isArray(other),\n          objTag = objIsArr ? arrayTag : getTag(object),\n          othTag = othIsArr ? arrayTag : getTag(other);\n\n      objTag = objTag == argsTag ? objectTag : objTag;\n      othTag = othTag == argsTag ? objectTag : othTag;\n\n      var objIsObj = objTag == objectTag,\n          othIsObj = othTag == objectTag,\n          isSameTag = objTag == othTag;\n\n      if (isSameTag && isBuffer(object)) {\n        if (!isBuffer(other)) {\n          return false;\n        }\n        objIsArr = true;\n        objIsObj = false;\n      }\n      if (isSameTag && !objIsObj) {\n        stack || (stack = new Stack);\n        return (objIsArr || isTypedArray(object))\n          ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n          : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n      }\n      if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n        var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n            othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n        if (objIsWrapped || othIsWrapped) {\n          var objUnwrapped = objIsWrapped ? object.value() : object,\n              othUnwrapped = othIsWrapped ? other.value() : other;\n\n          stack || (stack = new Stack);\n          return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n        }\n      }\n      if (!isSameTag) {\n        return false;\n      }\n      stack || (stack = new Stack);\n      return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n    }\n\n    /**\n     * The base implementation of `_.isMap` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a map, else `false`.\n     */\n    function baseIsMap(value) {\n      return isObjectLike(value) && getTag(value) == mapTag;\n    }\n\n    /**\n     * The base implementation of `_.isMatch` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property values to match.\n     * @param {Array} matchData The property names, values, and compare flags to match.\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n     */\n    function baseIsMatch(object, source, matchData, customizer) {\n      var index = matchData.length,\n          length = index,\n          noCustomizer = !customizer;\n\n      if (object == null) {\n        return !length;\n      }\n      object = Object(object);\n      while (index--) {\n        var data = matchData[index];\n        if ((noCustomizer && data[2])\n              ? data[1] !== object[data[0]]\n              : !(data[0] in object)\n            ) {\n          return false;\n        }\n      }\n      while (++index < length) {\n        data = matchData[index];\n        var key = data[0],\n            objValue = object[key],\n            srcValue = data[1];\n\n        if (noCustomizer && data[2]) {\n          if (objValue === undefined && !(key in object)) {\n            return false;\n          }\n        } else {\n          var stack = new Stack;\n          if (customizer) {\n            var result = customizer(objValue, srcValue, key, object, source, stack);\n          }\n          if (!(result === undefined\n                ? baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG, customizer, stack)\n                : result\n              )) {\n            return false;\n          }\n        }\n      }\n      return true;\n    }\n\n    /**\n     * The base implementation of `_.isNative` without bad shim checks.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a native function,\n     *  else `false`.\n     */\n    function baseIsNative(value) {\n      if (!isObject(value) || isMasked(value)) {\n        return false;\n      }\n      var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n      return pattern.test(toSource(value));\n    }\n\n    /**\n     * The base implementation of `_.isRegExp` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a regexp, else `false`.\n     */\n    function baseIsRegExp(value) {\n      return isObjectLike(value) && baseGetTag(value) == regexpTag;\n    }\n\n    /**\n     * The base implementation of `_.isSet` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a set, else `false`.\n     */\n    function baseIsSet(value) {\n      return isObjectLike(value) && getTag(value) == setTag;\n    }\n\n    /**\n     * The base implementation of `_.isTypedArray` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n     */\n    function baseIsTypedArray(value) {\n      return isObjectLike(value) &&\n        isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n    }\n\n    /**\n     * The base implementation of `_.iteratee`.\n     *\n     * @private\n     * @param {*} [value=_.identity] The value to convert to an iteratee.\n     * @returns {Function} Returns the iteratee.\n     */\n    function baseIteratee(value) {\n      // Don't store the `typeof` result in a variable to avoid a JIT bug in Safari 9.\n      // See https://bugs.webkit.org/show_bug.cgi?id=156034 for more details.\n      if (typeof value == 'function') {\n        return value;\n      }\n      if (value == null) {\n        return identity;\n      }\n      if (typeof value == 'object') {\n        return isArray(value)\n          ? baseMatchesProperty(value[0], value[1])\n          : baseMatches(value);\n      }\n      return property(value);\n    }\n\n    /**\n     * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     */\n    function baseKeys(object) {\n      if (!isPrototype(object)) {\n        return nativeKeys(object);\n      }\n      var result = [];\n      for (var key in Object(object)) {\n        if (hasOwnProperty.call(object, key) && key != 'constructor') {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     */\n    function baseKeysIn(object) {\n      if (!isObject(object)) {\n        return nativeKeysIn(object);\n      }\n      var isProto = isPrototype(object),\n          result = [];\n\n      for (var key in object) {\n        if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.lt` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is less than `other`,\n     *  else `false`.\n     */\n    function baseLt(value, other) {\n      return value < other;\n    }\n\n    /**\n     * The base implementation of `_.map` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array} Returns the new mapped array.\n     */\n    function baseMap(collection, iteratee) {\n      var index = -1,\n          result = isArrayLike(collection) ? Array(collection.length) : [];\n\n      baseEach(collection, function(value, key, collection) {\n        result[++index] = iteratee(value, key, collection);\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.matches` which doesn't clone `source`.\n     *\n     * @private\n     * @param {Object} source The object of property values to match.\n     * @returns {Function} Returns the new spec function.\n     */\n    function baseMatches(source) {\n      var matchData = getMatchData(source);\n      if (matchData.length == 1 && matchData[0][2]) {\n        return matchesStrictComparable(matchData[0][0], matchData[0][1]);\n      }\n      return function(object) {\n        return object === source || baseIsMatch(object, source, matchData);\n      };\n    }\n\n    /**\n     * The base implementation of `_.matchesProperty` which doesn't clone `srcValue`.\n     *\n     * @private\n     * @param {string} path The path of the property to get.\n     * @param {*} srcValue The value to match.\n     * @returns {Function} Returns the new spec function.\n     */\n    function baseMatchesProperty(path, srcValue) {\n      if (isKey(path) && isStrictComparable(srcValue)) {\n        return matchesStrictComparable(toKey(path), srcValue);\n      }\n      return function(object) {\n        var objValue = get(object, path);\n        return (objValue === undefined && objValue === srcValue)\n          ? hasIn(object, path)\n          : baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG);\n      };\n    }\n\n    /**\n     * The base implementation of `_.merge` without support for multiple sources.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @param {number} srcIndex The index of `source`.\n     * @param {Function} [customizer] The function to customize merged values.\n     * @param {Object} [stack] Tracks traversed source values and their merged\n     *  counterparts.\n     */\n    function baseMerge(object, source, srcIndex, customizer, stack) {\n      if (object === source) {\n        return;\n      }\n      baseFor(source, function(srcValue, key) {\n        stack || (stack = new Stack);\n        if (isObject(srcValue)) {\n          baseMergeDeep(object, source, key, srcIndex, baseMerge, customizer, stack);\n        }\n        else {\n          var newValue = customizer\n            ? customizer(safeGet(object, key), srcValue, (key + ''), object, source, stack)\n            : undefined;\n\n          if (newValue === undefined) {\n            newValue = srcValue;\n          }\n          assignMergeValue(object, key, newValue);\n        }\n      }, keysIn);\n    }\n\n    /**\n     * A specialized version of `baseMerge` for arrays and objects which performs\n     * deep merges and tracks traversed objects enabling objects with circular\n     * references to be merged.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @param {string} key The key of the value to merge.\n     * @param {number} srcIndex The index of `source`.\n     * @param {Function} mergeFunc The function to merge values.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @param {Object} [stack] Tracks traversed source values and their merged\n     *  counterparts.\n     */\n    function baseMergeDeep(object, source, key, srcIndex, mergeFunc, customizer, stack) {\n      var objValue = safeGet(object, key),\n          srcValue = safeGet(source, key),\n          stacked = stack.get(srcValue);\n\n      if (stacked) {\n        assignMergeValue(object, key, stacked);\n        return;\n      }\n      var newValue = customizer\n        ? customizer(objValue, srcValue, (key + ''), object, source, stack)\n        : undefined;\n\n      var isCommon = newValue === undefined;\n\n      if (isCommon) {\n        var isArr = isArray(srcValue),\n            isBuff = !isArr && isBuffer(srcValue),\n            isTyped = !isArr && !isBuff && isTypedArray(srcValue);\n\n        newValue = srcValue;\n        if (isArr || isBuff || isTyped) {\n          if (isArray(objValue)) {\n            newValue = objValue;\n          }\n          else if (isArrayLikeObject(objValue)) {\n            newValue = copyArray(objValue);\n          }\n          else if (isBuff) {\n            isCommon = false;\n            newValue = cloneBuffer(srcValue, true);\n          }\n          else if (isTyped) {\n            isCommon = false;\n            newValue = cloneTypedArray(srcValue, true);\n          }\n          else {\n            newValue = [];\n          }\n        }\n        else if (isPlainObject(srcValue) || isArguments(srcValue)) {\n          newValue = objValue;\n          if (isArguments(objValue)) {\n            newValue = toPlainObject(objValue);\n          }\n          else if (!isObject(objValue) || isFunction(objValue)) {\n            newValue = initCloneObject(srcValue);\n          }\n        }\n        else {\n          isCommon = false;\n        }\n      }\n      if (isCommon) {\n        // Recursively merge objects and arrays (susceptible to call stack limits).\n        stack.set(srcValue, newValue);\n        mergeFunc(newValue, srcValue, srcIndex, customizer, stack);\n        stack['delete'](srcValue);\n      }\n      assignMergeValue(object, key, newValue);\n    }\n\n    /**\n     * The base implementation of `_.nth` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {Array} array The array to query.\n     * @param {number} n The index of the element to return.\n     * @returns {*} Returns the nth element of `array`.\n     */\n    function baseNth(array, n) {\n      var length = array.length;\n      if (!length) {\n        return;\n      }\n      n += n < 0 ? length : 0;\n      return isIndex(n, length) ? array[n] : undefined;\n    }\n\n    /**\n     * The base implementation of `_.orderBy` without param guards.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function[]|Object[]|string[]} iteratees The iteratees to sort by.\n     * @param {string[]} orders The sort orders of `iteratees`.\n     * @returns {Array} Returns the new sorted array.\n     */\n    function baseOrderBy(collection, iteratees, orders) {\n      if (iteratees.length) {\n        iteratees = arrayMap(iteratees, function(iteratee) {\n          if (isArray(iteratee)) {\n            return function(value) {\n              return baseGet(value, iteratee.length === 1 ? iteratee[0] : iteratee);\n            }\n          }\n          return iteratee;\n        });\n      } else {\n        iteratees = [identity];\n      }\n\n      var index = -1;\n      iteratees = arrayMap(iteratees, baseUnary(getIteratee()));\n\n      var result = baseMap(collection, function(value, key, collection) {\n        var criteria = arrayMap(iteratees, function(iteratee) {\n          return iteratee(value);\n        });\n        return { 'criteria': criteria, 'index': ++index, 'value': value };\n      });\n\n      return baseSortBy(result, function(object, other) {\n        return compareMultiple(object, other, orders);\n      });\n    }\n\n    /**\n     * The base implementation of `_.pick` without support for individual\n     * property identifiers.\n     *\n     * @private\n     * @param {Object} object The source object.\n     * @param {string[]} paths The property paths to pick.\n     * @returns {Object} Returns the new object.\n     */\n    function basePick(object, paths) {\n      return basePickBy(object, paths, function(value, path) {\n        return hasIn(object, path);\n      });\n    }\n\n    /**\n     * The base implementation of  `_.pickBy` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The source object.\n     * @param {string[]} paths The property paths to pick.\n     * @param {Function} predicate The function invoked per property.\n     * @returns {Object} Returns the new object.\n     */\n    function basePickBy(object, paths, predicate) {\n      var index = -1,\n          length = paths.length,\n          result = {};\n\n      while (++index < length) {\n        var path = paths[index],\n            value = baseGet(object, path);\n\n        if (predicate(value, path)) {\n          baseSet(result, castPath(path, object), value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * A specialized version of `baseProperty` which supports deep paths.\n     *\n     * @private\n     * @param {Array|string} path The path of the property to get.\n     * @returns {Function} Returns the new accessor function.\n     */\n    function basePropertyDeep(path) {\n      return function(object) {\n        return baseGet(object, path);\n      };\n    }\n\n    /**\n     * The base implementation of `_.pullAllBy` without support for iteratee\n     * shorthands.\n     *\n     * @private\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns `array`.\n     */\n    function basePullAll(array, values, iteratee, comparator) {\n      var indexOf = comparator ? baseIndexOfWith : baseIndexOf,\n          index = -1,\n          length = values.length,\n          seen = array;\n\n      if (array === values) {\n        values = copyArray(values);\n      }\n      if (iteratee) {\n        seen = arrayMap(array, baseUnary(iteratee));\n      }\n      while (++index < length) {\n        var fromIndex = 0,\n            value = values[index],\n            computed = iteratee ? iteratee(value) : value;\n\n        while ((fromIndex = indexOf(seen, computed, fromIndex, comparator)) > -1) {\n          if (seen !== array) {\n            splice.call(seen, fromIndex, 1);\n          }\n          splice.call(array, fromIndex, 1);\n        }\n      }\n      return array;\n    }\n\n    /**\n     * The base implementation of `_.pullAt` without support for individual\n     * indexes or capturing the removed elements.\n     *\n     * @private\n     * @param {Array} array The array to modify.\n     * @param {number[]} indexes The indexes of elements to remove.\n     * @returns {Array} Returns `array`.\n     */\n    function basePullAt(array, indexes) {\n      var length = array ? indexes.length : 0,\n          lastIndex = length - 1;\n\n      while (length--) {\n        var index = indexes[length];\n        if (length == lastIndex || index !== previous) {\n          var previous = index;\n          if (isIndex(index)) {\n            splice.call(array, index, 1);\n          } else {\n            baseUnset(array, index);\n          }\n        }\n      }\n      return array;\n    }\n\n    /**\n     * The base implementation of `_.random` without support for returning\n     * floating-point numbers.\n     *\n     * @private\n     * @param {number} lower The lower bound.\n     * @param {number} upper The upper bound.\n     * @returns {number} Returns the random number.\n     */\n    function baseRandom(lower, upper) {\n      return lower + nativeFloor(nativeRandom() * (upper - lower + 1));\n    }\n\n    /**\n     * The base implementation of `_.range` and `_.rangeRight` which doesn't\n     * coerce arguments.\n     *\n     * @private\n     * @param {number} start The start of the range.\n     * @param {number} end The end of the range.\n     * @param {number} step The value to increment or decrement by.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Array} Returns the range of numbers.\n     */\n    function baseRange(start, end, step, fromRight) {\n      var index = -1,\n          length = nativeMax(nativeCeil((end - start) / (step || 1)), 0),\n          result = Array(length);\n\n      while (length--) {\n        result[fromRight ? length : ++index] = start;\n        start += step;\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.repeat` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {string} string The string to repeat.\n     * @param {number} n The number of times to repeat the string.\n     * @returns {string} Returns the repeated string.\n     */\n    function baseRepeat(string, n) {\n      var result = '';\n      if (!string || n < 1 || n > MAX_SAFE_INTEGER) {\n        return result;\n      }\n      // Leverage the exponentiation by squaring algorithm for a faster repeat.\n      // See https://en.wikipedia.org/wiki/Exponentiation_by_squaring for more details.\n      do {\n        if (n % 2) {\n          result += string;\n        }\n        n = nativeFloor(n / 2);\n        if (n) {\n          string += string;\n        }\n      } while (n);\n\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n     *\n     * @private\n     * @param {Function} func The function to apply a rest parameter to.\n     * @param {number} [start=func.length-1] The start position of the rest parameter.\n     * @returns {Function} Returns the new function.\n     */\n    function baseRest(func, start) {\n      return setToString(overRest(func, start, identity), func + '');\n    }\n\n    /**\n     * The base implementation of `_.sample`.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to sample.\n     * @returns {*} Returns the random element.\n     */\n    function baseSample(collection) {\n      return arraySample(values(collection));\n    }\n\n    /**\n     * The base implementation of `_.sampleSize` without param guards.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to sample.\n     * @param {number} n The number of elements to sample.\n     * @returns {Array} Returns the random elements.\n     */\n    function baseSampleSize(collection, n) {\n      var array = values(collection);\n      return shuffleSelf(array, baseClamp(n, 0, array.length));\n    }\n\n    /**\n     * The base implementation of `_.set`.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {*} value The value to set.\n     * @param {Function} [customizer] The function to customize path creation.\n     * @returns {Object} Returns `object`.\n     */\n    function baseSet(object, path, value, customizer) {\n      if (!isObject(object)) {\n        return object;\n      }\n      path = castPath(path, object);\n\n      var index = -1,\n          length = path.length,\n          lastIndex = length - 1,\n          nested = object;\n\n      while (nested != null && ++index < length) {\n        var key = toKey(path[index]),\n            newValue = value;\n\n        if (key === '__proto__' || key === 'constructor' || key === 'prototype') {\n          return object;\n        }\n\n        if (index != lastIndex) {\n          var objValue = nested[key];\n          newValue = customizer ? customizer(objValue, key, nested) : undefined;\n          if (newValue === undefined) {\n            newValue = isObject(objValue)\n              ? objValue\n              : (isIndex(path[index + 1]) ? [] : {});\n          }\n        }\n        assignValue(nested, key, newValue);\n        nested = nested[key];\n      }\n      return object;\n    }\n\n    /**\n     * The base implementation of `setData` without support for hot loop shorting.\n     *\n     * @private\n     * @param {Function} func The function to associate metadata with.\n     * @param {*} data The metadata.\n     * @returns {Function} Returns `func`.\n     */\n    var baseSetData = !metaMap ? identity : function(func, data) {\n      metaMap.set(func, data);\n      return func;\n    };\n\n    /**\n     * The base implementation of `setToString` without support for hot loop shorting.\n     *\n     * @private\n     * @param {Function} func The function to modify.\n     * @param {Function} string The `toString` result.\n     * @returns {Function} Returns `func`.\n     */\n    var baseSetToString = !defineProperty ? identity : function(func, string) {\n      return defineProperty(func, 'toString', {\n        'configurable': true,\n        'enumerable': false,\n        'value': constant(string),\n        'writable': true\n      });\n    };\n\n    /**\n     * The base implementation of `_.shuffle`.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to shuffle.\n     * @returns {Array} Returns the new shuffled array.\n     */\n    function baseShuffle(collection) {\n      return shuffleSelf(values(collection));\n    }\n\n    /**\n     * The base implementation of `_.slice` without an iteratee call guard.\n     *\n     * @private\n     * @param {Array} array The array to slice.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns the slice of `array`.\n     */\n    function baseSlice(array, start, end) {\n      var index = -1,\n          length = array.length;\n\n      if (start < 0) {\n        start = -start > length ? 0 : (length + start);\n      }\n      end = end > length ? length : end;\n      if (end < 0) {\n        end += length;\n      }\n      length = start > end ? 0 : ((end - start) >>> 0);\n      start >>>= 0;\n\n      var result = Array(length);\n      while (++index < length) {\n        result[index] = array[index + start];\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.some` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {boolean} Returns `true` if any element passes the predicate check,\n     *  else `false`.\n     */\n    function baseSome(collection, predicate) {\n      var result;\n\n      baseEach(collection, function(value, index, collection) {\n        result = predicate(value, index, collection);\n        return !result;\n      });\n      return !!result;\n    }\n\n    /**\n     * The base implementation of `_.sortedIndex` and `_.sortedLastIndex` which\n     * performs a binary search of `array` to determine the index at which `value`\n     * should be inserted into `array` in order to maintain its sort order.\n     *\n     * @private\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {boolean} [retHighest] Specify returning the highest qualified index.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     */\n    function baseSortedIndex(array, value, retHighest) {\n      var low = 0,\n          high = array == null ? low : array.length;\n\n      if (typeof value == 'number' && value === value && high <= HALF_MAX_ARRAY_LENGTH) {\n        while (low < high) {\n          var mid = (low + high) >>> 1,\n              computed = array[mid];\n\n          if (computed !== null && !isSymbol(computed) &&\n              (retHighest ? (computed <= value) : (computed < value))) {\n            low = mid + 1;\n          } else {\n            high = mid;\n          }\n        }\n        return high;\n      }\n      return baseSortedIndexBy(array, value, identity, retHighest);\n    }\n\n    /**\n     * The base implementation of `_.sortedIndexBy` and `_.sortedLastIndexBy`\n     * which invokes `iteratee` for `value` and each element of `array` to compute\n     * their sort ranking. The iteratee is invoked with one argument; (value).\n     *\n     * @private\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function} iteratee The iteratee invoked per element.\n     * @param {boolean} [retHighest] Specify returning the highest qualified index.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     */\n    function baseSortedIndexBy(array, value, iteratee, retHighest) {\n      var low = 0,\n          high = array == null ? 0 : array.length;\n      if (high === 0) {\n        return 0;\n      }\n\n      value = iteratee(value);\n      var valIsNaN = value !== value,\n          valIsNull = value === null,\n          valIsSymbol = isSymbol(value),\n          valIsUndefined = value === undefined;\n\n      while (low < high) {\n        var mid = nativeFloor((low + high) / 2),\n            computed = iteratee(array[mid]),\n            othIsDefined = computed !== undefined,\n            othIsNull = computed === null,\n            othIsReflexive = computed === computed,\n            othIsSymbol = isSymbol(computed);\n\n        if (valIsNaN) {\n          var setLow = retHighest || othIsReflexive;\n        } else if (valIsUndefined) {\n          setLow = othIsReflexive && (retHighest || othIsDefined);\n        } else if (valIsNull) {\n          setLow = othIsReflexive && othIsDefined && (retHighest || !othIsNull);\n        } else if (valIsSymbol) {\n          setLow = othIsReflexive && othIsDefined && !othIsNull && (retHighest || !othIsSymbol);\n        } else if (othIsNull || othIsSymbol) {\n          setLow = false;\n        } else {\n          setLow = retHighest ? (computed <= value) : (computed < value);\n        }\n        if (setLow) {\n          low = mid + 1;\n        } else {\n          high = mid;\n        }\n      }\n      return nativeMin(high, MAX_ARRAY_INDEX);\n    }\n\n    /**\n     * The base implementation of `_.sortedUniq` and `_.sortedUniqBy` without\n     * support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     */\n    function baseSortedUniq(array, iteratee) {\n      var index = -1,\n          length = array.length,\n          resIndex = 0,\n          result = [];\n\n      while (++index < length) {\n        var value = array[index],\n            computed = iteratee ? iteratee(value) : value;\n\n        if (!index || !eq(computed, seen)) {\n          var seen = computed;\n          result[resIndex++] = value === 0 ? 0 : value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.toNumber` which doesn't ensure correct\n     * conversions of binary, hexadecimal, or octal string values.\n     *\n     * @private\n     * @param {*} value The value to process.\n     * @returns {number} Returns the number.\n     */\n    function baseToNumber(value) {\n      if (typeof value == 'number') {\n        return value;\n      }\n      if (isSymbol(value)) {\n        return NAN;\n      }\n      return +value;\n    }\n\n    /**\n     * The base implementation of `_.toString` which doesn't convert nullish\n     * values to empty strings.\n     *\n     * @private\n     * @param {*} value The value to process.\n     * @returns {string} Returns the string.\n     */\n    function baseToString(value) {\n      // Exit early for strings to avoid a performance hit in some environments.\n      if (typeof value == 'string') {\n        return value;\n      }\n      if (isArray(value)) {\n        // Recursively convert values (susceptible to call stack limits).\n        return arrayMap(value, baseToString) + '';\n      }\n      if (isSymbol(value)) {\n        return symbolToString ? symbolToString.call(value) : '';\n      }\n      var result = (value + '');\n      return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n    }\n\n    /**\n     * The base implementation of `_.uniqBy` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     */\n    function baseUniq(array, iteratee, comparator) {\n      var index = -1,\n          includes = arrayIncludes,\n          length = array.length,\n          isCommon = true,\n          result = [],\n          seen = result;\n\n      if (comparator) {\n        isCommon = false;\n        includes = arrayIncludesWith;\n      }\n      else if (length >= LARGE_ARRAY_SIZE) {\n        var set = iteratee ? null : createSet(array);\n        if (set) {\n          return setToArray(set);\n        }\n        isCommon = false;\n        includes = cacheHas;\n        seen = new SetCache;\n      }\n      else {\n        seen = iteratee ? [] : result;\n      }\n      outer:\n      while (++index < length) {\n        var value = array[index],\n            computed = iteratee ? iteratee(value) : value;\n\n        value = (comparator || value !== 0) ? value : 0;\n        if (isCommon && computed === computed) {\n          var seenIndex = seen.length;\n          while (seenIndex--) {\n            if (seen[seenIndex] === computed) {\n              continue outer;\n            }\n          }\n          if (iteratee) {\n            seen.push(computed);\n          }\n          result.push(value);\n        }\n        else if (!includes(seen, computed, comparator)) {\n          if (seen !== result) {\n            seen.push(computed);\n          }\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.unset`.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The property path to unset.\n     * @returns {boolean} Returns `true` if the property is deleted, else `false`.\n     */\n    function baseUnset(object, path) {\n      path = castPath(path, object);\n      object = parent(object, path);\n      return object == null || delete object[toKey(last(path))];\n    }\n\n    /**\n     * The base implementation of `_.update`.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to update.\n     * @param {Function} updater The function to produce the updated value.\n     * @param {Function} [customizer] The function to customize path creation.\n     * @returns {Object} Returns `object`.\n     */\n    function baseUpdate(object, path, updater, customizer) {\n      return baseSet(object, path, updater(baseGet(object, path)), customizer);\n    }\n\n    /**\n     * The base implementation of methods like `_.dropWhile` and `_.takeWhile`\n     * without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to query.\n     * @param {Function} predicate The function invoked per iteration.\n     * @param {boolean} [isDrop] Specify dropping elements instead of taking them.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Array} Returns the slice of `array`.\n     */\n    function baseWhile(array, predicate, isDrop, fromRight) {\n      var length = array.length,\n          index = fromRight ? length : -1;\n\n      while ((fromRight ? index-- : ++index < length) &&\n        predicate(array[index], index, array)) {}\n\n      return isDrop\n        ? baseSlice(array, (fromRight ? 0 : index), (fromRight ? index + 1 : length))\n        : baseSlice(array, (fromRight ? index + 1 : 0), (fromRight ? length : index));\n    }\n\n    /**\n     * The base implementation of `wrapperValue` which returns the result of\n     * performing a sequence of actions on the unwrapped `value`, where each\n     * successive action is supplied the return value of the previous.\n     *\n     * @private\n     * @param {*} value The unwrapped value.\n     * @param {Array} actions Actions to perform to resolve the unwrapped value.\n     * @returns {*} Returns the resolved value.\n     */\n    function baseWrapperValue(value, actions) {\n      var result = value;\n      if (result instanceof LazyWrapper) {\n        result = result.value();\n      }\n      return arrayReduce(actions, function(result, action) {\n        return action.func.apply(action.thisArg, arrayPush([result], action.args));\n      }, result);\n    }\n\n    /**\n     * The base implementation of methods like `_.xor`, without support for\n     * iteratee shorthands, that accepts an array of arrays to inspect.\n     *\n     * @private\n     * @param {Array} arrays The arrays to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of values.\n     */\n    function baseXor(arrays, iteratee, comparator) {\n      var length = arrays.length;\n      if (length < 2) {\n        return length ? baseUniq(arrays[0]) : [];\n      }\n      var index = -1,\n          result = Array(length);\n\n      while (++index < length) {\n        var array = arrays[index],\n            othIndex = -1;\n\n        while (++othIndex < length) {\n          if (othIndex != index) {\n            result[index] = baseDifference(result[index] || array, arrays[othIndex], iteratee, comparator);\n          }\n        }\n      }\n      return baseUniq(baseFlatten(result, 1), iteratee, comparator);\n    }\n\n    /**\n     * This base implementation of `_.zipObject` which assigns values using `assignFunc`.\n     *\n     * @private\n     * @param {Array} props The property identifiers.\n     * @param {Array} values The property values.\n     * @param {Function} assignFunc The function to assign values.\n     * @returns {Object} Returns the new object.\n     */\n    function baseZipObject(props, values, assignFunc) {\n      var index = -1,\n          length = props.length,\n          valsLength = values.length,\n          result = {};\n\n      while (++index < length) {\n        var value = index < valsLength ? values[index] : undefined;\n        assignFunc(result, props[index], value);\n      }\n      return result;\n    }\n\n    /**\n     * Casts `value` to an empty array if it's not an array like object.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @returns {Array|Object} Returns the cast array-like object.\n     */\n    function castArrayLikeObject(value) {\n      return isArrayLikeObject(value) ? value : [];\n    }\n\n    /**\n     * Casts `value` to `identity` if it's not a function.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @returns {Function} Returns cast function.\n     */\n    function castFunction(value) {\n      return typeof value == 'function' ? value : identity;\n    }\n\n    /**\n     * Casts `value` to a path array if it's not one.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @param {Object} [object] The object to query keys on.\n     * @returns {Array} Returns the cast property path array.\n     */\n    function castPath(value, object) {\n      if (isArray(value)) {\n        return value;\n      }\n      return isKey(value, object) ? [value] : stringToPath(toString(value));\n    }\n\n    /**\n     * A `baseRest` alias which can be replaced with `identity` by module\n     * replacement plugins.\n     *\n     * @private\n     * @type {Function}\n     * @param {Function} func The function to apply a rest parameter to.\n     * @returns {Function} Returns the new function.\n     */\n    var castRest = baseRest;\n\n    /**\n     * Casts `array` to a slice if it's needed.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {number} start The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns the cast slice.\n     */\n    function castSlice(array, start, end) {\n      var length = array.length;\n      end = end === undefined ? length : end;\n      return (!start && end >= length) ? array : baseSlice(array, start, end);\n    }\n\n    /**\n     * A simple wrapper around the global [`clearTimeout`](https://mdn.io/clearTimeout).\n     *\n     * @private\n     * @param {number|Object} id The timer id or timeout object of the timer to clear.\n     */\n    var clearTimeout = ctxClearTimeout || function(id) {\n      return root.clearTimeout(id);\n    };\n\n    /**\n     * Creates a clone of  `buffer`.\n     *\n     * @private\n     * @param {Buffer} buffer The buffer to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Buffer} Returns the cloned buffer.\n     */\n    function cloneBuffer(buffer, isDeep) {\n      if (isDeep) {\n        return buffer.slice();\n      }\n      var length = buffer.length,\n          result = allocUnsafe ? allocUnsafe(length) : new buffer.constructor(length);\n\n      buffer.copy(result);\n      return result;\n    }\n\n    /**\n     * Creates a clone of `arrayBuffer`.\n     *\n     * @private\n     * @param {ArrayBuffer} arrayBuffer The array buffer to clone.\n     * @returns {ArrayBuffer} Returns the cloned array buffer.\n     */\n    function cloneArrayBuffer(arrayBuffer) {\n      var result = new arrayBuffer.constructor(arrayBuffer.byteLength);\n      new Uint8Array(result).set(new Uint8Array(arrayBuffer));\n      return result;\n    }\n\n    /**\n     * Creates a clone of `dataView`.\n     *\n     * @private\n     * @param {Object} dataView The data view to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Object} Returns the cloned data view.\n     */\n    function cloneDataView(dataView, isDeep) {\n      var buffer = isDeep ? cloneArrayBuffer(dataView.buffer) : dataView.buffer;\n      return new dataView.constructor(buffer, dataView.byteOffset, dataView.byteLength);\n    }\n\n    /**\n     * Creates a clone of `regexp`.\n     *\n     * @private\n     * @param {Object} regexp The regexp to clone.\n     * @returns {Object} Returns the cloned regexp.\n     */\n    function cloneRegExp(regexp) {\n      var result = new regexp.constructor(regexp.source, reFlags.exec(regexp));\n      result.lastIndex = regexp.lastIndex;\n      return result;\n    }\n\n    /**\n     * Creates a clone of the `symbol` object.\n     *\n     * @private\n     * @param {Object} symbol The symbol object to clone.\n     * @returns {Object} Returns the cloned symbol object.\n     */\n    function cloneSymbol(symbol) {\n      return symbolValueOf ? Object(symbolValueOf.call(symbol)) : {};\n    }\n\n    /**\n     * Creates a clone of `typedArray`.\n     *\n     * @private\n     * @param {Object} typedArray The typed array to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Object} Returns the cloned typed array.\n     */\n    function cloneTypedArray(typedArray, isDeep) {\n      var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;\n      return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);\n    }\n\n    /**\n     * Compares values to sort them in ascending order.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {number} Returns the sort order indicator for `value`.\n     */\n    function compareAscending(value, other) {\n      if (value !== other) {\n        var valIsDefined = value !== undefined,\n            valIsNull = value === null,\n            valIsReflexive = value === value,\n            valIsSymbol = isSymbol(value);\n\n        var othIsDefined = other !== undefined,\n            othIsNull = other === null,\n            othIsReflexive = other === other,\n            othIsSymbol = isSymbol(other);\n\n        if ((!othIsNull && !othIsSymbol && !valIsSymbol && value > other) ||\n            (valIsSymbol && othIsDefined && othIsReflexive && !othIsNull && !othIsSymbol) ||\n            (valIsNull && othIsDefined && othIsReflexive) ||\n            (!valIsDefined && othIsReflexive) ||\n            !valIsReflexive) {\n          return 1;\n        }\n        if ((!valIsNull && !valIsSymbol && !othIsSymbol && value < other) ||\n            (othIsSymbol && valIsDefined && valIsReflexive && !valIsNull && !valIsSymbol) ||\n            (othIsNull && valIsDefined && valIsReflexive) ||\n            (!othIsDefined && valIsReflexive) ||\n            !othIsReflexive) {\n          return -1;\n        }\n      }\n      return 0;\n    }\n\n    /**\n     * Used by `_.orderBy` to compare multiple properties of a value to another\n     * and stable sort them.\n     *\n     * If `orders` is unspecified, all values are sorted in ascending order. Otherwise,\n     * specify an order of \"desc\" for descending or \"asc\" for ascending sort order\n     * of corresponding values.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {boolean[]|string[]} orders The order to sort by for each property.\n     * @returns {number} Returns the sort order indicator for `object`.\n     */\n    function compareMultiple(object, other, orders) {\n      var index = -1,\n          objCriteria = object.criteria,\n          othCriteria = other.criteria,\n          length = objCriteria.length,\n          ordersLength = orders.length;\n\n      while (++index < length) {\n        var result = compareAscending(objCriteria[index], othCriteria[index]);\n        if (result) {\n          if (index >= ordersLength) {\n            return result;\n          }\n          var order = orders[index];\n          return result * (order == 'desc' ? -1 : 1);\n        }\n      }\n      // Fixes an `Array#sort` bug in the JS engine embedded in Adobe applications\n      // that causes it, under certain circumstances, to provide the same value for\n      // `object` and `other`. See https://github.com/jashkenas/underscore/pull/1247\n      // for more details.\n      //\n      // This also ensures a stable sort in V8 and other engines.\n      // See https://bugs.chromium.org/p/v8/issues/detail?id=90 for more details.\n      return object.index - other.index;\n    }\n\n    /**\n     * Creates an array that is the composition of partially applied arguments,\n     * placeholders, and provided arguments into a single array of arguments.\n     *\n     * @private\n     * @param {Array} args The provided arguments.\n     * @param {Array} partials The arguments to prepend to those provided.\n     * @param {Array} holders The `partials` placeholder indexes.\n     * @params {boolean} [isCurried] Specify composing for a curried function.\n     * @returns {Array} Returns the new array of composed arguments.\n     */\n    function composeArgs(args, partials, holders, isCurried) {\n      var argsIndex = -1,\n          argsLength = args.length,\n          holdersLength = holders.length,\n          leftIndex = -1,\n          leftLength = partials.length,\n          rangeLength = nativeMax(argsLength - holdersLength, 0),\n          result = Array(leftLength + rangeLength),\n          isUncurried = !isCurried;\n\n      while (++leftIndex < leftLength) {\n        result[leftIndex] = partials[leftIndex];\n      }\n      while (++argsIndex < holdersLength) {\n        if (isUncurried || argsIndex < argsLength) {\n          result[holders[argsIndex]] = args[argsIndex];\n        }\n      }\n      while (rangeLength--) {\n        result[leftIndex++] = args[argsIndex++];\n      }\n      return result;\n    }\n\n    /**\n     * This function is like `composeArgs` except that the arguments composition\n     * is tailored for `_.partialRight`.\n     *\n     * @private\n     * @param {Array} args The provided arguments.\n     * @param {Array} partials The arguments to append to those provided.\n     * @param {Array} holders The `partials` placeholder indexes.\n     * @params {boolean} [isCurried] Specify composing for a curried function.\n     * @returns {Array} Returns the new array of composed arguments.\n     */\n    function composeArgsRight(args, partials, holders, isCurried) {\n      var argsIndex = -1,\n          argsLength = args.length,\n          holdersIndex = -1,\n          holdersLength = holders.length,\n          rightIndex = -1,\n          rightLength = partials.length,\n          rangeLength = nativeMax(argsLength - holdersLength, 0),\n          result = Array(rangeLength + rightLength),\n          isUncurried = !isCurried;\n\n      while (++argsIndex < rangeLength) {\n        result[argsIndex] = args[argsIndex];\n      }\n      var offset = argsIndex;\n      while (++rightIndex < rightLength) {\n        result[offset + rightIndex] = partials[rightIndex];\n      }\n      while (++holdersIndex < holdersLength) {\n        if (isUncurried || argsIndex < argsLength) {\n          result[offset + holders[holdersIndex]] = args[argsIndex++];\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Copies the values of `source` to `array`.\n     *\n     * @private\n     * @param {Array} source The array to copy values from.\n     * @param {Array} [array=[]] The array to copy values to.\n     * @returns {Array} Returns `array`.\n     */\n    function copyArray(source, array) {\n      var index = -1,\n          length = source.length;\n\n      array || (array = Array(length));\n      while (++index < length) {\n        array[index] = source[index];\n      }\n      return array;\n    }\n\n    /**\n     * Copies properties of `source` to `object`.\n     *\n     * @private\n     * @param {Object} source The object to copy properties from.\n     * @param {Array} props The property identifiers to copy.\n     * @param {Object} [object={}] The object to copy properties to.\n     * @param {Function} [customizer] The function to customize copied values.\n     * @returns {Object} Returns `object`.\n     */\n    function copyObject(source, props, object, customizer) {\n      var isNew = !object;\n      object || (object = {});\n\n      var index = -1,\n          length = props.length;\n\n      while (++index < length) {\n        var key = props[index];\n\n        var newValue = customizer\n          ? customizer(object[key], source[key], key, object, source)\n          : undefined;\n\n        if (newValue === undefined) {\n          newValue = source[key];\n        }\n        if (isNew) {\n          baseAssignValue(object, key, newValue);\n        } else {\n          assignValue(object, key, newValue);\n        }\n      }\n      return object;\n    }\n\n    /**\n     * Copies own symbols of `source` to `object`.\n     *\n     * @private\n     * @param {Object} source The object to copy symbols from.\n     * @param {Object} [object={}] The object to copy symbols to.\n     * @returns {Object} Returns `object`.\n     */\n    function copySymbols(source, object) {\n      return copyObject(source, getSymbols(source), object);\n    }\n\n    /**\n     * Copies own and inherited symbols of `source` to `object`.\n     *\n     * @private\n     * @param {Object} source The object to copy symbols from.\n     * @param {Object} [object={}] The object to copy symbols to.\n     * @returns {Object} Returns `object`.\n     */\n    function copySymbolsIn(source, object) {\n      return copyObject(source, getSymbolsIn(source), object);\n    }\n\n    /**\n     * Creates a function like `_.groupBy`.\n     *\n     * @private\n     * @param {Function} setter The function to set accumulator values.\n     * @param {Function} [initializer] The accumulator object initializer.\n     * @returns {Function} Returns the new aggregator function.\n     */\n    function createAggregator(setter, initializer) {\n      return function(collection, iteratee) {\n        var func = isArray(collection) ? arrayAggregator : baseAggregator,\n            accumulator = initializer ? initializer() : {};\n\n        return func(collection, setter, getIteratee(iteratee, 2), accumulator);\n      };\n    }\n\n    /**\n     * Creates a function like `_.assign`.\n     *\n     * @private\n     * @param {Function} assigner The function to assign values.\n     * @returns {Function} Returns the new assigner function.\n     */\n    function createAssigner(assigner) {\n      return baseRest(function(object, sources) {\n        var index = -1,\n            length = sources.length,\n            customizer = length > 1 ? sources[length - 1] : undefined,\n            guard = length > 2 ? sources[2] : undefined;\n\n        customizer = (assigner.length > 3 && typeof customizer == 'function')\n          ? (length--, customizer)\n          : undefined;\n\n        if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n          customizer = length < 3 ? undefined : customizer;\n          length = 1;\n        }\n        object = Object(object);\n        while (++index < length) {\n          var source = sources[index];\n          if (source) {\n            assigner(object, source, index, customizer);\n          }\n        }\n        return object;\n      });\n    }\n\n    /**\n     * Creates a `baseEach` or `baseEachRight` function.\n     *\n     * @private\n     * @param {Function} eachFunc The function to iterate over a collection.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new base function.\n     */\n    function createBaseEach(eachFunc, fromRight) {\n      return function(collection, iteratee) {\n        if (collection == null) {\n          return collection;\n        }\n        if (!isArrayLike(collection)) {\n          return eachFunc(collection, iteratee);\n        }\n        var length = collection.length,\n            index = fromRight ? length : -1,\n            iterable = Object(collection);\n\n        while ((fromRight ? index-- : ++index < length)) {\n          if (iteratee(iterable[index], index, iterable) === false) {\n            break;\n          }\n        }\n        return collection;\n      };\n    }\n\n    /**\n     * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new base function.\n     */\n    function createBaseFor(fromRight) {\n      return function(object, iteratee, keysFunc) {\n        var index = -1,\n            iterable = Object(object),\n            props = keysFunc(object),\n            length = props.length;\n\n        while (length--) {\n          var key = props[fromRight ? length : ++index];\n          if (iteratee(iterable[key], key, iterable) === false) {\n            break;\n          }\n        }\n        return object;\n      };\n    }\n\n    /**\n     * Creates a function that wraps `func` to invoke it with the optional `this`\n     * binding of `thisArg`.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createBind(func, bitmask, thisArg) {\n      var isBind = bitmask & WRAP_BIND_FLAG,\n          Ctor = createCtor(func);\n\n      function wrapper() {\n        var fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n        return fn.apply(isBind ? thisArg : this, arguments);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a function like `_.lowerFirst`.\n     *\n     * @private\n     * @param {string} methodName The name of the `String` case method to use.\n     * @returns {Function} Returns the new case function.\n     */\n    function createCaseFirst(methodName) {\n      return function(string) {\n        string = toString(string);\n\n        var strSymbols = hasUnicode(string)\n          ? stringToArray(string)\n          : undefined;\n\n        var chr = strSymbols\n          ? strSymbols[0]\n          : string.charAt(0);\n\n        var trailing = strSymbols\n          ? castSlice(strSymbols, 1).join('')\n          : string.slice(1);\n\n        return chr[methodName]() + trailing;\n      };\n    }\n\n    /**\n     * Creates a function like `_.camelCase`.\n     *\n     * @private\n     * @param {Function} callback The function to combine each word.\n     * @returns {Function} Returns the new compounder function.\n     */\n    function createCompounder(callback) {\n      return function(string) {\n        return arrayReduce(words(deburr(string).replace(reApos, '')), callback, '');\n      };\n    }\n\n    /**\n     * Creates a function that produces an instance of `Ctor` regardless of\n     * whether it was invoked as part of a `new` expression or by `call` or `apply`.\n     *\n     * @private\n     * @param {Function} Ctor The constructor to wrap.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createCtor(Ctor) {\n      return function() {\n        // Use a `switch` statement to work with class constructors. See\n        // http://ecma-international.org/ecma-262/7.0/#sec-ecmascript-function-objects-call-thisargument-argumentslist\n        // for more details.\n        var args = arguments;\n        switch (args.length) {\n          case 0: return new Ctor;\n          case 1: return new Ctor(args[0]);\n          case 2: return new Ctor(args[0], args[1]);\n          case 3: return new Ctor(args[0], args[1], args[2]);\n          case 4: return new Ctor(args[0], args[1], args[2], args[3]);\n          case 5: return new Ctor(args[0], args[1], args[2], args[3], args[4]);\n          case 6: return new Ctor(args[0], args[1], args[2], args[3], args[4], args[5]);\n          case 7: return new Ctor(args[0], args[1], args[2], args[3], args[4], args[5], args[6]);\n        }\n        var thisBinding = baseCreate(Ctor.prototype),\n            result = Ctor.apply(thisBinding, args);\n\n        // Mimic the constructor's `return` behavior.\n        // See https://es5.github.io/#x13.2.2 for more details.\n        return isObject(result) ? result : thisBinding;\n      };\n    }\n\n    /**\n     * Creates a function that wraps `func` to enable currying.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {number} arity The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createCurry(func, bitmask, arity) {\n      var Ctor = createCtor(func);\n\n      function wrapper() {\n        var length = arguments.length,\n            args = Array(length),\n            index = length,\n            placeholder = getHolder(wrapper);\n\n        while (index--) {\n          args[index] = arguments[index];\n        }\n        var holders = (length < 3 && args[0] !== placeholder && args[length - 1] !== placeholder)\n          ? []\n          : replaceHolders(args, placeholder);\n\n        length -= holders.length;\n        if (length < arity) {\n          return createRecurry(\n            func, bitmask, createHybrid, wrapper.placeholder, undefined,\n            args, holders, undefined, undefined, arity - length);\n        }\n        var fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n        return apply(fn, this, args);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a `_.find` or `_.findLast` function.\n     *\n     * @private\n     * @param {Function} findIndexFunc The function to find the collection index.\n     * @returns {Function} Returns the new find function.\n     */\n    function createFind(findIndexFunc) {\n      return function(collection, predicate, fromIndex) {\n        var iterable = Object(collection);\n        if (!isArrayLike(collection)) {\n          var iteratee = getIteratee(predicate, 3);\n          collection = keys(collection);\n          predicate = function(key) { return iteratee(iterable[key], key, iterable); };\n        }\n        var index = findIndexFunc(collection, predicate, fromIndex);\n        return index > -1 ? iterable[iteratee ? collection[index] : index] : undefined;\n      };\n    }\n\n    /**\n     * Creates a `_.flow` or `_.flowRight` function.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new flow function.\n     */\n    function createFlow(fromRight) {\n      return flatRest(function(funcs) {\n        var length = funcs.length,\n            index = length,\n            prereq = LodashWrapper.prototype.thru;\n\n        if (fromRight) {\n          funcs.reverse();\n        }\n        while (index--) {\n          var func = funcs[index];\n          if (typeof func != 'function') {\n            throw new TypeError(FUNC_ERROR_TEXT);\n          }\n          if (prereq && !wrapper && getFuncName(func) == 'wrapper') {\n            var wrapper = new LodashWrapper([], true);\n          }\n        }\n        index = wrapper ? index : length;\n        while (++index < length) {\n          func = funcs[index];\n\n          var funcName = getFuncName(func),\n              data = funcName == 'wrapper' ? getData(func) : undefined;\n\n          if (data && isLaziable(data[0]) &&\n                data[1] == (WRAP_ARY_FLAG | WRAP_CURRY_FLAG | WRAP_PARTIAL_FLAG | WRAP_REARG_FLAG) &&\n                !data[4].length && data[9] == 1\n              ) {\n            wrapper = wrapper[getFuncName(data[0])].apply(wrapper, data[3]);\n          } else {\n            wrapper = (func.length == 1 && isLaziable(func))\n              ? wrapper[funcName]()\n              : wrapper.thru(func);\n          }\n        }\n        return function() {\n          var args = arguments,\n              value = args[0];\n\n          if (wrapper && args.length == 1 && isArray(value)) {\n            return wrapper.plant(value).value();\n          }\n          var index = 0,\n              result = length ? funcs[index].apply(this, args) : value;\n\n          while (++index < length) {\n            result = funcs[index].call(this, result);\n          }\n          return result;\n        };\n      });\n    }\n\n    /**\n     * Creates a function that wraps `func` to invoke it with optional `this`\n     * binding of `thisArg`, partial application, and currying.\n     *\n     * @private\n     * @param {Function|string} func The function or method name to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {Array} [partials] The arguments to prepend to those provided to\n     *  the new function.\n     * @param {Array} [holders] The `partials` placeholder indexes.\n     * @param {Array} [partialsRight] The arguments to append to those provided\n     *  to the new function.\n     * @param {Array} [holdersRight] The `partialsRight` placeholder indexes.\n     * @param {Array} [argPos] The argument positions of the new function.\n     * @param {number} [ary] The arity cap of `func`.\n     * @param {number} [arity] The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createHybrid(func, bitmask, thisArg, partials, holders, partialsRight, holdersRight, argPos, ary, arity) {\n      var isAry = bitmask & WRAP_ARY_FLAG,\n          isBind = bitmask & WRAP_BIND_FLAG,\n          isBindKey = bitmask & WRAP_BIND_KEY_FLAG,\n          isCurried = bitmask & (WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG),\n          isFlip = bitmask & WRAP_FLIP_FLAG,\n          Ctor = isBindKey ? undefined : createCtor(func);\n\n      function wrapper() {\n        var length = arguments.length,\n            args = Array(length),\n            index = length;\n\n        while (index--) {\n          args[index] = arguments[index];\n        }\n        if (isCurried) {\n          var placeholder = getHolder(wrapper),\n              holdersCount = countHolders(args, placeholder);\n        }\n        if (partials) {\n          args = composeArgs(args, partials, holders, isCurried);\n        }\n        if (partialsRight) {\n          args = composeArgsRight(args, partialsRight, holdersRight, isCurried);\n        }\n        length -= holdersCount;\n        if (isCurried && length < arity) {\n          var newHolders = replaceHolders(args, placeholder);\n          return createRecurry(\n            func, bitmask, createHybrid, wrapper.placeholder, thisArg,\n            args, newHolders, argPos, ary, arity - length\n          );\n        }\n        var thisBinding = isBind ? thisArg : this,\n            fn = isBindKey ? thisBinding[func] : func;\n\n        length = args.length;\n        if (argPos) {\n          args = reorder(args, argPos);\n        } else if (isFlip && length > 1) {\n          args.reverse();\n        }\n        if (isAry && ary < length) {\n          args.length = ary;\n        }\n        if (this && this !== root && this instanceof wrapper) {\n          fn = Ctor || createCtor(fn);\n        }\n        return fn.apply(thisBinding, args);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a function like `_.invertBy`.\n     *\n     * @private\n     * @param {Function} setter The function to set accumulator values.\n     * @param {Function} toIteratee The function to resolve iteratees.\n     * @returns {Function} Returns the new inverter function.\n     */\n    function createInverter(setter, toIteratee) {\n      return function(object, iteratee) {\n        return baseInverter(object, setter, toIteratee(iteratee), {});\n      };\n    }\n\n    /**\n     * Creates a function that performs a mathematical operation on two values.\n     *\n     * @private\n     * @param {Function} operator The function to perform the operation.\n     * @param {number} [defaultValue] The value used for `undefined` arguments.\n     * @returns {Function} Returns the new mathematical operation function.\n     */\n    function createMathOperation(operator, defaultValue) {\n      return function(value, other) {\n        var result;\n        if (value === undefined && other === undefined) {\n          return defaultValue;\n        }\n        if (value !== undefined) {\n          result = value;\n        }\n        if (other !== undefined) {\n          if (result === undefined) {\n            return other;\n          }\n          if (typeof value == 'string' || typeof other == 'string') {\n            value = baseToString(value);\n            other = baseToString(other);\n          } else {\n            value = baseToNumber(value);\n            other = baseToNumber(other);\n          }\n          result = operator(value, other);\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Creates a function like `_.over`.\n     *\n     * @private\n     * @param {Function} arrayFunc The function to iterate over iteratees.\n     * @returns {Function} Returns the new over function.\n     */\n    function createOver(arrayFunc) {\n      return flatRest(function(iteratees) {\n        iteratees = arrayMap(iteratees, baseUnary(getIteratee()));\n        return baseRest(function(args) {\n          var thisArg = this;\n          return arrayFunc(iteratees, function(iteratee) {\n            return apply(iteratee, thisArg, args);\n          });\n        });\n      });\n    }\n\n    /**\n     * Creates the padding for `string` based on `length`. The `chars` string\n     * is truncated if the number of characters exceeds `length`.\n     *\n     * @private\n     * @param {number} length The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padding for `string`.\n     */\n    function createPadding(length, chars) {\n      chars = chars === undefined ? ' ' : baseToString(chars);\n\n      var charsLength = chars.length;\n      if (charsLength < 2) {\n        return charsLength ? baseRepeat(chars, length) : chars;\n      }\n      var result = baseRepeat(chars, nativeCeil(length / stringSize(chars)));\n      return hasUnicode(chars)\n        ? castSlice(stringToArray(result), 0, length).join('')\n        : result.slice(0, length);\n    }\n\n    /**\n     * Creates a function that wraps `func` to invoke it with the `this` binding\n     * of `thisArg` and `partials` prepended to the arguments it receives.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {*} thisArg The `this` binding of `func`.\n     * @param {Array} partials The arguments to prepend to those provided to\n     *  the new function.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createPartial(func, bitmask, thisArg, partials) {\n      var isBind = bitmask & WRAP_BIND_FLAG,\n          Ctor = createCtor(func);\n\n      function wrapper() {\n        var argsIndex = -1,\n            argsLength = arguments.length,\n            leftIndex = -1,\n            leftLength = partials.length,\n            args = Array(leftLength + argsLength),\n            fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n\n        while (++leftIndex < leftLength) {\n          args[leftIndex] = partials[leftIndex];\n        }\n        while (argsLength--) {\n          args[leftIndex++] = arguments[++argsIndex];\n        }\n        return apply(fn, isBind ? thisArg : this, args);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a `_.range` or `_.rangeRight` function.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new range function.\n     */\n    function createRange(fromRight) {\n      return function(start, end, step) {\n        if (step && typeof step != 'number' && isIterateeCall(start, end, step)) {\n          end = step = undefined;\n        }\n        // Ensure the sign of `-0` is preserved.\n        start = toFinite(start);\n        if (end === undefined) {\n          end = start;\n          start = 0;\n        } else {\n          end = toFinite(end);\n        }\n        step = step === undefined ? (start < end ? 1 : -1) : toFinite(step);\n        return baseRange(start, end, step, fromRight);\n      };\n    }\n\n    /**\n     * Creates a function that performs a relational operation on two values.\n     *\n     * @private\n     * @param {Function} operator The function to perform the operation.\n     * @returns {Function} Returns the new relational operation function.\n     */\n    function createRelationalOperation(operator) {\n      return function(value, other) {\n        if (!(typeof value == 'string' && typeof other == 'string')) {\n          value = toNumber(value);\n          other = toNumber(other);\n        }\n        return operator(value, other);\n      };\n    }\n\n    /**\n     * Creates a function that wraps `func` to continue currying.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {Function} wrapFunc The function to create the `func` wrapper.\n     * @param {*} placeholder The placeholder value.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {Array} [partials] The arguments to prepend to those provided to\n     *  the new function.\n     * @param {Array} [holders] The `partials` placeholder indexes.\n     * @param {Array} [argPos] The argument positions of the new function.\n     * @param {number} [ary] The arity cap of `func`.\n     * @param {number} [arity] The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createRecurry(func, bitmask, wrapFunc, placeholder, thisArg, partials, holders, argPos, ary, arity) {\n      var isCurry = bitmask & WRAP_CURRY_FLAG,\n          newHolders = isCurry ? holders : undefined,\n          newHoldersRight = isCurry ? undefined : holders,\n          newPartials = isCurry ? partials : undefined,\n          newPartialsRight = isCurry ? undefined : partials;\n\n      bitmask |= (isCurry ? WRAP_PARTIAL_FLAG : WRAP_PARTIAL_RIGHT_FLAG);\n      bitmask &= ~(isCurry ? WRAP_PARTIAL_RIGHT_FLAG : WRAP_PARTIAL_FLAG);\n\n      if (!(bitmask & WRAP_CURRY_BOUND_FLAG)) {\n        bitmask &= ~(WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG);\n      }\n      var newData = [\n        func, bitmask, thisArg, newPartials, newHolders, newPartialsRight,\n        newHoldersRight, argPos, ary, arity\n      ];\n\n      var result = wrapFunc.apply(undefined, newData);\n      if (isLaziable(func)) {\n        setData(result, newData);\n      }\n      result.placeholder = placeholder;\n      return setWrapToString(result, func, bitmask);\n    }\n\n    /**\n     * Creates a function like `_.round`.\n     *\n     * @private\n     * @param {string} methodName The name of the `Math` method to use when rounding.\n     * @returns {Function} Returns the new round function.\n     */\n    function createRound(methodName) {\n      var func = Math[methodName];\n      return function(number, precision) {\n        number = toNumber(number);\n        precision = precision == null ? 0 : nativeMin(toInteger(precision), 292);\n        if (precision && nativeIsFinite(number)) {\n          // Shift with exponential notation to avoid floating-point issues.\n          // See [MDN](https://mdn.io/round#Examples) for more details.\n          var pair = (toString(number) + 'e').split('e'),\n              value = func(pair[0] + 'e' + (+pair[1] + precision));\n\n          pair = (toString(value) + 'e').split('e');\n          return +(pair[0] + 'e' + (+pair[1] - precision));\n        }\n        return func(number);\n      };\n    }\n\n    /**\n     * Creates a set object of `values`.\n     *\n     * @private\n     * @param {Array} values The values to add to the set.\n     * @returns {Object} Returns the new set.\n     */\n    var createSet = !(Set && (1 / setToArray(new Set([,-0]))[1]) == INFINITY) ? noop : function(values) {\n      return new Set(values);\n    };\n\n    /**\n     * Creates a `_.toPairs` or `_.toPairsIn` function.\n     *\n     * @private\n     * @param {Function} keysFunc The function to get the keys of a given object.\n     * @returns {Function} Returns the new pairs function.\n     */\n    function createToPairs(keysFunc) {\n      return function(object) {\n        var tag = getTag(object);\n        if (tag == mapTag) {\n          return mapToArray(object);\n        }\n        if (tag == setTag) {\n          return setToPairs(object);\n        }\n        return baseToPairs(object, keysFunc(object));\n      };\n    }\n\n    /**\n     * Creates a function that either curries or invokes `func` with optional\n     * `this` binding and partially applied arguments.\n     *\n     * @private\n     * @param {Function|string} func The function or method name to wrap.\n     * @param {number} bitmask The bitmask flags.\n     *    1 - `_.bind`\n     *    2 - `_.bindKey`\n     *    4 - `_.curry` or `_.curryRight` of a bound function\n     *    8 - `_.curry`\n     *   16 - `_.curryRight`\n     *   32 - `_.partial`\n     *   64 - `_.partialRight`\n     *  128 - `_.rearg`\n     *  256 - `_.ary`\n     *  512 - `_.flip`\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {Array} [partials] The arguments to be partially applied.\n     * @param {Array} [holders] The `partials` placeholder indexes.\n     * @param {Array} [argPos] The argument positions of the new function.\n     * @param {number} [ary] The arity cap of `func`.\n     * @param {number} [arity] The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createWrap(func, bitmask, thisArg, partials, holders, argPos, ary, arity) {\n      var isBindKey = bitmask & WRAP_BIND_KEY_FLAG;\n      if (!isBindKey && typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      var length = partials ? partials.length : 0;\n      if (!length) {\n        bitmask &= ~(WRAP_PARTIAL_FLAG | WRAP_PARTIAL_RIGHT_FLAG);\n        partials = holders = undefined;\n      }\n      ary = ary === undefined ? ary : nativeMax(toInteger(ary), 0);\n      arity = arity === undefined ? arity : toInteger(arity);\n      length -= holders ? holders.length : 0;\n\n      if (bitmask & WRAP_PARTIAL_RIGHT_FLAG) {\n        var partialsRight = partials,\n            holdersRight = holders;\n\n        partials = holders = undefined;\n      }\n      var data = isBindKey ? undefined : getData(func);\n\n      var newData = [\n        func, bitmask, thisArg, partials, holders, partialsRight, holdersRight,\n        argPos, ary, arity\n      ];\n\n      if (data) {\n        mergeData(newData, data);\n      }\n      func = newData[0];\n      bitmask = newData[1];\n      thisArg = newData[2];\n      partials = newData[3];\n      holders = newData[4];\n      arity = newData[9] = newData[9] === undefined\n        ? (isBindKey ? 0 : func.length)\n        : nativeMax(newData[9] - length, 0);\n\n      if (!arity && bitmask & (WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG)) {\n        bitmask &= ~(WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG);\n      }\n      if (!bitmask || bitmask == WRAP_BIND_FLAG) {\n        var result = createBind(func, bitmask, thisArg);\n      } else if (bitmask == WRAP_CURRY_FLAG || bitmask == WRAP_CURRY_RIGHT_FLAG) {\n        result = createCurry(func, bitmask, arity);\n      } else if ((bitmask == WRAP_PARTIAL_FLAG || bitmask == (WRAP_BIND_FLAG | WRAP_PARTIAL_FLAG)) && !holders.length) {\n        result = createPartial(func, bitmask, thisArg, partials);\n      } else {\n        result = createHybrid.apply(undefined, newData);\n      }\n      var setter = data ? baseSetData : setData;\n      return setWrapToString(setter(result, newData), func, bitmask);\n    }\n\n    /**\n     * Used by `_.defaults` to customize its `_.assignIn` use to assign properties\n     * of source objects to the destination object for all destination properties\n     * that resolve to `undefined`.\n     *\n     * @private\n     * @param {*} objValue The destination value.\n     * @param {*} srcValue The source value.\n     * @param {string} key The key of the property to assign.\n     * @param {Object} object The parent object of `objValue`.\n     * @returns {*} Returns the value to assign.\n     */\n    function customDefaultsAssignIn(objValue, srcValue, key, object) {\n      if (objValue === undefined ||\n          (eq(objValue, objectProto[key]) && !hasOwnProperty.call(object, key))) {\n        return srcValue;\n      }\n      return objValue;\n    }\n\n    /**\n     * Used by `_.defaultsDeep` to customize its `_.merge` use to merge source\n     * objects into destination objects that are passed thru.\n     *\n     * @private\n     * @param {*} objValue The destination value.\n     * @param {*} srcValue The source value.\n     * @param {string} key The key of the property to merge.\n     * @param {Object} object The parent object of `objValue`.\n     * @param {Object} source The parent object of `srcValue`.\n     * @param {Object} [stack] Tracks traversed source values and their merged\n     *  counterparts.\n     * @returns {*} Returns the value to assign.\n     */\n    function customDefaultsMerge(objValue, srcValue, key, object, source, stack) {\n      if (isObject(objValue) && isObject(srcValue)) {\n        // Recursively merge objects and arrays (susceptible to call stack limits).\n        stack.set(srcValue, objValue);\n        baseMerge(objValue, srcValue, undefined, customDefaultsMerge, stack);\n        stack['delete'](srcValue);\n      }\n      return objValue;\n    }\n\n    /**\n     * Used by `_.omit` to customize its `_.cloneDeep` use to only clone plain\n     * objects.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @param {string} key The key of the property to inspect.\n     * @returns {*} Returns the uncloned value or `undefined` to defer cloning to `_.cloneDeep`.\n     */\n    function customOmitClone(value) {\n      return isPlainObject(value) ? undefined : value;\n    }\n\n    /**\n     * A specialized version of `baseIsEqualDeep` for arrays with support for\n     * partial deep comparisons.\n     *\n     * @private\n     * @param {Array} array The array to compare.\n     * @param {Array} other The other array to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} stack Tracks traversed `array` and `other` objects.\n     * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n     */\n    function equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n          arrLength = array.length,\n          othLength = other.length;\n\n      if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n        return false;\n      }\n      // Check that cyclic values are equal.\n      var arrStacked = stack.get(array);\n      var othStacked = stack.get(other);\n      if (arrStacked && othStacked) {\n        return arrStacked == other && othStacked == array;\n      }\n      var index = -1,\n          result = true,\n          seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n      stack.set(array, other);\n      stack.set(other, array);\n\n      // Ignore non-index properties.\n      while (++index < arrLength) {\n        var arrValue = array[index],\n            othValue = other[index];\n\n        if (customizer) {\n          var compared = isPartial\n            ? customizer(othValue, arrValue, index, other, array, stack)\n            : customizer(arrValue, othValue, index, array, other, stack);\n        }\n        if (compared !== undefined) {\n          if (compared) {\n            continue;\n          }\n          result = false;\n          break;\n        }\n        // Recursively compare arrays (susceptible to call stack limits).\n        if (seen) {\n          if (!arraySome(other, function(othValue, othIndex) {\n                if (!cacheHas(seen, othIndex) &&\n                    (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n                  return seen.push(othIndex);\n                }\n              })) {\n            result = false;\n            break;\n          }\n        } else if (!(\n              arrValue === othValue ||\n                equalFunc(arrValue, othValue, bitmask, customizer, stack)\n            )) {\n          result = false;\n          break;\n        }\n      }\n      stack['delete'](array);\n      stack['delete'](other);\n      return result;\n    }\n\n    /**\n     * A specialized version of `baseIsEqualDeep` for comparing objects of\n     * the same `toStringTag`.\n     *\n     * **Note:** This function only supports comparing values with tags of\n     * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {string} tag The `toStringTag` of the objects to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} stack Tracks traversed `object` and `other` objects.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n      switch (tag) {\n        case dataViewTag:\n          if ((object.byteLength != other.byteLength) ||\n              (object.byteOffset != other.byteOffset)) {\n            return false;\n          }\n          object = object.buffer;\n          other = other.buffer;\n\n        case arrayBufferTag:\n          if ((object.byteLength != other.byteLength) ||\n              !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n            return false;\n          }\n          return true;\n\n        case boolTag:\n        case dateTag:\n        case numberTag:\n          // Coerce booleans to `1` or `0` and dates to milliseconds.\n          // Invalid dates are coerced to `NaN`.\n          return eq(+object, +other);\n\n        case errorTag:\n          return object.name == other.name && object.message == other.message;\n\n        case regexpTag:\n        case stringTag:\n          // Coerce regexes to strings and treat strings, primitives and objects,\n          // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n          // for more details.\n          return object == (other + '');\n\n        case mapTag:\n          var convert = mapToArray;\n\n        case setTag:\n          var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n          convert || (convert = setToArray);\n\n          if (object.size != other.size && !isPartial) {\n            return false;\n          }\n          // Assume cyclic values are equal.\n          var stacked = stack.get(object);\n          if (stacked) {\n            return stacked == other;\n          }\n          bitmask |= COMPARE_UNORDERED_FLAG;\n\n          // Recursively compare objects (susceptible to call stack limits).\n          stack.set(object, other);\n          var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n          stack['delete'](object);\n          return result;\n\n        case symbolTag:\n          if (symbolValueOf) {\n            return symbolValueOf.call(object) == symbolValueOf.call(other);\n          }\n      }\n      return false;\n    }\n\n    /**\n     * A specialized version of `baseIsEqualDeep` for objects with support for\n     * partial deep comparisons.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} stack Tracks traversed `object` and `other` objects.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n          objProps = getAllKeys(object),\n          objLength = objProps.length,\n          othProps = getAllKeys(other),\n          othLength = othProps.length;\n\n      if (objLength != othLength && !isPartial) {\n        return false;\n      }\n      var index = objLength;\n      while (index--) {\n        var key = objProps[index];\n        if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n          return false;\n        }\n      }\n      // Check that cyclic values are equal.\n      var objStacked = stack.get(object);\n      var othStacked = stack.get(other);\n      if (objStacked && othStacked) {\n        return objStacked == other && othStacked == object;\n      }\n      var result = true;\n      stack.set(object, other);\n      stack.set(other, object);\n\n      var skipCtor = isPartial;\n      while (++index < objLength) {\n        key = objProps[index];\n        var objValue = object[key],\n            othValue = other[key];\n\n        if (customizer) {\n          var compared = isPartial\n            ? customizer(othValue, objValue, key, other, object, stack)\n            : customizer(objValue, othValue, key, object, other, stack);\n        }\n        // Recursively compare objects (susceptible to call stack limits).\n        if (!(compared === undefined\n              ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n              : compared\n            )) {\n          result = false;\n          break;\n        }\n        skipCtor || (skipCtor = key == 'constructor');\n      }\n      if (result && !skipCtor) {\n        var objCtor = object.constructor,\n            othCtor = other.constructor;\n\n        // Non `Object` object instances with different constructors are not equal.\n        if (objCtor != othCtor &&\n            ('constructor' in object && 'constructor' in other) &&\n            !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n              typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n          result = false;\n        }\n      }\n      stack['delete'](object);\n      stack['delete'](other);\n      return result;\n    }\n\n    /**\n     * A specialized version of `baseRest` which flattens the rest array.\n     *\n     * @private\n     * @param {Function} func The function to apply a rest parameter to.\n     * @returns {Function} Returns the new function.\n     */\n    function flatRest(func) {\n      return setToString(overRest(func, undefined, flatten), func + '');\n    }\n\n    /**\n     * Creates an array of own enumerable property names and symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names and symbols.\n     */\n    function getAllKeys(object) {\n      return baseGetAllKeys(object, keys, getSymbols);\n    }\n\n    /**\n     * Creates an array of own and inherited enumerable property names and\n     * symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names and symbols.\n     */\n    function getAllKeysIn(object) {\n      return baseGetAllKeys(object, keysIn, getSymbolsIn);\n    }\n\n    /**\n     * Gets metadata for `func`.\n     *\n     * @private\n     * @param {Function} func The function to query.\n     * @returns {*} Returns the metadata for `func`.\n     */\n    var getData = !metaMap ? noop : function(func) {\n      return metaMap.get(func);\n    };\n\n    /**\n     * Gets the name of `func`.\n     *\n     * @private\n     * @param {Function} func The function to query.\n     * @returns {string} Returns the function name.\n     */\n    function getFuncName(func) {\n      var result = (func.name + ''),\n          array = realNames[result],\n          length = hasOwnProperty.call(realNames, result) ? array.length : 0;\n\n      while (length--) {\n        var data = array[length],\n            otherFunc = data.func;\n        if (otherFunc == null || otherFunc == func) {\n          return data.name;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Gets the argument placeholder value for `func`.\n     *\n     * @private\n     * @param {Function} func The function to inspect.\n     * @returns {*} Returns the placeholder value.\n     */\n    function getHolder(func) {\n      var object = hasOwnProperty.call(lodash, 'placeholder') ? lodash : func;\n      return object.placeholder;\n    }\n\n    /**\n     * Gets the appropriate \"iteratee\" function. If `_.iteratee` is customized,\n     * this function returns the custom method, otherwise it returns `baseIteratee`.\n     * If arguments are provided, the chosen function is invoked with them and\n     * its result is returned.\n     *\n     * @private\n     * @param {*} [value] The value to convert to an iteratee.\n     * @param {number} [arity] The arity of the created iteratee.\n     * @returns {Function} Returns the chosen function or its result.\n     */\n    function getIteratee() {\n      var result = lodash.iteratee || iteratee;\n      result = result === iteratee ? baseIteratee : result;\n      return arguments.length ? result(arguments[0], arguments[1]) : result;\n    }\n\n    /**\n     * Gets the data for `map`.\n     *\n     * @private\n     * @param {Object} map The map to query.\n     * @param {string} key The reference key.\n     * @returns {*} Returns the map data.\n     */\n    function getMapData(map, key) {\n      var data = map.__data__;\n      return isKeyable(key)\n        ? data[typeof key == 'string' ? 'string' : 'hash']\n        : data.map;\n    }\n\n    /**\n     * Gets the property names, values, and compare flags of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the match data of `object`.\n     */\n    function getMatchData(object) {\n      var result = keys(object),\n          length = result.length;\n\n      while (length--) {\n        var key = result[length],\n            value = object[key];\n\n        result[length] = [key, value, isStrictComparable(value)];\n      }\n      return result;\n    }\n\n    /**\n     * Gets the native function at `key` of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {string} key The key of the method to get.\n     * @returns {*} Returns the function if it's native, else `undefined`.\n     */\n    function getNative(object, key) {\n      var value = getValue(object, key);\n      return baseIsNative(value) ? value : undefined;\n    }\n\n    /**\n     * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @returns {string} Returns the raw `toStringTag`.\n     */\n    function getRawTag(value) {\n      var isOwn = hasOwnProperty.call(value, symToStringTag),\n          tag = value[symToStringTag];\n\n      try {\n        value[symToStringTag] = undefined;\n        var unmasked = true;\n      } catch (e) {}\n\n      var result = nativeObjectToString.call(value);\n      if (unmasked) {\n        if (isOwn) {\n          value[symToStringTag] = tag;\n        } else {\n          delete value[symToStringTag];\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Creates an array of the own enumerable symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of symbols.\n     */\n    var getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n      if (object == null) {\n        return [];\n      }\n      object = Object(object);\n      return arrayFilter(nativeGetSymbols(object), function(symbol) {\n        return propertyIsEnumerable.call(object, symbol);\n      });\n    };\n\n    /**\n     * Creates an array of the own and inherited enumerable symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of symbols.\n     */\n    var getSymbolsIn = !nativeGetSymbols ? stubArray : function(object) {\n      var result = [];\n      while (object) {\n        arrayPush(result, getSymbols(object));\n        object = getPrototype(object);\n      }\n      return result;\n    };\n\n    /**\n     * Gets the `toStringTag` of `value`.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @returns {string} Returns the `toStringTag`.\n     */\n    var getTag = baseGetTag;\n\n    // Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\n    if ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n        (Map && getTag(new Map) != mapTag) ||\n        (Promise && getTag(Promise.resolve()) != promiseTag) ||\n        (Set && getTag(new Set) != setTag) ||\n        (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n      getTag = function(value) {\n        var result = baseGetTag(value),\n            Ctor = result == objectTag ? value.constructor : undefined,\n            ctorString = Ctor ? toSource(Ctor) : '';\n\n        if (ctorString) {\n          switch (ctorString) {\n            case dataViewCtorString: return dataViewTag;\n            case mapCtorString: return mapTag;\n            case promiseCtorString: return promiseTag;\n            case setCtorString: return setTag;\n            case weakMapCtorString: return weakMapTag;\n          }\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Gets the view, applying any `transforms` to the `start` and `end` positions.\n     *\n     * @private\n     * @param {number} start The start of the view.\n     * @param {number} end The end of the view.\n     * @param {Array} transforms The transformations to apply to the view.\n     * @returns {Object} Returns an object containing the `start` and `end`\n     *  positions of the view.\n     */\n    function getView(start, end, transforms) {\n      var index = -1,\n          length = transforms.length;\n\n      while (++index < length) {\n        var data = transforms[index],\n            size = data.size;\n\n        switch (data.type) {\n          case 'drop':      start += size; break;\n          case 'dropRight': end -= size; break;\n          case 'take':      end = nativeMin(end, start + size); break;\n          case 'takeRight': start = nativeMax(start, end - size); break;\n        }\n      }\n      return { 'start': start, 'end': end };\n    }\n\n    /**\n     * Extracts wrapper details from the `source` body comment.\n     *\n     * @private\n     * @param {string} source The source to inspect.\n     * @returns {Array} Returns the wrapper details.\n     */\n    function getWrapDetails(source) {\n      var match = source.match(reWrapDetails);\n      return match ? match[1].split(reSplitDetails) : [];\n    }\n\n    /**\n     * Checks if `path` exists on `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path to check.\n     * @param {Function} hasFunc The function to check properties.\n     * @returns {boolean} Returns `true` if `path` exists, else `false`.\n     */\n    function hasPath(object, path, hasFunc) {\n      path = castPath(path, object);\n\n      var index = -1,\n          length = path.length,\n          result = false;\n\n      while (++index < length) {\n        var key = toKey(path[index]);\n        if (!(result = object != null && hasFunc(object, key))) {\n          break;\n        }\n        object = object[key];\n      }\n      if (result || ++index != length) {\n        return result;\n      }\n      length = object == null ? 0 : object.length;\n      return !!length && isLength(length) && isIndex(key, length) &&\n        (isArray(object) || isArguments(object));\n    }\n\n    /**\n     * Initializes an array clone.\n     *\n     * @private\n     * @param {Array} array The array to clone.\n     * @returns {Array} Returns the initialized clone.\n     */\n    function initCloneArray(array) {\n      var length = array.length,\n          result = new array.constructor(length);\n\n      // Add properties assigned by `RegExp#exec`.\n      if (length && typeof array[0] == 'string' && hasOwnProperty.call(array, 'index')) {\n        result.index = array.index;\n        result.input = array.input;\n      }\n      return result;\n    }\n\n    /**\n     * Initializes an object clone.\n     *\n     * @private\n     * @param {Object} object The object to clone.\n     * @returns {Object} Returns the initialized clone.\n     */\n    function initCloneObject(object) {\n      return (typeof object.constructor == 'function' && !isPrototype(object))\n        ? baseCreate(getPrototype(object))\n        : {};\n    }\n\n    /**\n     * Initializes an object clone based on its `toStringTag`.\n     *\n     * **Note:** This function only supports cloning values with tags of\n     * `Boolean`, `Date`, `Error`, `Map`, `Number`, `RegExp`, `Set`, or `String`.\n     *\n     * @private\n     * @param {Object} object The object to clone.\n     * @param {string} tag The `toStringTag` of the object to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Object} Returns the initialized clone.\n     */\n    function initCloneByTag(object, tag, isDeep) {\n      var Ctor = object.constructor;\n      switch (tag) {\n        case arrayBufferTag:\n          return cloneArrayBuffer(object);\n\n        case boolTag:\n        case dateTag:\n          return new Ctor(+object);\n\n        case dataViewTag:\n          return cloneDataView(object, isDeep);\n\n        case float32Tag: case float64Tag:\n        case int8Tag: case int16Tag: case int32Tag:\n        case uint8Tag: case uint8ClampedTag: case uint16Tag: case uint32Tag:\n          return cloneTypedArray(object, isDeep);\n\n        case mapTag:\n          return new Ctor;\n\n        case numberTag:\n        case stringTag:\n          return new Ctor(object);\n\n        case regexpTag:\n          return cloneRegExp(object);\n\n        case setTag:\n          return new Ctor;\n\n        case symbolTag:\n          return cloneSymbol(object);\n      }\n    }\n\n    /**\n     * Inserts wrapper `details` in a comment at the top of the `source` body.\n     *\n     * @private\n     * @param {string} source The source to modify.\n     * @returns {Array} details The details to insert.\n     * @returns {string} Returns the modified source.\n     */\n    function insertWrapDetails(source, details) {\n      var length = details.length;\n      if (!length) {\n        return source;\n      }\n      var lastIndex = length - 1;\n      details[lastIndex] = (length > 1 ? '& ' : '') + details[lastIndex];\n      details = details.join(length > 2 ? ', ' : ' ');\n      return source.replace(reWrapComment, '{\\n/* [wrapped with ' + details + '] */\\n');\n    }\n\n    /**\n     * Checks if `value` is a flattenable `arguments` object or array.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n     */\n    function isFlattenable(value) {\n      return isArray(value) || isArguments(value) ||\n        !!(spreadableSymbol && value && value[spreadableSymbol]);\n    }\n\n    /**\n     * Checks if `value` is a valid array-like index.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n     * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n     */\n    function isIndex(value, length) {\n      var type = typeof value;\n      length = length == null ? MAX_SAFE_INTEGER : length;\n\n      return !!length &&\n        (type == 'number' ||\n          (type != 'symbol' && reIsUint.test(value))) &&\n            (value > -1 && value % 1 == 0 && value < length);\n    }\n\n    /**\n     * Checks if the given arguments are from an iteratee call.\n     *\n     * @private\n     * @param {*} value The potential iteratee value argument.\n     * @param {*} index The potential iteratee index or key argument.\n     * @param {*} object The potential iteratee object argument.\n     * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n     *  else `false`.\n     */\n    function isIterateeCall(value, index, object) {\n      if (!isObject(object)) {\n        return false;\n      }\n      var type = typeof index;\n      if (type == 'number'\n            ? (isArrayLike(object) && isIndex(index, object.length))\n            : (type == 'string' && index in object)\n          ) {\n        return eq(object[index], value);\n      }\n      return false;\n    }\n\n    /**\n     * Checks if `value` is a property name and not a property path.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @param {Object} [object] The object to query keys on.\n     * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n     */\n    function isKey(value, object) {\n      if (isArray(value)) {\n        return false;\n      }\n      var type = typeof value;\n      if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n          value == null || isSymbol(value)) {\n        return true;\n      }\n      return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n        (object != null && value in Object(object));\n    }\n\n    /**\n     * Checks if `value` is suitable for use as unique object key.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n     */\n    function isKeyable(value) {\n      var type = typeof value;\n      return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n        ? (value !== '__proto__')\n        : (value === null);\n    }\n\n    /**\n     * Checks if `func` has a lazy counterpart.\n     *\n     * @private\n     * @param {Function} func The function to check.\n     * @returns {boolean} Returns `true` if `func` has a lazy counterpart,\n     *  else `false`.\n     */\n    function isLaziable(func) {\n      var funcName = getFuncName(func),\n          other = lodash[funcName];\n\n      if (typeof other != 'function' || !(funcName in LazyWrapper.prototype)) {\n        return false;\n      }\n      if (func === other) {\n        return true;\n      }\n      var data = getData(other);\n      return !!data && func === data[0];\n    }\n\n    /**\n     * Checks if `func` has its source masked.\n     *\n     * @private\n     * @param {Function} func The function to check.\n     * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n     */\n    function isMasked(func) {\n      return !!maskSrcKey && (maskSrcKey in func);\n    }\n\n    /**\n     * Checks if `func` is capable of being masked.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `func` is maskable, else `false`.\n     */\n    var isMaskable = coreJsData ? isFunction : stubFalse;\n\n    /**\n     * Checks if `value` is likely a prototype object.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n     */\n    function isPrototype(value) {\n      var Ctor = value && value.constructor,\n          proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n      return value === proto;\n    }\n\n    /**\n     * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` if suitable for strict\n     *  equality comparisons, else `false`.\n     */\n    function isStrictComparable(value) {\n      return value === value && !isObject(value);\n    }\n\n    /**\n     * A specialized version of `matchesProperty` for source values suitable\n     * for strict equality comparisons, i.e. `===`.\n     *\n     * @private\n     * @param {string} key The key of the property to get.\n     * @param {*} srcValue The value to match.\n     * @returns {Function} Returns the new spec function.\n     */\n    function matchesStrictComparable(key, srcValue) {\n      return function(object) {\n        if (object == null) {\n          return false;\n        }\n        return object[key] === srcValue &&\n          (srcValue !== undefined || (key in Object(object)));\n      };\n    }\n\n    /**\n     * A specialized version of `_.memoize` which clears the memoized function's\n     * cache when it exceeds `MAX_MEMOIZE_SIZE`.\n     *\n     * @private\n     * @param {Function} func The function to have its output memoized.\n     * @returns {Function} Returns the new memoized function.\n     */\n    function memoizeCapped(func) {\n      var result = memoize(func, function(key) {\n        if (cache.size === MAX_MEMOIZE_SIZE) {\n          cache.clear();\n        }\n        return key;\n      });\n\n      var cache = result.cache;\n      return result;\n    }\n\n    /**\n     * Merges the function metadata of `source` into `data`.\n     *\n     * Merging metadata reduces the number of wrappers used to invoke a function.\n     * This is possible because methods like `_.bind`, `_.curry`, and `_.partial`\n     * may be applied regardless of execution order. Methods like `_.ary` and\n     * `_.rearg` modify function arguments, making the order in which they are\n     * executed important, preventing the merging of metadata. However, we make\n     * an exception for a safe combined case where curried functions have `_.ary`\n     * and or `_.rearg` applied.\n     *\n     * @private\n     * @param {Array} data The destination metadata.\n     * @param {Array} source The source metadata.\n     * @returns {Array} Returns `data`.\n     */\n    function mergeData(data, source) {\n      var bitmask = data[1],\n          srcBitmask = source[1],\n          newBitmask = bitmask | srcBitmask,\n          isCommon = newBitmask < (WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG | WRAP_ARY_FLAG);\n\n      var isCombo =\n        ((srcBitmask == WRAP_ARY_FLAG) && (bitmask == WRAP_CURRY_FLAG)) ||\n        ((srcBitmask == WRAP_ARY_FLAG) && (bitmask == WRAP_REARG_FLAG) && (data[7].length <= source[8])) ||\n        ((srcBitmask == (WRAP_ARY_FLAG | WRAP_REARG_FLAG)) && (source[7].length <= source[8]) && (bitmask == WRAP_CURRY_FLAG));\n\n      // Exit early if metadata can't be merged.\n      if (!(isCommon || isCombo)) {\n        return data;\n      }\n      // Use source `thisArg` if available.\n      if (srcBitmask & WRAP_BIND_FLAG) {\n        data[2] = source[2];\n        // Set when currying a bound function.\n        newBitmask |= bitmask & WRAP_BIND_FLAG ? 0 : WRAP_CURRY_BOUND_FLAG;\n      }\n      // Compose partial arguments.\n      var value = source[3];\n      if (value) {\n        var partials = data[3];\n        data[3] = partials ? composeArgs(partials, value, source[4]) : value;\n        data[4] = partials ? replaceHolders(data[3], PLACEHOLDER) : source[4];\n      }\n      // Compose partial right arguments.\n      value = source[5];\n      if (value) {\n        partials = data[5];\n        data[5] = partials ? composeArgsRight(partials, value, source[6]) : value;\n        data[6] = partials ? replaceHolders(data[5], PLACEHOLDER) : source[6];\n      }\n      // Use source `argPos` if available.\n      value = source[7];\n      if (value) {\n        data[7] = value;\n      }\n      // Use source `ary` if it's smaller.\n      if (srcBitmask & WRAP_ARY_FLAG) {\n        data[8] = data[8] == null ? source[8] : nativeMin(data[8], source[8]);\n      }\n      // Use source `arity` if one is not provided.\n      if (data[9] == null) {\n        data[9] = source[9];\n      }\n      // Use source `func` and merge bitmasks.\n      data[0] = source[0];\n      data[1] = newBitmask;\n\n      return data;\n    }\n\n    /**\n     * This function is like\n     * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n     * except that it includes inherited enumerable properties.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     */\n    function nativeKeysIn(object) {\n      var result = [];\n      if (object != null) {\n        for (var key in Object(object)) {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Converts `value` to a string using `Object.prototype.toString`.\n     *\n     * @private\n     * @param {*} value The value to convert.\n     * @returns {string} Returns the converted string.\n     */\n    function objectToString(value) {\n      return nativeObjectToString.call(value);\n    }\n\n    /**\n     * A specialized version of `baseRest` which transforms the rest array.\n     *\n     * @private\n     * @param {Function} func The function to apply a rest parameter to.\n     * @param {number} [start=func.length-1] The start position of the rest parameter.\n     * @param {Function} transform The rest array transform.\n     * @returns {Function} Returns the new function.\n     */\n    function overRest(func, start, transform) {\n      start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n      return function() {\n        var args = arguments,\n            index = -1,\n            length = nativeMax(args.length - start, 0),\n            array = Array(length);\n\n        while (++index < length) {\n          array[index] = args[start + index];\n        }\n        index = -1;\n        var otherArgs = Array(start + 1);\n        while (++index < start) {\n          otherArgs[index] = args[index];\n        }\n        otherArgs[start] = transform(array);\n        return apply(func, this, otherArgs);\n      };\n    }\n\n    /**\n     * Gets the parent value at `path` of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array} path The path to get the parent value of.\n     * @returns {*} Returns the parent value.\n     */\n    function parent(object, path) {\n      return path.length < 2 ? object : baseGet(object, baseSlice(path, 0, -1));\n    }\n\n    /**\n     * Reorder `array` according to the specified indexes where the element at\n     * the first index is assigned as the first element, the element at\n     * the second index is assigned as the second element, and so on.\n     *\n     * @private\n     * @param {Array} array The array to reorder.\n     * @param {Array} indexes The arranged array indexes.\n     * @returns {Array} Returns `array`.\n     */\n    function reorder(array, indexes) {\n      var arrLength = array.length,\n          length = nativeMin(indexes.length, arrLength),\n          oldArray = copyArray(array);\n\n      while (length--) {\n        var index = indexes[length];\n        array[length] = isIndex(index, arrLength) ? oldArray[index] : undefined;\n      }\n      return array;\n    }\n\n    /**\n     * Gets the value at `key`, unless `key` is \"__proto__\" or \"constructor\".\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {string} key The key of the property to get.\n     * @returns {*} Returns the property value.\n     */\n    function safeGet(object, key) {\n      if (key === 'constructor' && typeof object[key] === 'function') {\n        return;\n      }\n\n      if (key == '__proto__') {\n        return;\n      }\n\n      return object[key];\n    }\n\n    /**\n     * Sets metadata for `func`.\n     *\n     * **Note:** If this function becomes hot, i.e. is invoked a lot in a short\n     * period of time, it will trip its breaker and transition to an identity\n     * function to avoid garbage collection pauses in V8. See\n     * [V8 issue 2070](https://bugs.chromium.org/p/v8/issues/detail?id=2070)\n     * for more details.\n     *\n     * @private\n     * @param {Function} func The function to associate metadata with.\n     * @param {*} data The metadata.\n     * @returns {Function} Returns `func`.\n     */\n    var setData = shortOut(baseSetData);\n\n    /**\n     * A simple wrapper around the global [`setTimeout`](https://mdn.io/setTimeout).\n     *\n     * @private\n     * @param {Function} func The function to delay.\n     * @param {number} wait The number of milliseconds to delay invocation.\n     * @returns {number|Object} Returns the timer id or timeout object.\n     */\n    var setTimeout = ctxSetTimeout || function(func, wait) {\n      return root.setTimeout(func, wait);\n    };\n\n    /**\n     * Sets the `toString` method of `func` to return `string`.\n     *\n     * @private\n     * @param {Function} func The function to modify.\n     * @param {Function} string The `toString` result.\n     * @returns {Function} Returns `func`.\n     */\n    var setToString = shortOut(baseSetToString);\n\n    /**\n     * Sets the `toString` method of `wrapper` to mimic the source of `reference`\n     * with wrapper details in a comment at the top of the source body.\n     *\n     * @private\n     * @param {Function} wrapper The function to modify.\n     * @param {Function} reference The reference function.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @returns {Function} Returns `wrapper`.\n     */\n    function setWrapToString(wrapper, reference, bitmask) {\n      var source = (reference + '');\n      return setToString(wrapper, insertWrapDetails(source, updateWrapDetails(getWrapDetails(source), bitmask)));\n    }\n\n    /**\n     * Creates a function that'll short out and invoke `identity` instead\n     * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`\n     * milliseconds.\n     *\n     * @private\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new shortable function.\n     */\n    function shortOut(func) {\n      var count = 0,\n          lastCalled = 0;\n\n      return function() {\n        var stamp = nativeNow(),\n            remaining = HOT_SPAN - (stamp - lastCalled);\n\n        lastCalled = stamp;\n        if (remaining > 0) {\n          if (++count >= HOT_COUNT) {\n            return arguments[0];\n          }\n        } else {\n          count = 0;\n        }\n        return func.apply(undefined, arguments);\n      };\n    }\n\n    /**\n     * A specialized version of `_.shuffle` which mutates and sets the size of `array`.\n     *\n     * @private\n     * @param {Array} array The array to shuffle.\n     * @param {number} [size=array.length] The size of `array`.\n     * @returns {Array} Returns `array`.\n     */\n    function shuffleSelf(array, size) {\n      var index = -1,\n          length = array.length,\n          lastIndex = length - 1;\n\n      size = size === undefined ? length : size;\n      while (++index < size) {\n        var rand = baseRandom(index, lastIndex),\n            value = array[rand];\n\n        array[rand] = array[index];\n        array[index] = value;\n      }\n      array.length = size;\n      return array;\n    }\n\n    /**\n     * Converts `string` to a property path array.\n     *\n     * @private\n     * @param {string} string The string to convert.\n     * @returns {Array} Returns the property path array.\n     */\n    var stringToPath = memoizeCapped(function(string) {\n      var result = [];\n      if (string.charCodeAt(0) === 46 /* . */) {\n        result.push('');\n      }\n      string.replace(rePropName, function(match, number, quote, subString) {\n        result.push(quote ? subString.replace(reEscapeChar, '$1') : (number || match));\n      });\n      return result;\n    });\n\n    /**\n     * Converts `value` to a string key if it's not a string or symbol.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @returns {string|symbol} Returns the key.\n     */\n    function toKey(value) {\n      if (typeof value == 'string' || isSymbol(value)) {\n        return value;\n      }\n      var result = (value + '');\n      return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n    }\n\n    /**\n     * Converts `func` to its source code.\n     *\n     * @private\n     * @param {Function} func The function to convert.\n     * @returns {string} Returns the source code.\n     */\n    function toSource(func) {\n      if (func != null) {\n        try {\n          return funcToString.call(func);\n        } catch (e) {}\n        try {\n          return (func + '');\n        } catch (e) {}\n      }\n      return '';\n    }\n\n    /**\n     * Updates wrapper `details` based on `bitmask` flags.\n     *\n     * @private\n     * @returns {Array} details The details to modify.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @returns {Array} Returns `details`.\n     */\n    function updateWrapDetails(details, bitmask) {\n      arrayEach(wrapFlags, function(pair) {\n        var value = '_.' + pair[0];\n        if ((bitmask & pair[1]) && !arrayIncludes(details, value)) {\n          details.push(value);\n        }\n      });\n      return details.sort();\n    }\n\n    /**\n     * Creates a clone of `wrapper`.\n     *\n     * @private\n     * @param {Object} wrapper The wrapper to clone.\n     * @returns {Object} Returns the cloned wrapper.\n     */\n    function wrapperClone(wrapper) {\n      if (wrapper instanceof LazyWrapper) {\n        return wrapper.clone();\n      }\n      var result = new LodashWrapper(wrapper.__wrapped__, wrapper.__chain__);\n      result.__actions__ = copyArray(wrapper.__actions__);\n      result.__index__  = wrapper.__index__;\n      result.__values__ = wrapper.__values__;\n      return result;\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an array of elements split into groups the length of `size`.\n     * If `array` can't be split evenly, the final chunk will be the remaining\n     * elements.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to process.\n     * @param {number} [size=1] The length of each chunk\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the new array of chunks.\n     * @example\n     *\n     * _.chunk(['a', 'b', 'c', 'd'], 2);\n     * // => [['a', 'b'], ['c', 'd']]\n     *\n     * _.chunk(['a', 'b', 'c', 'd'], 3);\n     * // => [['a', 'b', 'c'], ['d']]\n     */\n    function chunk(array, size, guard) {\n      if ((guard ? isIterateeCall(array, size, guard) : size === undefined)) {\n        size = 1;\n      } else {\n        size = nativeMax(toInteger(size), 0);\n      }\n      var length = array == null ? 0 : array.length;\n      if (!length || size < 1) {\n        return [];\n      }\n      var index = 0,\n          resIndex = 0,\n          result = Array(nativeCeil(length / size));\n\n      while (index < length) {\n        result[resIndex++] = baseSlice(array, index, (index += size));\n      }\n      return result;\n    }\n\n    /**\n     * Creates an array with all falsey values removed. The values `false`, `null`,\n     * `0`, `\"\"`, `undefined`, and `NaN` are falsey.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to compact.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.compact([0, 1, false, 2, '', 3]);\n     * // => [1, 2, 3]\n     */\n    function compact(array) {\n      var index = -1,\n          length = array == null ? 0 : array.length,\n          resIndex = 0,\n          result = [];\n\n      while (++index < length) {\n        var value = array[index];\n        if (value) {\n          result[resIndex++] = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Creates a new array concatenating `array` with any additional arrays\n     * and/or values.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to concatenate.\n     * @param {...*} [values] The values to concatenate.\n     * @returns {Array} Returns the new concatenated array.\n     * @example\n     *\n     * var array = [1];\n     * var other = _.concat(array, 2, [3], [[4]]);\n     *\n     * console.log(other);\n     * // => [1, 2, 3, [4]]\n     *\n     * console.log(array);\n     * // => [1]\n     */\n    function concat() {\n      var length = arguments.length;\n      if (!length) {\n        return [];\n      }\n      var args = Array(length - 1),\n          array = arguments[0],\n          index = length;\n\n      while (index--) {\n        args[index - 1] = arguments[index];\n      }\n      return arrayPush(isArray(array) ? copyArray(array) : [array], baseFlatten(args, 1));\n    }\n\n    /**\n     * Creates an array of `array` values not included in the other given arrays\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons. The order and references of result values are\n     * determined by the first array.\n     *\n     * **Note:** Unlike `_.pullAll`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...Array} [values] The values to exclude.\n     * @returns {Array} Returns the new array of filtered values.\n     * @see _.without, _.xor\n     * @example\n     *\n     * _.difference([2, 1], [2, 3]);\n     * // => [1]\n     */\n    var difference = baseRest(function(array, values) {\n      return isArrayLikeObject(array)\n        ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true))\n        : [];\n    });\n\n    /**\n     * This method is like `_.difference` except that it accepts `iteratee` which\n     * is invoked for each element of `array` and `values` to generate the criterion\n     * by which they're compared. The order and references of result values are\n     * determined by the first array. The iteratee is invoked with one argument:\n     * (value).\n     *\n     * **Note:** Unlike `_.pullAllBy`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...Array} [values] The values to exclude.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.differenceBy([2.1, 1.2], [2.3, 3.4], Math.floor);\n     * // => [1.2]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.differenceBy([{ 'x': 2 }, { 'x': 1 }], [{ 'x': 1 }], 'x');\n     * // => [{ 'x': 2 }]\n     */\n    var differenceBy = baseRest(function(array, values) {\n      var iteratee = last(values);\n      if (isArrayLikeObject(iteratee)) {\n        iteratee = undefined;\n      }\n      return isArrayLikeObject(array)\n        ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true), getIteratee(iteratee, 2))\n        : [];\n    });\n\n    /**\n     * This method is like `_.difference` except that it accepts `comparator`\n     * which is invoked to compare elements of `array` to `values`. The order and\n     * references of result values are determined by the first array. The comparator\n     * is invoked with two arguments: (arrVal, othVal).\n     *\n     * **Note:** Unlike `_.pullAllWith`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...Array} [values] The values to exclude.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n     *\n     * _.differenceWith(objects, [{ 'x': 1, 'y': 2 }], _.isEqual);\n     * // => [{ 'x': 2, 'y': 1 }]\n     */\n    var differenceWith = baseRest(function(array, values) {\n      var comparator = last(values);\n      if (isArrayLikeObject(comparator)) {\n        comparator = undefined;\n      }\n      return isArrayLikeObject(array)\n        ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true), undefined, comparator)\n        : [];\n    });\n\n    /**\n     * Creates a slice of `array` with `n` elements dropped from the beginning.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.5.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to drop.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.drop([1, 2, 3]);\n     * // => [2, 3]\n     *\n     * _.drop([1, 2, 3], 2);\n     * // => [3]\n     *\n     * _.drop([1, 2, 3], 5);\n     * // => []\n     *\n     * _.drop([1, 2, 3], 0);\n     * // => [1, 2, 3]\n     */\n    function drop(array, n, guard) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      n = (guard || n === undefined) ? 1 : toInteger(n);\n      return baseSlice(array, n < 0 ? 0 : n, length);\n    }\n\n    /**\n     * Creates a slice of `array` with `n` elements dropped from the end.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to drop.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.dropRight([1, 2, 3]);\n     * // => [1, 2]\n     *\n     * _.dropRight([1, 2, 3], 2);\n     * // => [1]\n     *\n     * _.dropRight([1, 2, 3], 5);\n     * // => []\n     *\n     * _.dropRight([1, 2, 3], 0);\n     * // => [1, 2, 3]\n     */\n    function dropRight(array, n, guard) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      n = (guard || n === undefined) ? 1 : toInteger(n);\n      n = length - n;\n      return baseSlice(array, 0, n < 0 ? 0 : n);\n    }\n\n    /**\n     * Creates a slice of `array` excluding elements dropped from the end.\n     * Elements are dropped until `predicate` returns falsey. The predicate is\n     * invoked with three arguments: (value, index, array).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * _.dropRightWhile(users, function(o) { return !o.active; });\n     * // => objects for ['barney']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.dropRightWhile(users, { 'user': 'pebbles', 'active': false });\n     * // => objects for ['barney', 'fred']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.dropRightWhile(users, ['active', false]);\n     * // => objects for ['barney']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.dropRightWhile(users, 'active');\n     * // => objects for ['barney', 'fred', 'pebbles']\n     */\n    function dropRightWhile(array, predicate) {\n      return (array && array.length)\n        ? baseWhile(array, getIteratee(predicate, 3), true, true)\n        : [];\n    }\n\n    /**\n     * Creates a slice of `array` excluding elements dropped from the beginning.\n     * Elements are dropped until `predicate` returns falsey. The predicate is\n     * invoked with three arguments: (value, index, array).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * _.dropWhile(users, function(o) { return !o.active; });\n     * // => objects for ['pebbles']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.dropWhile(users, { 'user': 'barney', 'active': false });\n     * // => objects for ['fred', 'pebbles']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.dropWhile(users, ['active', false]);\n     * // => objects for ['pebbles']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.dropWhile(users, 'active');\n     * // => objects for ['barney', 'fred', 'pebbles']\n     */\n    function dropWhile(array, predicate) {\n      return (array && array.length)\n        ? baseWhile(array, getIteratee(predicate, 3), true)\n        : [];\n    }\n\n    /**\n     * Fills elements of `array` with `value` from `start` up to, but not\n     * including, `end`.\n     *\n     * **Note:** This method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.2.0\n     * @category Array\n     * @param {Array} array The array to fill.\n     * @param {*} value The value to fill `array` with.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [1, 2, 3];\n     *\n     * _.fill(array, 'a');\n     * console.log(array);\n     * // => ['a', 'a', 'a']\n     *\n     * _.fill(Array(3), 2);\n     * // => [2, 2, 2]\n     *\n     * _.fill([4, 6, 8, 10], '*', 1, 3);\n     * // => [4, '*', '*', 10]\n     */\n    function fill(array, value, start, end) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      if (start && typeof start != 'number' && isIterateeCall(array, value, start)) {\n        start = 0;\n        end = length;\n      }\n      return baseFill(array, value, start, end);\n    }\n\n    /**\n     * This method is like `_.find` except that it returns the index of the first\n     * element `predicate` returns truthy for instead of the element itself.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @returns {number} Returns the index of the found element, else `-1`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * _.findIndex(users, function(o) { return o.user == 'barney'; });\n     * // => 0\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.findIndex(users, { 'user': 'fred', 'active': false });\n     * // => 1\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.findIndex(users, ['active', false]);\n     * // => 0\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.findIndex(users, 'active');\n     * // => 2\n     */\n    function findIndex(array, predicate, fromIndex) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return -1;\n      }\n      var index = fromIndex == null ? 0 : toInteger(fromIndex);\n      if (index < 0) {\n        index = nativeMax(length + index, 0);\n      }\n      return baseFindIndex(array, getIteratee(predicate, 3), index);\n    }\n\n    /**\n     * This method is like `_.findIndex` except that it iterates over elements\n     * of `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param {number} [fromIndex=array.length-1] The index to search from.\n     * @returns {number} Returns the index of the found element, else `-1`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * _.findLastIndex(users, function(o) { return o.user == 'pebbles'; });\n     * // => 2\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.findLastIndex(users, { 'user': 'barney', 'active': true });\n     * // => 0\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.findLastIndex(users, ['active', false]);\n     * // => 2\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.findLastIndex(users, 'active');\n     * // => 0\n     */\n    function findLastIndex(array, predicate, fromIndex) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return -1;\n      }\n      var index = length - 1;\n      if (fromIndex !== undefined) {\n        index = toInteger(fromIndex);\n        index = fromIndex < 0\n          ? nativeMax(length + index, 0)\n          : nativeMin(index, length - 1);\n      }\n      return baseFindIndex(array, getIteratee(predicate, 3), index, true);\n    }\n\n    /**\n     * Flattens `array` a single level deep.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to flatten.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * _.flatten([1, [2, [3, [4]], 5]]);\n     * // => [1, 2, [3, [4]], 5]\n     */\n    function flatten(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? baseFlatten(array, 1) : [];\n    }\n\n    /**\n     * Recursively flattens `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to flatten.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * _.flattenDeep([1, [2, [3, [4]], 5]]);\n     * // => [1, 2, 3, 4, 5]\n     */\n    function flattenDeep(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? baseFlatten(array, INFINITY) : [];\n    }\n\n    /**\n     * Recursively flatten `array` up to `depth` times.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.4.0\n     * @category Array\n     * @param {Array} array The array to flatten.\n     * @param {number} [depth=1] The maximum recursion depth.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * var array = [1, [2, [3, [4]], 5]];\n     *\n     * _.flattenDepth(array, 1);\n     * // => [1, 2, [3, [4]], 5]\n     *\n     * _.flattenDepth(array, 2);\n     * // => [1, 2, 3, [4], 5]\n     */\n    function flattenDepth(array, depth) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      depth = depth === undefined ? 1 : toInteger(depth);\n      return baseFlatten(array, depth);\n    }\n\n    /**\n     * The inverse of `_.toPairs`; this method returns an object composed\n     * from key-value `pairs`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} pairs The key-value pairs.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * _.fromPairs([['a', 1], ['b', 2]]);\n     * // => { 'a': 1, 'b': 2 }\n     */\n    function fromPairs(pairs) {\n      var index = -1,\n          length = pairs == null ? 0 : pairs.length,\n          result = {};\n\n      while (++index < length) {\n        var pair = pairs[index];\n        result[pair[0]] = pair[1];\n      }\n      return result;\n    }\n\n    /**\n     * Gets the first element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @alias first\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {*} Returns the first element of `array`.\n     * @example\n     *\n     * _.head([1, 2, 3]);\n     * // => 1\n     *\n     * _.head([]);\n     * // => undefined\n     */\n    function head(array) {\n      return (array && array.length) ? array[0] : undefined;\n    }\n\n    /**\n     * Gets the index at which the first occurrence of `value` is found in `array`\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons. If `fromIndex` is negative, it's used as the\n     * offset from the end of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to search for.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.indexOf([1, 2, 1, 2], 2);\n     * // => 1\n     *\n     * // Search from the `fromIndex`.\n     * _.indexOf([1, 2, 1, 2], 2, 2);\n     * // => 3\n     */\n    function indexOf(array, value, fromIndex) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return -1;\n      }\n      var index = fromIndex == null ? 0 : toInteger(fromIndex);\n      if (index < 0) {\n        index = nativeMax(length + index, 0);\n      }\n      return baseIndexOf(array, value, index);\n    }\n\n    /**\n     * Gets all but the last element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.initial([1, 2, 3]);\n     * // => [1, 2]\n     */\n    function initial(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? baseSlice(array, 0, -1) : [];\n    }\n\n    /**\n     * Creates an array of unique values that are included in all given arrays\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons. The order and references of result values are\n     * determined by the first array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of intersecting values.\n     * @example\n     *\n     * _.intersection([2, 1], [2, 3]);\n     * // => [2]\n     */\n    var intersection = baseRest(function(arrays) {\n      var mapped = arrayMap(arrays, castArrayLikeObject);\n      return (mapped.length && mapped[0] === arrays[0])\n        ? baseIntersection(mapped)\n        : [];\n    });\n\n    /**\n     * This method is like `_.intersection` except that it accepts `iteratee`\n     * which is invoked for each element of each `arrays` to generate the criterion\n     * by which they're compared. The order and references of result values are\n     * determined by the first array. The iteratee is invoked with one argument:\n     * (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new array of intersecting values.\n     * @example\n     *\n     * _.intersectionBy([2.1, 1.2], [2.3, 3.4], Math.floor);\n     * // => [2.1]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.intersectionBy([{ 'x': 1 }], [{ 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 1 }]\n     */\n    var intersectionBy = baseRest(function(arrays) {\n      var iteratee = last(arrays),\n          mapped = arrayMap(arrays, castArrayLikeObject);\n\n      if (iteratee === last(mapped)) {\n        iteratee = undefined;\n      } else {\n        mapped.pop();\n      }\n      return (mapped.length && mapped[0] === arrays[0])\n        ? baseIntersection(mapped, getIteratee(iteratee, 2))\n        : [];\n    });\n\n    /**\n     * This method is like `_.intersection` except that it accepts `comparator`\n     * which is invoked to compare elements of `arrays`. The order and references\n     * of result values are determined by the first array. The comparator is\n     * invoked with two arguments: (arrVal, othVal).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of intersecting values.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n     * var others = [{ 'x': 1, 'y': 1 }, { 'x': 1, 'y': 2 }];\n     *\n     * _.intersectionWith(objects, others, _.isEqual);\n     * // => [{ 'x': 1, 'y': 2 }]\n     */\n    var intersectionWith = baseRest(function(arrays) {\n      var comparator = last(arrays),\n          mapped = arrayMap(arrays, castArrayLikeObject);\n\n      comparator = typeof comparator == 'function' ? comparator : undefined;\n      if (comparator) {\n        mapped.pop();\n      }\n      return (mapped.length && mapped[0] === arrays[0])\n        ? baseIntersection(mapped, undefined, comparator)\n        : [];\n    });\n\n    /**\n     * Converts all elements in `array` into a string separated by `separator`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to convert.\n     * @param {string} [separator=','] The element separator.\n     * @returns {string} Returns the joined string.\n     * @example\n     *\n     * _.join(['a', 'b', 'c'], '~');\n     * // => 'a~b~c'\n     */\n    function join(array, separator) {\n      return array == null ? '' : nativeJoin.call(array, separator);\n    }\n\n    /**\n     * Gets the last element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {*} Returns the last element of `array`.\n     * @example\n     *\n     * _.last([1, 2, 3]);\n     * // => 3\n     */\n    function last(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? array[length - 1] : undefined;\n    }\n\n    /**\n     * This method is like `_.indexOf` except that it iterates over elements of\n     * `array` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to search for.\n     * @param {number} [fromIndex=array.length-1] The index to search from.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.lastIndexOf([1, 2, 1, 2], 2);\n     * // => 3\n     *\n     * // Search from the `fromIndex`.\n     * _.lastIndexOf([1, 2, 1, 2], 2, 2);\n     * // => 1\n     */\n    function lastIndexOf(array, value, fromIndex) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return -1;\n      }\n      var index = length;\n      if (fromIndex !== undefined) {\n        index = toInteger(fromIndex);\n        index = index < 0 ? nativeMax(length + index, 0) : nativeMin(index, length - 1);\n      }\n      return value === value\n        ? strictLastIndexOf(array, value, index)\n        : baseFindIndex(array, baseIsNaN, index, true);\n    }\n\n    /**\n     * Gets the element at index `n` of `array`. If `n` is negative, the nth\n     * element from the end is returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.11.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=0] The index of the element to return.\n     * @returns {*} Returns the nth element of `array`.\n     * @example\n     *\n     * var array = ['a', 'b', 'c', 'd'];\n     *\n     * _.nth(array, 1);\n     * // => 'b'\n     *\n     * _.nth(array, -2);\n     * // => 'c';\n     */\n    function nth(array, n) {\n      return (array && array.length) ? baseNth(array, toInteger(n)) : undefined;\n    }\n\n    /**\n     * Removes all given values from `array` using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * **Note:** Unlike `_.without`, this method mutates `array`. Use `_.remove`\n     * to remove elements from an array by predicate.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {...*} [values] The values to remove.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = ['a', 'b', 'c', 'a', 'b', 'c'];\n     *\n     * _.pull(array, 'a', 'c');\n     * console.log(array);\n     * // => ['b', 'b']\n     */\n    var pull = baseRest(pullAll);\n\n    /**\n     * This method is like `_.pull` except that it accepts an array of values to remove.\n     *\n     * **Note:** Unlike `_.difference`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = ['a', 'b', 'c', 'a', 'b', 'c'];\n     *\n     * _.pullAll(array, ['a', 'c']);\n     * console.log(array);\n     * // => ['b', 'b']\n     */\n    function pullAll(array, values) {\n      return (array && array.length && values && values.length)\n        ? basePullAll(array, values)\n        : array;\n    }\n\n    /**\n     * This method is like `_.pullAll` except that it accepts `iteratee` which is\n     * invoked for each element of `array` and `values` to generate the criterion\n     * by which they're compared. The iteratee is invoked with one argument: (value).\n     *\n     * **Note:** Unlike `_.differenceBy`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [{ 'x': 1 }, { 'x': 2 }, { 'x': 3 }, { 'x': 1 }];\n     *\n     * _.pullAllBy(array, [{ 'x': 1 }, { 'x': 3 }], 'x');\n     * console.log(array);\n     * // => [{ 'x': 2 }]\n     */\n    function pullAllBy(array, values, iteratee) {\n      return (array && array.length && values && values.length)\n        ? basePullAll(array, values, getIteratee(iteratee, 2))\n        : array;\n    }\n\n    /**\n     * This method is like `_.pullAll` except that it accepts `comparator` which\n     * is invoked to compare elements of `array` to `values`. The comparator is\n     * invoked with two arguments: (arrVal, othVal).\n     *\n     * **Note:** Unlike `_.differenceWith`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.6.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [{ 'x': 1, 'y': 2 }, { 'x': 3, 'y': 4 }, { 'x': 5, 'y': 6 }];\n     *\n     * _.pullAllWith(array, [{ 'x': 3, 'y': 4 }], _.isEqual);\n     * console.log(array);\n     * // => [{ 'x': 1, 'y': 2 }, { 'x': 5, 'y': 6 }]\n     */\n    function pullAllWith(array, values, comparator) {\n      return (array && array.length && values && values.length)\n        ? basePullAll(array, values, undefined, comparator)\n        : array;\n    }\n\n    /**\n     * Removes elements from `array` corresponding to `indexes` and returns an\n     * array of removed elements.\n     *\n     * **Note:** Unlike `_.at`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {...(number|number[])} [indexes] The indexes of elements to remove.\n     * @returns {Array} Returns the new array of removed elements.\n     * @example\n     *\n     * var array = ['a', 'b', 'c', 'd'];\n     * var pulled = _.pullAt(array, [1, 3]);\n     *\n     * console.log(array);\n     * // => ['a', 'c']\n     *\n     * console.log(pulled);\n     * // => ['b', 'd']\n     */\n    var pullAt = flatRest(function(array, indexes) {\n      var length = array == null ? 0 : array.length,\n          result = baseAt(array, indexes);\n\n      basePullAt(array, arrayMap(indexes, function(index) {\n        return isIndex(index, length) ? +index : index;\n      }).sort(compareAscending));\n\n      return result;\n    });\n\n    /**\n     * Removes all elements from `array` that `predicate` returns truthy for\n     * and returns an array of the removed elements. The predicate is invoked\n     * with three arguments: (value, index, array).\n     *\n     * **Note:** Unlike `_.filter`, this method mutates `array`. Use `_.pull`\n     * to pull elements from an array by value.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new array of removed elements.\n     * @example\n     *\n     * var array = [1, 2, 3, 4];\n     * var evens = _.remove(array, function(n) {\n     *   return n % 2 == 0;\n     * });\n     *\n     * console.log(array);\n     * // => [1, 3]\n     *\n     * console.log(evens);\n     * // => [2, 4]\n     */\n    function remove(array, predicate) {\n      var result = [];\n      if (!(array && array.length)) {\n        return result;\n      }\n      var index = -1,\n          indexes = [],\n          length = array.length;\n\n      predicate = getIteratee(predicate, 3);\n      while (++index < length) {\n        var value = array[index];\n        if (predicate(value, index, array)) {\n          result.push(value);\n          indexes.push(index);\n        }\n      }\n      basePullAt(array, indexes);\n      return result;\n    }\n\n    /**\n     * Reverses `array` so that the first element becomes the last, the second\n     * element becomes the second to last, and so on.\n     *\n     * **Note:** This method mutates `array` and is based on\n     * [`Array#reverse`](https://mdn.io/Array/reverse).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [1, 2, 3];\n     *\n     * _.reverse(array);\n     * // => [3, 2, 1]\n     *\n     * console.log(array);\n     * // => [3, 2, 1]\n     */\n    function reverse(array) {\n      return array == null ? array : nativeReverse.call(array);\n    }\n\n    /**\n     * Creates a slice of `array` from `start` up to, but not including, `end`.\n     *\n     * **Note:** This method is used instead of\n     * [`Array#slice`](https://mdn.io/Array/slice) to ensure dense arrays are\n     * returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to slice.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns the slice of `array`.\n     */\n    function slice(array, start, end) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      if (end && typeof end != 'number' && isIterateeCall(array, start, end)) {\n        start = 0;\n        end = length;\n      }\n      else {\n        start = start == null ? 0 : toInteger(start);\n        end = end === undefined ? length : toInteger(end);\n      }\n      return baseSlice(array, start, end);\n    }\n\n    /**\n     * Uses a binary search to determine the lowest index at which `value`\n     * should be inserted into `array` in order to maintain its sort order.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * _.sortedIndex([30, 50], 40);\n     * // => 1\n     */\n    function sortedIndex(array, value) {\n      return baseSortedIndex(array, value);\n    }\n\n    /**\n     * This method is like `_.sortedIndex` except that it accepts `iteratee`\n     * which is invoked for `value` and each element of `array` to compute their\n     * sort ranking. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * var objects = [{ 'x': 4 }, { 'x': 5 }];\n     *\n     * _.sortedIndexBy(objects, { 'x': 4 }, function(o) { return o.x; });\n     * // => 0\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.sortedIndexBy(objects, { 'x': 4 }, 'x');\n     * // => 0\n     */\n    function sortedIndexBy(array, value, iteratee) {\n      return baseSortedIndexBy(array, value, getIteratee(iteratee, 2));\n    }\n\n    /**\n     * This method is like `_.indexOf` except that it performs a binary\n     * search on a sorted `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to search for.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.sortedIndexOf([4, 5, 5, 5, 6], 5);\n     * // => 1\n     */\n    function sortedIndexOf(array, value) {\n      var length = array == null ? 0 : array.length;\n      if (length) {\n        var index = baseSortedIndex(array, value);\n        if (index < length && eq(array[index], value)) {\n          return index;\n        }\n      }\n      return -1;\n    }\n\n    /**\n     * This method is like `_.sortedIndex` except that it returns the highest\n     * index at which `value` should be inserted into `array` in order to\n     * maintain its sort order.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * _.sortedLastIndex([4, 5, 5, 5, 6], 5);\n     * // => 4\n     */\n    function sortedLastIndex(array, value) {\n      return baseSortedIndex(array, value, true);\n    }\n\n    /**\n     * This method is like `_.sortedLastIndex` except that it accepts `iteratee`\n     * which is invoked for `value` and each element of `array` to compute their\n     * sort ranking. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * var objects = [{ 'x': 4 }, { 'x': 5 }];\n     *\n     * _.sortedLastIndexBy(objects, { 'x': 4 }, function(o) { return o.x; });\n     * // => 1\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.sortedLastIndexBy(objects, { 'x': 4 }, 'x');\n     * // => 1\n     */\n    function sortedLastIndexBy(array, value, iteratee) {\n      return baseSortedIndexBy(array, value, getIteratee(iteratee, 2), true);\n    }\n\n    /**\n     * This method is like `_.lastIndexOf` except that it performs a binary\n     * search on a sorted `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to search for.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.sortedLastIndexOf([4, 5, 5, 5, 6], 5);\n     * // => 3\n     */\n    function sortedLastIndexOf(array, value) {\n      var length = array == null ? 0 : array.length;\n      if (length) {\n        var index = baseSortedIndex(array, value, true) - 1;\n        if (eq(array[index], value)) {\n          return index;\n        }\n      }\n      return -1;\n    }\n\n    /**\n     * This method is like `_.uniq` except that it's designed and optimized\n     * for sorted arrays.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * _.sortedUniq([1, 1, 2]);\n     * // => [1, 2]\n     */\n    function sortedUniq(array) {\n      return (array && array.length)\n        ? baseSortedUniq(array)\n        : [];\n    }\n\n    /**\n     * This method is like `_.uniqBy` except that it's designed and optimized\n     * for sorted arrays.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * _.sortedUniqBy([1.1, 1.2, 2.3, 2.4], Math.floor);\n     * // => [1.1, 2.3]\n     */\n    function sortedUniqBy(array, iteratee) {\n      return (array && array.length)\n        ? baseSortedUniq(array, getIteratee(iteratee, 2))\n        : [];\n    }\n\n    /**\n     * Gets all but the first element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.tail([1, 2, 3]);\n     * // => [2, 3]\n     */\n    function tail(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? baseSlice(array, 1, length) : [];\n    }\n\n    /**\n     * Creates a slice of `array` with `n` elements taken from the beginning.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to take.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.take([1, 2, 3]);\n     * // => [1]\n     *\n     * _.take([1, 2, 3], 2);\n     * // => [1, 2]\n     *\n     * _.take([1, 2, 3], 5);\n     * // => [1, 2, 3]\n     *\n     * _.take([1, 2, 3], 0);\n     * // => []\n     */\n    function take(array, n, guard) {\n      if (!(array && array.length)) {\n        return [];\n      }\n      n = (guard || n === undefined) ? 1 : toInteger(n);\n      return baseSlice(array, 0, n < 0 ? 0 : n);\n    }\n\n    /**\n     * Creates a slice of `array` with `n` elements taken from the end.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to take.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.takeRight([1, 2, 3]);\n     * // => [3]\n     *\n     * _.takeRight([1, 2, 3], 2);\n     * // => [2, 3]\n     *\n     * _.takeRight([1, 2, 3], 5);\n     * // => [1, 2, 3]\n     *\n     * _.takeRight([1, 2, 3], 0);\n     * // => []\n     */\n    function takeRight(array, n, guard) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      n = (guard || n === undefined) ? 1 : toInteger(n);\n      n = length - n;\n      return baseSlice(array, n < 0 ? 0 : n, length);\n    }\n\n    /**\n     * Creates a slice of `array` with elements taken from the end. Elements are\n     * taken until `predicate` returns falsey. The predicate is invoked with\n     * three arguments: (value, index, array).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * _.takeRightWhile(users, function(o) { return !o.active; });\n     * // => objects for ['fred', 'pebbles']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.takeRightWhile(users, { 'user': 'pebbles', 'active': false });\n     * // => objects for ['pebbles']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.takeRightWhile(users, ['active', false]);\n     * // => objects for ['fred', 'pebbles']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.takeRightWhile(users, 'active');\n     * // => []\n     */\n    function takeRightWhile(array, predicate) {\n      return (array && array.length)\n        ? baseWhile(array, getIteratee(predicate, 3), false, true)\n        : [];\n    }\n\n    /**\n     * Creates a slice of `array` with elements taken from the beginning. Elements\n     * are taken until `predicate` returns falsey. The predicate is invoked with\n     * three arguments: (value, index, array).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * _.takeWhile(users, function(o) { return !o.active; });\n     * // => objects for ['barney', 'fred']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.takeWhile(users, { 'user': 'barney', 'active': false });\n     * // => objects for ['barney']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.takeWhile(users, ['active', false]);\n     * // => objects for ['barney', 'fred']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.takeWhile(users, 'active');\n     * // => []\n     */\n    function takeWhile(array, predicate) {\n      return (array && array.length)\n        ? baseWhile(array, getIteratee(predicate, 3))\n        : [];\n    }\n\n    /**\n     * Creates an array of unique values, in order, from all given arrays using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of combined values.\n     * @example\n     *\n     * _.union([2], [1, 2]);\n     * // => [2, 1]\n     */\n    var union = baseRest(function(arrays) {\n      return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true));\n    });\n\n    /**\n     * This method is like `_.union` except that it accepts `iteratee` which is\n     * invoked for each element of each `arrays` to generate the criterion by\n     * which uniqueness is computed. Result values are chosen from the first\n     * array in which the value occurs. The iteratee is invoked with one argument:\n     * (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new array of combined values.\n     * @example\n     *\n     * _.unionBy([2.1], [1.2, 2.3], Math.floor);\n     * // => [2.1, 1.2]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.unionBy([{ 'x': 1 }], [{ 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 1 }, { 'x': 2 }]\n     */\n    var unionBy = baseRest(function(arrays) {\n      var iteratee = last(arrays);\n      if (isArrayLikeObject(iteratee)) {\n        iteratee = undefined;\n      }\n      return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true), getIteratee(iteratee, 2));\n    });\n\n    /**\n     * This method is like `_.union` except that it accepts `comparator` which\n     * is invoked to compare elements of `arrays`. Result values are chosen from\n     * the first array in which the value occurs. The comparator is invoked\n     * with two arguments: (arrVal, othVal).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of combined values.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n     * var others = [{ 'x': 1, 'y': 1 }, { 'x': 1, 'y': 2 }];\n     *\n     * _.unionWith(objects, others, _.isEqual);\n     * // => [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }, { 'x': 1, 'y': 1 }]\n     */\n    var unionWith = baseRest(function(arrays) {\n      var comparator = last(arrays);\n      comparator = typeof comparator == 'function' ? comparator : undefined;\n      return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true), undefined, comparator);\n    });\n\n    /**\n     * Creates a duplicate-free version of an array, using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons, in which only the first occurrence of each element\n     * is kept. The order of result values is determined by the order they occur\n     * in the array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * _.uniq([2, 1, 2]);\n     * // => [2, 1]\n     */\n    function uniq(array) {\n      return (array && array.length) ? baseUniq(array) : [];\n    }\n\n    /**\n     * This method is like `_.uniq` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the criterion by which\n     * uniqueness is computed. The order of result values is determined by the\n     * order they occur in the array. The iteratee is invoked with one argument:\n     * (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * _.uniqBy([2.1, 1.2, 2.3], Math.floor);\n     * // => [2.1, 1.2]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.uniqBy([{ 'x': 1 }, { 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 1 }, { 'x': 2 }]\n     */\n    function uniqBy(array, iteratee) {\n      return (array && array.length) ? baseUniq(array, getIteratee(iteratee, 2)) : [];\n    }\n\n    /**\n     * This method is like `_.uniq` except that it accepts `comparator` which\n     * is invoked to compare elements of `array`. The order of result values is\n     * determined by the order they occur in the array.The comparator is invoked\n     * with two arguments: (arrVal, othVal).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }, { 'x': 1, 'y': 2 }];\n     *\n     * _.uniqWith(objects, _.isEqual);\n     * // => [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }]\n     */\n    function uniqWith(array, comparator) {\n      comparator = typeof comparator == 'function' ? comparator : undefined;\n      return (array && array.length) ? baseUniq(array, undefined, comparator) : [];\n    }\n\n    /**\n     * This method is like `_.zip` except that it accepts an array of grouped\n     * elements and creates an array regrouping the elements to their pre-zip\n     * configuration.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.2.0\n     * @category Array\n     * @param {Array} array The array of grouped elements to process.\n     * @returns {Array} Returns the new array of regrouped elements.\n     * @example\n     *\n     * var zipped = _.zip(['a', 'b'], [1, 2], [true, false]);\n     * // => [['a', 1, true], ['b', 2, false]]\n     *\n     * _.unzip(zipped);\n     * // => [['a', 'b'], [1, 2], [true, false]]\n     */\n    function unzip(array) {\n      if (!(array && array.length)) {\n        return [];\n      }\n      var length = 0;\n      array = arrayFilter(array, function(group) {\n        if (isArrayLikeObject(group)) {\n          length = nativeMax(group.length, length);\n          return true;\n        }\n      });\n      return baseTimes(length, function(index) {\n        return arrayMap(array, baseProperty(index));\n      });\n    }\n\n    /**\n     * This method is like `_.unzip` except that it accepts `iteratee` to specify\n     * how regrouped values should be combined. The iteratee is invoked with the\n     * elements of each group: (...group).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.8.0\n     * @category Array\n     * @param {Array} array The array of grouped elements to process.\n     * @param {Function} [iteratee=_.identity] The function to combine\n     *  regrouped values.\n     * @returns {Array} Returns the new array of regrouped elements.\n     * @example\n     *\n     * var zipped = _.zip([1, 2], [10, 20], [100, 200]);\n     * // => [[1, 10, 100], [2, 20, 200]]\n     *\n     * _.unzipWith(zipped, _.add);\n     * // => [3, 30, 300]\n     */\n    function unzipWith(array, iteratee) {\n      if (!(array && array.length)) {\n        return [];\n      }\n      var result = unzip(array);\n      if (iteratee == null) {\n        return result;\n      }\n      return arrayMap(result, function(group) {\n        return apply(iteratee, undefined, group);\n      });\n    }\n\n    /**\n     * Creates an array excluding all given values using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * **Note:** Unlike `_.pull`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...*} [values] The values to exclude.\n     * @returns {Array} Returns the new array of filtered values.\n     * @see _.difference, _.xor\n     * @example\n     *\n     * _.without([2, 1, 2, 3], 1, 2);\n     * // => [3]\n     */\n    var without = baseRest(function(array, values) {\n      return isArrayLikeObject(array)\n        ? baseDifference(array, values)\n        : [];\n    });\n\n    /**\n     * Creates an array of unique values that is the\n     * [symmetric difference](https://en.wikipedia.org/wiki/Symmetric_difference)\n     * of the given arrays. The order of result values is determined by the order\n     * they occur in the arrays.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of filtered values.\n     * @see _.difference, _.without\n     * @example\n     *\n     * _.xor([2, 1], [2, 3]);\n     * // => [1, 3]\n     */\n    var xor = baseRest(function(arrays) {\n      return baseXor(arrayFilter(arrays, isArrayLikeObject));\n    });\n\n    /**\n     * This method is like `_.xor` except that it accepts `iteratee` which is\n     * invoked for each element of each `arrays` to generate the criterion by\n     * which by which they're compared. The order of result values is determined\n     * by the order they occur in the arrays. The iteratee is invoked with one\n     * argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.xorBy([2.1, 1.2], [2.3, 3.4], Math.floor);\n     * // => [1.2, 3.4]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.xorBy([{ 'x': 1 }], [{ 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 2 }]\n     */\n    var xorBy = baseRest(function(arrays) {\n      var iteratee = last(arrays);\n      if (isArrayLikeObject(iteratee)) {\n        iteratee = undefined;\n      }\n      return baseXor(arrayFilter(arrays, isArrayLikeObject), getIteratee(iteratee, 2));\n    });\n\n    /**\n     * This method is like `_.xor` except that it accepts `comparator` which is\n     * invoked to compare elements of `arrays`. The order of result values is\n     * determined by the order they occur in the arrays. The comparator is invoked\n     * with two arguments: (arrVal, othVal).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n     * var others = [{ 'x': 1, 'y': 1 }, { 'x': 1, 'y': 2 }];\n     *\n     * _.xorWith(objects, others, _.isEqual);\n     * // => [{ 'x': 2, 'y': 1 }, { 'x': 1, 'y': 1 }]\n     */\n    var xorWith = baseRest(function(arrays) {\n      var comparator = last(arrays);\n      comparator = typeof comparator == 'function' ? comparator : undefined;\n      return baseXor(arrayFilter(arrays, isArrayLikeObject), undefined, comparator);\n    });\n\n    /**\n     * Creates an array of grouped elements, the first of which contains the\n     * first elements of the given arrays, the second of which contains the\n     * second elements of the given arrays, and so on.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to process.\n     * @returns {Array} Returns the new array of grouped elements.\n     * @example\n     *\n     * _.zip(['a', 'b'], [1, 2], [true, false]);\n     * // => [['a', 1, true], ['b', 2, false]]\n     */\n    var zip = baseRest(unzip);\n\n    /**\n     * This method is like `_.fromPairs` except that it accepts two arrays,\n     * one of property identifiers and one of corresponding values.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.4.0\n     * @category Array\n     * @param {Array} [props=[]] The property identifiers.\n     * @param {Array} [values=[]] The property values.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * _.zipObject(['a', 'b'], [1, 2]);\n     * // => { 'a': 1, 'b': 2 }\n     */\n    function zipObject(props, values) {\n      return baseZipObject(props || [], values || [], assignValue);\n    }\n\n    /**\n     * This method is like `_.zipObject` except that it supports property paths.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.1.0\n     * @category Array\n     * @param {Array} [props=[]] The property identifiers.\n     * @param {Array} [values=[]] The property values.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * _.zipObjectDeep(['a.b[0].c', 'a.b[1].d'], [1, 2]);\n     * // => { 'a': { 'b': [{ 'c': 1 }, { 'd': 2 }] } }\n     */\n    function zipObjectDeep(props, values) {\n      return baseZipObject(props || [], values || [], baseSet);\n    }\n\n    /**\n     * This method is like `_.zip` except that it accepts `iteratee` to specify\n     * how grouped values should be combined. The iteratee is invoked with the\n     * elements of each group: (...group).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.8.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to process.\n     * @param {Function} [iteratee=_.identity] The function to combine\n     *  grouped values.\n     * @returns {Array} Returns the new array of grouped elements.\n     * @example\n     *\n     * _.zipWith([1, 2], [10, 20], [100, 200], function(a, b, c) {\n     *   return a + b + c;\n     * });\n     * // => [111, 222]\n     */\n    var zipWith = baseRest(function(arrays) {\n      var length = arrays.length,\n          iteratee = length > 1 ? arrays[length - 1] : undefined;\n\n      iteratee = typeof iteratee == 'function' ? (arrays.pop(), iteratee) : undefined;\n      return unzipWith(arrays, iteratee);\n    });\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a `lodash` wrapper instance that wraps `value` with explicit method\n     * chain sequences enabled. The result of such sequences must be unwrapped\n     * with `_#value`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.3.0\n     * @category Seq\n     * @param {*} value The value to wrap.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36 },\n     *   { 'user': 'fred',    'age': 40 },\n     *   { 'user': 'pebbles', 'age': 1 }\n     * ];\n     *\n     * var youngest = _\n     *   .chain(users)\n     *   .sortBy('age')\n     *   .map(function(o) {\n     *     return o.user + ' is ' + o.age;\n     *   })\n     *   .head()\n     *   .value();\n     * // => 'pebbles is 1'\n     */\n    function chain(value) {\n      var result = lodash(value);\n      result.__chain__ = true;\n      return result;\n    }\n\n    /**\n     * This method invokes `interceptor` and returns `value`. The interceptor\n     * is invoked with one argument; (value). The purpose of this method is to\n     * \"tap into\" a method chain sequence in order to modify intermediate results.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Seq\n     * @param {*} value The value to provide to `interceptor`.\n     * @param {Function} interceptor The function to invoke.\n     * @returns {*} Returns `value`.\n     * @example\n     *\n     * _([1, 2, 3])\n     *  .tap(function(array) {\n     *    // Mutate input array.\n     *    array.pop();\n     *  })\n     *  .reverse()\n     *  .value();\n     * // => [2, 1]\n     */\n    function tap(value, interceptor) {\n      interceptor(value);\n      return value;\n    }\n\n    /**\n     * This method is like `_.tap` except that it returns the result of `interceptor`.\n     * The purpose of this method is to \"pass thru\" values replacing intermediate\n     * results in a method chain sequence.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Seq\n     * @param {*} value The value to provide to `interceptor`.\n     * @param {Function} interceptor The function to invoke.\n     * @returns {*} Returns the result of `interceptor`.\n     * @example\n     *\n     * _('  abc  ')\n     *  .chain()\n     *  .trim()\n     *  .thru(function(value) {\n     *    return [value];\n     *  })\n     *  .value();\n     * // => ['abc']\n     */\n    function thru(value, interceptor) {\n      return interceptor(value);\n    }\n\n    /**\n     * This method is the wrapper version of `_.at`.\n     *\n     * @name at\n     * @memberOf _\n     * @since 1.0.0\n     * @category Seq\n     * @param {...(string|string[])} [paths] The property paths to pick.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }, 4] };\n     *\n     * _(object).at(['a[0].b.c', 'a[1]']).value();\n     * // => [3, 4]\n     */\n    var wrapperAt = flatRest(function(paths) {\n      var length = paths.length,\n          start = length ? paths[0] : 0,\n          value = this.__wrapped__,\n          interceptor = function(object) { return baseAt(object, paths); };\n\n      if (length > 1 || this.__actions__.length ||\n          !(value instanceof LazyWrapper) || !isIndex(start)) {\n        return this.thru(interceptor);\n      }\n      value = value.slice(start, +start + (length ? 1 : 0));\n      value.__actions__.push({\n        'func': thru,\n        'args': [interceptor],\n        'thisArg': undefined\n      });\n      return new LodashWrapper(value, this.__chain__).thru(function(array) {\n        if (length && !array.length) {\n          array.push(undefined);\n        }\n        return array;\n      });\n    });\n\n    /**\n     * Creates a `lodash` wrapper instance with explicit method chain sequences enabled.\n     *\n     * @name chain\n     * @memberOf _\n     * @since 0.1.0\n     * @category Seq\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 40 }\n     * ];\n     *\n     * // A sequence without explicit chaining.\n     * _(users).head();\n     * // => { 'user': 'barney', 'age': 36 }\n     *\n     * // A sequence with explicit chaining.\n     * _(users)\n     *   .chain()\n     *   .head()\n     *   .pick('user')\n     *   .value();\n     * // => { 'user': 'barney' }\n     */\n    function wrapperChain() {\n      return chain(this);\n    }\n\n    /**\n     * Executes the chain sequence and returns the wrapped result.\n     *\n     * @name commit\n     * @memberOf _\n     * @since 3.2.0\n     * @category Seq\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var array = [1, 2];\n     * var wrapped = _(array).push(3);\n     *\n     * console.log(array);\n     * // => [1, 2]\n     *\n     * wrapped = wrapped.commit();\n     * console.log(array);\n     * // => [1, 2, 3]\n     *\n     * wrapped.last();\n     * // => 3\n     *\n     * console.log(array);\n     * // => [1, 2, 3]\n     */\n    function wrapperCommit() {\n      return new LodashWrapper(this.value(), this.__chain__);\n    }\n\n    /**\n     * Gets the next value on a wrapped object following the\n     * [iterator protocol](https://mdn.io/iteration_protocols#iterator).\n     *\n     * @name next\n     * @memberOf _\n     * @since 4.0.0\n     * @category Seq\n     * @returns {Object} Returns the next iterator value.\n     * @example\n     *\n     * var wrapped = _([1, 2]);\n     *\n     * wrapped.next();\n     * // => { 'done': false, 'value': 1 }\n     *\n     * wrapped.next();\n     * // => { 'done': false, 'value': 2 }\n     *\n     * wrapped.next();\n     * // => { 'done': true, 'value': undefined }\n     */\n    function wrapperNext() {\n      if (this.__values__ === undefined) {\n        this.__values__ = toArray(this.value());\n      }\n      var done = this.__index__ >= this.__values__.length,\n          value = done ? undefined : this.__values__[this.__index__++];\n\n      return { 'done': done, 'value': value };\n    }\n\n    /**\n     * Enables the wrapper to be iterable.\n     *\n     * @name Symbol.iterator\n     * @memberOf _\n     * @since 4.0.0\n     * @category Seq\n     * @returns {Object} Returns the wrapper object.\n     * @example\n     *\n     * var wrapped = _([1, 2]);\n     *\n     * wrapped[Symbol.iterator]() === wrapped;\n     * // => true\n     *\n     * Array.from(wrapped);\n     * // => [1, 2]\n     */\n    function wrapperToIterator() {\n      return this;\n    }\n\n    /**\n     * Creates a clone of the chain sequence planting `value` as the wrapped value.\n     *\n     * @name plant\n     * @memberOf _\n     * @since 3.2.0\n     * @category Seq\n     * @param {*} value The value to plant.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var wrapped = _([1, 2]).map(square);\n     * var other = wrapped.plant([3, 4]);\n     *\n     * other.value();\n     * // => [9, 16]\n     *\n     * wrapped.value();\n     * // => [1, 4]\n     */\n    function wrapperPlant(value) {\n      var result,\n          parent = this;\n\n      while (parent instanceof baseLodash) {\n        var clone = wrapperClone(parent);\n        clone.__index__ = 0;\n        clone.__values__ = undefined;\n        if (result) {\n          previous.__wrapped__ = clone;\n        } else {\n          result = clone;\n        }\n        var previous = clone;\n        parent = parent.__wrapped__;\n      }\n      previous.__wrapped__ = value;\n      return result;\n    }\n\n    /**\n     * This method is the wrapper version of `_.reverse`.\n     *\n     * **Note:** This method mutates the wrapped array.\n     *\n     * @name reverse\n     * @memberOf _\n     * @since 0.1.0\n     * @category Seq\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var array = [1, 2, 3];\n     *\n     * _(array).reverse().value()\n     * // => [3, 2, 1]\n     *\n     * console.log(array);\n     * // => [3, 2, 1]\n     */\n    function wrapperReverse() {\n      var value = this.__wrapped__;\n      if (value instanceof LazyWrapper) {\n        var wrapped = value;\n        if (this.__actions__.length) {\n          wrapped = new LazyWrapper(this);\n        }\n        wrapped = wrapped.reverse();\n        wrapped.__actions__.push({\n          'func': thru,\n          'args': [reverse],\n          'thisArg': undefined\n        });\n        return new LodashWrapper(wrapped, this.__chain__);\n      }\n      return this.thru(reverse);\n    }\n\n    /**\n     * Executes the chain sequence to resolve the unwrapped value.\n     *\n     * @name value\n     * @memberOf _\n     * @since 0.1.0\n     * @alias toJSON, valueOf\n     * @category Seq\n     * @returns {*} Returns the resolved unwrapped value.\n     * @example\n     *\n     * _([1, 2, 3]).value();\n     * // => [1, 2, 3]\n     */\n    function wrapperValue() {\n      return baseWrapperValue(this.__wrapped__, this.__actions__);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` thru `iteratee`. The corresponding value of\n     * each key is the number of times the key was returned by `iteratee`. The\n     * iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.5.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * _.countBy([6.1, 4.2, 6.3], Math.floor);\n     * // => { '4': 1, '6': 2 }\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.countBy(['one', 'two', 'three'], 'length');\n     * // => { '3': 2, '5': 1 }\n     */\n    var countBy = createAggregator(function(result, value, key) {\n      if (hasOwnProperty.call(result, key)) {\n        ++result[key];\n      } else {\n        baseAssignValue(result, key, 1);\n      }\n    });\n\n    /**\n     * Checks if `predicate` returns truthy for **all** elements of `collection`.\n     * Iteration is stopped once `predicate` returns falsey. The predicate is\n     * invoked with three arguments: (value, index|key, collection).\n     *\n     * **Note:** This method returns `true` for\n     * [empty collections](https://en.wikipedia.org/wiki/Empty_set) because\n     * [everything is true](https://en.wikipedia.org/wiki/Vacuous_truth) of\n     * elements of empty collections.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {boolean} Returns `true` if all elements pass the predicate check,\n     *  else `false`.\n     * @example\n     *\n     * _.every([true, 1, null, 'yes'], Boolean);\n     * // => false\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': false },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.every(users, { 'user': 'barney', 'active': false });\n     * // => false\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.every(users, ['active', false]);\n     * // => true\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.every(users, 'active');\n     * // => false\n     */\n    function every(collection, predicate, guard) {\n      var func = isArray(collection) ? arrayEvery : baseEvery;\n      if (guard && isIterateeCall(collection, predicate, guard)) {\n        predicate = undefined;\n      }\n      return func(collection, getIteratee(predicate, 3));\n    }\n\n    /**\n     * Iterates over elements of `collection`, returning an array of all elements\n     * `predicate` returns truthy for. The predicate is invoked with three\n     * arguments: (value, index|key, collection).\n     *\n     * **Note:** Unlike `_.remove`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new filtered array.\n     * @see _.reject\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': true },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * _.filter(users, function(o) { return !o.active; });\n     * // => objects for ['fred']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.filter(users, { 'age': 36, 'active': true });\n     * // => objects for ['barney']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.filter(users, ['active', false]);\n     * // => objects for ['fred']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.filter(users, 'active');\n     * // => objects for ['barney']\n     *\n     * // Combining several predicates using `_.overEvery` or `_.overSome`.\n     * _.filter(users, _.overSome([{ 'age': 36 }, ['age', 40]]));\n     * // => objects for ['fred', 'barney']\n     */\n    function filter(collection, predicate) {\n      var func = isArray(collection) ? arrayFilter : baseFilter;\n      return func(collection, getIteratee(predicate, 3));\n    }\n\n    /**\n     * Iterates over elements of `collection`, returning the first element\n     * `predicate` returns truthy for. The predicate is invoked with three\n     * arguments: (value, index|key, collection).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @returns {*} Returns the matched element, else `undefined`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36, 'active': true },\n     *   { 'user': 'fred',    'age': 40, 'active': false },\n     *   { 'user': 'pebbles', 'age': 1,  'active': true }\n     * ];\n     *\n     * _.find(users, function(o) { return o.age < 40; });\n     * // => object for 'barney'\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.find(users, { 'age': 1, 'active': true });\n     * // => object for 'pebbles'\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.find(users, ['active', false]);\n     * // => object for 'fred'\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.find(users, 'active');\n     * // => object for 'barney'\n     */\n    var find = createFind(findIndex);\n\n    /**\n     * This method is like `_.find` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param {number} [fromIndex=collection.length-1] The index to search from.\n     * @returns {*} Returns the matched element, else `undefined`.\n     * @example\n     *\n     * _.findLast([1, 2, 3, 4], function(n) {\n     *   return n % 2 == 1;\n     * });\n     * // => 3\n     */\n    var findLast = createFind(findLastIndex);\n\n    /**\n     * Creates a flattened array of values by running each element in `collection`\n     * thru `iteratee` and flattening the mapped results. The iteratee is invoked\n     * with three arguments: (value, index|key, collection).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * function duplicate(n) {\n     *   return [n, n];\n     * }\n     *\n     * _.flatMap([1, 2], duplicate);\n     * // => [1, 1, 2, 2]\n     */\n    function flatMap(collection, iteratee) {\n      return baseFlatten(map(collection, iteratee), 1);\n    }\n\n    /**\n     * This method is like `_.flatMap` except that it recursively flattens the\n     * mapped results.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * function duplicate(n) {\n     *   return [[[n, n]]];\n     * }\n     *\n     * _.flatMapDeep([1, 2], duplicate);\n     * // => [1, 1, 2, 2]\n     */\n    function flatMapDeep(collection, iteratee) {\n      return baseFlatten(map(collection, iteratee), INFINITY);\n    }\n\n    /**\n     * This method is like `_.flatMap` except that it recursively flattens the\n     * mapped results up to `depth` times.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {number} [depth=1] The maximum recursion depth.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * function duplicate(n) {\n     *   return [[[n, n]]];\n     * }\n     *\n     * _.flatMapDepth([1, 2], duplicate, 2);\n     * // => [[1, 1], [2, 2]]\n     */\n    function flatMapDepth(collection, iteratee, depth) {\n      depth = depth === undefined ? 1 : toInteger(depth);\n      return baseFlatten(map(collection, iteratee), depth);\n    }\n\n    /**\n     * Iterates over elements of `collection` and invokes `iteratee` for each element.\n     * The iteratee is invoked with three arguments: (value, index|key, collection).\n     * Iteratee functions may exit iteration early by explicitly returning `false`.\n     *\n     * **Note:** As with other \"Collections\" methods, objects with a \"length\"\n     * property are iterated like arrays. To avoid this behavior use `_.forIn`\n     * or `_.forOwn` for object iteration.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @alias each\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     * @see _.forEachRight\n     * @example\n     *\n     * _.forEach([1, 2], function(value) {\n     *   console.log(value);\n     * });\n     * // => Logs `1` then `2`.\n     *\n     * _.forEach({ 'a': 1, 'b': 2 }, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'a' then 'b' (iteration order is not guaranteed).\n     */\n    function forEach(collection, iteratee) {\n      var func = isArray(collection) ? arrayEach : baseEach;\n      return func(collection, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * This method is like `_.forEach` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @alias eachRight\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     * @see _.forEach\n     * @example\n     *\n     * _.forEachRight([1, 2], function(value) {\n     *   console.log(value);\n     * });\n     * // => Logs `2` then `1`.\n     */\n    function forEachRight(collection, iteratee) {\n      var func = isArray(collection) ? arrayEachRight : baseEachRight;\n      return func(collection, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` thru `iteratee`. The order of grouped values\n     * is determined by the order they occur in `collection`. The corresponding\n     * value of each key is an array of elements responsible for generating the\n     * key. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * _.groupBy([6.1, 4.2, 6.3], Math.floor);\n     * // => { '4': [4.2], '6': [6.1, 6.3] }\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.groupBy(['one', 'two', 'three'], 'length');\n     * // => { '3': ['one', 'two'], '5': ['three'] }\n     */\n    var groupBy = createAggregator(function(result, value, key) {\n      if (hasOwnProperty.call(result, key)) {\n        result[key].push(value);\n      } else {\n        baseAssignValue(result, key, [value]);\n      }\n    });\n\n    /**\n     * Checks if `value` is in `collection`. If `collection` is a string, it's\n     * checked for a substring of `value`, otherwise\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * is used for equality comparisons. If `fromIndex` is negative, it's used as\n     * the offset from the end of `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to inspect.\n     * @param {*} value The value to search for.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.reduce`.\n     * @returns {boolean} Returns `true` if `value` is found, else `false`.\n     * @example\n     *\n     * _.includes([1, 2, 3], 1);\n     * // => true\n     *\n     * _.includes([1, 2, 3], 1, 2);\n     * // => false\n     *\n     * _.includes({ 'a': 1, 'b': 2 }, 1);\n     * // => true\n     *\n     * _.includes('abcd', 'bc');\n     * // => true\n     */\n    function includes(collection, value, fromIndex, guard) {\n      collection = isArrayLike(collection) ? collection : values(collection);\n      fromIndex = (fromIndex && !guard) ? toInteger(fromIndex) : 0;\n\n      var length = collection.length;\n      if (fromIndex < 0) {\n        fromIndex = nativeMax(length + fromIndex, 0);\n      }\n      return isString(collection)\n        ? (fromIndex <= length && collection.indexOf(value, fromIndex) > -1)\n        : (!!length && baseIndexOf(collection, value, fromIndex) > -1);\n    }\n\n    /**\n     * Invokes the method at `path` of each element in `collection`, returning\n     * an array of the results of each invoked method. Any additional arguments\n     * are provided to each invoked method. If `path` is a function, it's invoked\n     * for, and `this` bound to, each element in `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Array|Function|string} path The path of the method to invoke or\n     *  the function invoked per iteration.\n     * @param {...*} [args] The arguments to invoke each method with.\n     * @returns {Array} Returns the array of results.\n     * @example\n     *\n     * _.invokeMap([[5, 1, 7], [3, 2, 1]], 'sort');\n     * // => [[1, 5, 7], [1, 2, 3]]\n     *\n     * _.invokeMap([123, 456], String.prototype.split, '');\n     * // => [['1', '2', '3'], ['4', '5', '6']]\n     */\n    var invokeMap = baseRest(function(collection, path, args) {\n      var index = -1,\n          isFunc = typeof path == 'function',\n          result = isArrayLike(collection) ? Array(collection.length) : [];\n\n      baseEach(collection, function(value) {\n        result[++index] = isFunc ? apply(path, value, args) : baseInvoke(value, path, args);\n      });\n      return result;\n    });\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` thru `iteratee`. The corresponding value of\n     * each key is the last element responsible for generating the key. The\n     * iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * var array = [\n     *   { 'dir': 'left', 'code': 97 },\n     *   { 'dir': 'right', 'code': 100 }\n     * ];\n     *\n     * _.keyBy(array, function(o) {\n     *   return String.fromCharCode(o.code);\n     * });\n     * // => { 'a': { 'dir': 'left', 'code': 97 }, 'd': { 'dir': 'right', 'code': 100 } }\n     *\n     * _.keyBy(array, 'dir');\n     * // => { 'left': { 'dir': 'left', 'code': 97 }, 'right': { 'dir': 'right', 'code': 100 } }\n     */\n    var keyBy = createAggregator(function(result, value, key) {\n      baseAssignValue(result, key, value);\n    });\n\n    /**\n     * Creates an array of values by running each element in `collection` thru\n     * `iteratee`. The iteratee is invoked with three arguments:\n     * (value, index|key, collection).\n     *\n     * Many lodash methods are guarded to work as iteratees for methods like\n     * `_.every`, `_.filter`, `_.map`, `_.mapValues`, `_.reject`, and `_.some`.\n     *\n     * The guarded methods are:\n     * `ary`, `chunk`, `curry`, `curryRight`, `drop`, `dropRight`, `every`,\n     * `fill`, `invert`, `parseInt`, `random`, `range`, `rangeRight`, `repeat`,\n     * `sampleSize`, `slice`, `some`, `sortBy`, `split`, `take`, `takeRight`,\n     * `template`, `trim`, `trimEnd`, `trimStart`, and `words`\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new mapped array.\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * _.map([4, 8], square);\n     * // => [16, 64]\n     *\n     * _.map({ 'a': 4, 'b': 8 }, square);\n     * // => [16, 64] (iteration order is not guaranteed)\n     *\n     * var users = [\n     *   { 'user': 'barney' },\n     *   { 'user': 'fred' }\n     * ];\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.map(users, 'user');\n     * // => ['barney', 'fred']\n     */\n    function map(collection, iteratee) {\n      var func = isArray(collection) ? arrayMap : baseMap;\n      return func(collection, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * This method is like `_.sortBy` except that it allows specifying the sort\n     * orders of the iteratees to sort by. If `orders` is unspecified, all values\n     * are sorted in ascending order. Otherwise, specify an order of \"desc\" for\n     * descending or \"asc\" for ascending sort order of corresponding values.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Array[]|Function[]|Object[]|string[]} [iteratees=[_.identity]]\n     *  The iteratees to sort by.\n     * @param {string[]} [orders] The sort orders of `iteratees`.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.reduce`.\n     * @returns {Array} Returns the new sorted array.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'fred',   'age': 48 },\n     *   { 'user': 'barney', 'age': 34 },\n     *   { 'user': 'fred',   'age': 40 },\n     *   { 'user': 'barney', 'age': 36 }\n     * ];\n     *\n     * // Sort by `user` in ascending order and by `age` in descending order.\n     * _.orderBy(users, ['user', 'age'], ['asc', 'desc']);\n     * // => objects for [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 40]]\n     */\n    function orderBy(collection, iteratees, orders, guard) {\n      if (collection == null) {\n        return [];\n      }\n      if (!isArray(iteratees)) {\n        iteratees = iteratees == null ? [] : [iteratees];\n      }\n      orders = guard ? undefined : orders;\n      if (!isArray(orders)) {\n        orders = orders == null ? [] : [orders];\n      }\n      return baseOrderBy(collection, iteratees, orders);\n    }\n\n    /**\n     * Creates an array of elements split into two groups, the first of which\n     * contains elements `predicate` returns truthy for, the second of which\n     * contains elements `predicate` returns falsey for. The predicate is\n     * invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the array of grouped elements.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36, 'active': false },\n     *   { 'user': 'fred',    'age': 40, 'active': true },\n     *   { 'user': 'pebbles', 'age': 1,  'active': false }\n     * ];\n     *\n     * _.partition(users, function(o) { return o.active; });\n     * // => objects for [['fred'], ['barney', 'pebbles']]\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.partition(users, { 'age': 1, 'active': false });\n     * // => objects for [['pebbles'], ['barney', 'fred']]\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.partition(users, ['active', false]);\n     * // => objects for [['barney', 'pebbles'], ['fred']]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.partition(users, 'active');\n     * // => objects for [['fred'], ['barney', 'pebbles']]\n     */\n    var partition = createAggregator(function(result, value, key) {\n      result[key ? 0 : 1].push(value);\n    }, function() { return [[], []]; });\n\n    /**\n     * Reduces `collection` to a value which is the accumulated result of running\n     * each element in `collection` thru `iteratee`, where each successive\n     * invocation is supplied the return value of the previous. If `accumulator`\n     * is not given, the first element of `collection` is used as the initial\n     * value. The iteratee is invoked with four arguments:\n     * (accumulator, value, index|key, collection).\n     *\n     * Many lodash methods are guarded to work as iteratees for methods like\n     * `_.reduce`, `_.reduceRight`, and `_.transform`.\n     *\n     * The guarded methods are:\n     * `assign`, `defaults`, `defaultsDeep`, `includes`, `merge`, `orderBy`,\n     * and `sortBy`\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The initial value.\n     * @returns {*} Returns the accumulated value.\n     * @see _.reduceRight\n     * @example\n     *\n     * _.reduce([1, 2], function(sum, n) {\n     *   return sum + n;\n     * }, 0);\n     * // => 3\n     *\n     * _.reduce({ 'a': 1, 'b': 2, 'c': 1 }, function(result, value, key) {\n     *   (result[value] || (result[value] = [])).push(key);\n     *   return result;\n     * }, {});\n     * // => { '1': ['a', 'c'], '2': ['b'] } (iteration order is not guaranteed)\n     */\n    function reduce(collection, iteratee, accumulator) {\n      var func = isArray(collection) ? arrayReduce : baseReduce,\n          initAccum = arguments.length < 3;\n\n      return func(collection, getIteratee(iteratee, 4), accumulator, initAccum, baseEach);\n    }\n\n    /**\n     * This method is like `_.reduce` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The initial value.\n     * @returns {*} Returns the accumulated value.\n     * @see _.reduce\n     * @example\n     *\n     * var array = [[0, 1], [2, 3], [4, 5]];\n     *\n     * _.reduceRight(array, function(flattened, other) {\n     *   return flattened.concat(other);\n     * }, []);\n     * // => [4, 5, 2, 3, 0, 1]\n     */\n    function reduceRight(collection, iteratee, accumulator) {\n      var func = isArray(collection) ? arrayReduceRight : baseReduce,\n          initAccum = arguments.length < 3;\n\n      return func(collection, getIteratee(iteratee, 4), accumulator, initAccum, baseEachRight);\n    }\n\n    /**\n     * The opposite of `_.filter`; this method returns the elements of `collection`\n     * that `predicate` does **not** return truthy for.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new filtered array.\n     * @see _.filter\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': false },\n     *   { 'user': 'fred',   'age': 40, 'active': true }\n     * ];\n     *\n     * _.reject(users, function(o) { return !o.active; });\n     * // => objects for ['fred']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.reject(users, { 'age': 40, 'active': true });\n     * // => objects for ['barney']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.reject(users, ['active', false]);\n     * // => objects for ['fred']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.reject(users, 'active');\n     * // => objects for ['barney']\n     */\n    function reject(collection, predicate) {\n      var func = isArray(collection) ? arrayFilter : baseFilter;\n      return func(collection, negate(getIteratee(predicate, 3)));\n    }\n\n    /**\n     * Gets a random element from `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to sample.\n     * @returns {*} Returns the random element.\n     * @example\n     *\n     * _.sample([1, 2, 3, 4]);\n     * // => 2\n     */\n    function sample(collection) {\n      var func = isArray(collection) ? arraySample : baseSample;\n      return func(collection);\n    }\n\n    /**\n     * Gets `n` random elements at unique keys from `collection` up to the\n     * size of `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to sample.\n     * @param {number} [n=1] The number of elements to sample.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the random elements.\n     * @example\n     *\n     * _.sampleSize([1, 2, 3], 2);\n     * // => [3, 1]\n     *\n     * _.sampleSize([1, 2, 3], 4);\n     * // => [2, 3, 1]\n     */\n    function sampleSize(collection, n, guard) {\n      if ((guard ? isIterateeCall(collection, n, guard) : n === undefined)) {\n        n = 1;\n      } else {\n        n = toInteger(n);\n      }\n      var func = isArray(collection) ? arraySampleSize : baseSampleSize;\n      return func(collection, n);\n    }\n\n    /**\n     * Creates an array of shuffled values, using a version of the\n     * [Fisher-Yates shuffle](https://en.wikipedia.org/wiki/Fisher-Yates_shuffle).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to shuffle.\n     * @returns {Array} Returns the new shuffled array.\n     * @example\n     *\n     * _.shuffle([1, 2, 3, 4]);\n     * // => [4, 1, 3, 2]\n     */\n    function shuffle(collection) {\n      var func = isArray(collection) ? arrayShuffle : baseShuffle;\n      return func(collection);\n    }\n\n    /**\n     * Gets the size of `collection` by returning its length for array-like\n     * values or the number of own enumerable string keyed properties for objects.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to inspect.\n     * @returns {number} Returns the collection size.\n     * @example\n     *\n     * _.size([1, 2, 3]);\n     * // => 3\n     *\n     * _.size({ 'a': 1, 'b': 2 });\n     * // => 2\n     *\n     * _.size('pebbles');\n     * // => 7\n     */\n    function size(collection) {\n      if (collection == null) {\n        return 0;\n      }\n      if (isArrayLike(collection)) {\n        return isString(collection) ? stringSize(collection) : collection.length;\n      }\n      var tag = getTag(collection);\n      if (tag == mapTag || tag == setTag) {\n        return collection.size;\n      }\n      return baseKeys(collection).length;\n    }\n\n    /**\n     * Checks if `predicate` returns truthy for **any** element of `collection`.\n     * Iteration is stopped once `predicate` returns truthy. The predicate is\n     * invoked with three arguments: (value, index|key, collection).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {boolean} Returns `true` if any element passes the predicate check,\n     *  else `false`.\n     * @example\n     *\n     * _.some([null, 0, 'yes', false], Boolean);\n     * // => true\n     *\n     * var users = [\n     *   { 'user': 'barney', 'active': true },\n     *   { 'user': 'fred',   'active': false }\n     * ];\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.some(users, { 'user': 'barney', 'active': false });\n     * // => false\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.some(users, ['active', false]);\n     * // => true\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.some(users, 'active');\n     * // => true\n     */\n    function some(collection, predicate, guard) {\n      var func = isArray(collection) ? arraySome : baseSome;\n      if (guard && isIterateeCall(collection, predicate, guard)) {\n        predicate = undefined;\n      }\n      return func(collection, getIteratee(predicate, 3));\n    }\n\n    /**\n     * Creates an array of elements, sorted in ascending order by the results of\n     * running each element in a collection thru each iteratee. This method\n     * performs a stable sort, that is, it preserves the original sort order of\n     * equal elements. The iteratees are invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {...(Function|Function[])} [iteratees=[_.identity]]\n     *  The iteratees to sort by.\n     * @returns {Array} Returns the new sorted array.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'fred',   'age': 48 },\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 30 },\n     *   { 'user': 'barney', 'age': 34 }\n     * ];\n     *\n     * _.sortBy(users, [function(o) { return o.user; }]);\n     * // => objects for [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 30]]\n     *\n     * _.sortBy(users, ['user', 'age']);\n     * // => objects for [['barney', 34], ['barney', 36], ['fred', 30], ['fred', 48]]\n     */\n    var sortBy = baseRest(function(collection, iteratees) {\n      if (collection == null) {\n        return [];\n      }\n      var length = iteratees.length;\n      if (length > 1 && isIterateeCall(collection, iteratees[0], iteratees[1])) {\n        iteratees = [];\n      } else if (length > 2 && isIterateeCall(iteratees[0], iteratees[1], iteratees[2])) {\n        iteratees = [iteratees[0]];\n      }\n      return baseOrderBy(collection, baseFlatten(iteratees, 1), []);\n    });\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Gets the timestamp of the number of milliseconds that have elapsed since\n     * the Unix epoch (1 January 1970 00:00:00 UTC).\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Date\n     * @returns {number} Returns the timestamp.\n     * @example\n     *\n     * _.defer(function(stamp) {\n     *   console.log(_.now() - stamp);\n     * }, _.now());\n     * // => Logs the number of milliseconds it took for the deferred invocation.\n     */\n    var now = ctxNow || function() {\n      return root.Date.now();\n    };\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * The opposite of `_.before`; this method creates a function that invokes\n     * `func` once it's called `n` or more times.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {number} n The number of calls before `func` is invoked.\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * var saves = ['profile', 'settings'];\n     *\n     * var done = _.after(saves.length, function() {\n     *   console.log('done saving!');\n     * });\n     *\n     * _.forEach(saves, function(type) {\n     *   asyncSave({ 'type': type, 'complete': done });\n     * });\n     * // => Logs 'done saving!' after the two async saves have completed.\n     */\n    function after(n, func) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      n = toInteger(n);\n      return function() {\n        if (--n < 1) {\n          return func.apply(this, arguments);\n        }\n      };\n    }\n\n    /**\n     * Creates a function that invokes `func`, with up to `n` arguments,\n     * ignoring any additional arguments.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {Function} func The function to cap arguments for.\n     * @param {number} [n=func.length] The arity cap.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Function} Returns the new capped function.\n     * @example\n     *\n     * _.map(['6', '8', '10'], _.ary(parseInt, 1));\n     * // => [6, 8, 10]\n     */\n    function ary(func, n, guard) {\n      n = guard ? undefined : n;\n      n = (func && n == null) ? func.length : n;\n      return createWrap(func, WRAP_ARY_FLAG, undefined, undefined, undefined, undefined, n);\n    }\n\n    /**\n     * Creates a function that invokes `func`, with the `this` binding and arguments\n     * of the created function, while it's called less than `n` times. Subsequent\n     * calls to the created function return the result of the last `func` invocation.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {number} n The number of calls at which `func` is no longer invoked.\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * jQuery(element).on('click', _.before(5, addContactToList));\n     * // => Allows adding up to 4 contacts to the list.\n     */\n    function before(n, func) {\n      var result;\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      n = toInteger(n);\n      return function() {\n        if (--n > 0) {\n          result = func.apply(this, arguments);\n        }\n        if (n <= 1) {\n          func = undefined;\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of `thisArg`\n     * and `partials` prepended to the arguments it receives.\n     *\n     * The `_.bind.placeholder` value, which defaults to `_` in monolithic builds,\n     * may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** Unlike native `Function#bind`, this method doesn't set the \"length\"\n     * property of bound functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to bind.\n     * @param {*} thisArg The `this` binding of `func`.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new bound function.\n     * @example\n     *\n     * function greet(greeting, punctuation) {\n     *   return greeting + ' ' + this.user + punctuation;\n     * }\n     *\n     * var object = { 'user': 'fred' };\n     *\n     * var bound = _.bind(greet, object, 'hi');\n     * bound('!');\n     * // => 'hi fred!'\n     *\n     * // Bound with placeholders.\n     * var bound = _.bind(greet, object, _, '!');\n     * bound('hi');\n     * // => 'hi fred!'\n     */\n    var bind = baseRest(function(func, thisArg, partials) {\n      var bitmask = WRAP_BIND_FLAG;\n      if (partials.length) {\n        var holders = replaceHolders(partials, getHolder(bind));\n        bitmask |= WRAP_PARTIAL_FLAG;\n      }\n      return createWrap(func, bitmask, thisArg, partials, holders);\n    });\n\n    /**\n     * Creates a function that invokes the method at `object[key]` with `partials`\n     * prepended to the arguments it receives.\n     *\n     * This method differs from `_.bind` by allowing bound functions to reference\n     * methods that may be redefined or don't yet exist. See\n     * [Peter Michaux's article](http://peter.michaux.ca/articles/lazy-function-definition-pattern)\n     * for more details.\n     *\n     * The `_.bindKey.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.10.0\n     * @category Function\n     * @param {Object} object The object to invoke the method on.\n     * @param {string} key The key of the method.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new bound function.\n     * @example\n     *\n     * var object = {\n     *   'user': 'fred',\n     *   'greet': function(greeting, punctuation) {\n     *     return greeting + ' ' + this.user + punctuation;\n     *   }\n     * };\n     *\n     * var bound = _.bindKey(object, 'greet', 'hi');\n     * bound('!');\n     * // => 'hi fred!'\n     *\n     * object.greet = function(greeting, punctuation) {\n     *   return greeting + 'ya ' + this.user + punctuation;\n     * };\n     *\n     * bound('!');\n     * // => 'hiya fred!'\n     *\n     * // Bound with placeholders.\n     * var bound = _.bindKey(object, 'greet', _, '!');\n     * bound('hi');\n     * // => 'hiya fred!'\n     */\n    var bindKey = baseRest(function(object, key, partials) {\n      var bitmask = WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG;\n      if (partials.length) {\n        var holders = replaceHolders(partials, getHolder(bindKey));\n        bitmask |= WRAP_PARTIAL_FLAG;\n      }\n      return createWrap(key, bitmask, object, partials, holders);\n    });\n\n    /**\n     * Creates a function that accepts arguments of `func` and either invokes\n     * `func` returning its result, if at least `arity` number of arguments have\n     * been provided, or returns a function that accepts the remaining `func`\n     * arguments, and so on. The arity of `func` may be specified if `func.length`\n     * is not sufficient.\n     *\n     * The `_.curry.placeholder` value, which defaults to `_` in monolithic builds,\n     * may be used as a placeholder for provided arguments.\n     *\n     * **Note:** This method doesn't set the \"length\" property of curried functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Function\n     * @param {Function} func The function to curry.\n     * @param {number} [arity=func.length] The arity of `func`.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Function} Returns the new curried function.\n     * @example\n     *\n     * var abc = function(a, b, c) {\n     *   return [a, b, c];\n     * };\n     *\n     * var curried = _.curry(abc);\n     *\n     * curried(1)(2)(3);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2)(3);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2, 3);\n     * // => [1, 2, 3]\n     *\n     * // Curried with placeholders.\n     * curried(1)(_, 3)(2);\n     * // => [1, 2, 3]\n     */\n    function curry(func, arity, guard) {\n      arity = guard ? undefined : arity;\n      var result = createWrap(func, WRAP_CURRY_FLAG, undefined, undefined, undefined, undefined, undefined, arity);\n      result.placeholder = curry.placeholder;\n      return result;\n    }\n\n    /**\n     * This method is like `_.curry` except that arguments are applied to `func`\n     * in the manner of `_.partialRight` instead of `_.partial`.\n     *\n     * The `_.curryRight.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for provided arguments.\n     *\n     * **Note:** This method doesn't set the \"length\" property of curried functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {Function} func The function to curry.\n     * @param {number} [arity=func.length] The arity of `func`.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Function} Returns the new curried function.\n     * @example\n     *\n     * var abc = function(a, b, c) {\n     *   return [a, b, c];\n     * };\n     *\n     * var curried = _.curryRight(abc);\n     *\n     * curried(3)(2)(1);\n     * // => [1, 2, 3]\n     *\n     * curried(2, 3)(1);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2, 3);\n     * // => [1, 2, 3]\n     *\n     * // Curried with placeholders.\n     * curried(3)(1, _)(2);\n     * // => [1, 2, 3]\n     */\n    function curryRight(func, arity, guard) {\n      arity = guard ? undefined : arity;\n      var result = createWrap(func, WRAP_CURRY_RIGHT_FLAG, undefined, undefined, undefined, undefined, undefined, arity);\n      result.placeholder = curryRight.placeholder;\n      return result;\n    }\n\n    /**\n     * Creates a debounced function that delays invoking `func` until after `wait`\n     * milliseconds have elapsed since the last time the debounced function was\n     * invoked. The debounced function comes with a `cancel` method to cancel\n     * delayed `func` invocations and a `flush` method to immediately invoke them.\n     * Provide `options` to indicate whether `func` should be invoked on the\n     * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n     * with the last arguments provided to the debounced function. Subsequent\n     * calls to the debounced function return the result of the last `func`\n     * invocation.\n     *\n     * **Note:** If `leading` and `trailing` options are `true`, `func` is\n     * invoked on the trailing edge of the timeout only if the debounced function\n     * is invoked more than once during the `wait` timeout.\n     *\n     * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n     * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n     *\n     * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n     * for details over the differences between `_.debounce` and `_.throttle`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to debounce.\n     * @param {number} [wait=0] The number of milliseconds to delay.\n     * @param {Object} [options={}] The options object.\n     * @param {boolean} [options.leading=false]\n     *  Specify invoking on the leading edge of the timeout.\n     * @param {number} [options.maxWait]\n     *  The maximum time `func` is allowed to be delayed before it's invoked.\n     * @param {boolean} [options.trailing=true]\n     *  Specify invoking on the trailing edge of the timeout.\n     * @returns {Function} Returns the new debounced function.\n     * @example\n     *\n     * // Avoid costly calculations while the window size is in flux.\n     * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n     *\n     * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n     * jQuery(element).on('click', _.debounce(sendMail, 300, {\n     *   'leading': true,\n     *   'trailing': false\n     * }));\n     *\n     * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n     * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n     * var source = new EventSource('/stream');\n     * jQuery(source).on('message', debounced);\n     *\n     * // Cancel the trailing debounced invocation.\n     * jQuery(window).on('popstate', debounced.cancel);\n     */\n    function debounce(func, wait, options) {\n      var lastArgs,\n          lastThis,\n          maxWait,\n          result,\n          timerId,\n          lastCallTime,\n          lastInvokeTime = 0,\n          leading = false,\n          maxing = false,\n          trailing = true;\n\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      wait = toNumber(wait) || 0;\n      if (isObject(options)) {\n        leading = !!options.leading;\n        maxing = 'maxWait' in options;\n        maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n        trailing = 'trailing' in options ? !!options.trailing : trailing;\n      }\n\n      function invokeFunc(time) {\n        var args = lastArgs,\n            thisArg = lastThis;\n\n        lastArgs = lastThis = undefined;\n        lastInvokeTime = time;\n        result = func.apply(thisArg, args);\n        return result;\n      }\n\n      function leadingEdge(time) {\n        // Reset any `maxWait` timer.\n        lastInvokeTime = time;\n        // Start the timer for the trailing edge.\n        timerId = setTimeout(timerExpired, wait);\n        // Invoke the leading edge.\n        return leading ? invokeFunc(time) : result;\n      }\n\n      function remainingWait(time) {\n        var timeSinceLastCall = time - lastCallTime,\n            timeSinceLastInvoke = time - lastInvokeTime,\n            timeWaiting = wait - timeSinceLastCall;\n\n        return maxing\n          ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)\n          : timeWaiting;\n      }\n\n      function shouldInvoke(time) {\n        var timeSinceLastCall = time - lastCallTime,\n            timeSinceLastInvoke = time - lastInvokeTime;\n\n        // Either this is the first call, activity has stopped and we're at the\n        // trailing edge, the system time has gone backwards and we're treating\n        // it as the trailing edge, or we've hit the `maxWait` limit.\n        return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n          (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n      }\n\n      function timerExpired() {\n        var time = now();\n        if (shouldInvoke(time)) {\n          return trailingEdge(time);\n        }\n        // Restart the timer.\n        timerId = setTimeout(timerExpired, remainingWait(time));\n      }\n\n      function trailingEdge(time) {\n        timerId = undefined;\n\n        // Only invoke if we have `lastArgs` which means `func` has been\n        // debounced at least once.\n        if (trailing && lastArgs) {\n          return invokeFunc(time);\n        }\n        lastArgs = lastThis = undefined;\n        return result;\n      }\n\n      function cancel() {\n        if (timerId !== undefined) {\n          clearTimeout(timerId);\n        }\n        lastInvokeTime = 0;\n        lastArgs = lastCallTime = lastThis = timerId = undefined;\n      }\n\n      function flush() {\n        return timerId === undefined ? result : trailingEdge(now());\n      }\n\n      function debounced() {\n        var time = now(),\n            isInvoking = shouldInvoke(time);\n\n        lastArgs = arguments;\n        lastThis = this;\n        lastCallTime = time;\n\n        if (isInvoking) {\n          if (timerId === undefined) {\n            return leadingEdge(lastCallTime);\n          }\n          if (maxing) {\n            // Handle invocations in a tight loop.\n            clearTimeout(timerId);\n            timerId = setTimeout(timerExpired, wait);\n            return invokeFunc(lastCallTime);\n          }\n        }\n        if (timerId === undefined) {\n          timerId = setTimeout(timerExpired, wait);\n        }\n        return result;\n      }\n      debounced.cancel = cancel;\n      debounced.flush = flush;\n      return debounced;\n    }\n\n    /**\n     * Defers invoking the `func` until the current call stack has cleared. Any\n     * additional arguments are provided to `func` when it's invoked.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to defer.\n     * @param {...*} [args] The arguments to invoke `func` with.\n     * @returns {number} Returns the timer id.\n     * @example\n     *\n     * _.defer(function(text) {\n     *   console.log(text);\n     * }, 'deferred');\n     * // => Logs 'deferred' after one millisecond.\n     */\n    var defer = baseRest(function(func, args) {\n      return baseDelay(func, 1, args);\n    });\n\n    /**\n     * Invokes `func` after `wait` milliseconds. Any additional arguments are\n     * provided to `func` when it's invoked.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to delay.\n     * @param {number} wait The number of milliseconds to delay invocation.\n     * @param {...*} [args] The arguments to invoke `func` with.\n     * @returns {number} Returns the timer id.\n     * @example\n     *\n     * _.delay(function(text) {\n     *   console.log(text);\n     * }, 1000, 'later');\n     * // => Logs 'later' after one second.\n     */\n    var delay = baseRest(function(func, wait, args) {\n      return baseDelay(func, toNumber(wait) || 0, args);\n    });\n\n    /**\n     * Creates a function that invokes `func` with arguments reversed.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Function\n     * @param {Function} func The function to flip arguments for.\n     * @returns {Function} Returns the new flipped function.\n     * @example\n     *\n     * var flipped = _.flip(function() {\n     *   return _.toArray(arguments);\n     * });\n     *\n     * flipped('a', 'b', 'c', 'd');\n     * // => ['d', 'c', 'b', 'a']\n     */\n    function flip(func) {\n      return createWrap(func, WRAP_FLIP_FLAG);\n    }\n\n    /**\n     * Creates a function that memoizes the result of `func`. If `resolver` is\n     * provided, it determines the cache key for storing the result based on the\n     * arguments provided to the memoized function. By default, the first argument\n     * provided to the memoized function is used as the map cache key. The `func`\n     * is invoked with the `this` binding of the memoized function.\n     *\n     * **Note:** The cache is exposed as the `cache` property on the memoized\n     * function. Its creation may be customized by replacing the `_.memoize.Cache`\n     * constructor with one whose instances implement the\n     * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n     * method interface of `clear`, `delete`, `get`, `has`, and `set`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to have its output memoized.\n     * @param {Function} [resolver] The function to resolve the cache key.\n     * @returns {Function} Returns the new memoized function.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2 };\n     * var other = { 'c': 3, 'd': 4 };\n     *\n     * var values = _.memoize(_.values);\n     * values(object);\n     * // => [1, 2]\n     *\n     * values(other);\n     * // => [3, 4]\n     *\n     * object.a = 2;\n     * values(object);\n     * // => [1, 2]\n     *\n     * // Modify the result cache.\n     * values.cache.set(object, ['a', 'b']);\n     * values(object);\n     * // => ['a', 'b']\n     *\n     * // Replace `_.memoize.Cache`.\n     * _.memoize.Cache = WeakMap;\n     */\n    function memoize(func, resolver) {\n      if (typeof func != 'function' || (resolver != null && typeof resolver != 'function')) {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      var memoized = function() {\n        var args = arguments,\n            key = resolver ? resolver.apply(this, args) : args[0],\n            cache = memoized.cache;\n\n        if (cache.has(key)) {\n          return cache.get(key);\n        }\n        var result = func.apply(this, args);\n        memoized.cache = cache.set(key, result) || cache;\n        return result;\n      };\n      memoized.cache = new (memoize.Cache || MapCache);\n      return memoized;\n    }\n\n    // Expose `MapCache`.\n    memoize.Cache = MapCache;\n\n    /**\n     * Creates a function that negates the result of the predicate `func`. The\n     * `func` predicate is invoked with the `this` binding and arguments of the\n     * created function.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {Function} predicate The predicate to negate.\n     * @returns {Function} Returns the new negated function.\n     * @example\n     *\n     * function isEven(n) {\n     *   return n % 2 == 0;\n     * }\n     *\n     * _.filter([1, 2, 3, 4, 5, 6], _.negate(isEven));\n     * // => [1, 3, 5]\n     */\n    function negate(predicate) {\n      if (typeof predicate != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      return function() {\n        var args = arguments;\n        switch (args.length) {\n          case 0: return !predicate.call(this);\n          case 1: return !predicate.call(this, args[0]);\n          case 2: return !predicate.call(this, args[0], args[1]);\n          case 3: return !predicate.call(this, args[0], args[1], args[2]);\n        }\n        return !predicate.apply(this, args);\n      };\n    }\n\n    /**\n     * Creates a function that is restricted to invoking `func` once. Repeat calls\n     * to the function return the value of the first invocation. The `func` is\n     * invoked with the `this` binding and arguments of the created function.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * var initialize = _.once(createApplication);\n     * initialize();\n     * initialize();\n     * // => `createApplication` is invoked once\n     */\n    function once(func) {\n      return before(2, func);\n    }\n\n    /**\n     * Creates a function that invokes `func` with its arguments transformed.\n     *\n     * @static\n     * @since 4.0.0\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to wrap.\n     * @param {...(Function|Function[])} [transforms=[_.identity]]\n     *  The argument transforms.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * function doubled(n) {\n     *   return n * 2;\n     * }\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var func = _.overArgs(function(x, y) {\n     *   return [x, y];\n     * }, [square, doubled]);\n     *\n     * func(9, 3);\n     * // => [81, 6]\n     *\n     * func(10, 5);\n     * // => [100, 10]\n     */\n    var overArgs = castRest(function(func, transforms) {\n      transforms = (transforms.length == 1 && isArray(transforms[0]))\n        ? arrayMap(transforms[0], baseUnary(getIteratee()))\n        : arrayMap(baseFlatten(transforms, 1), baseUnary(getIteratee()));\n\n      var funcsLength = transforms.length;\n      return baseRest(function(args) {\n        var index = -1,\n            length = nativeMin(args.length, funcsLength);\n\n        while (++index < length) {\n          args[index] = transforms[index].call(this, args[index]);\n        }\n        return apply(func, this, args);\n      });\n    });\n\n    /**\n     * Creates a function that invokes `func` with `partials` prepended to the\n     * arguments it receives. This method is like `_.bind` except it does **not**\n     * alter the `this` binding.\n     *\n     * The `_.partial.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** This method doesn't set the \"length\" property of partially\n     * applied functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.2.0\n     * @category Function\n     * @param {Function} func The function to partially apply arguments to.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new partially applied function.\n     * @example\n     *\n     * function greet(greeting, name) {\n     *   return greeting + ' ' + name;\n     * }\n     *\n     * var sayHelloTo = _.partial(greet, 'hello');\n     * sayHelloTo('fred');\n     * // => 'hello fred'\n     *\n     * // Partially applied with placeholders.\n     * var greetFred = _.partial(greet, _, 'fred');\n     * greetFred('hi');\n     * // => 'hi fred'\n     */\n    var partial = baseRest(function(func, partials) {\n      var holders = replaceHolders(partials, getHolder(partial));\n      return createWrap(func, WRAP_PARTIAL_FLAG, undefined, partials, holders);\n    });\n\n    /**\n     * This method is like `_.partial` except that partially applied arguments\n     * are appended to the arguments it receives.\n     *\n     * The `_.partialRight.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** This method doesn't set the \"length\" property of partially\n     * applied functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.0.0\n     * @category Function\n     * @param {Function} func The function to partially apply arguments to.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new partially applied function.\n     * @example\n     *\n     * function greet(greeting, name) {\n     *   return greeting + ' ' + name;\n     * }\n     *\n     * var greetFred = _.partialRight(greet, 'fred');\n     * greetFred('hi');\n     * // => 'hi fred'\n     *\n     * // Partially applied with placeholders.\n     * var sayHelloTo = _.partialRight(greet, 'hello', _);\n     * sayHelloTo('fred');\n     * // => 'hello fred'\n     */\n    var partialRight = baseRest(function(func, partials) {\n      var holders = replaceHolders(partials, getHolder(partialRight));\n      return createWrap(func, WRAP_PARTIAL_RIGHT_FLAG, undefined, partials, holders);\n    });\n\n    /**\n     * Creates a function that invokes `func` with arguments arranged according\n     * to the specified `indexes` where the argument value at the first index is\n     * provided as the first argument, the argument value at the second index is\n     * provided as the second argument, and so on.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {Function} func The function to rearrange arguments for.\n     * @param {...(number|number[])} indexes The arranged argument indexes.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var rearged = _.rearg(function(a, b, c) {\n     *   return [a, b, c];\n     * }, [2, 0, 1]);\n     *\n     * rearged('b', 'c', 'a')\n     * // => ['a', 'b', 'c']\n     */\n    var rearg = flatRest(function(func, indexes) {\n      return createWrap(func, WRAP_REARG_FLAG, undefined, undefined, undefined, indexes);\n    });\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of the\n     * created function and arguments from `start` and beyond provided as\n     * an array.\n     *\n     * **Note:** This method is based on the\n     * [rest parameter](https://mdn.io/rest_parameters).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Function\n     * @param {Function} func The function to apply a rest parameter to.\n     * @param {number} [start=func.length-1] The start position of the rest parameter.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var say = _.rest(function(what, names) {\n     *   return what + ' ' + _.initial(names).join(', ') +\n     *     (_.size(names) > 1 ? ', & ' : '') + _.last(names);\n     * });\n     *\n     * say('hello', 'fred', 'barney', 'pebbles');\n     * // => 'hello fred, barney, & pebbles'\n     */\n    function rest(func, start) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      start = start === undefined ? start : toInteger(start);\n      return baseRest(func, start);\n    }\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of the\n     * create function and an array of arguments much like\n     * [`Function#apply`](http://www.ecma-international.org/ecma-262/7.0/#sec-function.prototype.apply).\n     *\n     * **Note:** This method is based on the\n     * [spread operator](https://mdn.io/spread_operator).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.2.0\n     * @category Function\n     * @param {Function} func The function to spread arguments over.\n     * @param {number} [start=0] The start position of the spread.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var say = _.spread(function(who, what) {\n     *   return who + ' says ' + what;\n     * });\n     *\n     * say(['fred', 'hello']);\n     * // => 'fred says hello'\n     *\n     * var numbers = Promise.all([\n     *   Promise.resolve(40),\n     *   Promise.resolve(36)\n     * ]);\n     *\n     * numbers.then(_.spread(function(x, y) {\n     *   return x + y;\n     * }));\n     * // => a Promise of 76\n     */\n    function spread(func, start) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      start = start == null ? 0 : nativeMax(toInteger(start), 0);\n      return baseRest(function(args) {\n        var array = args[start],\n            otherArgs = castSlice(args, 0, start);\n\n        if (array) {\n          arrayPush(otherArgs, array);\n        }\n        return apply(func, this, otherArgs);\n      });\n    }\n\n    /**\n     * Creates a throttled function that only invokes `func` at most once per\n     * every `wait` milliseconds. The throttled function comes with a `cancel`\n     * method to cancel delayed `func` invocations and a `flush` method to\n     * immediately invoke them. Provide `options` to indicate whether `func`\n     * should be invoked on the leading and/or trailing edge of the `wait`\n     * timeout. The `func` is invoked with the last arguments provided to the\n     * throttled function. Subsequent calls to the throttled function return the\n     * result of the last `func` invocation.\n     *\n     * **Note:** If `leading` and `trailing` options are `true`, `func` is\n     * invoked on the trailing edge of the timeout only if the throttled function\n     * is invoked more than once during the `wait` timeout.\n     *\n     * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n     * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n     *\n     * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n     * for details over the differences between `_.throttle` and `_.debounce`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to throttle.\n     * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n     * @param {Object} [options={}] The options object.\n     * @param {boolean} [options.leading=true]\n     *  Specify invoking on the leading edge of the timeout.\n     * @param {boolean} [options.trailing=true]\n     *  Specify invoking on the trailing edge of the timeout.\n     * @returns {Function} Returns the new throttled function.\n     * @example\n     *\n     * // Avoid excessively updating the position while scrolling.\n     * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n     *\n     * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n     * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n     * jQuery(element).on('click', throttled);\n     *\n     * // Cancel the trailing throttled invocation.\n     * jQuery(window).on('popstate', throttled.cancel);\n     */\n    function throttle(func, wait, options) {\n      var leading = true,\n          trailing = true;\n\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      if (isObject(options)) {\n        leading = 'leading' in options ? !!options.leading : leading;\n        trailing = 'trailing' in options ? !!options.trailing : trailing;\n      }\n      return debounce(func, wait, {\n        'leading': leading,\n        'maxWait': wait,\n        'trailing': trailing\n      });\n    }\n\n    /**\n     * Creates a function that accepts up to one argument, ignoring any\n     * additional arguments.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Function\n     * @param {Function} func The function to cap arguments for.\n     * @returns {Function} Returns the new capped function.\n     * @example\n     *\n     * _.map(['6', '8', '10'], _.unary(parseInt));\n     * // => [6, 8, 10]\n     */\n    function unary(func) {\n      return ary(func, 1);\n    }\n\n    /**\n     * Creates a function that provides `value` to `wrapper` as its first\n     * argument. Any additional arguments provided to the function are appended\n     * to those provided to the `wrapper`. The wrapper is invoked with the `this`\n     * binding of the created function.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {*} value The value to wrap.\n     * @param {Function} [wrapper=identity] The wrapper function.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var p = _.wrap(_.escape, function(func, text) {\n     *   return '<p>' + func(text) + '</p>';\n     * });\n     *\n     * p('fred, barney, & pebbles');\n     * // => '<p>fred, barney, &amp; pebbles</p>'\n     */\n    function wrap(value, wrapper) {\n      return partial(castFunction(wrapper), value);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Casts `value` as an array if it's not one.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.4.0\n     * @category Lang\n     * @param {*} value The value to inspect.\n     * @returns {Array} Returns the cast array.\n     * @example\n     *\n     * _.castArray(1);\n     * // => [1]\n     *\n     * _.castArray({ 'a': 1 });\n     * // => [{ 'a': 1 }]\n     *\n     * _.castArray('abc');\n     * // => ['abc']\n     *\n     * _.castArray(null);\n     * // => [null]\n     *\n     * _.castArray(undefined);\n     * // => [undefined]\n     *\n     * _.castArray();\n     * // => []\n     *\n     * var array = [1, 2, 3];\n     * console.log(_.castArray(array) === array);\n     * // => true\n     */\n    function castArray() {\n      if (!arguments.length) {\n        return [];\n      }\n      var value = arguments[0];\n      return isArray(value) ? value : [value];\n    }\n\n    /**\n     * Creates a shallow clone of `value`.\n     *\n     * **Note:** This method is loosely based on the\n     * [structured clone algorithm](https://mdn.io/Structured_clone_algorithm)\n     * and supports cloning arrays, array buffers, booleans, date objects, maps,\n     * numbers, `Object` objects, regexes, sets, strings, symbols, and typed\n     * arrays. The own enumerable properties of `arguments` objects are cloned\n     * as plain objects. An empty object is returned for uncloneable values such\n     * as error objects, functions, DOM nodes, and WeakMaps.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to clone.\n     * @returns {*} Returns the cloned value.\n     * @see _.cloneDeep\n     * @example\n     *\n     * var objects = [{ 'a': 1 }, { 'b': 2 }];\n     *\n     * var shallow = _.clone(objects);\n     * console.log(shallow[0] === objects[0]);\n     * // => true\n     */\n    function clone(value) {\n      return baseClone(value, CLONE_SYMBOLS_FLAG);\n    }\n\n    /**\n     * This method is like `_.clone` except that it accepts `customizer` which\n     * is invoked to produce the cloned value. If `customizer` returns `undefined`,\n     * cloning is handled by the method instead. The `customizer` is invoked with\n     * up to four arguments; (value [, index|key, object, stack]).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to clone.\n     * @param {Function} [customizer] The function to customize cloning.\n     * @returns {*} Returns the cloned value.\n     * @see _.cloneDeepWith\n     * @example\n     *\n     * function customizer(value) {\n     *   if (_.isElement(value)) {\n     *     return value.cloneNode(false);\n     *   }\n     * }\n     *\n     * var el = _.cloneWith(document.body, customizer);\n     *\n     * console.log(el === document.body);\n     * // => false\n     * console.log(el.nodeName);\n     * // => 'BODY'\n     * console.log(el.childNodes.length);\n     * // => 0\n     */\n    function cloneWith(value, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return baseClone(value, CLONE_SYMBOLS_FLAG, customizer);\n    }\n\n    /**\n     * This method is like `_.clone` except that it recursively clones `value`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.0.0\n     * @category Lang\n     * @param {*} value The value to recursively clone.\n     * @returns {*} Returns the deep cloned value.\n     * @see _.clone\n     * @example\n     *\n     * var objects = [{ 'a': 1 }, { 'b': 2 }];\n     *\n     * var deep = _.cloneDeep(objects);\n     * console.log(deep[0] === objects[0]);\n     * // => false\n     */\n    function cloneDeep(value) {\n      return baseClone(value, CLONE_DEEP_FLAG | CLONE_SYMBOLS_FLAG);\n    }\n\n    /**\n     * This method is like `_.cloneWith` except that it recursively clones `value`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to recursively clone.\n     * @param {Function} [customizer] The function to customize cloning.\n     * @returns {*} Returns the deep cloned value.\n     * @see _.cloneWith\n     * @example\n     *\n     * function customizer(value) {\n     *   if (_.isElement(value)) {\n     *     return value.cloneNode(true);\n     *   }\n     * }\n     *\n     * var el = _.cloneDeepWith(document.body, customizer);\n     *\n     * console.log(el === document.body);\n     * // => false\n     * console.log(el.nodeName);\n     * // => 'BODY'\n     * console.log(el.childNodes.length);\n     * // => 20\n     */\n    function cloneDeepWith(value, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return baseClone(value, CLONE_DEEP_FLAG | CLONE_SYMBOLS_FLAG, customizer);\n    }\n\n    /**\n     * Checks if `object` conforms to `source` by invoking the predicate\n     * properties of `source` with the corresponding property values of `object`.\n     *\n     * **Note:** This method is equivalent to `_.conforms` when `source` is\n     * partially applied.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.14.0\n     * @category Lang\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {boolean} Returns `true` if `object` conforms, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2 };\n     *\n     * _.conformsTo(object, { 'b': function(n) { return n > 1; } });\n     * // => true\n     *\n     * _.conformsTo(object, { 'b': function(n) { return n > 2; } });\n     * // => false\n     */\n    function conformsTo(object, source) {\n      return source == null || baseConformsTo(object, source, keys(source));\n    }\n\n    /**\n     * Performs a\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * comparison between two values to determine if they are equivalent.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1 };\n     * var other = { 'a': 1 };\n     *\n     * _.eq(object, object);\n     * // => true\n     *\n     * _.eq(object, other);\n     * // => false\n     *\n     * _.eq('a', 'a');\n     * // => true\n     *\n     * _.eq('a', Object('a'));\n     * // => false\n     *\n     * _.eq(NaN, NaN);\n     * // => true\n     */\n    function eq(value, other) {\n      return value === other || (value !== value && other !== other);\n    }\n\n    /**\n     * Checks if `value` is greater than `other`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.9.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is greater than `other`,\n     *  else `false`.\n     * @see _.lt\n     * @example\n     *\n     * _.gt(3, 1);\n     * // => true\n     *\n     * _.gt(3, 3);\n     * // => false\n     *\n     * _.gt(1, 3);\n     * // => false\n     */\n    var gt = createRelationalOperation(baseGt);\n\n    /**\n     * Checks if `value` is greater than or equal to `other`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.9.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is greater than or equal to\n     *  `other`, else `false`.\n     * @see _.lte\n     * @example\n     *\n     * _.gte(3, 1);\n     * // => true\n     *\n     * _.gte(3, 3);\n     * // => true\n     *\n     * _.gte(1, 3);\n     * // => false\n     */\n    var gte = createRelationalOperation(function(value, other) {\n      return value >= other;\n    });\n\n    /**\n     * Checks if `value` is likely an `arguments` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n     *  else `false`.\n     * @example\n     *\n     * _.isArguments(function() { return arguments; }());\n     * // => true\n     *\n     * _.isArguments([1, 2, 3]);\n     * // => false\n     */\n    var isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n      return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n        !propertyIsEnumerable.call(value, 'callee');\n    };\n\n    /**\n     * Checks if `value` is classified as an `Array` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n     * @example\n     *\n     * _.isArray([1, 2, 3]);\n     * // => true\n     *\n     * _.isArray(document.body.children);\n     * // => false\n     *\n     * _.isArray('abc');\n     * // => false\n     *\n     * _.isArray(_.noop);\n     * // => false\n     */\n    var isArray = Array.isArray;\n\n    /**\n     * Checks if `value` is classified as an `ArrayBuffer` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array buffer, else `false`.\n     * @example\n     *\n     * _.isArrayBuffer(new ArrayBuffer(2));\n     * // => true\n     *\n     * _.isArrayBuffer(new Array(2));\n     * // => false\n     */\n    var isArrayBuffer = nodeIsArrayBuffer ? baseUnary(nodeIsArrayBuffer) : baseIsArrayBuffer;\n\n    /**\n     * Checks if `value` is array-like. A value is considered array-like if it's\n     * not a function and has a `value.length` that's an integer greater than or\n     * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n     * @example\n     *\n     * _.isArrayLike([1, 2, 3]);\n     * // => true\n     *\n     * _.isArrayLike(document.body.children);\n     * // => true\n     *\n     * _.isArrayLike('abc');\n     * // => true\n     *\n     * _.isArrayLike(_.noop);\n     * // => false\n     */\n    function isArrayLike(value) {\n      return value != null && isLength(value.length) && !isFunction(value);\n    }\n\n    /**\n     * This method is like `_.isArrayLike` except that it also checks if `value`\n     * is an object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array-like object,\n     *  else `false`.\n     * @example\n     *\n     * _.isArrayLikeObject([1, 2, 3]);\n     * // => true\n     *\n     * _.isArrayLikeObject(document.body.children);\n     * // => true\n     *\n     * _.isArrayLikeObject('abc');\n     * // => false\n     *\n     * _.isArrayLikeObject(_.noop);\n     * // => false\n     */\n    function isArrayLikeObject(value) {\n      return isObjectLike(value) && isArrayLike(value);\n    }\n\n    /**\n     * Checks if `value` is classified as a boolean primitive or object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a boolean, else `false`.\n     * @example\n     *\n     * _.isBoolean(false);\n     * // => true\n     *\n     * _.isBoolean(null);\n     * // => false\n     */\n    function isBoolean(value) {\n      return value === true || value === false ||\n        (isObjectLike(value) && baseGetTag(value) == boolTag);\n    }\n\n    /**\n     * Checks if `value` is a buffer.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n     * @example\n     *\n     * _.isBuffer(new Buffer(2));\n     * // => true\n     *\n     * _.isBuffer(new Uint8Array(2));\n     * // => false\n     */\n    var isBuffer = nativeIsBuffer || stubFalse;\n\n    /**\n     * Checks if `value` is classified as a `Date` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a date object, else `false`.\n     * @example\n     *\n     * _.isDate(new Date);\n     * // => true\n     *\n     * _.isDate('Mon April 23 2012');\n     * // => false\n     */\n    var isDate = nodeIsDate ? baseUnary(nodeIsDate) : baseIsDate;\n\n    /**\n     * Checks if `value` is likely a DOM element.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a DOM element, else `false`.\n     * @example\n     *\n     * _.isElement(document.body);\n     * // => true\n     *\n     * _.isElement('<body>');\n     * // => false\n     */\n    function isElement(value) {\n      return isObjectLike(value) && value.nodeType === 1 && !isPlainObject(value);\n    }\n\n    /**\n     * Checks if `value` is an empty object, collection, map, or set.\n     *\n     * Objects are considered empty if they have no own enumerable string keyed\n     * properties.\n     *\n     * Array-like values such as `arguments` objects, arrays, buffers, strings, or\n     * jQuery-like collections are considered empty if they have a `length` of `0`.\n     * Similarly, maps and sets are considered empty if they have a `size` of `0`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is empty, else `false`.\n     * @example\n     *\n     * _.isEmpty(null);\n     * // => true\n     *\n     * _.isEmpty(true);\n     * // => true\n     *\n     * _.isEmpty(1);\n     * // => true\n     *\n     * _.isEmpty([1, 2, 3]);\n     * // => false\n     *\n     * _.isEmpty({ 'a': 1 });\n     * // => false\n     */\n    function isEmpty(value) {\n      if (value == null) {\n        return true;\n      }\n      if (isArrayLike(value) &&\n          (isArray(value) || typeof value == 'string' || typeof value.splice == 'function' ||\n            isBuffer(value) || isTypedArray(value) || isArguments(value))) {\n        return !value.length;\n      }\n      var tag = getTag(value);\n      if (tag == mapTag || tag == setTag) {\n        return !value.size;\n      }\n      if (isPrototype(value)) {\n        return !baseKeys(value).length;\n      }\n      for (var key in value) {\n        if (hasOwnProperty.call(value, key)) {\n          return false;\n        }\n      }\n      return true;\n    }\n\n    /**\n     * Performs a deep comparison between two values to determine if they are\n     * equivalent.\n     *\n     * **Note:** This method supports comparing arrays, array buffers, booleans,\n     * date objects, error objects, maps, numbers, `Object` objects, regexes,\n     * sets, strings, symbols, and typed arrays. `Object` objects are compared\n     * by their own, not inherited, enumerable properties. Functions and DOM\n     * nodes are compared by strict equality, i.e. `===`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1 };\n     * var other = { 'a': 1 };\n     *\n     * _.isEqual(object, other);\n     * // => true\n     *\n     * object === other;\n     * // => false\n     */\n    function isEqual(value, other) {\n      return baseIsEqual(value, other);\n    }\n\n    /**\n     * This method is like `_.isEqual` except that it accepts `customizer` which\n     * is invoked to compare values. If `customizer` returns `undefined`, comparisons\n     * are handled by the method instead. The `customizer` is invoked with up to\n     * six arguments: (objValue, othValue [, index|key, object, other, stack]).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     * @example\n     *\n     * function isGreeting(value) {\n     *   return /^h(?:i|ello)$/.test(value);\n     * }\n     *\n     * function customizer(objValue, othValue) {\n     *   if (isGreeting(objValue) && isGreeting(othValue)) {\n     *     return true;\n     *   }\n     * }\n     *\n     * var array = ['hello', 'goodbye'];\n     * var other = ['hi', 'goodbye'];\n     *\n     * _.isEqualWith(array, other, customizer);\n     * // => true\n     */\n    function isEqualWith(value, other, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      var result = customizer ? customizer(value, other) : undefined;\n      return result === undefined ? baseIsEqual(value, other, undefined, customizer) : !!result;\n    }\n\n    /**\n     * Checks if `value` is an `Error`, `EvalError`, `RangeError`, `ReferenceError`,\n     * `SyntaxError`, `TypeError`, or `URIError` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an error object, else `false`.\n     * @example\n     *\n     * _.isError(new Error);\n     * // => true\n     *\n     * _.isError(Error);\n     * // => false\n     */\n    function isError(value) {\n      if (!isObjectLike(value)) {\n        return false;\n      }\n      var tag = baseGetTag(value);\n      return tag == errorTag || tag == domExcTag ||\n        (typeof value.message == 'string' && typeof value.name == 'string' && !isPlainObject(value));\n    }\n\n    /**\n     * Checks if `value` is a finite primitive number.\n     *\n     * **Note:** This method is based on\n     * [`Number.isFinite`](https://mdn.io/Number/isFinite).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a finite number, else `false`.\n     * @example\n     *\n     * _.isFinite(3);\n     * // => true\n     *\n     * _.isFinite(Number.MIN_VALUE);\n     * // => true\n     *\n     * _.isFinite(Infinity);\n     * // => false\n     *\n     * _.isFinite('3');\n     * // => false\n     */\n    function isFinite(value) {\n      return typeof value == 'number' && nativeIsFinite(value);\n    }\n\n    /**\n     * Checks if `value` is classified as a `Function` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n     * @example\n     *\n     * _.isFunction(_);\n     * // => true\n     *\n     * _.isFunction(/abc/);\n     * // => false\n     */\n    function isFunction(value) {\n      if (!isObject(value)) {\n        return false;\n      }\n      // The use of `Object#toString` avoids issues with the `typeof` operator\n      // in Safari 9 which returns 'object' for typed arrays and other constructors.\n      var tag = baseGetTag(value);\n      return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n    }\n\n    /**\n     * Checks if `value` is an integer.\n     *\n     * **Note:** This method is based on\n     * [`Number.isInteger`](https://mdn.io/Number/isInteger).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an integer, else `false`.\n     * @example\n     *\n     * _.isInteger(3);\n     * // => true\n     *\n     * _.isInteger(Number.MIN_VALUE);\n     * // => false\n     *\n     * _.isInteger(Infinity);\n     * // => false\n     *\n     * _.isInteger('3');\n     * // => false\n     */\n    function isInteger(value) {\n      return typeof value == 'number' && value == toInteger(value);\n    }\n\n    /**\n     * Checks if `value` is a valid array-like length.\n     *\n     * **Note:** This method is loosely based on\n     * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n     * @example\n     *\n     * _.isLength(3);\n     * // => true\n     *\n     * _.isLength(Number.MIN_VALUE);\n     * // => false\n     *\n     * _.isLength(Infinity);\n     * // => false\n     *\n     * _.isLength('3');\n     * // => false\n     */\n    function isLength(value) {\n      return typeof value == 'number' &&\n        value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n    }\n\n    /**\n     * Checks if `value` is the\n     * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n     * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n     * @example\n     *\n     * _.isObject({});\n     * // => true\n     *\n     * _.isObject([1, 2, 3]);\n     * // => true\n     *\n     * _.isObject(_.noop);\n     * // => true\n     *\n     * _.isObject(null);\n     * // => false\n     */\n    function isObject(value) {\n      var type = typeof value;\n      return value != null && (type == 'object' || type == 'function');\n    }\n\n    /**\n     * Checks if `value` is object-like. A value is object-like if it's not `null`\n     * and has a `typeof` result of \"object\".\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n     * @example\n     *\n     * _.isObjectLike({});\n     * // => true\n     *\n     * _.isObjectLike([1, 2, 3]);\n     * // => true\n     *\n     * _.isObjectLike(_.noop);\n     * // => false\n     *\n     * _.isObjectLike(null);\n     * // => false\n     */\n    function isObjectLike(value) {\n      return value != null && typeof value == 'object';\n    }\n\n    /**\n     * Checks if `value` is classified as a `Map` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a map, else `false`.\n     * @example\n     *\n     * _.isMap(new Map);\n     * // => true\n     *\n     * _.isMap(new WeakMap);\n     * // => false\n     */\n    var isMap = nodeIsMap ? baseUnary(nodeIsMap) : baseIsMap;\n\n    /**\n     * Performs a partial deep comparison between `object` and `source` to\n     * determine if `object` contains equivalent property values.\n     *\n     * **Note:** This method is equivalent to `_.matches` when `source` is\n     * partially applied.\n     *\n     * Partial comparisons will match empty array and empty object `source`\n     * values against any array or object value, respectively. See `_.isEqual`\n     * for a list of supported value comparisons.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property values to match.\n     * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2 };\n     *\n     * _.isMatch(object, { 'b': 2 });\n     * // => true\n     *\n     * _.isMatch(object, { 'b': 1 });\n     * // => false\n     */\n    function isMatch(object, source) {\n      return object === source || baseIsMatch(object, source, getMatchData(source));\n    }\n\n    /**\n     * This method is like `_.isMatch` except that it accepts `customizer` which\n     * is invoked to compare values. If `customizer` returns `undefined`, comparisons\n     * are handled by the method instead. The `customizer` is invoked with five\n     * arguments: (objValue, srcValue, index|key, object, source).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property values to match.\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n     * @example\n     *\n     * function isGreeting(value) {\n     *   return /^h(?:i|ello)$/.test(value);\n     * }\n     *\n     * function customizer(objValue, srcValue) {\n     *   if (isGreeting(objValue) && isGreeting(srcValue)) {\n     *     return true;\n     *   }\n     * }\n     *\n     * var object = { 'greeting': 'hello' };\n     * var source = { 'greeting': 'hi' };\n     *\n     * _.isMatchWith(object, source, customizer);\n     * // => true\n     */\n    function isMatchWith(object, source, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return baseIsMatch(object, source, getMatchData(source), customizer);\n    }\n\n    /**\n     * Checks if `value` is `NaN`.\n     *\n     * **Note:** This method is based on\n     * [`Number.isNaN`](https://mdn.io/Number/isNaN) and is not the same as\n     * global [`isNaN`](https://mdn.io/isNaN) which returns `true` for\n     * `undefined` and other non-number values.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n     * @example\n     *\n     * _.isNaN(NaN);\n     * // => true\n     *\n     * _.isNaN(new Number(NaN));\n     * // => true\n     *\n     * isNaN(undefined);\n     * // => true\n     *\n     * _.isNaN(undefined);\n     * // => false\n     */\n    function isNaN(value) {\n      // An `NaN` primitive is the only value that is not equal to itself.\n      // Perform the `toStringTag` check first to avoid errors with some\n      // ActiveX objects in IE.\n      return isNumber(value) && value != +value;\n    }\n\n    /**\n     * Checks if `value` is a pristine native function.\n     *\n     * **Note:** This method can't reliably detect native functions in the presence\n     * of the core-js package because core-js circumvents this kind of detection.\n     * Despite multiple requests, the core-js maintainer has made it clear: any\n     * attempt to fix the detection will be obstructed. As a result, we're left\n     * with little choice but to throw an error. Unfortunately, this also affects\n     * packages, like [babel-polyfill](https://www.npmjs.com/package/babel-polyfill),\n     * which rely on core-js.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a native function,\n     *  else `false`.\n     * @example\n     *\n     * _.isNative(Array.prototype.push);\n     * // => true\n     *\n     * _.isNative(_);\n     * // => false\n     */\n    function isNative(value) {\n      if (isMaskable(value)) {\n        throw new Error(CORE_ERROR_TEXT);\n      }\n      return baseIsNative(value);\n    }\n\n    /**\n     * Checks if `value` is `null`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `null`, else `false`.\n     * @example\n     *\n     * _.isNull(null);\n     * // => true\n     *\n     * _.isNull(void 0);\n     * // => false\n     */\n    function isNull(value) {\n      return value === null;\n    }\n\n    /**\n     * Checks if `value` is `null` or `undefined`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is nullish, else `false`.\n     * @example\n     *\n     * _.isNil(null);\n     * // => true\n     *\n     * _.isNil(void 0);\n     * // => true\n     *\n     * _.isNil(NaN);\n     * // => false\n     */\n    function isNil(value) {\n      return value == null;\n    }\n\n    /**\n     * Checks if `value` is classified as a `Number` primitive or object.\n     *\n     * **Note:** To exclude `Infinity`, `-Infinity`, and `NaN`, which are\n     * classified as numbers, use the `_.isFinite` method.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a number, else `false`.\n     * @example\n     *\n     * _.isNumber(3);\n     * // => true\n     *\n     * _.isNumber(Number.MIN_VALUE);\n     * // => true\n     *\n     * _.isNumber(Infinity);\n     * // => true\n     *\n     * _.isNumber('3');\n     * // => false\n     */\n    function isNumber(value) {\n      return typeof value == 'number' ||\n        (isObjectLike(value) && baseGetTag(value) == numberTag);\n    }\n\n    /**\n     * Checks if `value` is a plain object, that is, an object created by the\n     * `Object` constructor or one with a `[[Prototype]]` of `null`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.8.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     * }\n     *\n     * _.isPlainObject(new Foo);\n     * // => false\n     *\n     * _.isPlainObject([1, 2, 3]);\n     * // => false\n     *\n     * _.isPlainObject({ 'x': 0, 'y': 0 });\n     * // => true\n     *\n     * _.isPlainObject(Object.create(null));\n     * // => true\n     */\n    function isPlainObject(value) {\n      if (!isObjectLike(value) || baseGetTag(value) != objectTag) {\n        return false;\n      }\n      var proto = getPrototype(value);\n      if (proto === null) {\n        return true;\n      }\n      var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n      return typeof Ctor == 'function' && Ctor instanceof Ctor &&\n        funcToString.call(Ctor) == objectCtorString;\n    }\n\n    /**\n     * Checks if `value` is classified as a `RegExp` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a regexp, else `false`.\n     * @example\n     *\n     * _.isRegExp(/abc/);\n     * // => true\n     *\n     * _.isRegExp('/abc/');\n     * // => false\n     */\n    var isRegExp = nodeIsRegExp ? baseUnary(nodeIsRegExp) : baseIsRegExp;\n\n    /**\n     * Checks if `value` is a safe integer. An integer is safe if it's an IEEE-754\n     * double precision number which isn't the result of a rounded unsafe integer.\n     *\n     * **Note:** This method is based on\n     * [`Number.isSafeInteger`](https://mdn.io/Number/isSafeInteger).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a safe integer, else `false`.\n     * @example\n     *\n     * _.isSafeInteger(3);\n     * // => true\n     *\n     * _.isSafeInteger(Number.MIN_VALUE);\n     * // => false\n     *\n     * _.isSafeInteger(Infinity);\n     * // => false\n     *\n     * _.isSafeInteger('3');\n     * // => false\n     */\n    function isSafeInteger(value) {\n      return isInteger(value) && value >= -MAX_SAFE_INTEGER && value <= MAX_SAFE_INTEGER;\n    }\n\n    /**\n     * Checks if `value` is classified as a `Set` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a set, else `false`.\n     * @example\n     *\n     * _.isSet(new Set);\n     * // => true\n     *\n     * _.isSet(new WeakSet);\n     * // => false\n     */\n    var isSet = nodeIsSet ? baseUnary(nodeIsSet) : baseIsSet;\n\n    /**\n     * Checks if `value` is classified as a `String` primitive or object.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a string, else `false`.\n     * @example\n     *\n     * _.isString('abc');\n     * // => true\n     *\n     * _.isString(1);\n     * // => false\n     */\n    function isString(value) {\n      return typeof value == 'string' ||\n        (!isArray(value) && isObjectLike(value) && baseGetTag(value) == stringTag);\n    }\n\n    /**\n     * Checks if `value` is classified as a `Symbol` primitive or object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n     * @example\n     *\n     * _.isSymbol(Symbol.iterator);\n     * // => true\n     *\n     * _.isSymbol('abc');\n     * // => false\n     */\n    function isSymbol(value) {\n      return typeof value == 'symbol' ||\n        (isObjectLike(value) && baseGetTag(value) == symbolTag);\n    }\n\n    /**\n     * Checks if `value` is classified as a typed array.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n     * @example\n     *\n     * _.isTypedArray(new Uint8Array);\n     * // => true\n     *\n     * _.isTypedArray([]);\n     * // => false\n     */\n    var isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\n    /**\n     * Checks if `value` is `undefined`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `undefined`, else `false`.\n     * @example\n     *\n     * _.isUndefined(void 0);\n     * // => true\n     *\n     * _.isUndefined(null);\n     * // => false\n     */\n    function isUndefined(value) {\n      return value === undefined;\n    }\n\n    /**\n     * Checks if `value` is classified as a `WeakMap` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a weak map, else `false`.\n     * @example\n     *\n     * _.isWeakMap(new WeakMap);\n     * // => true\n     *\n     * _.isWeakMap(new Map);\n     * // => false\n     */\n    function isWeakMap(value) {\n      return isObjectLike(value) && getTag(value) == weakMapTag;\n    }\n\n    /**\n     * Checks if `value` is classified as a `WeakSet` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a weak set, else `false`.\n     * @example\n     *\n     * _.isWeakSet(new WeakSet);\n     * // => true\n     *\n     * _.isWeakSet(new Set);\n     * // => false\n     */\n    function isWeakSet(value) {\n      return isObjectLike(value) && baseGetTag(value) == weakSetTag;\n    }\n\n    /**\n     * Checks if `value` is less than `other`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.9.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is less than `other`,\n     *  else `false`.\n     * @see _.gt\n     * @example\n     *\n     * _.lt(1, 3);\n     * // => true\n     *\n     * _.lt(3, 3);\n     * // => false\n     *\n     * _.lt(3, 1);\n     * // => false\n     */\n    var lt = createRelationalOperation(baseLt);\n\n    /**\n     * Checks if `value` is less than or equal to `other`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.9.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is less than or equal to\n     *  `other`, else `false`.\n     * @see _.gte\n     * @example\n     *\n     * _.lte(1, 3);\n     * // => true\n     *\n     * _.lte(3, 3);\n     * // => true\n     *\n     * _.lte(3, 1);\n     * // => false\n     */\n    var lte = createRelationalOperation(function(value, other) {\n      return value <= other;\n    });\n\n    /**\n     * Converts `value` to an array.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {Array} Returns the converted array.\n     * @example\n     *\n     * _.toArray({ 'a': 1, 'b': 2 });\n     * // => [1, 2]\n     *\n     * _.toArray('abc');\n     * // => ['a', 'b', 'c']\n     *\n     * _.toArray(1);\n     * // => []\n     *\n     * _.toArray(null);\n     * // => []\n     */\n    function toArray(value) {\n      if (!value) {\n        return [];\n      }\n      if (isArrayLike(value)) {\n        return isString(value) ? stringToArray(value) : copyArray(value);\n      }\n      if (symIterator && value[symIterator]) {\n        return iteratorToArray(value[symIterator]());\n      }\n      var tag = getTag(value),\n          func = tag == mapTag ? mapToArray : (tag == setTag ? setToArray : values);\n\n      return func(value);\n    }\n\n    /**\n     * Converts `value` to a finite number.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.12.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {number} Returns the converted number.\n     * @example\n     *\n     * _.toFinite(3.2);\n     * // => 3.2\n     *\n     * _.toFinite(Number.MIN_VALUE);\n     * // => 5e-324\n     *\n     * _.toFinite(Infinity);\n     * // => 1.7976931348623157e+308\n     *\n     * _.toFinite('3.2');\n     * // => 3.2\n     */\n    function toFinite(value) {\n      if (!value) {\n        return value === 0 ? value : 0;\n      }\n      value = toNumber(value);\n      if (value === INFINITY || value === -INFINITY) {\n        var sign = (value < 0 ? -1 : 1);\n        return sign * MAX_INTEGER;\n      }\n      return value === value ? value : 0;\n    }\n\n    /**\n     * Converts `value` to an integer.\n     *\n     * **Note:** This method is loosely based on\n     * [`ToInteger`](http://www.ecma-international.org/ecma-262/7.0/#sec-tointeger).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.toInteger(3.2);\n     * // => 3\n     *\n     * _.toInteger(Number.MIN_VALUE);\n     * // => 0\n     *\n     * _.toInteger(Infinity);\n     * // => 1.7976931348623157e+308\n     *\n     * _.toInteger('3.2');\n     * // => 3\n     */\n    function toInteger(value) {\n      var result = toFinite(value),\n          remainder = result % 1;\n\n      return result === result ? (remainder ? result - remainder : result) : 0;\n    }\n\n    /**\n     * Converts `value` to an integer suitable for use as the length of an\n     * array-like object.\n     *\n     * **Note:** This method is based on\n     * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.toLength(3.2);\n     * // => 3\n     *\n     * _.toLength(Number.MIN_VALUE);\n     * // => 0\n     *\n     * _.toLength(Infinity);\n     * // => 4294967295\n     *\n     * _.toLength('3.2');\n     * // => 3\n     */\n    function toLength(value) {\n      return value ? baseClamp(toInteger(value), 0, MAX_ARRAY_LENGTH) : 0;\n    }\n\n    /**\n     * Converts `value` to a number.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to process.\n     * @returns {number} Returns the number.\n     * @example\n     *\n     * _.toNumber(3.2);\n     * // => 3.2\n     *\n     * _.toNumber(Number.MIN_VALUE);\n     * // => 5e-324\n     *\n     * _.toNumber(Infinity);\n     * // => Infinity\n     *\n     * _.toNumber('3.2');\n     * // => 3.2\n     */\n    function toNumber(value) {\n      if (typeof value == 'number') {\n        return value;\n      }\n      if (isSymbol(value)) {\n        return NAN;\n      }\n      if (isObject(value)) {\n        var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n        value = isObject(other) ? (other + '') : other;\n      }\n      if (typeof value != 'string') {\n        return value === 0 ? value : +value;\n      }\n      value = baseTrim(value);\n      var isBinary = reIsBinary.test(value);\n      return (isBinary || reIsOctal.test(value))\n        ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n        : (reIsBadHex.test(value) ? NAN : +value);\n    }\n\n    /**\n     * Converts `value` to a plain object flattening inherited enumerable string\n     * keyed properties of `value` to own properties of the plain object.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {Object} Returns the converted plain object.\n     * @example\n     *\n     * function Foo() {\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.assign({ 'a': 1 }, new Foo);\n     * // => { 'a': 1, 'b': 2 }\n     *\n     * _.assign({ 'a': 1 }, _.toPlainObject(new Foo));\n     * // => { 'a': 1, 'b': 2, 'c': 3 }\n     */\n    function toPlainObject(value) {\n      return copyObject(value, keysIn(value));\n    }\n\n    /**\n     * Converts `value` to a safe integer. A safe integer can be compared and\n     * represented correctly.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.toSafeInteger(3.2);\n     * // => 3\n     *\n     * _.toSafeInteger(Number.MIN_VALUE);\n     * // => 0\n     *\n     * _.toSafeInteger(Infinity);\n     * // => 9007199254740991\n     *\n     * _.toSafeInteger('3.2');\n     * // => 3\n     */\n    function toSafeInteger(value) {\n      return value\n        ? baseClamp(toInteger(value), -MAX_SAFE_INTEGER, MAX_SAFE_INTEGER)\n        : (value === 0 ? value : 0);\n    }\n\n    /**\n     * Converts `value` to a string. An empty string is returned for `null`\n     * and `undefined` values. The sign of `-0` is preserved.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {string} Returns the converted string.\n     * @example\n     *\n     * _.toString(null);\n     * // => ''\n     *\n     * _.toString(-0);\n     * // => '-0'\n     *\n     * _.toString([1, 2, 3]);\n     * // => '1,2,3'\n     */\n    function toString(value) {\n      return value == null ? '' : baseToString(value);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Assigns own enumerable string keyed properties of source objects to the\n     * destination object. Source objects are applied from left to right.\n     * Subsequent sources overwrite property assignments of previous sources.\n     *\n     * **Note:** This method mutates `object` and is loosely based on\n     * [`Object.assign`](https://mdn.io/Object/assign).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.10.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @see _.assignIn\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     * }\n     *\n     * function Bar() {\n     *   this.c = 3;\n     * }\n     *\n     * Foo.prototype.b = 2;\n     * Bar.prototype.d = 4;\n     *\n     * _.assign({ 'a': 0 }, new Foo, new Bar);\n     * // => { 'a': 1, 'c': 3 }\n     */\n    var assign = createAssigner(function(object, source) {\n      if (isPrototype(source) || isArrayLike(source)) {\n        copyObject(source, keys(source), object);\n        return;\n      }\n      for (var key in source) {\n        if (hasOwnProperty.call(source, key)) {\n          assignValue(object, key, source[key]);\n        }\n      }\n    });\n\n    /**\n     * This method is like `_.assign` except that it iterates over own and\n     * inherited source properties.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @alias extend\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @see _.assign\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     * }\n     *\n     * function Bar() {\n     *   this.c = 3;\n     * }\n     *\n     * Foo.prototype.b = 2;\n     * Bar.prototype.d = 4;\n     *\n     * _.assignIn({ 'a': 0 }, new Foo, new Bar);\n     * // => { 'a': 1, 'b': 2, 'c': 3, 'd': 4 }\n     */\n    var assignIn = createAssigner(function(object, source) {\n      copyObject(source, keysIn(source), object);\n    });\n\n    /**\n     * This method is like `_.assignIn` except that it accepts `customizer`\n     * which is invoked to produce the assigned values. If `customizer` returns\n     * `undefined`, assignment is handled by the method instead. The `customizer`\n     * is invoked with five arguments: (objValue, srcValue, key, object, source).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @alias extendWith\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} sources The source objects.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @see _.assignWith\n     * @example\n     *\n     * function customizer(objValue, srcValue) {\n     *   return _.isUndefined(objValue) ? srcValue : objValue;\n     * }\n     *\n     * var defaults = _.partialRight(_.assignInWith, customizer);\n     *\n     * defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n     * // => { 'a': 1, 'b': 2 }\n     */\n    var assignInWith = createAssigner(function(object, source, srcIndex, customizer) {\n      copyObject(source, keysIn(source), object, customizer);\n    });\n\n    /**\n     * This method is like `_.assign` except that it accepts `customizer`\n     * which is invoked to produce the assigned values. If `customizer` returns\n     * `undefined`, assignment is handled by the method instead. The `customizer`\n     * is invoked with five arguments: (objValue, srcValue, key, object, source).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} sources The source objects.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @see _.assignInWith\n     * @example\n     *\n     * function customizer(objValue, srcValue) {\n     *   return _.isUndefined(objValue) ? srcValue : objValue;\n     * }\n     *\n     * var defaults = _.partialRight(_.assignWith, customizer);\n     *\n     * defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n     * // => { 'a': 1, 'b': 2 }\n     */\n    var assignWith = createAssigner(function(object, source, srcIndex, customizer) {\n      copyObject(source, keys(source), object, customizer);\n    });\n\n    /**\n     * Creates an array of values corresponding to `paths` of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.0.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {...(string|string[])} [paths] The property paths to pick.\n     * @returns {Array} Returns the picked values.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }, 4] };\n     *\n     * _.at(object, ['a[0].b.c', 'a[1]']);\n     * // => [3, 4]\n     */\n    var at = flatRest(baseAt);\n\n    /**\n     * Creates an object that inherits from the `prototype` object. If a\n     * `properties` object is given, its own enumerable string keyed properties\n     * are assigned to the created object.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.3.0\n     * @category Object\n     * @param {Object} prototype The object to inherit from.\n     * @param {Object} [properties] The properties to assign to the object.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * function Shape() {\n     *   this.x = 0;\n     *   this.y = 0;\n     * }\n     *\n     * function Circle() {\n     *   Shape.call(this);\n     * }\n     *\n     * Circle.prototype = _.create(Shape.prototype, {\n     *   'constructor': Circle\n     * });\n     *\n     * var circle = new Circle;\n     * circle instanceof Circle;\n     * // => true\n     *\n     * circle instanceof Shape;\n     * // => true\n     */\n    function create(prototype, properties) {\n      var result = baseCreate(prototype);\n      return properties == null ? result : baseAssign(result, properties);\n    }\n\n    /**\n     * Assigns own and inherited enumerable string keyed properties of source\n     * objects to the destination object for all destination properties that\n     * resolve to `undefined`. Source objects are applied from left to right.\n     * Once a property is set, additional values of the same property are ignored.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @see _.defaultsDeep\n     * @example\n     *\n     * _.defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n     * // => { 'a': 1, 'b': 2 }\n     */\n    var defaults = baseRest(function(object, sources) {\n      object = Object(object);\n\n      var index = -1;\n      var length = sources.length;\n      var guard = length > 2 ? sources[2] : undefined;\n\n      if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n        length = 1;\n      }\n\n      while (++index < length) {\n        var source = sources[index];\n        var props = keysIn(source);\n        var propsIndex = -1;\n        var propsLength = props.length;\n\n        while (++propsIndex < propsLength) {\n          var key = props[propsIndex];\n          var value = object[key];\n\n          if (value === undefined ||\n              (eq(value, objectProto[key]) && !hasOwnProperty.call(object, key))) {\n            object[key] = source[key];\n          }\n        }\n      }\n\n      return object;\n    });\n\n    /**\n     * This method is like `_.defaults` except that it recursively assigns\n     * default properties.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.10.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @see _.defaults\n     * @example\n     *\n     * _.defaultsDeep({ 'a': { 'b': 2 } }, { 'a': { 'b': 1, 'c': 3 } });\n     * // => { 'a': { 'b': 2, 'c': 3 } }\n     */\n    var defaultsDeep = baseRest(function(args) {\n      args.push(undefined, customDefaultsMerge);\n      return apply(mergeWith, undefined, args);\n    });\n\n    /**\n     * This method is like `_.find` except that it returns the key of the first\n     * element `predicate` returns truthy for instead of the element itself.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.1.0\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {string|undefined} Returns the key of the matched element,\n     *  else `undefined`.\n     * @example\n     *\n     * var users = {\n     *   'barney':  { 'age': 36, 'active': true },\n     *   'fred':    { 'age': 40, 'active': false },\n     *   'pebbles': { 'age': 1,  'active': true }\n     * };\n     *\n     * _.findKey(users, function(o) { return o.age < 40; });\n     * // => 'barney' (iteration order is not guaranteed)\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.findKey(users, { 'age': 1, 'active': true });\n     * // => 'pebbles'\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.findKey(users, ['active', false]);\n     * // => 'fred'\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.findKey(users, 'active');\n     * // => 'barney'\n     */\n    function findKey(object, predicate) {\n      return baseFindKey(object, getIteratee(predicate, 3), baseForOwn);\n    }\n\n    /**\n     * This method is like `_.findKey` except that it iterates over elements of\n     * a collection in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {string|undefined} Returns the key of the matched element,\n     *  else `undefined`.\n     * @example\n     *\n     * var users = {\n     *   'barney':  { 'age': 36, 'active': true },\n     *   'fred':    { 'age': 40, 'active': false },\n     *   'pebbles': { 'age': 1,  'active': true }\n     * };\n     *\n     * _.findLastKey(users, function(o) { return o.age < 40; });\n     * // => returns 'pebbles' assuming `_.findKey` returns 'barney'\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.findLastKey(users, { 'age': 36, 'active': true });\n     * // => 'barney'\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.findLastKey(users, ['active', false]);\n     * // => 'fred'\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.findLastKey(users, 'active');\n     * // => 'pebbles'\n     */\n    function findLastKey(object, predicate) {\n      return baseFindKey(object, getIteratee(predicate, 3), baseForOwnRight);\n    }\n\n    /**\n     * Iterates over own and inherited enumerable string keyed properties of an\n     * object and invokes `iteratee` for each property. The iteratee is invoked\n     * with three arguments: (value, key, object). Iteratee functions may exit\n     * iteration early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.3.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     * @see _.forInRight\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forIn(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'a', 'b', then 'c' (iteration order is not guaranteed).\n     */\n    function forIn(object, iteratee) {\n      return object == null\n        ? object\n        : baseFor(object, getIteratee(iteratee, 3), keysIn);\n    }\n\n    /**\n     * This method is like `_.forIn` except that it iterates over properties of\n     * `object` in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     * @see _.forIn\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forInRight(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'c', 'b', then 'a' assuming `_.forIn` logs 'a', 'b', then 'c'.\n     */\n    function forInRight(object, iteratee) {\n      return object == null\n        ? object\n        : baseForRight(object, getIteratee(iteratee, 3), keysIn);\n    }\n\n    /**\n     * Iterates over own enumerable string keyed properties of an object and\n     * invokes `iteratee` for each property. The iteratee is invoked with three\n     * arguments: (value, key, object). Iteratee functions may exit iteration\n     * early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.3.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     * @see _.forOwnRight\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forOwn(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'a' then 'b' (iteration order is not guaranteed).\n     */\n    function forOwn(object, iteratee) {\n      return object && baseForOwn(object, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * This method is like `_.forOwn` except that it iterates over properties of\n     * `object` in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     * @see _.forOwn\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forOwnRight(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'b' then 'a' assuming `_.forOwn` logs 'a' then 'b'.\n     */\n    function forOwnRight(object, iteratee) {\n      return object && baseForOwnRight(object, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * Creates an array of function property names from own enumerable properties\n     * of `object`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @returns {Array} Returns the function names.\n     * @see _.functionsIn\n     * @example\n     *\n     * function Foo() {\n     *   this.a = _.constant('a');\n     *   this.b = _.constant('b');\n     * }\n     *\n     * Foo.prototype.c = _.constant('c');\n     *\n     * _.functions(new Foo);\n     * // => ['a', 'b']\n     */\n    function functions(object) {\n      return object == null ? [] : baseFunctions(object, keys(object));\n    }\n\n    /**\n     * Creates an array of function property names from own and inherited\n     * enumerable properties of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @returns {Array} Returns the function names.\n     * @see _.functions\n     * @example\n     *\n     * function Foo() {\n     *   this.a = _.constant('a');\n     *   this.b = _.constant('b');\n     * }\n     *\n     * Foo.prototype.c = _.constant('c');\n     *\n     * _.functionsIn(new Foo);\n     * // => ['a', 'b', 'c']\n     */\n    function functionsIn(object) {\n      return object == null ? [] : baseFunctions(object, keysIn(object));\n    }\n\n    /**\n     * Gets the value at `path` of `object`. If the resolved value is\n     * `undefined`, the `defaultValue` is returned in its place.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.7.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the property to get.\n     * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n     * @returns {*} Returns the resolved value.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n     *\n     * _.get(object, 'a[0].b.c');\n     * // => 3\n     *\n     * _.get(object, ['a', '0', 'b', 'c']);\n     * // => 3\n     *\n     * _.get(object, 'a.b.c', 'default');\n     * // => 'default'\n     */\n    function get(object, path, defaultValue) {\n      var result = object == null ? undefined : baseGet(object, path);\n      return result === undefined ? defaultValue : result;\n    }\n\n    /**\n     * Checks if `path` is a direct property of `object`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path to check.\n     * @returns {boolean} Returns `true` if `path` exists, else `false`.\n     * @example\n     *\n     * var object = { 'a': { 'b': 2 } };\n     * var other = _.create({ 'a': _.create({ 'b': 2 }) });\n     *\n     * _.has(object, 'a');\n     * // => true\n     *\n     * _.has(object, 'a.b');\n     * // => true\n     *\n     * _.has(object, ['a', 'b']);\n     * // => true\n     *\n     * _.has(other, 'a');\n     * // => false\n     */\n    function has(object, path) {\n      return object != null && hasPath(object, path, baseHas);\n    }\n\n    /**\n     * Checks if `path` is a direct or inherited property of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path to check.\n     * @returns {boolean} Returns `true` if `path` exists, else `false`.\n     * @example\n     *\n     * var object = _.create({ 'a': _.create({ 'b': 2 }) });\n     *\n     * _.hasIn(object, 'a');\n     * // => true\n     *\n     * _.hasIn(object, 'a.b');\n     * // => true\n     *\n     * _.hasIn(object, ['a', 'b']);\n     * // => true\n     *\n     * _.hasIn(object, 'b');\n     * // => false\n     */\n    function hasIn(object, path) {\n      return object != null && hasPath(object, path, baseHasIn);\n    }\n\n    /**\n     * Creates an object composed of the inverted keys and values of `object`.\n     * If `object` contains duplicate values, subsequent values overwrite\n     * property assignments of previous values.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.7.0\n     * @category Object\n     * @param {Object} object The object to invert.\n     * @returns {Object} Returns the new inverted object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2, 'c': 1 };\n     *\n     * _.invert(object);\n     * // => { '1': 'c', '2': 'b' }\n     */\n    var invert = createInverter(function(result, value, key) {\n      if (value != null &&\n          typeof value.toString != 'function') {\n        value = nativeObjectToString.call(value);\n      }\n\n      result[value] = key;\n    }, constant(identity));\n\n    /**\n     * This method is like `_.invert` except that the inverted object is generated\n     * from the results of running each element of `object` thru `iteratee`. The\n     * corresponding inverted value of each inverted key is an array of keys\n     * responsible for generating the inverted value. The iteratee is invoked\n     * with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.1.0\n     * @category Object\n     * @param {Object} object The object to invert.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Object} Returns the new inverted object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2, 'c': 1 };\n     *\n     * _.invertBy(object);\n     * // => { '1': ['a', 'c'], '2': ['b'] }\n     *\n     * _.invertBy(object, function(value) {\n     *   return 'group' + value;\n     * });\n     * // => { 'group1': ['a', 'c'], 'group2': ['b'] }\n     */\n    var invertBy = createInverter(function(result, value, key) {\n      if (value != null &&\n          typeof value.toString != 'function') {\n        value = nativeObjectToString.call(value);\n      }\n\n      if (hasOwnProperty.call(result, value)) {\n        result[value].push(key);\n      } else {\n        result[value] = [key];\n      }\n    }, getIteratee);\n\n    /**\n     * Invokes the method at `path` of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the method to invoke.\n     * @param {...*} [args] The arguments to invoke the method with.\n     * @returns {*} Returns the result of the invoked method.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': [1, 2, 3, 4] } }] };\n     *\n     * _.invoke(object, 'a[0].b.c.slice', 1, 3);\n     * // => [2, 3]\n     */\n    var invoke = baseRest(baseInvoke);\n\n    /**\n     * Creates an array of the own enumerable property names of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects. See the\n     * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n     * for more details.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.keys(new Foo);\n     * // => ['a', 'b'] (iteration order is not guaranteed)\n     *\n     * _.keys('hi');\n     * // => ['0', '1']\n     */\n    function keys(object) {\n      return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n    }\n\n    /**\n     * Creates an array of the own and inherited enumerable property names of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.keysIn(new Foo);\n     * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n     */\n    function keysIn(object) {\n      return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);\n    }\n\n    /**\n     * The opposite of `_.mapValues`; this method creates an object with the\n     * same values as `object` and keys generated by running each own enumerable\n     * string keyed property of `object` thru `iteratee`. The iteratee is invoked\n     * with three arguments: (value, key, object).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.8.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns the new mapped object.\n     * @see _.mapValues\n     * @example\n     *\n     * _.mapKeys({ 'a': 1, 'b': 2 }, function(value, key) {\n     *   return key + value;\n     * });\n     * // => { 'a1': 1, 'b2': 2 }\n     */\n    function mapKeys(object, iteratee) {\n      var result = {};\n      iteratee = getIteratee(iteratee, 3);\n\n      baseForOwn(object, function(value, key, object) {\n        baseAssignValue(result, iteratee(value, key, object), value);\n      });\n      return result;\n    }\n\n    /**\n     * Creates an object with the same keys as `object` and values generated\n     * by running each own enumerable string keyed property of `object` thru\n     * `iteratee`. The iteratee is invoked with three arguments:\n     * (value, key, object).\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns the new mapped object.\n     * @see _.mapKeys\n     * @example\n     *\n     * var users = {\n     *   'fred':    { 'user': 'fred',    'age': 40 },\n     *   'pebbles': { 'user': 'pebbles', 'age': 1 }\n     * };\n     *\n     * _.mapValues(users, function(o) { return o.age; });\n     * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.mapValues(users, 'age');\n     * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n     */\n    function mapValues(object, iteratee) {\n      var result = {};\n      iteratee = getIteratee(iteratee, 3);\n\n      baseForOwn(object, function(value, key, object) {\n        baseAssignValue(result, key, iteratee(value, key, object));\n      });\n      return result;\n    }\n\n    /**\n     * This method is like `_.assign` except that it recursively merges own and\n     * inherited enumerable string keyed properties of source objects into the\n     * destination object. Source properties that resolve to `undefined` are\n     * skipped if a destination value exists. Array and plain object properties\n     * are merged recursively. Other objects and value types are overridden by\n     * assignment. Source objects are applied from left to right. Subsequent\n     * sources overwrite property assignments of previous sources.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.5.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = {\n     *   'a': [{ 'b': 2 }, { 'd': 4 }]\n     * };\n     *\n     * var other = {\n     *   'a': [{ 'c': 3 }, { 'e': 5 }]\n     * };\n     *\n     * _.merge(object, other);\n     * // => { 'a': [{ 'b': 2, 'c': 3 }, { 'd': 4, 'e': 5 }] }\n     */\n    var merge = createAssigner(function(object, source, srcIndex) {\n      baseMerge(object, source, srcIndex);\n    });\n\n    /**\n     * This method is like `_.merge` except that it accepts `customizer` which\n     * is invoked to produce the merged values of the destination and source\n     * properties. If `customizer` returns `undefined`, merging is handled by the\n     * method instead. The `customizer` is invoked with six arguments:\n     * (objValue, srcValue, key, object, source, stack).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} sources The source objects.\n     * @param {Function} customizer The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * function customizer(objValue, srcValue) {\n     *   if (_.isArray(objValue)) {\n     *     return objValue.concat(srcValue);\n     *   }\n     * }\n     *\n     * var object = { 'a': [1], 'b': [2] };\n     * var other = { 'a': [3], 'b': [4] };\n     *\n     * _.mergeWith(object, other, customizer);\n     * // => { 'a': [1, 3], 'b': [2, 4] }\n     */\n    var mergeWith = createAssigner(function(object, source, srcIndex, customizer) {\n      baseMerge(object, source, srcIndex, customizer);\n    });\n\n    /**\n     * The opposite of `_.pick`; this method creates an object composed of the\n     * own and inherited enumerable property paths of `object` that are not omitted.\n     *\n     * **Note:** This method is considerably slower than `_.pick`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {...(string|string[])} [paths] The property paths to omit.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': '2', 'c': 3 };\n     *\n     * _.omit(object, ['a', 'c']);\n     * // => { 'b': '2' }\n     */\n    var omit = flatRest(function(object, paths) {\n      var result = {};\n      if (object == null) {\n        return result;\n      }\n      var isDeep = false;\n      paths = arrayMap(paths, function(path) {\n        path = castPath(path, object);\n        isDeep || (isDeep = path.length > 1);\n        return path;\n      });\n      copyObject(object, getAllKeysIn(object), result);\n      if (isDeep) {\n        result = baseClone(result, CLONE_DEEP_FLAG | CLONE_FLAT_FLAG | CLONE_SYMBOLS_FLAG, customOmitClone);\n      }\n      var length = paths.length;\n      while (length--) {\n        baseUnset(result, paths[length]);\n      }\n      return result;\n    });\n\n    /**\n     * The opposite of `_.pickBy`; this method creates an object composed of\n     * the own and inherited enumerable string keyed properties of `object` that\n     * `predicate` doesn't return truthy for. The predicate is invoked with two\n     * arguments: (value, key).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {Function} [predicate=_.identity] The function invoked per property.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': '2', 'c': 3 };\n     *\n     * _.omitBy(object, _.isNumber);\n     * // => { 'b': '2' }\n     */\n    function omitBy(object, predicate) {\n      return pickBy(object, negate(getIteratee(predicate)));\n    }\n\n    /**\n     * Creates an object composed of the picked `object` properties.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {...(string|string[])} [paths] The property paths to pick.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': '2', 'c': 3 };\n     *\n     * _.pick(object, ['a', 'c']);\n     * // => { 'a': 1, 'c': 3 }\n     */\n    var pick = flatRest(function(object, paths) {\n      return object == null ? {} : basePick(object, paths);\n    });\n\n    /**\n     * Creates an object composed of the `object` properties `predicate` returns\n     * truthy for. The predicate is invoked with two arguments: (value, key).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {Function} [predicate=_.identity] The function invoked per property.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': '2', 'c': 3 };\n     *\n     * _.pickBy(object, _.isNumber);\n     * // => { 'a': 1, 'c': 3 }\n     */\n    function pickBy(object, predicate) {\n      if (object == null) {\n        return {};\n      }\n      var props = arrayMap(getAllKeysIn(object), function(prop) {\n        return [prop];\n      });\n      predicate = getIteratee(predicate);\n      return basePickBy(object, props, function(value, path) {\n        return predicate(value, path[0]);\n      });\n    }\n\n    /**\n     * This method is like `_.get` except that if the resolved value is a\n     * function it's invoked with the `this` binding of its parent object and\n     * its result is returned.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the property to resolve.\n     * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n     * @returns {*} Returns the resolved value.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c1': 3, 'c2': _.constant(4) } }] };\n     *\n     * _.result(object, 'a[0].b.c1');\n     * // => 3\n     *\n     * _.result(object, 'a[0].b.c2');\n     * // => 4\n     *\n     * _.result(object, 'a[0].b.c3', 'default');\n     * // => 'default'\n     *\n     * _.result(object, 'a[0].b.c3', _.constant('default'));\n     * // => 'default'\n     */\n    function result(object, path, defaultValue) {\n      path = castPath(path, object);\n\n      var index = -1,\n          length = path.length;\n\n      // Ensure the loop is entered when path is empty.\n      if (!length) {\n        length = 1;\n        object = undefined;\n      }\n      while (++index < length) {\n        var value = object == null ? undefined : object[toKey(path[index])];\n        if (value === undefined) {\n          index = length;\n          value = defaultValue;\n        }\n        object = isFunction(value) ? value.call(object) : value;\n      }\n      return object;\n    }\n\n    /**\n     * Sets the value at `path` of `object`. If a portion of `path` doesn't exist,\n     * it's created. Arrays are created for missing index properties while objects\n     * are created for all other missing properties. Use `_.setWith` to customize\n     * `path` creation.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.7.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n     *\n     * _.set(object, 'a[0].b.c', 4);\n     * console.log(object.a[0].b.c);\n     * // => 4\n     *\n     * _.set(object, ['x', '0', 'y', 'z'], 5);\n     * console.log(object.x[0].y.z);\n     * // => 5\n     */\n    function set(object, path, value) {\n      return object == null ? object : baseSet(object, path, value);\n    }\n\n    /**\n     * This method is like `_.set` except that it accepts `customizer` which is\n     * invoked to produce the objects of `path`.  If `customizer` returns `undefined`\n     * path creation is handled by the method instead. The `customizer` is invoked\n     * with three arguments: (nsValue, key, nsObject).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {*} value The value to set.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = {};\n     *\n     * _.setWith(object, '[0][1]', 'a', Object);\n     * // => { '0': { '1': 'a' } }\n     */\n    function setWith(object, path, value, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return object == null ? object : baseSet(object, path, value, customizer);\n    }\n\n    /**\n     * Creates an array of own enumerable string keyed-value pairs for `object`\n     * which can be consumed by `_.fromPairs`. If `object` is a map or set, its\n     * entries are returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @alias entries\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the key-value pairs.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.toPairs(new Foo);\n     * // => [['a', 1], ['b', 2]] (iteration order is not guaranteed)\n     */\n    var toPairs = createToPairs(keys);\n\n    /**\n     * Creates an array of own and inherited enumerable string keyed-value pairs\n     * for `object` which can be consumed by `_.fromPairs`. If `object` is a map\n     * or set, its entries are returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @alias entriesIn\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the key-value pairs.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.toPairsIn(new Foo);\n     * // => [['a', 1], ['b', 2], ['c', 3]] (iteration order is not guaranteed)\n     */\n    var toPairsIn = createToPairs(keysIn);\n\n    /**\n     * An alternative to `_.reduce`; this method transforms `object` to a new\n     * `accumulator` object which is the result of running each of its own\n     * enumerable string keyed properties thru `iteratee`, with each invocation\n     * potentially mutating the `accumulator` object. If `accumulator` is not\n     * provided, a new object with the same `[[Prototype]]` will be used. The\n     * iteratee is invoked with four arguments: (accumulator, value, key, object).\n     * Iteratee functions may exit iteration early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.3.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The custom accumulator value.\n     * @returns {*} Returns the accumulated value.\n     * @example\n     *\n     * _.transform([2, 3, 4], function(result, n) {\n     *   result.push(n *= n);\n     *   return n % 2 == 0;\n     * }, []);\n     * // => [4, 9]\n     *\n     * _.transform({ 'a': 1, 'b': 2, 'c': 1 }, function(result, value, key) {\n     *   (result[value] || (result[value] = [])).push(key);\n     * }, {});\n     * // => { '1': ['a', 'c'], '2': ['b'] }\n     */\n    function transform(object, iteratee, accumulator) {\n      var isArr = isArray(object),\n          isArrLike = isArr || isBuffer(object) || isTypedArray(object);\n\n      iteratee = getIteratee(iteratee, 4);\n      if (accumulator == null) {\n        var Ctor = object && object.constructor;\n        if (isArrLike) {\n          accumulator = isArr ? new Ctor : [];\n        }\n        else if (isObject(object)) {\n          accumulator = isFunction(Ctor) ? baseCreate(getPrototype(object)) : {};\n        }\n        else {\n          accumulator = {};\n        }\n      }\n      (isArrLike ? arrayEach : baseForOwn)(object, function(value, index, object) {\n        return iteratee(accumulator, value, index, object);\n      });\n      return accumulator;\n    }\n\n    /**\n     * Removes the property at `path` of `object`.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to unset.\n     * @returns {boolean} Returns `true` if the property is deleted, else `false`.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 7 } }] };\n     * _.unset(object, 'a[0].b.c');\n     * // => true\n     *\n     * console.log(object);\n     * // => { 'a': [{ 'b': {} }] };\n     *\n     * _.unset(object, ['a', '0', 'b', 'c']);\n     * // => true\n     *\n     * console.log(object);\n     * // => { 'a': [{ 'b': {} }] };\n     */\n    function unset(object, path) {\n      return object == null ? true : baseUnset(object, path);\n    }\n\n    /**\n     * This method is like `_.set` except that accepts `updater` to produce the\n     * value to set. Use `_.updateWith` to customize `path` creation. The `updater`\n     * is invoked with one argument: (value).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.6.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {Function} updater The function to produce the updated value.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n     *\n     * _.update(object, 'a[0].b.c', function(n) { return n * n; });\n     * console.log(object.a[0].b.c);\n     * // => 9\n     *\n     * _.update(object, 'x[0].y.z', function(n) { return n ? n + 1 : 0; });\n     * console.log(object.x[0].y.z);\n     * // => 0\n     */\n    function update(object, path, updater) {\n      return object == null ? object : baseUpdate(object, path, castFunction(updater));\n    }\n\n    /**\n     * This method is like `_.update` except that it accepts `customizer` which is\n     * invoked to produce the objects of `path`.  If `customizer` returns `undefined`\n     * path creation is handled by the method instead. The `customizer` is invoked\n     * with three arguments: (nsValue, key, nsObject).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.6.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {Function} updater The function to produce the updated value.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = {};\n     *\n     * _.updateWith(object, '[0][1]', _.constant('a'), Object);\n     * // => { '0': { '1': 'a' } }\n     */\n    function updateWith(object, path, updater, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return object == null ? object : baseUpdate(object, path, castFunction(updater), customizer);\n    }\n\n    /**\n     * Creates an array of the own enumerable string keyed property values of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property values.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.values(new Foo);\n     * // => [1, 2] (iteration order is not guaranteed)\n     *\n     * _.values('hi');\n     * // => ['h', 'i']\n     */\n    function values(object) {\n      return object == null ? [] : baseValues(object, keys(object));\n    }\n\n    /**\n     * Creates an array of the own and inherited enumerable string keyed property\n     * values of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property values.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.valuesIn(new Foo);\n     * // => [1, 2, 3] (iteration order is not guaranteed)\n     */\n    function valuesIn(object) {\n      return object == null ? [] : baseValues(object, keysIn(object));\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Clamps `number` within the inclusive `lower` and `upper` bounds.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Number\n     * @param {number} number The number to clamp.\n     * @param {number} [lower] The lower bound.\n     * @param {number} upper The upper bound.\n     * @returns {number} Returns the clamped number.\n     * @example\n     *\n     * _.clamp(-10, -5, 5);\n     * // => -5\n     *\n     * _.clamp(10, -5, 5);\n     * // => 5\n     */\n    function clamp(number, lower, upper) {\n      if (upper === undefined) {\n        upper = lower;\n        lower = undefined;\n      }\n      if (upper !== undefined) {\n        upper = toNumber(upper);\n        upper = upper === upper ? upper : 0;\n      }\n      if (lower !== undefined) {\n        lower = toNumber(lower);\n        lower = lower === lower ? lower : 0;\n      }\n      return baseClamp(toNumber(number), lower, upper);\n    }\n\n    /**\n     * Checks if `n` is between `start` and up to, but not including, `end`. If\n     * `end` is not specified, it's set to `start` with `start` then set to `0`.\n     * If `start` is greater than `end` the params are swapped to support\n     * negative ranges.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.3.0\n     * @category Number\n     * @param {number} number The number to check.\n     * @param {number} [start=0] The start of the range.\n     * @param {number} end The end of the range.\n     * @returns {boolean} Returns `true` if `number` is in the range, else `false`.\n     * @see _.range, _.rangeRight\n     * @example\n     *\n     * _.inRange(3, 2, 4);\n     * // => true\n     *\n     * _.inRange(4, 8);\n     * // => true\n     *\n     * _.inRange(4, 2);\n     * // => false\n     *\n     * _.inRange(2, 2);\n     * // => false\n     *\n     * _.inRange(1.2, 2);\n     * // => true\n     *\n     * _.inRange(5.2, 4);\n     * // => false\n     *\n     * _.inRange(-3, -2, -6);\n     * // => true\n     */\n    function inRange(number, start, end) {\n      start = toFinite(start);\n      if (end === undefined) {\n        end = start;\n        start = 0;\n      } else {\n        end = toFinite(end);\n      }\n      number = toNumber(number);\n      return baseInRange(number, start, end);\n    }\n\n    /**\n     * Produces a random number between the inclusive `lower` and `upper` bounds.\n     * If only one argument is provided a number between `0` and the given number\n     * is returned. If `floating` is `true`, or either `lower` or `upper` are\n     * floats, a floating-point number is returned instead of an integer.\n     *\n     * **Note:** JavaScript follows the IEEE-754 standard for resolving\n     * floating-point values which can produce unexpected results.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.7.0\n     * @category Number\n     * @param {number} [lower=0] The lower bound.\n     * @param {number} [upper=1] The upper bound.\n     * @param {boolean} [floating] Specify returning a floating-point number.\n     * @returns {number} Returns the random number.\n     * @example\n     *\n     * _.random(0, 5);\n     * // => an integer between 0 and 5\n     *\n     * _.random(5);\n     * // => also an integer between 0 and 5\n     *\n     * _.random(5, true);\n     * // => a floating-point number between 0 and 5\n     *\n     * _.random(1.2, 5.2);\n     * // => a floating-point number between 1.2 and 5.2\n     */\n    function random(lower, upper, floating) {\n      if (floating && typeof floating != 'boolean' && isIterateeCall(lower, upper, floating)) {\n        upper = floating = undefined;\n      }\n      if (floating === undefined) {\n        if (typeof upper == 'boolean') {\n          floating = upper;\n          upper = undefined;\n        }\n        else if (typeof lower == 'boolean') {\n          floating = lower;\n          lower = undefined;\n        }\n      }\n      if (lower === undefined && upper === undefined) {\n        lower = 0;\n        upper = 1;\n      }\n      else {\n        lower = toFinite(lower);\n        if (upper === undefined) {\n          upper = lower;\n          lower = 0;\n        } else {\n          upper = toFinite(upper);\n        }\n      }\n      if (lower > upper) {\n        var temp = lower;\n        lower = upper;\n        upper = temp;\n      }\n      if (floating || lower % 1 || upper % 1) {\n        var rand = nativeRandom();\n        return nativeMin(lower + (rand * (upper - lower + freeParseFloat('1e-' + ((rand + '').length - 1)))), upper);\n      }\n      return baseRandom(lower, upper);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Converts `string` to [camel case](https://en.wikipedia.org/wiki/CamelCase).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the camel cased string.\n     * @example\n     *\n     * _.camelCase('Foo Bar');\n     * // => 'fooBar'\n     *\n     * _.camelCase('--foo-bar--');\n     * // => 'fooBar'\n     *\n     * _.camelCase('__FOO_BAR__');\n     * // => 'fooBar'\n     */\n    var camelCase = createCompounder(function(result, word, index) {\n      word = word.toLowerCase();\n      return result + (index ? capitalize(word) : word);\n    });\n\n    /**\n     * Converts the first character of `string` to upper case and the remaining\n     * to lower case.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to capitalize.\n     * @returns {string} Returns the capitalized string.\n     * @example\n     *\n     * _.capitalize('FRED');\n     * // => 'Fred'\n     */\n    function capitalize(string) {\n      return upperFirst(toString(string).toLowerCase());\n    }\n\n    /**\n     * Deburrs `string` by converting\n     * [Latin-1 Supplement](https://en.wikipedia.org/wiki/Latin-1_Supplement_(Unicode_block)#Character_table)\n     * and [Latin Extended-A](https://en.wikipedia.org/wiki/Latin_Extended-A)\n     * letters to basic Latin letters and removing\n     * [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to deburr.\n     * @returns {string} Returns the deburred string.\n     * @example\n     *\n     * _.deburr('dj vu');\n     * // => 'deja vu'\n     */\n    function deburr(string) {\n      string = toString(string);\n      return string && string.replace(reLatin, deburrLetter).replace(reComboMark, '');\n    }\n\n    /**\n     * Checks if `string` ends with the given target string.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to inspect.\n     * @param {string} [target] The string to search for.\n     * @param {number} [position=string.length] The position to search up to.\n     * @returns {boolean} Returns `true` if `string` ends with `target`,\n     *  else `false`.\n     * @example\n     *\n     * _.endsWith('abc', 'c');\n     * // => true\n     *\n     * _.endsWith('abc', 'b');\n     * // => false\n     *\n     * _.endsWith('abc', 'b', 2);\n     * // => true\n     */\n    function endsWith(string, target, position) {\n      string = toString(string);\n      target = baseToString(target);\n\n      var length = string.length;\n      position = position === undefined\n        ? length\n        : baseClamp(toInteger(position), 0, length);\n\n      var end = position;\n      position -= target.length;\n      return position >= 0 && string.slice(position, end) == target;\n    }\n\n    /**\n     * Converts the characters \"&\", \"<\", \">\", '\"', and \"'\" in `string` to their\n     * corresponding HTML entities.\n     *\n     * **Note:** No other characters are escaped. To escape additional\n     * characters use a third-party library like [_he_](https://mths.be/he).\n     *\n     * Though the \">\" character is escaped for symmetry, characters like\n     * \">\" and \"/\" don't need escaping in HTML and have no special meaning\n     * unless they're part of a tag or unquoted attribute value. See\n     * [Mathias Bynens's article](https://mathiasbynens.be/notes/ambiguous-ampersands)\n     * (under \"semi-related fun fact\") for more details.\n     *\n     * When working with HTML you should always\n     * [quote attribute values](http://wonko.com/post/html-escaping) to reduce\n     * XSS vectors.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to escape.\n     * @returns {string} Returns the escaped string.\n     * @example\n     *\n     * _.escape('fred, barney, & pebbles');\n     * // => 'fred, barney, &amp; pebbles'\n     */\n    function escape(string) {\n      string = toString(string);\n      return (string && reHasUnescapedHtml.test(string))\n        ? string.replace(reUnescapedHtml, escapeHtmlChar)\n        : string;\n    }\n\n    /**\n     * Escapes the `RegExp` special characters \"^\", \"$\", \"\\\", \".\", \"*\", \"+\",\n     * \"?\", \"(\", \")\", \"[\", \"]\", \"{\", \"}\", and \"|\" in `string`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to escape.\n     * @returns {string} Returns the escaped string.\n     * @example\n     *\n     * _.escapeRegExp('[lodash](https://lodash.com/)');\n     * // => '\\[lodash\\]\\(https://lodash\\.com/\\)'\n     */\n    function escapeRegExp(string) {\n      string = toString(string);\n      return (string && reHasRegExpChar.test(string))\n        ? string.replace(reRegExpChar, '\\\\$&')\n        : string;\n    }\n\n    /**\n     * Converts `string` to\n     * [kebab case](https://en.wikipedia.org/wiki/Letter_case#Special_case_styles).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the kebab cased string.\n     * @example\n     *\n     * _.kebabCase('Foo Bar');\n     * // => 'foo-bar'\n     *\n     * _.kebabCase('fooBar');\n     * // => 'foo-bar'\n     *\n     * _.kebabCase('__FOO_BAR__');\n     * // => 'foo-bar'\n     */\n    var kebabCase = createCompounder(function(result, word, index) {\n      return result + (index ? '-' : '') + word.toLowerCase();\n    });\n\n    /**\n     * Converts `string`, as space separated words, to lower case.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the lower cased string.\n     * @example\n     *\n     * _.lowerCase('--Foo-Bar--');\n     * // => 'foo bar'\n     *\n     * _.lowerCase('fooBar');\n     * // => 'foo bar'\n     *\n     * _.lowerCase('__FOO_BAR__');\n     * // => 'foo bar'\n     */\n    var lowerCase = createCompounder(function(result, word, index) {\n      return result + (index ? ' ' : '') + word.toLowerCase();\n    });\n\n    /**\n     * Converts the first character of `string` to lower case.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the converted string.\n     * @example\n     *\n     * _.lowerFirst('Fred');\n     * // => 'fred'\n     *\n     * _.lowerFirst('FRED');\n     * // => 'fRED'\n     */\n    var lowerFirst = createCaseFirst('toLowerCase');\n\n    /**\n     * Pads `string` on the left and right sides if it's shorter than `length`.\n     * Padding characters are truncated if they can't be evenly divided by `length`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.pad('abc', 8);\n     * // => '  abc   '\n     *\n     * _.pad('abc', 8, '_-');\n     * // => '_-abc_-_'\n     *\n     * _.pad('abc', 3);\n     * // => 'abc'\n     */\n    function pad(string, length, chars) {\n      string = toString(string);\n      length = toInteger(length);\n\n      var strLength = length ? stringSize(string) : 0;\n      if (!length || strLength >= length) {\n        return string;\n      }\n      var mid = (length - strLength) / 2;\n      return (\n        createPadding(nativeFloor(mid), chars) +\n        string +\n        createPadding(nativeCeil(mid), chars)\n      );\n    }\n\n    /**\n     * Pads `string` on the right side if it's shorter than `length`. Padding\n     * characters are truncated if they exceed `length`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.padEnd('abc', 6);\n     * // => 'abc   '\n     *\n     * _.padEnd('abc', 6, '_-');\n     * // => 'abc_-_'\n     *\n     * _.padEnd('abc', 3);\n     * // => 'abc'\n     */\n    function padEnd(string, length, chars) {\n      string = toString(string);\n      length = toInteger(length);\n\n      var strLength = length ? stringSize(string) : 0;\n      return (length && strLength < length)\n        ? (string + createPadding(length - strLength, chars))\n        : string;\n    }\n\n    /**\n     * Pads `string` on the left side if it's shorter than `length`. Padding\n     * characters are truncated if they exceed `length`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.padStart('abc', 6);\n     * // => '   abc'\n     *\n     * _.padStart('abc', 6, '_-');\n     * // => '_-_abc'\n     *\n     * _.padStart('abc', 3);\n     * // => 'abc'\n     */\n    function padStart(string, length, chars) {\n      string = toString(string);\n      length = toInteger(length);\n\n      var strLength = length ? stringSize(string) : 0;\n      return (length && strLength < length)\n        ? (createPadding(length - strLength, chars) + string)\n        : string;\n    }\n\n    /**\n     * Converts `string` to an integer of the specified radix. If `radix` is\n     * `undefined` or `0`, a `radix` of `10` is used unless `value` is a\n     * hexadecimal, in which case a `radix` of `16` is used.\n     *\n     * **Note:** This method aligns with the\n     * [ES5 implementation](https://es5.github.io/#x15.1.2.2) of `parseInt`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.1.0\n     * @category String\n     * @param {string} string The string to convert.\n     * @param {number} [radix=10] The radix to interpret `value` by.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.parseInt('08');\n     * // => 8\n     *\n     * _.map(['6', '08', '10'], _.parseInt);\n     * // => [6, 8, 10]\n     */\n    function parseInt(string, radix, guard) {\n      if (guard || radix == null) {\n        radix = 0;\n      } else if (radix) {\n        radix = +radix;\n      }\n      return nativeParseInt(toString(string).replace(reTrimStart, ''), radix || 0);\n    }\n\n    /**\n     * Repeats the given string `n` times.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to repeat.\n     * @param {number} [n=1] The number of times to repeat the string.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {string} Returns the repeated string.\n     * @example\n     *\n     * _.repeat('*', 3);\n     * // => '***'\n     *\n     * _.repeat('abc', 2);\n     * // => 'abcabc'\n     *\n     * _.repeat('abc', 0);\n     * // => ''\n     */\n    function repeat(string, n, guard) {\n      if ((guard ? isIterateeCall(string, n, guard) : n === undefined)) {\n        n = 1;\n      } else {\n        n = toInteger(n);\n      }\n      return baseRepeat(toString(string), n);\n    }\n\n    /**\n     * Replaces matches for `pattern` in `string` with `replacement`.\n     *\n     * **Note:** This method is based on\n     * [`String#replace`](https://mdn.io/String/replace).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to modify.\n     * @param {RegExp|string} pattern The pattern to replace.\n     * @param {Function|string} replacement The match replacement.\n     * @returns {string} Returns the modified string.\n     * @example\n     *\n     * _.replace('Hi Fred', 'Fred', 'Barney');\n     * // => 'Hi Barney'\n     */\n    function replace() {\n      var args = arguments,\n          string = toString(args[0]);\n\n      return args.length < 3 ? string : string.replace(args[1], args[2]);\n    }\n\n    /**\n     * Converts `string` to\n     * [snake case](https://en.wikipedia.org/wiki/Snake_case).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the snake cased string.\n     * @example\n     *\n     * _.snakeCase('Foo Bar');\n     * // => 'foo_bar'\n     *\n     * _.snakeCase('fooBar');\n     * // => 'foo_bar'\n     *\n     * _.snakeCase('--FOO-BAR--');\n     * // => 'foo_bar'\n     */\n    var snakeCase = createCompounder(function(result, word, index) {\n      return result + (index ? '_' : '') + word.toLowerCase();\n    });\n\n    /**\n     * Splits `string` by `separator`.\n     *\n     * **Note:** This method is based on\n     * [`String#split`](https://mdn.io/String/split).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to split.\n     * @param {RegExp|string} separator The separator pattern to split by.\n     * @param {number} [limit] The length to truncate results to.\n     * @returns {Array} Returns the string segments.\n     * @example\n     *\n     * _.split('a-b-c', '-', 2);\n     * // => ['a', 'b']\n     */\n    function split(string, separator, limit) {\n      if (limit && typeof limit != 'number' && isIterateeCall(string, separator, limit)) {\n        separator = limit = undefined;\n      }\n      limit = limit === undefined ? MAX_ARRAY_LENGTH : limit >>> 0;\n      if (!limit) {\n        return [];\n      }\n      string = toString(string);\n      if (string && (\n            typeof separator == 'string' ||\n            (separator != null && !isRegExp(separator))\n          )) {\n        separator = baseToString(separator);\n        if (!separator && hasUnicode(string)) {\n          return castSlice(stringToArray(string), 0, limit);\n        }\n      }\n      return string.split(separator, limit);\n    }\n\n    /**\n     * Converts `string` to\n     * [start case](https://en.wikipedia.org/wiki/Letter_case#Stylistic_or_specialised_usage).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.1.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the start cased string.\n     * @example\n     *\n     * _.startCase('--foo-bar--');\n     * // => 'Foo Bar'\n     *\n     * _.startCase('fooBar');\n     * // => 'Foo Bar'\n     *\n     * _.startCase('__FOO_BAR__');\n     * // => 'FOO BAR'\n     */\n    var startCase = createCompounder(function(result, word, index) {\n      return result + (index ? ' ' : '') + upperFirst(word);\n    });\n\n    /**\n     * Checks if `string` starts with the given target string.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to inspect.\n     * @param {string} [target] The string to search for.\n     * @param {number} [position=0] The position to search from.\n     * @returns {boolean} Returns `true` if `string` starts with `target`,\n     *  else `false`.\n     * @example\n     *\n     * _.startsWith('abc', 'a');\n     * // => true\n     *\n     * _.startsWith('abc', 'b');\n     * // => false\n     *\n     * _.startsWith('abc', 'b', 1);\n     * // => true\n     */\n    function startsWith(string, target, position) {\n      string = toString(string);\n      position = position == null\n        ? 0\n        : baseClamp(toInteger(position), 0, string.length);\n\n      target = baseToString(target);\n      return string.slice(position, position + target.length) == target;\n    }\n\n    /**\n     * Creates a compiled template function that can interpolate data properties\n     * in \"interpolate\" delimiters, HTML-escape interpolated data properties in\n     * \"escape\" delimiters, and execute JavaScript in \"evaluate\" delimiters. Data\n     * properties may be accessed as free variables in the template. If a setting\n     * object is given, it takes precedence over `_.templateSettings` values.\n     *\n     * **Note:** In the development build `_.template` utilizes\n     * [sourceURLs](http://www.html5rocks.com/en/tutorials/developertools/sourcemaps/#toc-sourceurl)\n     * for easier debugging.\n     *\n     * For more information on precompiling templates see\n     * [lodash's custom builds documentation](https://lodash.com/custom-builds).\n     *\n     * For more information on Chrome extension sandboxes see\n     * [Chrome's extensions documentation](https://developer.chrome.com/extensions/sandboxingEval).\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The template string.\n     * @param {Object} [options={}] The options object.\n     * @param {RegExp} [options.escape=_.templateSettings.escape]\n     *  The HTML \"escape\" delimiter.\n     * @param {RegExp} [options.evaluate=_.templateSettings.evaluate]\n     *  The \"evaluate\" delimiter.\n     * @param {Object} [options.imports=_.templateSettings.imports]\n     *  An object to import into the template as free variables.\n     * @param {RegExp} [options.interpolate=_.templateSettings.interpolate]\n     *  The \"interpolate\" delimiter.\n     * @param {string} [options.sourceURL='lodash.templateSources[n]']\n     *  The sourceURL of the compiled template.\n     * @param {string} [options.variable='obj']\n     *  The data object variable name.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Function} Returns the compiled template function.\n     * @example\n     *\n     * // Use the \"interpolate\" delimiter to create a compiled template.\n     * var compiled = _.template('hello <%= user %>!');\n     * compiled({ 'user': 'fred' });\n     * // => 'hello fred!'\n     *\n     * // Use the HTML \"escape\" delimiter to escape data property values.\n     * var compiled = _.template('<b><%- value %></b>');\n     * compiled({ 'value': '<script>' });\n     * // => '<b>&lt;script&gt;</b>'\n     *\n     * // Use the \"evaluate\" delimiter to execute JavaScript and generate HTML.\n     * var compiled = _.template('<% _.forEach(users, function(user) { %><li><%- user %></li><% }); %>');\n     * compiled({ 'users': ['fred', 'barney'] });\n     * // => '<li>fred</li><li>barney</li>'\n     *\n     * // Use the internal `print` function in \"evaluate\" delimiters.\n     * var compiled = _.template('<% print(\"hello \" + user); %>!');\n     * compiled({ 'user': 'barney' });\n     * // => 'hello barney!'\n     *\n     * // Use the ES template literal delimiter as an \"interpolate\" delimiter.\n     * // Disable support by replacing the \"interpolate\" delimiter.\n     * var compiled = _.template('hello ${ user }!');\n     * compiled({ 'user': 'pebbles' });\n     * // => 'hello pebbles!'\n     *\n     * // Use backslashes to treat delimiters as plain text.\n     * var compiled = _.template('<%= \"\\\\<%- value %\\\\>\" %>');\n     * compiled({ 'value': 'ignored' });\n     * // => '<%- value %>'\n     *\n     * // Use the `imports` option to import `jQuery` as `jq`.\n     * var text = '<% jq.each(users, function(user) { %><li><%- user %></li><% }); %>';\n     * var compiled = _.template(text, { 'imports': { 'jq': jQuery } });\n     * compiled({ 'users': ['fred', 'barney'] });\n     * // => '<li>fred</li><li>barney</li>'\n     *\n     * // Use the `sourceURL` option to specify a custom sourceURL for the template.\n     * var compiled = _.template('hello <%= user %>!', { 'sourceURL': '/basic/greeting.jst' });\n     * compiled(data);\n     * // => Find the source of \"greeting.jst\" under the Sources tab or Resources panel of the web inspector.\n     *\n     * // Use the `variable` option to ensure a with-statement isn't used in the compiled template.\n     * var compiled = _.template('hi <%= data.user %>!', { 'variable': 'data' });\n     * compiled.source;\n     * // => function(data) {\n     * //   var __t, __p = '';\n     * //   __p += 'hi ' + ((__t = ( data.user )) == null ? '' : __t) + '!';\n     * //   return __p;\n     * // }\n     *\n     * // Use custom template delimiters.\n     * _.templateSettings.interpolate = /{{([\\s\\S]+?)}}/g;\n     * var compiled = _.template('hello {{ user }}!');\n     * compiled({ 'user': 'mustache' });\n     * // => 'hello mustache!'\n     *\n     * // Use the `source` property to inline compiled templates for meaningful\n     * // line numbers in error messages and stack traces.\n     * fs.writeFileSync(path.join(process.cwd(), 'jst.js'), '\\\n     *   var JST = {\\\n     *     \"main\": ' + _.template(mainText).source + '\\\n     *   };\\\n     * ');\n     */\n    function template(string, options, guard) {\n      // Based on John Resig's `tmpl` implementation\n      // (http://ejohn.org/blog/javascript-micro-templating/)\n      // and Laura Doktorova's doT.js (https://github.com/olado/doT).\n      var settings = lodash.templateSettings;\n\n      if (guard && isIterateeCall(string, options, guard)) {\n        options = undefined;\n      }\n      string = toString(string);\n      options = assignInWith({}, options, settings, customDefaultsAssignIn);\n\n      var imports = assignInWith({}, options.imports, settings.imports, customDefaultsAssignIn),\n          importsKeys = keys(imports),\n          importsValues = baseValues(imports, importsKeys);\n\n      var isEscaping,\n          isEvaluating,\n          index = 0,\n          interpolate = options.interpolate || reNoMatch,\n          source = \"__p += '\";\n\n      // Compile the regexp to match each delimiter.\n      var reDelimiters = RegExp(\n        (options.escape || reNoMatch).source + '|' +\n        interpolate.source + '|' +\n        (interpolate === reInterpolate ? reEsTemplate : reNoMatch).source + '|' +\n        (options.evaluate || reNoMatch).source + '|$'\n      , 'g');\n\n      // Use a sourceURL for easier debugging.\n      // The sourceURL gets injected into the source that's eval-ed, so be careful\n      // to normalize all kinds of whitespace, so e.g. newlines (and unicode versions of it) can't sneak in\n      // and escape the comment, thus injecting code that gets evaled.\n      var sourceURL = '//# sourceURL=' +\n        (hasOwnProperty.call(options, 'sourceURL')\n          ? (options.sourceURL + '').replace(/\\s/g, ' ')\n          : ('lodash.templateSources[' + (++templateCounter) + ']')\n        ) + '\\n';\n\n      string.replace(reDelimiters, function(match, escapeValue, interpolateValue, esTemplateValue, evaluateValue, offset) {\n        interpolateValue || (interpolateValue = esTemplateValue);\n\n        // Escape characters that can't be included in string literals.\n        source += string.slice(index, offset).replace(reUnescapedString, escapeStringChar);\n\n        // Replace delimiters with snippets.\n        if (escapeValue) {\n          isEscaping = true;\n          source += \"' +\\n__e(\" + escapeValue + \") +\\n'\";\n        }\n        if (evaluateValue) {\n          isEvaluating = true;\n          source += \"';\\n\" + evaluateValue + \";\\n__p += '\";\n        }\n        if (interpolateValue) {\n          source += \"' +\\n((__t = (\" + interpolateValue + \")) == null ? '' : __t) +\\n'\";\n        }\n        index = offset + match.length;\n\n        // The JS engine embedded in Adobe products needs `match` returned in\n        // order to produce the correct `offset` value.\n        return match;\n      });\n\n      source += \"';\\n\";\n\n      // If `variable` is not specified wrap a with-statement around the generated\n      // code to add the data object to the top of the scope chain.\n      var variable = hasOwnProperty.call(options, 'variable') && options.variable;\n      if (!variable) {\n        source = 'with (obj) {\\n' + source + '\\n}\\n';\n      }\n      // Throw an error if a forbidden character was found in `variable`, to prevent\n      // potential command injection attacks.\n      else if (reForbiddenIdentifierChars.test(variable)) {\n        throw new Error(INVALID_TEMPL_VAR_ERROR_TEXT);\n      }\n\n      // Cleanup code by stripping empty strings.\n      source = (isEvaluating ? source.replace(reEmptyStringLeading, '') : source)\n        .replace(reEmptyStringMiddle, '$1')\n        .replace(reEmptyStringTrailing, '$1;');\n\n      // Frame code as the function body.\n      source = 'function(' + (variable || 'obj') + ') {\\n' +\n        (variable\n          ? ''\n          : 'obj || (obj = {});\\n'\n        ) +\n        \"var __t, __p = ''\" +\n        (isEscaping\n           ? ', __e = _.escape'\n           : ''\n        ) +\n        (isEvaluating\n          ? ', __j = Array.prototype.join;\\n' +\n            \"function print() { __p += __j.call(arguments, '') }\\n\"\n          : ';\\n'\n        ) +\n        source +\n        'return __p\\n}';\n\n      var result = attempt(function() {\n        return Function(importsKeys, sourceURL + 'return ' + source)\n          .apply(undefined, importsValues);\n      });\n\n      // Provide the compiled function's source by its `toString` method or\n      // the `source` property as a convenience for inlining compiled templates.\n      result.source = source;\n      if (isError(result)) {\n        throw result;\n      }\n      return result;\n    }\n\n    /**\n     * Converts `string`, as a whole, to lower case just like\n     * [String#toLowerCase](https://mdn.io/toLowerCase).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the lower cased string.\n     * @example\n     *\n     * _.toLower('--Foo-Bar--');\n     * // => '--foo-bar--'\n     *\n     * _.toLower('fooBar');\n     * // => 'foobar'\n     *\n     * _.toLower('__FOO_BAR__');\n     * // => '__foo_bar__'\n     */\n    function toLower(value) {\n      return toString(value).toLowerCase();\n    }\n\n    /**\n     * Converts `string`, as a whole, to upper case just like\n     * [String#toUpperCase](https://mdn.io/toUpperCase).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the upper cased string.\n     * @example\n     *\n     * _.toUpper('--foo-bar--');\n     * // => '--FOO-BAR--'\n     *\n     * _.toUpper('fooBar');\n     * // => 'FOOBAR'\n     *\n     * _.toUpper('__foo_bar__');\n     * // => '__FOO_BAR__'\n     */\n    function toUpper(value) {\n      return toString(value).toUpperCase();\n    }\n\n    /**\n     * Removes leading and trailing whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trim('  abc  ');\n     * // => 'abc'\n     *\n     * _.trim('-_-abc-_-', '_-');\n     * // => 'abc'\n     *\n     * _.map(['  foo  ', '  bar  '], _.trim);\n     * // => ['foo', 'bar']\n     */\n    function trim(string, chars, guard) {\n      string = toString(string);\n      if (string && (guard || chars === undefined)) {\n        return baseTrim(string);\n      }\n      if (!string || !(chars = baseToString(chars))) {\n        return string;\n      }\n      var strSymbols = stringToArray(string),\n          chrSymbols = stringToArray(chars),\n          start = charsStartIndex(strSymbols, chrSymbols),\n          end = charsEndIndex(strSymbols, chrSymbols) + 1;\n\n      return castSlice(strSymbols, start, end).join('');\n    }\n\n    /**\n     * Removes trailing whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trimEnd('  abc  ');\n     * // => '  abc'\n     *\n     * _.trimEnd('-_-abc-_-', '_-');\n     * // => '-_-abc'\n     */\n    function trimEnd(string, chars, guard) {\n      string = toString(string);\n      if (string && (guard || chars === undefined)) {\n        return string.slice(0, trimmedEndIndex(string) + 1);\n      }\n      if (!string || !(chars = baseToString(chars))) {\n        return string;\n      }\n      var strSymbols = stringToArray(string),\n          end = charsEndIndex(strSymbols, stringToArray(chars)) + 1;\n\n      return castSlice(strSymbols, 0, end).join('');\n    }\n\n    /**\n     * Removes leading whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trimStart('  abc  ');\n     * // => 'abc  '\n     *\n     * _.trimStart('-_-abc-_-', '_-');\n     * // => 'abc-_-'\n     */\n    function trimStart(string, chars, guard) {\n      string = toString(string);\n      if (string && (guard || chars === undefined)) {\n        return string.replace(reTrimStart, '');\n      }\n      if (!string || !(chars = baseToString(chars))) {\n        return string;\n      }\n      var strSymbols = stringToArray(string),\n          start = charsStartIndex(strSymbols, stringToArray(chars));\n\n      return castSlice(strSymbols, start).join('');\n    }\n\n    /**\n     * Truncates `string` if it's longer than the given maximum string length.\n     * The last characters of the truncated string are replaced with the omission\n     * string which defaults to \"...\".\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to truncate.\n     * @param {Object} [options={}] The options object.\n     * @param {number} [options.length=30] The maximum string length.\n     * @param {string} [options.omission='...'] The string to indicate text is omitted.\n     * @param {RegExp|string} [options.separator] The separator pattern to truncate to.\n     * @returns {string} Returns the truncated string.\n     * @example\n     *\n     * _.truncate('hi-diddly-ho there, neighborino');\n     * // => 'hi-diddly-ho there, neighbo...'\n     *\n     * _.truncate('hi-diddly-ho there, neighborino', {\n     *   'length': 24,\n     *   'separator': ' '\n     * });\n     * // => 'hi-diddly-ho there,...'\n     *\n     * _.truncate('hi-diddly-ho there, neighborino', {\n     *   'length': 24,\n     *   'separator': /,? +/\n     * });\n     * // => 'hi-diddly-ho there...'\n     *\n     * _.truncate('hi-diddly-ho there, neighborino', {\n     *   'omission': ' [...]'\n     * });\n     * // => 'hi-diddly-ho there, neig [...]'\n     */\n    function truncate(string, options) {\n      var length = DEFAULT_TRUNC_LENGTH,\n          omission = DEFAULT_TRUNC_OMISSION;\n\n      if (isObject(options)) {\n        var separator = 'separator' in options ? options.separator : separator;\n        length = 'length' in options ? toInteger(options.length) : length;\n        omission = 'omission' in options ? baseToString(options.omission) : omission;\n      }\n      string = toString(string);\n\n      var strLength = string.length;\n      if (hasUnicode(string)) {\n        var strSymbols = stringToArray(string);\n        strLength = strSymbols.length;\n      }\n      if (length >= strLength) {\n        return string;\n      }\n      var end = length - stringSize(omission);\n      if (end < 1) {\n        return omission;\n      }\n      var result = strSymbols\n        ? castSlice(strSymbols, 0, end).join('')\n        : string.slice(0, end);\n\n      if (separator === undefined) {\n        return result + omission;\n      }\n      if (strSymbols) {\n        end += (result.length - end);\n      }\n      if (isRegExp(separator)) {\n        if (string.slice(end).search(separator)) {\n          var match,\n              substring = result;\n\n          if (!separator.global) {\n            separator = RegExp(separator.source, toString(reFlags.exec(separator)) + 'g');\n          }\n          separator.lastIndex = 0;\n          while ((match = separator.exec(substring))) {\n            var newEnd = match.index;\n          }\n          result = result.slice(0, newEnd === undefined ? end : newEnd);\n        }\n      } else if (string.indexOf(baseToString(separator), end) != end) {\n        var index = result.lastIndexOf(separator);\n        if (index > -1) {\n          result = result.slice(0, index);\n        }\n      }\n      return result + omission;\n    }\n\n    /**\n     * The inverse of `_.escape`; this method converts the HTML entities\n     * `&amp;`, `&lt;`, `&gt;`, `&quot;`, and `&#39;` in `string` to\n     * their corresponding characters.\n     *\n     * **Note:** No other HTML entities are unescaped. To unescape additional\n     * HTML entities use a third-party library like [_he_](https://mths.be/he).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.6.0\n     * @category String\n     * @param {string} [string=''] The string to unescape.\n     * @returns {string} Returns the unescaped string.\n     * @example\n     *\n     * _.unescape('fred, barney, &amp; pebbles');\n     * // => 'fred, barney, & pebbles'\n     */\n    function unescape(string) {\n      string = toString(string);\n      return (string && reHasEscapedHtml.test(string))\n        ? string.replace(reEscapedHtml, unescapeHtmlChar)\n        : string;\n    }\n\n    /**\n     * Converts `string`, as space separated words, to upper case.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the upper cased string.\n     * @example\n     *\n     * _.upperCase('--foo-bar');\n     * // => 'FOO BAR'\n     *\n     * _.upperCase('fooBar');\n     * // => 'FOO BAR'\n     *\n     * _.upperCase('__foo_bar__');\n     * // => 'FOO BAR'\n     */\n    var upperCase = createCompounder(function(result, word, index) {\n      return result + (index ? ' ' : '') + word.toUpperCase();\n    });\n\n    /**\n     * Converts the first character of `string` to upper case.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the converted string.\n     * @example\n     *\n     * _.upperFirst('fred');\n     * // => 'Fred'\n     *\n     * _.upperFirst('FRED');\n     * // => 'FRED'\n     */\n    var upperFirst = createCaseFirst('toUpperCase');\n\n    /**\n     * Splits `string` into an array of its words.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to inspect.\n     * @param {RegExp|string} [pattern] The pattern to match words.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the words of `string`.\n     * @example\n     *\n     * _.words('fred, barney, & pebbles');\n     * // => ['fred', 'barney', 'pebbles']\n     *\n     * _.words('fred, barney, & pebbles', /[^, ]+/g);\n     * // => ['fred', 'barney', '&', 'pebbles']\n     */\n    function words(string, pattern, guard) {\n      string = toString(string);\n      pattern = guard ? undefined : pattern;\n\n      if (pattern === undefined) {\n        return hasUnicodeWord(string) ? unicodeWords(string) : asciiWords(string);\n      }\n      return string.match(pattern) || [];\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Attempts to invoke `func`, returning either the result or the caught error\n     * object. Any additional arguments are provided to `func` when it's invoked.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Util\n     * @param {Function} func The function to attempt.\n     * @param {...*} [args] The arguments to invoke `func` with.\n     * @returns {*} Returns the `func` result or error object.\n     * @example\n     *\n     * // Avoid throwing errors for invalid selectors.\n     * var elements = _.attempt(function(selector) {\n     *   return document.querySelectorAll(selector);\n     * }, '>_>');\n     *\n     * if (_.isError(elements)) {\n     *   elements = [];\n     * }\n     */\n    var attempt = baseRest(function(func, args) {\n      try {\n        return apply(func, undefined, args);\n      } catch (e) {\n        return isError(e) ? e : new Error(e);\n      }\n    });\n\n    /**\n     * Binds methods of an object to the object itself, overwriting the existing\n     * method.\n     *\n     * **Note:** This method doesn't set the \"length\" property of bound functions.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {Object} object The object to bind and assign the bound methods to.\n     * @param {...(string|string[])} methodNames The object method names to bind.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var view = {\n     *   'label': 'docs',\n     *   'click': function() {\n     *     console.log('clicked ' + this.label);\n     *   }\n     * };\n     *\n     * _.bindAll(view, ['click']);\n     * jQuery(element).on('click', view.click);\n     * // => Logs 'clicked docs' when clicked.\n     */\n    var bindAll = flatRest(function(object, methodNames) {\n      arrayEach(methodNames, function(key) {\n        key = toKey(key);\n        baseAssignValue(object, key, bind(object[key], object));\n      });\n      return object;\n    });\n\n    /**\n     * Creates a function that iterates over `pairs` and invokes the corresponding\n     * function of the first predicate to return truthy. The predicate-function\n     * pairs are invoked with the `this` binding and arguments of the created\n     * function.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {Array} pairs The predicate-function pairs.\n     * @returns {Function} Returns the new composite function.\n     * @example\n     *\n     * var func = _.cond([\n     *   [_.matches({ 'a': 1 }),           _.constant('matches A')],\n     *   [_.conforms({ 'b': _.isNumber }), _.constant('matches B')],\n     *   [_.stubTrue,                      _.constant('no match')]\n     * ]);\n     *\n     * func({ 'a': 1, 'b': 2 });\n     * // => 'matches A'\n     *\n     * func({ 'a': 0, 'b': 1 });\n     * // => 'matches B'\n     *\n     * func({ 'a': '1', 'b': '2' });\n     * // => 'no match'\n     */\n    function cond(pairs) {\n      var length = pairs == null ? 0 : pairs.length,\n          toIteratee = getIteratee();\n\n      pairs = !length ? [] : arrayMap(pairs, function(pair) {\n        if (typeof pair[1] != 'function') {\n          throw new TypeError(FUNC_ERROR_TEXT);\n        }\n        return [toIteratee(pair[0]), pair[1]];\n      });\n\n      return baseRest(function(args) {\n        var index = -1;\n        while (++index < length) {\n          var pair = pairs[index];\n          if (apply(pair[0], this, args)) {\n            return apply(pair[1], this, args);\n          }\n        }\n      });\n    }\n\n    /**\n     * Creates a function that invokes the predicate properties of `source` with\n     * the corresponding property values of a given object, returning `true` if\n     * all predicates return truthy, else `false`.\n     *\n     * **Note:** The created function is equivalent to `_.conformsTo` with\n     * `source` partially applied.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {Function} Returns the new spec function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': 2, 'b': 1 },\n     *   { 'a': 1, 'b': 2 }\n     * ];\n     *\n     * _.filter(objects, _.conforms({ 'b': function(n) { return n > 1; } }));\n     * // => [{ 'a': 1, 'b': 2 }]\n     */\n    function conforms(source) {\n      return baseConforms(baseClone(source, CLONE_DEEP_FLAG));\n    }\n\n    /**\n     * Creates a function that returns `value`.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Util\n     * @param {*} value The value to return from the new function.\n     * @returns {Function} Returns the new constant function.\n     * @example\n     *\n     * var objects = _.times(2, _.constant({ 'a': 1 }));\n     *\n     * console.log(objects);\n     * // => [{ 'a': 1 }, { 'a': 1 }]\n     *\n     * console.log(objects[0] === objects[1]);\n     * // => true\n     */\n    function constant(value) {\n      return function() {\n        return value;\n      };\n    }\n\n    /**\n     * Checks `value` to determine whether a default value should be returned in\n     * its place. The `defaultValue` is returned if `value` is `NaN`, `null`,\n     * or `undefined`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.14.0\n     * @category Util\n     * @param {*} value The value to check.\n     * @param {*} defaultValue The default value.\n     * @returns {*} Returns the resolved value.\n     * @example\n     *\n     * _.defaultTo(1, 10);\n     * // => 1\n     *\n     * _.defaultTo(undefined, 10);\n     * // => 10\n     */\n    function defaultTo(value, defaultValue) {\n      return (value == null || value !== value) ? defaultValue : value;\n    }\n\n    /**\n     * Creates a function that returns the result of invoking the given functions\n     * with the `this` binding of the created function, where each successive\n     * invocation is supplied the return value of the previous.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Util\n     * @param {...(Function|Function[])} [funcs] The functions to invoke.\n     * @returns {Function} Returns the new composite function.\n     * @see _.flowRight\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var addSquare = _.flow([_.add, square]);\n     * addSquare(1, 2);\n     * // => 9\n     */\n    var flow = createFlow();\n\n    /**\n     * This method is like `_.flow` except that it creates a function that\n     * invokes the given functions from right to left.\n     *\n     * @static\n     * @since 3.0.0\n     * @memberOf _\n     * @category Util\n     * @param {...(Function|Function[])} [funcs] The functions to invoke.\n     * @returns {Function} Returns the new composite function.\n     * @see _.flow\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var addSquare = _.flowRight([square, _.add]);\n     * addSquare(1, 2);\n     * // => 9\n     */\n    var flowRight = createFlow(true);\n\n    /**\n     * This method returns the first argument it receives.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {*} value Any value.\n     * @returns {*} Returns `value`.\n     * @example\n     *\n     * var object = { 'a': 1 };\n     *\n     * console.log(_.identity(object) === object);\n     * // => true\n     */\n    function identity(value) {\n      return value;\n    }\n\n    /**\n     * Creates a function that invokes `func` with the arguments of the created\n     * function. If `func` is a property name, the created function returns the\n     * property value for a given element. If `func` is an array or object, the\n     * created function returns `true` for elements that contain the equivalent\n     * source properties, otherwise it returns `false`.\n     *\n     * @static\n     * @since 4.0.0\n     * @memberOf _\n     * @category Util\n     * @param {*} [func=_.identity] The value to convert to a callback.\n     * @returns {Function} Returns the callback.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': true },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.filter(users, _.iteratee({ 'user': 'barney', 'active': true }));\n     * // => [{ 'user': 'barney', 'age': 36, 'active': true }]\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.filter(users, _.iteratee(['user', 'fred']));\n     * // => [{ 'user': 'fred', 'age': 40 }]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.map(users, _.iteratee('user'));\n     * // => ['barney', 'fred']\n     *\n     * // Create custom iteratee shorthands.\n     * _.iteratee = _.wrap(_.iteratee, function(iteratee, func) {\n     *   return !_.isRegExp(func) ? iteratee(func) : function(string) {\n     *     return func.test(string);\n     *   };\n     * });\n     *\n     * _.filter(['abc', 'def'], /ef/);\n     * // => ['def']\n     */\n    function iteratee(func) {\n      return baseIteratee(typeof func == 'function' ? func : baseClone(func, CLONE_DEEP_FLAG));\n    }\n\n    /**\n     * Creates a function that performs a partial deep comparison between a given\n     * object and `source`, returning `true` if the given object has equivalent\n     * property values, else `false`.\n     *\n     * **Note:** The created function is equivalent to `_.isMatch` with `source`\n     * partially applied.\n     *\n     * Partial comparisons will match empty array and empty object `source`\n     * values against any array or object value, respectively. See `_.isEqual`\n     * for a list of supported value comparisons.\n     *\n     * **Note:** Multiple values can be checked by combining several matchers\n     * using `_.overSome`\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Util\n     * @param {Object} source The object of property values to match.\n     * @returns {Function} Returns the new spec function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': 1, 'b': 2, 'c': 3 },\n     *   { 'a': 4, 'b': 5, 'c': 6 }\n     * ];\n     *\n     * _.filter(objects, _.matches({ 'a': 4, 'c': 6 }));\n     * // => [{ 'a': 4, 'b': 5, 'c': 6 }]\n     *\n     * // Checking for several possible values\n     * _.filter(objects, _.overSome([_.matches({ 'a': 1 }), _.matches({ 'a': 4 })]));\n     * // => [{ 'a': 1, 'b': 2, 'c': 3 }, { 'a': 4, 'b': 5, 'c': 6 }]\n     */\n    function matches(source) {\n      return baseMatches(baseClone(source, CLONE_DEEP_FLAG));\n    }\n\n    /**\n     * Creates a function that performs a partial deep comparison between the\n     * value at `path` of a given object to `srcValue`, returning `true` if the\n     * object value is equivalent, else `false`.\n     *\n     * **Note:** Partial comparisons will match empty array and empty object\n     * `srcValue` values against any array or object value, respectively. See\n     * `_.isEqual` for a list of supported value comparisons.\n     *\n     * **Note:** Multiple values can be checked by combining several matchers\n     * using `_.overSome`\n     *\n     * @static\n     * @memberOf _\n     * @since 3.2.0\n     * @category Util\n     * @param {Array|string} path The path of the property to get.\n     * @param {*} srcValue The value to match.\n     * @returns {Function} Returns the new spec function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': 1, 'b': 2, 'c': 3 },\n     *   { 'a': 4, 'b': 5, 'c': 6 }\n     * ];\n     *\n     * _.find(objects, _.matchesProperty('a', 4));\n     * // => { 'a': 4, 'b': 5, 'c': 6 }\n     *\n     * // Checking for several possible values\n     * _.filter(objects, _.overSome([_.matchesProperty('a', 1), _.matchesProperty('a', 4)]));\n     * // => [{ 'a': 1, 'b': 2, 'c': 3 }, { 'a': 4, 'b': 5, 'c': 6 }]\n     */\n    function matchesProperty(path, srcValue) {\n      return baseMatchesProperty(path, baseClone(srcValue, CLONE_DEEP_FLAG));\n    }\n\n    /**\n     * Creates a function that invokes the method at `path` of a given object.\n     * Any additional arguments are provided to the invoked method.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.7.0\n     * @category Util\n     * @param {Array|string} path The path of the method to invoke.\n     * @param {...*} [args] The arguments to invoke the method with.\n     * @returns {Function} Returns the new invoker function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': { 'b': _.constant(2) } },\n     *   { 'a': { 'b': _.constant(1) } }\n     * ];\n     *\n     * _.map(objects, _.method('a.b'));\n     * // => [2, 1]\n     *\n     * _.map(objects, _.method(['a', 'b']));\n     * // => [2, 1]\n     */\n    var method = baseRest(function(path, args) {\n      return function(object) {\n        return baseInvoke(object, path, args);\n      };\n    });\n\n    /**\n     * The opposite of `_.method`; this method creates a function that invokes\n     * the method at a given path of `object`. Any additional arguments are\n     * provided to the invoked method.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.7.0\n     * @category Util\n     * @param {Object} object The object to query.\n     * @param {...*} [args] The arguments to invoke the method with.\n     * @returns {Function} Returns the new invoker function.\n     * @example\n     *\n     * var array = _.times(3, _.constant),\n     *     object = { 'a': array, 'b': array, 'c': array };\n     *\n     * _.map(['a[2]', 'c[0]'], _.methodOf(object));\n     * // => [2, 0]\n     *\n     * _.map([['a', '2'], ['c', '0']], _.methodOf(object));\n     * // => [2, 0]\n     */\n    var methodOf = baseRest(function(object, args) {\n      return function(path) {\n        return baseInvoke(object, path, args);\n      };\n    });\n\n    /**\n     * Adds all own enumerable string keyed function properties of a source\n     * object to the destination object. If `object` is a function, then methods\n     * are added to its prototype as well.\n     *\n     * **Note:** Use `_.runInContext` to create a pristine `lodash` function to\n     * avoid conflicts caused by modifying the original.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {Function|Object} [object=lodash] The destination object.\n     * @param {Object} source The object of functions to add.\n     * @param {Object} [options={}] The options object.\n     * @param {boolean} [options.chain=true] Specify whether mixins are chainable.\n     * @returns {Function|Object} Returns `object`.\n     * @example\n     *\n     * function vowels(string) {\n     *   return _.filter(string, function(v) {\n     *     return /[aeiou]/i.test(v);\n     *   });\n     * }\n     *\n     * _.mixin({ 'vowels': vowels });\n     * _.vowels('fred');\n     * // => ['e']\n     *\n     * _('fred').vowels().value();\n     * // => ['e']\n     *\n     * _.mixin({ 'vowels': vowels }, { 'chain': false });\n     * _('fred').vowels();\n     * // => ['e']\n     */\n    function mixin(object, source, options) {\n      var props = keys(source),\n          methodNames = baseFunctions(source, props);\n\n      if (options == null &&\n          !(isObject(source) && (methodNames.length || !props.length))) {\n        options = source;\n        source = object;\n        object = this;\n        methodNames = baseFunctions(source, keys(source));\n      }\n      var chain = !(isObject(options) && 'chain' in options) || !!options.chain,\n          isFunc = isFunction(object);\n\n      arrayEach(methodNames, function(methodName) {\n        var func = source[methodName];\n        object[methodName] = func;\n        if (isFunc) {\n          object.prototype[methodName] = function() {\n            var chainAll = this.__chain__;\n            if (chain || chainAll) {\n              var result = object(this.__wrapped__),\n                  actions = result.__actions__ = copyArray(this.__actions__);\n\n              actions.push({ 'func': func, 'args': arguments, 'thisArg': object });\n              result.__chain__ = chainAll;\n              return result;\n            }\n            return func.apply(object, arrayPush([this.value()], arguments));\n          };\n        }\n      });\n\n      return object;\n    }\n\n    /**\n     * Reverts the `_` variable to its previous value and returns a reference to\n     * the `lodash` function.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @returns {Function} Returns the `lodash` function.\n     * @example\n     *\n     * var lodash = _.noConflict();\n     */\n    function noConflict() {\n      if (root._ === this) {\n        root._ = oldDash;\n      }\n      return this;\n    }\n\n    /**\n     * This method returns `undefined`.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.3.0\n     * @category Util\n     * @example\n     *\n     * _.times(2, _.noop);\n     * // => [undefined, undefined]\n     */\n    function noop() {\n      // No operation performed.\n    }\n\n    /**\n     * Creates a function that gets the argument at index `n`. If `n` is negative,\n     * the nth argument from the end is returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {number} [n=0] The index of the argument to return.\n     * @returns {Function} Returns the new pass-thru function.\n     * @example\n     *\n     * var func = _.nthArg(1);\n     * func('a', 'b', 'c', 'd');\n     * // => 'b'\n     *\n     * var func = _.nthArg(-2);\n     * func('a', 'b', 'c', 'd');\n     * // => 'c'\n     */\n    function nthArg(n) {\n      n = toInteger(n);\n      return baseRest(function(args) {\n        return baseNth(args, n);\n      });\n    }\n\n    /**\n     * Creates a function that invokes `iteratees` with the arguments it receives\n     * and returns their results.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {...(Function|Function[])} [iteratees=[_.identity]]\n     *  The iteratees to invoke.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var func = _.over([Math.max, Math.min]);\n     *\n     * func(1, 2, 3, 4);\n     * // => [4, 1]\n     */\n    var over = createOver(arrayMap);\n\n    /**\n     * Creates a function that checks if **all** of the `predicates` return\n     * truthy when invoked with the arguments it receives.\n     *\n     * Following shorthands are possible for providing predicates.\n     * Pass an `Object` and it will be used as an parameter for `_.matches` to create the predicate.\n     * Pass an `Array` of parameters for `_.matchesProperty` and the predicate will be created using them.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {...(Function|Function[])} [predicates=[_.identity]]\n     *  The predicates to check.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var func = _.overEvery([Boolean, isFinite]);\n     *\n     * func('1');\n     * // => true\n     *\n     * func(null);\n     * // => false\n     *\n     * func(NaN);\n     * // => false\n     */\n    var overEvery = createOver(arrayEvery);\n\n    /**\n     * Creates a function that checks if **any** of the `predicates` return\n     * truthy when invoked with the arguments it receives.\n     *\n     * Following shorthands are possible for providing predicates.\n     * Pass an `Object` and it will be used as an parameter for `_.matches` to create the predicate.\n     * Pass an `Array` of parameters for `_.matchesProperty` and the predicate will be created using them.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {...(Function|Function[])} [predicates=[_.identity]]\n     *  The predicates to check.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var func = _.overSome([Boolean, isFinite]);\n     *\n     * func('1');\n     * // => true\n     *\n     * func(null);\n     * // => true\n     *\n     * func(NaN);\n     * // => false\n     *\n     * var matchesFunc = _.overSome([{ 'a': 1 }, { 'a': 2 }])\n     * var matchesPropertyFunc = _.overSome([['a', 1], ['a', 2]])\n     */\n    var overSome = createOver(arraySome);\n\n    /**\n     * Creates a function that returns the value at `path` of a given object.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Util\n     * @param {Array|string} path The path of the property to get.\n     * @returns {Function} Returns the new accessor function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': { 'b': 2 } },\n     *   { 'a': { 'b': 1 } }\n     * ];\n     *\n     * _.map(objects, _.property('a.b'));\n     * // => [2, 1]\n     *\n     * _.map(_.sortBy(objects, _.property(['a', 'b'])), 'a.b');\n     * // => [1, 2]\n     */\n    function property(path) {\n      return isKey(path) ? baseProperty(toKey(path)) : basePropertyDeep(path);\n    }\n\n    /**\n     * The opposite of `_.property`; this method creates a function that returns\n     * the value at a given path of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Util\n     * @param {Object} object The object to query.\n     * @returns {Function} Returns the new accessor function.\n     * @example\n     *\n     * var array = [0, 1, 2],\n     *     object = { 'a': array, 'b': array, 'c': array };\n     *\n     * _.map(['a[2]', 'c[0]'], _.propertyOf(object));\n     * // => [2, 0]\n     *\n     * _.map([['a', '2'], ['c', '0']], _.propertyOf(object));\n     * // => [2, 0]\n     */\n    function propertyOf(object) {\n      return function(path) {\n        return object == null ? undefined : baseGet(object, path);\n      };\n    }\n\n    /**\n     * Creates an array of numbers (positive and/or negative) progressing from\n     * `start` up to, but not including, `end`. A step of `-1` is used if a negative\n     * `start` is specified without an `end` or `step`. If `end` is not specified,\n     * it's set to `start` with `start` then set to `0`.\n     *\n     * **Note:** JavaScript follows the IEEE-754 standard for resolving\n     * floating-point values which can produce unexpected results.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {number} [start=0] The start of the range.\n     * @param {number} end The end of the range.\n     * @param {number} [step=1] The value to increment or decrement by.\n     * @returns {Array} Returns the range of numbers.\n     * @see _.inRange, _.rangeRight\n     * @example\n     *\n     * _.range(4);\n     * // => [0, 1, 2, 3]\n     *\n     * _.range(-4);\n     * // => [0, -1, -2, -3]\n     *\n     * _.range(1, 5);\n     * // => [1, 2, 3, 4]\n     *\n     * _.range(0, 20, 5);\n     * // => [0, 5, 10, 15]\n     *\n     * _.range(0, -4, -1);\n     * // => [0, -1, -2, -3]\n     *\n     * _.range(1, 4, 0);\n     * // => [1, 1, 1]\n     *\n     * _.range(0);\n     * // => []\n     */\n    var range = createRange();\n\n    /**\n     * This method is like `_.range` except that it populates values in\n     * descending order.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {number} [start=0] The start of the range.\n     * @param {number} end The end of the range.\n     * @param {number} [step=1] The value to increment or decrement by.\n     * @returns {Array} Returns the range of numbers.\n     * @see _.inRange, _.range\n     * @example\n     *\n     * _.rangeRight(4);\n     * // => [3, 2, 1, 0]\n     *\n     * _.rangeRight(-4);\n     * // => [-3, -2, -1, 0]\n     *\n     * _.rangeRight(1, 5);\n     * // => [4, 3, 2, 1]\n     *\n     * _.rangeRight(0, 20, 5);\n     * // => [15, 10, 5, 0]\n     *\n     * _.rangeRight(0, -4, -1);\n     * // => [-3, -2, -1, 0]\n     *\n     * _.rangeRight(1, 4, 0);\n     * // => [1, 1, 1]\n     *\n     * _.rangeRight(0);\n     * // => []\n     */\n    var rangeRight = createRange(true);\n\n    /**\n     * This method returns a new empty array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {Array} Returns the new empty array.\n     * @example\n     *\n     * var arrays = _.times(2, _.stubArray);\n     *\n     * console.log(arrays);\n     * // => [[], []]\n     *\n     * console.log(arrays[0] === arrays[1]);\n     * // => false\n     */\n    function stubArray() {\n      return [];\n    }\n\n    /**\n     * This method returns `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {boolean} Returns `false`.\n     * @example\n     *\n     * _.times(2, _.stubFalse);\n     * // => [false, false]\n     */\n    function stubFalse() {\n      return false;\n    }\n\n    /**\n     * This method returns a new empty object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {Object} Returns the new empty object.\n     * @example\n     *\n     * var objects = _.times(2, _.stubObject);\n     *\n     * console.log(objects);\n     * // => [{}, {}]\n     *\n     * console.log(objects[0] === objects[1]);\n     * // => false\n     */\n    function stubObject() {\n      return {};\n    }\n\n    /**\n     * This method returns an empty string.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {string} Returns the empty string.\n     * @example\n     *\n     * _.times(2, _.stubString);\n     * // => ['', '']\n     */\n    function stubString() {\n      return '';\n    }\n\n    /**\n     * This method returns `true`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {boolean} Returns `true`.\n     * @example\n     *\n     * _.times(2, _.stubTrue);\n     * // => [true, true]\n     */\n    function stubTrue() {\n      return true;\n    }\n\n    /**\n     * Invokes the iteratee `n` times, returning an array of the results of\n     * each invocation. The iteratee is invoked with one argument; (index).\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {number} n The number of times to invoke `iteratee`.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the array of results.\n     * @example\n     *\n     * _.times(3, String);\n     * // => ['0', '1', '2']\n     *\n     *  _.times(4, _.constant(0));\n     * // => [0, 0, 0, 0]\n     */\n    function times(n, iteratee) {\n      n = toInteger(n);\n      if (n < 1 || n > MAX_SAFE_INTEGER) {\n        return [];\n      }\n      var index = MAX_ARRAY_LENGTH,\n          length = nativeMin(n, MAX_ARRAY_LENGTH);\n\n      iteratee = getIteratee(iteratee);\n      n -= MAX_ARRAY_LENGTH;\n\n      var result = baseTimes(length, iteratee);\n      while (++index < n) {\n        iteratee(index);\n      }\n      return result;\n    }\n\n    /**\n     * Converts `value` to a property path array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {*} value The value to convert.\n     * @returns {Array} Returns the new property path array.\n     * @example\n     *\n     * _.toPath('a.b.c');\n     * // => ['a', 'b', 'c']\n     *\n     * _.toPath('a[0].b.c');\n     * // => ['a', '0', 'b', 'c']\n     */\n    function toPath(value) {\n      if (isArray(value)) {\n        return arrayMap(value, toKey);\n      }\n      return isSymbol(value) ? [value] : copyArray(stringToPath(toString(value)));\n    }\n\n    /**\n     * Generates a unique ID. If `prefix` is given, the ID is appended to it.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {string} [prefix=''] The value to prefix the ID with.\n     * @returns {string} Returns the unique ID.\n     * @example\n     *\n     * _.uniqueId('contact_');\n     * // => 'contact_104'\n     *\n     * _.uniqueId();\n     * // => '105'\n     */\n    function uniqueId(prefix) {\n      var id = ++idCounter;\n      return toString(prefix) + id;\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Adds two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.4.0\n     * @category Math\n     * @param {number} augend The first number in an addition.\n     * @param {number} addend The second number in an addition.\n     * @returns {number} Returns the total.\n     * @example\n     *\n     * _.add(6, 4);\n     * // => 10\n     */\n    var add = createMathOperation(function(augend, addend) {\n      return augend + addend;\n    }, 0);\n\n    /**\n     * Computes `number` rounded up to `precision`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.10.0\n     * @category Math\n     * @param {number} number The number to round up.\n     * @param {number} [precision=0] The precision to round up to.\n     * @returns {number} Returns the rounded up number.\n     * @example\n     *\n     * _.ceil(4.006);\n     * // => 5\n     *\n     * _.ceil(6.004, 2);\n     * // => 6.01\n     *\n     * _.ceil(6040, -2);\n     * // => 6100\n     */\n    var ceil = createRound('ceil');\n\n    /**\n     * Divide two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Math\n     * @param {number} dividend The first number in a division.\n     * @param {number} divisor The second number in a division.\n     * @returns {number} Returns the quotient.\n     * @example\n     *\n     * _.divide(6, 4);\n     * // => 1.5\n     */\n    var divide = createMathOperation(function(dividend, divisor) {\n      return dividend / divisor;\n    }, 1);\n\n    /**\n     * Computes `number` rounded down to `precision`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.10.0\n     * @category Math\n     * @param {number} number The number to round down.\n     * @param {number} [precision=0] The precision to round down to.\n     * @returns {number} Returns the rounded down number.\n     * @example\n     *\n     * _.floor(4.006);\n     * // => 4\n     *\n     * _.floor(0.046, 2);\n     * // => 0.04\n     *\n     * _.floor(4060, -2);\n     * // => 4000\n     */\n    var floor = createRound('floor');\n\n    /**\n     * Computes the maximum value of `array`. If `array` is empty or falsey,\n     * `undefined` is returned.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @returns {*} Returns the maximum value.\n     * @example\n     *\n     * _.max([4, 2, 8, 6]);\n     * // => 8\n     *\n     * _.max([]);\n     * // => undefined\n     */\n    function max(array) {\n      return (array && array.length)\n        ? baseExtremum(array, identity, baseGt)\n        : undefined;\n    }\n\n    /**\n     * This method is like `_.max` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the criterion by which\n     * the value is ranked. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {*} Returns the maximum value.\n     * @example\n     *\n     * var objects = [{ 'n': 1 }, { 'n': 2 }];\n     *\n     * _.maxBy(objects, function(o) { return o.n; });\n     * // => { 'n': 2 }\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.maxBy(objects, 'n');\n     * // => { 'n': 2 }\n     */\n    function maxBy(array, iteratee) {\n      return (array && array.length)\n        ? baseExtremum(array, getIteratee(iteratee, 2), baseGt)\n        : undefined;\n    }\n\n    /**\n     * Computes the mean of the values in `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @returns {number} Returns the mean.\n     * @example\n     *\n     * _.mean([4, 2, 8, 6]);\n     * // => 5\n     */\n    function mean(array) {\n      return baseMean(array, identity);\n    }\n\n    /**\n     * This method is like `_.mean` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the value to be averaged.\n     * The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {number} Returns the mean.\n     * @example\n     *\n     * var objects = [{ 'n': 4 }, { 'n': 2 }, { 'n': 8 }, { 'n': 6 }];\n     *\n     * _.meanBy(objects, function(o) { return o.n; });\n     * // => 5\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.meanBy(objects, 'n');\n     * // => 5\n     */\n    function meanBy(array, iteratee) {\n      return baseMean(array, getIteratee(iteratee, 2));\n    }\n\n    /**\n     * Computes the minimum value of `array`. If `array` is empty or falsey,\n     * `undefined` is returned.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @returns {*} Returns the minimum value.\n     * @example\n     *\n     * _.min([4, 2, 8, 6]);\n     * // => 2\n     *\n     * _.min([]);\n     * // => undefined\n     */\n    function min(array) {\n      return (array && array.length)\n        ? baseExtremum(array, identity, baseLt)\n        : undefined;\n    }\n\n    /**\n     * This method is like `_.min` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the criterion by which\n     * the value is ranked. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {*} Returns the minimum value.\n     * @example\n     *\n     * var objects = [{ 'n': 1 }, { 'n': 2 }];\n     *\n     * _.minBy(objects, function(o) { return o.n; });\n     * // => { 'n': 1 }\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.minBy(objects, 'n');\n     * // => { 'n': 1 }\n     */\n    function minBy(array, iteratee) {\n      return (array && array.length)\n        ? baseExtremum(array, getIteratee(iteratee, 2), baseLt)\n        : undefined;\n    }\n\n    /**\n     * Multiply two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Math\n     * @param {number} multiplier The first number in a multiplication.\n     * @param {number} multiplicand The second number in a multiplication.\n     * @returns {number} Returns the product.\n     * @example\n     *\n     * _.multiply(6, 4);\n     * // => 24\n     */\n    var multiply = createMathOperation(function(multiplier, multiplicand) {\n      return multiplier * multiplicand;\n    }, 1);\n\n    /**\n     * Computes `number` rounded to `precision`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.10.0\n     * @category Math\n     * @param {number} number The number to round.\n     * @param {number} [precision=0] The precision to round to.\n     * @returns {number} Returns the rounded number.\n     * @example\n     *\n     * _.round(4.006);\n     * // => 4\n     *\n     * _.round(4.006, 2);\n     * // => 4.01\n     *\n     * _.round(4060, -2);\n     * // => 4100\n     */\n    var round = createRound('round');\n\n    /**\n     * Subtract two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {number} minuend The first number in a subtraction.\n     * @param {number} subtrahend The second number in a subtraction.\n     * @returns {number} Returns the difference.\n     * @example\n     *\n     * _.subtract(6, 4);\n     * // => 2\n     */\n    var subtract = createMathOperation(function(minuend, subtrahend) {\n      return minuend - subtrahend;\n    }, 0);\n\n    /**\n     * Computes the sum of the values in `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.4.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @returns {number} Returns the sum.\n     * @example\n     *\n     * _.sum([4, 2, 8, 6]);\n     * // => 20\n     */\n    function sum(array) {\n      return (array && array.length)\n        ? baseSum(array, identity)\n        : 0;\n    }\n\n    /**\n     * This method is like `_.sum` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the value to be summed.\n     * The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {number} Returns the sum.\n     * @example\n     *\n     * var objects = [{ 'n': 4 }, { 'n': 2 }, { 'n': 8 }, { 'n': 6 }];\n     *\n     * _.sumBy(objects, function(o) { return o.n; });\n     * // => 20\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.sumBy(objects, 'n');\n     * // => 20\n     */\n    function sumBy(array, iteratee) {\n      return (array && array.length)\n        ? baseSum(array, getIteratee(iteratee, 2))\n        : 0;\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    // Add methods that return wrapped values in chain sequences.\n    lodash.after = after;\n    lodash.ary = ary;\n    lodash.assign = assign;\n    lodash.assignIn = assignIn;\n    lodash.assignInWith = assignInWith;\n    lodash.assignWith = assignWith;\n    lodash.at = at;\n    lodash.before = before;\n    lodash.bind = bind;\n    lodash.bindAll = bindAll;\n    lodash.bindKey = bindKey;\n    lodash.castArray = castArray;\n    lodash.chain = chain;\n    lodash.chunk = chunk;\n    lodash.compact = compact;\n    lodash.concat = concat;\n    lodash.cond = cond;\n    lodash.conforms = conforms;\n    lodash.constant = constant;\n    lodash.countBy = countBy;\n    lodash.create = create;\n    lodash.curry = curry;\n    lodash.curryRight = curryRight;\n    lodash.debounce = debounce;\n    lodash.defaults = defaults;\n    lodash.defaultsDeep = defaultsDeep;\n    lodash.defer = defer;\n    lodash.delay = delay;\n    lodash.difference = difference;\n    lodash.differenceBy = differenceBy;\n    lodash.differenceWith = differenceWith;\n    lodash.drop = drop;\n    lodash.dropRight = dropRight;\n    lodash.dropRightWhile = dropRightWhile;\n    lodash.dropWhile = dropWhile;\n    lodash.fill = fill;\n    lodash.filter = filter;\n    lodash.flatMap = flatMap;\n    lodash.flatMapDeep = flatMapDeep;\n    lodash.flatMapDepth = flatMapDepth;\n    lodash.flatten = flatten;\n    lodash.flattenDeep = flattenDeep;\n    lodash.flattenDepth = flattenDepth;\n    lodash.flip = flip;\n    lodash.flow = flow;\n    lodash.flowRight = flowRight;\n    lodash.fromPairs = fromPairs;\n    lodash.functions = functions;\n    lodash.functionsIn = functionsIn;\n    lodash.groupBy = groupBy;\n    lodash.initial = initial;\n    lodash.intersection = intersection;\n    lodash.intersectionBy = intersectionBy;\n    lodash.intersectionWith = intersectionWith;\n    lodash.invert = invert;\n    lodash.invertBy = invertBy;\n    lodash.invokeMap = invokeMap;\n    lodash.iteratee = iteratee;\n    lodash.keyBy = keyBy;\n    lodash.keys = keys;\n    lodash.keysIn = keysIn;\n    lodash.map = map;\n    lodash.mapKeys = mapKeys;\n    lodash.mapValues = mapValues;\n    lodash.matches = matches;\n    lodash.matchesProperty = matchesProperty;\n    lodash.memoize = memoize;\n    lodash.merge = merge;\n    lodash.mergeWith = mergeWith;\n    lodash.method = method;\n    lodash.methodOf = methodOf;\n    lodash.mixin = mixin;\n    lodash.negate = negate;\n    lodash.nthArg = nthArg;\n    lodash.omit = omit;\n    lodash.omitBy = omitBy;\n    lodash.once = once;\n    lodash.orderBy = orderBy;\n    lodash.over = over;\n    lodash.overArgs = overArgs;\n    lodash.overEvery = overEvery;\n    lodash.overSome = overSome;\n    lodash.partial = partial;\n    lodash.partialRight = partialRight;\n    lodash.partition = partition;\n    lodash.pick = pick;\n    lodash.pickBy = pickBy;\n    lodash.property = property;\n    lodash.propertyOf = propertyOf;\n    lodash.pull = pull;\n    lodash.pullAll = pullAll;\n    lodash.pullAllBy = pullAllBy;\n    lodash.pullAllWith = pullAllWith;\n    lodash.pullAt = pullAt;\n    lodash.range = range;\n    lodash.rangeRight = rangeRight;\n    lodash.rearg = rearg;\n    lodash.reject = reject;\n    lodash.remove = remove;\n    lodash.rest = rest;\n    lodash.reverse = reverse;\n    lodash.sampleSize = sampleSize;\n    lodash.set = set;\n    lodash.setWith = setWith;\n    lodash.shuffle = shuffle;\n    lodash.slice = slice;\n    lodash.sortBy = sortBy;\n    lodash.sortedUniq = sortedUniq;\n    lodash.sortedUniqBy = sortedUniqBy;\n    lodash.split = split;\n    lodash.spread = spread;\n    lodash.tail = tail;\n    lodash.take = take;\n    lodash.takeRight = takeRight;\n    lodash.takeRightWhile = takeRightWhile;\n    lodash.takeWhile = takeWhile;\n    lodash.tap = tap;\n    lodash.throttle = throttle;\n    lodash.thru = thru;\n    lodash.toArray = toArray;\n    lodash.toPairs = toPairs;\n    lodash.toPairsIn = toPairsIn;\n    lodash.toPath = toPath;\n    lodash.toPlainObject = toPlainObject;\n    lodash.transform = transform;\n    lodash.unary = unary;\n    lodash.union = union;\n    lodash.unionBy = unionBy;\n    lodash.unionWith = unionWith;\n    lodash.uniq = uniq;\n    lodash.uniqBy = uniqBy;\n    lodash.uniqWith = uniqWith;\n    lodash.unset = unset;\n    lodash.unzip = unzip;\n    lodash.unzipWith = unzipWith;\n    lodash.update = update;\n    lodash.updateWith = updateWith;\n    lodash.values = values;\n    lodash.valuesIn = valuesIn;\n    lodash.without = without;\n    lodash.words = words;\n    lodash.wrap = wrap;\n    lodash.xor = xor;\n    lodash.xorBy = xorBy;\n    lodash.xorWith = xorWith;\n    lodash.zip = zip;\n    lodash.zipObject = zipObject;\n    lodash.zipObjectDeep = zipObjectDeep;\n    lodash.zipWith = zipWith;\n\n    // Add aliases.\n    lodash.entries = toPairs;\n    lodash.entriesIn = toPairsIn;\n    lodash.extend = assignIn;\n    lodash.extendWith = assignInWith;\n\n    // Add methods to `lodash.prototype`.\n    mixin(lodash, lodash);\n\n    /*------------------------------------------------------------------------*/\n\n    // Add methods that return unwrapped values in chain sequences.\n    lodash.add = add;\n    lodash.attempt = attempt;\n    lodash.camelCase = camelCase;\n    lodash.capitalize = capitalize;\n    lodash.ceil = ceil;\n    lodash.clamp = clamp;\n    lodash.clone = clone;\n    lodash.cloneDeep = cloneDeep;\n    lodash.cloneDeepWith = cloneDeepWith;\n    lodash.cloneWith = cloneWith;\n    lodash.conformsTo = conformsTo;\n    lodash.deburr = deburr;\n    lodash.defaultTo = defaultTo;\n    lodash.divide = divide;\n    lodash.endsWith = endsWith;\n    lodash.eq = eq;\n    lodash.escape = escape;\n    lodash.escapeRegExp = escapeRegExp;\n    lodash.every = every;\n    lodash.find = find;\n    lodash.findIndex = findIndex;\n    lodash.findKey = findKey;\n    lodash.findLast = findLast;\n    lodash.findLastIndex = findLastIndex;\n    lodash.findLastKey = findLastKey;\n    lodash.floor = floor;\n    lodash.forEach = forEach;\n    lodash.forEachRight = forEachRight;\n    lodash.forIn = forIn;\n    lodash.forInRight = forInRight;\n    lodash.forOwn = forOwn;\n    lodash.forOwnRight = forOwnRight;\n    lodash.get = get;\n    lodash.gt = gt;\n    lodash.gte = gte;\n    lodash.has = has;\n    lodash.hasIn = hasIn;\n    lodash.head = head;\n    lodash.identity = identity;\n    lodash.includes = includes;\n    lodash.indexOf = indexOf;\n    lodash.inRange = inRange;\n    lodash.invoke = invoke;\n    lodash.isArguments = isArguments;\n    lodash.isArray = isArray;\n    lodash.isArrayBuffer = isArrayBuffer;\n    lodash.isArrayLike = isArrayLike;\n    lodash.isArrayLikeObject = isArrayLikeObject;\n    lodash.isBoolean = isBoolean;\n    lodash.isBuffer = isBuffer;\n    lodash.isDate = isDate;\n    lodash.isElement = isElement;\n    lodash.isEmpty = isEmpty;\n    lodash.isEqual = isEqual;\n    lodash.isEqualWith = isEqualWith;\n    lodash.isError = isError;\n    lodash.isFinite = isFinite;\n    lodash.isFunction = isFunction;\n    lodash.isInteger = isInteger;\n    lodash.isLength = isLength;\n    lodash.isMap = isMap;\n    lodash.isMatch = isMatch;\n    lodash.isMatchWith = isMatchWith;\n    lodash.isNaN = isNaN;\n    lodash.isNative = isNative;\n    lodash.isNil = isNil;\n    lodash.isNull = isNull;\n    lodash.isNumber = isNumber;\n    lodash.isObject = isObject;\n    lodash.isObjectLike = isObjectLike;\n    lodash.isPlainObject = isPlainObject;\n    lodash.isRegExp = isRegExp;\n    lodash.isSafeInteger = isSafeInteger;\n    lodash.isSet = isSet;\n    lodash.isString = isString;\n    lodash.isSymbol = isSymbol;\n    lodash.isTypedArray = isTypedArray;\n    lodash.isUndefined = isUndefined;\n    lodash.isWeakMap = isWeakMap;\n    lodash.isWeakSet = isWeakSet;\n    lodash.join = join;\n    lodash.kebabCase = kebabCase;\n    lodash.last = last;\n    lodash.lastIndexOf = lastIndexOf;\n    lodash.lowerCase = lowerCase;\n    lodash.lowerFirst = lowerFirst;\n    lodash.lt = lt;\n    lodash.lte = lte;\n    lodash.max = max;\n    lodash.maxBy = maxBy;\n    lodash.mean = mean;\n    lodash.meanBy = meanBy;\n    lodash.min = min;\n    lodash.minBy = minBy;\n    lodash.stubArray = stubArray;\n    lodash.stubFalse = stubFalse;\n    lodash.stubObject = stubObject;\n    lodash.stubString = stubString;\n    lodash.stubTrue = stubTrue;\n    lodash.multiply = multiply;\n    lodash.nth = nth;\n    lodash.noConflict = noConflict;\n    lodash.noop = noop;\n    lodash.now = now;\n    lodash.pad = pad;\n    lodash.padEnd = padEnd;\n    lodash.padStart = padStart;\n    lodash.parseInt = parseInt;\n    lodash.random = random;\n    lodash.reduce = reduce;\n    lodash.reduceRight = reduceRight;\n    lodash.repeat = repeat;\n    lodash.replace = replace;\n    lodash.result = result;\n    lodash.round = round;\n    lodash.runInContext = runInContext;\n    lodash.sample = sample;\n    lodash.size = size;\n    lodash.snakeCase = snakeCase;\n    lodash.some = some;\n    lodash.sortedIndex = sortedIndex;\n    lodash.sortedIndexBy = sortedIndexBy;\n    lodash.sortedIndexOf = sortedIndexOf;\n    lodash.sortedLastIndex = sortedLastIndex;\n    lodash.sortedLastIndexBy = sortedLastIndexBy;\n    lodash.sortedLastIndexOf = sortedLastIndexOf;\n    lodash.startCase = startCase;\n    lodash.startsWith = startsWith;\n    lodash.subtract = subtract;\n    lodash.sum = sum;\n    lodash.sumBy = sumBy;\n    lodash.template = template;\n    lodash.times = times;\n    lodash.toFinite = toFinite;\n    lodash.toInteger = toInteger;\n    lodash.toLength = toLength;\n    lodash.toLower = toLower;\n    lodash.toNumber = toNumber;\n    lodash.toSafeInteger = toSafeInteger;\n    lodash.toString = toString;\n    lodash.toUpper = toUpper;\n    lodash.trim = trim;\n    lodash.trimEnd = trimEnd;\n    lodash.trimStart = trimStart;\n    lodash.truncate = truncate;\n    lodash.unescape = unescape;\n    lodash.uniqueId = uniqueId;\n    lodash.upperCase = upperCase;\n    lodash.upperFirst = upperFirst;\n\n    // Add aliases.\n    lodash.each = forEach;\n    lodash.eachRight = forEachRight;\n    lodash.first = head;\n\n    mixin(lodash, (function() {\n      var source = {};\n      baseForOwn(lodash, function(func, methodName) {\n        if (!hasOwnProperty.call(lodash.prototype, methodName)) {\n          source[methodName] = func;\n        }\n      });\n      return source;\n    }()), { 'chain': false });\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * The semantic version number.\n     *\n     * @static\n     * @memberOf _\n     * @type {string}\n     */\n    lodash.VERSION = VERSION;\n\n    // Assign default placeholders.\n    arrayEach(['bind', 'bindKey', 'curry', 'curryRight', 'partial', 'partialRight'], function(methodName) {\n      lodash[methodName].placeholder = lodash;\n    });\n\n    // Add `LazyWrapper` methods for `_.drop` and `_.take` variants.\n    arrayEach(['drop', 'take'], function(methodName, index) {\n      LazyWrapper.prototype[methodName] = function(n) {\n        n = n === undefined ? 1 : nativeMax(toInteger(n), 0);\n\n        var result = (this.__filtered__ && !index)\n          ? new LazyWrapper(this)\n          : this.clone();\n\n        if (result.__filtered__) {\n          result.__takeCount__ = nativeMin(n, result.__takeCount__);\n        } else {\n          result.__views__.push({\n            'size': nativeMin(n, MAX_ARRAY_LENGTH),\n            'type': methodName + (result.__dir__ < 0 ? 'Right' : '')\n          });\n        }\n        return result;\n      };\n\n      LazyWrapper.prototype[methodName + 'Right'] = function(n) {\n        return this.reverse()[methodName](n).reverse();\n      };\n    });\n\n    // Add `LazyWrapper` methods that accept an `iteratee` value.\n    arrayEach(['filter', 'map', 'takeWhile'], function(methodName, index) {\n      var type = index + 1,\n          isFilter = type == LAZY_FILTER_FLAG || type == LAZY_WHILE_FLAG;\n\n      LazyWrapper.prototype[methodName] = function(iteratee) {\n        var result = this.clone();\n        result.__iteratees__.push({\n          'iteratee': getIteratee(iteratee, 3),\n          'type': type\n        });\n        result.__filtered__ = result.__filtered__ || isFilter;\n        return result;\n      };\n    });\n\n    // Add `LazyWrapper` methods for `_.head` and `_.last`.\n    arrayEach(['head', 'last'], function(methodName, index) {\n      var takeName = 'take' + (index ? 'Right' : '');\n\n      LazyWrapper.prototype[methodName] = function() {\n        return this[takeName](1).value()[0];\n      };\n    });\n\n    // Add `LazyWrapper` methods for `_.initial` and `_.tail`.\n    arrayEach(['initial', 'tail'], function(methodName, index) {\n      var dropName = 'drop' + (index ? '' : 'Right');\n\n      LazyWrapper.prototype[methodName] = function() {\n        return this.__filtered__ ? new LazyWrapper(this) : this[dropName](1);\n      };\n    });\n\n    LazyWrapper.prototype.compact = function() {\n      return this.filter(identity);\n    };\n\n    LazyWrapper.prototype.find = function(predicate) {\n      return this.filter(predicate).head();\n    };\n\n    LazyWrapper.prototype.findLast = function(predicate) {\n      return this.reverse().find(predicate);\n    };\n\n    LazyWrapper.prototype.invokeMap = baseRest(function(path, args) {\n      if (typeof path == 'function') {\n        return new LazyWrapper(this);\n      }\n      return this.map(function(value) {\n        return baseInvoke(value, path, args);\n      });\n    });\n\n    LazyWrapper.prototype.reject = function(predicate) {\n      return this.filter(negate(getIteratee(predicate)));\n    };\n\n    LazyWrapper.prototype.slice = function(start, end) {\n      start = toInteger(start);\n\n      var result = this;\n      if (result.__filtered__ && (start > 0 || end < 0)) {\n        return new LazyWrapper(result);\n      }\n      if (start < 0) {\n        result = result.takeRight(-start);\n      } else if (start) {\n        result = result.drop(start);\n      }\n      if (end !== undefined) {\n        end = toInteger(end);\n        result = end < 0 ? result.dropRight(-end) : result.take(end - start);\n      }\n      return result;\n    };\n\n    LazyWrapper.prototype.takeRightWhile = function(predicate) {\n      return this.reverse().takeWhile(predicate).reverse();\n    };\n\n    LazyWrapper.prototype.toArray = function() {\n      return this.take(MAX_ARRAY_LENGTH);\n    };\n\n    // Add `LazyWrapper` methods to `lodash.prototype`.\n    baseForOwn(LazyWrapper.prototype, function(func, methodName) {\n      var checkIteratee = /^(?:filter|find|map|reject)|While$/.test(methodName),\n          isTaker = /^(?:head|last)$/.test(methodName),\n          lodashFunc = lodash[isTaker ? ('take' + (methodName == 'last' ? 'Right' : '')) : methodName],\n          retUnwrapped = isTaker || /^find/.test(methodName);\n\n      if (!lodashFunc) {\n        return;\n      }\n      lodash.prototype[methodName] = function() {\n        var value = this.__wrapped__,\n            args = isTaker ? [1] : arguments,\n            isLazy = value instanceof LazyWrapper,\n            iteratee = args[0],\n            useLazy = isLazy || isArray(value);\n\n        var interceptor = function(value) {\n          var result = lodashFunc.apply(lodash, arrayPush([value], args));\n          return (isTaker && chainAll) ? result[0] : result;\n        };\n\n        if (useLazy && checkIteratee && typeof iteratee == 'function' && iteratee.length != 1) {\n          // Avoid lazy use if the iteratee has a \"length\" value other than `1`.\n          isLazy = useLazy = false;\n        }\n        var chainAll = this.__chain__,\n            isHybrid = !!this.__actions__.length,\n            isUnwrapped = retUnwrapped && !chainAll,\n            onlyLazy = isLazy && !isHybrid;\n\n        if (!retUnwrapped && useLazy) {\n          value = onlyLazy ? value : new LazyWrapper(this);\n          var result = func.apply(value, args);\n          result.__actions__.push({ 'func': thru, 'args': [interceptor], 'thisArg': undefined });\n          return new LodashWrapper(result, chainAll);\n        }\n        if (isUnwrapped && onlyLazy) {\n          return func.apply(this, args);\n        }\n        result = this.thru(interceptor);\n        return isUnwrapped ? (isTaker ? result.value()[0] : result.value()) : result;\n      };\n    });\n\n    // Add `Array` methods to `lodash.prototype`.\n    arrayEach(['pop', 'push', 'shift', 'sort', 'splice', 'unshift'], function(methodName) {\n      var func = arrayProto[methodName],\n          chainName = /^(?:push|sort|unshift)$/.test(methodName) ? 'tap' : 'thru',\n          retUnwrapped = /^(?:pop|shift)$/.test(methodName);\n\n      lodash.prototype[methodName] = function() {\n        var args = arguments;\n        if (retUnwrapped && !this.__chain__) {\n          var value = this.value();\n          return func.apply(isArray(value) ? value : [], args);\n        }\n        return this[chainName](function(value) {\n          return func.apply(isArray(value) ? value : [], args);\n        });\n      };\n    });\n\n    // Map minified method names to their real names.\n    baseForOwn(LazyWrapper.prototype, function(func, methodName) {\n      var lodashFunc = lodash[methodName];\n      if (lodashFunc) {\n        var key = lodashFunc.name + '';\n        if (!hasOwnProperty.call(realNames, key)) {\n          realNames[key] = [];\n        }\n        realNames[key].push({ 'name': methodName, 'func': lodashFunc });\n      }\n    });\n\n    realNames[createHybrid(undefined, WRAP_BIND_KEY_FLAG).name] = [{\n      'name': 'wrapper',\n      'func': undefined\n    }];\n\n    // Add methods to `LazyWrapper`.\n    LazyWrapper.prototype.clone = lazyClone;\n    LazyWrapper.prototype.reverse = lazyReverse;\n    LazyWrapper.prototype.value = lazyValue;\n\n    // Add chain sequence methods to the `lodash` wrapper.\n    lodash.prototype.at = wrapperAt;\n    lodash.prototype.chain = wrapperChain;\n    lodash.prototype.commit = wrapperCommit;\n    lodash.prototype.next = wrapperNext;\n    lodash.prototype.plant = wrapperPlant;\n    lodash.prototype.reverse = wrapperReverse;\n    lodash.prototype.toJSON = lodash.prototype.valueOf = lodash.prototype.value = wrapperValue;\n\n    // Add lazy aliases.\n    lodash.prototype.first = lodash.prototype.head;\n\n    if (symIterator) {\n      lodash.prototype[symIterator] = wrapperToIterator;\n    }\n    return lodash;\n  });\n\n  /*--------------------------------------------------------------------------*/\n\n  // Export lodash.\n  var _ = runInContext();\n\n  // Some AMD build optimizers, like r.js, check for condition patterns like:\n  if (typeof define == 'function' && typeof define.amd == 'object' && define.amd) {\n    // Expose Lodash on the global object to prevent errors when Lodash is\n    // loaded by a script tag in the presence of an AMD loader.\n    // See http://requirejs.org/docs/errors.html#mismatch for more details.\n    // Use `_.noConflict` to remove Lodash from the global object.\n    root._ = _;\n\n    // Define as an anonymous module so, through path mapping, it can be\n    // referenced as the \"underscore\" module.\n    define(function() {\n      return _;\n    });\n  }\n  // Check for `exports` after `define` in case a build optimizer adds it.\n  else if (freeModule) {\n    // Export for Node.js.\n    (freeModule.exports = _)._ = _;\n    // Export for CommonJS support.\n    freeExports._ = _;\n  }\n  else {\n    // Export to the global object.\n    root._ = _;\n  }\n}.call(this));\n","'use strict'\n\n// A linked list to keep track of recently-used-ness\nconst Yallist = require('yallist')\n\nconst MAX = Symbol('max')\nconst LENGTH = Symbol('length')\nconst LENGTH_CALCULATOR = Symbol('lengthCalculator')\nconst ALLOW_STALE = Symbol('allowStale')\nconst MAX_AGE = Symbol('maxAge')\nconst DISPOSE = Symbol('dispose')\nconst NO_DISPOSE_ON_SET = Symbol('noDisposeOnSet')\nconst LRU_LIST = Symbol('lruList')\nconst CACHE = Symbol('cache')\nconst UPDATE_AGE_ON_GET = Symbol('updateAgeOnGet')\n\nconst naiveLength = () => 1\n\n// lruList is a yallist where the head is the youngest\n// item, and the tail is the oldest.  the list contains the Hit\n// objects as the entries.\n// Each Hit object has a reference to its Yallist.Node.  This\n// never changes.\n//\n// cache is a Map (or PseudoMap) that matches the keys to\n// the Yallist.Node object.\nclass LRUCache {\n  constructor (options) {\n    if (typeof options === 'number')\n      options = { max: options }\n\n    if (!options)\n      options = {}\n\n    if (options.max && (typeof options.max !== 'number' || options.max < 0))\n      throw new TypeError('max must be a non-negative number')\n    // Kind of weird to have a default max of Infinity, but oh well.\n    const max = this[MAX] = options.max || Infinity\n\n    const lc = options.length || naiveLength\n    this[LENGTH_CALCULATOR] = (typeof lc !== 'function') ? naiveLength : lc\n    this[ALLOW_STALE] = options.stale || false\n    if (options.maxAge && typeof options.maxAge !== 'number')\n      throw new TypeError('maxAge must be a number')\n    this[MAX_AGE] = options.maxAge || 0\n    this[DISPOSE] = options.dispose\n    this[NO_DISPOSE_ON_SET] = options.noDisposeOnSet || false\n    this[UPDATE_AGE_ON_GET] = options.updateAgeOnGet || false\n    this.reset()\n  }\n\n  // resize the cache when the max changes.\n  set max (mL) {\n    if (typeof mL !== 'number' || mL < 0)\n      throw new TypeError('max must be a non-negative number')\n\n    this[MAX] = mL || Infinity\n    trim(this)\n  }\n  get max () {\n    return this[MAX]\n  }\n\n  set allowStale (allowStale) {\n    this[ALLOW_STALE] = !!allowStale\n  }\n  get allowStale () {\n    return this[ALLOW_STALE]\n  }\n\n  set maxAge (mA) {\n    if (typeof mA !== 'number')\n      throw new TypeError('maxAge must be a non-negative number')\n\n    this[MAX_AGE] = mA\n    trim(this)\n  }\n  get maxAge () {\n    return this[MAX_AGE]\n  }\n\n  // resize the cache when the lengthCalculator changes.\n  set lengthCalculator (lC) {\n    if (typeof lC !== 'function')\n      lC = naiveLength\n\n    if (lC !== this[LENGTH_CALCULATOR]) {\n      this[LENGTH_CALCULATOR] = lC\n      this[LENGTH] = 0\n      this[LRU_LIST].forEach(hit => {\n        hit.length = this[LENGTH_CALCULATOR](hit.value, hit.key)\n        this[LENGTH] += hit.length\n      })\n    }\n    trim(this)\n  }\n  get lengthCalculator () { return this[LENGTH_CALCULATOR] }\n\n  get length () { return this[LENGTH] }\n  get itemCount () { return this[LRU_LIST].length }\n\n  rforEach (fn, thisp) {\n    thisp = thisp || this\n    for (let walker = this[LRU_LIST].tail; walker !== null;) {\n      const prev = walker.prev\n      forEachStep(this, fn, walker, thisp)\n      walker = prev\n    }\n  }\n\n  forEach (fn, thisp) {\n    thisp = thisp || this\n    for (let walker = this[LRU_LIST].head; walker !== null;) {\n      const next = walker.next\n      forEachStep(this, fn, walker, thisp)\n      walker = next\n    }\n  }\n\n  keys () {\n    return this[LRU_LIST].toArray().map(k => k.key)\n  }\n\n  values () {\n    return this[LRU_LIST].toArray().map(k => k.value)\n  }\n\n  reset () {\n    if (this[DISPOSE] &&\n        this[LRU_LIST] &&\n        this[LRU_LIST].length) {\n      this[LRU_LIST].forEach(hit => this[DISPOSE](hit.key, hit.value))\n    }\n\n    this[CACHE] = new Map() // hash of items by key\n    this[LRU_LIST] = new Yallist() // list of items in order of use recency\n    this[LENGTH] = 0 // length of items in the list\n  }\n\n  dump () {\n    return this[LRU_LIST].map(hit =>\n      isStale(this, hit) ? false : {\n        k: hit.key,\n        v: hit.value,\n        e: hit.now + (hit.maxAge || 0)\n      }).toArray().filter(h => h)\n  }\n\n  dumpLru () {\n    return this[LRU_LIST]\n  }\n\n  set (key, value, maxAge) {\n    maxAge = maxAge || this[MAX_AGE]\n\n    if (maxAge && typeof maxAge !== 'number')\n      throw new TypeError('maxAge must be a number')\n\n    const now = maxAge ? Date.now() : 0\n    const len = this[LENGTH_CALCULATOR](value, key)\n\n    if (this[CACHE].has(key)) {\n      if (len > this[MAX]) {\n        del(this, this[CACHE].get(key))\n        return false\n      }\n\n      const node = this[CACHE].get(key)\n      const item = node.value\n\n      // dispose of the old one before overwriting\n      // split out into 2 ifs for better coverage tracking\n      if (this[DISPOSE]) {\n        if (!this[NO_DISPOSE_ON_SET])\n          this[DISPOSE](key, item.value)\n      }\n\n      item.now = now\n      item.maxAge = maxAge\n      item.value = value\n      this[LENGTH] += len - item.length\n      item.length = len\n      this.get(key)\n      trim(this)\n      return true\n    }\n\n    const hit = new Entry(key, value, len, now, maxAge)\n\n    // oversized objects fall out of cache automatically.\n    if (hit.length > this[MAX]) {\n      if (this[DISPOSE])\n        this[DISPOSE](key, value)\n\n      return false\n    }\n\n    this[LENGTH] += hit.length\n    this[LRU_LIST].unshift(hit)\n    this[CACHE].set(key, this[LRU_LIST].head)\n    trim(this)\n    return true\n  }\n\n  has (key) {\n    if (!this[CACHE].has(key)) return false\n    const hit = this[CACHE].get(key).value\n    return !isStale(this, hit)\n  }\n\n  get (key) {\n    return get(this, key, true)\n  }\n\n  peek (key) {\n    return get(this, key, false)\n  }\n\n  pop () {\n    const node = this[LRU_LIST].tail\n    if (!node)\n      return null\n\n    del(this, node)\n    return node.value\n  }\n\n  del (key) {\n    del(this, this[CACHE].get(key))\n  }\n\n  load (arr) {\n    // reset the cache\n    this.reset()\n\n    const now = Date.now()\n    // A previous serialized cache has the most recent items first\n    for (let l = arr.length - 1; l >= 0; l--) {\n      const hit = arr[l]\n      const expiresAt = hit.e || 0\n      if (expiresAt === 0)\n        // the item was created without expiration in a non aged cache\n        this.set(hit.k, hit.v)\n      else {\n        const maxAge = expiresAt - now\n        // dont add already expired items\n        if (maxAge > 0) {\n          this.set(hit.k, hit.v, maxAge)\n        }\n      }\n    }\n  }\n\n  prune () {\n    this[CACHE].forEach((value, key) => get(this, key, false))\n  }\n}\n\nconst get = (self, key, doUse) => {\n  const node = self[CACHE].get(key)\n  if (node) {\n    const hit = node.value\n    if (isStale(self, hit)) {\n      del(self, node)\n      if (!self[ALLOW_STALE])\n        return undefined\n    } else {\n      if (doUse) {\n        if (self[UPDATE_AGE_ON_GET])\n          node.value.now = Date.now()\n        self[LRU_LIST].unshiftNode(node)\n      }\n    }\n    return hit.value\n  }\n}\n\nconst isStale = (self, hit) => {\n  if (!hit || (!hit.maxAge && !self[MAX_AGE]))\n    return false\n\n  const diff = Date.now() - hit.now\n  return hit.maxAge ? diff > hit.maxAge\n    : self[MAX_AGE] && (diff > self[MAX_AGE])\n}\n\nconst trim = self => {\n  if (self[LENGTH] > self[MAX]) {\n    for (let walker = self[LRU_LIST].tail;\n      self[LENGTH] > self[MAX] && walker !== null;) {\n      // We know that we're about to delete this one, and also\n      // what the next least recently used key will be, so just\n      // go ahead and set it now.\n      const prev = walker.prev\n      del(self, walker)\n      walker = prev\n    }\n  }\n}\n\nconst del = (self, node) => {\n  if (node) {\n    const hit = node.value\n    if (self[DISPOSE])\n      self[DISPOSE](hit.key, hit.value)\n\n    self[LENGTH] -= hit.length\n    self[CACHE].delete(hit.key)\n    self[LRU_LIST].removeNode(node)\n  }\n}\n\nclass Entry {\n  constructor (key, value, length, now, maxAge) {\n    this.key = key\n    this.value = value\n    this.length = length\n    this.now = now\n    this.maxAge = maxAge || 0\n  }\n}\n\nconst forEachStep = (self, fn, node, thisp) => {\n  let hit = node.value\n  if (isStale(self, hit)) {\n    del(self, node)\n    if (!self[ALLOW_STALE])\n      hit = undefined\n  }\n  if (hit)\n    fn.call(thisp, hit.value, hit.key, self)\n}\n\nmodule.exports = LRUCache\n","module.exports = minimatch\nminimatch.Minimatch = Minimatch\n\nvar path = (function () { try { return require('path') } catch (e) {}}()) || {\n  sep: '/'\n}\nminimatch.sep = path.sep\n\nvar GLOBSTAR = minimatch.GLOBSTAR = Minimatch.GLOBSTAR = {}\nvar expand = require('brace-expansion')\n\nvar plTypes = {\n  '!': { open: '(?:(?!(?:', close: '))[^/]*?)'},\n  '?': { open: '(?:', close: ')?' },\n  '+': { open: '(?:', close: ')+' },\n  '*': { open: '(?:', close: ')*' },\n  '@': { open: '(?:', close: ')' }\n}\n\n// any single thing other than /\n// don't need to escape / when using new RegExp()\nvar qmark = '[^/]'\n\n// * => any number of characters\nvar star = qmark + '*?'\n\n// ** when dots are allowed.  Anything goes, except .. and .\n// not (^ or / followed by one or two dots followed by $ or /),\n// followed by anything, any number of times.\nvar twoStarDot = '(?:(?!(?:\\\\\\/|^)(?:\\\\.{1,2})($|\\\\\\/)).)*?'\n\n// not a ^ or / followed by a dot,\n// followed by anything, any number of times.\nvar twoStarNoDot = '(?:(?!(?:\\\\\\/|^)\\\\.).)*?'\n\n// characters that need to be escaped in RegExp.\nvar reSpecials = charSet('().*{}+?[]^$\\\\!')\n\n// \"abc\" -> { a:true, b:true, c:true }\nfunction charSet (s) {\n  return s.split('').reduce(function (set, c) {\n    set[c] = true\n    return set\n  }, {})\n}\n\n// normalizes slashes.\nvar slashSplit = /\\/+/\n\nminimatch.filter = filter\nfunction filter (pattern, options) {\n  options = options || {}\n  return function (p, i, list) {\n    return minimatch(p, pattern, options)\n  }\n}\n\nfunction ext (a, b) {\n  b = b || {}\n  var t = {}\n  Object.keys(a).forEach(function (k) {\n    t[k] = a[k]\n  })\n  Object.keys(b).forEach(function (k) {\n    t[k] = b[k]\n  })\n  return t\n}\n\nminimatch.defaults = function (def) {\n  if (!def || typeof def !== 'object' || !Object.keys(def).length) {\n    return minimatch\n  }\n\n  var orig = minimatch\n\n  var m = function minimatch (p, pattern, options) {\n    return orig(p, pattern, ext(def, options))\n  }\n\n  m.Minimatch = function Minimatch (pattern, options) {\n    return new orig.Minimatch(pattern, ext(def, options))\n  }\n  m.Minimatch.defaults = function defaults (options) {\n    return orig.defaults(ext(def, options)).Minimatch\n  }\n\n  m.filter = function filter (pattern, options) {\n    return orig.filter(pattern, ext(def, options))\n  }\n\n  m.defaults = function defaults (options) {\n    return orig.defaults(ext(def, options))\n  }\n\n  m.makeRe = function makeRe (pattern, options) {\n    return orig.makeRe(pattern, ext(def, options))\n  }\n\n  m.braceExpand = function braceExpand (pattern, options) {\n    return orig.braceExpand(pattern, ext(def, options))\n  }\n\n  m.match = function (list, pattern, options) {\n    return orig.match(list, pattern, ext(def, options))\n  }\n\n  return m\n}\n\nMinimatch.defaults = function (def) {\n  return minimatch.defaults(def).Minimatch\n}\n\nfunction minimatch (p, pattern, options) {\n  assertValidPattern(pattern)\n\n  if (!options) options = {}\n\n  // shortcut: comments match nothing.\n  if (!options.nocomment && pattern.charAt(0) === '#') {\n    return false\n  }\n\n  return new Minimatch(pattern, options).match(p)\n}\n\nfunction Minimatch (pattern, options) {\n  if (!(this instanceof Minimatch)) {\n    return new Minimatch(pattern, options)\n  }\n\n  assertValidPattern(pattern)\n\n  if (!options) options = {}\n\n  pattern = pattern.trim()\n\n  // windows support: need to use /, not \\\n  if (!options.allowWindowsEscape && path.sep !== '/') {\n    pattern = pattern.split(path.sep).join('/')\n  }\n\n  this.options = options\n  this.set = []\n  this.pattern = pattern\n  this.regexp = null\n  this.negate = false\n  this.comment = false\n  this.empty = false\n  this.partial = !!options.partial\n\n  // make the set of regexps etc.\n  this.make()\n}\n\nMinimatch.prototype.debug = function () {}\n\nMinimatch.prototype.make = make\nfunction make () {\n  var pattern = this.pattern\n  var options = this.options\n\n  // empty patterns and comments match nothing.\n  if (!options.nocomment && pattern.charAt(0) === '#') {\n    this.comment = true\n    return\n  }\n  if (!pattern) {\n    this.empty = true\n    return\n  }\n\n  // step 1: figure out negation, etc.\n  this.parseNegate()\n\n  // step 2: expand braces\n  var set = this.globSet = this.braceExpand()\n\n  if (options.debug) this.debug = function debug() { console.error.apply(console, arguments) }\n\n  this.debug(this.pattern, set)\n\n  // step 3: now we have a set, so turn each one into a series of path-portion\n  // matching patterns.\n  // These will be regexps, except in the case of \"**\", which is\n  // set to the GLOBSTAR object for globstar behavior,\n  // and will not contain any / characters\n  set = this.globParts = set.map(function (s) {\n    return s.split(slashSplit)\n  })\n\n  this.debug(this.pattern, set)\n\n  // glob --> regexps\n  set = set.map(function (s, si, set) {\n    return s.map(this.parse, this)\n  }, this)\n\n  this.debug(this.pattern, set)\n\n  // filter out everything that didn't compile properly.\n  set = set.filter(function (s) {\n    return s.indexOf(false) === -1\n  })\n\n  this.debug(this.pattern, set)\n\n  this.set = set\n}\n\nMinimatch.prototype.parseNegate = parseNegate\nfunction parseNegate () {\n  var pattern = this.pattern\n  var negate = false\n  var options = this.options\n  var negateOffset = 0\n\n  if (options.nonegate) return\n\n  for (var i = 0, l = pattern.length\n    ; i < l && pattern.charAt(i) === '!'\n    ; i++) {\n    negate = !negate\n    negateOffset++\n  }\n\n  if (negateOffset) this.pattern = pattern.substr(negateOffset)\n  this.negate = negate\n}\n\n// Brace expansion:\n// a{b,c}d -> abd acd\n// a{b,}c -> abc ac\n// a{0..3}d -> a0d a1d a2d a3d\n// a{b,c{d,e}f}g -> abg acdfg acefg\n// a{b,c}d{e,f}g -> abdeg acdeg abdeg abdfg\n//\n// Invalid sets are not expanded.\n// a{2..}b -> a{2..}b\n// a{b}c -> a{b}c\nminimatch.braceExpand = function (pattern, options) {\n  return braceExpand(pattern, options)\n}\n\nMinimatch.prototype.braceExpand = braceExpand\n\nfunction braceExpand (pattern, options) {\n  if (!options) {\n    if (this instanceof Minimatch) {\n      options = this.options\n    } else {\n      options = {}\n    }\n  }\n\n  pattern = typeof pattern === 'undefined'\n    ? this.pattern : pattern\n\n  assertValidPattern(pattern)\n\n  // Thanks to Yeting Li <https://github.com/yetingli> for\n  // improving this regexp to avoid a ReDOS vulnerability.\n  if (options.nobrace || !/\\{(?:(?!\\{).)*\\}/.test(pattern)) {\n    // shortcut. no need to expand.\n    return [pattern]\n  }\n\n  return expand(pattern)\n}\n\nvar MAX_PATTERN_LENGTH = 1024 * 64\nvar assertValidPattern = function (pattern) {\n  if (typeof pattern !== 'string') {\n    throw new TypeError('invalid pattern')\n  }\n\n  if (pattern.length > MAX_PATTERN_LENGTH) {\n    throw new TypeError('pattern is too long')\n  }\n}\n\n// parse a component of the expanded set.\n// At this point, no pattern may contain \"/\" in it\n// so we're going to return a 2d array, where each entry is the full\n// pattern, split on '/', and then turned into a regular expression.\n// A regexp is made at the end which joins each array with an\n// escaped /, and another full one which joins each regexp with |.\n//\n// Following the lead of Bash 4.1, note that \"**\" only has special meaning\n// when it is the *only* thing in a path portion.  Otherwise, any series\n// of * is equivalent to a single *.  Globstar behavior is enabled by\n// default, and can be disabled by setting options.noglobstar.\nMinimatch.prototype.parse = parse\nvar SUBPARSE = {}\nfunction parse (pattern, isSub) {\n  assertValidPattern(pattern)\n\n  var options = this.options\n\n  // shortcuts\n  if (pattern === '**') {\n    if (!options.noglobstar)\n      return GLOBSTAR\n    else\n      pattern = '*'\n  }\n  if (pattern === '') return ''\n\n  var re = ''\n  var hasMagic = !!options.nocase\n  var escaping = false\n  // ? => one single character\n  var patternListStack = []\n  var negativeLists = []\n  var stateChar\n  var inClass = false\n  var reClassStart = -1\n  var classStart = -1\n  // . and .. never match anything that doesn't start with .,\n  // even when options.dot is set.\n  var patternStart = pattern.charAt(0) === '.' ? '' // anything\n  // not (start or / followed by . or .. followed by / or end)\n  : options.dot ? '(?!(?:^|\\\\\\/)\\\\.{1,2}(?:$|\\\\\\/))'\n  : '(?!\\\\.)'\n  var self = this\n\n  function clearStateChar () {\n    if (stateChar) {\n      // we had some state-tracking character\n      // that wasn't consumed by this pass.\n      switch (stateChar) {\n        case '*':\n          re += star\n          hasMagic = true\n        break\n        case '?':\n          re += qmark\n          hasMagic = true\n        break\n        default:\n          re += '\\\\' + stateChar\n        break\n      }\n      self.debug('clearStateChar %j %j', stateChar, re)\n      stateChar = false\n    }\n  }\n\n  for (var i = 0, len = pattern.length, c\n    ; (i < len) && (c = pattern.charAt(i))\n    ; i++) {\n    this.debug('%s\\t%s %s %j', pattern, i, re, c)\n\n    // skip over any that are escaped.\n    if (escaping && reSpecials[c]) {\n      re += '\\\\' + c\n      escaping = false\n      continue\n    }\n\n    switch (c) {\n      /* istanbul ignore next */\n      case '/': {\n        // completely not allowed, even escaped.\n        // Should already be path-split by now.\n        return false\n      }\n\n      case '\\\\':\n        clearStateChar()\n        escaping = true\n      continue\n\n      // the various stateChar values\n      // for the \"extglob\" stuff.\n      case '?':\n      case '*':\n      case '+':\n      case '@':\n      case '!':\n        this.debug('%s\\t%s %s %j <-- stateChar', pattern, i, re, c)\n\n        // all of those are literals inside a class, except that\n        // the glob [!a] means [^a] in regexp\n        if (inClass) {\n          this.debug('  in class')\n          if (c === '!' && i === classStart + 1) c = '^'\n          re += c\n          continue\n        }\n\n        // if we already have a stateChar, then it means\n        // that there was something like ** or +? in there.\n        // Handle the stateChar, then proceed with this one.\n        self.debug('call clearStateChar %j', stateChar)\n        clearStateChar()\n        stateChar = c\n        // if extglob is disabled, then +(asdf|foo) isn't a thing.\n        // just clear the statechar *now*, rather than even diving into\n        // the patternList stuff.\n        if (options.noext) clearStateChar()\n      continue\n\n      case '(':\n        if (inClass) {\n          re += '('\n          continue\n        }\n\n        if (!stateChar) {\n          re += '\\\\('\n          continue\n        }\n\n        patternListStack.push({\n          type: stateChar,\n          start: i - 1,\n          reStart: re.length,\n          open: plTypes[stateChar].open,\n          close: plTypes[stateChar].close\n        })\n        // negation is (?:(?!js)[^/]*)\n        re += stateChar === '!' ? '(?:(?!(?:' : '(?:'\n        this.debug('plType %j %j', stateChar, re)\n        stateChar = false\n      continue\n\n      case ')':\n        if (inClass || !patternListStack.length) {\n          re += '\\\\)'\n          continue\n        }\n\n        clearStateChar()\n        hasMagic = true\n        var pl = patternListStack.pop()\n        // negation is (?:(?!js)[^/]*)\n        // The others are (?:<pattern>)<type>\n        re += pl.close\n        if (pl.type === '!') {\n          negativeLists.push(pl)\n        }\n        pl.reEnd = re.length\n      continue\n\n      case '|':\n        if (inClass || !patternListStack.length || escaping) {\n          re += '\\\\|'\n          escaping = false\n          continue\n        }\n\n        clearStateChar()\n        re += '|'\n      continue\n\n      // these are mostly the same in regexp and glob\n      case '[':\n        // swallow any state-tracking char before the [\n        clearStateChar()\n\n        if (inClass) {\n          re += '\\\\' + c\n          continue\n        }\n\n        inClass = true\n        classStart = i\n        reClassStart = re.length\n        re += c\n      continue\n\n      case ']':\n        //  a right bracket shall lose its special\n        //  meaning and represent itself in\n        //  a bracket expression if it occurs\n        //  first in the list.  -- POSIX.2 2.8.3.2\n        if (i === classStart + 1 || !inClass) {\n          re += '\\\\' + c\n          escaping = false\n          continue\n        }\n\n        // handle the case where we left a class open.\n        // \"[z-a]\" is valid, equivalent to \"\\[z-a\\]\"\n        // split where the last [ was, make sure we don't have\n        // an invalid re. if so, re-walk the contents of the\n        // would-be class to re-translate any characters that\n        // were passed through as-is\n        // TODO: It would probably be faster to determine this\n        // without a try/catch and a new RegExp, but it's tricky\n        // to do safely.  For now, this is safe and works.\n        var cs = pattern.substring(classStart + 1, i)\n        try {\n          RegExp('[' + cs + ']')\n        } catch (er) {\n          // not a valid class!\n          var sp = this.parse(cs, SUBPARSE)\n          re = re.substr(0, reClassStart) + '\\\\[' + sp[0] + '\\\\]'\n          hasMagic = hasMagic || sp[1]\n          inClass = false\n          continue\n        }\n\n        // finish up the class.\n        hasMagic = true\n        inClass = false\n        re += c\n      continue\n\n      default:\n        // swallow any state char that wasn't consumed\n        clearStateChar()\n\n        if (escaping) {\n          // no need\n          escaping = false\n        } else if (reSpecials[c]\n          && !(c === '^' && inClass)) {\n          re += '\\\\'\n        }\n\n        re += c\n\n    } // switch\n  } // for\n\n  // handle the case where we left a class open.\n  // \"[abc\" is valid, equivalent to \"\\[abc\"\n  if (inClass) {\n    // split where the last [ was, and escape it\n    // this is a huge pita.  We now have to re-walk\n    // the contents of the would-be class to re-translate\n    // any characters that were passed through as-is\n    cs = pattern.substr(classStart + 1)\n    sp = this.parse(cs, SUBPARSE)\n    re = re.substr(0, reClassStart) + '\\\\[' + sp[0]\n    hasMagic = hasMagic || sp[1]\n  }\n\n  // handle the case where we had a +( thing at the *end*\n  // of the pattern.\n  // each pattern list stack adds 3 chars, and we need to go through\n  // and escape any | chars that were passed through as-is for the regexp.\n  // Go through and escape them, taking care not to double-escape any\n  // | chars that were already escaped.\n  for (pl = patternListStack.pop(); pl; pl = patternListStack.pop()) {\n    var tail = re.slice(pl.reStart + pl.open.length)\n    this.debug('setting tail', re, pl)\n    // maybe some even number of \\, then maybe 1 \\, followed by a |\n    tail = tail.replace(/((?:\\\\{2}){0,64})(\\\\?)\\|/g, function (_, $1, $2) {\n      if (!$2) {\n        // the | isn't already escaped, so escape it.\n        $2 = '\\\\'\n      }\n\n      // need to escape all those slashes *again*, without escaping the\n      // one that we need for escaping the | character.  As it works out,\n      // escaping an even number of slashes can be done by simply repeating\n      // it exactly after itself.  That's why this trick works.\n      //\n      // I am sorry that you have to see this.\n      return $1 + $1 + $2 + '|'\n    })\n\n    this.debug('tail=%j\\n   %s', tail, tail, pl, re)\n    var t = pl.type === '*' ? star\n      : pl.type === '?' ? qmark\n      : '\\\\' + pl.type\n\n    hasMagic = true\n    re = re.slice(0, pl.reStart) + t + '\\\\(' + tail\n  }\n\n  // handle trailing things that only matter at the very end.\n  clearStateChar()\n  if (escaping) {\n    // trailing \\\\\n    re += '\\\\\\\\'\n  }\n\n  // only need to apply the nodot start if the re starts with\n  // something that could conceivably capture a dot\n  var addPatternStart = false\n  switch (re.charAt(0)) {\n    case '[': case '.': case '(': addPatternStart = true\n  }\n\n  // Hack to work around lack of negative lookbehind in JS\n  // A pattern like: *.!(x).!(y|z) needs to ensure that a name\n  // like 'a.xyz.yz' doesn't match.  So, the first negative\n  // lookahead, has to look ALL the way ahead, to the end of\n  // the pattern.\n  for (var n = negativeLists.length - 1; n > -1; n--) {\n    var nl = negativeLists[n]\n\n    var nlBefore = re.slice(0, nl.reStart)\n    var nlFirst = re.slice(nl.reStart, nl.reEnd - 8)\n    var nlLast = re.slice(nl.reEnd - 8, nl.reEnd)\n    var nlAfter = re.slice(nl.reEnd)\n\n    nlLast += nlAfter\n\n    // Handle nested stuff like *(*.js|!(*.json)), where open parens\n    // mean that we should *not* include the ) in the bit that is considered\n    // \"after\" the negated section.\n    var openParensBefore = nlBefore.split('(').length - 1\n    var cleanAfter = nlAfter\n    for (i = 0; i < openParensBefore; i++) {\n      cleanAfter = cleanAfter.replace(/\\)[+*?]?/, '')\n    }\n    nlAfter = cleanAfter\n\n    var dollar = ''\n    if (nlAfter === '' && isSub !== SUBPARSE) {\n      dollar = '$'\n    }\n    var newRe = nlBefore + nlFirst + nlAfter + dollar + nlLast\n    re = newRe\n  }\n\n  // if the re is not \"\" at this point, then we need to make sure\n  // it doesn't match against an empty path part.\n  // Otherwise a/* will match a/, which it should not.\n  if (re !== '' && hasMagic) {\n    re = '(?=.)' + re\n  }\n\n  if (addPatternStart) {\n    re = patternStart + re\n  }\n\n  // parsing just a piece of a larger pattern.\n  if (isSub === SUBPARSE) {\n    return [re, hasMagic]\n  }\n\n  // skip the regexp for non-magical patterns\n  // unescape anything in it, though, so that it'll be\n  // an exact match against a file etc.\n  if (!hasMagic) {\n    return globUnescape(pattern)\n  }\n\n  var flags = options.nocase ? 'i' : ''\n  try {\n    var regExp = new RegExp('^' + re + '$', flags)\n  } catch (er) /* istanbul ignore next - should be impossible */ {\n    // If it was an invalid regular expression, then it can't match\n    // anything.  This trick looks for a character after the end of\n    // the string, which is of course impossible, except in multi-line\n    // mode, but it's not a /m regex.\n    return new RegExp('$.')\n  }\n\n  regExp._glob = pattern\n  regExp._src = re\n\n  return regExp\n}\n\nminimatch.makeRe = function (pattern, options) {\n  return new Minimatch(pattern, options || {}).makeRe()\n}\n\nMinimatch.prototype.makeRe = makeRe\nfunction makeRe () {\n  if (this.regexp || this.regexp === false) return this.regexp\n\n  // at this point, this.set is a 2d array of partial\n  // pattern strings, or \"**\".\n  //\n  // It's better to use .match().  This function shouldn't\n  // be used, really, but it's pretty convenient sometimes,\n  // when you just want to work with a regex.\n  var set = this.set\n\n  if (!set.length) {\n    this.regexp = false\n    return this.regexp\n  }\n  var options = this.options\n\n  var twoStar = options.noglobstar ? star\n    : options.dot ? twoStarDot\n    : twoStarNoDot\n  var flags = options.nocase ? 'i' : ''\n\n  var re = set.map(function (pattern) {\n    return pattern.map(function (p) {\n      return (p === GLOBSTAR) ? twoStar\n      : (typeof p === 'string') ? regExpEscape(p)\n      : p._src\n    }).join('\\\\\\/')\n  }).join('|')\n\n  // must match entire pattern\n  // ending in a * or ** will make it less strict.\n  re = '^(?:' + re + ')$'\n\n  // can match anything, as long as it's not this.\n  if (this.negate) re = '^(?!' + re + ').*$'\n\n  try {\n    this.regexp = new RegExp(re, flags)\n  } catch (ex) /* istanbul ignore next - should be impossible */ {\n    this.regexp = false\n  }\n  return this.regexp\n}\n\nminimatch.match = function (list, pattern, options) {\n  options = options || {}\n  var mm = new Minimatch(pattern, options)\n  list = list.filter(function (f) {\n    return mm.match(f)\n  })\n  if (mm.options.nonull && !list.length) {\n    list.push(pattern)\n  }\n  return list\n}\n\nMinimatch.prototype.match = function match (f, partial) {\n  if (typeof partial === 'undefined') partial = this.partial\n  this.debug('match', f, this.pattern)\n  // short-circuit in the case of busted things.\n  // comments, etc.\n  if (this.comment) return false\n  if (this.empty) return f === ''\n\n  if (f === '/' && partial) return true\n\n  var options = this.options\n\n  // windows: need to use /, not \\\n  if (path.sep !== '/') {\n    f = f.split(path.sep).join('/')\n  }\n\n  // treat the test path as a set of pathparts.\n  f = f.split(slashSplit)\n  this.debug(this.pattern, 'split', f)\n\n  // just ONE of the pattern sets in this.set needs to match\n  // in order for it to be valid.  If negating, then just one\n  // match means that we have failed.\n  // Either way, return on the first hit.\n\n  var set = this.set\n  this.debug(this.pattern, 'set', set)\n\n  // Find the basename of the path by looking for the last non-empty segment\n  var filename\n  var i\n  for (i = f.length - 1; i >= 0; i--) {\n    filename = f[i]\n    if (filename) break\n  }\n\n  for (i = 0; i < set.length; i++) {\n    var pattern = set[i]\n    var file = f\n    if (options.matchBase && pattern.length === 1) {\n      file = [filename]\n    }\n    var hit = this.matchOne(file, pattern, partial)\n    if (hit) {\n      if (options.flipNegate) return true\n      return !this.negate\n    }\n  }\n\n  // didn't get any hits.  this is success if it's a negative\n  // pattern, failure otherwise.\n  if (options.flipNegate) return false\n  return this.negate\n}\n\n// set partial to true to test if, for example,\n// \"/a/b\" matches the start of \"/*/b/*/d\"\n// Partial means, if you run out of file before you run\n// out of pattern, then that's fine, as long as all\n// the parts match.\nMinimatch.prototype.matchOne = function (file, pattern, partial) {\n  var options = this.options\n\n  this.debug('matchOne',\n    { 'this': this, file: file, pattern: pattern })\n\n  this.debug('matchOne', file.length, pattern.length)\n\n  for (var fi = 0,\n      pi = 0,\n      fl = file.length,\n      pl = pattern.length\n      ; (fi < fl) && (pi < pl)\n      ; fi++, pi++) {\n    this.debug('matchOne loop')\n    var p = pattern[pi]\n    var f = file[fi]\n\n    this.debug(pattern, p, f)\n\n    // should be impossible.\n    // some invalid regexp stuff in the set.\n    /* istanbul ignore if */\n    if (p === false) return false\n\n    if (p === GLOBSTAR) {\n      this.debug('GLOBSTAR', [pattern, p, f])\n\n      // \"**\"\n      // a/**/b/**/c would match the following:\n      // a/b/x/y/z/c\n      // a/x/y/z/b/c\n      // a/b/x/b/x/c\n      // a/b/c\n      // To do this, take the rest of the pattern after\n      // the **, and see if it would match the file remainder.\n      // If so, return success.\n      // If not, the ** \"swallows\" a segment, and try again.\n      // This is recursively awful.\n      //\n      // a/**/b/**/c matching a/b/x/y/z/c\n      // - a matches a\n      // - doublestar\n      //   - matchOne(b/x/y/z/c, b/**/c)\n      //     - b matches b\n      //     - doublestar\n      //       - matchOne(x/y/z/c, c) -> no\n      //       - matchOne(y/z/c, c) -> no\n      //       - matchOne(z/c, c) -> no\n      //       - matchOne(c, c) yes, hit\n      var fr = fi\n      var pr = pi + 1\n      if (pr === pl) {\n        this.debug('** at the end')\n        // a ** at the end will just swallow the rest.\n        // We have found a match.\n        // however, it will not swallow /.x, unless\n        // options.dot is set.\n        // . and .. are *never* matched by **, for explosively\n        // exponential reasons.\n        for (; fi < fl; fi++) {\n          if (file[fi] === '.' || file[fi] === '..' ||\n            (!options.dot && file[fi].charAt(0) === '.')) return false\n        }\n        return true\n      }\n\n      // ok, let's see if we can swallow whatever we can.\n      while (fr < fl) {\n        var swallowee = file[fr]\n\n        this.debug('\\nglobstar while', file, fr, pattern, pr, swallowee)\n\n        // XXX remove this slice.  Just pass the start index.\n        if (this.matchOne(file.slice(fr), pattern.slice(pr), partial)) {\n          this.debug('globstar found match!', fr, fl, swallowee)\n          // found a match.\n          return true\n        } else {\n          // can't swallow \".\" or \"..\" ever.\n          // can only swallow \".foo\" when explicitly asked.\n          if (swallowee === '.' || swallowee === '..' ||\n            (!options.dot && swallowee.charAt(0) === '.')) {\n            this.debug('dot detected!', file, fr, pattern, pr)\n            break\n          }\n\n          // ** swallows a segment, and continue.\n          this.debug('globstar swallow a segment, and continue')\n          fr++\n        }\n      }\n\n      // no match was found.\n      // However, in partial mode, we can't say this is necessarily over.\n      // If there's more *pattern* left, then\n      /* istanbul ignore if */\n      if (partial) {\n        // ran out of file\n        this.debug('\\n>>> no match, partial?', file, fr, pattern, pr)\n        if (fr === fl) return true\n      }\n      return false\n    }\n\n    // something other than **\n    // non-magic patterns just have to match exactly\n    // patterns with magic have been turned into regexps.\n    var hit\n    if (typeof p === 'string') {\n      hit = f === p\n      this.debug('string match', p, f, hit)\n    } else {\n      hit = f.match(p)\n      this.debug('pattern match', p, f, hit)\n    }\n\n    if (!hit) return false\n  }\n\n  // Note: ending in / means that we'll get a final \"\"\n  // at the end of the pattern.  This can only match a\n  // corresponding \"\" at the end of the file.\n  // If the file ends in /, then it can only match a\n  // a pattern that ends in /, unless the pattern just\n  // doesn't have any more for it. But, a/b/ should *not*\n  // match \"a/b/*\", even though \"\" matches against the\n  // [^/]*? pattern, except in partial mode, where it might\n  // simply not be reached yet.\n  // However, a/b/ should still satisfy a/*\n\n  // now either we fell off the end of the pattern, or we're done.\n  if (fi === fl && pi === pl) {\n    // ran out of pattern and filename at the same time.\n    // an exact hit!\n    return true\n  } else if (fi === fl) {\n    // ran out of file, but still had pattern left.\n    // this is ok if we're doing the match as part of\n    // a glob fs traversal.\n    return partial\n  } else /* istanbul ignore else */ if (pi === pl) {\n    // ran out of pattern, still have file left.\n    // this is only acceptable if we're on the very last\n    // empty segment of a file with a trailing slash.\n    // a/* should match a/b/\n    return (fi === fl - 1) && (file[fi] === '')\n  }\n\n  // should be unreachable.\n  /* istanbul ignore next */\n  throw new Error('wtf?')\n}\n\n// replace stuff like \\* with *\nfunction globUnescape (s) {\n  return s.replace(/\\\\(.)/g, '$1')\n}\n\nfunction regExpEscape (s) {\n  return s.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, '\\\\$&')\n}\n","/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar w = d * 7;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isFinite(val)) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'weeks':\n    case 'week':\n    case 'w':\n      return n * w;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (msAbs >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (msAbs >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (msAbs >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return plural(ms, msAbs, d, 'day');\n  }\n  if (msAbs >= h) {\n    return plural(ms, msAbs, h, 'hour');\n  }\n  if (msAbs >= m) {\n    return plural(ms, msAbs, m, 'minute');\n  }\n  if (msAbs >= s) {\n    return plural(ms, msAbs, s, 'second');\n  }\n  return ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, msAbs, n, name) {\n  var isPlural = msAbs >= n * 1.5;\n  return Math.round(ms / n) + ' ' + name + (isPlural ? 's' : '');\n}\n","var wrappy = require('wrappy')\nmodule.exports = wrappy(once)\nmodule.exports.strict = wrappy(onceStrict)\n\nonce.proto = once(function () {\n  Object.defineProperty(Function.prototype, 'once', {\n    value: function () {\n      return once(this)\n    },\n    configurable: true\n  })\n\n  Object.defineProperty(Function.prototype, 'onceStrict', {\n    value: function () {\n      return onceStrict(this)\n    },\n    configurable: true\n  })\n})\n\nfunction once (fn) {\n  var f = function () {\n    if (f.called) return f.value\n    f.called = true\n    return f.value = fn.apply(this, arguments)\n  }\n  f.called = false\n  return f\n}\n\nfunction onceStrict (fn) {\n  var f = function () {\n    if (f.called)\n      throw new Error(f.onceError)\n    f.called = true\n    return f.value = fn.apply(this, arguments)\n  }\n  var name = fn.name || 'Function wrapped with `once`'\n  f.onceError = name + \" shouldn't be called more than once\"\n  f.called = false\n  return f\n}\n","'use strict';\n\nfunction posix(path) {\n\treturn path.charAt(0) === '/';\n}\n\nfunction win32(path) {\n\t// https://github.com/nodejs/node/blob/b3fcc245fb25539909ef1d5eaa01dbf92e168633/lib/path.js#L56\n\tvar splitDeviceRe = /^([a-zA-Z]:|[\\\\\\/]{2}[^\\\\\\/]+[\\\\\\/]+[^\\\\\\/]+)?([\\\\\\/])?([\\s\\S]*?)$/;\n\tvar result = splitDeviceRe.exec(path);\n\tvar device = result[1] || '';\n\tvar isUnc = Boolean(device && device.charAt(1) !== ':');\n\n\t// UNC paths are always absolute\n\treturn Boolean(result[2] || isUnc);\n}\n\nmodule.exports = process.platform === 'win32' ? win32 : posix;\nmodule.exports.posix = posix;\nmodule.exports.win32 = win32;\n","module.exports = Pend;\n\nfunction Pend() {\n  this.pending = 0;\n  this.max = Infinity;\n  this.listeners = [];\n  this.waiting = [];\n  this.error = null;\n}\n\nPend.prototype.go = function(fn) {\n  if (this.pending < this.max) {\n    pendGo(this, fn);\n  } else {\n    this.waiting.push(fn);\n  }\n};\n\nPend.prototype.wait = function(cb) {\n  if (this.pending === 0) {\n    cb(this.error);\n  } else {\n    this.listeners.push(cb);\n  }\n};\n\nPend.prototype.hold = function() {\n  return pendHold(this);\n};\n\nfunction pendHold(self) {\n  self.pending += 1;\n  var called = false;\n  return onCb;\n  function onCb(err) {\n    if (called) throw new Error(\"callback called twice\");\n    called = true;\n    self.error = self.error || err;\n    self.pending -= 1;\n    if (self.waiting.length > 0 && self.pending < self.max) {\n      pendGo(self, self.waiting.shift());\n    } else if (self.pending === 0) {\n      var listeners = self.listeners;\n      self.listeners = [];\n      listeners.forEach(cbListener);\n    }\n  }\n  function cbListener(listener) {\n    listener(self.error);\n  }\n}\n\nfunction pendGo(self, fn) {\n  fn(pendHold(self));\n}\n","var once = require('once')\nvar eos = require('end-of-stream')\nvar fs = require('fs') // we only need fs to get the ReadStream and WriteStream prototypes\n\nvar noop = function () {}\nvar ancient = /^v?\\.0/.test(process.version)\n\nvar isFn = function (fn) {\n  return typeof fn === 'function'\n}\n\nvar isFS = function (stream) {\n  if (!ancient) return false // newer node version do not need to care about fs is a special way\n  if (!fs) return false // browser\n  return (stream instanceof (fs.ReadStream || noop) || stream instanceof (fs.WriteStream || noop)) && isFn(stream.close)\n}\n\nvar isRequest = function (stream) {\n  return stream.setHeader && isFn(stream.abort)\n}\n\nvar destroyer = function (stream, reading, writing, callback) {\n  callback = once(callback)\n\n  var closed = false\n  stream.on('close', function () {\n    closed = true\n  })\n\n  eos(stream, {readable: reading, writable: writing}, function (err) {\n    if (err) return callback(err)\n    closed = true\n    callback()\n  })\n\n  var destroyed = false\n  return function (err) {\n    if (closed) return\n    if (destroyed) return\n    destroyed = true\n\n    if (isFS(stream)) return stream.close(noop) // use close for fs streams to avoid fd leaks\n    if (isRequest(stream)) return stream.abort() // request.destroy just do .end - .abort is what we want\n\n    if (isFn(stream.destroy)) return stream.destroy()\n\n    callback(err || new Error('stream was destroyed'))\n  }\n}\n\nvar call = function (fn) {\n  fn()\n}\n\nvar pipe = function (from, to) {\n  return from.pipe(to)\n}\n\nvar pump = function () {\n  var streams = Array.prototype.slice.call(arguments)\n  var callback = isFn(streams[streams.length - 1] || noop) && streams.pop() || noop\n\n  if (Array.isArray(streams[0])) streams = streams[0]\n  if (streams.length < 2) throw new Error('pump requires two streams per minimum')\n\n  var error\n  var destroys = streams.map(function (stream, i) {\n    var reading = i < streams.length - 1\n    var writing = i > 0\n    return destroyer(stream, reading, writing, function (err) {\n      if (!error) error = err\n      if (err) destroys.forEach(call)\n      if (reading) return\n      destroys.forEach(call)\n      callback(error)\n    })\n  })\n\n  return streams.reduce(pipe)\n}\n\nmodule.exports = pump\n","const assert = require(\"assert\")\nconst path = require(\"path\")\nconst fs = require(\"fs\")\nlet glob = undefined\ntry {\n  glob = require(\"glob\")\n} catch (_err) {\n  // treat glob as optional.\n}\n\nconst defaultGlobOpts = {\n  nosort: true,\n  silent: true\n}\n\n// for EMFILE handling\nlet timeout = 0\n\nconst isWindows = (process.platform === \"win32\")\n\nconst defaults = options => {\n  const methods = [\n    'unlink',\n    'chmod',\n    'stat',\n    'lstat',\n    'rmdir',\n    'readdir'\n  ]\n  methods.forEach(m => {\n    options[m] = options[m] || fs[m]\n    m = m + 'Sync'\n    options[m] = options[m] || fs[m]\n  })\n\n  options.maxBusyTries = options.maxBusyTries || 3\n  options.emfileWait = options.emfileWait || 1000\n  if (options.glob === false) {\n    options.disableGlob = true\n  }\n  if (options.disableGlob !== true && glob === undefined) {\n    throw Error('glob dependency not found, set `options.disableGlob = true` if intentional')\n  }\n  options.disableGlob = options.disableGlob || false\n  options.glob = options.glob || defaultGlobOpts\n}\n\nconst rimraf = (p, options, cb) => {\n  if (typeof options === 'function') {\n    cb = options\n    options = {}\n  }\n\n  assert(p, 'rimraf: missing path')\n  assert.equal(typeof p, 'string', 'rimraf: path should be a string')\n  assert.equal(typeof cb, 'function', 'rimraf: callback function required')\n  assert(options, 'rimraf: invalid options argument provided')\n  assert.equal(typeof options, 'object', 'rimraf: options should be object')\n\n  defaults(options)\n\n  let busyTries = 0\n  let errState = null\n  let n = 0\n\n  const next = (er) => {\n    errState = errState || er\n    if (--n === 0)\n      cb(errState)\n  }\n\n  const afterGlob = (er, results) => {\n    if (er)\n      return cb(er)\n\n    n = results.length\n    if (n === 0)\n      return cb()\n\n    results.forEach(p => {\n      const CB = (er) => {\n        if (er) {\n          if ((er.code === \"EBUSY\" || er.code === \"ENOTEMPTY\" || er.code === \"EPERM\") &&\n              busyTries < options.maxBusyTries) {\n            busyTries ++\n            // try again, with the same exact callback as this one.\n            return setTimeout(() => rimraf_(p, options, CB), busyTries * 100)\n          }\n\n          // this one won't happen if graceful-fs is used.\n          if (er.code === \"EMFILE\" && timeout < options.emfileWait) {\n            return setTimeout(() => rimraf_(p, options, CB), timeout ++)\n          }\n\n          // already gone\n          if (er.code === \"ENOENT\") er = null\n        }\n\n        timeout = 0\n        next(er)\n      }\n      rimraf_(p, options, CB)\n    })\n  }\n\n  if (options.disableGlob || !glob.hasMagic(p))\n    return afterGlob(null, [p])\n\n  options.lstat(p, (er, stat) => {\n    if (!er)\n      return afterGlob(null, [p])\n\n    glob(p, options.glob, afterGlob)\n  })\n\n}\n\n// Two possible strategies.\n// 1. Assume it's a file.  unlink it, then do the dir stuff on EPERM or EISDIR\n// 2. Assume it's a directory.  readdir, then do the file stuff on ENOTDIR\n//\n// Both result in an extra syscall when you guess wrong.  However, there\n// are likely far more normal files in the world than directories.  This\n// is based on the assumption that a the average number of files per\n// directory is >= 1.\n//\n// If anyone ever complains about this, then I guess the strategy could\n// be made configurable somehow.  But until then, YAGNI.\nconst rimraf_ = (p, options, cb) => {\n  assert(p)\n  assert(options)\n  assert(typeof cb === 'function')\n\n  // sunos lets the root user unlink directories, which is... weird.\n  // so we have to lstat here and make sure it's not a dir.\n  options.lstat(p, (er, st) => {\n    if (er && er.code === \"ENOENT\")\n      return cb(null)\n\n    // Windows can EPERM on stat.  Life is suffering.\n    if (er && er.code === \"EPERM\" && isWindows)\n      fixWinEPERM(p, options, er, cb)\n\n    if (st && st.isDirectory())\n      return rmdir(p, options, er, cb)\n\n    options.unlink(p, er => {\n      if (er) {\n        if (er.code === \"ENOENT\")\n          return cb(null)\n        if (er.code === \"EPERM\")\n          return (isWindows)\n            ? fixWinEPERM(p, options, er, cb)\n            : rmdir(p, options, er, cb)\n        if (er.code === \"EISDIR\")\n          return rmdir(p, options, er, cb)\n      }\n      return cb(er)\n    })\n  })\n}\n\nconst fixWinEPERM = (p, options, er, cb) => {\n  assert(p)\n  assert(options)\n  assert(typeof cb === 'function')\n\n  options.chmod(p, 0o666, er2 => {\n    if (er2)\n      cb(er2.code === \"ENOENT\" ? null : er)\n    else\n      options.stat(p, (er3, stats) => {\n        if (er3)\n          cb(er3.code === \"ENOENT\" ? null : er)\n        else if (stats.isDirectory())\n          rmdir(p, options, er, cb)\n        else\n          options.unlink(p, cb)\n      })\n  })\n}\n\nconst fixWinEPERMSync = (p, options, er) => {\n  assert(p)\n  assert(options)\n\n  try {\n    options.chmodSync(p, 0o666)\n  } catch (er2) {\n    if (er2.code === \"ENOENT\")\n      return\n    else\n      throw er\n  }\n\n  let stats\n  try {\n    stats = options.statSync(p)\n  } catch (er3) {\n    if (er3.code === \"ENOENT\")\n      return\n    else\n      throw er\n  }\n\n  if (stats.isDirectory())\n    rmdirSync(p, options, er)\n  else\n    options.unlinkSync(p)\n}\n\nconst rmdir = (p, options, originalEr, cb) => {\n  assert(p)\n  assert(options)\n  assert(typeof cb === 'function')\n\n  // try to rmdir first, and only readdir on ENOTEMPTY or EEXIST (SunOS)\n  // if we guessed wrong, and it's not a directory, then\n  // raise the original error.\n  options.rmdir(p, er => {\n    if (er && (er.code === \"ENOTEMPTY\" || er.code === \"EEXIST\" || er.code === \"EPERM\"))\n      rmkids(p, options, cb)\n    else if (er && er.code === \"ENOTDIR\")\n      cb(originalEr)\n    else\n      cb(er)\n  })\n}\n\nconst rmkids = (p, options, cb) => {\n  assert(p)\n  assert(options)\n  assert(typeof cb === 'function')\n\n  options.readdir(p, (er, files) => {\n    if (er)\n      return cb(er)\n    let n = files.length\n    if (n === 0)\n      return options.rmdir(p, cb)\n    let errState\n    files.forEach(f => {\n      rimraf(path.join(p, f), options, er => {\n        if (errState)\n          return\n        if (er)\n          return cb(errState = er)\n        if (--n === 0)\n          options.rmdir(p, cb)\n      })\n    })\n  })\n}\n\n// this looks simpler, and is strictly *faster*, but will\n// tie up the JavaScript thread and fail on excessively\n// deep directory trees.\nconst rimrafSync = (p, options) => {\n  options = options || {}\n  defaults(options)\n\n  assert(p, 'rimraf: missing path')\n  assert.equal(typeof p, 'string', 'rimraf: path should be a string')\n  assert(options, 'rimraf: missing options')\n  assert.equal(typeof options, 'object', 'rimraf: options should be object')\n\n  let results\n\n  if (options.disableGlob || !glob.hasMagic(p)) {\n    results = [p]\n  } else {\n    try {\n      options.lstatSync(p)\n      results = [p]\n    } catch (er) {\n      results = glob.sync(p, options.glob)\n    }\n  }\n\n  if (!results.length)\n    return\n\n  for (let i = 0; i < results.length; i++) {\n    const p = results[i]\n\n    let st\n    try {\n      st = options.lstatSync(p)\n    } catch (er) {\n      if (er.code === \"ENOENT\")\n        return\n\n      // Windows can EPERM on stat.  Life is suffering.\n      if (er.code === \"EPERM\" && isWindows)\n        fixWinEPERMSync(p, options, er)\n    }\n\n    try {\n      // sunos lets the root user unlink directories, which is... weird.\n      if (st && st.isDirectory())\n        rmdirSync(p, options, null)\n      else\n        options.unlinkSync(p)\n    } catch (er) {\n      if (er.code === \"ENOENT\")\n        return\n      if (er.code === \"EPERM\")\n        return isWindows ? fixWinEPERMSync(p, options, er) : rmdirSync(p, options, er)\n      if (er.code !== \"EISDIR\")\n        throw er\n\n      rmdirSync(p, options, er)\n    }\n  }\n}\n\nconst rmdirSync = (p, options, originalEr) => {\n  assert(p)\n  assert(options)\n\n  try {\n    options.rmdirSync(p)\n  } catch (er) {\n    if (er.code === \"ENOENT\")\n      return\n    if (er.code === \"ENOTDIR\")\n      throw originalEr\n    if (er.code === \"ENOTEMPTY\" || er.code === \"EEXIST\" || er.code === \"EPERM\")\n      rmkidsSync(p, options)\n  }\n}\n\nconst rmkidsSync = (p, options) => {\n  assert(p)\n  assert(options)\n  options.readdirSync(p).forEach(f => rimrafSync(path.join(p, f), options))\n\n  // We only end up here once we got ENOTEMPTY at least once, and\n  // at this point, we are guaranteed to have removed all the kids.\n  // So, we know that it won't be ENOENT or ENOTDIR or anything else.\n  // try really hard to delete stuff on windows, because it has a\n  // PROFOUNDLY annoying habit of not closing handles promptly when\n  // files are deleted, resulting in spurious ENOTEMPTY errors.\n  const retries = isWindows ? 100 : 1\n  let i = 0\n  do {\n    let threw = true\n    try {\n      const ret = options.rmdirSync(p, options)\n      threw = false\n      return ret\n    } finally {\n      if (++i < retries && threw)\n        continue\n    }\n  } while (true)\n}\n\nmodule.exports = rimraf\nrimraf.sync = rimrafSync\n","const ANY = Symbol('SemVer ANY')\n// hoisted class for cyclic dependency\nclass Comparator {\n  static get ANY () {\n    return ANY\n  }\n\n  constructor (comp, options) {\n    options = parseOptions(options)\n\n    if (comp instanceof Comparator) {\n      if (comp.loose === !!options.loose) {\n        return comp\n      } else {\n        comp = comp.value\n      }\n    }\n\n    comp = comp.trim().split(/\\s+/).join(' ')\n    debug('comparator', comp, options)\n    this.options = options\n    this.loose = !!options.loose\n    this.parse(comp)\n\n    if (this.semver === ANY) {\n      this.value = ''\n    } else {\n      this.value = this.operator + this.semver.version\n    }\n\n    debug('comp', this)\n  }\n\n  parse (comp) {\n    const r = this.options.loose ? re[t.COMPARATORLOOSE] : re[t.COMPARATOR]\n    const m = comp.match(r)\n\n    if (!m) {\n      throw new TypeError(`Invalid comparator: ${comp}`)\n    }\n\n    this.operator = m[1] !== undefined ? m[1] : ''\n    if (this.operator === '=') {\n      this.operator = ''\n    }\n\n    // if it literally is just '>' or '' then allow anything.\n    if (!m[2]) {\n      this.semver = ANY\n    } else {\n      this.semver = new SemVer(m[2], this.options.loose)\n    }\n  }\n\n  toString () {\n    return this.value\n  }\n\n  test (version) {\n    debug('Comparator.test', version, this.options.loose)\n\n    if (this.semver === ANY || version === ANY) {\n      return true\n    }\n\n    if (typeof version === 'string') {\n      try {\n        version = new SemVer(version, this.options)\n      } catch (er) {\n        return false\n      }\n    }\n\n    return cmp(version, this.operator, this.semver, this.options)\n  }\n\n  intersects (comp, options) {\n    if (!(comp instanceof Comparator)) {\n      throw new TypeError('a Comparator is required')\n    }\n\n    if (this.operator === '') {\n      if (this.value === '') {\n        return true\n      }\n      return new Range(comp.value, options).test(this.value)\n    } else if (comp.operator === '') {\n      if (comp.value === '') {\n        return true\n      }\n      return new Range(this.value, options).test(comp.semver)\n    }\n\n    options = parseOptions(options)\n\n    // Special cases where nothing can possibly be lower\n    if (options.includePrerelease &&\n      (this.value === '<0.0.0-0' || comp.value === '<0.0.0-0')) {\n      return false\n    }\n    if (!options.includePrerelease &&\n      (this.value.startsWith('<0.0.0') || comp.value.startsWith('<0.0.0'))) {\n      return false\n    }\n\n    // Same direction increasing (> or >=)\n    if (this.operator.startsWith('>') && comp.operator.startsWith('>')) {\n      return true\n    }\n    // Same direction decreasing (< or <=)\n    if (this.operator.startsWith('<') && comp.operator.startsWith('<')) {\n      return true\n    }\n    // same SemVer and both sides are inclusive (<= or >=)\n    if (\n      (this.semver.version === comp.semver.version) &&\n      this.operator.includes('=') && comp.operator.includes('=')) {\n      return true\n    }\n    // opposite directions less than\n    if (cmp(this.semver, '<', comp.semver, options) &&\n      this.operator.startsWith('>') && comp.operator.startsWith('<')) {\n      return true\n    }\n    // opposite directions greater than\n    if (cmp(this.semver, '>', comp.semver, options) &&\n      this.operator.startsWith('<') && comp.operator.startsWith('>')) {\n      return true\n    }\n    return false\n  }\n}\n\nmodule.exports = Comparator\n\nconst parseOptions = require('../internal/parse-options')\nconst { safeRe: re, t } = require('../internal/re')\nconst cmp = require('../functions/cmp')\nconst debug = require('../internal/debug')\nconst SemVer = require('./semver')\nconst Range = require('./range')\n","// hoisted class for cyclic dependency\nclass Range {\n  constructor (range, options) {\n    options = parseOptions(options)\n\n    if (range instanceof Range) {\n      if (\n        range.loose === !!options.loose &&\n        range.includePrerelease === !!options.includePrerelease\n      ) {\n        return range\n      } else {\n        return new Range(range.raw, options)\n      }\n    }\n\n    if (range instanceof Comparator) {\n      // just put it in the set and return\n      this.raw = range.value\n      this.set = [[range]]\n      this.format()\n      return this\n    }\n\n    this.options = options\n    this.loose = !!options.loose\n    this.includePrerelease = !!options.includePrerelease\n\n    // First reduce all whitespace as much as possible so we do not have to rely\n    // on potentially slow regexes like \\s*. This is then stored and used for\n    // future error messages as well.\n    this.raw = range\n      .trim()\n      .split(/\\s+/)\n      .join(' ')\n\n    // First, split on ||\n    this.set = this.raw\n      .split('||')\n      // map the range to a 2d array of comparators\n      .map(r => this.parseRange(r.trim()))\n      // throw out any comparator lists that are empty\n      // this generally means that it was not a valid range, which is allowed\n      // in loose mode, but will still throw if the WHOLE range is invalid.\n      .filter(c => c.length)\n\n    if (!this.set.length) {\n      throw new TypeError(`Invalid SemVer Range: ${this.raw}`)\n    }\n\n    // if we have any that are not the null set, throw out null sets.\n    if (this.set.length > 1) {\n      // keep the first one, in case they're all null sets\n      const first = this.set[0]\n      this.set = this.set.filter(c => !isNullSet(c[0]))\n      if (this.set.length === 0) {\n        this.set = [first]\n      } else if (this.set.length > 1) {\n        // if we have any that are *, then the range is just *\n        for (const c of this.set) {\n          if (c.length === 1 && isAny(c[0])) {\n            this.set = [c]\n            break\n          }\n        }\n      }\n    }\n\n    this.format()\n  }\n\n  format () {\n    this.range = this.set\n      .map((comps) => comps.join(' ').trim())\n      .join('||')\n      .trim()\n    return this.range\n  }\n\n  toString () {\n    return this.range\n  }\n\n  parseRange (range) {\n    // memoize range parsing for performance.\n    // this is a very hot path, and fully deterministic.\n    const memoOpts =\n      (this.options.includePrerelease && FLAG_INCLUDE_PRERELEASE) |\n      (this.options.loose && FLAG_LOOSE)\n    const memoKey = memoOpts + ':' + range\n    const cached = cache.get(memoKey)\n    if (cached) {\n      return cached\n    }\n\n    const loose = this.options.loose\n    // `1.2.3 - 1.2.4` => `>=1.2.3 <=1.2.4`\n    const hr = loose ? re[t.HYPHENRANGELOOSE] : re[t.HYPHENRANGE]\n    range = range.replace(hr, hyphenReplace(this.options.includePrerelease))\n    debug('hyphen replace', range)\n\n    // `> 1.2.3 < 1.2.5` => `>1.2.3 <1.2.5`\n    range = range.replace(re[t.COMPARATORTRIM], comparatorTrimReplace)\n    debug('comparator trim', range)\n\n    // `~ 1.2.3` => `~1.2.3`\n    range = range.replace(re[t.TILDETRIM], tildeTrimReplace)\n    debug('tilde trim', range)\n\n    // `^ 1.2.3` => `^1.2.3`\n    range = range.replace(re[t.CARETTRIM], caretTrimReplace)\n    debug('caret trim', range)\n\n    // At this point, the range is completely trimmed and\n    // ready to be split into comparators.\n\n    let rangeList = range\n      .split(' ')\n      .map(comp => parseComparator(comp, this.options))\n      .join(' ')\n      .split(/\\s+/)\n      // >=0.0.0 is equivalent to *\n      .map(comp => replaceGTE0(comp, this.options))\n\n    if (loose) {\n      // in loose mode, throw out any that are not valid comparators\n      rangeList = rangeList.filter(comp => {\n        debug('loose invalid filter', comp, this.options)\n        return !!comp.match(re[t.COMPARATORLOOSE])\n      })\n    }\n    debug('range list', rangeList)\n\n    // if any comparators are the null set, then replace with JUST null set\n    // if more than one comparator, remove any * comparators\n    // also, don't include the same comparator more than once\n    const rangeMap = new Map()\n    const comparators = rangeList.map(comp => new Comparator(comp, this.options))\n    for (const comp of comparators) {\n      if (isNullSet(comp)) {\n        return [comp]\n      }\n      rangeMap.set(comp.value, comp)\n    }\n    if (rangeMap.size > 1 && rangeMap.has('')) {\n      rangeMap.delete('')\n    }\n\n    const result = [...rangeMap.values()]\n    cache.set(memoKey, result)\n    return result\n  }\n\n  intersects (range, options) {\n    if (!(range instanceof Range)) {\n      throw new TypeError('a Range is required')\n    }\n\n    return this.set.some((thisComparators) => {\n      return (\n        isSatisfiable(thisComparators, options) &&\n        range.set.some((rangeComparators) => {\n          return (\n            isSatisfiable(rangeComparators, options) &&\n            thisComparators.every((thisComparator) => {\n              return rangeComparators.every((rangeComparator) => {\n                return thisComparator.intersects(rangeComparator, options)\n              })\n            })\n          )\n        })\n      )\n    })\n  }\n\n  // if ANY of the sets match ALL of its comparators, then pass\n  test (version) {\n    if (!version) {\n      return false\n    }\n\n    if (typeof version === 'string') {\n      try {\n        version = new SemVer(version, this.options)\n      } catch (er) {\n        return false\n      }\n    }\n\n    for (let i = 0; i < this.set.length; i++) {\n      if (testSet(this.set[i], version, this.options)) {\n        return true\n      }\n    }\n    return false\n  }\n}\n\nmodule.exports = Range\n\nconst LRU = require('lru-cache')\nconst cache = new LRU({ max: 1000 })\n\nconst parseOptions = require('../internal/parse-options')\nconst Comparator = require('./comparator')\nconst debug = require('../internal/debug')\nconst SemVer = require('./semver')\nconst {\n  safeRe: re,\n  t,\n  comparatorTrimReplace,\n  tildeTrimReplace,\n  caretTrimReplace,\n} = require('../internal/re')\nconst { FLAG_INCLUDE_PRERELEASE, FLAG_LOOSE } = require('../internal/constants')\n\nconst isNullSet = c => c.value === '<0.0.0-0'\nconst isAny = c => c.value === ''\n\n// take a set of comparators and determine whether there\n// exists a version which can satisfy it\nconst isSatisfiable = (comparators, options) => {\n  let result = true\n  const remainingComparators = comparators.slice()\n  let testComparator = remainingComparators.pop()\n\n  while (result && remainingComparators.length) {\n    result = remainingComparators.every((otherComparator) => {\n      return testComparator.intersects(otherComparator, options)\n    })\n\n    testComparator = remainingComparators.pop()\n  }\n\n  return result\n}\n\n// comprised of xranges, tildes, stars, and gtlt's at this point.\n// already replaced the hyphen ranges\n// turn into a set of JUST comparators.\nconst parseComparator = (comp, options) => {\n  debug('comp', comp, options)\n  comp = replaceCarets(comp, options)\n  debug('caret', comp)\n  comp = replaceTildes(comp, options)\n  debug('tildes', comp)\n  comp = replaceXRanges(comp, options)\n  debug('xrange', comp)\n  comp = replaceStars(comp, options)\n  debug('stars', comp)\n  return comp\n}\n\nconst isX = id => !id || id.toLowerCase() === 'x' || id === '*'\n\n// ~, ~> --> * (any, kinda silly)\n// ~2, ~2.x, ~2.x.x, ~>2, ~>2.x ~>2.x.x --> >=2.0.0 <3.0.0-0\n// ~2.0, ~2.0.x, ~>2.0, ~>2.0.x --> >=2.0.0 <2.1.0-0\n// ~1.2, ~1.2.x, ~>1.2, ~>1.2.x --> >=1.2.0 <1.3.0-0\n// ~1.2.3, ~>1.2.3 --> >=1.2.3 <1.3.0-0\n// ~1.2.0, ~>1.2.0 --> >=1.2.0 <1.3.0-0\n// ~0.0.1 --> >=0.0.1 <0.1.0-0\nconst replaceTildes = (comp, options) => {\n  return comp\n    .trim()\n    .split(/\\s+/)\n    .map((c) => replaceTilde(c, options))\n    .join(' ')\n}\n\nconst replaceTilde = (comp, options) => {\n  const r = options.loose ? re[t.TILDELOOSE] : re[t.TILDE]\n  return comp.replace(r, (_, M, m, p, pr) => {\n    debug('tilde', comp, _, M, m, p, pr)\n    let ret\n\n    if (isX(M)) {\n      ret = ''\n    } else if (isX(m)) {\n      ret = `>=${M}.0.0 <${+M + 1}.0.0-0`\n    } else if (isX(p)) {\n      // ~1.2 == >=1.2.0 <1.3.0-0\n      ret = `>=${M}.${m}.0 <${M}.${+m + 1}.0-0`\n    } else if (pr) {\n      debug('replaceTilde pr', pr)\n      ret = `>=${M}.${m}.${p}-${pr\n      } <${M}.${+m + 1}.0-0`\n    } else {\n      // ~1.2.3 == >=1.2.3 <1.3.0-0\n      ret = `>=${M}.${m}.${p\n      } <${M}.${+m + 1}.0-0`\n    }\n\n    debug('tilde return', ret)\n    return ret\n  })\n}\n\n// ^ --> * (any, kinda silly)\n// ^2, ^2.x, ^2.x.x --> >=2.0.0 <3.0.0-0\n// ^2.0, ^2.0.x --> >=2.0.0 <3.0.0-0\n// ^1.2, ^1.2.x --> >=1.2.0 <2.0.0-0\n// ^1.2.3 --> >=1.2.3 <2.0.0-0\n// ^1.2.0 --> >=1.2.0 <2.0.0-0\n// ^0.0.1 --> >=0.0.1 <0.0.2-0\n// ^0.1.0 --> >=0.1.0 <0.2.0-0\nconst replaceCarets = (comp, options) => {\n  return comp\n    .trim()\n    .split(/\\s+/)\n    .map((c) => replaceCaret(c, options))\n    .join(' ')\n}\n\nconst replaceCaret = (comp, options) => {\n  debug('caret', comp, options)\n  const r = options.loose ? re[t.CARETLOOSE] : re[t.CARET]\n  const z = options.includePrerelease ? '-0' : ''\n  return comp.replace(r, (_, M, m, p, pr) => {\n    debug('caret', comp, _, M, m, p, pr)\n    let ret\n\n    if (isX(M)) {\n      ret = ''\n    } else if (isX(m)) {\n      ret = `>=${M}.0.0${z} <${+M + 1}.0.0-0`\n    } else if (isX(p)) {\n      if (M === '0') {\n        ret = `>=${M}.${m}.0${z} <${M}.${+m + 1}.0-0`\n      } else {\n        ret = `>=${M}.${m}.0${z} <${+M + 1}.0.0-0`\n      }\n    } else if (pr) {\n      debug('replaceCaret pr', pr)\n      if (M === '0') {\n        if (m === '0') {\n          ret = `>=${M}.${m}.${p}-${pr\n          } <${M}.${m}.${+p + 1}-0`\n        } else {\n          ret = `>=${M}.${m}.${p}-${pr\n          } <${M}.${+m + 1}.0-0`\n        }\n      } else {\n        ret = `>=${M}.${m}.${p}-${pr\n        } <${+M + 1}.0.0-0`\n      }\n    } else {\n      debug('no pr')\n      if (M === '0') {\n        if (m === '0') {\n          ret = `>=${M}.${m}.${p\n          }${z} <${M}.${m}.${+p + 1}-0`\n        } else {\n          ret = `>=${M}.${m}.${p\n          }${z} <${M}.${+m + 1}.0-0`\n        }\n      } else {\n        ret = `>=${M}.${m}.${p\n        } <${+M + 1}.0.0-0`\n      }\n    }\n\n    debug('caret return', ret)\n    return ret\n  })\n}\n\nconst replaceXRanges = (comp, options) => {\n  debug('replaceXRanges', comp, options)\n  return comp\n    .split(/\\s+/)\n    .map((c) => replaceXRange(c, options))\n    .join(' ')\n}\n\nconst replaceXRange = (comp, options) => {\n  comp = comp.trim()\n  const r = options.loose ? re[t.XRANGELOOSE] : re[t.XRANGE]\n  return comp.replace(r, (ret, gtlt, M, m, p, pr) => {\n    debug('xRange', comp, ret, gtlt, M, m, p, pr)\n    const xM = isX(M)\n    const xm = xM || isX(m)\n    const xp = xm || isX(p)\n    const anyX = xp\n\n    if (gtlt === '=' && anyX) {\n      gtlt = ''\n    }\n\n    // if we're including prereleases in the match, then we need\n    // to fix this to -0, the lowest possible prerelease value\n    pr = options.includePrerelease ? '-0' : ''\n\n    if (xM) {\n      if (gtlt === '>' || gtlt === '<') {\n        // nothing is allowed\n        ret = '<0.0.0-0'\n      } else {\n        // nothing is forbidden\n        ret = '*'\n      }\n    } else if (gtlt && anyX) {\n      // we know patch is an x, because we have any x at all.\n      // replace X with 0\n      if (xm) {\n        m = 0\n      }\n      p = 0\n\n      if (gtlt === '>') {\n        // >1 => >=2.0.0\n        // >1.2 => >=1.3.0\n        gtlt = '>='\n        if (xm) {\n          M = +M + 1\n          m = 0\n          p = 0\n        } else {\n          m = +m + 1\n          p = 0\n        }\n      } else if (gtlt === '<=') {\n        // <=0.7.x is actually <0.8.0, since any 0.7.x should\n        // pass.  Similarly, <=7.x is actually <8.0.0, etc.\n        gtlt = '<'\n        if (xm) {\n          M = +M + 1\n        } else {\n          m = +m + 1\n        }\n      }\n\n      if (gtlt === '<') {\n        pr = '-0'\n      }\n\n      ret = `${gtlt + M}.${m}.${p}${pr}`\n    } else if (xm) {\n      ret = `>=${M}.0.0${pr} <${+M + 1}.0.0-0`\n    } else if (xp) {\n      ret = `>=${M}.${m}.0${pr\n      } <${M}.${+m + 1}.0-0`\n    }\n\n    debug('xRange return', ret)\n\n    return ret\n  })\n}\n\n// Because * is AND-ed with everything else in the comparator,\n// and '' means \"any version\", just remove the *s entirely.\nconst replaceStars = (comp, options) => {\n  debug('replaceStars', comp, options)\n  // Looseness is ignored here.  star is always as loose as it gets!\n  return comp\n    .trim()\n    .replace(re[t.STAR], '')\n}\n\nconst replaceGTE0 = (comp, options) => {\n  debug('replaceGTE0', comp, options)\n  return comp\n    .trim()\n    .replace(re[options.includePrerelease ? t.GTE0PRE : t.GTE0], '')\n}\n\n// This function is passed to string.replace(re[t.HYPHENRANGE])\n// M, m, patch, prerelease, build\n// 1.2 - 3.4.5 => >=1.2.0 <=3.4.5\n// 1.2.3 - 3.4 => >=1.2.0 <3.5.0-0 Any 3.4.x will do\n// 1.2 - 3.4 => >=1.2.0 <3.5.0-0\nconst hyphenReplace = incPr => ($0,\n  from, fM, fm, fp, fpr, fb,\n  to, tM, tm, tp, tpr, tb) => {\n  if (isX(fM)) {\n    from = ''\n  } else if (isX(fm)) {\n    from = `>=${fM}.0.0${incPr ? '-0' : ''}`\n  } else if (isX(fp)) {\n    from = `>=${fM}.${fm}.0${incPr ? '-0' : ''}`\n  } else if (fpr) {\n    from = `>=${from}`\n  } else {\n    from = `>=${from}${incPr ? '-0' : ''}`\n  }\n\n  if (isX(tM)) {\n    to = ''\n  } else if (isX(tm)) {\n    to = `<${+tM + 1}.0.0-0`\n  } else if (isX(tp)) {\n    to = `<${tM}.${+tm + 1}.0-0`\n  } else if (tpr) {\n    to = `<=${tM}.${tm}.${tp}-${tpr}`\n  } else if (incPr) {\n    to = `<${tM}.${tm}.${+tp + 1}-0`\n  } else {\n    to = `<=${to}`\n  }\n\n  return `${from} ${to}`.trim()\n}\n\nconst testSet = (set, version, options) => {\n  for (let i = 0; i < set.length; i++) {\n    if (!set[i].test(version)) {\n      return false\n    }\n  }\n\n  if (version.prerelease.length && !options.includePrerelease) {\n    // Find the set of versions that are allowed to have prereleases\n    // For example, ^1.2.3-pr.1 desugars to >=1.2.3-pr.1 <2.0.0\n    // That should allow `1.2.3-pr.2` to pass.\n    // However, `1.2.4-alpha.notready` should NOT be allowed,\n    // even though it's within the range set by the comparators.\n    for (let i = 0; i < set.length; i++) {\n      debug(set[i].semver)\n      if (set[i].semver === Comparator.ANY) {\n        continue\n      }\n\n      if (set[i].semver.prerelease.length > 0) {\n        const allowed = set[i].semver\n        if (allowed.major === version.major &&\n            allowed.minor === version.minor &&\n            allowed.patch === version.patch) {\n          return true\n        }\n      }\n    }\n\n    // Version has a -pre, but it's not one of the ones we like.\n    return false\n  }\n\n  return true\n}\n","const debug = require('../internal/debug')\nconst { MAX_LENGTH, MAX_SAFE_INTEGER } = require('../internal/constants')\nconst { safeRe: re, t } = require('../internal/re')\n\nconst parseOptions = require('../internal/parse-options')\nconst { compareIdentifiers } = require('../internal/identifiers')\nclass SemVer {\n  constructor (version, options) {\n    options = parseOptions(options)\n\n    if (version instanceof SemVer) {\n      if (version.loose === !!options.loose &&\n          version.includePrerelease === !!options.includePrerelease) {\n        return version\n      } else {\n        version = version.version\n      }\n    } else if (typeof version !== 'string') {\n      throw new TypeError(`Invalid version. Must be a string. Got type \"${typeof version}\".`)\n    }\n\n    if (version.length > MAX_LENGTH) {\n      throw new TypeError(\n        `version is longer than ${MAX_LENGTH} characters`\n      )\n    }\n\n    debug('SemVer', version, options)\n    this.options = options\n    this.loose = !!options.loose\n    // this isn't actually relevant for versions, but keep it so that we\n    // don't run into trouble passing this.options around.\n    this.includePrerelease = !!options.includePrerelease\n\n    const m = version.trim().match(options.loose ? re[t.LOOSE] : re[t.FULL])\n\n    if (!m) {\n      throw new TypeError(`Invalid Version: ${version}`)\n    }\n\n    this.raw = version\n\n    // these are actually numbers\n    this.major = +m[1]\n    this.minor = +m[2]\n    this.patch = +m[3]\n\n    if (this.major > MAX_SAFE_INTEGER || this.major < 0) {\n      throw new TypeError('Invalid major version')\n    }\n\n    if (this.minor > MAX_SAFE_INTEGER || this.minor < 0) {\n      throw new TypeError('Invalid minor version')\n    }\n\n    if (this.patch > MAX_SAFE_INTEGER || this.patch < 0) {\n      throw new TypeError('Invalid patch version')\n    }\n\n    // numberify any prerelease numeric ids\n    if (!m[4]) {\n      this.prerelease = []\n    } else {\n      this.prerelease = m[4].split('.').map((id) => {\n        if (/^[0-9]+$/.test(id)) {\n          const num = +id\n          if (num >= 0 && num < MAX_SAFE_INTEGER) {\n            return num\n          }\n        }\n        return id\n      })\n    }\n\n    this.build = m[5] ? m[5].split('.') : []\n    this.format()\n  }\n\n  format () {\n    this.version = `${this.major}.${this.minor}.${this.patch}`\n    if (this.prerelease.length) {\n      this.version += `-${this.prerelease.join('.')}`\n    }\n    return this.version\n  }\n\n  toString () {\n    return this.version\n  }\n\n  compare (other) {\n    debug('SemVer.compare', this.version, this.options, other)\n    if (!(other instanceof SemVer)) {\n      if (typeof other === 'string' && other === this.version) {\n        return 0\n      }\n      other = new SemVer(other, this.options)\n    }\n\n    if (other.version === this.version) {\n      return 0\n    }\n\n    return this.compareMain(other) || this.comparePre(other)\n  }\n\n  compareMain (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    return (\n      compareIdentifiers(this.major, other.major) ||\n      compareIdentifiers(this.minor, other.minor) ||\n      compareIdentifiers(this.patch, other.patch)\n    )\n  }\n\n  comparePre (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    // NOT having a prerelease is > having one\n    if (this.prerelease.length && !other.prerelease.length) {\n      return -1\n    } else if (!this.prerelease.length && other.prerelease.length) {\n      return 1\n    } else if (!this.prerelease.length && !other.prerelease.length) {\n      return 0\n    }\n\n    let i = 0\n    do {\n      const a = this.prerelease[i]\n      const b = other.prerelease[i]\n      debug('prerelease compare', i, a, b)\n      if (a === undefined && b === undefined) {\n        return 0\n      } else if (b === undefined) {\n        return 1\n      } else if (a === undefined) {\n        return -1\n      } else if (a === b) {\n        continue\n      } else {\n        return compareIdentifiers(a, b)\n      }\n    } while (++i)\n  }\n\n  compareBuild (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    let i = 0\n    do {\n      const a = this.build[i]\n      const b = other.build[i]\n      debug('prerelease compare', i, a, b)\n      if (a === undefined && b === undefined) {\n        return 0\n      } else if (b === undefined) {\n        return 1\n      } else if (a === undefined) {\n        return -1\n      } else if (a === b) {\n        continue\n      } else {\n        return compareIdentifiers(a, b)\n      }\n    } while (++i)\n  }\n\n  // preminor will bump the version up to the next minor release, and immediately\n  // down to pre-release. premajor and prepatch work the same way.\n  inc (release, identifier, identifierBase) {\n    switch (release) {\n      case 'premajor':\n        this.prerelease.length = 0\n        this.patch = 0\n        this.minor = 0\n        this.major++\n        this.inc('pre', identifier, identifierBase)\n        break\n      case 'preminor':\n        this.prerelease.length = 0\n        this.patch = 0\n        this.minor++\n        this.inc('pre', identifier, identifierBase)\n        break\n      case 'prepatch':\n        // If this is already a prerelease, it will bump to the next version\n        // drop any prereleases that might already exist, since they are not\n        // relevant at this point.\n        this.prerelease.length = 0\n        this.inc('patch', identifier, identifierBase)\n        this.inc('pre', identifier, identifierBase)\n        break\n      // If the input is a non-prerelease version, this acts the same as\n      // prepatch.\n      case 'prerelease':\n        if (this.prerelease.length === 0) {\n          this.inc('patch', identifier, identifierBase)\n        }\n        this.inc('pre', identifier, identifierBase)\n        break\n\n      case 'major':\n        // If this is a pre-major version, bump up to the same major version.\n        // Otherwise increment major.\n        // 1.0.0-5 bumps to 1.0.0\n        // 1.1.0 bumps to 2.0.0\n        if (\n          this.minor !== 0 ||\n          this.patch !== 0 ||\n          this.prerelease.length === 0\n        ) {\n          this.major++\n        }\n        this.minor = 0\n        this.patch = 0\n        this.prerelease = []\n        break\n      case 'minor':\n        // If this is a pre-minor version, bump up to the same minor version.\n        // Otherwise increment minor.\n        // 1.2.0-5 bumps to 1.2.0\n        // 1.2.1 bumps to 1.3.0\n        if (this.patch !== 0 || this.prerelease.length === 0) {\n          this.minor++\n        }\n        this.patch = 0\n        this.prerelease = []\n        break\n      case 'patch':\n        // If this is not a pre-release version, it will increment the patch.\n        // If it is a pre-release it will bump up to the same patch version.\n        // 1.2.0-5 patches to 1.2.0\n        // 1.2.0 patches to 1.2.1\n        if (this.prerelease.length === 0) {\n          this.patch++\n        }\n        this.prerelease = []\n        break\n      // This probably shouldn't be used publicly.\n      // 1.0.0 'pre' would become 1.0.0-0 which is the wrong direction.\n      case 'pre': {\n        const base = Number(identifierBase) ? 1 : 0\n\n        if (!identifier && identifierBase === false) {\n          throw new Error('invalid increment argument: identifier is empty')\n        }\n\n        if (this.prerelease.length === 0) {\n          this.prerelease = [base]\n        } else {\n          let i = this.prerelease.length\n          while (--i >= 0) {\n            if (typeof this.prerelease[i] === 'number') {\n              this.prerelease[i]++\n              i = -2\n            }\n          }\n          if (i === -1) {\n            // didn't increment anything\n            if (identifier === this.prerelease.join('.') && identifierBase === false) {\n              throw new Error('invalid increment argument: identifier already exists')\n            }\n            this.prerelease.push(base)\n          }\n        }\n        if (identifier) {\n          // 1.2.0-beta.1 bumps to 1.2.0-beta.2,\n          // 1.2.0-beta.fooblz or 1.2.0-beta bumps to 1.2.0-beta.0\n          let prerelease = [identifier, base]\n          if (identifierBase === false) {\n            prerelease = [identifier]\n          }\n          if (compareIdentifiers(this.prerelease[0], identifier) === 0) {\n            if (isNaN(this.prerelease[1])) {\n              this.prerelease = prerelease\n            }\n          } else {\n            this.prerelease = prerelease\n          }\n        }\n        break\n      }\n      default:\n        throw new Error(`invalid increment argument: ${release}`)\n    }\n    this.raw = this.format()\n    if (this.build.length) {\n      this.raw += `+${this.build.join('.')}`\n    }\n    return this\n  }\n}\n\nmodule.exports = SemVer\n","const parse = require('./parse')\nconst clean = (version, options) => {\n  const s = parse(version.trim().replace(/^[=v]+/, ''), options)\n  return s ? s.version : null\n}\nmodule.exports = clean\n","const eq = require('./eq')\nconst neq = require('./neq')\nconst gt = require('./gt')\nconst gte = require('./gte')\nconst lt = require('./lt')\nconst lte = require('./lte')\n\nconst cmp = (a, op, b, loose) => {\n  switch (op) {\n    case '===':\n      if (typeof a === 'object') {\n        a = a.version\n      }\n      if (typeof b === 'object') {\n        b = b.version\n      }\n      return a === b\n\n    case '!==':\n      if (typeof a === 'object') {\n        a = a.version\n      }\n      if (typeof b === 'object') {\n        b = b.version\n      }\n      return a !== b\n\n    case '':\n    case '=':\n    case '==':\n      return eq(a, b, loose)\n\n    case '!=':\n      return neq(a, b, loose)\n\n    case '>':\n      return gt(a, b, loose)\n\n    case '>=':\n      return gte(a, b, loose)\n\n    case '<':\n      return lt(a, b, loose)\n\n    case '<=':\n      return lte(a, b, loose)\n\n    default:\n      throw new TypeError(`Invalid operator: ${op}`)\n  }\n}\nmodule.exports = cmp\n","const SemVer = require('../classes/semver')\nconst parse = require('./parse')\nconst { safeRe: re, t } = require('../internal/re')\n\nconst coerce = (version, options) => {\n  if (version instanceof SemVer) {\n    return version\n  }\n\n  if (typeof version === 'number') {\n    version = String(version)\n  }\n\n  if (typeof version !== 'string') {\n    return null\n  }\n\n  options = options || {}\n\n  let match = null\n  if (!options.rtl) {\n    match = version.match(re[t.COERCE])\n  } else {\n    // Find the right-most coercible string that does not share\n    // a terminus with a more left-ward coercible string.\n    // Eg, '1.2.3.4' wants to coerce '2.3.4', not '3.4' or '4'\n    //\n    // Walk through the string checking with a /g regexp\n    // Manually set the index so as to pick up overlapping matches.\n    // Stop when we get a match that ends at the string end, since no\n    // coercible string can be more right-ward without the same terminus.\n    let next\n    while ((next = re[t.COERCERTL].exec(version)) &&\n        (!match || match.index + match[0].length !== version.length)\n    ) {\n      if (!match ||\n            next.index + next[0].length !== match.index + match[0].length) {\n        match = next\n      }\n      re[t.COERCERTL].lastIndex = next.index + next[1].length + next[2].length\n    }\n    // leave it in a clean state\n    re[t.COERCERTL].lastIndex = -1\n  }\n\n  if (match === null) {\n    return null\n  }\n\n  return parse(`${match[2]}.${match[3] || '0'}.${match[4] || '0'}`, options)\n}\nmodule.exports = coerce\n","const SemVer = require('../classes/semver')\nconst compareBuild = (a, b, loose) => {\n  const versionA = new SemVer(a, loose)\n  const versionB = new SemVer(b, loose)\n  return versionA.compare(versionB) || versionA.compareBuild(versionB)\n}\nmodule.exports = compareBuild\n","const compare = require('./compare')\nconst compareLoose = (a, b) => compare(a, b, true)\nmodule.exports = compareLoose\n","const SemVer = require('../classes/semver')\nconst compare = (a, b, loose) =>\n  new SemVer(a, loose).compare(new SemVer(b, loose))\n\nmodule.exports = compare\n","const parse = require('./parse.js')\n\nconst diff = (version1, version2) => {\n  const v1 = parse(version1, null, true)\n  const v2 = parse(version2, null, true)\n  const comparison = v1.compare(v2)\n\n  if (comparison === 0) {\n    return null\n  }\n\n  const v1Higher = comparison > 0\n  const highVersion = v1Higher ? v1 : v2\n  const lowVersion = v1Higher ? v2 : v1\n  const highHasPre = !!highVersion.prerelease.length\n  const lowHasPre = !!lowVersion.prerelease.length\n\n  if (lowHasPre && !highHasPre) {\n    // Going from prerelease -> no prerelease requires some special casing\n\n    // If the low version has only a major, then it will always be a major\n    // Some examples:\n    // 1.0.0-1 -> 1.0.0\n    // 1.0.0-1 -> 1.1.1\n    // 1.0.0-1 -> 2.0.0\n    if (!lowVersion.patch && !lowVersion.minor) {\n      return 'major'\n    }\n\n    // Otherwise it can be determined by checking the high version\n\n    if (highVersion.patch) {\n      // anything higher than a patch bump would result in the wrong version\n      return 'patch'\n    }\n\n    if (highVersion.minor) {\n      // anything higher than a minor bump would result in the wrong version\n      return 'minor'\n    }\n\n    // bumping major/minor/patch all have same result\n    return 'major'\n  }\n\n  // add the `pre` prefix if we are going to a prerelease version\n  const prefix = highHasPre ? 'pre' : ''\n\n  if (v1.major !== v2.major) {\n    return prefix + 'major'\n  }\n\n  if (v1.minor !== v2.minor) {\n    return prefix + 'minor'\n  }\n\n  if (v1.patch !== v2.patch) {\n    return prefix + 'patch'\n  }\n\n  // high and low are preleases\n  return 'prerelease'\n}\n\nmodule.exports = diff\n","const compare = require('./compare')\nconst eq = (a, b, loose) => compare(a, b, loose) === 0\nmodule.exports = eq\n","const compare = require('./compare')\nconst gt = (a, b, loose) => compare(a, b, loose) > 0\nmodule.exports = gt\n","const compare = require('./compare')\nconst gte = (a, b, loose) => compare(a, b, loose) >= 0\nmodule.exports = gte\n","const SemVer = require('../classes/semver')\n\nconst inc = (version, release, options, identifier, identifierBase) => {\n  if (typeof (options) === 'string') {\n    identifierBase = identifier\n    identifier = options\n    options = undefined\n  }\n\n  try {\n    return new SemVer(\n      version instanceof SemVer ? version.version : version,\n      options\n    ).inc(release, identifier, identifierBase).version\n  } catch (er) {\n    return null\n  }\n}\nmodule.exports = inc\n","const compare = require('./compare')\nconst lt = (a, b, loose) => compare(a, b, loose) < 0\nmodule.exports = lt\n","const compare = require('./compare')\nconst lte = (a, b, loose) => compare(a, b, loose) <= 0\nmodule.exports = lte\n","const SemVer = require('../classes/semver')\nconst major = (a, loose) => new SemVer(a, loose).major\nmodule.exports = major\n","const SemVer = require('../classes/semver')\nconst minor = (a, loose) => new SemVer(a, loose).minor\nmodule.exports = minor\n","const compare = require('./compare')\nconst neq = (a, b, loose) => compare(a, b, loose) !== 0\nmodule.exports = neq\n","const SemVer = require('../classes/semver')\nconst parse = (version, options, throwErrors = false) => {\n  if (version instanceof SemVer) {\n    return version\n  }\n  try {\n    return new SemVer(version, options)\n  } catch (er) {\n    if (!throwErrors) {\n      return null\n    }\n    throw er\n  }\n}\n\nmodule.exports = parse\n","const SemVer = require('../classes/semver')\nconst patch = (a, loose) => new SemVer(a, loose).patch\nmodule.exports = patch\n","const parse = require('./parse')\nconst prerelease = (version, options) => {\n  const parsed = parse(version, options)\n  return (parsed && parsed.prerelease.length) ? parsed.prerelease : null\n}\nmodule.exports = prerelease\n","const compare = require('./compare')\nconst rcompare = (a, b, loose) => compare(b, a, loose)\nmodule.exports = rcompare\n","const compareBuild = require('./compare-build')\nconst rsort = (list, loose) => list.sort((a, b) => compareBuild(b, a, loose))\nmodule.exports = rsort\n","const Range = require('../classes/range')\nconst satisfies = (version, range, options) => {\n  try {\n    range = new Range(range, options)\n  } catch (er) {\n    return false\n  }\n  return range.test(version)\n}\nmodule.exports = satisfies\n","const compareBuild = require('./compare-build')\nconst sort = (list, loose) => list.sort((a, b) => compareBuild(a, b, loose))\nmodule.exports = sort\n","const parse = require('./parse')\nconst valid = (version, options) => {\n  const v = parse(version, options)\n  return v ? v.version : null\n}\nmodule.exports = valid\n","// just pre-load all the stuff that index.js lazily exports\nconst internalRe = require('./internal/re')\nconst constants = require('./internal/constants')\nconst SemVer = require('./classes/semver')\nconst identifiers = require('./internal/identifiers')\nconst parse = require('./functions/parse')\nconst valid = require('./functions/valid')\nconst clean = require('./functions/clean')\nconst inc = require('./functions/inc')\nconst diff = require('./functions/diff')\nconst major = require('./functions/major')\nconst minor = require('./functions/minor')\nconst patch = require('./functions/patch')\nconst prerelease = require('./functions/prerelease')\nconst compare = require('./functions/compare')\nconst rcompare = require('./functions/rcompare')\nconst compareLoose = require('./functions/compare-loose')\nconst compareBuild = require('./functions/compare-build')\nconst sort = require('./functions/sort')\nconst rsort = require('./functions/rsort')\nconst gt = require('./functions/gt')\nconst lt = require('./functions/lt')\nconst eq = require('./functions/eq')\nconst neq = require('./functions/neq')\nconst gte = require('./functions/gte')\nconst lte = require('./functions/lte')\nconst cmp = require('./functions/cmp')\nconst coerce = require('./functions/coerce')\nconst Comparator = require('./classes/comparator')\nconst Range = require('./classes/range')\nconst satisfies = require('./functions/satisfies')\nconst toComparators = require('./ranges/to-comparators')\nconst maxSatisfying = require('./ranges/max-satisfying')\nconst minSatisfying = require('./ranges/min-satisfying')\nconst minVersion = require('./ranges/min-version')\nconst validRange = require('./ranges/valid')\nconst outside = require('./ranges/outside')\nconst gtr = require('./ranges/gtr')\nconst ltr = require('./ranges/ltr')\nconst intersects = require('./ranges/intersects')\nconst simplifyRange = require('./ranges/simplify')\nconst subset = require('./ranges/subset')\nmodule.exports = {\n  parse,\n  valid,\n  clean,\n  inc,\n  diff,\n  major,\n  minor,\n  patch,\n  prerelease,\n  compare,\n  rcompare,\n  compareLoose,\n  compareBuild,\n  sort,\n  rsort,\n  gt,\n  lt,\n  eq,\n  neq,\n  gte,\n  lte,\n  cmp,\n  coerce,\n  Comparator,\n  Range,\n  satisfies,\n  toComparators,\n  maxSatisfying,\n  minSatisfying,\n  minVersion,\n  validRange,\n  outside,\n  gtr,\n  ltr,\n  intersects,\n  simplifyRange,\n  subset,\n  SemVer,\n  re: internalRe.re,\n  src: internalRe.src,\n  tokens: internalRe.t,\n  SEMVER_SPEC_VERSION: constants.SEMVER_SPEC_VERSION,\n  RELEASE_TYPES: constants.RELEASE_TYPES,\n  compareIdentifiers: identifiers.compareIdentifiers,\n  rcompareIdentifiers: identifiers.rcompareIdentifiers,\n}\n","// Note: this is the semver.org version of the spec that it implements\n// Not necessarily the package version of this code.\nconst SEMVER_SPEC_VERSION = '2.0.0'\n\nconst MAX_LENGTH = 256\nconst MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER ||\n/* istanbul ignore next */ 9007199254740991\n\n// Max safe segment length for coercion.\nconst MAX_SAFE_COMPONENT_LENGTH = 16\n\n// Max safe length for a build identifier. The max length minus 6 characters for\n// the shortest version with a build 0.0.0+BUILD.\nconst MAX_SAFE_BUILD_LENGTH = MAX_LENGTH - 6\n\nconst RELEASE_TYPES = [\n  'major',\n  'premajor',\n  'minor',\n  'preminor',\n  'patch',\n  'prepatch',\n  'prerelease',\n]\n\nmodule.exports = {\n  MAX_LENGTH,\n  MAX_SAFE_COMPONENT_LENGTH,\n  MAX_SAFE_BUILD_LENGTH,\n  MAX_SAFE_INTEGER,\n  RELEASE_TYPES,\n  SEMVER_SPEC_VERSION,\n  FLAG_INCLUDE_PRERELEASE: 0b001,\n  FLAG_LOOSE: 0b010,\n}\n","const debug = (\n  typeof process === 'object' &&\n  process.env &&\n  process.env.NODE_DEBUG &&\n  /\\bsemver\\b/i.test(process.env.NODE_DEBUG)\n) ? (...args) => console.error('SEMVER', ...args)\n  : () => {}\n\nmodule.exports = debug\n","const numeric = /^[0-9]+$/\nconst compareIdentifiers = (a, b) => {\n  const anum = numeric.test(a)\n  const bnum = numeric.test(b)\n\n  if (anum && bnum) {\n    a = +a\n    b = +b\n  }\n\n  return a === b ? 0\n    : (anum && !bnum) ? -1\n    : (bnum && !anum) ? 1\n    : a < b ? -1\n    : 1\n}\n\nconst rcompareIdentifiers = (a, b) => compareIdentifiers(b, a)\n\nmodule.exports = {\n  compareIdentifiers,\n  rcompareIdentifiers,\n}\n","// parse out just the options we care about\nconst looseOption = Object.freeze({ loose: true })\nconst emptyOpts = Object.freeze({ })\nconst parseOptions = options => {\n  if (!options) {\n    return emptyOpts\n  }\n\n  if (typeof options !== 'object') {\n    return looseOption\n  }\n\n  return options\n}\nmodule.exports = parseOptions\n","const {\n  MAX_SAFE_COMPONENT_LENGTH,\n  MAX_SAFE_BUILD_LENGTH,\n  MAX_LENGTH,\n} = require('./constants')\nconst debug = require('./debug')\nexports = module.exports = {}\n\n// The actual regexps go on exports.re\nconst re = exports.re = []\nconst safeRe = exports.safeRe = []\nconst src = exports.src = []\nconst t = exports.t = {}\nlet R = 0\n\nconst LETTERDASHNUMBER = '[a-zA-Z0-9-]'\n\n// Replace some greedy regex tokens to prevent regex dos issues. These regex are\n// used internally via the safeRe object since all inputs in this library get\n// normalized first to trim and collapse all extra whitespace. The original\n// regexes are exported for userland consumption and lower level usage. A\n// future breaking change could export the safer regex only with a note that\n// all input should have extra whitespace removed.\nconst safeRegexReplacements = [\n  ['\\\\s', 1],\n  ['\\\\d', MAX_LENGTH],\n  [LETTERDASHNUMBER, MAX_SAFE_BUILD_LENGTH],\n]\n\nconst makeSafeRegex = (value) => {\n  for (const [token, max] of safeRegexReplacements) {\n    value = value\n      .split(`${token}*`).join(`${token}{0,${max}}`)\n      .split(`${token}+`).join(`${token}{1,${max}}`)\n  }\n  return value\n}\n\nconst createToken = (name, value, isGlobal) => {\n  const safe = makeSafeRegex(value)\n  const index = R++\n  debug(name, index, value)\n  t[name] = index\n  src[index] = value\n  re[index] = new RegExp(value, isGlobal ? 'g' : undefined)\n  safeRe[index] = new RegExp(safe, isGlobal ? 'g' : undefined)\n}\n\n// The following Regular Expressions can be used for tokenizing,\n// validating, and parsing SemVer version strings.\n\n// ## Numeric Identifier\n// A single `0`, or a non-zero digit followed by zero or more digits.\n\ncreateToken('NUMERICIDENTIFIER', '0|[1-9]\\\\d*')\ncreateToken('NUMERICIDENTIFIERLOOSE', '\\\\d+')\n\n// ## Non-numeric Identifier\n// Zero or more digits, followed by a letter or hyphen, and then zero or\n// more letters, digits, or hyphens.\n\ncreateToken('NONNUMERICIDENTIFIER', `\\\\d*[a-zA-Z-]${LETTERDASHNUMBER}*`)\n\n// ## Main Version\n// Three dot-separated numeric identifiers.\n\ncreateToken('MAINVERSION', `(${src[t.NUMERICIDENTIFIER]})\\\\.` +\n                   `(${src[t.NUMERICIDENTIFIER]})\\\\.` +\n                   `(${src[t.NUMERICIDENTIFIER]})`)\n\ncreateToken('MAINVERSIONLOOSE', `(${src[t.NUMERICIDENTIFIERLOOSE]})\\\\.` +\n                        `(${src[t.NUMERICIDENTIFIERLOOSE]})\\\\.` +\n                        `(${src[t.NUMERICIDENTIFIERLOOSE]})`)\n\n// ## Pre-release Version Identifier\n// A numeric identifier, or a non-numeric identifier.\n\ncreateToken('PRERELEASEIDENTIFIER', `(?:${src[t.NUMERICIDENTIFIER]\n}|${src[t.NONNUMERICIDENTIFIER]})`)\n\ncreateToken('PRERELEASEIDENTIFIERLOOSE', `(?:${src[t.NUMERICIDENTIFIERLOOSE]\n}|${src[t.NONNUMERICIDENTIFIER]})`)\n\n// ## Pre-release Version\n// Hyphen, followed by one or more dot-separated pre-release version\n// identifiers.\n\ncreateToken('PRERELEASE', `(?:-(${src[t.PRERELEASEIDENTIFIER]\n}(?:\\\\.${src[t.PRERELEASEIDENTIFIER]})*))`)\n\ncreateToken('PRERELEASELOOSE', `(?:-?(${src[t.PRERELEASEIDENTIFIERLOOSE]\n}(?:\\\\.${src[t.PRERELEASEIDENTIFIERLOOSE]})*))`)\n\n// ## Build Metadata Identifier\n// Any combination of digits, letters, or hyphens.\n\ncreateToken('BUILDIDENTIFIER', `${LETTERDASHNUMBER}+`)\n\n// ## Build Metadata\n// Plus sign, followed by one or more period-separated build metadata\n// identifiers.\n\ncreateToken('BUILD', `(?:\\\\+(${src[t.BUILDIDENTIFIER]\n}(?:\\\\.${src[t.BUILDIDENTIFIER]})*))`)\n\n// ## Full Version String\n// A main version, followed optionally by a pre-release version and\n// build metadata.\n\n// Note that the only major, minor, patch, and pre-release sections of\n// the version string are capturing groups.  The build metadata is not a\n// capturing group, because it should not ever be used in version\n// comparison.\n\ncreateToken('FULLPLAIN', `v?${src[t.MAINVERSION]\n}${src[t.PRERELEASE]}?${\n  src[t.BUILD]}?`)\n\ncreateToken('FULL', `^${src[t.FULLPLAIN]}$`)\n\n// like full, but allows v1.2.3 and =1.2.3, which people do sometimes.\n// also, 1.0.0alpha1 (prerelease without the hyphen) which is pretty\n// common in the npm registry.\ncreateToken('LOOSEPLAIN', `[v=\\\\s]*${src[t.MAINVERSIONLOOSE]\n}${src[t.PRERELEASELOOSE]}?${\n  src[t.BUILD]}?`)\n\ncreateToken('LOOSE', `^${src[t.LOOSEPLAIN]}$`)\n\ncreateToken('GTLT', '((?:<|>)?=?)')\n\n// Something like \"2.*\" or \"1.2.x\".\n// Note that \"x.x\" is a valid xRange identifer, meaning \"any version\"\n// Only the first item is strictly required.\ncreateToken('XRANGEIDENTIFIERLOOSE', `${src[t.NUMERICIDENTIFIERLOOSE]}|x|X|\\\\*`)\ncreateToken('XRANGEIDENTIFIER', `${src[t.NUMERICIDENTIFIER]}|x|X|\\\\*`)\n\ncreateToken('XRANGEPLAIN', `[v=\\\\s]*(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:\\\\.(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:\\\\.(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:${src[t.PRERELEASE]})?${\n                     src[t.BUILD]}?` +\n                   `)?)?`)\n\ncreateToken('XRANGEPLAINLOOSE', `[v=\\\\s]*(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:\\\\.(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:\\\\.(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:${src[t.PRERELEASELOOSE]})?${\n                          src[t.BUILD]}?` +\n                        `)?)?`)\n\ncreateToken('XRANGE', `^${src[t.GTLT]}\\\\s*${src[t.XRANGEPLAIN]}$`)\ncreateToken('XRANGELOOSE', `^${src[t.GTLT]}\\\\s*${src[t.XRANGEPLAINLOOSE]}$`)\n\n// Coercion.\n// Extract anything that could conceivably be a part of a valid semver\ncreateToken('COERCE', `${'(^|[^\\\\d])' +\n              '(\\\\d{1,'}${MAX_SAFE_COMPONENT_LENGTH}})` +\n              `(?:\\\\.(\\\\d{1,${MAX_SAFE_COMPONENT_LENGTH}}))?` +\n              `(?:\\\\.(\\\\d{1,${MAX_SAFE_COMPONENT_LENGTH}}))?` +\n              `(?:$|[^\\\\d])`)\ncreateToken('COERCERTL', src[t.COERCE], true)\n\n// Tilde ranges.\n// Meaning is \"reasonably at or greater than\"\ncreateToken('LONETILDE', '(?:~>?)')\n\ncreateToken('TILDETRIM', `(\\\\s*)${src[t.LONETILDE]}\\\\s+`, true)\nexports.tildeTrimReplace = '$1~'\n\ncreateToken('TILDE', `^${src[t.LONETILDE]}${src[t.XRANGEPLAIN]}$`)\ncreateToken('TILDELOOSE', `^${src[t.LONETILDE]}${src[t.XRANGEPLAINLOOSE]}$`)\n\n// Caret ranges.\n// Meaning is \"at least and backwards compatible with\"\ncreateToken('LONECARET', '(?:\\\\^)')\n\ncreateToken('CARETTRIM', `(\\\\s*)${src[t.LONECARET]}\\\\s+`, true)\nexports.caretTrimReplace = '$1^'\n\ncreateToken('CARET', `^${src[t.LONECARET]}${src[t.XRANGEPLAIN]}$`)\ncreateToken('CARETLOOSE', `^${src[t.LONECARET]}${src[t.XRANGEPLAINLOOSE]}$`)\n\n// A simple gt/lt/eq thing, or just \"\" to indicate \"any version\"\ncreateToken('COMPARATORLOOSE', `^${src[t.GTLT]}\\\\s*(${src[t.LOOSEPLAIN]})$|^$`)\ncreateToken('COMPARATOR', `^${src[t.GTLT]}\\\\s*(${src[t.FULLPLAIN]})$|^$`)\n\n// An expression to strip any whitespace between the gtlt and the thing\n// it modifies, so that `> 1.2.3` ==> `>1.2.3`\ncreateToken('COMPARATORTRIM', `(\\\\s*)${src[t.GTLT]\n}\\\\s*(${src[t.LOOSEPLAIN]}|${src[t.XRANGEPLAIN]})`, true)\nexports.comparatorTrimReplace = '$1$2$3'\n\n// Something like `1.2.3 - 1.2.4`\n// Note that these all use the loose form, because they'll be\n// checked against either the strict or loose comparator form\n// later.\ncreateToken('HYPHENRANGE', `^\\\\s*(${src[t.XRANGEPLAIN]})` +\n                   `\\\\s+-\\\\s+` +\n                   `(${src[t.XRANGEPLAIN]})` +\n                   `\\\\s*$`)\n\ncreateToken('HYPHENRANGELOOSE', `^\\\\s*(${src[t.XRANGEPLAINLOOSE]})` +\n                        `\\\\s+-\\\\s+` +\n                        `(${src[t.XRANGEPLAINLOOSE]})` +\n                        `\\\\s*$`)\n\n// Star ranges basically just allow anything at all.\ncreateToken('STAR', '(<|>)?=?\\\\s*\\\\*')\n// >=0.0.0 is like a star\ncreateToken('GTE0', '^\\\\s*>=\\\\s*0\\\\.0\\\\.0\\\\s*$')\ncreateToken('GTE0PRE', '^\\\\s*>=\\\\s*0\\\\.0\\\\.0-0\\\\s*$')\n","// Determine if version is greater than all the versions possible in the range.\nconst outside = require('./outside')\nconst gtr = (version, range, options) => outside(version, range, '>', options)\nmodule.exports = gtr\n","const Range = require('../classes/range')\nconst intersects = (r1, r2, options) => {\n  r1 = new Range(r1, options)\n  r2 = new Range(r2, options)\n  return r1.intersects(r2, options)\n}\nmodule.exports = intersects\n","const outside = require('./outside')\n// Determine if version is less than all the versions possible in the range\nconst ltr = (version, range, options) => outside(version, range, '<', options)\nmodule.exports = ltr\n","const SemVer = require('../classes/semver')\nconst Range = require('../classes/range')\n\nconst maxSatisfying = (versions, range, options) => {\n  let max = null\n  let maxSV = null\n  let rangeObj = null\n  try {\n    rangeObj = new Range(range, options)\n  } catch (er) {\n    return null\n  }\n  versions.forEach((v) => {\n    if (rangeObj.test(v)) {\n      // satisfies(v, range, options)\n      if (!max || maxSV.compare(v) === -1) {\n        // compare(max, v, true)\n        max = v\n        maxSV = new SemVer(max, options)\n      }\n    }\n  })\n  return max\n}\nmodule.exports = maxSatisfying\n","const SemVer = require('../classes/semver')\nconst Range = require('../classes/range')\nconst minSatisfying = (versions, range, options) => {\n  let min = null\n  let minSV = null\n  let rangeObj = null\n  try {\n    rangeObj = new Range(range, options)\n  } catch (er) {\n    return null\n  }\n  versions.forEach((v) => {\n    if (rangeObj.test(v)) {\n      // satisfies(v, range, options)\n      if (!min || minSV.compare(v) === 1) {\n        // compare(min, v, true)\n        min = v\n        minSV = new SemVer(min, options)\n      }\n    }\n  })\n  return min\n}\nmodule.exports = minSatisfying\n","const SemVer = require('../classes/semver')\nconst Range = require('../classes/range')\nconst gt = require('../functions/gt')\n\nconst minVersion = (range, loose) => {\n  range = new Range(range, loose)\n\n  let minver = new SemVer('0.0.0')\n  if (range.test(minver)) {\n    return minver\n  }\n\n  minver = new SemVer('0.0.0-0')\n  if (range.test(minver)) {\n    return minver\n  }\n\n  minver = null\n  for (let i = 0; i < range.set.length; ++i) {\n    const comparators = range.set[i]\n\n    let setMin = null\n    comparators.forEach((comparator) => {\n      // Clone to avoid manipulating the comparator's semver object.\n      const compver = new SemVer(comparator.semver.version)\n      switch (comparator.operator) {\n        case '>':\n          if (compver.prerelease.length === 0) {\n            compver.patch++\n          } else {\n            compver.prerelease.push(0)\n          }\n          compver.raw = compver.format()\n          /* fallthrough */\n        case '':\n        case '>=':\n          if (!setMin || gt(compver, setMin)) {\n            setMin = compver\n          }\n          break\n        case '<':\n        case '<=':\n          /* Ignore maximum versions */\n          break\n        /* istanbul ignore next */\n        default:\n          throw new Error(`Unexpected operation: ${comparator.operator}`)\n      }\n    })\n    if (setMin && (!minver || gt(minver, setMin))) {\n      minver = setMin\n    }\n  }\n\n  if (minver && range.test(minver)) {\n    return minver\n  }\n\n  return null\n}\nmodule.exports = minVersion\n","const SemVer = require('../classes/semver')\nconst Comparator = require('../classes/comparator')\nconst { ANY } = Comparator\nconst Range = require('../classes/range')\nconst satisfies = require('../functions/satisfies')\nconst gt = require('../functions/gt')\nconst lt = require('../functions/lt')\nconst lte = require('../functions/lte')\nconst gte = require('../functions/gte')\n\nconst outside = (version, range, hilo, options) => {\n  version = new SemVer(version, options)\n  range = new Range(range, options)\n\n  let gtfn, ltefn, ltfn, comp, ecomp\n  switch (hilo) {\n    case '>':\n      gtfn = gt\n      ltefn = lte\n      ltfn = lt\n      comp = '>'\n      ecomp = '>='\n      break\n    case '<':\n      gtfn = lt\n      ltefn = gte\n      ltfn = gt\n      comp = '<'\n      ecomp = '<='\n      break\n    default:\n      throw new TypeError('Must provide a hilo val of \"<\" or \">\"')\n  }\n\n  // If it satisfies the range it is not outside\n  if (satisfies(version, range, options)) {\n    return false\n  }\n\n  // From now on, variable terms are as if we're in \"gtr\" mode.\n  // but note that everything is flipped for the \"ltr\" function.\n\n  for (let i = 0; i < range.set.length; ++i) {\n    const comparators = range.set[i]\n\n    let high = null\n    let low = null\n\n    comparators.forEach((comparator) => {\n      if (comparator.semver === ANY) {\n        comparator = new Comparator('>=0.0.0')\n      }\n      high = high || comparator\n      low = low || comparator\n      if (gtfn(comparator.semver, high.semver, options)) {\n        high = comparator\n      } else if (ltfn(comparator.semver, low.semver, options)) {\n        low = comparator\n      }\n    })\n\n    // If the edge version comparator has a operator then our version\n    // isn't outside it\n    if (high.operator === comp || high.operator === ecomp) {\n      return false\n    }\n\n    // If the lowest version comparator has an operator and our version\n    // is less than it then it isn't higher than the range\n    if ((!low.operator || low.operator === comp) &&\n        ltefn(version, low.semver)) {\n      return false\n    } else if (low.operator === ecomp && ltfn(version, low.semver)) {\n      return false\n    }\n  }\n  return true\n}\n\nmodule.exports = outside\n","// given a set of versions and a range, create a \"simplified\" range\n// that includes the same versions that the original range does\n// If the original range is shorter than the simplified one, return that.\nconst satisfies = require('../functions/satisfies.js')\nconst compare = require('../functions/compare.js')\nmodule.exports = (versions, range, options) => {\n  const set = []\n  let first = null\n  let prev = null\n  const v = versions.sort((a, b) => compare(a, b, options))\n  for (const version of v) {\n    const included = satisfies(version, range, options)\n    if (included) {\n      prev = version\n      if (!first) {\n        first = version\n      }\n    } else {\n      if (prev) {\n        set.push([first, prev])\n      }\n      prev = null\n      first = null\n    }\n  }\n  if (first) {\n    set.push([first, null])\n  }\n\n  const ranges = []\n  for (const [min, max] of set) {\n    if (min === max) {\n      ranges.push(min)\n    } else if (!max && min === v[0]) {\n      ranges.push('*')\n    } else if (!max) {\n      ranges.push(`>=${min}`)\n    } else if (min === v[0]) {\n      ranges.push(`<=${max}`)\n    } else {\n      ranges.push(`${min} - ${max}`)\n    }\n  }\n  const simplified = ranges.join(' || ')\n  const original = typeof range.raw === 'string' ? range.raw : String(range)\n  return simplified.length < original.length ? simplified : range\n}\n","const Range = require('../classes/range.js')\nconst Comparator = require('../classes/comparator.js')\nconst { ANY } = Comparator\nconst satisfies = require('../functions/satisfies.js')\nconst compare = require('../functions/compare.js')\n\n// Complex range `r1 || r2 || ...` is a subset of `R1 || R2 || ...` iff:\n// - Every simple range `r1, r2, ...` is a null set, OR\n// - Every simple range `r1, r2, ...` which is not a null set is a subset of\n//   some `R1, R2, ...`\n//\n// Simple range `c1 c2 ...` is a subset of simple range `C1 C2 ...` iff:\n// - If c is only the ANY comparator\n//   - If C is only the ANY comparator, return true\n//   - Else if in prerelease mode, return false\n//   - else replace c with `[>=0.0.0]`\n// - If C is only the ANY comparator\n//   - if in prerelease mode, return true\n//   - else replace C with `[>=0.0.0]`\n// - Let EQ be the set of = comparators in c\n// - If EQ is more than one, return true (null set)\n// - Let GT be the highest > or >= comparator in c\n// - Let LT be the lowest < or <= comparator in c\n// - If GT and LT, and GT.semver > LT.semver, return true (null set)\n// - If any C is a = range, and GT or LT are set, return false\n// - If EQ\n//   - If GT, and EQ does not satisfy GT, return true (null set)\n//   - If LT, and EQ does not satisfy LT, return true (null set)\n//   - If EQ satisfies every C, return true\n//   - Else return false\n// - If GT\n//   - If GT.semver is lower than any > or >= comp in C, return false\n//   - If GT is >=, and GT.semver does not satisfy every C, return false\n//   - If GT.semver has a prerelease, and not in prerelease mode\n//     - If no C has a prerelease and the GT.semver tuple, return false\n// - If LT\n//   - If LT.semver is greater than any < or <= comp in C, return false\n//   - If LT is <=, and LT.semver does not satisfy every C, return false\n//   - If GT.semver has a prerelease, and not in prerelease mode\n//     - If no C has a prerelease and the LT.semver tuple, return false\n// - Else return true\n\nconst subset = (sub, dom, options = {}) => {\n  if (sub === dom) {\n    return true\n  }\n\n  sub = new Range(sub, options)\n  dom = new Range(dom, options)\n  let sawNonNull = false\n\n  OUTER: for (const simpleSub of sub.set) {\n    for (const simpleDom of dom.set) {\n      const isSub = simpleSubset(simpleSub, simpleDom, options)\n      sawNonNull = sawNonNull || isSub !== null\n      if (isSub) {\n        continue OUTER\n      }\n    }\n    // the null set is a subset of everything, but null simple ranges in\n    // a complex range should be ignored.  so if we saw a non-null range,\n    // then we know this isn't a subset, but if EVERY simple range was null,\n    // then it is a subset.\n    if (sawNonNull) {\n      return false\n    }\n  }\n  return true\n}\n\nconst minimumVersionWithPreRelease = [new Comparator('>=0.0.0-0')]\nconst minimumVersion = [new Comparator('>=0.0.0')]\n\nconst simpleSubset = (sub, dom, options) => {\n  if (sub === dom) {\n    return true\n  }\n\n  if (sub.length === 1 && sub[0].semver === ANY) {\n    if (dom.length === 1 && dom[0].semver === ANY) {\n      return true\n    } else if (options.includePrerelease) {\n      sub = minimumVersionWithPreRelease\n    } else {\n      sub = minimumVersion\n    }\n  }\n\n  if (dom.length === 1 && dom[0].semver === ANY) {\n    if (options.includePrerelease) {\n      return true\n    } else {\n      dom = minimumVersion\n    }\n  }\n\n  const eqSet = new Set()\n  let gt, lt\n  for (const c of sub) {\n    if (c.operator === '>' || c.operator === '>=') {\n      gt = higherGT(gt, c, options)\n    } else if (c.operator === '<' || c.operator === '<=') {\n      lt = lowerLT(lt, c, options)\n    } else {\n      eqSet.add(c.semver)\n    }\n  }\n\n  if (eqSet.size > 1) {\n    return null\n  }\n\n  let gtltComp\n  if (gt && lt) {\n    gtltComp = compare(gt.semver, lt.semver, options)\n    if (gtltComp > 0) {\n      return null\n    } else if (gtltComp === 0 && (gt.operator !== '>=' || lt.operator !== '<=')) {\n      return null\n    }\n  }\n\n  // will iterate one or zero times\n  for (const eq of eqSet) {\n    if (gt && !satisfies(eq, String(gt), options)) {\n      return null\n    }\n\n    if (lt && !satisfies(eq, String(lt), options)) {\n      return null\n    }\n\n    for (const c of dom) {\n      if (!satisfies(eq, String(c), options)) {\n        return false\n      }\n    }\n\n    return true\n  }\n\n  let higher, lower\n  let hasDomLT, hasDomGT\n  // if the subset has a prerelease, we need a comparator in the superset\n  // with the same tuple and a prerelease, or it's not a subset\n  let needDomLTPre = lt &&\n    !options.includePrerelease &&\n    lt.semver.prerelease.length ? lt.semver : false\n  let needDomGTPre = gt &&\n    !options.includePrerelease &&\n    gt.semver.prerelease.length ? gt.semver : false\n  // exception: <1.2.3-0 is the same as <1.2.3\n  if (needDomLTPre && needDomLTPre.prerelease.length === 1 &&\n      lt.operator === '<' && needDomLTPre.prerelease[0] === 0) {\n    needDomLTPre = false\n  }\n\n  for (const c of dom) {\n    hasDomGT = hasDomGT || c.operator === '>' || c.operator === '>='\n    hasDomLT = hasDomLT || c.operator === '<' || c.operator === '<='\n    if (gt) {\n      if (needDomGTPre) {\n        if (c.semver.prerelease && c.semver.prerelease.length &&\n            c.semver.major === needDomGTPre.major &&\n            c.semver.minor === needDomGTPre.minor &&\n            c.semver.patch === needDomGTPre.patch) {\n          needDomGTPre = false\n        }\n      }\n      if (c.operator === '>' || c.operator === '>=') {\n        higher = higherGT(gt, c, options)\n        if (higher === c && higher !== gt) {\n          return false\n        }\n      } else if (gt.operator === '>=' && !satisfies(gt.semver, String(c), options)) {\n        return false\n      }\n    }\n    if (lt) {\n      if (needDomLTPre) {\n        if (c.semver.prerelease && c.semver.prerelease.length &&\n            c.semver.major === needDomLTPre.major &&\n            c.semver.minor === needDomLTPre.minor &&\n            c.semver.patch === needDomLTPre.patch) {\n          needDomLTPre = false\n        }\n      }\n      if (c.operator === '<' || c.operator === '<=') {\n        lower = lowerLT(lt, c, options)\n        if (lower === c && lower !== lt) {\n          return false\n        }\n      } else if (lt.operator === '<=' && !satisfies(lt.semver, String(c), options)) {\n        return false\n      }\n    }\n    if (!c.operator && (lt || gt) && gtltComp !== 0) {\n      return false\n    }\n  }\n\n  // if there was a < or >, and nothing in the dom, then must be false\n  // UNLESS it was limited by another range in the other direction.\n  // Eg, >1.0.0 <1.0.1 is still a subset of <2.0.0\n  if (gt && hasDomLT && !lt && gtltComp !== 0) {\n    return false\n  }\n\n  if (lt && hasDomGT && !gt && gtltComp !== 0) {\n    return false\n  }\n\n  // we needed a prerelease range in a specific tuple, but didn't get one\n  // then this isn't a subset.  eg >=1.2.3-pre is not a subset of >=1.0.0,\n  // because it includes prereleases in the 1.2.3 tuple\n  if (needDomGTPre || needDomLTPre) {\n    return false\n  }\n\n  return true\n}\n\n// >=1.2.3 is lower than >1.2.3\nconst higherGT = (a, b, options) => {\n  if (!a) {\n    return b\n  }\n  const comp = compare(a.semver, b.semver, options)\n  return comp > 0 ? a\n    : comp < 0 ? b\n    : b.operator === '>' && a.operator === '>=' ? b\n    : a\n}\n\n// <=1.2.3 is higher than <1.2.3\nconst lowerLT = (a, b, options) => {\n  if (!a) {\n    return b\n  }\n  const comp = compare(a.semver, b.semver, options)\n  return comp < 0 ? a\n    : comp > 0 ? b\n    : b.operator === '<' && a.operator === '<=' ? b\n    : a\n}\n\nmodule.exports = subset\n","const Range = require('../classes/range')\n\n// Mostly just for testing and legacy API reasons\nconst toComparators = (range, options) =>\n  new Range(range, options).set\n    .map(comp => comp.map(c => c.value).join(' ').trim().split(' '))\n\nmodule.exports = toComparators\n","const Range = require('../classes/range')\nconst validRange = (range, options) => {\n  try {\n    // Return '*' instead of '' so that truthiness works.\n    // This will throw if it's invalid anyway\n    return new Range(range, options).range || '*'\n  } catch (er) {\n    return null\n  }\n}\nmodule.exports = validRange\n","'use strict'\n\nfunction isFunction (funktion) {\n  return typeof funktion === 'function'\n}\n\n// Default to complaining loudly when things don't go according to plan.\nvar logger = console.error.bind(console)\n\n// Sets a property on an object, preserving its enumerability.\n// This function assumes that the property is already writable.\nfunction defineProperty (obj, name, value) {\n  var enumerable = !!obj[name] && obj.propertyIsEnumerable(name)\n  Object.defineProperty(obj, name, {\n    configurable: true,\n    enumerable: enumerable,\n    writable: true,\n    value: value\n  })\n}\n\n// Keep initialization idempotent.\nfunction shimmer (options) {\n  if (options && options.logger) {\n    if (!isFunction(options.logger)) logger(\"new logger isn't a function, not replacing\")\n    else logger = options.logger\n  }\n}\n\nfunction wrap (nodule, name, wrapper) {\n  if (!nodule || !nodule[name]) {\n    logger('no original function ' + name + ' to wrap')\n    return\n  }\n\n  if (!wrapper) {\n    logger('no wrapper function')\n    logger((new Error()).stack)\n    return\n  }\n\n  if (!isFunction(nodule[name]) || !isFunction(wrapper)) {\n    logger('original object and wrapper must be functions')\n    return\n  }\n\n  var original = nodule[name]\n  var wrapped = wrapper(original, name)\n\n  defineProperty(wrapped, '__original', original)\n  defineProperty(wrapped, '__unwrap', function () {\n    if (nodule[name] === wrapped) defineProperty(nodule, name, original)\n  })\n  defineProperty(wrapped, '__wrapped', true)\n\n  defineProperty(nodule, name, wrapped)\n  return wrapped\n}\n\nfunction massWrap (nodules, names, wrapper) {\n  if (!nodules) {\n    logger('must provide one or more modules to patch')\n    logger((new Error()).stack)\n    return\n  } else if (!Array.isArray(nodules)) {\n    nodules = [nodules]\n  }\n\n  if (!(names && Array.isArray(names))) {\n    logger('must provide one or more functions to wrap on modules')\n    return\n  }\n\n  nodules.forEach(function (nodule) {\n    names.forEach(function (name) {\n      wrap(nodule, name, wrapper)\n    })\n  })\n}\n\nfunction unwrap (nodule, name) {\n  if (!nodule || !nodule[name]) {\n    logger('no function to unwrap.')\n    logger((new Error()).stack)\n    return\n  }\n\n  if (!nodule[name].__unwrap) {\n    logger('no original to unwrap to -- has ' + name + ' already been unwrapped?')\n  } else {\n    return nodule[name].__unwrap()\n  }\n}\n\nfunction massUnwrap (nodules, names) {\n  if (!nodules) {\n    logger('must provide one or more modules to patch')\n    logger((new Error()).stack)\n    return\n  } else if (!Array.isArray(nodules)) {\n    nodules = [nodules]\n  }\n\n  if (!(names && Array.isArray(names))) {\n    logger('must provide one or more functions to unwrap on modules')\n    return\n  }\n\n  nodules.forEach(function (nodule) {\n    names.forEach(function (name) {\n      unwrap(nodule, name)\n    })\n  })\n}\n\nshimmer.wrap = wrap\nshimmer.massWrap = massWrap\nshimmer.unwrap = unwrap\nshimmer.massUnwrap = massUnwrap\n\nmodule.exports = shimmer\n","// Copyright 2012 the V8 project authors. All rights reserved.\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are\n// met:\n//\n//     * Redistributions of source code must retain the above copyright\n//       notice, this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above\n//       copyright notice, this list of conditions and the following\n//       disclaimer in the documentation and/or other materials provided\n//       with the distribution.\n//     * Neither the name of Google Inc. nor the names of its\n//       contributors may be used to endorse or promote products derived\n//       from this software without specific prior written permission.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n// \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n// LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n// A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n// OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n// SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n// LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n// DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n// THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n// (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n// OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n\nfunction FormatErrorString(error) {\n  try {\n    return Error.prototype.toString.call(error);\n  } catch (e) {\n    try {\n      return \"<error: \" + e + \">\";\n    } catch (ee) {\n      return \"<error>\";\n    }\n  }\n}\n\nmodule.exports = function FormatStackTrace(error, frames) {\n  var lines = [];\n  lines.push(FormatErrorString(error));\n  for (var i = 0; i < frames.length; i++) {\n    var frame = frames[i];\n    var line;\n    try {\n      line = frame.toString();\n    } catch (e) {\n      try {\n        line = \"<error: \" + e + \">\";\n      } catch (ee) {\n        // Any code that reaches this point is seriously nasty!\n        line = \"<error>\";\n      }\n    }\n    lines.push(\"    at \" + line);\n  }\n  return lines.join(\"\\n\");\n};\n","// If a another copy (same version or not) of stack-chain exists it will result\n// in wrong stack traces (most likely dublicate callSites).\nif (global._stackChain) {\n  // In case the version match, we can simply return the first initialized copy\n  if (global._stackChain.version === require('./package.json').version) {\n    module.exports = global._stackChain;\n  }\n  // The version don't match, this is really bad. Lets just throw\n  else {\n    throw new Error('Conflicting version of stack-chain found');\n  }\n}\n// Yay, no other stack-chain copy exists, yet :/\nelse {\n  module.exports = global._stackChain = require('./stack-chain');\n}\n","\n// use a already existing formater or fallback to the default v8 formater\nvar defaultFormater = require('./format.js');\n\n// public define API\nfunction stackChain() {\n  this.extend = new TraceModifier();\n  this.filter = new TraceModifier();\n  this.format = new StackFormater();\n  this.version = require('./package.json').version;\n}\n\n\nvar SHORTCIRCUIT_CALLSITE = false;\nstackChain.prototype.callSite = function collectCallSites(options) {\n  if (!options) options = {};\n\n  // Get CallSites\n  SHORTCIRCUIT_CALLSITE = true;\n  var obj = {};\n  Error.captureStackTrace(obj, collectCallSites);\n  var callSites = obj.stack;\n  SHORTCIRCUIT_CALLSITE = false;\n\n  // Slice\n  callSites = callSites.slice(options.slice || 0);\n\n  // Modify CallSites\n  if (options.extend) callSites = this.extend._modify(obj, callSites);\n  if (options.filter) callSites = this.filter._modify(obj, callSites);\n\n  // Done\n  return callSites;\n};\n\nvar chain = new stackChain();\n\nfunction TraceModifier() {\n  this._modifiers = [];\n}\n\nTraceModifier.prototype._modify = function (error, frames) {\n  for (var i = 0, l = this._modifiers.length; i < l; i++) {\n    frames = this._modifiers[i](error, frames);\n  }\n\n  return frames;\n};\n\nTraceModifier.prototype.attach = function (modifier) {\n  this._modifiers.push(modifier);\n};\n\nTraceModifier.prototype.deattach = function (modifier) {\n  var index = this._modifiers.indexOf(modifier);\n\n  if (index === -1) return false;\n\n  this._modifiers.splice(index, 1);\n  return true;\n};\n\nfunction StackFormater() {\n  this._formater = defaultFormater;\n  this._previous = undefined;\n}\n\nStackFormater.prototype.replace = function (formater) {\n  if (formater) {\n    this._formater = formater;\n  } else {\n    this.restore();\n  }\n};\n\nStackFormater.prototype.restore  = function () {\n  this._formater = defaultFormater;\n  this._previous = undefined;\n};\n\nStackFormater.prototype._backup = function () {\n  this._previous = this._formater;\n};\n\nStackFormater.prototype._roolback = function () {\n  if (this._previous === defaultFormater) {\n    this.replace(undefined);\n  } else {\n    this.replace(this._previous);\n  }\n\n  this._previous = undefined;\n};\n\n\n//\n// Set Error.prepareStackTrace thus allowing stack-chain\n// to take control of the Error().stack formating.\n//\n\n// If there already is a custom stack formater, then set\n// that as the stack-chain formater.\nif (Error.prepareStackTrace) {\n    chain.format.replace(Error.prepareStackTrace);\n}\n\nvar SHORTCIRCUIT_FORMATER = false;\nfunction prepareStackTrace(error, originalFrames) {\n  if (SHORTCIRCUIT_CALLSITE) return originalFrames;\n  if (SHORTCIRCUIT_FORMATER) return defaultFormater(error, originalFrames);\n\n  // Make a loss copy of originalFrames\n  var frames = originalFrames.concat();\n\n  // extend frames\n  frames = chain.extend._modify(error, frames);\n\n  // filter frames\n  frames = chain.filter._modify(error, frames);\n\n  // reduce frames to match Error.stackTraceLimit\n  frames = frames.slice(0, Error.stackTraceLimit);\n\n  // Set the callSite property\n  // But only if it hasn't been explicitly set, otherwise\n  // error.stack would have unintended side effects. Check also for\n  // non-extensible/sealed objects, such as those from Google's Closure Library\n  if (Object.isExtensible(error) &&\n      (Object.getOwnPropertyDescriptor(error, \"callSite\") === undefined)) {\n    error.callSite = {\n      original: originalFrames,\n      mutated: frames\n    };\n  }\n\n  // format frames\n  SHORTCIRCUIT_FORMATER = true;\n  var format = chain.format._formater(error, frames);\n  SHORTCIRCUIT_FORMATER = false;\n\n  return format;\n}\n\n// Replace the v8 stack trace creator\nObject.defineProperty(Error, 'prepareStackTrace', {\n  'get': function () {\n    return prepareStackTrace;\n  },\n\n  'set': function (formater) {\n    // If formater is prepareStackTrace it means that someone ran\n    // var old = Error.prepareStackTrace;\n    // Error.prepareStackTrace = custom\n    // new Error().stack\n    // Error.prepareStackTrace = old;\n    // The effect of this, should be that the old behaviour is restored.\n    if (formater === prepareStackTrace) {\n      chain.format._roolback();\n    }\n    // Error.prepareStackTrace was set, this means that someone is\n    // trying to take control of the Error().stack format. Make\n    // them belive they succeeded by setting them up as the stack-chain\n    // formater.\n    else {\n      chain.format._backup();\n      chain.format.replace(formater);\n    }\n  }\n});\n\n//\n// Manage call site storeage\n//\nfunction callSiteGetter() {\n  // calculate call site object\n  this.stack;\n\n  // return call site object\n  return this.callSite;\n}\n\nObject.defineProperty(Error.prototype, 'callSite', {\n  'get': callSiteGetter,\n\n  'set': function (frames) {\n    // In case callSite was set before [[getter]], just set\n    // the value\n    Object.defineProperty(this, 'callSite', {\n        value: frames,\n        writable: true,\n        configurable: true\n    });\n  },\n\n  configurable: true\n});\n\nmodule.exports = chain;\n","'use strict';\nconst os = require('os');\nconst tty = require('tty');\nconst hasFlag = require('has-flag');\n\nconst {env} = process;\n\nlet forceColor;\nif (hasFlag('no-color') ||\n\thasFlag('no-colors') ||\n\thasFlag('color=false') ||\n\thasFlag('color=never')) {\n\tforceColor = 0;\n} else if (hasFlag('color') ||\n\thasFlag('colors') ||\n\thasFlag('color=true') ||\n\thasFlag('color=always')) {\n\tforceColor = 1;\n}\n\nif ('FORCE_COLOR' in env) {\n\tif (env.FORCE_COLOR === 'true') {\n\t\tforceColor = 1;\n\t} else if (env.FORCE_COLOR === 'false') {\n\t\tforceColor = 0;\n\t} else {\n\t\tforceColor = env.FORCE_COLOR.length === 0 ? 1 : Math.min(parseInt(env.FORCE_COLOR, 10), 3);\n\t}\n}\n\nfunction translateLevel(level) {\n\tif (level === 0) {\n\t\treturn false;\n\t}\n\n\treturn {\n\t\tlevel,\n\t\thasBasic: true,\n\t\thas256: level >= 2,\n\t\thas16m: level >= 3\n\t};\n}\n\nfunction supportsColor(haveStream, streamIsTTY) {\n\tif (forceColor === 0) {\n\t\treturn 0;\n\t}\n\n\tif (hasFlag('color=16m') ||\n\t\thasFlag('color=full') ||\n\t\thasFlag('color=truecolor')) {\n\t\treturn 3;\n\t}\n\n\tif (hasFlag('color=256')) {\n\t\treturn 2;\n\t}\n\n\tif (haveStream && !streamIsTTY && forceColor === undefined) {\n\t\treturn 0;\n\t}\n\n\tconst min = forceColor || 0;\n\n\tif (env.TERM === 'dumb') {\n\t\treturn min;\n\t}\n\n\tif (process.platform === 'win32') {\n\t\t// Windows 10 build 10586 is the first Windows release that supports 256 colors.\n\t\t// Windows 10 build 14931 is the first release that supports 16m/TrueColor.\n\t\tconst osRelease = os.release().split('.');\n\t\tif (\n\t\t\tNumber(osRelease[0]) >= 10 &&\n\t\t\tNumber(osRelease[2]) >= 10586\n\t\t) {\n\t\t\treturn Number(osRelease[2]) >= 14931 ? 3 : 2;\n\t\t}\n\n\t\treturn 1;\n\t}\n\n\tif ('CI' in env) {\n\t\tif (['TRAVIS', 'CIRCLECI', 'APPVEYOR', 'GITLAB_CI', 'GITHUB_ACTIONS', 'BUILDKITE'].some(sign => sign in env) || env.CI_NAME === 'codeship') {\n\t\t\treturn 1;\n\t\t}\n\n\t\treturn min;\n\t}\n\n\tif ('TEAMCITY_VERSION' in env) {\n\t\treturn /^(9\\.(0*[1-9]\\d*)\\.|\\d{2,}\\.)/.test(env.TEAMCITY_VERSION) ? 1 : 0;\n\t}\n\n\tif (env.COLORTERM === 'truecolor') {\n\t\treturn 3;\n\t}\n\n\tif ('TERM_PROGRAM' in env) {\n\t\tconst version = parseInt((env.TERM_PROGRAM_VERSION || '').split('.')[0], 10);\n\n\t\tswitch (env.TERM_PROGRAM) {\n\t\t\tcase 'iTerm.app':\n\t\t\t\treturn version >= 3 ? 3 : 2;\n\t\t\tcase 'Apple_Terminal':\n\t\t\t\treturn 2;\n\t\t\t// No default\n\t\t}\n\t}\n\n\tif (/-256(color)?$/i.test(env.TERM)) {\n\t\treturn 2;\n\t}\n\n\tif (/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(env.TERM)) {\n\t\treturn 1;\n\t}\n\n\tif ('COLORTERM' in env) {\n\t\treturn 1;\n\t}\n\n\treturn min;\n}\n\nfunction getSupportLevel(stream) {\n\tconst level = supportsColor(stream, stream && stream.isTTY);\n\treturn translateLevel(level);\n}\n\nmodule.exports = {\n\tsupportsColor: getSupportLevel,\n\tstdout: translateLevel(supportsColor(true, tty.isatty(1))),\n\tstderr: translateLevel(supportsColor(true, tty.isatty(2)))\n};\n","'use strict';\n// @ts-check\n// ==================================================================================\n// audio.js\n// ----------------------------------------------------------------------------------\n// Description:   System Information - library\n//                for Node.js\n// Copyright:     (c) 2014 - 2023\n// Author:        Sebastian Hildebrandt\n// ----------------------------------------------------------------------------------\n// License:       MIT\n// ==================================================================================\n// 16. audio\n// ----------------------------------------------------------------------------------\n\nconst exec = require('child_process').exec;\nconst execSync = require('child_process').execSync;\nconst util = require('./util');\n\nlet _platform = process.platform;\n\nconst _linux = (_platform === 'linux' || _platform === 'android');\nconst _darwin = (_platform === 'darwin');\nconst _windows = (_platform === 'win32');\nconst _freebsd = (_platform === 'freebsd');\nconst _openbsd = (_platform === 'openbsd');\nconst _netbsd = (_platform === 'netbsd');\nconst _sunos = (_platform === 'sunos');\n\nfunction parseAudioType(str, input, output) {\n  str = str.toLowerCase();\n  let result = '';\n\n  if (str.indexOf('input') >= 0) { result = 'Microphone'; }\n  if (str.indexOf('display audio') >= 0) { result = 'Speaker'; }\n  if (str.indexOf('speak') >= 0) { result = 'Speaker'; }\n  if (str.indexOf('laut') >= 0) { result = 'Speaker'; }\n  if (str.indexOf('loud') >= 0) { result = 'Speaker'; }\n  if (str.indexOf('head') >= 0) { result = 'Headset'; }\n  if (str.indexOf('mic') >= 0) { result = 'Microphone'; }\n  if (str.indexOf('mikr') >= 0) { result = 'Microphone'; }\n  if (str.indexOf('phone') >= 0) { result = 'Phone'; }\n  if (str.indexOf('controll') >= 0) { result = 'Controller'; }\n  if (str.indexOf('line o') >= 0) { result = 'Line Out'; }\n  if (str.indexOf('digital o') >= 0) { result = 'Digital Out'; }\n  if (str.indexOf('smart sound technology') >= 0) { result = 'Digital Signal Processor'; }\n  if (str.indexOf('high definition audio') >= 0) { result = 'Sound Driver'; }\n\n  if (!result && output) {\n    result = 'Speaker';\n  } else if (!result && input) {\n    result = 'Microphone';\n  }\n  return result;\n}\n\n\nfunction getLinuxAudioPci() {\n  let cmd = 'lspci -v 2>/dev/null';\n  let result = [];\n  try {\n    const parts = execSync(cmd).toString().split('\\n\\n');\n    parts.forEach(element => {\n      const lines = element.split('\\n');\n      if (lines && lines.length && lines[0].toLowerCase().indexOf('audio') >= 0) {\n        const audio = {};\n        audio.slotId = lines[0].split(' ')[0];\n        audio.driver = util.getValue(lines, 'Kernel driver in use', ':', true) || util.getValue(lines, 'Kernel modules', ':', true);\n        result.push(audio);\n      }\n    });\n    return result;\n  } catch (e) {\n    return result;\n  }\n}\n\nfunction parseLinuxAudioPciMM(lines, audioPCI) {\n  const result = {};\n  const slotId = util.getValue(lines, 'Slot');\n\n  const pciMatch = audioPCI.filter(function (item) { return item.slotId === slotId; });\n\n  result.id = slotId;\n  result.name = util.getValue(lines, 'SDevice');\n  result.manufacturer = util.getValue(lines, 'SVendor');\n  result.revision = util.getValue(lines, 'Rev');\n  result.driver = pciMatch && pciMatch.length === 1 && pciMatch[0].driver ? pciMatch[0].driver : '';\n  result.default = null;\n  result.channel = 'PCIe';\n  result.type = parseAudioType(result.name, null, null);\n  result.in = null;\n  result.out = null;\n  result.status = 'online';\n\n  return result;\n}\n\nfunction parseDarwinChannel(str) {\n  let result = '';\n\n  if (str.indexOf('builtin') >= 0) { result = 'Built-In'; }\n  if (str.indexOf('extern') >= 0) { result = 'Audio-Jack'; }\n  if (str.indexOf('hdmi') >= 0) { result = 'HDMI'; }\n  if (str.indexOf('displayport') >= 0) { result = 'Display-Port'; }\n  if (str.indexOf('usb') >= 0) { result = 'USB'; }\n  if (str.indexOf('pci') >= 0) { result = 'PCIe'; }\n\n  return result;\n}\n\nfunction parseDarwinAudio(audioObject, id) {\n  const result = {};\n  const channelStr = ((audioObject.coreaudio_device_transport || '') + ' ' + (audioObject._name || '')).toLowerCase();\n\n  result.id = id;\n  result.name = audioObject._name;\n  result.manufacturer = audioObject.coreaudio_device_manufacturer;\n  result.revision = null;\n  result.driver = null;\n  result.default = !!(audioObject.coreaudio_default_audio_input_device || '') || !!(audioObject.coreaudio_default_audio_output_device || '');\n  result.channel = parseDarwinChannel(channelStr);\n  result.type = parseAudioType(result.name, !!(audioObject.coreaudio_device_input || ''), !!(audioObject.coreaudio_device_output || ''));\n  result.in = !!(audioObject.coreaudio_device_input || '');\n  result.out = !!(audioObject.coreaudio_device_output || '');\n  result.status = 'online';\n\n  return result;\n}\n\nfunction parseWindowsAudio(lines) {\n  const result = {};\n  const status = util.getValue(lines, 'StatusInfo', ':');\n\n  result.id = util.getValue(lines, 'DeviceID', ':'); // PNPDeviceID??\n  result.name = util.getValue(lines, 'name', ':');\n  result.manufacturer = util.getValue(lines, 'manufacturer', ':');\n  result.revision = null;\n  result.driver = null;\n  result.default = null;\n  result.channel = null;\n  result.type = parseAudioType(result.name, null, null);\n  result.in = null;\n  result.out = null;\n  result.status = status;\n\n  return result;\n}\n\nfunction audio(callback) {\n\n  return new Promise((resolve) => {\n    process.nextTick(() => {\n      let result = [];\n      if (_linux || _freebsd || _openbsd || _netbsd) {\n        let cmd = 'lspci -vmm 2>/dev/null';\n        exec(cmd, function (error, stdout) {\n          // PCI\n          if (!error) {\n            const audioPCI = getLinuxAudioPci();\n            const parts = stdout.toString().split('\\n\\n');\n            parts.forEach(element => {\n              const lines = element.split('\\n');\n              if (util.getValue(lines, 'class', ':', true).toLowerCase().indexOf('audio') >= 0) {\n                const audio = parseLinuxAudioPciMM(lines, audioPCI);\n                result.push(audio);\n              }\n            });\n          }\n          if (callback) {\n            callback(result);\n          }\n          resolve(result);\n        });\n      }\n      if (_darwin) {\n        let cmd = 'system_profiler SPAudioDataType -json';\n        exec(cmd, function (error, stdout) {\n          if (!error) {\n            try {\n              const outObj = JSON.parse(stdout.toString());\n              if (outObj.SPAudioDataType && outObj.SPAudioDataType.length && outObj.SPAudioDataType[0] && outObj.SPAudioDataType[0]['_items'] && outObj.SPAudioDataType[0]['_items'].length) {\n                for (let i = 0; i < outObj.SPAudioDataType[0]['_items'].length; i++) {\n                  const audio = parseDarwinAudio(outObj.SPAudioDataType[0]['_items'][i], i);\n                  result.push(audio);\n                }\n              }\n            } catch (e) {\n              util.noop();\n            }\n          }\n          if (callback) {\n            callback(result);\n          }\n          resolve(result);\n        });\n      }\n      if (_windows) {\n        util.powerShell('Get-CimInstance Win32_SoundDevice | select DeviceID,StatusInfo,Name,Manufacturer | fl').then((stdout, error) => {\n          if (!error) {\n            const parts = stdout.toString().split(/\\n\\s*\\n/);\n            parts.forEach(element => {\n              const lines = element.split('\\n');\n              if (util.getValue(lines, 'name', ':')) {\n                result.push(parseWindowsAudio(lines));\n              }\n            });\n          }\n          if (callback) {\n            callback(result);\n          }\n          resolve(result);\n        });\n      }\n      if (_sunos) {\n        resolve(null);\n      }\n    });\n  });\n}\n\nexports.audio = audio;\n","'use strict';\n// @ts-check;\n// ==================================================================================\n// battery.js\n// ----------------------------------------------------------------------------------\n// Description:   System Information - library\n//                for Node.js\n// Copyright:     (c) 2014 - 2023\n// Author:        Sebastian Hildebrandt\n// ----------------------------------------------------------------------------------\n// License:       MIT\n// ==================================================================================\n// 6. Battery\n// ----------------------------------------------------------------------------------\n\nconst exec = require('child_process').exec;\nconst fs = require('fs');\nconst util = require('./util');\n\nlet _platform = process.platform;\n\nconst _linux = (_platform === 'linux' || _platform === 'android');\nconst _darwin = (_platform === 'darwin');\nconst _windows = (_platform === 'win32');\nconst _freebsd = (_platform === 'freebsd');\nconst _openbsd = (_platform === 'openbsd');\nconst _netbsd = (_platform === 'netbsd');\nconst _sunos = (_platform === 'sunos');\n\nfunction parseWinBatteryPart(lines, designedCapacity, fullChargeCapacity) {\n  const result = {};\n  let status = util.getValue(lines, 'BatteryStatus', ':').trim();\n  // 1 = \"Discharging\"\n  // 2 = \"On A/C\"\n  // 3 = \"Fully Charged\"\n  // 4 = \"Low\"\n  // 5 = \"Critical\"\n  // 6 = \"Charging\"\n  // 7 = \"Charging High\"\n  // 8 = \"Charging Low\"\n  // 9 = \"Charging Critical\"\n  // 10 = \"Undefined\"\n  // 11 = \"Partially Charged\"\n  if (status >= 0) {\n    const statusValue = status ? parseInt(status) : 0;\n    result.status = statusValue;\n    result.hasBattery = true;\n    result.maxCapacity = fullChargeCapacity || parseInt(util.getValue(lines, 'DesignCapacity', ':') || 0);\n    result.designedCapacity = parseInt(util.getValue(lines, 'DesignCapacity', ':') || designedCapacity);\n    result.voltage = parseInt(util.getValue(lines, 'DesignVoltage', ':') || 0) / 1000.0;\n    result.capacityUnit = 'mWh';\n    result.percent = parseInt(util.getValue(lines, 'EstimatedChargeRemaining', ':') || 0);\n    result.currentCapacity = parseInt(result.maxCapacity * result.percent / 100);\n    result.isCharging = (statusValue >= 6 && statusValue <= 9) || statusValue === 11 || ((statusValue !== 3) && (statusValue !== 1) && result.percent < 100);\n    result.acConnected = result.isCharging || statusValue === 2;\n    result.model = util.getValue(lines, 'DeviceID', ':');\n  } else {\n    result.status = -1;\n  }\n\n  return result;\n}\n\nmodule.exports = function (callback) {\n\n  return new Promise((resolve) => {\n    process.nextTick(() => {\n      let result = {\n        hasBattery: false,\n        cycleCount: 0,\n        isCharging: false,\n        designedCapacity: 0,\n        maxCapacity: 0,\n        currentCapacity: 0,\n        voltage: 0,\n        capacityUnit: '',\n        percent: 0,\n        timeRemaining: null,\n        acConnected: true,\n        type: '',\n        model: '',\n        manufacturer: '',\n        serial: ''\n      };\n\n      if (_linux) {\n        let battery_path = '';\n        if (fs.existsSync('/sys/class/power_supply/BAT1/uevent')) {\n          battery_path = '/sys/class/power_supply/BAT1/';\n        } else if (fs.existsSync('/sys/class/power_supply/BAT0/uevent')) {\n          battery_path = '/sys/class/power_supply/BAT0/';\n        }\n\n        let acConnected = false;\n        let acPath = '';\n        if (fs.existsSync('/sys/class/power_supply/AC/online')) {\n          acPath = '/sys/class/power_supply/AC/online';\n        } else if (fs.existsSync('/sys/class/power_supply/AC0/online')) {\n          acPath = '/sys/class/power_supply/AC0/online';\n        }\n\n        if (acPath) {\n          const file = fs.readFileSync(acPath);\n          acConnected = file.toString().trim() === '1';\n        }\n\n        if (battery_path) {\n          fs.readFile(battery_path + 'uevent', function (error, stdout) {\n            if (!error) {\n              let lines = stdout.toString().split('\\n');\n\n              result.isCharging = (util.getValue(lines, 'POWER_SUPPLY_STATUS', '=').toLowerCase() === 'charging');\n              result.acConnected = acConnected || result.isCharging;\n              result.voltage = parseInt('0' + util.getValue(lines, 'POWER_SUPPLY_VOLTAGE_NOW', '='), 10) / 1000000.0;\n              result.capacityUnit = result.voltage ? 'mWh' : 'mAh';\n              result.cycleCount = parseInt('0' + util.getValue(lines, 'POWER_SUPPLY_CYCLE_COUNT', '='), 10);\n              result.maxCapacity = Math.round(parseInt('0' + util.getValue(lines, 'POWER_SUPPLY_CHARGE_FULL', '=', true, true), 10) / 1000.0 * (result.voltage || 1));\n              const desingedMinVoltage = parseInt('0' + util.getValue(lines, 'POWER_SUPPLY_VOLTAGE_MIN_DESIGN', '='), 10) / 1000000.0;\n              result.designedCapacity = Math.round(parseInt('0' + util.getValue(lines, 'POWER_SUPPLY_CHARGE_FULL_DESIGN', '=', true, true), 10) / 1000.0 * (desingedMinVoltage || result.voltage || 1));\n              result.currentCapacity = Math.round(parseInt('0' + util.getValue(lines, 'POWER_SUPPLY_CHARGE_NOW', '='), 10) / 1000.0 * (result.voltage || 1));\n              if (!result.maxCapacity) {\n                result.maxCapacity = parseInt('0' + util.getValue(lines, 'POWER_SUPPLY_ENERGY_FULL', '=', true, true), 10) / 1000.0;\n                result.designedCapacity = parseInt('0' + util.getValue(lines, 'POWER_SUPPLY_ENERGY_FULL_DESIGN', '=', true, true), 10) / 1000.0 | result.maxCapacity;\n                result.currentCapacity = parseInt('0' + util.getValue(lines, 'POWER_SUPPLY_ENERGY_NOW', '='), 10) / 1000.0;\n              }\n              const percent = util.getValue(lines, 'POWER_SUPPLY_CAPACITY', '=');\n              const energy = parseInt('0' + util.getValue(lines, 'POWER_SUPPLY_ENERGY_NOW', '='), 10);\n              const power = parseInt('0' + util.getValue(lines, 'POWER_SUPPLY_POWER_NOW', '='), 10);\n              const current = parseInt('0' + util.getValue(lines, 'POWER_SUPPLY_CURRENT_NOW', '='), 10);\n              const charge = parseInt('0' + util.getValue(lines, 'POWER_SUPPLY_CHARGE_NOW', '='), 10);\n\n              result.percent = parseInt('0' + percent, 10);\n              if (result.maxCapacity && result.currentCapacity) {\n                result.hasBattery = true;\n                if (!percent) {\n                  result.percent = 100.0 * result.currentCapacity / result.maxCapacity;\n                }\n              }\n              if (result.isCharging) {\n                result.hasBattery = true;\n              }\n              if (energy && power) {\n                result.timeRemaining = Math.floor(energy / power * 60);\n              } else if (current && charge) {\n                result.timeRemaining = Math.floor(charge / current * 60);\n              } else if (current && result.currentCapacity) {\n                result.timeRemaining = Math.floor(result.currentCapacity / current * 60);\n              }\n              result.type = util.getValue(lines, 'POWER_SUPPLY_TECHNOLOGY', '=');\n              result.model = util.getValue(lines, 'POWER_SUPPLY_MODEL_NAME', '=');\n              result.manufacturer = util.getValue(lines, 'POWER_SUPPLY_MANUFACTURER', '=');\n              result.serial = util.getValue(lines, 'POWER_SUPPLY_SERIAL_NUMBER', '=');\n              if (callback) { callback(result); }\n              resolve(result);\n            } else {\n              if (callback) { callback(result); }\n              resolve(result);\n            }\n          });\n        } else {\n          if (callback) { callback(result); }\n          resolve(result);\n        }\n      }\n      if (_freebsd || _openbsd || _netbsd) {\n        exec('sysctl -i hw.acpi.battery hw.acpi.acline', function (error, stdout) {\n          let lines = stdout.toString().split('\\n');\n          const batteries = parseInt('0' + util.getValue(lines, 'hw.acpi.battery.units'), 10);\n          const percent = parseInt('0' + util.getValue(lines, 'hw.acpi.battery.life'), 10);\n          result.hasBattery = (batteries > 0);\n          result.cycleCount = null;\n          result.isCharging = util.getValue(lines, 'hw.acpi.acline') !== '1';\n          result.acConnected = result.isCharging;\n          result.maxCapacity = null;\n          result.currentCapacity = null;\n          result.capacityUnit = 'unknown';\n          result.percent = batteries ? percent : null;\n          if (callback) { callback(result); }\n          resolve(result);\n        });\n      }\n\n      if (_darwin) {\n        exec('ioreg -n AppleSmartBattery -r | egrep \"CycleCount|IsCharging|DesignCapacity|MaxCapacity|CurrentCapacity|BatterySerialNumber|TimeRemaining|Voltage\"; pmset -g batt | grep %', function (error, stdout) {\n          if (stdout) {\n            let lines = stdout.toString().replace(/ +/g, '').replace(/\"+/g, '').replace(/-/g, '').split('\\n');\n            result.cycleCount = parseInt('0' + util.getValue(lines, 'cyclecount', '='), 10);\n            result.voltage = parseInt('0' + util.getValue(lines, 'voltage', '='), 10) / 1000.0;\n            result.capacityUnit = result.voltage ? 'mWh' : 'mAh';\n            result.maxCapacity = Math.round(parseInt('0' + util.getValue(lines, 'applerawmaxcapacity', '='), 10) * (result.voltage || 1));\n            result.currentCapacity = Math.round(parseInt('0' + util.getValue(lines, 'applerawcurrentcapacity', '='), 10) * (result.voltage || 1));\n            result.designedCapacity = Math.round(parseInt('0' + util.getValue(lines, 'DesignCapacity', '='), 10) * (result.voltage || 1));\n            result.manufacturer = 'Apple';\n            result.serial = util.getValue(lines, 'BatterySerialNumber', '=');\n            let percent = null;\n            const line = util.getValue(lines, 'internal', 'Battery');\n            let parts = line.split(';');\n            if (parts && parts[0]) {\n              let parts2 = parts[0].split('\\t');\n              if (parts2 && parts2[1]) {\n                percent = parseFloat(parts2[1].trim().replace(/%/g, ''));\n              }\n            }\n            if (parts && parts[1]) {\n              result.isCharging = (parts[1].trim() === 'charging');\n              result.acConnected = (parts[1].trim() !== 'discharging');\n            } else {\n              result.isCharging = util.getValue(lines, 'ischarging', '=').toLowerCase() === 'yes';\n              result.acConnected = result.isCharging;\n            }\n            if (result.maxCapacity && result.currentCapacity) {\n              result.hasBattery = true;\n              result.type = 'Li-ion';\n              result.percent = percent !== null ? percent : Math.round(100.0 * result.currentCapacity / result.maxCapacity);\n              if (!result.isCharging) {\n                result.timeRemaining = parseInt('0' + util.getValue(lines, 'TimeRemaining', '='), 10);\n              }\n            }\n          }\n          if (callback) { callback(result); }\n          resolve(result);\n        });\n      }\n      if (_sunos) {\n        if (callback) { callback(result); }\n        resolve(result);\n      }\n      if (_windows) {\n        try {\n          const workload = [];\n          workload.push(util.powerShell('Get-CimInstance Win32_Battery | select BatteryStatus, DesignCapacity, DesignVoltage, EstimatedChargeRemaining, DeviceID | fl'));\n          workload.push(util.powerShell('(Get-CimInstance -Class BatteryStaticData -Namespace ROOT/WMI).DesignedCapacity'));\n          workload.push(util.powerShell('(Get-CimInstance -Class BatteryFullChargedCapacity -Namespace ROOT/WMI).FullChargedCapacity'));\n          util.promiseAll(\n            workload\n          ).then((data) => {\n            if (data) {\n              let parts = data.results[0].split(/\\n\\s*\\n/);\n              let batteries = [];\n              const hasValue = value => /\\S/.test(value);\n              for (let i = 0; i < parts.length; i++) {\n                if (hasValue(parts[i]) && (!batteries.length || !hasValue(parts[i - 1]))) {\n                  batteries.push([]);\n                }\n                if (hasValue(parts[i])) {\n                  batteries[batteries.length - 1].push(parts[i]);\n                }\n              }\n              let designCapacities = data.results[1].split('\\r\\n').filter(e => e);\n              let fullChargeCapacities = data.results[2].split('\\r\\n').filter(e => e);\n              if (batteries.length) {\n                let first = false;\n                let additionalBatteries = [];\n                for (let i = 0; i < batteries.length; i++) {\n                  let lines = batteries[i][0].split('\\r\\n');\n                  const designedCapacity = designCapacities && designCapacities.length >= (i + 1) && designCapacities[i] ? util.toInt(designCapacities[i]) : 0;\n                  const fullChargeCapacity = fullChargeCapacities && fullChargeCapacities.length >= (i + 1) && fullChargeCapacities[i] ? util.toInt(fullChargeCapacities[i]) : 0;\n                  const parsed = parseWinBatteryPart(lines, designedCapacity, fullChargeCapacity);\n                  if (!first && parsed.status > 0 && parsed.status !== 10) {\n                    result.hasBattery = parsed.hasBattery;\n                    result.maxCapacity = parsed.maxCapacity;\n                    result.designedCapacity = parsed.designedCapacity;\n                    result.voltage = parsed.voltage;\n                    result.capacityUnit = parsed.capacityUnit;\n                    result.percent = parsed.percent;\n                    result.currentCapacity = parsed.currentCapacity;\n                    result.isCharging = parsed.isCharging;\n                    result.acConnected = parsed.acConnected;\n                    result.model = parsed.model;\n                    first = true;\n                  } else if (parsed.status !== -1) {\n                    additionalBatteries.push(\n                      {\n                        hasBattery: parsed.hasBattery,\n                        maxCapacity: parsed.maxCapacity,\n                        designedCapacity: parsed.designedCapacity,\n                        voltage: parsed.voltage,\n                        capacityUnit: parsed.capacityUnit,\n                        percent: parsed.percent,\n                        currentCapacity: parsed.currentCapacity,\n                        isCharging: parsed.isCharging,\n                        timeRemaining: null,\n                        acConnected: parsed.acConnected,\n                        model: parsed.model,\n                        type: '',\n                        manufacturer: '',\n                        serial: ''\n                      }\n                    );\n                  }\n                }\n                if (!first && additionalBatteries.length) {\n                  result = additionalBatteries[0];\n                  additionalBatteries.shift();\n                }\n                if (additionalBatteries.length) {\n                  result.additionalBatteries = additionalBatteries;\n                }\n              }\n            }\n            if (callback) { callback(result); }\n            resolve(result);\n          });\n        } catch (e) {\n          if (callback) { callback(result); }\n          resolve(result);\n        }\n      }\n    });\n  });\n};\n","'use strict';\n// @ts-check\n// ==================================================================================\n// audio.js\n// ----------------------------------------------------------------------------------\n// Description:   System Information - library\n//                for Node.js\n// Copyright:     (c) 2014 - 2023\n// Author:        Sebastian Hildebrandt\n// ----------------------------------------------------------------------------------\n// License:       MIT\n// ==================================================================================\n// 17. bluetooth\n// ----------------------------------------------------------------------------------\n\nconst exec = require('child_process').exec;\nconst execSync = require('child_process').execSync;\nconst path = require('path');\nconst util = require('./util');\nconst fs = require('fs');\n\nlet _platform = process.platform;\n\nconst _linux = (_platform === 'linux' || _platform === 'android');\nconst _darwin = (_platform === 'darwin');\nconst _windows = (_platform === 'win32');\nconst _freebsd = (_platform === 'freebsd');\nconst _openbsd = (_platform === 'openbsd');\nconst _netbsd = (_platform === 'netbsd');\nconst _sunos = (_platform === 'sunos');\n\nfunction parseBluetoothType(str) {\n  let result = '';\n\n  if (str.indexOf('keyboard') >= 0) { result = 'Keyboard'; }\n  if (str.indexOf('mouse') >= 0) { result = 'Mouse'; }\n  if (str.indexOf('trackpad') >= 0) { result = 'Trackpad'; }\n  if (str.indexOf('speaker') >= 0) { result = 'Speaker'; }\n  if (str.indexOf('headset') >= 0) { result = 'Headset'; }\n  if (str.indexOf('phone') >= 0) { result = 'Phone'; }\n  if (str.indexOf('macbook') >= 0) { result = 'Computer'; }\n  if (str.indexOf('imac') >= 0) { result = 'Computer'; }\n  if (str.indexOf('ipad') >= 0) { result = 'Tablet'; }\n  if (str.indexOf('watch') >= 0) { result = 'Watch'; }\n  if (str.indexOf('headphone') >= 0) { result = 'Headset'; }\n  // to be continued ...\n\n  return result;\n}\n\nfunction parseBluetoothManufacturer(str) {\n  let result = str.split(' ')[0];\n  str = str.toLowerCase();\n  if (str.indexOf('apple') >= 0) { result = 'Apple'; }\n  if (str.indexOf('ipad') >= 0) { result = 'Apple'; }\n  if (str.indexOf('imac') >= 0) { result = 'Apple'; }\n  if (str.indexOf('iphone') >= 0) { result = 'Apple'; }\n  if (str.indexOf('magic mouse') >= 0) { result = 'Apple'; }\n  if (str.indexOf('magic track') >= 0) { result = 'Apple'; }\n  if (str.indexOf('macbook') >= 0) { result = 'Apple'; }\n  // to be continued ...\n\n  return result;\n}\n\nfunction parseLinuxBluetoothInfo(lines, macAddr1, macAddr2) {\n  const result = {};\n\n  result.device = null;\n  result.name = util.getValue(lines, 'name', '=');\n  result.manufacturer = null;\n  result.macDevice = macAddr1;\n  result.macHost = macAddr2;\n  result.batteryPercent = null;\n  result.type = parseBluetoothType(result.name.toLowerCase());\n  result.connected = false;\n\n  return result;\n}\n\nfunction parseDarwinBluetoothDevices(bluetoothObject, macAddr2) {\n  const result = {};\n  const typeStr = ((bluetoothObject.device_minorClassOfDevice_string || bluetoothObject.device_majorClassOfDevice_string || bluetoothObject.device_minorType || '') + (bluetoothObject.device_name || '')).toLowerCase();\n\n  result.device = bluetoothObject.device_services || '';\n  result.name = bluetoothObject.device_name || '';\n  result.manufacturer = bluetoothObject.device_manufacturer || parseBluetoothManufacturer(bluetoothObject.device_name || '') || '';\n  result.macDevice = (bluetoothObject.device_addr || bluetoothObject.device_address || '').toLowerCase().replace(/-/g, ':');\n  result.macHost = macAddr2;\n  result.batteryPercent = bluetoothObject.device_batteryPercent || null;\n  result.type = parseBluetoothType(typeStr);\n  result.connected = bluetoothObject.device_isconnected === 'attrib_Yes' || false;\n\n  return result;\n}\n\nfunction parseWindowsBluetooth(lines) {\n  const result = {};\n\n  result.device = null;\n  result.name = util.getValue(lines, 'name', ':');\n  result.manufacturer = util.getValue(lines, 'manufacturer', ':');\n  result.macDevice = null;\n  result.macHost = null;\n  result.batteryPercent = null;\n  result.type = parseBluetoothType(result.name.toLowerCase());\n  result.connected = null;\n\n  return result;\n}\n\nfunction bluetoothDevices(callback) {\n\n  return new Promise((resolve) => {\n    process.nextTick(() => {\n      let result = [];\n      if (_linux) {\n        // get files in /var/lib/bluetooth/ recursive\n        const btFiles = util.getFilesInPath('/var/lib/bluetooth/');\n        btFiles.forEach((element) => {\n          const filename = path.basename(element);\n          const pathParts = element.split('/');\n          const macAddr1 = pathParts.length >= 6 ? pathParts[pathParts.length - 2] : null;\n          const macAddr2 = pathParts.length >= 7 ? pathParts[pathParts.length - 3] : null;\n          if (filename === 'info') {\n            const infoFile = fs.readFileSync(element, { encoding: 'utf8' }).split('\\n');\n            result.push(parseLinuxBluetoothInfo(infoFile, macAddr1, macAddr2));\n          }\n        });\n        // determine \"connected\" with hcitool con\n        try {\n          const hdicon = execSync('hcitool con').toString().toLowerCase();\n          for (let i = 0; i < result.length; i++) {\n            if (result[i].macDevice && result[i].macDevice.length > 10 && hdicon.indexOf(result[i].macDevice.toLowerCase()) >= 0) {\n              result[i].connected = true;\n            }\n          }\n        } catch (e) {\n          util.noop();\n        }\n\n        if (callback) {\n          callback(result);\n        }\n        resolve(result);\n      }\n      if (_darwin) {\n        let cmd = 'system_profiler SPBluetoothDataType -json';\n        exec(cmd, function (error, stdout) {\n          if (!error) {\n            try {\n              const outObj = JSON.parse(stdout.toString());\n              if (outObj.SPBluetoothDataType && outObj.SPBluetoothDataType.length && outObj.SPBluetoothDataType[0] && outObj.SPBluetoothDataType[0]['device_title'] && outObj.SPBluetoothDataType[0]['device_title'].length) {\n                // missing: host BT Adapter macAddr ()\n                let macAddr2 = null;\n                if (outObj.SPBluetoothDataType[0]['local_device_title'] && outObj.SPBluetoothDataType[0].local_device_title.general_address) {\n                  macAddr2 = outObj.SPBluetoothDataType[0].local_device_title.general_address.toLowerCase().replace(/-/g, ':');\n                }\n                outObj.SPBluetoothDataType[0]['device_title'].forEach((element) => {\n                  const obj = element;\n                  const objKey = Object.keys(obj);\n                  if (objKey && objKey.length === 1) {\n                    const innerObject = obj[objKey[0]];\n                    innerObject.device_name = objKey[0];\n                    const bluetoothDevice = parseDarwinBluetoothDevices(innerObject, macAddr2);\n                    result.push(bluetoothDevice);\n                  }\n                });\n              }\n              if (outObj.SPBluetoothDataType && outObj.SPBluetoothDataType.length && outObj.SPBluetoothDataType[0] && outObj.SPBluetoothDataType[0]['device_connected'] && outObj.SPBluetoothDataType[0]['device_connected'].length) {\n                const macAddr2 = outObj.SPBluetoothDataType[0].controller_properties && outObj.SPBluetoothDataType[0].controller_properties.controller_address ? outObj.SPBluetoothDataType[0].controller_properties.controller_address.toLowerCase().replace(/-/g, ':') : null;\n                outObj.SPBluetoothDataType[0]['device_connected'].forEach((element) => {\n                  const obj = element;\n                  const objKey = Object.keys(obj);\n                  if (objKey && objKey.length === 1) {\n                    const innerObject = obj[objKey[0]];\n                    innerObject.device_name = objKey[0];\n                    innerObject.device_isconnected = 'attrib_Yes';\n                    const bluetoothDevice = parseDarwinBluetoothDevices(innerObject, macAddr2);\n                    result.push(bluetoothDevice);\n                  }\n                });\n              }\n              if (outObj.SPBluetoothDataType && outObj.SPBluetoothDataType.length && outObj.SPBluetoothDataType[0] && outObj.SPBluetoothDataType[0]['device_not_connected'] && outObj.SPBluetoothDataType[0]['device_not_connected'].length) {\n                const macAddr2 = outObj.SPBluetoothDataType[0].controller_properties && outObj.SPBluetoothDataType[0].controller_properties.controller_address ? outObj.SPBluetoothDataType[0].controller_properties.controller_address.toLowerCase().replace(/-/g, ':') : null;\n                outObj.SPBluetoothDataType[0]['device_not_connected'].forEach((element) => {\n                  const obj = element;\n                  const objKey = Object.keys(obj);\n                  if (objKey && objKey.length === 1) {\n                    const innerObject = obj[objKey[0]];\n                    innerObject.device_name = objKey[0];\n                    innerObject.device_isconnected = 'attrib_No';\n                    const bluetoothDevice = parseDarwinBluetoothDevices(innerObject, macAddr2);\n                    result.push(bluetoothDevice);\n                  }\n                });\n              }\n            } catch (e) {\n              util.noop();\n            }\n          }\n          if (callback) {\n            callback(result);\n          }\n          resolve(result);\n        });\n      }\n      if (_windows) {\n        util.powerShell('Get-CimInstance Win32_PNPEntity | select PNPClass, Name, Manufacturer | fl').then((stdout, error) => {\n          if (!error) {\n            const parts = stdout.toString().split(/\\n\\s*\\n/);\n            parts.forEach((part) => {\n              if (util.getValue(part.split('\\n'), 'PNPClass', ':') === 'Bluetooth') {\n                result.push(parseWindowsBluetooth(part.split('\\n')));\n              }\n            });\n          }\n          if (callback) {\n            callback(result);\n          }\n          resolve(result);\n        });\n      }\n      if (_freebsd || _netbsd || _openbsd || _sunos) {\n        resolve(null);\n      }\n    });\n  });\n}\n\nexports.bluetoothDevices = bluetoothDevices;\n","'use strict';\n// @ts-check\n// ==================================================================================\n// cpu.js\n// ----------------------------------------------------------------------------------\n// Description:   System Information - library\n//                for Node.js\n// Copyright:     (c) 2014 - 2023\n// Author:        Sebastian Hildebrandt\n// ----------------------------------------------------------------------------------\n// License:       MIT\n// ==================================================================================\n// 4. CPU\n// ----------------------------------------------------------------------------------\n\nconst os = require('os');\nconst exec = require('child_process').exec;\nconst execSync = require('child_process').execSync;\nconst fs = require('fs');\nconst util = require('./util');\n\nlet _platform = process.platform;\n\nconst _linux = (_platform === 'linux' || _platform === 'android');\nconst _darwin = (_platform === 'darwin');\nconst _windows = (_platform === 'win32');\nconst _freebsd = (_platform === 'freebsd');\nconst _openbsd = (_platform === 'openbsd');\nconst _netbsd = (_platform === 'netbsd');\nconst _sunos = (_platform === 'sunos');\n\nlet _cpu_speed = 0;\nlet _current_cpu = {\n  user: 0,\n  nice: 0,\n  system: 0,\n  idle: 0,\n  irq: 0,\n  steal: 0,\n  guest: 0,\n  load: 0,\n  tick: 0,\n  ms: 0,\n  currentLoad: 0,\n  currentLoadUser: 0,\n  currentLoadSystem: 0,\n  currentLoadNice: 0,\n  currentLoadIdle: 0,\n  currentLoadIrq: 0,\n  currentLoadSteal: 0,\n  currentLoadGuest: 0,\n  rawCurrentLoad: 0,\n  rawCurrentLoadUser: 0,\n  rawCurrentLoadSystem: 0,\n  rawCurrentLoadNice: 0,\n  rawCurrentLoadIdle: 0,\n  rawCurrentLoadIrq: 0,\n  rawCurrentLoadSteal: 0,\n  rawCurrentLoadGuest: 0\n};\nlet _cpus = [];\nlet _corecount = 0;\n\nconst AMDBaseFrequencies = {\n  '8346': '1.8',\n  '8347': '1.9',\n  '8350': '2.0',\n  '8354': '2.2',\n  '8356|SE': '2.4',\n  '8356': '2.3',\n  '8360': '2.5',\n  '2372': '2.1',\n  '2373': '2.1',\n  '2374': '2.2',\n  '2376': '2.3',\n  '2377': '2.3',\n  '2378': '2.4',\n  '2379': '2.4',\n  '2380': '2.5',\n  '2381': '2.5',\n  '2382': '2.6',\n  '2384': '2.7',\n  '2386': '2.8',\n  '2387': '2.8',\n  '2389': '2.9',\n  '2393': '3.1',\n  '8374': '2.2',\n  '8376': '2.3',\n  '8378': '2.4',\n  '8379': '2.4',\n  '8380': '2.5',\n  '8381': '2.5',\n  '8382': '2.6',\n  '8384': '2.7',\n  '8386': '2.8',\n  '8387': '2.8',\n  '8389': '2.9',\n  '8393': '3.1',\n  '2419EE': '1.8',\n  '2423HE': '2.0',\n  '2425HE': '2.1',\n  '2427': '2.2',\n  '2431': '2.4',\n  '2435': '2.6',\n  '2439SE': '2.8',\n  '8425HE': '2.1',\n  '8431': '2.4',\n  '8435': '2.6',\n  '8439SE': '2.8',\n  '4122': '2.2',\n  '4130': '2.6',\n  '4162EE': '1.7',\n  '4164EE': '1.8',\n  '4170HE': '2.1',\n  '4174HE': '2.3',\n  '4176HE': '2.4',\n  '4180': '2.6',\n  '4184': '2.8',\n  '6124HE': '1.8',\n  '6128HE': '2.0',\n  '6132HE': '2.2',\n  '6128': '2.0',\n  '6134': '2.3',\n  '6136': '2.4',\n  '6140': '2.6',\n  '6164HE': '1.7',\n  '6166HE': '1.8',\n  '6168': '1.9',\n  '6172': '2.1',\n  '6174': '2.2',\n  '6176': '2.3',\n  '6176SE': '2.3',\n  '6180SE': '2.5',\n  '3250': '2.5',\n  '3260': '2.7',\n  '3280': '2.4',\n  '4226': '2.7',\n  '4228': '2.8',\n  '4230': '2.9',\n  '4234': '3.1',\n  '4238': '3.3',\n  '4240': '3.4',\n  '4256': '1.6',\n  '4274': '2.5',\n  '4276': '2.6',\n  '4280': '2.8',\n  '4284': '3.0',\n  '6204': '3.3',\n  '6212': '2.6',\n  '6220': '3.0',\n  '6234': '2.4',\n  '6238': '2.6',\n  '6262HE': '1.6',\n  '6272': '2.1',\n  '6274': '2.2',\n  '6276': '2.3',\n  '6278': '2.4',\n  '6282SE': '2.6',\n  '6284SE': '2.7',\n  '6308': '3.5',\n  '6320': '2.8',\n  '6328': '3.2',\n  '6338P': '2.3',\n  '6344': '2.6',\n  '6348': '2.8',\n  '6366': '1.8',\n  '6370P': '2.0',\n  '6376': '2.3',\n  '6378': '2.4',\n  '6380': '2.5',\n  '6386': '2.8',\n  'FX|4100': '3.6',\n  'FX|4120': '3.9',\n  'FX|4130': '3.8',\n  'FX|4150': '3.8',\n  'FX|4170': '4.2',\n  'FX|6100': '3.3',\n  'FX|6120': '3.6',\n  'FX|6130': '3.6',\n  'FX|6200': '3.8',\n  'FX|8100': '2.8',\n  'FX|8120': '3.1',\n  'FX|8140': '3.2',\n  'FX|8150': '3.6',\n  'FX|8170': '3.9',\n  'FX|4300': '3.8',\n  'FX|4320': '4.0',\n  'FX|4350': '4.2',\n  'FX|6300': '3.5',\n  'FX|6350': '3.9',\n  'FX|8300': '3.3',\n  'FX|8310': '3.4',\n  'FX|8320': '3.5',\n  'FX|8350': '4.0',\n  'FX|8370': '4.0',\n  'FX|9370': '4.4',\n  'FX|9590': '4.7',\n  'FX|8320E': '3.2',\n  'FX|8370E': '3.3',\n\n  // ZEN Desktop CPUs\n  '1200': '3.1',\n  'Pro 1200': '3.1',\n  '1300X': '3.5',\n  'Pro 1300': '3.5',\n  '1400': '3.2',\n  '1500X': '3.5',\n  'Pro 1500': '3.5',\n  '1600': '3.2',\n  '1600X': '3.6',\n  'Pro 1600': '3.2',\n  '1700': '3.0',\n  'Pro 1700': '3.0',\n  '1700X': '3.4',\n  'Pro 1700X': '3.4',\n  '1800X': '3.6',\n  '1900X': '3.8',\n  '1920': '3.2',\n  '1920X': '3.5',\n  '1950X': '3.4',\n\n  // ZEN Desktop APUs\n  '200GE': '3.2',\n  'Pro 200GE': '3.2',\n  '220GE': '3.4',\n  '240GE': '3.5',\n  '3000G': '3.5',\n  '300GE': '3.4',\n  '3050GE': '3.4',\n  '2200G': '3.5',\n  'Pro 2200G': '3.5',\n  '2200GE': '3.2',\n  'Pro 2200GE': '3.2',\n  '2400G': '3.6',\n  'Pro 2400G': '3.6',\n  '2400GE': '3.2',\n  'Pro 2400GE': '3.2',\n\n  // ZEN Mobile APUs\n  'Pro 200U': '2.3',\n  '300U': '2.4',\n  '2200U': '2.5',\n  '3200U': '2.6',\n  '2300U': '2.0',\n  'Pro 2300U': '2.0',\n  '2500U': '2.0',\n  'Pro 2500U': '2.2',\n  '2600H': '3.2',\n  '2700U': '2.0',\n  'Pro 2700U': '2.2',\n  '2800H': '3.3',\n\n  // ZEN Server Processors\n  '7351': '2.4',\n  '7351P': '2.4',\n  '7401': '2.0',\n  '7401P': '2.0',\n  '7551P': '2.0',\n  '7551': '2.0',\n  '7251': '2.1',\n  '7261': '2.5',\n  '7281': '2.1',\n  '7301': '2.2',\n  '7371': '3.1',\n  '7451': '2.3',\n  '7501': '2.0',\n  '7571': '2.2',\n  '7601': '2.2',\n\n  // ZEN Embedded Processors\n  'V1500B': '2.2',\n  'V1780B': '3.35',\n  'V1202B': '2.3',\n  'V1404I': '2.0',\n  'V1605B': '2.0',\n  'V1756B': '3.25',\n  'V1807B': '3.35',\n\n  '3101': '2.1',\n  '3151': '2.7',\n  '3201': '1.5',\n  '3251': '2.5',\n  '3255': '2.5',\n  '3301': '2.0',\n  '3351': '1.9',\n  '3401': '1.85',\n  '3451': '2.15',\n\n  // ZEN+ Desktop\n  '1200|AF': '3.1',\n  '2300X': '3.5',\n  '2500X': '3.6',\n  '2600': '3.4',\n  '2600E': '3.1',\n  '1600|AF': '3.2',\n  '2600X': '3.6',\n  '2700': '3.2',\n  '2700E': '2.8',\n  'Pro 2700': '3.2',\n  '2700X': '3.7',\n  'Pro 2700X': '3.6',\n  '2920X': '3.5',\n  '2950X': '3.5',\n  '2970WX': '3.0',\n  '2990WX': '3.0',\n\n  // ZEN+ Desktop APU\n  'Pro 300GE': '3.4',\n  'Pro 3125GE': '3.4',\n  '3150G': '3.5',\n  'Pro 3150G': '3.5',\n  '3150GE': '3.3',\n  'Pro 3150GE': '3.3',\n  '3200G': '3.6',\n  'Pro 3200G': '3.6',\n  '3200GE': '3.3',\n  'Pro 3200GE': '3.3',\n  '3350G': '3.6',\n  'Pro 3350G': '3.6',\n  '3350GE': '3.3',\n  'Pro 3350GE': '3.3',\n  '3400G': '3.7',\n  'Pro 3400G': '3.7',\n  '3400GE': '3.3',\n  'Pro 3400GE': '3.3',\n\n  // ZEN+ Mobile\n  '3300U': '2.1',\n  'PRO 3300U': '2.1',\n  '3450U': '2.1',\n  '3500U': '2.1',\n  'PRO 3500U': '2.1',\n  '3500C': '2.1',\n  '3550H': '2.1',\n  '3580U': '2.1',\n  '3700U': '2.3',\n  'PRO 3700U': '2.3',\n  '3700C': '2.3',\n  '3750H': '2.3',\n  '3780U': '2.3',\n\n  // ZEN2 Desktop CPUS\n  '3100': '3.6',\n  '3300X': '3.8',\n  '3500': '3.6',\n  '3500X': '3.6',\n  '3600': '3.6',\n  'Pro 3600': '3.6',\n  '3600X': '3.8',\n  '3600XT': '3.8',\n  'Pro 3700': '3.6',\n  '3700X': '3.6',\n  '3800X': '3.9',\n  '3800XT': '3.9',\n  '3900': '3.1',\n  'Pro 3900': '3.1',\n  '3900X': '3.8',\n  '3900XT': '3.8',\n  '3950X': '3.5',\n  '3960X': '3.8',\n  '3970X': '3.7',\n  '3990X': '2.9',\n  '3945WX': '4.0',\n  '3955WX': '3.9',\n  '3975WX': '3.5',\n  '3995WX': '2.7',\n\n  // ZEN2 Desktop APUs\n  '4300GE': '3.5',\n  'Pro 4300GE': '3.5',\n  '4300G': '3.8',\n  'Pro 4300G': '3.8',\n  '4600GE': '3.3',\n  'Pro 4650GE': '3.3',\n  '4600G': '3.7',\n  'Pro 4650G': '3.7',\n  '4700GE': '3.1',\n  'Pro 4750GE': '3.1',\n  '4700G': '3.6',\n  'Pro 4750G': '3.6',\n  '4300U': '2.7',\n  '4450U': '2.5',\n  'Pro 4450U': '2.5',\n  '4500U': '2.3',\n  '4600U': '2.1',\n  'PRO 4650U': '2.1',\n  '4680U': '2.1',\n  '4600HS': '3.0',\n  '4600H': '3.0',\n  '4700U': '2.0',\n  'PRO 4750U': '1.7',\n  '4800U': '1.8',\n  '4800HS': '2.9',\n  '4800H': '2.9',\n  '4900HS': '3.0',\n  '4900H': '3.3',\n  '5300U': '2.6',\n  '5500U': '2.1',\n  '5700U': '1.8',\n\n  // ZEN2 - EPYC\n  '7232P': '3.1',\n  '7302P': '3.0',\n  '7402P': '2.8',\n  '7502P': '2.5',\n  '7702P': '2.0',\n  '7252': '3.1',\n  '7262': '3.2',\n  '7272': '2.9',\n  '7282': '2.8',\n  '7302': '3.0',\n  '7352': '2.3',\n  '7402': '2.8',\n  '7452': '2.35',\n  '7502': '2.5',\n  '7532': '2.4',\n  '7542': '2.9',\n  '7552': '2.2',\n  '7642': '2.3',\n  '7662': '2.0',\n  '7702': '2.0',\n  '7742': '2.25',\n  '7H12': '2.6',\n  '7F32': '3.7',\n  '7F52': '3.5',\n  '7F72': '3.2',\n\n  // Epyc (Milan)\n\n  '7773X': '2.2',\n  '7763': '2.45',\n  '7713': '2.0',\n  '7713P': '2.0',\n  '7663': '2.0',\n  '7643': '2.3',\n  '7573X': '2.8',\n  '75F3': '2.95',\n  '7543': '2.8',\n  '7543P': '2.8',\n  '7513': '2.6',\n  '7473X': '2.8',\n  '7453': '2.75',\n  '74F3': '3.2',\n  '7443': '2.85',\n  '7443P': '2.85',\n  '7413': '2.65',\n  '7373X': '3.05',\n  '73F3': '3.5',\n  '7343': '3.2',\n  '7313': '3.0',\n  '7313P': '3.0',\n  '72F3': '3.7',\n\n  // ZEN3\n  '5600X': '3.7',\n  '5800X': '3.8',\n  '5900X': '3.7',\n  '5950X': '3.4',\n  '5945WX': '4.1',\n  '5955WX': '4.0',\n  '5965WX': '3.8',\n  '5975WX': '3.6',\n  '5995WX': '2.7',\n\n  '7960X': '4.2',\n  '7970X': '4.0',\n  '7980X': '3.2',\n\n  '7965WX': '4.2',\n  '7975WX': '4.0',\n  '7985WX': '3.2',\n  '7995WX': '2.5',\n\n  // ZEN4\n  '9754': '2.25',\n  '9754S': '2.25',\n  '9734': '2.2',\n  '9684X': '2.55',\n  '9384X': '3.1',\n  '9184X': '3.55',\n  '9654P': '2.4',\n  '9654': '2.4',\n  '9634': '2.25',\n  '9554P': '3.1',\n  '9554': '3.1',\n  '9534': '2.45',\n  '9474F': '3.6',\n  '9454P': '2.75',\n  '9454': '2.75',\n  '9374F': '3.85',\n  '9354P': '3.25',\n  '9354': '3.25',\n  '9334': '2.7',\n  '9274F': '4.05',\n  '9254': '2.9',\n  '9224': '2.5',\n  '9174F': '4.1',\n  '9124': '3.0'\n};\n\nconst socketTypes = {\n  1: 'Other',\n  2: 'Unknown',\n  3: 'Daughter Board',\n  4: 'ZIF Socket',\n  5: 'Replacement/Piggy Back',\n  6: 'None',\n  7: 'LIF Socket',\n  8: 'Slot 1',\n  9: 'Slot 2',\n  10: '370 Pin Socket',\n  11: 'Slot A',\n  12: 'Slot M',\n  13: '423',\n  14: 'A (Socket 462)',\n  15: '478',\n  16: '754',\n  17: '940',\n  18: '939',\n  19: 'mPGA604',\n  20: 'LGA771',\n  21: 'LGA775',\n  22: 'S1',\n  23: 'AM2',\n  24: 'F (1207)',\n  25: 'LGA1366',\n  26: 'G34',\n  27: 'AM3',\n  28: 'C32',\n  29: 'LGA1156',\n  30: 'LGA1567',\n  31: 'PGA988A',\n  32: 'BGA1288',\n  33: 'rPGA988B',\n  34: 'BGA1023',\n  35: 'BGA1224',\n  36: 'LGA1155',\n  37: 'LGA1356',\n  38: 'LGA2011',\n  39: 'FS1',\n  40: 'FS2',\n  41: 'FM1',\n  42: 'FM2',\n  43: 'LGA2011-3',\n  44: 'LGA1356-3',\n  45: 'LGA1150',\n  46: 'BGA1168',\n  47: 'BGA1234',\n  48: 'BGA1364',\n  49: 'AM4',\n  50: 'LGA1151',\n  51: 'BGA1356',\n  52: 'BGA1440',\n  53: 'BGA1515',\n  54: 'LGA3647-1',\n  55: 'SP3',\n  56: 'SP3r2',\n  57: 'LGA2066',\n  58: 'BGA1392',\n  59: 'BGA1510',\n  60: 'BGA1528',\n  61: 'LGA4189',\n  62: 'LGA1200',\n  63: 'LGA4677',\n  64: 'LGA1700',\n  65: 'BGA1744',\n  66: 'BGA1781',\n  67: 'BGA1211',\n  68: 'BGA2422',\n  69: 'LGA1211',\n  70: 'LGA2422',\n  71: 'LGA5773',\n  72: 'BGA5773',\n};\n\nconst socketTypesByName = {\n  'LGA1150': 'i7-5775C i3-4340 i3-4170 G3250 i3-4160T i3-4160 E3-1231 G3258 G3240 i7-4790S i7-4790K i7-4790 i5-4690K i5-4690 i5-4590T i5-4590S i5-4590 i5-4460 i3-4360 i3-4150 G1820 G3420 G3220 i7-4771 i5-4440 i3-4330 i3-4130T i3-4130 E3-1230 i7-4770S i7-4770K i7-4770 i5-4670K i5-4670 i5-4570T i5-4570S i5-4570 i5-4430',\n  'LGA1151': 'i9-9900KS E-2288G E-2224 G5420 i9-9900T i9-9900 i7-9700T i7-9700F i7-9700E i7-9700 i5-9600 i5-9500T i5-9500F i5-9500 i5-9400T i3-9350K i3-9300 i3-9100T i3-9100F i3-9100 G4930 i9-9900KF i7-9700KF i5-9600KF i5-9400F i5-9400 i3-9350KF i9-9900K i7-9700K i5-9600K G5500 G5400 i7-8700T i7-8086K i5-8600 i5-8500T i5-8500 i5-8400T i3-8300 i3-8100T G4900 i7-8700K i7-8700 i5-8600K i5-8400 i3-8350K i3-8100 E3-1270 G4600 G4560 i7-7700T i7-7700K i7-7700 i5-7600K i5-7600 i5-7500T i5-7500 i5-7400 i3-7350K i3-7300 i3-7100T i3-7100 G3930 G3900 G4400 i7-6700T i7-6700K i7-6700 i5-6600K i5-6600 i5-6500T i5-6500 i5-6400T i5-6400 i3-6300 i3-6100T i3-6100 E3-1270 E3-1270 T4500 T4400',\n  '1155': 'G440 G460 G465 G470 G530T G540T G550T G1610T G1620T G530 G540 G1610 G550 G1620 G555 G1630 i3-2100T i3-2120T i3-3220T i3-3240T i3-3250T i3-2100 i3-2105 i3-2102 i3-3210 i3-3220 i3-2125 i3-2120 i3-3225 i3-2130 i3-3245 i3-3240 i3-3250 i5-3570T i5-2500T i5-2400S i5-2405S i5-2390T i5-3330S i5-2500S i5-3335S i5-2300 i5-3450S i5-3340S i5-3470S i5-3475S i5-3470T i5-2310 i5-3550S i5-2320 i5-3330 i5-3350P i5-3450 i5-2400 i5-3340 i5-3570S i5-2380P i5-2450P i5-3470 i5-2500K i5-3550 i5-2500 i5-3570 i5-3570K i5-2550K i7-3770T i7-2600S i7-3770S i7-2600K i7-2600 i7-3770 i7-3770K i7-2700K G620T G630T G640T G2020T G645T G2100T G2030T G622 G860T G620 G632 G2120T G630 G640 G2010 G840 G2020 G850 G645 G2030 G860 G2120 G870 G2130 G2140 E3-1220L E3-1220L E3-1260L E3-1265L E3-1220 E3-1225 E3-1220 E3-1235 E3-1225 E3-1230 E3-1230 E3-1240 E3-1245 E3-1270 E3-1275 E3-1240 E3-1245 E3-1270 E3-1280 E3-1275 E3-1290 E3-1280 E3-1290'\n};\n\nfunction getSocketTypesByName(str) {\n  let result = '';\n  for (const key in socketTypesByName) {\n    const names = socketTypesByName[key].split(' ');\n    names.forEach(element => {\n      if (str.indexOf(element) >= 0) {\n        result = key;\n      }\n    });\n  }\n  return result;\n}\n\nfunction cpuManufacturer(str) {\n  let result = str;\n  str = str.toLowerCase();\n\n  if (str.indexOf('intel') >= 0) { result = 'Intel'; }\n  if (str.indexOf('amd') >= 0) { result = 'AMD'; }\n  if (str.indexOf('qemu') >= 0) { result = 'QEMU'; }\n  if (str.indexOf('hygon') >= 0) { result = 'Hygon'; }\n  if (str.indexOf('centaur') >= 0) { result = 'WinChip/Via'; }\n  if (str.indexOf('vmware') >= 0) { result = 'VMware'; }\n  if (str.indexOf('Xen') >= 0) { result = 'Xen Hypervisor'; }\n  if (str.indexOf('tcg') >= 0) { result = 'QEMU'; }\n  if (str.indexOf('apple') >= 0) { result = 'Apple'; }\n\n  return result;\n}\n\nfunction cpuBrandManufacturer(res) {\n  res.brand = res.brand.replace(/\\(R\\)+/g, '').replace(/\\s+/g, ' ').trim();\n  res.brand = res.brand.replace(/\\(TM\\)+/g, '').replace(/\\s+/g, ' ').trim();\n  res.brand = res.brand.replace(/\\(C\\)+/g, '').replace(/\\s+/g, ' ').trim();\n  res.brand = res.brand.replace(/CPU+/g, '').replace(/\\s+/g, ' ').trim();\n  res.manufacturer = cpuManufacturer(res.brand);\n\n  let parts = res.brand.split(' ');\n  parts.shift();\n  res.brand = parts.join(' ');\n  return res;\n}\n\nfunction getAMDSpeed(brand) {\n  let result = '0';\n  for (let key in AMDBaseFrequencies) {\n    if ({}.hasOwnProperty.call(AMDBaseFrequencies, key)) {\n      let parts = key.split('|');\n      let found = 0;\n      parts.forEach(item => {\n        if (brand.indexOf(item) > -1) {\n          found++;\n        }\n      });\n      if (found === parts.length) {\n        result = AMDBaseFrequencies[key];\n      }\n    }\n  }\n  return parseFloat(result);\n}\n\n// --------------------------\n// CPU - brand, speed\n\nfunction getCpu() {\n\n  return new Promise((resolve) => {\n    process.nextTick(() => {\n      const UNKNOWN = 'unknown';\n      let result = {\n        manufacturer: UNKNOWN,\n        brand: UNKNOWN,\n        vendor: '',\n        family: '',\n        model: '',\n        stepping: '',\n        revision: '',\n        voltage: '',\n        speed: 0,\n        speedMin: 0,\n        speedMax: 0,\n        governor: '',\n        cores: util.cores(),\n        physicalCores: util.cores(),\n        performanceCores: util.cores(),\n        efficiencyCores: 0,\n        processors: 1,\n        socket: '',\n        flags: '',\n        virtualization: false,\n        cache: {}\n      };\n      cpuFlags().then(flags => {\n        result.flags = flags;\n        result.virtualization = flags.indexOf('vmx') > -1 || flags.indexOf('svm') > -1;\n        if (_darwin) {\n          exec('sysctl machdep.cpu hw.cpufrequency_max hw.cpufrequency_min hw.packages hw.physicalcpu_max hw.ncpu hw.tbfrequency hw.cpufamily hw.cpusubfamily', function (error, stdout) {\n            let lines = stdout.toString().split('\\n');\n            const modelline = util.getValue(lines, 'machdep.cpu.brand_string');\n            const modellineParts = modelline.split('@');\n            result.brand = modellineParts[0].trim();\n            const speed = modellineParts[1] ? modellineParts[1].trim() : '0';\n            result.speed = parseFloat(speed.replace(/GHz+/g, ''));\n            let tbFrequency = util.getValue(lines, 'hw.tbfrequency') / 1000000000.0;\n            tbFrequency = tbFrequency < 0.1 ? tbFrequency * 100 : tbFrequency;\n            result.speed = result.speed === 0 ? tbFrequency : result.speed;\n\n            _cpu_speed = result.speed;\n            result = cpuBrandManufacturer(result);\n            result.speedMin = util.getValue(lines, 'hw.cpufrequency_min') ? (util.getValue(lines, 'hw.cpufrequency_min') / 1000000000.0) : result.speed;\n            result.speedMax = util.getValue(lines, 'hw.cpufrequency_max') ? (util.getValue(lines, 'hw.cpufrequency_max') / 1000000000.0) : result.speed;\n            result.vendor = util.getValue(lines, 'machdep.cpu.vendor') || 'Apple';\n            result.family = util.getValue(lines, 'machdep.cpu.family') || util.getValue(lines, 'hw.cpufamily');\n            result.model = util.getValue(lines, 'machdep.cpu.model');\n            result.stepping = util.getValue(lines, 'machdep.cpu.stepping') || util.getValue(lines, 'hw.cpusubfamily');\n            result.virtualization = true;\n            const countProcessors = util.getValue(lines, 'hw.packages');\n            const countCores = util.getValue(lines, 'hw.physicalcpu_max');\n            const countThreads = util.getValue(lines, 'hw.ncpu');\n            if (os.arch() === 'arm64') {\n              result.socket = 'SOC';\n              try {\n                const clusters = execSync('ioreg -c IOPlatformDevice -d 3 -r | grep cluster-type').toString().split('\\n');\n                const efficiencyCores = clusters.filter(line => line.indexOf('\"E\"') >= 0).length;\n                const performanceCores = clusters.filter(line => line.indexOf('\"P\"') >= 0).length;\n                result.efficiencyCores = efficiencyCores;\n                result.performanceCores = performanceCores;\n              } catch (e) {\n                util.noop();\n              }\n            }\n            if (countProcessors) {\n              result.processors = parseInt(countProcessors) || 1;\n            }\n            if (countCores && countThreads) {\n              result.cores = parseInt(countThreads) || util.cores();\n              result.physicalCores = parseInt(countCores) || util.cores();\n            }\n            cpuCache().then((res) => {\n              result.cache = res;\n              resolve(result);\n            });\n          });\n        }\n        if (_linux) {\n          let modelline = '';\n          let lines = [];\n          if (os.cpus()[0] && os.cpus()[0].model) { modelline = os.cpus()[0].model; }\n          exec('export LC_ALL=C; lscpu; echo -n \"Governor: \"; cat /sys/devices/system/cpu/cpu0/cpufreq/scaling_governor 2>/dev/null; echo; unset LC_ALL', function (error, stdout) {\n            if (!error) {\n              lines = stdout.toString().split('\\n');\n            }\n            modelline = util.getValue(lines, 'model name') || modelline;\n            const modellineParts = modelline.split('@');\n            result.brand = modellineParts[0].trim();\n            result.speed = modellineParts[1] ? parseFloat(modellineParts[1].trim()) : 0;\n            if (result.speed === 0 && (result.brand.indexOf('AMD') > -1 || result.brand.toLowerCase().indexOf('ryzen') > -1)) {\n              result.speed = getAMDSpeed(result.brand);\n            }\n            if (result.speed === 0) {\n              const current = getCpuCurrentSpeedSync();\n              if (current.avg !== 0) { result.speed = current.avg; }\n            }\n            _cpu_speed = result.speed;\n            result.speedMin = Math.round(parseFloat(util.getValue(lines, 'cpu min mhz').replace(/,/g, '.')) / 10.0) / 100;\n            result.speedMax = Math.round(parseFloat(util.getValue(lines, 'cpu max mhz').replace(/,/g, '.')) / 10.0) / 100;\n\n            result = cpuBrandManufacturer(result);\n            result.vendor = cpuManufacturer(util.getValue(lines, 'vendor id'));\n\n            result.family = util.getValue(lines, 'cpu family');\n            result.model = util.getValue(lines, 'model:');\n            result.stepping = util.getValue(lines, 'stepping');\n            result.revision = util.getValue(lines, 'cpu revision');\n            result.cache.l1d = util.getValue(lines, 'l1d cache');\n            if (result.cache.l1d) { result.cache.l1d = parseInt(result.cache.l1d) * (result.cache.l1d.indexOf('M') !== -1 ? 1024 * 1024 : (result.cache.l1d.indexOf('K') !== -1 ? 1024 : 1)); }\n            result.cache.l1i = util.getValue(lines, 'l1i cache');\n            if (result.cache.l1i) { result.cache.l1i = parseInt(result.cache.l1i) * (result.cache.l1i.indexOf('M') !== -1 ? 1024 * 1024 : (result.cache.l1i.indexOf('K') !== -1 ? 1024 : 1)); }\n            result.cache.l2 = util.getValue(lines, 'l2 cache');\n            if (result.cache.l2) { result.cache.l2 = parseInt(result.cache.l2) * (result.cache.l2.indexOf('M') !== -1 ? 1024 * 1024 : (result.cache.l2.indexOf('K') !== -1 ? 1024 : 1)); }\n            result.cache.l3 = util.getValue(lines, 'l3 cache');\n            if (result.cache.l3) { result.cache.l3 = parseInt(result.cache.l3) * (result.cache.l3.indexOf('M') !== -1 ? 1024 * 1024 : (result.cache.l3.indexOf('K') !== -1 ? 1024 : 1)); }\n\n            const threadsPerCore = util.getValue(lines, 'thread(s) per core') || '1';\n            const processors = util.getValue(lines, 'socket(s)') || '1';\n            let threadsPerCoreInt = parseInt(threadsPerCore, 10); // threads per code (normally only for performance cores)\n            let processorsInt = parseInt(processors, 10) || 1;  // number of sockets /  processor units in machine (normally 1)\n            const coresPerSocket = parseInt(util.getValue(lines, 'core(s) per socket'), 10); // number of cores (e.g. 16 on i12900)\n            result.physicalCores = coresPerSocket ? coresPerSocket * processorsInt : result.cores / threadsPerCoreInt;\n            result.performanceCores = threadsPerCoreInt > 1 ? result.cores - result.physicalCores : result.cores;\n            result.efficiencyCores = threadsPerCoreInt > 1 ? result.cores - (threadsPerCoreInt * result.performanceCores) : 0;\n            result.processors = processorsInt;\n            result.governor = util.getValue(lines, 'governor') || '';\n\n            // Test Raspberry\n            if (result.vendor === 'ARM') {\n              const linesRpi = fs.readFileSync('/proc/cpuinfo').toString().split('\\n');\n              const rPIRevision = util.decodePiCpuinfo(linesRpi);\n              if (rPIRevision.model.toLowerCase().indexOf('raspberry') >= 0) {\n                result.family = result.manufacturer;\n                result.manufacturer = rPIRevision.manufacturer;\n                result.brand = rPIRevision.processor;\n                result.revision = rPIRevision.revisionCode;\n                result.socket = 'SOC';\n              }\n            }\n\n            // socket type\n            let lines2 = [];\n            exec('export LC_ALL=C; dmidecode t 4 2>/dev/null | grep \"Upgrade: Socket\"; unset LC_ALL', function (error2, stdout2) {\n              lines2 = stdout2.toString().split('\\n');\n              if (lines2 && lines2.length) {\n                result.socket = util.getValue(lines2, 'Upgrade').replace('Socket', '').trim() || result.socket;\n              }\n              resolve(result);\n            });\n          });\n        }\n        if (_freebsd || _openbsd || _netbsd) {\n          let modelline = '';\n          let lines = [];\n          if (os.cpus()[0] && os.cpus()[0].model) { modelline = os.cpus()[0].model; }\n          exec('export LC_ALL=C; dmidecode -t 4; dmidecode -t 7 unset LC_ALL', function (error, stdout) {\n            let cache = [];\n            if (!error) {\n              const data = stdout.toString().split('# dmidecode');\n              const processor = data.length > 1 ? data[1] : '';\n              cache = data.length > 2 ? data[2].split('Cache Information') : [];\n\n              lines = processor.split('\\n');\n            }\n            result.brand = modelline.split('@')[0].trim();\n            result.speed = modelline.split('@')[1] ? parseFloat(modelline.split('@')[1].trim()) : 0;\n            if (result.speed === 0 && (result.brand.indexOf('AMD') > -1 || result.brand.toLowerCase().indexOf('ryzen') > -1)) {\n              result.speed = getAMDSpeed(result.brand);\n            }\n            if (result.speed === 0) {\n              const current = getCpuCurrentSpeedSync();\n              if (current.avg !== 0) { result.speed = current.avg; }\n            }\n            _cpu_speed = result.speed;\n            result.speedMin = result.speed;\n            result.speedMax = Math.round(parseFloat(util.getValue(lines, 'max speed').replace(/Mhz/g, '')) / 10.0) / 100;\n\n            result = cpuBrandManufacturer(result);\n            result.vendor = cpuManufacturer(util.getValue(lines, 'manufacturer'));\n            let sig = util.getValue(lines, 'signature');\n            sig = sig.split(',');\n            for (let i = 0; i < sig.length; i++) {\n              sig[i] = sig[i].trim();\n            }\n            result.family = util.getValue(sig, 'Family', ' ', true);\n            result.model = util.getValue(sig, 'Model', ' ', true);\n            result.stepping = util.getValue(sig, 'Stepping', ' ', true);\n            result.revision = '';\n            const voltage = parseFloat(util.getValue(lines, 'voltage'));\n            result.voltage = isNaN(voltage) ? '' : voltage.toFixed(2);\n            for (let i = 0; i < cache.length; i++) {\n              lines = cache[i].split('\\n');\n              let cacheType = util.getValue(lines, 'Socket Designation').toLowerCase().replace(' ', '-').split('-');\n              cacheType = cacheType.length ? cacheType[0] : '';\n              const sizeParts = util.getValue(lines, 'Installed Size').split(' ');\n              let size = parseInt(sizeParts[0], 10);\n              const unit = sizeParts.length > 1 ? sizeParts[1] : 'kb';\n              size = size * (unit === 'kb' ? 1024 : (unit === 'mb' ? 1024 * 1024 : (unit === 'gb' ? 1024 * 1024 * 1024 : 1)));\n              if (cacheType) {\n                if (cacheType === 'l1') {\n                  result.cache[cacheType + 'd'] = size / 2;\n                  result.cache[cacheType + 'i'] = size / 2;\n                } else {\n                  result.cache[cacheType] = size;\n                }\n              }\n            }\n            // socket type\n            result.socket = util.getValue(lines, 'Upgrade').replace('Socket', '').trim();\n            // # threads / # cores\n            const threadCount = util.getValue(lines, 'thread count').trim();\n            const coreCount = util.getValue(lines, 'core count').trim();\n            if (coreCount && threadCount) {\n              result.cores = parseInt(threadCount, 10);\n              result.physicalCores = parseInt(coreCount, 10);\n            }\n            resolve(result);\n          });\n        }\n        if (_sunos) {\n          resolve(result);\n        }\n        if (_windows) {\n          try {\n            const workload = [];\n            workload.push(util.powerShell('Get-CimInstance Win32_processor | select Name, Revision, L2CacheSize, L3CacheSize, Manufacturer, MaxClockSpeed, Description, UpgradeMethod, Caption, NumberOfLogicalProcessors, NumberOfCores | fl'));\n            workload.push(util.powerShell('Get-CimInstance Win32_CacheMemory | select CacheType,InstalledSize,Level | fl'));\n            workload.push(util.powerShell('(Get-CimInstance Win32_ComputerSystem).HypervisorPresent'));\n\n            Promise.all(\n              workload\n            ).then((data) => {\n              let lines = data[0].split('\\r\\n');\n              let name = util.getValue(lines, 'name', ':') || '';\n              if (name.indexOf('@') >= 0) {\n                result.brand = name.split('@')[0].trim();\n                result.speed = name.split('@')[1] ? parseFloat(name.split('@')[1].trim()) : 0;\n                _cpu_speed = result.speed;\n              } else {\n                result.brand = name.trim();\n                result.speed = 0;\n              }\n              result = cpuBrandManufacturer(result);\n              result.revision = util.getValue(lines, 'revision', ':');\n              result.vendor = util.getValue(lines, 'manufacturer', ':');\n              result.speedMax = Math.round(parseFloat(util.getValue(lines, 'maxclockspeed', ':').replace(/,/g, '.')) / 10.0) / 100;\n              if (result.speed === 0 && (result.brand.indexOf('AMD') > -1 || result.brand.toLowerCase().indexOf('ryzen') > -1)) {\n                result.speed = getAMDSpeed(result.brand);\n              }\n              if (result.speed === 0) {\n                result.speed = result.speedMax;\n              }\n              result.speedMin = result.speed;\n\n              let description = util.getValue(lines, 'description', ':').split(' ');\n              for (let i = 0; i < description.length; i++) {\n                if (description[i].toLowerCase().startsWith('family') && (i + 1) < description.length && description[i + 1]) {\n                  result.family = description[i + 1];\n                }\n                if (description[i].toLowerCase().startsWith('model') && (i + 1) < description.length && description[i + 1]) {\n                  result.model = description[i + 1];\n                }\n                if (description[i].toLowerCase().startsWith('stepping') && (i + 1) < description.length && description[i + 1]) {\n                  result.stepping = description[i + 1];\n                }\n              }\n              // socket type\n              const socketId = util.getValue(lines, 'UpgradeMethod', ':');\n              if (socketTypes[socketId]) {\n                result.socket = socketTypes[socketId];\n              }\n              const socketByName = getSocketTypesByName(name);\n              if (socketByName) {\n                result.socket = socketByName;\n              }\n              // # threads / # cores\n              const countProcessors = util.countLines(lines, 'Caption');\n              const countThreads = util.getValue(lines, 'NumberOfLogicalProcessors', ':');\n              const countCores = util.getValue(lines, 'NumberOfCores', ':');\n              if (countProcessors) {\n                result.processors = parseInt(countProcessors) || 1;\n              }\n              if (countCores && countThreads) {\n                result.cores = parseInt(countThreads) || util.cores();\n                result.physicalCores = parseInt(countCores) || util.cores();\n              }\n              if (countProcessors > 1) {\n                result.cores = result.cores * countProcessors;\n                result.physicalCores = result.physicalCores * countProcessors;\n              }\n              result.cache = parseWinCache(data[0], data[1]);\n              const hyperv = data[2] ? data[2].toString().toLowerCase() : '';\n              result.virtualization = hyperv.indexOf('true') !== -1;\n\n              resolve(result);\n            });\n          } catch (e) {\n            resolve(result);\n          }\n        }\n      });\n    });\n  });\n}\n\n// --------------------------\n// CPU - Processor Data\n\nfunction cpu(callback) {\n\n  return new Promise((resolve) => {\n    process.nextTick(() => {\n      getCpu().then(result => {\n        if (callback) { callback(result); }\n        resolve(result);\n      });\n    });\n  });\n}\n\nexports.cpu = cpu;\n\n// --------------------------\n// CPU - current speed - in GHz\n\nfunction getCpuCurrentSpeedSync() {\n\n  let cpus = os.cpus();\n  let minFreq = 999999999;\n  let maxFreq = 0;\n  let avgFreq = 0;\n  let cores = [];\n\n  if (cpus && cpus.length) {\n    for (let i in cpus) {\n      if ({}.hasOwnProperty.call(cpus, i)) {\n        let freq = cpus[i].speed > 100 ? (cpus[i].speed + 1) / 1000 : cpus[i].speed / 10;\n        avgFreq = avgFreq + freq;\n        if (freq > maxFreq) { maxFreq = freq; }\n        if (freq < minFreq) { minFreq = freq; }\n        cores.push(parseFloat(freq.toFixed(2)));\n      }\n    }\n    avgFreq = avgFreq / cpus.length;\n    return {\n      min: parseFloat(minFreq.toFixed(2)),\n      max: parseFloat(maxFreq.toFixed(2)),\n      avg: parseFloat((avgFreq).toFixed(2)),\n      cores: cores\n    };\n  } else {\n    return {\n      min: 0,\n      max: 0,\n      avg: 0,\n      cores: cores\n    };\n  }\n}\n\nfunction cpuCurrentSpeed(callback) {\n\n  return new Promise((resolve) => {\n    process.nextTick(() => {\n      let result = getCpuCurrentSpeedSync();\n      if (result.avg === 0 && _cpu_speed !== 0) {\n        const currCpuSpeed = parseFloat(_cpu_speed);\n        result = {\n          min: currCpuSpeed,\n          max: currCpuSpeed,\n          avg: currCpuSpeed,\n          cores: []\n        };\n      }\n      if (callback) { callback(result); }\n      resolve(result);\n    });\n  });\n}\n\nexports.cpuCurrentSpeed = cpuCurrentSpeed;\n\n// --------------------------\n// CPU - temperature\n// if sensors are installed\n\nfunction cpuTemperature(callback) {\n\n  return new Promise((resolve) => {\n    process.nextTick(() => {\n      let result = {\n        main: null,\n        cores: [],\n        max: null,\n        socket: [],\n        chipset: null\n      };\n      if (_linux) {\n        // CPU Chipset, Socket\n        try {\n          const cmd = 'cat /sys/class/thermal/thermal_zone*/type  2>/dev/null; echo \"-----\"; cat /sys/class/thermal/thermal_zone*/temp 2>/dev/null;';\n          const parts = execSync(cmd).toString().split('-----\\n');\n          if (parts.length === 2) {\n            const lines = parts[0].split('\\n');\n            const lines2 = parts[1].split('\\n');\n            for (let i = 0; i < lines.length; i++) {\n              const line = lines[i].trim();\n              if (line.startsWith('acpi') && lines2[i]) {\n                result.socket.push(Math.round(parseInt(lines2[i], 10) / 100) / 10);\n              }\n              if (line.startsWith('pch') && lines2[i]) {\n                result.chipset = Math.round(parseInt(lines2[i], 10) / 100) / 10;\n              }\n            }\n          }\n        } catch (e) {\n          util.noop();\n        }\n\n        const cmd = 'for mon in /sys/class/hwmon/hwmon*; do for label in \"$mon\"/temp*_label; do if [ -f $label ]; then value=${label%_*}_input; echo $(cat \"$label\")___$(cat \"$value\"); fi; done; done;';\n        try {\n          exec(cmd, function (error, stdout) {\n            stdout = stdout.toString();\n            const tdiePos = stdout.toLowerCase().indexOf('tdie');\n            if (tdiePos !== -1) {\n              stdout = stdout.substring(tdiePos);\n            }\n            let lines = stdout.split('\\n');\n            let tctl = 0;\n            lines.forEach(line => {\n              const parts = line.split('___');\n              const label = parts[0];\n              const value = parts.length > 1 && parts[1] ? parts[1] : '0';\n              if (value && label && label.toLowerCase() === 'tctl') {\n                tctl = result.main = Math.round(parseInt(value, 10) / 100) / 10;\n              }\n              if (value && (label === undefined || (label && label.toLowerCase().startsWith('core')))) {\n                result.cores.push(Math.round(parseInt(value, 10) / 100) / 10);\n              } else if (value && label && result.main === null && (label.toLowerCase().indexOf('package') >= 0 || label.toLowerCase().indexOf('physical') >= 0 || label.toLowerCase() === 'tccd1')) {\n                result.main = Math.round(parseInt(value, 10) / 100) / 10;\n              }\n            });\n            if (tctl && result.main === null) {\n              result.main = tctl;\n            }\n\n            if (result.cores.length > 0) {\n              if (result.main === null) {\n                result.main = Math.round(result.cores.reduce((a, b) => a + b, 0) / result.cores.length);\n              }\n              let maxtmp = Math.max.apply(Math, result.cores);\n              result.max = (maxtmp > result.main) ? maxtmp : result.main;\n            }\n            if (result.main !== null) {\n              if (result.max === null) {\n                result.max = result.main;\n              }\n              if (callback) { callback(result); }\n              resolve(result);\n              return;\n            }\n            exec('sensors', function (error, stdout) {\n              if (!error) {\n                let lines = stdout.toString().split('\\n');\n                let tdieTemp = null;\n                let newSectionStarts = true;\n                let section = '';\n                lines.forEach(function (line) {\n                  // determine section\n                  if (line.trim() === '') {\n                    newSectionStarts = true;\n                  } else if (newSectionStarts) {\n                    if (line.trim().toLowerCase().startsWith('acpi')) { section = 'acpi'; }\n                    if (line.trim().toLowerCase().startsWith('pch')) { section = 'pch'; }\n                    if (line.trim().toLowerCase().startsWith('core')) { section = 'core'; }\n                    newSectionStarts = false;\n                  }\n                  let regex = /[+-]([^]*)/g;\n                  let temps = line.match(regex);\n                  let firstPart = line.split(':')[0].toUpperCase();\n                  if (section === 'acpi') {\n                    // socket temp\n                    if (firstPart.indexOf('TEMP') !== -1) {\n                      result.socket.push(parseFloat(temps));\n                    }\n                  } else if (section === 'pch') {\n                    // chipset temp\n                    if (firstPart.indexOf('TEMP') !== -1 && !result.chipset) {\n                      result.chipset = parseFloat(temps);\n                    }\n                  }\n                  // cpu temp\n                  if (firstPart.indexOf('PHYSICAL') !== -1 || firstPart.indexOf('PACKAGE') !== -1) {\n                    result.main = parseFloat(temps);\n                  }\n                  if (firstPart.indexOf('CORE ') !== -1) {\n                    result.cores.push(parseFloat(temps));\n                  }\n                  if (firstPart.indexOf('TDIE') !== -1 && tdieTemp === null) {\n                    tdieTemp = parseFloat(temps);\n                  }\n                });\n                if (result.cores.length > 0) {\n                  result.main = Math.round(result.cores.reduce((a, b) => a + b, 0) / result.cores.length);\n                  let maxtmp = Math.max.apply(Math, result.cores);\n                  result.max = (maxtmp > result.main) ? maxtmp : result.main;\n                } else {\n                  if (result.main === null && tdieTemp !== null) {\n                    result.main = tdieTemp;\n                    result.max = tdieTemp;\n                  }\n                }\n                if (result.main !== null || result.max !== null) {\n                  if (callback) { callback(result); }\n                  resolve(result);\n                  return;\n                }\n              }\n              fs.stat('/sys/class/thermal/thermal_zone0/temp', function (err) {\n                if (err === null) {\n                  fs.readFile('/sys/class/thermal/thermal_zone0/temp', function (error, stdout) {\n                    if (!error) {\n                      let lines = stdout.toString().split('\\n');\n                      if (lines.length > 0) {\n                        result.main = parseFloat(lines[0]) / 1000.0;\n                        result.max = result.main;\n                      }\n                    }\n                    if (callback) { callback(result); }\n                    resolve(result);\n                  });\n                } else {\n                  exec('/opt/vc/bin/vcgencmd measure_temp', function (error, stdout) {\n                    if (!error) {\n                      let lines = stdout.toString().split('\\n');\n                      if (lines.length > 0 && lines[0].indexOf('=')) {\n                        result.main = parseFloat(lines[0].split('=')[1]);\n                        result.max = result.main;\n                      }\n                    }\n                    if (callback) { callback(result); }\n                    resolve(result);\n                  });\n                }\n              });\n            });\n          });\n        } catch (er) {\n          if (callback) { callback(result); }\n          resolve(result);\n        }\n      }\n      if (_freebsd || _openbsd || _netbsd) {\n        exec('sysctl dev.cpu | grep temp', function (error, stdout) {\n          if (!error) {\n            let lines = stdout.toString().split('\\n');\n            let sum = 0;\n            lines.forEach(function (line) {\n              const parts = line.split(':');\n              if (parts.length > 1) {\n                const temp = parseFloat(parts[1].replace(',', '.'));\n                if (temp > result.max) { result.max = temp; }\n                sum = sum + temp;\n                result.cores.push(temp);\n              }\n            });\n            if (result.cores.length) {\n              result.main = Math.round(sum / result.cores.length * 100) / 100;\n            }\n          }\n          if (callback) { callback(result); }\n          resolve(result);\n        });\n      }\n      if (_darwin) {\n        let osxTemp = null;\n        try {\n          osxTemp = require('osx-temperature-sensor');\n        } catch (er) {\n          osxTemp = null;\n        }\n        if (osxTemp) {\n          result = osxTemp.cpuTemperature();\n          // round to 2 digits\n          if (result.main) {\n            result.main = Math.round(result.main * 100) / 100;\n          }\n          if (result.max) {\n            result.max = Math.round(result.max * 100) / 100;\n          }\n          if (result.cores && result.cores.length) {\n            for (let i = 0; i < result.cores.length; i++) {\n              result.cores[i] = Math.round(result.cores[i] * 100) / 100;\n            }\n          }\n        }\n\n        if (callback) { callback(result); }\n        resolve(result);\n      }\n      if (_sunos) {\n        if (callback) { callback(result); }\n        resolve(result);\n      }\n      if (_windows) {\n        try {\n          util.powerShell('Get-CimInstance MSAcpi_ThermalZoneTemperature -Namespace \"root/wmi\" | Select CurrentTemperature').then((stdout, error) => {\n            if (!error) {\n              let sum = 0;\n              let lines = stdout.split('\\r\\n').filter(line => line.trim() !== '').filter((line, idx) => idx > 0);\n              lines.forEach(function (line) {\n                let value = (parseInt(line, 10) - 2732) / 10;\n                if (!isNaN(value)) {\n                  sum = sum + value;\n                  if (value > result.max) { result.max = value; }\n                  result.cores.push(value);\n                }\n              });\n              if (result.cores.length) {\n                result.main = sum / result.cores.length;\n              }\n            }\n            if (callback) { callback(result); }\n            resolve(result);\n          });\n        } catch (e) {\n          if (callback) { callback(result); }\n          resolve(result);\n        }\n      }\n    });\n  });\n}\n\nexports.cpuTemperature = cpuTemperature;\n\n// --------------------------\n// CPU Flags\n\nfunction cpuFlags(callback) {\n\n  return new Promise((resolve) => {\n    process.nextTick(() => {\n      let result = '';\n      if (_windows) {\n        try {\n          exec('reg query \"HKEY_LOCAL_MACHINE\\\\HARDWARE\\\\DESCRIPTION\\\\System\\\\CentralProcessor\\\\0\" /v FeatureSet', util.execOptsWin, function (error, stdout) {\n            if (!error) {\n              let flag_hex = stdout.split('0x').pop().trim();\n              let flag_bin_unpadded = parseInt(flag_hex, 16).toString(2);\n              let flag_bin = '0'.repeat(32 - flag_bin_unpadded.length) + flag_bin_unpadded;\n              // empty flags are the reserved fields in the CPUID feature bit list\n              // as found on wikipedia:\n              // https://en.wikipedia.org/wiki/CPUID\n              let all_flags = [\n                'fpu', 'vme', 'de', 'pse', 'tsc', 'msr', 'pae', 'mce', 'cx8', 'apic',\n                '', 'sep', 'mtrr', 'pge', 'mca', 'cmov', 'pat', 'pse-36', 'psn', 'clfsh',\n                '', 'ds', 'acpi', 'mmx', 'fxsr', 'sse', 'sse2', 'ss', 'htt', 'tm', 'ia64', 'pbe'\n              ];\n              for (let f = 0; f < all_flags.length; f++) {\n                if (flag_bin[f] === '1' && all_flags[f] !== '') {\n                  result += ' ' + all_flags[f];\n                }\n              }\n              result = result.trim().toLowerCase();\n            }\n            if (callback) { callback(result); }\n            resolve(result);\n          });\n        } catch (e) {\n          if (callback) { callback(result); }\n          resolve(result);\n        }\n      }\n      if (_linux) {\n        try {\n\n          exec('export LC_ALL=C; lscpu; unset LC_ALL', function (error, stdout) {\n            if (!error) {\n              let lines = stdout.toString().split('\\n');\n              lines.forEach(function (line) {\n                if (line.split(':')[0].toUpperCase().indexOf('FLAGS') !== -1) {\n                  result = line.split(':')[1].trim().toLowerCase();\n                }\n              });\n            }\n            if (!result) {\n              fs.readFile('/proc/cpuinfo', function (error, stdout) {\n                if (!error) {\n                  let lines = stdout.toString().split('\\n');\n                  result = util.getValue(lines, 'features', ':', true).toLowerCase();\n                }\n                if (callback) { callback(result); }\n                resolve(result);\n              });\n            } else {\n              if (callback) { callback(result); }\n              resolve(result);\n            }\n          });\n        } catch (e) {\n          if (callback) { callback(result); }\n          resolve(result);\n        }\n      }\n      if (_freebsd || _openbsd || _netbsd) {\n        exec('export LC_ALL=C; dmidecode -t 4 2>/dev/null; unset LC_ALL', function (error, stdout) {\n          let flags = [];\n          if (!error) {\n            let parts = stdout.toString().split('\\tFlags:');\n            const lines = parts.length > 1 ? parts[1].split('\\tVersion:')[0].split('\\n') : [];\n            lines.forEach(function (line) {\n              let flag = (line.indexOf('(') ? line.split('(')[0].toLowerCase() : '').trim().replace(/\\t/g, '');\n              if (flag) {\n                flags.push(flag);\n              }\n            });\n          }\n          result = flags.join(' ').trim().toLowerCase();\n          if (callback) { callback(result); }\n          resolve(result);\n        });\n      }\n      if (_darwin) {\n        exec('sysctl machdep.cpu.features', function (error, stdout) {\n          if (!error) {\n            let lines = stdout.toString().split('\\n');\n            if (lines.length > 0 && lines[0].indexOf('machdep.cpu.features:') !== -1) {\n              result = lines[0].split(':')[1].trim().toLowerCase();\n            }\n          }\n          if (callback) { callback(result); }\n          resolve(result);\n        });\n      }\n      if (_sunos) {\n        if (callback) { callback(result); }\n        resolve(result);\n      }\n    });\n  });\n}\n\nexports.cpuFlags = cpuFlags;\n\n// --------------------------\n// CPU Cache\n\nfunction cpuCache(callback) {\n\n  return new Promise((resolve) => {\n    process.nextTick(() => {\n\n      let result = {\n        l1d: null,\n        l1i: null,\n        l2: null,\n        l3: null,\n      };\n      if (_linux) {\n        try {\n          exec('export LC_ALL=C; lscpu; unset LC_ALL', function (error, stdout) {\n            if (!error) {\n              let lines = stdout.toString().split('\\n');\n              lines.forEach(function (line) {\n                let parts = line.split(':');\n                if (parts[0].toUpperCase().indexOf('L1D CACHE') !== -1) {\n                  result.l1d = parseInt(parts[1].trim()) * (parts[1].indexOf('M') !== -1 ? 1024 * 1024 : (parts[1].indexOf('K') !== -1 ? 1024 : 1));\n                }\n                if (parts[0].toUpperCase().indexOf('L1I CACHE') !== -1) {\n                  result.l1i = parseInt(parts[1].trim()) * (parts[1].indexOf('M') !== -1 ? 1024 * 1024 : (parts[1].indexOf('K') !== -1 ? 1024 : 1));\n                }\n                if (parts[0].toUpperCase().indexOf('L2 CACHE') !== -1) {\n                  result.l2 = parseInt(parts[1].trim()) * (parts[1].indexOf('M') !== -1 ? 1024 * 1024 : (parts[1].indexOf('K') !== -1 ? 1024 : 1));\n                }\n                if (parts[0].toUpperCase().indexOf('L3 CACHE') !== -1) {\n                  result.l3 = parseInt(parts[1].trim()) * (parts[1].indexOf('M') !== -1 ? 1024 * 1024 : (parts[1].indexOf('K') !== -1 ? 1024 : 1));\n                }\n              });\n            }\n            if (callback) { callback(result); }\n            resolve(result);\n          });\n        } catch (e) {\n          if (callback) { callback(result); }\n          resolve(result);\n        }\n      }\n      if (_freebsd || _openbsd || _netbsd) {\n        exec('export LC_ALL=C; dmidecode -t 7 2>/dev/null; unset LC_ALL', function (error, stdout) {\n          let cache = [];\n          if (!error) {\n            const data = stdout.toString();\n            cache = data.split('Cache Information');\n            cache.shift();\n          }\n          for (let i = 0; i < cache.length; i++) {\n            const lines = cache[i].split('\\n');\n            let cacheType = util.getValue(lines, 'Socket Designation').toLowerCase().replace(' ', '-').split('-');\n            cacheType = cacheType.length ? cacheType[0] : '';\n            const sizeParts = util.getValue(lines, 'Installed Size').split(' ');\n            let size = parseInt(sizeParts[0], 10);\n            const unit = sizeParts.length > 1 ? sizeParts[1] : 'kb';\n            size = size * (unit === 'kb' ? 1024 : (unit === 'mb' ? 1024 * 1024 : (unit === 'gb' ? 1024 * 1024 * 1024 : 1)));\n            if (cacheType) {\n              if (cacheType === 'l1') {\n                result.cache[cacheType + 'd'] = size / 2;\n                result.cache[cacheType + 'i'] = size / 2;\n              } else {\n                result.cache[cacheType] = size;\n              }\n            }\n          }\n          if (callback) { callback(result); }\n          resolve(result);\n        });\n      }\n      if (_darwin) {\n        exec('sysctl hw.l1icachesize hw.l1dcachesize hw.l2cachesize hw.l3cachesize', function (error, stdout) {\n          if (!error) {\n            let lines = stdout.toString().split('\\n');\n            lines.forEach(function (line) {\n              let parts = line.split(':');\n              if (parts[0].toLowerCase().indexOf('hw.l1icachesize') !== -1) {\n                result.l1d = parseInt(parts[1].trim()) * (parts[1].indexOf('K') !== -1 ? 1024 : 1);\n              }\n              if (parts[0].toLowerCase().indexOf('hw.l1dcachesize') !== -1) {\n                result.l1i = parseInt(parts[1].trim()) * (parts[1].indexOf('K') !== -1 ? 1024 : 1);\n              }\n              if (parts[0].toLowerCase().indexOf('hw.l2cachesize') !== -1) {\n                result.l2 = parseInt(parts[1].trim()) * (parts[1].indexOf('K') !== -1 ? 1024 : 1);\n              }\n              if (parts[0].toLowerCase().indexOf('hw.l3cachesize') !== -1) {\n                result.l3 = parseInt(parts[1].trim()) * (parts[1].indexOf('K') !== -1 ? 1024 : 1);\n              }\n            });\n          }\n          if (callback) { callback(result); }\n          resolve(result);\n        });\n      }\n      if (_sunos) {\n        if (callback) { callback(result); }\n        resolve(result);\n      }\n      if (_windows) {\n        try {\n          const workload = [];\n          workload.push(util.powerShell('Get-CimInstance Win32_processor | select L2CacheSize, L3CacheSize | fl'));\n          workload.push(util.powerShell('Get-CimInstance Win32_CacheMemory | select CacheType,InstalledSize,Level | fl'));\n\n          Promise.all(\n            workload\n          ).then((data) => {\n            result = parseWinCache(data[0], data[1]);\n\n            if (callback) { callback(result); }\n            resolve(result);\n          });\n        } catch (e) {\n          if (callback) { callback(result); }\n          resolve(result);\n        }\n      }\n    });\n  });\n}\n\nfunction parseWinCache(linesProc, linesCache) {\n  let result = {\n    l1d: null,\n    l1i: null,\n    l2: null,\n    l3: null,\n  };\n\n  // Win32_processor\n  let lines = linesProc.split('\\r\\n');\n  result.l1d = 0;\n  result.l1i = 0;\n  result.l2 = util.getValue(lines, 'l2cachesize', ':');\n  result.l3 = util.getValue(lines, 'l3cachesize', ':');\n  if (result.l2) { result.l2 = parseInt(result.l2, 10) * 1024; } else { result.l2 = 0; }\n  if (result.l3) { result.l3 = parseInt(result.l3, 10) * 1024; } else { result.l3 = 0; }\n\n  // Win32_CacheMemory\n  const parts = linesCache.split(/\\n\\s*\\n/);\n  let l1i = 0;\n  let l1d = 0;\n  let l2 = 0;\n  parts.forEach(function (part) {\n    const lines = part.split('\\r\\n');\n    const cacheType = util.getValue(lines, 'CacheType');\n    const level = util.getValue(lines, 'Level');\n    const installedSize = util.getValue(lines, 'InstalledSize');\n    // L1 Instructions\n    if (level === '3' && cacheType === '3') {\n      result.l1i = result.l1i + parseInt(installedSize, 10) * 1024;\n    }\n    // L1 Data\n    if (level === '3' && cacheType === '4') {\n      result.l1d = result.l1d + parseInt(installedSize, 10) * 1024;\n    }\n    // L1 all\n    if (level === '3' && cacheType === '5') {\n      l1i = parseInt(installedSize, 10) / 2;\n      l1d = parseInt(installedSize, 10) / 2;\n    }\n    // L2\n    if (level === '4' && cacheType === '5') {\n      l2 = l2 + parseInt(installedSize, 10) * 1024;\n    }\n  });\n  if (!result.l1i && !result.l1d) {\n    result.l1i = l1i;\n    result.l1d = l1d;\n  }\n  if (l2) {\n    result.l2 = l2;\n  }\n  return result;\n}\n\nexports.cpuCache = cpuCache;\n\n// --------------------------\n// CPU - current load - in %\n\nfunction getLoad() {\n\n  return new Promise((resolve) => {\n    process.nextTick(() => {\n      let loads = os.loadavg().map(function (x) { return x / util.cores(); });\n      let avgLoad = parseFloat((Math.max.apply(Math, loads)).toFixed(2));\n      let result = {};\n\n      let now = Date.now() - _current_cpu.ms;\n      if (now >= 200) {\n        _current_cpu.ms = Date.now();\n        const cpus = os.cpus().map(function (cpu) {\n          cpu.times.steal = 0;\n          cpu.times.guest = 0;\n          return cpu;\n        });\n        let totalUser = 0;\n        let totalSystem = 0;\n        let totalNice = 0;\n        let totalIrq = 0;\n        let totalIdle = 0;\n        let totalSteal = 0;\n        let totalGuest = 0;\n        let cores = [];\n        _corecount = (cpus && cpus.length) ? cpus.length : 0;\n\n        // linux: try to get other cpu stats\n        if (_linux) {\n          try {\n            const lines = execSync('cat /proc/stat 2>/dev/null | grep cpu').toString().split('\\n');\n            if (lines.length > 1) {\n              lines.shift();\n              if (lines.length === cpus.length) {\n                for (let i = 0; i < lines.length; i++) {\n                  let parts = lines[i].split(' ');\n                  if (parts.length >= 10) {\n                    const steal = parseFloat(parts[8]) || 0;\n                    const guest = parseFloat(parts[9]) || 0;\n                    cpus[i].times.steal = steal;\n                    cpus[i].times.guest = guest;\n                  }\n                }\n              }\n            }\n          } catch (e) {\n            util.noop();\n          }\n        }\n\n        for (let i = 0; i < _corecount; i++) {\n          const cpu = cpus[i].times;\n          totalUser += cpu.user;\n          totalSystem += cpu.sys;\n          totalNice += cpu.nice;\n          totalIdle += cpu.idle;\n          totalIrq += cpu.irq;\n          totalSteal += cpu.steal || 0;\n          totalGuest += cpu.guest || 0;\n          let tmpTick = (_cpus && _cpus[i] && _cpus[i].totalTick ? _cpus[i].totalTick : 0);\n          let tmpLoad = (_cpus && _cpus[i] && _cpus[i].totalLoad ? _cpus[i].totalLoad : 0);\n          let tmpUser = (_cpus && _cpus[i] && _cpus[i].user ? _cpus[i].user : 0);\n          let tmpSystem = (_cpus && _cpus[i] && _cpus[i].sys ? _cpus[i].sys : 0);\n          let tmpNice = (_cpus && _cpus[i] && _cpus[i].nice ? _cpus[i].nice : 0);\n          let tmpIdle = (_cpus && _cpus[i] && _cpus[i].idle ? _cpus[i].idle : 0);\n          let tmpIrq = (_cpus && _cpus[i] && _cpus[i].irq ? _cpus[i].irq : 0);\n          let tmpSteal = (_cpus && _cpus[i] && _cpus[i].steal ? _cpus[i].steal : 0);\n          let tmpGuest = (_cpus && _cpus[i] && _cpus[i].guest ? _cpus[i].guest : 0);\n          _cpus[i] = cpu;\n          _cpus[i].totalTick = _cpus[i].user + _cpus[i].sys + _cpus[i].nice + _cpus[i].irq + _cpus[i].steal + _cpus[i].guest + _cpus[i].idle;\n          _cpus[i].totalLoad = _cpus[i].user + _cpus[i].sys + _cpus[i].nice + _cpus[i].irq + _cpus[i].steal + _cpus[i].guest;\n          _cpus[i].currentTick = _cpus[i].totalTick - tmpTick;\n          _cpus[i].load = (_cpus[i].totalLoad - tmpLoad);\n          _cpus[i].loadUser = (_cpus[i].user - tmpUser);\n          _cpus[i].loadSystem = (_cpus[i].sys - tmpSystem);\n          _cpus[i].loadNice = (_cpus[i].nice - tmpNice);\n          _cpus[i].loadIdle = (_cpus[i].idle - tmpIdle);\n          _cpus[i].loadIrq = (_cpus[i].irq - tmpIrq);\n          _cpus[i].loadSteal = (_cpus[i].steal - tmpSteal);\n          _cpus[i].loadGuest = (_cpus[i].guest - tmpGuest);\n          cores[i] = {};\n          cores[i].load = _cpus[i].load / _cpus[i].currentTick * 100;\n          cores[i].loadUser = _cpus[i].loadUser / _cpus[i].currentTick * 100;\n          cores[i].loadSystem = _cpus[i].loadSystem / _cpus[i].currentTick * 100;\n          cores[i].loadNice = _cpus[i].loadNice / _cpus[i].currentTick * 100;\n          cores[i].loadIdle = _cpus[i].loadIdle / _cpus[i].currentTick * 100;\n          cores[i].loadIrq = _cpus[i].loadIrq / _cpus[i].currentTick * 100;\n          cores[i].loadSteal = _cpus[i].loadSteal / _cpus[i].currentTick * 100;\n          cores[i].loadGuest = _cpus[i].loadGuest / _cpus[i].currentTick * 100;\n          cores[i].rawLoad = _cpus[i].load;\n          cores[i].rawLoadUser = _cpus[i].loadUser;\n          cores[i].rawLoadSystem = _cpus[i].loadSystem;\n          cores[i].rawLoadNice = _cpus[i].loadNice;\n          cores[i].rawLoadIdle = _cpus[i].loadIdle;\n          cores[i].rawLoadIrq = _cpus[i].loadIrq;\n          cores[i].rawLoadSteal = _cpus[i].loadSteal;\n          cores[i].rawLoadGuest = _cpus[i].loadGuest;\n        }\n        let totalTick = totalUser + totalSystem + totalNice + totalIrq + totalSteal + totalGuest + totalIdle;\n        let totalLoad = totalUser + totalSystem + totalNice + totalIrq + totalSteal + totalGuest;\n        let currentTick = totalTick - _current_cpu.tick;\n        result = {\n          avgLoad: avgLoad,\n          currentLoad: (totalLoad - _current_cpu.load) / currentTick * 100,\n          currentLoadUser: (totalUser - _current_cpu.user) / currentTick * 100,\n          currentLoadSystem: (totalSystem - _current_cpu.system) / currentTick * 100,\n          currentLoadNice: (totalNice - _current_cpu.nice) / currentTick * 100,\n          currentLoadIdle: (totalIdle - _current_cpu.idle) / currentTick * 100,\n          currentLoadIrq: (totalIrq - _current_cpu.irq) / currentTick * 100,\n          currentLoadSteal: (totalSteal - _current_cpu.steal) / currentTick * 100,\n          currentLoadGuest: (totalGuest - _current_cpu.guest) / currentTick * 100,\n          rawCurrentLoad: (totalLoad - _current_cpu.load),\n          rawCurrentLoadUser: (totalUser - _current_cpu.user),\n          rawCurrentLoadSystem: (totalSystem - _current_cpu.system),\n          rawCurrentLoadNice: (totalNice - _current_cpu.nice),\n          rawCurrentLoadIdle: (totalIdle - _current_cpu.idle),\n          rawCurrentLoadIrq: (totalIrq - _current_cpu.irq),\n          rawCurrentLoadSteal: (totalSteal - _current_cpu.steal),\n          rawCurrentLoadGuest: (totalGuest - _current_cpu.guest),\n          cpus: cores\n        };\n        _current_cpu = {\n          user: totalUser,\n          nice: totalNice,\n          system: totalSystem,\n          idle: totalIdle,\n          irq: totalIrq,\n          steal: totalSteal,\n          guest: totalGuest,\n          tick: totalTick,\n          load: totalLoad,\n          ms: _current_cpu.ms,\n          currentLoad: result.currentLoad,\n          currentLoadUser: result.currentLoadUser,\n          currentLoadSystem: result.currentLoadSystem,\n          currentLoadNice: result.currentLoadNice,\n          currentLoadIdle: result.currentLoadIdle,\n          currentLoadIrq: result.currentLoadIrq,\n          currentLoadSteal: result.currentLoadSteal,\n          currentLoadGuest: result.currentLoadGuest,\n          rawCurrentLoad: result.rawCurrentLoad,\n          rawCurrentLoadUser: result.rawCurrentLoadUser,\n          rawCurrentLoadSystem: result.rawCurrentLoadSystem,\n          rawCurrentLoadNice: result.rawCurrentLoadNice,\n          rawCurrentLoadIdle: result.rawCurrentLoadIdle,\n          rawCurrentLoadIrq: result.rawCurrentLoadIrq,\n          rawCurrentLoadSteal: result.rawCurrentLoadSteal,\n          rawCurrentLoadGuest: result.rawCurrentLoadGuest,\n        };\n      } else {\n        let cores = [];\n        for (let i = 0; i < _corecount; i++) {\n          cores[i] = {};\n          cores[i].load = _cpus[i].load / _cpus[i].currentTick * 100;\n          cores[i].loadUser = _cpus[i].loadUser / _cpus[i].currentTick * 100;\n          cores[i].loadSystem = _cpus[i].loadSystem / _cpus[i].currentTick * 100;\n          cores[i].loadNice = _cpus[i].loadNice / _cpus[i].currentTick * 100;\n          cores[i].loadIdle = _cpus[i].loadIdle / _cpus[i].currentTick * 100;\n          cores[i].loadIrq = _cpus[i].loadIrq / _cpus[i].currentTick * 100;\n          cores[i].rawLoad = _cpus[i].load;\n          cores[i].rawLoadUser = _cpus[i].loadUser;\n          cores[i].rawLoadSystem = _cpus[i].loadSystem;\n          cores[i].rawLoadNice = _cpus[i].loadNice;\n          cores[i].rawLoadIdle = _cpus[i].loadIdle;\n          cores[i].rawLoadIrq = _cpus[i].loadIrq;\n          cores[i].rawLoadSteal = _cpus[i].loadSteal;\n          cores[i].rawLoadGuest = _cpus[i].loadGuest;\n        }\n        result = {\n          avgLoad: avgLoad,\n          currentLoad: _current_cpu.currentLoad,\n          currentLoadUser: _current_cpu.currentLoadUser,\n          currentLoadSystem: _current_cpu.currentLoadSystem,\n          currentLoadNice: _current_cpu.currentLoadNice,\n          currentLoadIdle: _current_cpu.currentLoadIdle,\n          currentLoadIrq: _current_cpu.currentLoadIrq,\n          currentLoadSteal: _current_cpu.currentLoadSteal,\n          currentLoadGuest: _current_cpu.currentLoadGuest,\n          rawCurrentLoad: _current_cpu.rawCurrentLoad,\n          rawCurrentLoadUser: _current_cpu.rawCurrentLoadUser,\n          rawCurrentLoadSystem: _current_cpu.rawCurrentLoadSystem,\n          rawCurrentLoadNice: _current_cpu.rawCurrentLoadNice,\n          rawCurrentLoadIdle: _current_cpu.rawCurrentLoadIdle,\n          rawCurrentLoadIrq: _current_cpu.rawCurrentLoadIrq,\n          rawCurrentLoadSteal: _current_cpu.rawCurrentLoadSteal,\n          rawCurrentLoadGuest: _current_cpu.rawCurrentLoadGuest,\n          cpus: cores\n        };\n      }\n      resolve(result);\n    });\n  });\n}\n\nfunction currentLoad(callback) {\n\n  return new Promise((resolve) => {\n    process.nextTick(() => {\n      getLoad().then(result => {\n        if (callback) { callback(result); }\n        resolve(result);\n      });\n    });\n  });\n}\n\nexports.currentLoad = currentLoad;\n\n// --------------------------\n// PS - full load\n// since bootup\n\nfunction getFullLoad() {\n\n  return new Promise((resolve) => {\n    process.nextTick(() => {\n\n      const cpus = os.cpus();\n      let totalUser = 0;\n      let totalSystem = 0;\n      let totalNice = 0;\n      let totalIrq = 0;\n      let totalIdle = 0;\n\n      let result = 0;\n\n      if (cpus && cpus.length) {\n        for (let i = 0, len = cpus.length; i < len; i++) {\n          const cpu = cpus[i].times;\n          totalUser += cpu.user;\n          totalSystem += cpu.sys;\n          totalNice += cpu.nice;\n          totalIrq += cpu.irq;\n          totalIdle += cpu.idle;\n        }\n        let totalTicks = totalIdle + totalIrq + totalNice + totalSystem + totalUser;\n        result = (totalTicks - totalIdle) / totalTicks * 100.0;\n\n      }\n      resolve(result);\n    });\n  });\n}\n\nfunction fullLoad(callback) {\n\n  return new Promise((resolve) => {\n    process.nextTick(() => {\n      getFullLoad().then(result => {\n        if (callback) { callback(result); }\n        resolve(result);\n      });\n    });\n  });\n}\n\nexports.fullLoad = fullLoad;\n","'use strict';\n// @ts-check\n// ==================================================================================\n// docker.js\n// ----------------------------------------------------------------------------------\n// Description:   System Information - library\n//                for Node.js\n// Copyright:     (c) 2014 - 2023\n// Author:        Sebastian Hildebrandt\n// ----------------------------------------------------------------------------------\n// License:       MIT\n// ==================================================================================\n// 13. Docker\n// ----------------------------------------------------------------------------------\n\nconst util = require('./util');\nconst DockerSocket = require('./dockerSocket');\n\nlet _platform = process.platform;\nconst _windows = (_platform === 'win32');\n\nlet _docker_container_stats = {};\nlet _docker_socket;\nlet _docker_last_read = 0;\n\n\n// --------------------------\n// get containers (parameter all: get also inactive/exited containers)\n\nfunction dockerInfo(callback) {\n  return new Promise((resolve) => {\n    process.nextTick(() => {\n      if (!_docker_socket) {\n        _docker_socket = new DockerSocket();\n      }\n      const result = {};\n\n      _docker_socket.getInfo((data) => {\n        result.id = data.ID;\n        result.containers = data.Containers;\n        result.containersRunning = data.ContainersRunning;\n        result.containersPaused = data.ContainersPaused;\n        result.containersStopped = data.ContainersStopped;\n        result.images = data.Images;\n        result.driver = data.Driver;\n        result.memoryLimit = data.MemoryLimit;\n        result.swapLimit = data.SwapLimit;\n        result.kernelMemory = data.KernelMemory;\n        result.cpuCfsPeriod = data.CpuCfsPeriod;\n        result.cpuCfsQuota = data.CpuCfsQuota;\n        result.cpuShares = data.CPUShares;\n        result.cpuSet = data.CPUSet;\n        result.ipv4Forwarding = data.IPv4Forwarding;\n        result.bridgeNfIptables = data.BridgeNfIptables;\n        result.bridgeNfIp6tables = data.BridgeNfIp6tables;\n        result.debug = data.Debug;\n        result.nfd = data.NFd;\n        result.oomKillDisable = data.OomKillDisable;\n        result.ngoroutines = data.NGoroutines;\n        result.systemTime = data.SystemTime;\n        result.loggingDriver = data.LoggingDriver;\n        result.cgroupDriver = data.CgroupDriver;\n        result.nEventsListener = data.NEventsListener;\n        result.kernelVersion = data.KernelVersion;\n        result.operatingSystem = data.OperatingSystem;\n        result.osType = data.OSType;\n        result.architecture = data.Architecture;\n        result.ncpu = data.NCPU;\n        result.memTotal = data.MemTotal;\n        result.dockerRootDir = data.DockerRootDir;\n        result.httpProxy = data.HttpProxy;\n        result.httpsProxy = data.HttpsProxy;\n        result.noProxy = data.NoProxy;\n        result.name = data.Name;\n        result.labels = data.Labels;\n        result.experimentalBuild = data.ExperimentalBuild;\n        result.serverVersion = data.ServerVersion;\n        result.clusterStore = data.ClusterStore;\n        result.clusterAdvertise = data.ClusterAdvertise;\n        result.defaultRuntime = data.DefaultRuntime;\n        result.liveRestoreEnabled = data.LiveRestoreEnabled;\n        result.isolation = data.Isolation;\n        result.initBinary = data.InitBinary;\n        result.productLicense = data.ProductLicense;\n        if (callback) { callback(result); }\n        resolve(result);\n      });\n    });\n  });\n}\n\nexports.dockerInfo = dockerInfo;\n\nfunction dockerImages(all, callback) {\n\n  // fallback - if only callback is given\n  if (util.isFunction(all) && !callback) {\n    callback = all;\n    all = false;\n  }\n  if (typeof all === 'string' && all === 'true') {\n    all = true;\n  }\n  if (typeof all !== 'boolean' && all !== undefined) {\n    all = false;\n  }\n\n  all = all || false;\n  let result = [];\n  return new Promise((resolve) => {\n    process.nextTick(() => {\n      if (!_docker_socket) {\n        _docker_socket = new DockerSocket();\n      }\n      const workload = [];\n\n      _docker_socket.listImages(all, data => {\n        let dockerImages = {};\n        try {\n          dockerImages = data;\n          if (dockerImages && Object.prototype.toString.call(dockerImages) === '[object Array]' && dockerImages.length > 0) {\n\n            dockerImages.forEach(function (element) {\n\n              if (element.Names && Object.prototype.toString.call(element.Names) === '[object Array]' && element.Names.length > 0) {\n                element.Name = element.Names[0].replace(/^\\/|\\/$/g, '');\n              }\n              workload.push(dockerImagesInspect(element.Id.trim(), element));\n            });\n            if (workload.length) {\n              Promise.all(\n                workload\n              ).then((data) => {\n                if (callback) { callback(data); }\n                resolve(data);\n              });\n            } else {\n              if (callback) { callback(result); }\n              resolve(result);\n            }\n          } else {\n            if (callback) { callback(result); }\n            resolve(result);\n          }\n        } catch (err) {\n          if (callback) { callback(result); }\n          resolve(result);\n        }\n      });\n    });\n  });\n}\n\n// --------------------------\n// container inspect (for one container)\n\nfunction dockerImagesInspect(imageID, payload) {\n  return new Promise((resolve) => {\n    process.nextTick(() => {\n      imageID = imageID || '';\n      if (typeof imageID !== 'string') {\n        return resolve();\n      }\n      const imageIDSanitized = (util.isPrototypePolluted() ? '' : util.sanitizeShellString(imageID, true)).trim();\n      if (imageIDSanitized) {\n\n        if (!_docker_socket) {\n          _docker_socket = new DockerSocket();\n        }\n\n        _docker_socket.inspectImage(imageIDSanitized.trim(), data => {\n          try {\n            resolve({\n              id: payload.Id,\n              container: data.Container,\n              comment: data.Comment,\n              os: data.Os,\n              architecture: data.Architecture,\n              parent: data.Parent,\n              dockerVersion: data.DockerVersion,\n              size: data.Size,\n              sharedSize: payload.SharedSize,\n              virtualSize: data.VirtualSize,\n              author: data.Author,\n              created: data.Created ? Math.round(new Date(data.Created).getTime() / 1000) : 0,\n              containerConfig: data.ContainerConfig ? data.ContainerConfig : {},\n              graphDriver: data.GraphDriver ? data.GraphDriver : {},\n              repoDigests: data.RepoDigests ? data.RepoDigests : {},\n              repoTags: data.RepoTags ? data.RepoTags : {},\n              config: data.Config ? data.Config : {},\n              rootFS: data.RootFS ? data.RootFS : {},\n            });\n          } catch (err) {\n            resolve();\n          }\n        });\n      } else {\n        resolve();\n      }\n    });\n  });\n}\n\nexports.dockerImages = dockerImages;\n\nfunction dockerContainers(all, callback) {\n\n  function inContainers(containers, id) {\n    let filtered = containers.filter(obj => {\n      /**\n       * @namespace\n       * @property {string}  Id\n       */\n      return (obj.Id && (obj.Id === id));\n    });\n    return (filtered.length > 0);\n  }\n\n  // fallback - if only callback is given\n  if (util.isFunction(all) && !callback) {\n    callback = all;\n    all = false;\n  }\n  if (typeof all === 'string' && all === 'true') {\n    all = true;\n  }\n  if (typeof all !== 'boolean' && all !== undefined) {\n    all = false;\n  }\n\n  all = all || false;\n  let result = [];\n  return new Promise((resolve) => {\n    process.nextTick(() => {\n      if (!_docker_socket) {\n        _docker_socket = new DockerSocket();\n      }\n      const workload = [];\n\n      _docker_socket.listContainers(all, data => {\n        let docker_containers = {};\n        try {\n          docker_containers = data;\n          if (docker_containers && Object.prototype.toString.call(docker_containers) === '[object Array]' && docker_containers.length > 0) {\n            // GC in _docker_container_stats\n            for (let key in _docker_container_stats) {\n              if ({}.hasOwnProperty.call(_docker_container_stats, key)) {\n                if (!inContainers(docker_containers, key)) { delete _docker_container_stats[key]; }\n              }\n            }\n\n            docker_containers.forEach(function (element) {\n\n              if (element.Names && Object.prototype.toString.call(element.Names) === '[object Array]' && element.Names.length > 0) {\n                element.Name = element.Names[0].replace(/^\\/|\\/$/g, '');\n              }\n              workload.push(dockerContainerInspect(element.Id.trim(), element));\n            });\n            if (workload.length) {\n              Promise.all(\n                workload\n              ).then((data) => {\n                if (callback) { callback(data); }\n                resolve(data);\n              });\n            } else {\n              if (callback) { callback(result); }\n              resolve(result);\n            }\n          } else {\n            if (callback) { callback(result); }\n            resolve(result);\n          }\n        } catch (err) {\n          // GC in _docker_container_stats\n          for (let key in _docker_container_stats) {\n            if ({}.hasOwnProperty.call(_docker_container_stats, key)) {\n              if (!inContainers(docker_containers, key)) { delete _docker_container_stats[key]; }\n            }\n          }\n          if (callback) { callback(result); }\n          resolve(result);\n        }\n      });\n    });\n  });\n}\n\n// --------------------------\n// container inspect (for one container)\n\nfunction dockerContainerInspect(containerID, payload) {\n  return new Promise((resolve) => {\n    process.nextTick(() => {\n      containerID = containerID || '';\n      if (typeof containerID !== 'string') {\n        return resolve();\n      }\n      const containerIdSanitized = (util.isPrototypePolluted() ? '' : util.sanitizeShellString(containerID, true)).trim();\n      if (containerIdSanitized) {\n\n        if (!_docker_socket) {\n          _docker_socket = new DockerSocket();\n        }\n\n        _docker_socket.getInspect(containerIdSanitized.trim(), data => {\n          try {\n            resolve({\n              id: payload.Id,\n              name: payload.Name,\n              image: payload.Image,\n              imageID: payload.ImageID,\n              command: payload.Command,\n              created: payload.Created,\n              started: data.State && data.State.StartedAt ? Math.round(new Date(data.State.StartedAt).getTime() / 1000) : 0,\n              finished: data.State && data.State.FinishedAt && !data.State.FinishedAt.startsWith('0001-01-01') ? Math.round(new Date(data.State.FinishedAt).getTime() / 1000) : 0,\n              createdAt: data.Created ? data.Created : '',\n              startedAt: data.State && data.State.StartedAt ? data.State.StartedAt : '',\n              finishedAt: data.State && data.State.FinishedAt && !data.State.FinishedAt.startsWith('0001-01-01') ? data.State.FinishedAt : '',\n              state: payload.State,\n              restartCount: data.RestartCount || 0,\n              platform: data.Platform || '',\n              driver: data.Driver || '',\n              ports: payload.Ports,\n              mounts: payload.Mounts,\n              // hostconfig: payload.HostConfig,\n              // network: payload.NetworkSettings\n            });\n          } catch (err) {\n            resolve();\n          }\n        });\n      } else {\n        resolve();\n      }\n    });\n  });\n}\n\nexports.dockerContainers = dockerContainers;\n\n// --------------------------\n// helper functions for calculation of docker stats\n\nfunction docker_calcCPUPercent(cpu_stats, precpu_stats) {\n  /**\n   * @namespace\n   * @property {object}  cpu_usage\n   * @property {number}  cpu_usage.total_usage\n   * @property {number}  system_cpu_usage\n   * @property {object}  cpu_usage\n   * @property {Array}  cpu_usage.percpu_usage\n   */\n\n  if (!_windows) {\n    let cpuPercent = 0.0;\n    // calculate the change for the cpu usage of the container in between readings\n    let cpuDelta = cpu_stats.cpu_usage.total_usage - precpu_stats.cpu_usage.total_usage;\n    // calculate the change for the entire system between readings\n    let systemDelta = cpu_stats.system_cpu_usage - precpu_stats.system_cpu_usage;\n\n    if (systemDelta > 0.0 && cpuDelta > 0.0) {\n      // calculate the change for the cpu usage of the container in between readings\n      if (precpu_stats.online_cpus) {\n        cpuPercent = (cpuDelta / systemDelta) * precpu_stats.online_cpus * 100.0;\n      }\n      else {\n        cpuPercent = (cpuDelta / systemDelta) * cpu_stats.cpu_usage.percpu_usage.length * 100.0;\n      }\n    }\n\n    return cpuPercent;\n  } else {\n    let nanoSecNow = util.nanoSeconds();\n    let cpuPercent = 0.0;\n    if (_docker_last_read > 0) {\n      let possIntervals = (nanoSecNow - _docker_last_read); //  / 100 * os.cpus().length;\n      let intervalsUsed = cpu_stats.cpu_usage.total_usage - precpu_stats.cpu_usage.total_usage;\n      if (possIntervals > 0) {\n        cpuPercent = 100.0 * intervalsUsed / possIntervals;\n      }\n    }\n    _docker_last_read = nanoSecNow;\n    return cpuPercent;\n  }\n}\n\nfunction docker_calcNetworkIO(networks) {\n  let rx;\n  let wx;\n  for (let key in networks) {\n    // skip loop if the property is from prototype\n    if (!{}.hasOwnProperty.call(networks, key)) { continue; }\n\n    /**\n     * @namespace\n     * @property {number}  rx_bytes\n     * @property {number}  tx_bytes\n     */\n    let obj = networks[key];\n    rx = +obj.rx_bytes;\n    wx = +obj.tx_bytes;\n  }\n  return {\n    rx,\n    wx\n  };\n}\n\nfunction docker_calcBlockIO(blkio_stats) {\n  let result = {\n    r: 0,\n    w: 0\n  };\n\n  /**\n   * @namespace\n   * @property {Array}  io_service_bytes_recursive\n   */\n  if (blkio_stats && blkio_stats.io_service_bytes_recursive && Object.prototype.toString.call(blkio_stats.io_service_bytes_recursive) === '[object Array]' && blkio_stats.io_service_bytes_recursive.length > 0) {\n    blkio_stats.io_service_bytes_recursive.forEach(function (element) {\n      /**\n       * @namespace\n       * @property {string}  op\n       * @property {number}  value\n       */\n\n      if (element.op && element.op.toLowerCase() === 'read' && element.value) {\n        result.r += element.value;\n      }\n      if (element.op && element.op.toLowerCase() === 'write' && element.value) {\n        result.w += element.value;\n      }\n    });\n  }\n  return result;\n}\n\nfunction dockerContainerStats(containerIDs, callback) {\n\n  let containerArray = [];\n  return new Promise((resolve) => {\n    process.nextTick(() => {\n\n      // fallback - if only callback is given\n      if (util.isFunction(containerIDs) && !callback) {\n        callback = containerIDs;\n        containerArray = ['*'];\n      } else {\n        containerIDs = containerIDs || '*';\n        if (typeof containerIDs !== 'string') {\n          if (callback) { callback([]); }\n          return resolve([]);\n        }\n        let containerIDsSanitized = '';\n        containerIDsSanitized.__proto__.toLowerCase = util.stringToLower;\n        containerIDsSanitized.__proto__.replace = util.stringReplace;\n        containerIDsSanitized.__proto__.trim = util.stringTrim;\n\n        containerIDsSanitized = containerIDs;\n        containerIDsSanitized = containerIDsSanitized.trim();\n        if (containerIDsSanitized !== '*') {\n          containerIDsSanitized = '';\n          const s = (util.isPrototypePolluted() ? '' : util.sanitizeShellString(containerIDs, true)).trim();\n          const l = util.mathMin(s.length, 2000);\n          for (let i = 0; i <= l; i++) {\n            if (s[i] !== undefined) {\n              s[i].__proto__.toLowerCase = util.stringToLower;\n              const sl = s[i].toLowerCase();\n              if (sl && sl[0] && !sl[1]) {\n                containerIDsSanitized = containerIDsSanitized + sl[0];\n              }\n            }\n          }\n        }\n\n        containerIDsSanitized = containerIDsSanitized.trim().toLowerCase().replace(/,+/g, '|');\n        containerArray = containerIDsSanitized.split('|');\n      }\n\n      const result = [];\n\n      const workload = [];\n      if (containerArray.length && containerArray[0].trim() === '*') {\n        containerArray = [];\n        dockerContainers().then(allContainers => {\n          for (let container of allContainers) {\n            containerArray.push(container.id.substring(0, 12));\n          }\n          if (containerArray.length) {\n            dockerContainerStats(containerArray.join(',')).then(result => {\n              if (callback) { callback(result); }\n              resolve(result);\n            });\n          } else {\n            if (callback) { callback(result); }\n            resolve(result);\n          }\n        });\n      } else {\n        for (let containerID of containerArray) {\n          workload.push(dockerContainerStatsSingle(containerID.trim()));\n        }\n        if (workload.length) {\n          Promise.all(\n            workload\n          ).then((data) => {\n            if (callback) { callback(data); }\n            resolve(data);\n          });\n        } else {\n          if (callback) { callback(result); }\n          resolve(result);\n        }\n      }\n    });\n  });\n}\n\n// --------------------------\n// container stats (for one container)\n\nfunction dockerContainerStatsSingle(containerID) {\n  containerID = containerID || '';\n  let result = {\n    id: containerID,\n    memUsage: 0,\n    memLimit: 0,\n    memPercent: 0,\n    cpuPercent: 0,\n    pids: 0,\n    netIO: {\n      rx: 0,\n      wx: 0\n    },\n    blockIO: {\n      r: 0,\n      w: 0\n    },\n    restartCount: 0,\n    cpuStats: {},\n    precpuStats: {},\n    memoryStats: {},\n    networks: {},\n  };\n  return new Promise((resolve) => {\n    process.nextTick(() => {\n      if (containerID) {\n\n        if (!_docker_socket) {\n          _docker_socket = new DockerSocket();\n        }\n\n        _docker_socket.getInspect(containerID, dataInspect => {\n          try {\n            _docker_socket.getStats(containerID, data => {\n              try {\n                let stats = data;\n                if (!stats.message) {\n                  if (data.id) { result.id = data.id; }\n                  result.memUsage = (stats.memory_stats && stats.memory_stats.usage ? stats.memory_stats.usage : 0);\n                  result.memLimit = (stats.memory_stats && stats.memory_stats.limit ? stats.memory_stats.limit : 0);\n                  result.memPercent = (stats.memory_stats && stats.memory_stats.usage && stats.memory_stats.limit ? stats.memory_stats.usage / stats.memory_stats.limit * 100.0 : 0);\n                  result.cpuPercent = (stats.cpu_stats && stats.precpu_stats ? docker_calcCPUPercent(stats.cpu_stats, stats.precpu_stats) : 0);\n                  result.pids = (stats.pids_stats && stats.pids_stats.current ? stats.pids_stats.current : 0);\n                  result.restartCount = (dataInspect.RestartCount ? dataInspect.RestartCount : 0);\n                  if (stats.networks) { result.netIO = docker_calcNetworkIO(stats.networks); }\n                  if (stats.blkio_stats) { result.blockIO = docker_calcBlockIO(stats.blkio_stats); }\n                  result.cpuStats = (stats.cpu_stats ? stats.cpu_stats : {});\n                  result.precpuStats = (stats.precpu_stats ? stats.precpu_stats : {});\n                  result.memoryStats = (stats.memory_stats ? stats.memory_stats : {});\n                  result.networks = (stats.networks ? stats.networks : {});\n                }\n              } catch (err) {\n                util.noop();\n              }\n              // }\n              resolve(result);\n            });\n          } catch (err) {\n            util.noop();\n          }\n        });\n      } else {\n        resolve(result);\n      }\n    });\n  });\n}\n\nexports.dockerContainerStats = dockerContainerStats;\n\n// --------------------------\n// container processes (for one container)\n\nfunction dockerContainerProcesses(containerID, callback) {\n  let result = [];\n  return new Promise((resolve) => {\n    process.nextTick(() => {\n      containerID = containerID || '';\n      if (typeof containerID !== 'string') {\n        return resolve(result);\n      }\n      const containerIdSanitized = (util.isPrototypePolluted() ? '' : util.sanitizeShellString(containerID, true)).trim();\n\n      if (containerIdSanitized) {\n\n        if (!_docker_socket) {\n          _docker_socket = new DockerSocket();\n        }\n\n        _docker_socket.getProcesses(containerIdSanitized, data => {\n          /**\n           * @namespace\n           * @property {Array}  Titles\n           * @property {Array}  Processes\n           **/\n          try {\n            if (data && data.Titles && data.Processes) {\n              let titles = data.Titles.map(function (value) {\n                return value.toUpperCase();\n              });\n              let pos_pid = titles.indexOf('PID');\n              let pos_ppid = titles.indexOf('PPID');\n              let pos_pgid = titles.indexOf('PGID');\n              let pos_vsz = titles.indexOf('VSZ');\n              let pos_time = titles.indexOf('TIME');\n              let pos_elapsed = titles.indexOf('ELAPSED');\n              let pos_ni = titles.indexOf('NI');\n              let pos_ruser = titles.indexOf('RUSER');\n              let pos_user = titles.indexOf('USER');\n              let pos_rgroup = titles.indexOf('RGROUP');\n              let pos_group = titles.indexOf('GROUP');\n              let pos_stat = titles.indexOf('STAT');\n              let pos_rss = titles.indexOf('RSS');\n              let pos_command = titles.indexOf('COMMAND');\n\n              data.Processes.forEach(process => {\n                result.push({\n                  pidHost: (pos_pid >= 0 ? process[pos_pid] : ''),\n                  ppid: (pos_ppid >= 0 ? process[pos_ppid] : ''),\n                  pgid: (pos_pgid >= 0 ? process[pos_pgid] : ''),\n                  user: (pos_user >= 0 ? process[pos_user] : ''),\n                  ruser: (pos_ruser >= 0 ? process[pos_ruser] : ''),\n                  group: (pos_group >= 0 ? process[pos_group] : ''),\n                  rgroup: (pos_rgroup >= 0 ? process[pos_rgroup] : ''),\n                  stat: (pos_stat >= 0 ? process[pos_stat] : ''),\n                  time: (pos_time >= 0 ? process[pos_time] : ''),\n                  elapsed: (pos_elapsed >= 0 ? process[pos_elapsed] : ''),\n                  nice: (pos_ni >= 0 ? process[pos_ni] : ''),\n                  rss: (pos_rss >= 0 ? process[pos_rss] : ''),\n                  vsz: (pos_vsz >= 0 ? process[pos_vsz] : ''),\n                  command: (pos_command >= 0 ? process[pos_command] : '')\n                });\n              });\n            }\n          } catch (err) {\n            util.noop();\n          }\n          if (callback) { callback(result); }\n          resolve(result);\n        });\n      } else {\n        if (callback) { callback(result); }\n        resolve(result);\n      }\n    });\n  });\n}\n\nexports.dockerContainerProcesses = dockerContainerProcesses;\n\nfunction dockerVolumes(callback) {\n\n  let result = [];\n  return new Promise((resolve) => {\n    process.nextTick(() => {\n      if (!_docker_socket) {\n        _docker_socket = new DockerSocket();\n      }\n      _docker_socket.listVolumes((data) => {\n        let dockerVolumes = {};\n        try {\n          dockerVolumes = data;\n          if (dockerVolumes && dockerVolumes.Volumes && Object.prototype.toString.call(dockerVolumes.Volumes) === '[object Array]' && dockerVolumes.Volumes.length > 0) {\n\n            dockerVolumes.Volumes.forEach(function (element) {\n\n              result.push({\n                name: element.Name,\n                driver: element.Driver,\n                labels: element.Labels,\n                mountpoint: element.Mountpoint,\n                options: element.Options,\n                scope: element.Scope,\n                created: element.CreatedAt ? Math.round(new Date(element.CreatedAt).getTime() / 1000) : 0,\n              });\n            });\n            if (callback) { callback(result); }\n            resolve(result);\n          } else {\n            if (callback) { callback(result); }\n            resolve(result);\n          }\n        } catch (err) {\n          if (callback) { callback(result); }\n          resolve(result);\n        }\n      });\n    });\n  });\n}\n\nexports.dockerVolumes = dockerVolumes;\n\nfunction dockerAll(callback) {\n  return new Promise((resolve) => {\n    process.nextTick(() => {\n      dockerContainers(true).then(result => {\n        if (result && Object.prototype.toString.call(result) === '[object Array]' && result.length > 0) {\n          let l = result.length;\n          result.forEach(function (element) {\n            dockerContainerStats(element.id).then((res) => {\n              // include stats in array\n              element.memUsage = res[0].memUsage;\n              element.memLimit = res[0].memLimit;\n              element.memPercent = res[0].memPercent;\n              element.cpuPercent = res[0].cpuPercent;\n              element.pids = res[0].pids;\n              element.netIO = res[0].netIO;\n              element.blockIO = res[0].blockIO;\n              element.cpuStats = res[0].cpuStats;\n              element.precpuStats = res[0].precpuStats;\n              element.memoryStats = res[0].memoryStats;\n              element.networks = res[0].networks;\n\n              dockerContainerProcesses(element.id).then(processes => {\n                element.processes = processes;\n\n                l -= 1;\n                if (l === 0) {\n                  if (callback) { callback(result); }\n                  resolve(result);\n                }\n              });\n              // all done??\n            });\n          });\n        } else {\n          if (callback) { callback(result); }\n          resolve(result);\n        }\n      });\n    });\n  });\n}\n\nexports.dockerAll = dockerAll;\n","'use strict';\n// @ts-check\n// ==================================================================================\n// dockerSockets.js\n// ----------------------------------------------------------------------------------\n// Description:   System Information - library\n//                for Node.js\n// Copyright:     (c) 2014 - 2023\n// Author:        Sebastian Hildebrandt\n// ----------------------------------------------------------------------------------\n// License:       MIT\n// ==================================================================================\n// 13. DockerSockets\n// ----------------------------------------------------------------------------------\n\nconst net = require('net');\nconst isWin = require('os').type() === 'Windows_NT';\nconst socketPath = isWin ? '//./pipe/docker_engine' : '/var/run/docker.sock';\n\nclass DockerSocket {\n\n  getInfo(callback) {\n    try {\n\n      let socket = net.createConnection({ path: socketPath });\n      let alldata = '';\n      let data;\n\n      socket.on('connect', () => {\n        socket.write('GET http:/info HTTP/1.0\\r\\n\\r\\n');\n      });\n\n      socket.on('data', data => {\n        alldata = alldata + data.toString();\n      });\n\n      socket.on('error', () => {\n        socket = false;\n        callback({});\n      });\n\n      socket.on('end', () => {\n        let startbody = alldata.indexOf('\\r\\n\\r\\n');\n        alldata = alldata.substring(startbody + 4);\n        socket = false;\n        try {\n          data = JSON.parse(alldata);\n          callback(data);\n        } catch (err) {\n          callback({});\n        }\n      });\n    } catch (err) {\n      callback({});\n    }\n  }\n\n  listImages(all, callback) {\n    try {\n\n      let socket = net.createConnection({ path: socketPath });\n      let alldata = '';\n      let data;\n\n      socket.on('connect', () => {\n        socket.write('GET http:/images/json' + (all ? '?all=1' : '') + ' HTTP/1.0\\r\\n\\r\\n');\n      });\n\n      socket.on('data', data => {\n        alldata = alldata + data.toString();\n      });\n\n      socket.on('error', () => {\n        socket = false;\n        callback({});\n      });\n\n      socket.on('end', () => {\n        let startbody = alldata.indexOf('\\r\\n\\r\\n');\n        alldata = alldata.substring(startbody + 4);\n        socket = false;\n        try {\n          data = JSON.parse(alldata);\n          callback(data);\n        } catch (err) {\n          callback({});\n        }\n      });\n    } catch (err) {\n      callback({});\n    }\n  }\n\n  inspectImage(id, callback) {\n    id = id || '';\n    if (id) {\n      try {\n        let socket = net.createConnection({ path: socketPath });\n        let alldata = '';\n        let data;\n\n        socket.on('connect', () => {\n          socket.write('GET http:/images/' + id + '/json?stream=0 HTTP/1.0\\r\\n\\r\\n');\n        });\n\n        socket.on('data', data => {\n          alldata = alldata + data.toString();\n        });\n\n        socket.on('error', () => {\n          socket = false;\n          callback({});\n        });\n\n        socket.on('end', () => {\n          let startbody = alldata.indexOf('\\r\\n\\r\\n');\n          alldata = alldata.substring(startbody + 4);\n          socket = false;\n          try {\n            data = JSON.parse(alldata);\n            callback(data);\n          } catch (err) {\n            callback({});\n          }\n        });\n      } catch (err) {\n        callback({});\n      }\n    } else {\n      callback({});\n    }\n  }\n\n  listContainers(all, callback) {\n    try {\n\n      let socket = net.createConnection({ path: socketPath });\n      let alldata = '';\n      let data;\n\n      socket.on('connect', () => {\n        socket.write('GET http:/containers/json' + (all ? '?all=1' : '') + ' HTTP/1.0\\r\\n\\r\\n');\n      });\n\n      socket.on('data', data => {\n        alldata = alldata + data.toString();\n      });\n\n      socket.on('error', () => {\n        socket = false;\n        callback({});\n      });\n\n      socket.on('end', () => {\n        let startbody = alldata.indexOf('\\r\\n\\r\\n');\n        alldata = alldata.substring(startbody + 4);\n        socket = false;\n        try {\n          data = JSON.parse(alldata);\n          callback(data);\n        } catch (err) {\n          callback({});\n        }\n      });\n    } catch (err) {\n      callback({});\n    }\n  }\n\n  getStats(id, callback) {\n    id = id || '';\n    if (id) {\n      try {\n        let socket = net.createConnection({ path: socketPath });\n        let alldata = '';\n        let data;\n\n        socket.on('connect', () => {\n          socket.write('GET http:/containers/' + id + '/stats?stream=0 HTTP/1.0\\r\\n\\r\\n');\n        });\n\n        socket.on('data', data => {\n          alldata = alldata + data.toString();\n        });\n\n        socket.on('error', () => {\n          socket = false;\n          callback({});\n        });\n\n        socket.on('end', () => {\n          let startbody = alldata.indexOf('\\r\\n\\r\\n');\n          alldata = alldata.substring(startbody + 4);\n          socket = false;\n          try {\n            data = JSON.parse(alldata);\n            callback(data);\n          } catch (err) {\n            callback({});\n          }\n        });\n      } catch (err) {\n        callback({});\n      }\n    } else {\n      callback({});\n    }\n  }\n\n  getInspect(id, callback) {\n    id = id || '';\n    if (id) {\n      try {\n        let socket = net.createConnection({ path: socketPath });\n        let alldata = '';\n        let data;\n\n        socket.on('connect', () => {\n          socket.write('GET http:/containers/' + id + '/json?stream=0 HTTP/1.0\\r\\n\\r\\n');\n        });\n\n        socket.on('data', data => {\n          alldata = alldata + data.toString();\n        });\n\n        socket.on('error', () => {\n          socket = false;\n          callback({});\n        });\n\n        socket.on('end', () => {\n          let startbody = alldata.indexOf('\\r\\n\\r\\n');\n          alldata = alldata.substring(startbody + 4);\n          socket = false;\n          try {\n            data = JSON.parse(alldata);\n            callback(data);\n          } catch (err) {\n            callback({});\n          }\n        });\n      } catch (err) {\n        callback({});\n      }\n    } else {\n      callback({});\n    }\n  }\n\n  getProcesses(id, callback) {\n    id = id || '';\n    if (id) {\n      try {\n        let socket = net.createConnection({ path: socketPath });\n        let alldata = '';\n        let data;\n\n        socket.on('connect', () => {\n          socket.write('GET http:/containers/' + id + '/top?ps_args=-opid,ppid,pgid,vsz,time,etime,nice,ruser,user,rgroup,group,stat,rss,args HTTP/1.0\\r\\n\\r\\n');\n        });\n\n        socket.on('data', data => {\n          alldata = alldata + data.toString();\n        });\n\n        socket.on('error', () => {\n          socket = false;\n          callback({});\n        });\n\n        socket.on('end', () => {\n          let startbody = alldata.indexOf('\\r\\n\\r\\n');\n          alldata = alldata.substring(startbody + 4);\n          socket = false;\n          try {\n            data = JSON.parse(alldata);\n            callback(data);\n          } catch (err) {\n            callback({});\n          }\n        });\n      } catch (err) {\n        callback({});\n      }\n    } else {\n      callback({});\n    }\n  }\n\n  listVolumes(callback) {\n    try {\n\n      let socket = net.createConnection({ path: socketPath });\n      let alldata = '';\n      let data;\n\n      socket.on('connect', () => {\n        socket.write('GET http:/volumes HTTP/1.0\\r\\n\\r\\n');\n      });\n\n      socket.on('data', data => {\n        alldata = alldata + data.toString();\n      });\n\n      socket.on('error', () => {\n        socket = false;\n        callback({});\n      });\n\n      socket.on('end', () => {\n        let startbody = alldata.indexOf('\\r\\n\\r\\n');\n        alldata = alldata.substring(startbody + 4);\n        socket = false;\n        try {\n          data = JSON.parse(alldata);\n          callback(data);\n        } catch (err) {\n          callback({});\n        }\n      });\n    } catch (err) {\n      callback({});\n    }\n  }\n}\n\nmodule.exports = DockerSocket;\n","'use strict';\n// @ts-check\n// ==================================================================================\n// filesystem.js\n// ----------------------------------------------------------------------------------\n// Description:   System Information - library\n//                for Node.js\n// Copyright:     (c) 2014 - 2023\n// Author:        Sebastian Hildebrandt\n// ----------------------------------------------------------------------------------\n// License:       MIT\n// ==================================================================================\n// 8. File System\n// ----------------------------------------------------------------------------------\n\nconst util = require('./util');\nconst fs = require('fs');\n\nconst exec = require('child_process').exec;\nconst execSync = require('child_process').execSync;\nconst execPromiseSave = util.promisifySave(require('child_process').exec);\n\nlet _platform = process.platform;\n\nconst _linux = (_platform === 'linux' || _platform === 'android');\nconst _darwin = (_platform === 'darwin');\nconst _windows = (_platform === 'win32');\nconst _freebsd = (_platform === 'freebsd');\nconst _openbsd = (_platform === 'openbsd');\nconst _netbsd = (_platform === 'netbsd');\nconst _sunos = (_platform === 'sunos');\n\nlet _fs_speed = {};\nlet _disk_io = {};\n\n// --------------------------\n// FS - mounted file systems\n\nfunction fsSize(drive, callback) {\n\n  if (util.isFunction(drive)) {\n    callback = drive;\n    drive = '';\n  }\n\n  let macOsDisks = [];\n  let osMounts = [];\n\n  function getmacOsFsType(fs) {\n    if (!fs.startsWith('/')) { return 'NFS'; }\n    const parts = fs.split('/');\n    const fsShort = parts[parts.length - 1];\n    const macOsDisksSingle = macOsDisks.filter(item => item.indexOf(fsShort) >= 0);\n    if (macOsDisksSingle.length === 1 && macOsDisksSingle[0].indexOf('APFS') >= 0) { return 'APFS'; }\n    return 'HFS';\n  }\n\n  function isLinuxTmpFs(fs) {\n    const linuxTmpFileSystems = ['rootfs', 'unionfs', 'squashfs', 'cramfs', 'initrd', 'initramfs', 'devtmpfs', 'tmpfs', 'udev', 'devfs', 'specfs', 'type', 'appimaged'];\n    let result = false;\n    linuxTmpFileSystems.forEach(linuxFs => {\n      if (fs.toLowerCase().indexOf(linuxFs) >= 0) { result = true; }\n    });\n    return result;\n  }\n\n  function filterLines(stdout) {\n    let lines = stdout.toString().split('\\n');\n    lines.shift();\n    if (stdout.toString().toLowerCase().indexOf('filesystem')) {\n      let removeLines = 0;\n      for (let i = 0; i < lines.length; i++) {\n        if (lines[i] && lines[i].toLowerCase().startsWith('filesystem')) {\n          removeLines = i;\n        }\n      }\n      for (let i = 0; i < removeLines; i++) {\n        lines.shift();\n      }\n    }\n    return lines;\n  }\n\n  function parseDf(lines) {\n    let data = [];\n    lines.forEach(function (line) {\n      if (line !== '') {\n        line = line.replace(/ +/g, ' ').split(' ');\n        if (line && ((line[0].startsWith('/')) || (line[6] && line[6] === '/') || (line[0].indexOf('/') > 0) || (line[0].indexOf(':') === 1) || !_darwin && !isLinuxTmpFs(line[1]))) {\n          const fs = line[0];\n          const fsType = ((_linux || _freebsd || _openbsd || _netbsd) ? line[1] : getmacOsFsType(line[0]));\n          const size = parseInt(((_linux || _freebsd || _openbsd || _netbsd) ? line[2] : line[1])) * 1024;\n          const used = parseInt(((_linux || _freebsd || _openbsd || _netbsd) ? line[3] : line[2])) * 1024;\n          const available = parseInt(((_linux || _freebsd || _openbsd || _netbsd) ? line[4] : line[3])) * 1024;\n          const use = parseFloat((100.0 * (used / (used + available))).toFixed(2));\n          let rw = osMounts && Object.keys(osMounts).length > 0 ? osMounts[fs] || false : null;\n          line.splice(0, (_linux || _freebsd || _openbsd || _netbsd) ? 6 : 5);\n          const mount = line.join(' ');\n          if (!data.find(el => (el.fs === fs && el.type === fsType))) {\n            data.push({\n              fs,\n              type: fsType,\n              size,\n              used,\n              available,\n              use,\n              mount,\n              rw\n            });\n          }\n        }\n      }\n    });\n    return data;\n  }\n\n  return new Promise((resolve) => {\n    process.nextTick(() => {\n      let data = [];\n      if (_linux || _freebsd || _openbsd || _netbsd || _darwin) {\n        let cmd = '';\n        macOsDisks = [];\n        osMounts = {};\n        if (_darwin) {\n          cmd = 'df -kP';\n          try {\n            macOsDisks = execSync('diskutil list').toString().split('\\n').filter(line => {\n              return !line.startsWith('/') && line.indexOf(':') > 0;\n            });\n            execSync('mount').toString().split('\\n').filter(line => {\n              return line.startsWith('/');\n            }).forEach((line) => {\n              osMounts[line.split(' ')[0]] = line.toLowerCase().indexOf('read-only') === -1;\n            });\n          } catch (e) {\n            util.noop();\n          }\n        }\n        if (_linux) {\n          try {\n            cmd = 'export LC_ALL=C; df -lkPTx squashfs; unset LC_ALL';\n            execSync('cat /proc/mounts 2>/dev/null').toString().split('\\n').filter(line => {\n              return line.startsWith('/');\n            }).forEach((line) => {\n              osMounts[line.split(' ')[0]] = osMounts[line.split(' ')[0]] || false;\n              if (line.toLowerCase().indexOf('/snap/') === -1) {\n                osMounts[line.split(' ')[0]] = ((line.toLowerCase().indexOf('rw,') >= 0 || line.toLowerCase().indexOf(' rw ') >= 0));\n              }\n            });\n          } catch (e) {\n            util.noop();\n          }\n        }\n        if (_freebsd || _openbsd || _netbsd) {\n          try {\n            cmd = 'df -lkPT';\n            execSync('mount').toString().split('\\n').forEach((line) => {\n              osMounts[line.split(' ')[0]] = line.toLowerCase().indexOf('read-only') === -1;\n            });\n          } catch (e) {\n            util.noop();\n          }\n        }\n        exec(cmd, { maxBuffer: 1024 * 1024 }, function (error, stdout) {\n          let lines = filterLines(stdout);\n          data = parseDf(lines);\n          if (drive) {\n            data = data.filter(item => {\n              return item.fs.toLowerCase().indexOf(drive.toLowerCase()) >= 0 || item.mount.toLowerCase().indexOf(drive.toLowerCase()) >= 0;\n            });\n          }\n          if ((!error || data.length) && stdout.toString().trim() !== '') {\n            if (callback) {\n              callback(data);\n            }\n            resolve(data);\n          } else {\n            exec('df -kPT', { maxBuffer: 1024 * 1024 }, function (error, stdout) {\n              if (!error) {\n                let lines = filterLines(stdout);\n                data = parseDf(lines);\n              }\n              if (callback) {\n                callback(data);\n              }\n              resolve(data);\n            });\n          }\n        });\n      }\n      if (_sunos) {\n        if (callback) { callback(data); }\n        resolve(data);\n      }\n      if (_windows) {\n        try {\n          const cmd = `Get-WmiObject Win32_logicaldisk | select Access,Caption,FileSystem,FreeSpace,Size ${drive ? '| where -property Caption -eq ' + drive : ''} | fl`;\n          util.powerShell(cmd).then((stdout, error) => {\n            if (!error) {\n              let devices = stdout.toString().split(/\\n\\s*\\n/);\n              devices.forEach(function (device) {\n                let lines = device.split('\\r\\n');\n                const size = util.toInt(util.getValue(lines, 'size', ':'));\n                const free = util.toInt(util.getValue(lines, 'freespace', ':'));\n                const caption = util.getValue(lines, 'caption', ':');\n                const rwValue = util.getValue(lines, 'access', ':');\n                const rw = rwValue ? (util.toInt(rwValue) !== 1) : null;\n                if (size) {\n                  data.push({\n                    fs: caption,\n                    type: util.getValue(lines, 'filesystem', ':'),\n                    size,\n                    used: size - free,\n                    available: free,\n                    use: parseFloat(((100.0 * (size - free)) / size).toFixed(2)),\n                    mount: caption,\n                    rw\n                  });\n                }\n              });\n            }\n            if (callback) {\n              callback(data);\n            }\n            resolve(data);\n          });\n        } catch (e) {\n          if (callback) { callback(data); }\n          resolve(data);\n        }\n      }\n    });\n  });\n}\n\nexports.fsSize = fsSize;\n\n// --------------------------\n// FS - open files count\n\nfunction fsOpenFiles(callback) {\n\n  return new Promise((resolve) => {\n    process.nextTick(() => {\n      const result = {\n        max: null,\n        allocated: null,\n        available: null\n      };\n      if (_freebsd || _openbsd || _netbsd || _darwin) {\n        let cmd = 'sysctl -i kern.maxfiles kern.num_files kern.open_files';\n        exec(cmd, { maxBuffer: 1024 * 1024 }, function (error, stdout) {\n          if (!error) {\n            let lines = stdout.toString().split('\\n');\n            result.max = parseInt(util.getValue(lines, 'kern.maxfiles', ':'), 10);\n            result.allocated = parseInt(util.getValue(lines, 'kern.num_files', ':'), 10) || parseInt(util.getValue(lines, 'kern.open_files', ':'), 10);\n            result.available = result.max - result.allocated;\n          }\n          if (callback) {\n            callback(result);\n          }\n          resolve(result);\n        });\n      }\n      if (_linux) {\n        fs.readFile('/proc/sys/fs/file-nr', function (error, stdout) {\n          if (!error) {\n            let lines = stdout.toString().split('\\n');\n            if (lines[0]) {\n              const parts = lines[0].replace(/\\s+/g, ' ').split(' ');\n              if (parts.length === 3) {\n                result.allocated = parseInt(parts[0], 10);\n                result.available = parseInt(parts[1], 10);\n                result.max = parseInt(parts[2], 10);\n                if (!result.available) { result.available = result.max - result.allocated; }\n              }\n            }\n            if (callback) {\n              callback(result);\n            }\n            resolve(result);\n          } else {\n            fs.readFile('/proc/sys/fs/file-max', function (error, stdout) {\n              if (!error) {\n                let lines = stdout.toString().split('\\n');\n                if (lines[0]) {\n                  result.max = parseInt(lines[0], 10);\n                }\n              }\n              if (callback) {\n                callback(result);\n              }\n              resolve(result);\n            });\n          }\n        });\n      }\n      if (_sunos) {\n        if (callback) { callback(null); }\n        resolve(null);\n      }\n      if (_windows) {\n        if (callback) { callback(null); }\n        resolve(null);\n      }\n    });\n  });\n}\n\nexports.fsOpenFiles = fsOpenFiles;\n\n// --------------------------\n// disks\n\nfunction parseBytes(s) {\n  return parseInt(s.substr(s.indexOf(' (') + 2, s.indexOf(' Bytes)') - 10));\n}\n\nfunction parseDevices(lines) {\n  let devices = [];\n  let i = 0;\n  lines.forEach(line => {\n    if (line.length > 0) {\n      if (line[0] === '*') {\n        i++;\n      } else {\n        let parts = line.split(':');\n        if (parts.length > 1) {\n          if (!devices[i]) {\n            devices[i] = {\n              name: '',\n              identifier: '',\n              type: 'disk',\n              fsType: '',\n              mount: '',\n              size: 0,\n              physical: 'HDD',\n              uuid: '',\n              label: '',\n              model: '',\n              serial: '',\n              removable: false,\n              protocol: '',\n              group: '',\n              device: ''\n            };\n          }\n          parts[0] = parts[0].trim().toUpperCase().replace(/ +/g, '');\n          parts[1] = parts[1].trim();\n          if ('DEVICEIDENTIFIER' === parts[0]) { devices[i].identifier = parts[1]; }\n          if ('DEVICENODE' === parts[0]) { devices[i].name = parts[1]; }\n          if ('VOLUMENAME' === parts[0]) {\n            if (parts[1].indexOf('Not applicable') === -1) { devices[i].label = parts[1]; }\n          }\n          if ('PROTOCOL' === parts[0]) { devices[i].protocol = parts[1]; }\n          if ('DISKSIZE' === parts[0]) { devices[i].size = parseBytes(parts[1]); }\n          if ('FILESYSTEMPERSONALITY' === parts[0]) { devices[i].fsType = parts[1]; }\n          if ('MOUNTPOINT' === parts[0]) { devices[i].mount = parts[1]; }\n          if ('VOLUMEUUID' === parts[0]) { devices[i].uuid = parts[1]; }\n          if ('READ-ONLYMEDIA' === parts[0] && parts[1] === 'Yes') { devices[i].physical = 'CD/DVD'; }\n          if ('SOLIDSTATE' === parts[0] && parts[1] === 'Yes') { devices[i].physical = 'SSD'; }\n          if ('VIRTUAL' === parts[0]) { devices[i].type = 'virtual'; }\n          if ('REMOVABLEMEDIA' === parts[0]) { devices[i].removable = (parts[1] === 'Removable'); }\n          if ('PARTITIONTYPE' === parts[0]) { devices[i].type = 'part'; }\n          if ('DEVICE/MEDIANAME' === parts[0]) { devices[i].model = parts[1]; }\n        }\n      }\n    }\n  });\n  return devices;\n}\n\nfunction parseBlk(lines) {\n  let data = [];\n\n  lines.filter(line => line !== '').forEach((line) => {\n    try {\n      line = decodeURIComponent(line.replace(/\\\\x/g, '%'));\n      line = line.replace(/\\\\/g, '\\\\\\\\');\n      let disk = JSON.parse(line);\n      data.push({\n        'name': disk.name,\n        'type': disk.type,\n        'fsType': disk.fsType,\n        'mount': disk.mountpoint,\n        'size': parseInt(disk.size),\n        'physical': (disk.type === 'disk' ? (disk.rota === '0' ? 'SSD' : 'HDD') : (disk.type === 'rom' ? 'CD/DVD' : '')),\n        'uuid': disk.uuid,\n        'label': disk.label,\n        'model': (disk.model || '').trim(),\n        'serial': disk.serial,\n        'removable': disk.rm === '1',\n        'protocol': disk.tran,\n        'group': disk.group || '',\n      });\n    } catch (e) {\n      util.noop();\n    }\n  });\n  data = util.unique(data);\n  data = util.sortByKey(data, ['type', 'name']);\n  return data;\n}\n\nfunction decodeMdabmData(lines) {\n  const raid = util.getValue(lines, 'md_level', '=');\n  const label = util.getValue(lines, 'md_name', '='); // <- get label info\n  const uuid = util.getValue(lines, 'md_uuid', '='); // <- get uuid info\n  const members = [];\n  lines.forEach(line => {\n    if (line.toLowerCase().startsWith('md_device_dev') && line.toLowerCase().indexOf('/dev/') > 0) {\n      members.push(line.split('/dev/')[1]);\n    }\n  });\n  return {\n    raid,\n    label,\n    uuid,\n    members\n  };\n}\n\nfunction raidMatchLinux(data) {\n  // for all block devices of type \"raid%\"\n  let result = data;\n  try {\n    data.forEach(element => {\n      if (element.type.startsWith('raid')) {\n        const lines = execSync(`mdadm --export --detail /dev/${element.name}`).toString().split('\\n');\n        const mdData = decodeMdabmData(lines);\n\n        element.label = mdData.label; // <- assign label info\n        element.uuid = mdData.uuid; // <- assign uuid info\n\n        if (mdData.members && mdData.members.length && mdData.raid === element.type) {\n          result = result.map(blockdevice => {\n            if (blockdevice.fsType === 'linux_raid_member' && mdData.members.indexOf(blockdevice.name) >= 0) {\n              blockdevice.group = element.name;\n            }\n            return blockdevice;\n          });\n        }\n      }\n    });\n  } catch (e) {\n    util.noop();\n  }\n  return result;\n}\n\nfunction getDevicesLinux(data) {\n  const result = [];\n  data.forEach(element => {\n    if (element.type.startsWith('disk')) {\n      result.push(element.name);\n    }\n  });\n  return result;\n}\n\nfunction matchDevicesLinux(data) {\n  let result = data;\n  try {\n    const devices = getDevicesLinux(data);\n    result = result.map(blockdevice => {\n      if (blockdevice.type.startsWith('part') || blockdevice.type.startsWith('disk')) {\n        devices.forEach(element => {\n          if (blockdevice.name.startsWith(element)) {\n            blockdevice.device = '/dev/' + element;\n          }\n        });\n      }\n      return blockdevice;\n    });\n  } catch (e) {\n    util.noop();\n  }\n  return result;\n}\n\nfunction getDevicesMac(data) {\n  const result = [];\n  data.forEach(element => {\n    if (element.type.startsWith('disk')) {\n      result.push({ name: element.name, model: element.model, device: element.name });\n    }\n    if (element.type.startsWith('virtual')) {\n      let device = '';\n      result.forEach(e => {\n        if (e.model === element.model) {\n          device = e.device;\n        }\n      });\n      if (device) {\n        result.push({ name: element.name, model: element.model, device });\n      }\n    }\n  });\n  return result;\n}\n\nfunction matchDevicesMac(data) {\n  let result = data;\n  try {\n    const devices = getDevicesMac(data);\n    result = result.map(blockdevice => {\n      if (blockdevice.type.startsWith('part') || blockdevice.type.startsWith('disk') || blockdevice.type.startsWith('virtual')) {\n        devices.forEach(element => {\n          if (blockdevice.name.startsWith(element.name)) {\n            blockdevice.device = element.device;\n          }\n        });\n      }\n      return blockdevice;\n    });\n  } catch (e) {\n    util.noop();\n  }\n  return result;\n}\n\nfunction getDevicesWin(diskDrives) {\n  const result = [];\n  diskDrives.forEach(element => {\n    const lines = element.split('\\r\\n');\n    const device = util.getValue(lines, 'DeviceID', ':');\n    let partitions = element.split('@{DeviceID=');\n    if (partitions.length > 1) {\n      partitions = partitions.slice(1);\n      partitions.forEach(partition => {\n        result.push({ name: partition.split(';')[0].toUpperCase(), device });\n      });\n    }\n  });\n  return result;\n}\n\nfunction matchDevicesWin(data, diskDrives) {\n  const devices = getDevicesWin(diskDrives);\n  data.map(element => {\n    const filteresDevices = devices.filter((e) => { return e.name === element.name.toUpperCase(); });\n    if (filteresDevices.length > 0) {\n      element.device = filteresDevices[0].device;\n    }\n    return element;\n  });\n  return data;\n}\n\nfunction blkStdoutToObject(stdout) {\n  return stdout.toString()\n    .replace(/NAME=/g, '{\"name\":')\n    .replace(/FSTYPE=/g, ',\"fsType\":')\n    .replace(/TYPE=/g, ',\"type\":')\n    .replace(/SIZE=/g, ',\"size\":')\n    .replace(/MOUNTPOINT=/g, ',\"mountpoint\":')\n    .replace(/UUID=/g, ',\"uuid\":')\n    .replace(/ROTA=/g, ',\"rota\":')\n    .replace(/RO=/g, ',\"ro\":')\n    .replace(/RM=/g, ',\"rm\":')\n    .replace(/TRAN=/g, ',\"tran\":')\n    .replace(/SERIAL=/g, ',\"serial\":')\n    .replace(/LABEL=/g, ',\"label\":')\n    .replace(/MODEL=/g, ',\"model\":')\n    .replace(/OWNER=/g, ',\"owner\":')\n    .replace(/GROUP=/g, ',\"group\":')\n    .replace(/\\n/g, '}\\n');\n}\n\nfunction blockDevices(callback) {\n\n  return new Promise((resolve) => {\n    process.nextTick(() => {\n      let data = [];\n      if (_linux) {\n        // see https://wiki.ubuntuusers.de/lsblk/\n        // exec(\"lsblk -bo NAME,TYPE,SIZE,FSTYPE,MOUNTPOINT,UUID,ROTA,RO,TRAN,SERIAL,LABEL,MODEL,OWNER,GROUP,MODE,ALIGNMENT,MIN-IO,OPT-IO,PHY-SEC,LOG-SEC,SCHED,RQ-SIZE,RA,WSAME\", function (error, stdout) {\n        exec('lsblk -bPo NAME,TYPE,SIZE,FSTYPE,MOUNTPOINT,UUID,ROTA,RO,RM,TRAN,SERIAL,LABEL,MODEL,OWNER 2>/dev/null', { maxBuffer: 1024 * 1024 }, function (error, stdout) {\n          if (!error) {\n            let lines = blkStdoutToObject(stdout).split('\\n');\n            data = parseBlk(lines);\n            data = raidMatchLinux(data);\n            data = matchDevicesLinux(data);\n            if (callback) {\n              callback(data);\n            }\n            resolve(data);\n          } else {\n            exec('lsblk -bPo NAME,TYPE,SIZE,FSTYPE,MOUNTPOINT,UUID,ROTA,RO,RM,LABEL,MODEL,OWNER 2>/dev/null', { maxBuffer: 1024 * 1024 }, function (error, stdout) {\n              if (!error) {\n                let lines = blkStdoutToObject(stdout).split('\\n');\n                data = parseBlk(lines);\n                data = raidMatchLinux(data);\n              }\n              if (callback) {\n                callback(data);\n              }\n              resolve(data);\n            });\n          }\n        });\n      }\n      if (_darwin) {\n        exec('diskutil info -all', { maxBuffer: 1024 * 1024 }, function (error, stdout) {\n          if (!error) {\n            let lines = stdout.toString().split('\\n');\n            // parse lines into temp array of devices\n            data = parseDevices(lines);\n            data = matchDevicesMac(data);\n          }\n          if (callback) {\n            callback(data);\n          }\n          resolve(data);\n        });\n      }\n      if (_sunos) {\n        if (callback) { callback(data); }\n        resolve(data);\n      }\n      if (_windows) {\n        let drivetypes = ['Unknown', 'NoRoot', 'Removable', 'Local', 'Network', 'CD/DVD', 'RAM'];\n        try {\n          // util.wmic('logicaldisk get Caption,Description,DeviceID,DriveType,FileSystem,FreeSpace,Name,Size,VolumeName,VolumeSerialNumber /value').then((stdout, error) => {\n          // util.powerShell('Get-CimInstance Win32_logicaldisk | select Caption,DriveType,Name,FileSystem,Size,VolumeSerialNumber,VolumeName | fl').then((stdout, error) => {\n          const workload = [];\n          workload.push(util.powerShell('Get-CimInstance -ClassName Win32_LogicalDisk | select Caption,DriveType,Name,FileSystem,Size,VolumeSerialNumber,VolumeName | fl'));\n          workload.push(util.powerShell('Get-WmiObject -Class Win32_diskdrive | Select-Object -Property PNPDeviceId,DeviceID, Model, Size, @{L=\\'Partitions\\'; E={$_.GetRelated(\\'Win32_DiskPartition\\').GetRelated(\\'Win32_LogicalDisk\\') | Select-Object -Property DeviceID, VolumeName, Size, FreeSpace}} | fl'));\n          util.promiseAll(\n            workload\n          ).then((res) => {\n            let logicalDisks = res.results[0].toString().split(/\\n\\s*\\n/);\n            let diskDrives = res.results[1].toString().split(/\\n\\s*\\n/);\n            logicalDisks.forEach(function (device) {\n              let lines = device.split('\\r\\n');\n              let drivetype = util.getValue(lines, 'drivetype', ':');\n              if (drivetype) {\n                data.push({\n                  name: util.getValue(lines, 'name', ':'),\n                  identifier: util.getValue(lines, 'caption', ':'),\n                  type: 'disk',\n                  fsType: util.getValue(lines, 'filesystem', ':').toLowerCase(),\n                  mount: util.getValue(lines, 'caption', ':'),\n                  size: util.getValue(lines, 'size', ':'),\n                  physical: (drivetype >= 0 && drivetype <= 6) ? drivetypes[drivetype] : drivetypes[0],\n                  uuid: util.getValue(lines, 'volumeserialnumber', ':'),\n                  label: util.getValue(lines, 'volumename', ':'),\n                  model: '',\n                  serial: util.getValue(lines, 'volumeserialnumber', ':'),\n                  removable: drivetype === '2',\n                  protocol: '',\n                  group: '',\n                  device: ''\n                });\n              }\n            });\n            // match devices\n            data = matchDevicesWin(data, diskDrives);\n            if (callback) {\n              callback(data);\n            }\n            resolve(data);\n          });\n        } catch (e) {\n          if (callback) { callback(data); }\n          resolve(data);\n        }\n      }\n      if (_freebsd || _openbsd || _netbsd) {\n        // will follow\n        if (callback) { callback(null); }\n        resolve(null);\n      }\n\n    });\n  });\n}\n\nexports.blockDevices = blockDevices;\n\n// --------------------------\n// FS - speed\n\nfunction calcFsSpeed(rx, wx) {\n  let result = {\n    rx: 0,\n    wx: 0,\n    tx: 0,\n    rx_sec: null,\n    wx_sec: null,\n    tx_sec: null,\n    ms: 0\n  };\n\n  if (_fs_speed && _fs_speed.ms) {\n    result.rx = rx;\n    result.wx = wx;\n    result.tx = result.rx + result.wx;\n    result.ms = Date.now() - _fs_speed.ms;\n    result.rx_sec = (result.rx - _fs_speed.bytes_read) / (result.ms / 1000);\n    result.wx_sec = (result.wx - _fs_speed.bytes_write) / (result.ms / 1000);\n    result.tx_sec = result.rx_sec + result.wx_sec;\n    _fs_speed.rx_sec = result.rx_sec;\n    _fs_speed.wx_sec = result.wx_sec;\n    _fs_speed.tx_sec = result.tx_sec;\n    _fs_speed.bytes_read = result.rx;\n    _fs_speed.bytes_write = result.wx;\n    _fs_speed.bytes_overall = result.rx + result.wx;\n    _fs_speed.ms = Date.now();\n    _fs_speed.last_ms = result.ms;\n  } else {\n    result.rx = rx;\n    result.wx = wx;\n    result.tx = result.rx + result.wx;\n    _fs_speed.rx_sec = null;\n    _fs_speed.wx_sec = null;\n    _fs_speed.tx_sec = null;\n    _fs_speed.bytes_read = result.rx;\n    _fs_speed.bytes_write = result.wx;\n    _fs_speed.bytes_overall = result.rx + result.wx;\n    _fs_speed.ms = Date.now();\n    _fs_speed.last_ms = 0;\n  }\n  return result;\n}\n\nfunction fsStats(callback) {\n\n  return new Promise((resolve) => {\n    process.nextTick(() => {\n      if (_windows || _freebsd || _openbsd || _netbsd || _sunos) {\n        return resolve(null);\n      }\n\n      let result = {\n        rx: 0,\n        wx: 0,\n        tx: 0,\n        rx_sec: null,\n        wx_sec: null,\n        tx_sec: null,\n        ms: 0\n      };\n\n      let rx = 0;\n      let wx = 0;\n      if ((_fs_speed && !_fs_speed.ms) || (_fs_speed && _fs_speed.ms && Date.now() - _fs_speed.ms >= 500)) {\n        if (_linux) {\n          // exec(\"df -k | grep /dev/\", function(error, stdout) {\n          exec('lsblk -r 2>/dev/null | grep /', { maxBuffer: 1024 * 1024 }, function (error, stdout) {\n            if (!error) {\n              let lines = stdout.toString().split('\\n');\n              let fs_filter = [];\n              lines.forEach(function (line) {\n                if (line !== '') {\n                  line = line.trim().split(' ');\n                  if (fs_filter.indexOf(line[0]) === -1) { fs_filter.push(line[0]); }\n                }\n              });\n\n              let output = fs_filter.join('|');\n              exec('cat /proc/diskstats | egrep \"' + output + '\"', { maxBuffer: 1024 * 1024 }, function (error, stdout) {\n                if (!error) {\n                  let lines = stdout.toString().split('\\n');\n                  lines.forEach(function (line) {\n                    line = line.trim();\n                    if (line !== '') {\n                      line = line.replace(/ +/g, ' ').split(' ');\n\n                      rx += parseInt(line[5]) * 512;\n                      wx += parseInt(line[9]) * 512;\n                    }\n                  });\n                  result = calcFsSpeed(rx, wx);\n                }\n                if (callback) {\n                  callback(result);\n                }\n                resolve(result);\n              });\n            } else {\n              if (callback) {\n                callback(result);\n              }\n              resolve(result);\n            }\n          });\n        }\n        if (_darwin) {\n          exec('ioreg -c IOBlockStorageDriver -k Statistics -r -w0 | sed -n \"/IOBlockStorageDriver/,/Statistics/p\" | grep \"Statistics\" | tr -cd \"01234567890,\\n\"', { maxBuffer: 1024 * 1024 }, function (error, stdout) {\n            if (!error) {\n              let lines = stdout.toString().split('\\n');\n              lines.forEach(function (line) {\n                line = line.trim();\n                if (line !== '') {\n                  line = line.split(',');\n\n                  rx += parseInt(line[2]);\n                  wx += parseInt(line[9]);\n                }\n              });\n              result = calcFsSpeed(rx, wx);\n            }\n            if (callback) {\n              callback(result);\n            }\n            resolve(result);\n          });\n        }\n      } else {\n        result.ms = _fs_speed.last_ms;\n        result.rx = _fs_speed.bytes_read;\n        result.wx = _fs_speed.bytes_write;\n        result.tx = _fs_speed.bytes_read + _fs_speed.bytes_write;\n        result.rx_sec = _fs_speed.rx_sec;\n        result.wx_sec = _fs_speed.wx_sec;\n        result.tx_sec = _fs_speed.tx_sec;\n        if (callback) {\n          callback(result);\n        }\n        resolve(result);\n      }\n    });\n  });\n}\n\nexports.fsStats = fsStats;\n\nfunction calcDiskIO(rIO, wIO, rWaitTime, wWaitTime, tWaitTime) {\n  let result = {\n    rIO: 0,\n    wIO: 0,\n    tIO: 0,\n    rIO_sec: null,\n    wIO_sec: null,\n    tIO_sec: null,\n    rWaitTime: 0,\n    wWaitTime: 0,\n    tWaitTime: 0,\n    rWaitPercent: null,\n    wWaitPercent: null,\n    tWaitPercent: null,\n    ms: 0\n  };\n  if (_disk_io && _disk_io.ms) {\n    result.rIO = rIO;\n    result.wIO = wIO;\n    result.tIO = rIO + wIO;\n    result.ms = Date.now() - _disk_io.ms;\n    result.rIO_sec = (result.rIO - _disk_io.rIO) / (result.ms / 1000);\n    result.wIO_sec = (result.wIO - _disk_io.wIO) / (result.ms / 1000);\n    result.tIO_sec = result.rIO_sec + result.wIO_sec;\n    result.rWaitTime = rWaitTime;\n    result.wWaitTime = wWaitTime;\n    result.tWaitTime = tWaitTime;\n    result.rWaitPercent = (result.rWaitTime - _disk_io.rWaitTime) * 100 / (result.ms);\n    result.wWaitPercent = (result.wWaitTime - _disk_io.wWaitTime) * 100 / (result.ms);\n    result.tWaitPercent = (result.tWaitTime - _disk_io.tWaitTime) * 100 / (result.ms);\n    _disk_io.rIO = rIO;\n    _disk_io.wIO = wIO;\n    _disk_io.rIO_sec = result.rIO_sec;\n    _disk_io.wIO_sec = result.wIO_sec;\n    _disk_io.tIO_sec = result.tIO_sec;\n    _disk_io.rWaitTime = rWaitTime;\n    _disk_io.wWaitTime = wWaitTime;\n    _disk_io.tWaitTime = tWaitTime;\n    _disk_io.rWaitPercent = result.rWaitPercent;\n    _disk_io.wWaitPercent = result.wWaitPercent;\n    _disk_io.tWaitPercent = result.tWaitPercent;\n    _disk_io.last_ms = result.ms;\n    _disk_io.ms = Date.now();\n  } else {\n    result.rIO = rIO;\n    result.wIO = wIO;\n    result.tIO = rIO + wIO;\n    result.rWaitTime = rWaitTime;\n    result.wWaitTime = wWaitTime;\n    result.tWaitTime = tWaitTime;\n    _disk_io.rIO = rIO;\n    _disk_io.wIO = wIO;\n    _disk_io.rIO_sec = null;\n    _disk_io.wIO_sec = null;\n    _disk_io.tIO_sec = null;\n    _disk_io.rWaitTime = rWaitTime;\n    _disk_io.wWaitTime = wWaitTime;\n    _disk_io.tWaitTime = tWaitTime;\n    _disk_io.rWaitPercent = null;\n    _disk_io.wWaitPercent = null;\n    _disk_io.tWaitPercent = null;\n    _disk_io.last_ms = 0;\n    _disk_io.ms = Date.now();\n  }\n  return result;\n}\n\nfunction disksIO(callback) {\n\n  return new Promise((resolve) => {\n    process.nextTick(() => {\n      if (_windows) {\n        return resolve(null);\n      }\n      if (_sunos) {\n        return resolve(null);\n      }\n\n      let result = {\n        rIO: 0,\n        wIO: 0,\n        tIO: 0,\n        rIO_sec: null,\n        wIO_sec: null,\n        tIO_sec: null,\n        rWaitTime: 0,\n        wWaitTime: 0,\n        tWaitTime: 0,\n        rWaitPercent: null,\n        wWaitPercent: null,\n        tWaitPercent: null,\n        ms: 0\n      };\n      let rIO = 0;\n      let wIO = 0;\n      let rWaitTime = 0;\n      let wWaitTime = 0;\n      let tWaitTime = 0;\n\n      if ((_disk_io && !_disk_io.ms) || (_disk_io && _disk_io.ms && Date.now() - _disk_io.ms >= 500)) {\n        if (_linux || _freebsd || _openbsd || _netbsd) {\n          // prints Block layer statistics for all mounted volumes\n          // var cmd = \"for mount in `lsblk | grep / | sed -r 's/ //' | cut -d ' ' -f 1`; do cat /sys/block/$mount/stat | sed -r 's/ +/;/g' | sed -r 's/^;//'; done\";\n          // var cmd = \"for mount in `lsblk | grep / | sed 's/[]//g' | awk '{$1=$1};1' | cut -d ' ' -f 1 | sort -u`; do cat /sys/block/$mount/stat | sed -r 's/ +/;/g' | sed -r 's/^;//'; done\";\n          let cmd = 'for mount in `lsblk 2>/dev/null | grep \" disk \" | sed \"s/[]//g\" | awk \\'{$1=$1};1\\' | cut -d \" \" -f 1 | sort -u`; do cat /sys/block/$mount/stat | sed -r \"s/ +/;/g\" | sed -r \"s/^;//\"; done';\n\n          exec(cmd, { maxBuffer: 1024 * 1024 }, function (error, stdout) {\n            if (!error) {\n              let lines = stdout.split('\\n');\n              lines.forEach(function (line) {\n                // ignore empty lines\n                if (!line) { return; }\n\n                // sum r/wIO of all disks to compute all disks IO\n                let stats = line.split(';');\n                rIO += parseInt(stats[0]);\n                wIO += parseInt(stats[4]);\n                rWaitTime += parseInt(stats[3]);\n                wWaitTime += parseInt(stats[7]);\n                tWaitTime += parseInt(stats[10]);\n              });\n              result = calcDiskIO(rIO, wIO, rWaitTime, wWaitTime, tWaitTime);\n\n              if (callback) {\n                callback(result);\n              }\n              resolve(result);\n            } else {\n              if (callback) {\n                callback(result);\n              }\n              resolve(result);\n            }\n          });\n        }\n        if (_darwin) {\n          exec('ioreg -c IOBlockStorageDriver -k Statistics -r -w0 | sed -n \"/IOBlockStorageDriver/,/Statistics/p\" | grep \"Statistics\" | tr -cd \"01234567890,\\n\"', { maxBuffer: 1024 * 1024 }, function (error, stdout) {\n            if (!error) {\n              let lines = stdout.toString().split('\\n');\n              lines.forEach(function (line) {\n                line = line.trim();\n                if (line !== '') {\n                  line = line.split(',');\n\n                  rIO += parseInt(line[10]);\n                  wIO += parseInt(line[0]);\n                }\n              });\n              result = calcDiskIO(rIO, wIO, rWaitTime, wWaitTime, tWaitTime);\n            }\n            if (callback) {\n              callback(result);\n            }\n            resolve(result);\n          });\n        }\n      } else {\n        result.rIO = _disk_io.rIO;\n        result.wIO = _disk_io.wIO;\n        result.tIO = _disk_io.rIO + _disk_io.wIO;\n        result.ms = _disk_io.last_ms;\n        result.rIO_sec = _disk_io.rIO_sec;\n        result.wIO_sec = _disk_io.wIO_sec;\n        result.tIO_sec = _disk_io.tIO_sec;\n        result.rWaitTime = _disk_io.rWaitTime;\n        result.wWaitTime = _disk_io.wWaitTime;\n        result.tWaitTime = _disk_io.tWaitTime;\n        result.rWaitPercent = _disk_io.rWaitPercent;\n        result.wWaitPercent = _disk_io.wWaitPercent;\n        result.tWaitPercent = _disk_io.tWaitPercent;\n        if (callback) {\n          callback(result);\n        }\n        resolve(result);\n      }\n    });\n  });\n}\n\nexports.disksIO = disksIO;\n\nfunction diskLayout(callback) {\n\n  function getVendorFromModel(model) {\n    const diskManufacturers = [\n      { pattern: 'WESTERN.*', manufacturer: 'Western Digital' },\n      { pattern: '^WDC.*', manufacturer: 'Western Digital' },\n      { pattern: 'WD.*', manufacturer: 'Western Digital' },\n      { pattern: 'TOSHIBA.*', manufacturer: 'Toshiba' },\n      { pattern: 'HITACHI.*', manufacturer: 'Hitachi' },\n      { pattern: '^IC.*', manufacturer: 'Hitachi' },\n      { pattern: '^HTS.*', manufacturer: 'Hitachi' },\n      { pattern: 'SANDISK.*', manufacturer: 'SanDisk' },\n      { pattern: 'KINGSTON.*', manufacturer: 'Kingston Technology' },\n      { pattern: '^SONY.*', manufacturer: 'Sony' },\n      { pattern: 'TRANSCEND.*', manufacturer: 'Transcend' },\n      { pattern: 'SAMSUNG.*', manufacturer: 'Samsung' },\n      { pattern: '^ST(?!I\\\\ ).*', manufacturer: 'Seagate' },\n      { pattern: '^STI\\\\ .*', manufacturer: 'SimpleTech' },\n      { pattern: '^D...-.*', manufacturer: 'IBM' },\n      { pattern: '^IBM.*', manufacturer: 'IBM' },\n      { pattern: '^FUJITSU.*', manufacturer: 'Fujitsu' },\n      { pattern: '^MP.*', manufacturer: 'Fujitsu' },\n      { pattern: '^MK.*', manufacturer: 'Toshiba' },\n      { pattern: 'MAXTO.*', manufacturer: 'Maxtor' },\n      { pattern: 'PIONEER.*', manufacturer: 'Pioneer' },\n      { pattern: 'PHILIPS.*', manufacturer: 'Philips' },\n      { pattern: 'QUANTUM.*', manufacturer: 'Quantum Technology' },\n      { pattern: 'FIREBALL.*', manufacturer: 'Quantum Technology' },\n      { pattern: '^VBOX.*', manufacturer: 'VirtualBox' },\n      { pattern: 'CORSAIR.*', manufacturer: 'Corsair Components' },\n      { pattern: 'CRUCIAL.*', manufacturer: 'Crucial' },\n      { pattern: 'ECM.*', manufacturer: 'ECM' },\n      { pattern: 'INTEL.*', manufacturer: 'INTEL' },\n      { pattern: 'EVO.*', manufacturer: 'Samsung' },\n      { pattern: 'APPLE.*', manufacturer: 'Apple' },\n    ];\n\n    let result = '';\n    if (model) {\n      model = model.toUpperCase();\n      diskManufacturers.forEach((manufacturer) => {\n        const re = RegExp(manufacturer.pattern);\n        if (re.test(model)) { result = manufacturer.manufacturer; }\n      });\n    }\n    return result;\n  }\n\n  return new Promise((resolve) => {\n    process.nextTick(() => {\n\n      const commitResult = res => {\n        for (let i = 0; i < res.length; i++) {\n          delete res[i].BSDName;\n        }\n        if (callback) {\n          callback(res);\n        }\n        resolve(res);\n      };\n\n      let result = [];\n      let cmd = '';\n\n      if (_linux) {\n        let cmdFullSmart = '';\n\n        exec('export LC_ALL=C; lsblk -ablJO 2>/dev/null; unset LC_ALL', { maxBuffer: 1024 * 1024 }, function (error, stdout) {\n          if (!error) {\n            try {\n              const out = stdout.toString().trim();\n              let devices = [];\n              try {\n                const outJSON = JSON.parse(out);\n                if (outJSON && {}.hasOwnProperty.call(outJSON, 'blockdevices')) {\n                  devices = outJSON.blockdevices.filter(item => { return (item.type === 'disk') && item.size > 0 && (item.model !== null || (item.mountpoint === null && item.label === null && item.fstype === null && item.parttype === null && item.path && item.path.indexOf('/ram') !== 0 && item.path.indexOf('/loop') !== 0 && item['disc-max'] && item['disc-max'] !== 0)); });\n                }\n              } catch (e) {\n                // fallback to older version of lsblk\n                try {\n                  const out2 = execSync('export LC_ALL=C; lsblk -bPo NAME,TYPE,SIZE,FSTYPE,MOUNTPOINT,UUID,ROTA,RO,RM,LABEL,MODEL,OWNER,GROUP 2>/dev/null; unset LC_ALL').toString();\n                  let lines = blkStdoutToObject(out2).split('\\n');\n                  const data = parseBlk(lines);\n                  devices = data.filter(item => { return (item.type === 'disk') && item.size > 0 && ((item.model !== null && item.model !== '') || (item.mount === '' && item.label === '' && item.fsType === '')); });\n                } catch (e) {\n                  util.noop();\n                }\n              }\n              devices.forEach((device) => {\n                let mediumType = '';\n                const BSDName = '/dev/' + device.name;\n                const logical = device.name;\n                try {\n                  mediumType = execSync('cat /sys/block/' + logical + '/queue/rotational 2>/dev/null').toString().split('\\n')[0];\n                } catch (e) {\n                  util.noop();\n                }\n                let interfaceType = device.tran ? device.tran.toUpperCase().trim() : '';\n                if (interfaceType === 'NVME') {\n                  mediumType = '2';\n                  interfaceType = 'PCIe';\n                }\n                result.push({\n                  device: BSDName,\n                  type: (mediumType === '0' ? 'SSD' : (mediumType === '1' ? 'HD' : (mediumType === '2' ? 'NVMe' : (device.model && device.model.indexOf('SSD') > -1 ? 'SSD' : (device.model && device.model.indexOf('NVM') > -1 ? 'NVMe' : 'HD'))))),\n                  name: device.model || '',\n                  vendor: getVendorFromModel(device.model) || (device.vendor ? device.vendor.trim() : ''),\n                  size: device.size || 0,\n                  bytesPerSector: null,\n                  totalCylinders: null,\n                  totalHeads: null,\n                  totalSectors: null,\n                  totalTracks: null,\n                  tracksPerCylinder: null,\n                  sectorsPerTrack: null,\n                  firmwareRevision: device.rev ? device.rev.trim() : '',\n                  serialNum: device.serial ? device.serial.trim() : '',\n                  interfaceType: interfaceType,\n                  smartStatus: 'unknown',\n                  temperature: null,\n                  BSDName: BSDName\n                });\n                cmd += `printf \"\\n${BSDName}|\"; smartctl -H ${BSDName} | grep overall;`;\n                cmdFullSmart += `${cmdFullSmart ? 'printf \",\";' : ''}smartctl -a -j ${BSDName};`;\n              });\n            } catch (e) {\n              util.noop();\n            }\n          }\n          // check S.M.A.R.T. status\n          if (cmdFullSmart) {\n            exec(cmdFullSmart, { maxBuffer: 1024 * 1024 }, function (error, stdout) {\n              try {\n                const data = JSON.parse(`[${stdout}]`);\n                data.forEach(disk => {\n                  const diskBSDName = disk.smartctl.argv[disk.smartctl.argv.length - 1];\n\n                  for (let i = 0; i < result.length; i++) {\n                    if (result[i].BSDName === diskBSDName) {\n                      result[i].smartStatus = (disk.smart_status.passed ? 'Ok' : (disk.smart_status.passed === false ? 'Predicted Failure' : 'unknown'));\n                      if (disk.temperature && disk.temperature.current) {\n                        result[i].temperature = disk.temperature.current;\n                      }\n                      result[i].smartData = disk;\n                    }\n                  }\n                });\n                commitResult(result);\n              } catch (e) {\n                if (cmd) {\n                  cmd = cmd + 'printf \"\\n\"';\n                  exec(cmd, { maxBuffer: 1024 * 1024 }, function (error, stdout) {\n                    let lines = stdout.toString().split('\\n');\n                    lines.forEach(line => {\n                      if (line) {\n                        let parts = line.split('|');\n                        if (parts.length === 2) {\n                          let BSDName = parts[0];\n                          parts[1] = parts[1].trim();\n                          let parts2 = parts[1].split(':');\n                          if (parts2.length === 2) {\n                            parts2[1] = parts2[1].trim();\n                            let status = parts2[1].toLowerCase();\n                            for (let i = 0; i < result.length; i++) {\n                              if (result[i].BSDName === BSDName) {\n                                result[i].smartStatus = (status === 'passed' ? 'Ok' : (status === 'failed!' ? 'Predicted Failure' : 'unknown'));\n                              }\n                            }\n                          }\n                        }\n                      }\n                    });\n                    commitResult(result);\n                  });\n                } else {\n                  commitResult(result);\n                }\n              }\n            });\n          } else {\n            commitResult(result);\n          }\n        });\n      }\n      if (_freebsd || _openbsd || _netbsd) {\n        if (callback) { callback(result); }\n        resolve(result);\n      }\n      if (_sunos) {\n        if (callback) { callback(result); }\n        resolve(result);\n      }\n      if (_darwin) {\n        exec('system_profiler SPSerialATADataType SPNVMeDataType SPUSBDataType', { maxBuffer: 1024 * 1024 }, function (error, stdout) {\n          if (!error) {\n            // split by type:\n            let lines = stdout.toString().split('\\n');\n            let linesSATA = [];\n            let linesNVMe = [];\n            let linesUSB = [];\n            let dataType = 'SATA';\n            lines.forEach(line => {\n              if (line === 'NVMExpress:') { dataType = 'NVMe'; }\n              else if (line === 'USB:') { dataType = 'USB'; }\n              else if (line === 'SATA/SATA Express:') { dataType = 'SATA'; }\n              else if (dataType === 'SATA') { linesSATA.push(line); }\n              else if (dataType === 'NVMe') { linesNVMe.push(line); }\n              else if (dataType === 'USB') { linesUSB.push(line); }\n            });\n            try {\n              // Serial ATA Drives\n              let devices = linesSATA.join('\\n').split(' Physical Interconnect: ');\n              devices.shift();\n              devices.forEach(function (device) {\n                device = 'InterfaceType: ' + device;\n                let lines = device.split('\\n');\n                const mediumType = util.getValue(lines, 'Medium Type', ':', true).trim();\n                const sizeStr = util.getValue(lines, 'capacity', ':', true).trim();\n                const BSDName = util.getValue(lines, 'BSD Name', ':', true).trim();\n                if (sizeStr) {\n                  let sizeValue = 0;\n                  if (sizeStr.indexOf('(') >= 0) {\n                    sizeValue = parseInt(sizeStr.match(/\\(([^)]+)\\)/)[1].replace(/\\./g, '').replace(/,/g, '').replace(/\\s/g, ''));\n                  }\n                  if (!sizeValue) {\n                    sizeValue = parseInt(sizeStr);\n                  }\n                  if (sizeValue) {\n                    const smartStatusString = util.getValue(lines, 'S.M.A.R.T. status', ':', true).trim().toLowerCase();\n                    result.push({\n                      device: BSDName,\n                      type: mediumType.startsWith('Solid') ? 'SSD' : 'HD',\n                      name: util.getValue(lines, 'Model', ':', true).trim(),\n                      vendor: getVendorFromModel(util.getValue(lines, 'Model', ':', true).trim()) || util.getValue(lines, 'Manufacturer', ':', true),\n                      size: sizeValue,\n                      bytesPerSector: null,\n                      totalCylinders: null,\n                      totalHeads: null,\n                      totalSectors: null,\n                      totalTracks: null,\n                      tracksPerCylinder: null,\n                      sectorsPerTrack: null,\n                      firmwareRevision: util.getValue(lines, 'Revision', ':', true).trim(),\n                      serialNum: util.getValue(lines, 'Serial Number', ':', true).trim(),\n                      interfaceType: util.getValue(lines, 'InterfaceType', ':', true).trim(),\n                      smartStatus: smartStatusString === 'verified' ? 'OK' : smartStatusString || 'unknown',\n                      temperature: null,\n                      BSDName: BSDName\n                    });\n                    cmd = cmd + 'printf \"\\n' + BSDName + '|\"; diskutil info /dev/' + BSDName + ' | grep SMART;';\n                  }\n                }\n              });\n            } catch (e) {\n              util.noop();\n            }\n\n            // NVME Drives\n            try {\n              let devices = linesNVMe.join('\\n').split('\\n\\n          Capacity:');\n              devices.shift();\n              devices.forEach(function (device) {\n                device = '!Capacity: ' + device;\n                let lines = device.split('\\n');\n                const linkWidth = util.getValue(lines, 'link width', ':', true).trim();\n                const sizeStr = util.getValue(lines, '!capacity', ':', true).trim();\n                const BSDName = util.getValue(lines, 'BSD Name', ':', true).trim();\n                if (sizeStr) {\n                  let sizeValue = 0;\n                  if (sizeStr.indexOf('(') >= 0) {\n                    sizeValue = parseInt(sizeStr.match(/\\(([^)]+)\\)/)[1].replace(/\\./g, '').replace(/,/g, '').replace(/\\s/g, ''));\n                  }\n                  if (!sizeValue) {\n                    sizeValue = parseInt(sizeStr);\n                  }\n                  if (sizeValue) {\n                    const smartStatusString = util.getValue(lines, 'S.M.A.R.T. status', ':', true).trim().toLowerCase();\n                    result.push({\n                      device: BSDName,\n                      type: 'NVMe',\n                      name: util.getValue(lines, 'Model', ':', true).trim(),\n                      vendor: getVendorFromModel(util.getValue(lines, 'Model', ':', true).trim()),\n                      size: sizeValue,\n                      bytesPerSector: null,\n                      totalCylinders: null,\n                      totalHeads: null,\n                      totalSectors: null,\n                      totalTracks: null,\n                      tracksPerCylinder: null,\n                      sectorsPerTrack: null,\n                      firmwareRevision: util.getValue(lines, 'Revision', ':', true).trim(),\n                      serialNum: util.getValue(lines, 'Serial Number', ':', true).trim(),\n                      interfaceType: ('PCIe ' + linkWidth).trim(),\n                      smartStatus: smartStatusString === 'verified' ? 'OK' : smartStatusString || 'unknown',\n                      temperature: null,\n                      BSDName: BSDName\n                    });\n                    cmd = cmd + 'printf \"\\n' + BSDName + '|\"; diskutil info /dev/' + BSDName + ' | grep SMART;';\n                  }\n                }\n              });\n            } catch (e) {\n              util.noop();\n            }\n            // USB Drives\n            try {\n              let devices = linesUSB.join('\\n').replaceAll('Media:\\n ', 'Model:').split('\\n\\n          Product ID:');\n              devices.shift();\n              devices.forEach(function (device) {\n                let lines = device.split('\\n');\n                const sizeStr = util.getValue(lines, 'Capacity', ':', true).trim();\n                const BSDName = util.getValue(lines, 'BSD Name', ':', true).trim();\n                if (sizeStr) {\n                  let sizeValue = 0;\n                  if (sizeStr.indexOf('(') >= 0) {\n                    sizeValue = parseInt(sizeStr.match(/\\(([^)]+)\\)/)[1].replace(/\\./g, '').replace(/,/g, '').replace(/\\s/g, ''));\n                  }\n                  if (!sizeValue) {\n                    sizeValue = parseInt(sizeStr);\n                  }\n                  if (sizeValue) {\n                    const smartStatusString = util.getValue(lines, 'S.M.A.R.T. status', ':', true).trim().toLowerCase();\n                    result.push({\n                      device: BSDName,\n                      type: 'USB',\n                      name: util.getValue(lines, 'Model', ':', true).trim().replaceAll(':', ''),\n                      vendor: getVendorFromModel(util.getValue(lines, 'Model', ':', true).trim()),\n                      size: sizeValue,\n                      bytesPerSector: null,\n                      totalCylinders: null,\n                      totalHeads: null,\n                      totalSectors: null,\n                      totalTracks: null,\n                      tracksPerCylinder: null,\n                      sectorsPerTrack: null,\n                      firmwareRevision: util.getValue(lines, 'Revision', ':', true).trim(),\n                      serialNum: util.getValue(lines, 'Serial Number', ':', true).trim(),\n                      interfaceType: 'USB',\n                      smartStatus: smartStatusString === 'verified' ? 'OK' : smartStatusString || 'unknown',\n                      temperature: null,\n                      BSDName: BSDName\n                    });\n                    cmd = cmd + 'printf \"\\n' + BSDName + '|\"; diskutil info /dev/' + BSDName + ' | grep SMART;';\n                  }\n                }\n              });\n            } catch (e) {\n              util.noop();\n            }\n            if (cmd) {\n              cmd = cmd + 'printf \"\\n\"';\n              exec(cmd, { maxBuffer: 1024 * 1024 }, function (error, stdout) {\n                let lines = stdout.toString().split('\\n');\n                lines.forEach(line => {\n                  if (line) {\n                    let parts = line.split('|');\n                    if (parts.length === 2) {\n                      let BSDName = parts[0];\n                      parts[1] = parts[1].trim();\n                      let parts2 = parts[1].split(':');\n                      if (parts2.length === 2) {\n                        parts2[1] = parts2[1].trim();\n                        let status = parts2[1].toLowerCase();\n                        for (let i = 0; i < result.length; i++) {\n                          if (result[i].BSDName === BSDName) {\n                            result[i].smartStatus = (status === 'not supported' ? 'not supported' : (status === 'verified' ? 'Ok' : (status === 'failing' ? 'Predicted Failure' : 'unknown')));\n                          }\n                        }\n                      }\n                    }\n                  }\n                });\n                for (let i = 0; i < result.length; i++) {\n                  delete result[i].BSDName;\n                }\n                if (callback) {\n                  callback(result);\n                }\n                resolve(result);\n              });\n            } else {\n              for (let i = 0; i < result.length; i++) {\n                delete result[i].BSDName;\n              }\n              if (callback) {\n                callback(result);\n              }\n              resolve(result);\n            }\n          }\n        });\n      }\n      if (_windows) {\n        try {\n          const workload = [];\n          workload.push(util.powerShell('Get-CimInstance Win32_DiskDrive | select Caption,Size,Status,PNPDeviceId,DeviceId,BytesPerSector,TotalCylinders,TotalHeads,TotalSectors,TotalTracks,TracksPerCylinder,SectorsPerTrack,FirmwareRevision,SerialNumber,InterfaceType | fl'));\n          workload.push(util.powerShell('Get-PhysicalDisk | select BusType,MediaType,FriendlyName,Model,SerialNumber,Size | fl'));\n          if (util.smartMonToolsInstalled()) {\n            try {\n              const smartDev = JSON.parse(execSync('smartctl --scan -j').toString());\n              if (smartDev && smartDev.devices && smartDev.devices.length > 0) {\n                smartDev.devices.forEach((dev) => {\n                  workload.push(execPromiseSave(`smartctl -j -a ${dev.name}`, util.execOptsWin));\n                });\n              }\n            } catch (e) {\n              util.noop();\n            }\n          }\n          util.promiseAll(\n            workload\n          ).then((data) => {\n            let devices = data.results[0].toString().split(/\\n\\s*\\n/);\n            devices.forEach(function (device) {\n              let lines = device.split('\\r\\n');\n              const size = util.getValue(lines, 'Size', ':').trim();\n              const status = util.getValue(lines, 'Status', ':').trim().toLowerCase();\n              if (size) {\n                result.push({\n                  device: util.getValue(lines, 'DeviceId', ':'),  // changed from PNPDeviceId to DeviceID (be be able to match devices)\n                  type: device.indexOf('SSD') > -1 ? 'SSD' : 'HD',  // just a starting point ... better: MSFT_PhysicalDisk - Media Type ... see below\n                  name: util.getValue(lines, 'Caption', ':'),\n                  vendor: getVendorFromModel(util.getValue(lines, 'Caption', ':', true).trim()),\n                  size: parseInt(size),\n                  bytesPerSector: parseInt(util.getValue(lines, 'BytesPerSector', ':')),\n                  totalCylinders: parseInt(util.getValue(lines, 'TotalCylinders', ':')),\n                  totalHeads: parseInt(util.getValue(lines, 'TotalHeads', ':')),\n                  totalSectors: parseInt(util.getValue(lines, 'TotalSectors', ':')),\n                  totalTracks: parseInt(util.getValue(lines, 'TotalTracks', ':')),\n                  tracksPerCylinder: parseInt(util.getValue(lines, 'TracksPerCylinder', ':')),\n                  sectorsPerTrack: parseInt(util.getValue(lines, 'SectorsPerTrack', ':')),\n                  firmwareRevision: util.getValue(lines, 'FirmwareRevision', ':').trim(),\n                  serialNum: util.getValue(lines, 'SerialNumber', ':').trim(),\n                  interfaceType: util.getValue(lines, 'InterfaceType', ':').trim(),\n                  smartStatus: (status === 'ok' ? 'Ok' : (status === 'degraded' ? 'Degraded' : (status === 'pred fail' ? 'Predicted Failure' : 'Unknown'))),\n                  temperature: null,\n                });\n              }\n            });\n            devices = data.results[1].split(/\\n\\s*\\n/);\n            devices.forEach(function (device) {\n              let lines = device.split('\\r\\n');\n              const serialNum = util.getValue(lines, 'SerialNumber', ':').trim();\n              const name = util.getValue(lines, 'FriendlyName', ':').trim().replace('Msft ', 'Microsoft');\n              const size = util.getValue(lines, 'Size', ':').trim();\n              const model = util.getValue(lines, 'Model', ':').trim();\n              const interfaceType = util.getValue(lines, 'BusType', ':').trim();\n              let mediaType = util.getValue(lines, 'MediaType', ':').trim();\n              if (mediaType === '3' || mediaType === 'HDD') { mediaType = 'HD'; }\n              if (mediaType === '4') { mediaType = 'SSD'; }\n              if (mediaType === '5') { mediaType = 'SCM'; }\n              if (mediaType === 'Unspecified' && (model.toLowerCase().indexOf('virtual') > -1 || model.toLowerCase().indexOf('vbox') > -1)) { mediaType = 'Virtual'; }\n              if (size) {\n                let i = util.findObjectByKey(result, 'serialNum', serialNum);\n                if (i === -1 || serialNum === '') {\n                  i = util.findObjectByKey(result, 'name', name);\n                }\n                if (i != -1) {\n                  result[i].type = mediaType;\n                  result[i].interfaceType = interfaceType;\n                }\n              }\n            });\n            // S.M.A.R.T\n            data.results.shift();\n            data.results.shift();\n            if (data.results.length) {\n              data.results.forEach((smartStr) => {\n                try {\n                  const smartData = JSON.parse(smartStr);\n                  if (smartData.serial_number) {\n                    const serialNum = smartData.serial_number;\n                    let i = util.findObjectByKey(result, 'serialNum', serialNum);\n                    if (i != -1) {\n                      result[i].smartStatus = (smartData.smart_status && smartData.smart_status.passed ? 'Ok' : (smartData.smart_status && smartData.smart_status.passed === false ? 'Predicted Failure' : 'unknown'));\n                      if (smartData.temperature && smartData.temperature.current) {\n                        result[i].temperature = smartData.temperature.current;\n                      }\n                      result[i].smartData = smartData;\n                    }\n                  }\n                } catch (e) {\n                  util.noop();\n                }\n              });\n            }\n            if (callback) {\n              callback(result);\n            }\n            resolve(result);\n          });\n        } catch (e) {\n          if (callback) { callback(result); }\n          resolve(result);\n        }\n      }\n    });\n  });\n}\n\nexports.diskLayout = diskLayout;\n","'use strict';\n// @ts-check\n// ==================================================================================\n// graphics.js\n// ----------------------------------------------------------------------------------\n// Description:   System Information - library\n//                for Node.js\n// Copyright:     (c) 2014 - 2023\n// Author:        Sebastian Hildebrandt\n// ----------------------------------------------------------------------------------\n// License:       MIT\n// ==================================================================================\n// 7. Graphics (controller, display)\n// ----------------------------------------------------------------------------------\n\nconst fs = require('fs');\nconst exec = require('child_process').exec;\nconst execSync = require('child_process').execSync;\nconst util = require('./util');\n\nlet _platform = process.platform;\nlet _nvidiaSmiPath = '';\n\nconst _linux = (_platform === 'linux' || _platform === 'android');\nconst _darwin = (_platform === 'darwin');\nconst _windows = (_platform === 'win32');\nconst _freebsd = (_platform === 'freebsd');\nconst _openbsd = (_platform === 'openbsd');\nconst _netbsd = (_platform === 'netbsd');\nconst _sunos = (_platform === 'sunos');\n\nlet _resolutionX = 0;\nlet _resolutionY = 0;\nlet _pixelDepth = 0;\nlet _refreshRate = 0;\n\nconst videoTypes = {\n  '-2': 'UNINITIALIZED',\n  '-1': 'OTHER',\n  '0': 'HD15',\n  '1': 'SVIDEO',\n  '2': 'Composite video',\n  '3': 'Component video',\n  '4': 'DVI',\n  '5': 'HDMI',\n  '6': 'LVDS',\n  '8': 'D_JPN',\n  '9': 'SDI',\n  '10': 'DP',\n  '11': 'DP embedded',\n  '12': 'UDI',\n  '13': 'UDI embedded',\n  '14': 'SDTVDONGLE',\n  '15': 'MIRACAST',\n  '2147483648': 'INTERNAL'\n};\n\nfunction getVendorFromModel(model) {\n  const manufacturers = [\n    { pattern: '^LG.+', manufacturer: 'LG' },\n    { pattern: '^BENQ.+', manufacturer: 'BenQ' },\n    { pattern: '^ASUS.+', manufacturer: 'Asus' },\n    { pattern: '^DELL.+', manufacturer: 'Dell' },\n    { pattern: '^SAMSUNG.+', manufacturer: 'Samsung' },\n    { pattern: '^VIEWSON.+', manufacturer: 'ViewSonic' },\n    { pattern: '^SONY.+', manufacturer: 'Sony' },\n    { pattern: '^ACER.+', manufacturer: 'Acer' },\n    { pattern: '^AOC.+', manufacturer: 'AOC Monitors' },\n    { pattern: '^HP.+', manufacturer: 'HP' },\n    { pattern: '^EIZO.?', manufacturer: 'Eizo' },\n    { pattern: '^PHILIPS.?', manufacturer: 'Philips' },\n    { pattern: '^IIYAMA.?', manufacturer: 'Iiyama' },\n    { pattern: '^SHARP.?', manufacturer: 'Sharp' },\n    { pattern: '^NEC.?', manufacturer: 'NEC' },\n    { pattern: '^LENOVO.?', manufacturer: 'Lenovo' },\n    { pattern: 'COMPAQ.?', manufacturer: 'Compaq' },\n    { pattern: 'APPLE.?', manufacturer: 'Apple' },\n    { pattern: 'INTEL.?', manufacturer: 'Intel' },\n    { pattern: 'AMD.?', manufacturer: 'AMD' },\n    { pattern: 'NVIDIA.?', manufacturer: 'NVDIA' },\n  ];\n\n  let result = '';\n  if (model) {\n    model = model.toUpperCase();\n    manufacturers.forEach((manufacturer) => {\n      const re = RegExp(manufacturer.pattern);\n      if (re.test(model)) { result = manufacturer.manufacturer; }\n    });\n  }\n  return result;\n}\n\nfunction getVendorFromId(id) {\n  const vendors = {\n    '610': 'Apple',\n    '1e6d': 'LG',\n    '10ac': 'DELL',\n    '4dd9': 'Sony',\n    '38a3': 'NEC',\n  };\n  return vendors[id] || '';\n}\n\nfunction vendorToId(str) {\n  let result = '';\n  str = (str || '').toLowerCase();\n  if (str.indexOf('apple') >= 0) { result = '0x05ac'; }\n  else if (str.indexOf('nvidia') >= 0) { result = '0x10de'; }\n  else if (str.indexOf('intel') >= 0) { result = '0x8086'; }\n  else if (str.indexOf('ati') >= 0 || str.indexOf('amd') >= 0) { result = '0x1002'; }\n\n  return result;\n}\n\nfunction getMetalVersion(id) {\n  const families = {\n    'spdisplays_mtlgpufamilymac1': 'mac1',\n    'spdisplays_mtlgpufamilymac2': 'mac2',\n    'spdisplays_mtlgpufamilyapple1': 'apple1',\n    'spdisplays_mtlgpufamilyapple2': 'apple2',\n    'spdisplays_mtlgpufamilyapple3': 'apple3',\n    'spdisplays_mtlgpufamilyapple4': 'apple4',\n    'spdisplays_mtlgpufamilyapple5': 'apple5',\n    'spdisplays_mtlgpufamilyapple6': 'apple6',\n    'spdisplays_mtlgpufamilyapple7': 'apple7',\n    'spdisplays_metalfeaturesetfamily11': 'family1_v1',\n    'spdisplays_metalfeaturesetfamily12': 'family1_v2',\n    'spdisplays_metalfeaturesetfamily13': 'family1_v3',\n    'spdisplays_metalfeaturesetfamily14': 'family1_v4',\n    'spdisplays_metalfeaturesetfamily21': 'family2_v1'\n  };\n  return families[id] || '';\n}\n\nfunction graphics(callback) {\n\n  function parseLinesDarwin(graphicsArr) {\n    const res = {\n      controllers: [],\n      displays: []\n    };\n    try {\n      graphicsArr.forEach(function (item) {\n        // controllers\n        const bus = ((item.sppci_bus || '').indexOf('builtin') > -1 ? 'Built-In' : ((item.sppci_bus || '').indexOf('pcie') > -1 ? 'PCIe' : ''));\n        const vram = (parseInt((item.spdisplays_vram || ''), 10) || 0) * (((item.spdisplays_vram || '').indexOf('GB') > -1) ? 1024 : 1);\n        const vramDyn = (parseInt((item.spdisplays_vram_shared || ''), 10) || 0) * (((item.spdisplays_vram_shared || '').indexOf('GB') > -1) ? 1024 : 1);\n        let metalVersion = getMetalVersion(item.spdisplays_metal || item.spdisplays_metalfamily || '');\n        res.controllers.push({\n          vendor: getVendorFromModel(item.spdisplays_vendor || '') || item.spdisplays_vendor || '',\n          model: item.sppci_model || '',\n          bus,\n          vramDynamic: bus === 'Built-In',\n          vram: vram || vramDyn || null,\n          deviceId: item['spdisplays_device-id'] || '',\n          vendorId: item['spdisplays_vendor-id'] || vendorToId((item['spdisplays_vendor'] || '') + (item.sppci_model || '')),\n          external: (item.sppci_device_type === 'spdisplays_egpu'),\n          cores: item['sppci_cores'] || null,\n          metalVersion\n        });\n\n        // displays\n        if (item.spdisplays_ndrvs && item.spdisplays_ndrvs.length) {\n          item.spdisplays_ndrvs.forEach(function (displayItem) {\n            const connectionType = displayItem['spdisplays_connection_type'] || '';\n            const currentResolutionParts = (displayItem['_spdisplays_resolution'] || '').split('@');\n            const currentResolution = currentResolutionParts[0].split('x');\n            const pixelParts = (displayItem['_spdisplays_pixels'] || '').split('x');\n            const pixelDepthString = displayItem['spdisplays_depth'] || '';\n            const serial = displayItem['_spdisplays_display-serial-number'] || displayItem['_spdisplays_display-serial-number2'] || null;\n            res.displays.push({\n              vendor: getVendorFromId(displayItem['_spdisplays_display-vendor-id'] || '') || getVendorFromModel(displayItem['_name'] || ''),\n              vendorId: displayItem['_spdisplays_display-vendor-id'] || '',\n              model: displayItem['_name'] || '',\n              productionYear: displayItem['_spdisplays_display-year'] || null,\n              serial: serial !== '0' ? serial : null,\n              displayId: displayItem['_spdisplays_displayID'] || null,\n              main: displayItem['spdisplays_main'] ? displayItem['spdisplays_main'] === 'spdisplays_yes' : false,\n              builtin: (displayItem['spdisplays_display_type'] || '').indexOf('built-in') > -1,\n              connection: ((connectionType.indexOf('_internal') > -1) ? 'Internal' : ((connectionType.indexOf('_displayport') > -1) ? 'Display Port' : ((connectionType.indexOf('_hdmi') > -1) ? 'HDMI' : null))),\n              sizeX: null,\n              sizeY: null,\n              pixelDepth: (pixelDepthString === 'CGSThirtyBitColor' ? 30 : (pixelDepthString === 'CGSThirtytwoBitColor' ? 32 : (pixelDepthString === 'CGSTwentyfourBitColor' ? 24 : null))),\n              resolutionX: pixelParts.length > 1 ? parseInt(pixelParts[0], 10) : null,\n              resolutionY: pixelParts.length > 1 ? parseInt(pixelParts[1], 10) : null,\n              currentResX: currentResolution.length > 1 ? parseInt(currentResolution[0], 10) : null,\n              currentResY: currentResolution.length > 1 ? parseInt(currentResolution[1], 10) : null,\n              positionX: 0,\n              positionY: 0,\n              currentRefreshRate: currentResolutionParts.length > 1 ? parseInt(currentResolutionParts[1], 10) : null,\n\n            });\n          });\n        }\n      });\n      return res;\n    } catch (e) {\n      return res;\n    }\n  }\n\n  function parseLinesLinuxControllers(lines) {\n    let controllers = [];\n    let currentController = {\n      vendor: '',\n      subVendor: '',\n      model: '',\n      bus: '',\n      busAddress: '',\n      vram: null,\n      vramDynamic: false,\n      pciID: ''\n    };\n    let isGraphicsController = false;\n    // PCI bus IDs\n    let pciIDs = [];\n    try {\n      pciIDs = execSync('export LC_ALL=C; dmidecode -t 9 2>/dev/null; unset LC_ALL | grep \"Bus Address: \"').toString().split('\\n');\n      for (let i = 0; i < pciIDs.length; i++) {\n        pciIDs[i] = pciIDs[i].replace('Bus Address:', '').replace('0000:', '').trim();\n      }\n      pciIDs = pciIDs.filter(function (el) {\n        return el != null && el;\n      });\n    } catch (e) {\n      util.noop();\n    }\n    let i = 1;\n    lines.forEach((line) => {\n      let subsystem = '';\n      if (i < lines.length && lines[i]) {   // get next line;\n        subsystem = lines[i];\n        if (subsystem.indexOf(':') > 0) {\n          subsystem = subsystem.split(':')[1];\n        }\n      }\n      if ('' !== line.trim()) {\n        if (' ' !== line[0] && '\\t' !== line[0]) {        // first line of new entry\n          let isExternal = (pciIDs.indexOf(line.split(' ')[0]) >= 0);\n          let vgapos = line.toLowerCase().indexOf(' vga ');\n          let _3dcontrollerpos = line.toLowerCase().indexOf('3d controller');\n          if (vgapos !== -1 || _3dcontrollerpos !== -1) {         // VGA\n            if (_3dcontrollerpos !== -1 && vgapos === -1) {\n              vgapos = _3dcontrollerpos;\n            }\n            if (currentController.vendor || currentController.model || currentController.bus || currentController.vram !== null || currentController.vramDynamic) { // already a controller found\n              controllers.push(currentController);\n              currentController = {\n                vendor: '',\n                model: '',\n                bus: '',\n                busAddress: '',\n                vram: null,\n                vramDynamic: false,\n              };\n            }\n\n            const pciIDCandidate = line.split(' ')[0];\n            if (/[\\da-fA-F]{2}:[\\da-fA-F]{2}\\.[\\da-fA-F]/.test(pciIDCandidate)) {\n              currentController.busAddress = pciIDCandidate;\n            }\n            isGraphicsController = true;\n            let endpos = line.search(/\\[[0-9a-f]{4}:[0-9a-f]{4}]|$/);\n            let parts = line.substr(vgapos, endpos - vgapos).split(':');\n            currentController.busAddress = line.substr(0, vgapos).trim();\n            if (parts.length > 1) {\n              parts[1] = parts[1].trim();\n              if (parts[1].toLowerCase().indexOf('corporation') >= 0) {\n                currentController.vendor = parts[1].substr(0, parts[1].toLowerCase().indexOf('corporation') + 11).trim();\n                currentController.model = parts[1].substr(parts[1].toLowerCase().indexOf('corporation') + 11, 200).split('(')[0].trim();\n                currentController.bus = (pciIDs.length > 0 && isExternal) ? 'PCIe' : 'Onboard';\n                currentController.vram = null;\n                currentController.vramDynamic = false;\n              } else if (parts[1].toLowerCase().indexOf(' inc.') >= 0) {\n                if ((parts[1].match(/]/g) || []).length > 1) {\n                  currentController.vendor = parts[1].substr(0, parts[1].toLowerCase().indexOf(']') + 1).trim();\n                  currentController.model = parts[1].substr(parts[1].toLowerCase().indexOf(']') + 1, 200).trim().split('(')[0].trim();\n                } else {\n                  currentController.vendor = parts[1].substr(0, parts[1].toLowerCase().indexOf(' inc.') + 5).trim();\n                  currentController.model = parts[1].substr(parts[1].toLowerCase().indexOf(' inc.') + 5, 200).trim().split('(')[0].trim();\n                }\n                currentController.bus = (pciIDs.length > 0 && isExternal) ? 'PCIe' : 'Onboard';\n                currentController.vram = null;\n                currentController.vramDynamic = false;\n              } else if (parts[1].toLowerCase().indexOf(' ltd.') >= 0) {\n                if ((parts[1].match(/]/g) || []).length > 1) {\n                  currentController.vendor = parts[1].substr(0, parts[1].toLowerCase().indexOf(']') + 1).trim();\n                  currentController.model = parts[1].substr(parts[1].toLowerCase().indexOf(']') + 1, 200).trim().split('(')[0].trim();\n                } else {\n                  currentController.vendor = parts[1].substr(0, parts[1].toLowerCase().indexOf(' ltd.') + 5).trim();\n                  currentController.model = parts[1].substr(parts[1].toLowerCase().indexOf(' ltd.') + 5, 200).trim().split('(')[0].trim();\n                }\n              }\n              if (currentController.model && subsystem.indexOf(currentController.model) !== -1) {\n                const subVendor = subsystem.split(currentController.model)[0].trim();\n                if (subVendor) {\n                  currentController.subVendor = subVendor;\n                }\n              }\n            }\n\n          } else {\n            isGraphicsController = false;\n          }\n        }\n        if (isGraphicsController) { // within VGA details\n          let parts = line.split(':');\n          if (parts.length > 1 && parts[0].replace(/ +/g, '').toLowerCase().indexOf('devicename') !== -1 && parts[1].toLowerCase().indexOf('onboard') !== -1) { currentController.bus = 'Onboard'; }\n          if (parts.length > 1 && parts[0].replace(/ +/g, '').toLowerCase().indexOf('region') !== -1 && parts[1].toLowerCase().indexOf('memory') !== -1) {\n            let memparts = parts[1].split('=');\n            if (memparts.length > 1) {\n              currentController.vram = parseInt(memparts[1]);\n            }\n          }\n        }\n      }\n      i++;\n    });\n\n    if (currentController.vendor || currentController.model || currentController.bus || currentController.busAddress || currentController.vram !== null || currentController.vramDynamic) { // already a controller found\n      controllers.push(currentController);\n    }\n    return (controllers);\n  }\n\n  function parseLinesLinuxClinfo(controllers, lines) {\n    const fieldPattern = /\\[([^\\]]+)\\]\\s+(\\w+)\\s+(.*)/;\n    const devices = lines.reduce((devices, line) => {\n      const field = fieldPattern.exec(line.trim());\n      if (field) {\n        if (!devices[field[1]]) {\n          devices[field[1]] = {};\n        }\n        devices[field[1]][field[2]] = field[3];\n      }\n      return devices;\n    }, {});\n    for (let deviceId in devices) {\n      const device = devices[deviceId];\n      if (device['CL_DEVICE_TYPE'] === 'CL_DEVICE_TYPE_GPU') {\n        let busAddress;\n        if (device['CL_DEVICE_TOPOLOGY_AMD']) {\n          const bdf = device['CL_DEVICE_TOPOLOGY_AMD'].match(/[a-zA-Z0-9]+:\\d+\\.\\d+/);\n          if (bdf) {\n            busAddress = bdf[0];\n          }\n        } else if (device['CL_DEVICE_PCI_BUS_ID_NV'] && device['CL_DEVICE_PCI_SLOT_ID_NV']) {\n          const bus = parseInt(device['CL_DEVICE_PCI_BUS_ID_NV']);\n          const slot = parseInt(device['CL_DEVICE_PCI_SLOT_ID_NV']);\n          if (!isNaN(bus) && !isNaN(slot)) {\n            const b = bus & 0xff;\n            const d = (slot >> 3) & 0xff;\n            const f = slot & 0x07;\n            busAddress = `${b.toString().padStart(2, '0')}:${d.toString().padStart(2, '0')}.${f}`;\n          }\n        }\n        if (busAddress) {\n          let controller = controllers.find(controller => controller.busAddress === busAddress);\n          if (!controller) {\n            controller = {\n              vendor: '',\n              model: '',\n              bus: '',\n              busAddress,\n              vram: null,\n              vramDynamic: false\n            };\n            controllers.push(controller);\n          }\n          controller.vendor = device['CL_DEVICE_VENDOR'];\n          if (device['CL_DEVICE_BOARD_NAME_AMD']) {\n            controller.model = device['CL_DEVICE_BOARD_NAME_AMD'];\n          } else {\n            controller.model = device['CL_DEVICE_NAME'];\n          }\n          const memory = parseInt(device['CL_DEVICE_GLOBAL_MEM_SIZE']);\n          if (!isNaN(memory)) {\n            controller.vram = Math.round(memory / 1024 / 1024);\n          }\n        }\n      }\n    }\n    return controllers;\n  }\n\n  function getNvidiaSmi() {\n    if (_nvidiaSmiPath) {\n      return _nvidiaSmiPath;\n    }\n\n    if (_windows) {\n      try {\n        const basePath = util.WINDIR + '\\\\System32\\\\DriverStore\\\\FileRepository';\n        // find all directories that have an nvidia-smi.exe file\n        const candidateDirs = fs.readdirSync(basePath).filter(dir => {\n          return fs.readdirSync([basePath, dir].join('/')).includes('nvidia-smi.exe');\n        });\n        // use the directory with the most recently created nvidia-smi.exe file\n        const targetDir = candidateDirs.reduce((prevDir, currentDir) => {\n          const previousNvidiaSmi = fs.statSync([basePath, prevDir, 'nvidia-smi.exe'].join('/'));\n          const currentNvidiaSmi = fs.statSync([basePath, currentDir, 'nvidia-smi.exe'].join('/'));\n          return (previousNvidiaSmi.ctimeMs > currentNvidiaSmi.ctimeMs) ? prevDir : currentDir;\n        });\n\n        if (targetDir) {\n          _nvidiaSmiPath = [basePath, targetDir, 'nvidia-smi.exe'].join('/');\n        }\n      } catch (e) {\n        util.noop();\n      }\n    } else if (_linux) {\n      _nvidiaSmiPath = 'nvidia-smi';\n    }\n    return _nvidiaSmiPath;\n  }\n\n  function nvidiaSmi(options) {\n    const nvidiaSmiExe = getNvidiaSmi();\n    options = options || util.execOptsWin;\n    if (nvidiaSmiExe) {\n      const nvidiaSmiOpts = '--query-gpu=driver_version,pci.sub_device_id,name,pci.bus_id,fan.speed,memory.total,memory.used,memory.free,utilization.gpu,utilization.memory,temperature.gpu,temperature.memory,power.draw,power.limit,clocks.gr,clocks.mem --format=csv,noheader,nounits';\n      const cmd = nvidiaSmiExe + ' ' + nvidiaSmiOpts + (_linux ? '  2>/dev/null' : '');\n      try {\n        const res = execSync(cmd, options).toString();\n        return res;\n      } catch (e) {\n        util.noop();\n      }\n    }\n    return '';\n  }\n\n  function nvidiaDevices() {\n\n    function safeParseNumber(value) {\n      if ([null, undefined].includes(value)) {\n        return value;\n      }\n      return parseFloat(value);\n    }\n\n    const stdout = nvidiaSmi();\n    if (!stdout) {\n      return [];\n    }\n\n    const gpus = stdout.split('\\n').filter(Boolean);\n    let results = gpus.map(gpu => {\n      const splittedData = gpu.split(', ').map(value => value.includes('N/A') ? undefined : value);\n      if (splittedData.length === 16) {\n        return {\n          driverVersion: splittedData[0],\n          subDeviceId: splittedData[1],\n          name: splittedData[2],\n          pciBus: splittedData[3],\n          fanSpeed: safeParseNumber(splittedData[4]),\n          memoryTotal: safeParseNumber(splittedData[5]),\n          memoryUsed: safeParseNumber(splittedData[6]),\n          memoryFree: safeParseNumber(splittedData[7]),\n          utilizationGpu: safeParseNumber(splittedData[8]),\n          utilizationMemory: safeParseNumber(splittedData[9]),\n          temperatureGpu: safeParseNumber(splittedData[10]),\n          temperatureMemory: safeParseNumber(splittedData[11]),\n          powerDraw: safeParseNumber(splittedData[12]),\n          powerLimit: safeParseNumber(splittedData[13]),\n          clockCore: safeParseNumber(splittedData[14]),\n          clockMemory: safeParseNumber(splittedData[15]),\n        };\n      } else {\n        return {};\n      }\n    });\n    results = results.filter((item) => {\n      return ('pciBus' in item);\n    });\n    return results;\n  }\n\n  function mergeControllerNvidia(controller, nvidia) {\n    if (nvidia.driverVersion) { controller.driverVersion = nvidia.driverVersion; }\n    if (nvidia.subDeviceId) { controller.subDeviceId = nvidia.subDeviceId; }\n    if (nvidia.name) { controller.name = nvidia.name; }\n    if (nvidia.pciBus) { controller.pciBus = nvidia.pciBus; }\n    if (nvidia.fanSpeed) { controller.fanSpeed = nvidia.fanSpeed; }\n    if (nvidia.memoryTotal) {\n      controller.memoryTotal = nvidia.memoryTotal;\n      controller.vram = nvidia.memoryTotal;\n      controller.vramDynamic = false;\n    }\n    if (nvidia.memoryUsed) { controller.memoryUsed = nvidia.memoryUsed; }\n    if (nvidia.memoryFree) { controller.memoryFree = nvidia.memoryFree; }\n    if (nvidia.utilizationGpu) { controller.utilizationGpu = nvidia.utilizationGpu; }\n    if (nvidia.utilizationMemory) { controller.utilizationMemory = nvidia.utilizationMemory; }\n    if (nvidia.temperatureGpu) { controller.temperatureGpu = nvidia.temperatureGpu; }\n    if (nvidia.temperatureMemory) { controller.temperatureMemory = nvidia.temperatureMemory; }\n    if (nvidia.powerDraw) { controller.powerDraw = nvidia.powerDraw; }\n    if (nvidia.powerLimit) { controller.powerLimit = nvidia.powerLimit; }\n    if (nvidia.clockCore) { controller.clockCore = nvidia.clockCore; }\n    if (nvidia.clockMemory) { controller.clockMemory = nvidia.clockMemory; }\n    return controller;\n  }\n\n  function parseLinesLinuxEdid(edid) {\n    // parsen EDID\n    // --> model\n    // --> resolutionx\n    // --> resolutiony\n    // --> builtin = false\n    // --> pixeldepth (?)\n    // --> sizex\n    // --> sizey\n    let result = {\n      vendor: '',\n      model: '',\n      deviceName: '',\n      main: false,\n      builtin: false,\n      connection: '',\n      sizeX: null,\n      sizeY: null,\n      pixelDepth: null,\n      resolutionX: null,\n      resolutionY: null,\n      currentResX: null,\n      currentResY: null,\n      positionX: 0,\n      positionY: 0,\n      currentRefreshRate: null\n    };\n    // find first \"Detailed Timing Description\"\n    let start = 108;\n    if (edid.substr(start, 6) === '000000') {\n      start += 36;\n    }\n    if (edid.substr(start, 6) === '000000') {\n      start += 36;\n    }\n    if (edid.substr(start, 6) === '000000') {\n      start += 36;\n    }\n    if (edid.substr(start, 6) === '000000') {\n      start += 36;\n    }\n    result.resolutionX = parseInt('0x0' + edid.substr(start + 8, 1) + edid.substr(start + 4, 2));\n    result.resolutionY = parseInt('0x0' + edid.substr(start + 14, 1) + edid.substr(start + 10, 2));\n    result.sizeX = parseInt('0x0' + edid.substr(start + 28, 1) + edid.substr(start + 24, 2));\n    result.sizeY = parseInt('0x0' + edid.substr(start + 29, 1) + edid.substr(start + 26, 2));\n    // monitor name\n    start = edid.indexOf('000000fc00'); // find first \"Monitor Description Data\"\n    if (start >= 0) {\n      let model_raw = edid.substr(start + 10, 26);\n      if (model_raw.indexOf('0a') !== -1) {\n        model_raw = model_raw.substr(0, model_raw.indexOf('0a'));\n      }\n      try {\n        if (model_raw.length > 2) {\n          result.model = model_raw.match(/.{1,2}/g).map(function (v) {\n            return String.fromCharCode(parseInt(v, 16));\n          }).join('');\n        }\n      } catch (e) {\n        util.noop();\n      }\n    } else {\n      result.model = '';\n    }\n    return result;\n  }\n\n  function parseLinesLinuxDisplays(lines, depth) {\n    let displays = [];\n    let currentDisplay = {\n      vendor: '',\n      model: '',\n      deviceName: '',\n      main: false,\n      builtin: false,\n      connection: '',\n      sizeX: null,\n      sizeY: null,\n      pixelDepth: null,\n      resolutionX: null,\n      resolutionY: null,\n      currentResX: null,\n      currentResY: null,\n      positionX: 0,\n      positionY: 0,\n      currentRefreshRate: null\n    };\n    let is_edid = false;\n    let is_current = false;\n    let edid_raw = '';\n    let start = 0;\n    for (let i = 1; i < lines.length; i++) {        // start with second line\n      if ('' !== lines[i].trim()) {\n        if (' ' !== lines[i][0] && '\\t' !== lines[i][0] && lines[i].toLowerCase().indexOf(' connected ') !== -1) {        // first line of new entry\n          if (currentDisplay.model || currentDisplay.main || currentDisplay.builtin || currentDisplay.connection || currentDisplay.sizeX !== null || currentDisplay.pixelDepth !== null || currentDisplay.resolutionX !== null) {         // push last display to array\n            displays.push(currentDisplay);\n            currentDisplay = {\n              vendor: '',\n              model: '',\n              main: false,\n              builtin: false,\n              connection: '',\n              sizeX: null,\n              sizeY: null,\n              pixelDepth: null,\n              resolutionX: null,\n              resolutionY: null,\n              currentResX: null,\n              currentResY: null,\n              positionX: 0,\n              positionY: 0,\n              currentRefreshRate: null\n            };\n          }\n          let parts = lines[i].split(' ');\n          currentDisplay.connection = parts[0];\n          currentDisplay.main = lines[i].toLowerCase().indexOf(' primary ') >= 0;\n          currentDisplay.builtin = (parts[0].toLowerCase().indexOf('edp') >= 0);\n        }\n\n        // try to read EDID information\n        if (is_edid) {\n          if (lines[i].search(/\\S|$/) > start) {\n            edid_raw += lines[i].toLowerCase().trim();\n          } else {\n            // parsen EDID\n            let edid_decoded = parseLinesLinuxEdid(edid_raw);\n            currentDisplay.vendor = edid_decoded.vendor;\n            currentDisplay.model = edid_decoded.model;\n            currentDisplay.resolutionX = edid_decoded.resolutionX;\n            currentDisplay.resolutionY = edid_decoded.resolutionY;\n            currentDisplay.sizeX = edid_decoded.sizeX;\n            currentDisplay.sizeY = edid_decoded.sizeY;\n            currentDisplay.pixelDepth = depth;\n            is_edid = false;\n          }\n        }\n        if (lines[i].toLowerCase().indexOf('edid:') >= 0) {\n          is_edid = true;\n          start = lines[i].search(/\\S|$/);\n        }\n        if (lines[i].toLowerCase().indexOf('*current') >= 0) {\n          const parts1 = lines[i].split('(');\n          if (parts1 && parts1.length > 1 && parts1[0].indexOf('x') >= 0) {\n            const resParts = parts1[0].trim().split('x');\n            currentDisplay.currentResX = util.toInt(resParts[0]);\n            currentDisplay.currentResY = util.toInt(resParts[1]);\n          }\n          is_current = true;\n        }\n        if (is_current && lines[i].toLowerCase().indexOf('clock') >= 0 && lines[i].toLowerCase().indexOf('hz') >= 0 && lines[i].toLowerCase().indexOf('v: height') >= 0) {\n          const parts1 = lines[i].split('clock');\n          if (parts1 && parts1.length > 1 && parts1[1].toLowerCase().indexOf('hz') >= 0) {\n            currentDisplay.currentRefreshRate = util.toInt(parts1[1]);\n          }\n          is_current = false;\n        }\n      }\n    }\n\n    // pushen displays\n    if (currentDisplay.model || currentDisplay.main || currentDisplay.builtin || currentDisplay.connection || currentDisplay.sizeX !== null || currentDisplay.pixelDepth !== null || currentDisplay.resolutionX !== null) {  // still information there\n      displays.push(currentDisplay);\n    }\n    return displays;\n  }\n\n  // function starts here\n  return new Promise((resolve) => {\n    process.nextTick(() => {\n      let result = {\n        controllers: [],\n        displays: []\n      };\n      if (_darwin) {\n        let cmd = 'system_profiler -xml -detailLevel full SPDisplaysDataType';\n        exec(cmd, function (error, stdout) {\n          if (!error) {\n            try {\n              const output = stdout.toString();\n              result = parseLinesDarwin(util.plistParser(output)[0]._items);\n            } catch (e) {\n              util.noop();\n            }\n            try {\n              stdout = execSync('defaults read /Library/Preferences/com.apple.windowserver.plist 2>/dev/null;defaults read /Library/Preferences/com.apple.windowserver.displays.plist 2>/dev/null; echo \"\"', { maxBuffer: 1024 * 20000 });\n              const output = (stdout || '').toString();\n              const obj = util.plistReader(output);\n              if (obj['DisplayAnyUserSets'] && obj['DisplayAnyUserSets']['Configs'] && obj['DisplayAnyUserSets']['Configs'][0] && obj['DisplayAnyUserSets']['Configs'][0]['DisplayConfig']) {\n                const current = obj['DisplayAnyUserSets']['Configs'][0]['DisplayConfig'];\n                let i = 0;\n                current.forEach((o) => {\n                  if (o['CurrentInfo'] && o['CurrentInfo']['OriginX'] !== undefined && result.displays && result.displays[i]) {\n                    result.displays[i].positionX = o['CurrentInfo']['OriginX'];\n                  }\n                  if (o['CurrentInfo'] && o['CurrentInfo']['OriginY'] !== undefined && result.displays && result.displays[i]) {\n                    result.displays[i].positionY = o['CurrentInfo']['OriginY'];\n                  }\n                  i++;\n                });\n              }\n              if (obj['DisplayAnyUserSets'] && obj['DisplayAnyUserSets'].length > 0 && obj['DisplayAnyUserSets'][0].length > 0 && obj['DisplayAnyUserSets'][0][0]['DisplayID']) {\n                const current = obj['DisplayAnyUserSets'][0];\n                let i = 0;\n                current.forEach((o) => {\n                  if ('OriginX' in o && result.displays && result.displays[i]) {\n                    result.displays[i].positionX = o['OriginX'];\n                  }\n                  if ('OriginY' in o && result.displays && result.displays[i]) {\n                    result.displays[i].positionY = o['OriginY'];\n                  }\n                  if (o['Mode'] && o['Mode']['BitsPerPixel'] !== undefined && result.displays && result.displays[i]) {\n                    result.displays[i].pixelDepth = o['Mode']['BitsPerPixel'];\n                  }\n                  i++;\n                });\n              }\n            } catch (e) {\n              util.noop();\n            }\n          }\n          if (callback) {\n            callback(result);\n          }\n          resolve(result);\n        });\n      }\n      if (_linux) {\n        // Raspberry: https://elinux.org/RPI_vcgencmd_usage\n        if (util.isRaspberry() && util.isRaspbian()) {\n          let cmd = 'fbset -s | grep \\'mode \"\\'; vcgencmd get_mem gpu; tvservice -s; tvservice -n;';\n          exec(cmd, function (error, stdout) {\n            let lines = stdout.toString().split('\\n');\n            if (lines.length > 3 && lines[0].indexOf('mode \"') >= -1 && lines[2].indexOf('0x12000a') > -1) {\n              const parts = lines[0].replace('mode', '').replace(/\"/g, '').trim().split('x');\n              if (parts.length === 2) {\n                result.displays.push({\n                  vendor: '',\n                  model: util.getValue(lines, 'device_name', '='),\n                  main: true,\n                  builtin: false,\n                  connection: 'HDMI',\n                  sizeX: null,\n                  sizeY: null,\n                  pixelDepth: null,\n                  resolutionX: parseInt(parts[0], 10),\n                  resolutionY: parseInt(parts[1], 10),\n                  currentResX: null,\n                  currentResY: null,\n                  positionX: 0,\n                  positionY: 0,\n                  currentRefreshRate: null\n                });\n              }\n            }\n            if (lines.length > 1 && stdout.toString().indexOf('gpu=') >= -1) {\n              result.controllers.push({\n                vendor: 'Broadcom',\n                model: util.getRpiGpu(),\n                bus: '',\n                vram: util.getValue(lines, 'gpu', '=').replace('M', ''),\n                vramDynamic: true\n              });\n            }\n            if (callback) {\n              callback(result);\n            }\n            resolve(result);\n          });\n        } else {\n          let cmd = 'lspci -vvv  2>/dev/null';\n          exec(cmd, function (error, stdout) {\n            if (!error) {\n              let lines = stdout.toString().split('\\n');\n              result.controllers = parseLinesLinuxControllers(lines);\n              const nvidiaData = nvidiaDevices();\n              // needs to be rewritten ... using no spread operators\n              result.controllers = result.controllers.map((controller) => { // match by busAddress\n                return mergeControllerNvidia(controller, nvidiaData.find((contr) => contr.pciBus.toLowerCase().endsWith(controller.busAddress.toLowerCase())) || {});\n              });\n            }\n            let cmd = 'clinfo --raw';\n            exec(cmd, function (error, stdout) {\n              if (!error) {\n                let lines = stdout.toString().split('\\n');\n                result.controllers = parseLinesLinuxClinfo(result.controllers, lines);\n              }\n              let cmd = 'xdpyinfo 2>/dev/null | grep \\'depth of root window\\' | awk \\'{ print $5 }\\'';\n              exec(cmd, function (error, stdout) {\n                let depth = 0;\n                if (!error) {\n                  let lines = stdout.toString().split('\\n');\n                  depth = parseInt(lines[0]) || 0;\n                }\n                let cmd = 'xrandr --verbose 2>/dev/null';\n                exec(cmd, function (error, stdout) {\n                  if (!error) {\n                    let lines = stdout.toString().split('\\n');\n                    result.displays = parseLinesLinuxDisplays(lines, depth);\n                  }\n                  if (callback) {\n                    callback(result);\n                  }\n                  resolve(result);\n                });\n              });\n            });\n          });\n        }\n      }\n      if (_freebsd || _openbsd || _netbsd) {\n        if (callback) { callback(null); }\n        resolve(null);\n      }\n      if (_sunos) {\n        if (callback) { callback(null); }\n        resolve(null);\n      }\n      if (_windows) {\n\n        // https://blogs.technet.microsoft.com/heyscriptingguy/2013/10/03/use-powershell-to-discover-multi-monitor-information/\n        // https://devblogs.microsoft.com/scripting/use-powershell-to-discover-multi-monitor-information/\n        try {\n          const workload = [];\n          workload.push(util.powerShell('Get-CimInstance win32_VideoController | fl *'));\n          workload.push(util.powerShell('gp \"HKLM:\\\\SYSTEM\\\\ControlSet001\\\\Control\\\\Class\\\\{4d36e968-e325-11ce-bfc1-08002be10318}\\\\*\" -ErrorAction SilentlyContinue | where MatchingDeviceId $null -NE | select MatchingDeviceId,HardwareInformation.qwMemorySize | fl'));\n          workload.push(util.powerShell('Get-CimInstance win32_desktopmonitor | fl *'));\n          workload.push(util.powerShell('Get-CimInstance -Namespace root\\\\wmi -ClassName WmiMonitorBasicDisplayParams | fl'));\n          workload.push(util.powerShell('Add-Type -AssemblyName System.Windows.Forms; [System.Windows.Forms.Screen]::AllScreens'));\n          workload.push(util.powerShell('Get-CimInstance -Namespace root\\\\wmi -ClassName WmiMonitorConnectionParams | fl'));\n          workload.push(util.powerShell('gwmi WmiMonitorID -Namespace root\\\\wmi | ForEach-Object {(($_.ManufacturerName -notmatch 0 | foreach {[char]$_}) -join \"\") + \"|\" + (($_.ProductCodeID -notmatch 0 | foreach {[char]$_}) -join \"\") + \"|\" + (($_.UserFriendlyName -notmatch 0 | foreach {[char]$_}) -join \"\") + \"|\" + (($_.SerialNumberID -notmatch 0 | foreach {[char]$_}) -join \"\") + \"|\" + $_.InstanceName}'));\n\n          const nvidiaData = nvidiaDevices();\n\n          Promise.all(\n            workload\n          ).then((data) => {\n            // controller + vram\n            let csections = data[0].replace(/\\r/g, '').split(/\\n\\s*\\n/);\n            let vsections = data[1].replace(/\\r/g, '').split(/\\n\\s*\\n/);\n            result.controllers = parseLinesWindowsControllers(csections, vsections);\n            result.controllers = result.controllers.map((controller) => { // match by subDeviceId\n              if (controller.vendor.toLowerCase() === 'nvidia') {\n                return mergeControllerNvidia(controller, nvidiaData.find(device => {\n                  let windowsSubDeviceId = (controller.subDeviceId || '').toLowerCase();\n                  const nvidiaSubDeviceIdParts = device.subDeviceId.split('x');\n                  let nvidiaSubDeviceId = nvidiaSubDeviceIdParts.length > 1 ? nvidiaSubDeviceIdParts[1].toLowerCase() : nvidiaSubDeviceIdParts[0].toLowerCase();\n                  const lengthDifference = Math.abs(windowsSubDeviceId.length - nvidiaSubDeviceId.length);\n                  if (windowsSubDeviceId.length > nvidiaSubDeviceId.length) {\n                    for (let i = 0; i < lengthDifference; i++) {\n                      nvidiaSubDeviceId = '0' + nvidiaSubDeviceId;\n                    }\n                  } else if (windowsSubDeviceId.length < nvidiaSubDeviceId.length) {\n                    for (let i = 0; i < lengthDifference; i++) {\n                      windowsSubDeviceId = '0' + windowsSubDeviceId;\n                    }\n                  }\n                  return windowsSubDeviceId === nvidiaSubDeviceId;\n                }) || {});\n              } else {\n                return controller;\n              }\n            });\n\n            // displays\n            let dsections = data[2].replace(/\\r/g, '').split(/\\n\\s*\\n/);\n            // result.displays = parseLinesWindowsDisplays(dsections);\n            if (dsections[0].trim() === '') { dsections.shift(); }\n            if (dsections.length && dsections[dsections.length - 1].trim() === '') { dsections.pop(); }\n\n            // monitor (powershell)\n            let msections = data[3].replace(/\\r/g, '').split('Active ');\n            msections.shift();\n\n            // forms.screens (powershell)\n            let ssections = data[4].replace(/\\r/g, '').split('BitsPerPixel ');\n            ssections.shift();\n\n            // connection params (powershell) - video type\n            let tsections = data[5].replace(/\\r/g, '').split(/\\n\\s*\\n/);\n            tsections.shift();\n\n            // monitor ID (powershell) - model / vendor\n            const res = data[6].replace(/\\r/g, '').split(/\\n/);\n            let isections = [];\n            res.forEach(element => {\n              const parts = element.split('|');\n              if (parts.length === 5) {\n                isections.push({\n                  vendor: parts[0],\n                  code: parts[1],\n                  model: parts[2],\n                  serial: parts[3],\n                  instanceId: parts[4]\n                });\n              }\n            });\n\n            result.displays = parseLinesWindowsDisplaysPowershell(ssections, msections, dsections, tsections, isections);\n\n            if (result.displays.length === 1) {\n              if (_resolutionX) {\n                result.displays[0].resolutionX = _resolutionX;\n                if (!result.displays[0].currentResX) {\n                  result.displays[0].currentResX = _resolutionX;\n                }\n              }\n              if (_resolutionY) {\n                result.displays[0].resolutionY = _resolutionY;\n                if (result.displays[0].currentResY === 0) {\n                  result.displays[0].currentResY = _resolutionY;\n                }\n              }\n              if (_pixelDepth) {\n                result.displays[0].pixelDepth = _pixelDepth;\n              }\n            }\n            result.displays = result.displays.map(element => {\n              if (_refreshRate && !element.currentRefreshRate) {\n                element.currentRefreshRate = _refreshRate;\n              }\n              return element;\n            });\n\n            if (callback) {\n              callback(result);\n            }\n            resolve(result);\n          })\n            .catch(() => {\n              if (callback) {\n                callback(result);\n              }\n              resolve(result);\n            });\n        } catch (e) {\n          if (callback) { callback(result); }\n          resolve(result);\n        }\n      }\n    });\n  });\n\n  function parseLinesWindowsControllers(sections, vections) {\n    const memorySizes = {};\n    for (const i in vections) {\n      if ({}.hasOwnProperty.call(vections, i)) {\n        if (vections[i].trim() !== '') {\n          const lines = vections[i].trim().split('\\n');\n          const matchingDeviceId = util.getValue(lines, 'MatchingDeviceId').match(/PCI\\\\(VEN_[0-9A-F]{4})&(DEV_[0-9A-F]{4})(?:&(SUBSYS_[0-9A-F]{8}))?(?:&(REV_[0-9A-F]{2}))?/i);\n          if (matchingDeviceId) {\n            const quadWordmemorySize = parseInt(util.getValue(lines, 'HardwareInformation.qwMemorySize'));\n            if (!isNaN(quadWordmemorySize)) {\n              let deviceId = matchingDeviceId[1].toUpperCase() + '&' + matchingDeviceId[2].toUpperCase();\n              if (matchingDeviceId[3]) {\n                deviceId += '&' + matchingDeviceId[3].toUpperCase();\n              }\n              if (matchingDeviceId[4]) {\n                deviceId += '&' + matchingDeviceId[4].toUpperCase();\n              }\n              memorySizes[deviceId] = quadWordmemorySize;\n            }\n          }\n        }\n      }\n    }\n\n    let controllers = [];\n    for (let i in sections) {\n      if ({}.hasOwnProperty.call(sections, i)) {\n        if (sections[i].trim() !== '') {\n          let lines = sections[i].trim().split('\\n');\n          let pnpDeviceId = util.getValue(lines, 'PNPDeviceID', ':').match(/PCI\\\\(VEN_[0-9A-F]{4})&(DEV_[0-9A-F]{4})(?:&(SUBSYS_[0-9A-F]{8}))?(?:&(REV_[0-9A-F]{2}))?/i);\n          let subDeviceId = null;\n          let memorySize = null;\n          if (pnpDeviceId) {\n            subDeviceId = pnpDeviceId[3] || '';\n            if (subDeviceId) {\n              subDeviceId = subDeviceId.split('_')[1];\n            }\n\n            // Match PCI device identifier (there's an order of increasing generality):\n            // https://docs.microsoft.com/en-us/windows-hardware/drivers/install/identifiers-for-pci-devices\n\n            // PCI\\VEN_v(4)&DEV_d(4)&SUBSYS_s(4)n(4)&REV_r(2)\n            if (memorySize == null && pnpDeviceId[3] && pnpDeviceId[4]) {\n              const deviceId = pnpDeviceId[1].toUpperCase() + '&' + pnpDeviceId[2].toUpperCase() + '&' + pnpDeviceId[3].toUpperCase() + '&' + pnpDeviceId[4].toUpperCase();\n              if ({}.hasOwnProperty.call(memorySizes, deviceId)) {\n                memorySize = memorySizes[deviceId];\n              }\n            }\n\n            // PCI\\VEN_v(4)&DEV_d(4)&SUBSYS_s(4)n(4)\n            if (memorySize == null && pnpDeviceId[3]) {\n              const deviceId = pnpDeviceId[1].toUpperCase() + '&' + pnpDeviceId[2].toUpperCase() + '&' + pnpDeviceId[3].toUpperCase();\n              if ({}.hasOwnProperty.call(memorySizes, deviceId)) {\n                memorySize = memorySizes[deviceId];\n              }\n            }\n\n            // PCI\\VEN_v(4)&DEV_d(4)&REV_r(2)\n            if (memorySize == null && pnpDeviceId[4]) {\n              const deviceId = pnpDeviceId[1].toUpperCase() + '&' + pnpDeviceId[2].toUpperCase() + '&' + pnpDeviceId[4].toUpperCase();\n              if ({}.hasOwnProperty.call(memorySizes, deviceId)) {\n                memorySize = memorySizes[deviceId];\n              }\n            }\n\n            // PCI\\VEN_v(4)&DEV_d(4)\n            if (memorySize == null) {\n              const deviceId = pnpDeviceId[1].toUpperCase() + '&' + pnpDeviceId[2].toUpperCase();\n              if ({}.hasOwnProperty.call(memorySizes, deviceId)) {\n                memorySize = memorySizes[deviceId];\n              }\n            }\n          }\n\n          controllers.push({\n            vendor: util.getValue(lines, 'AdapterCompatibility', ':'),\n            model: util.getValue(lines, 'name', ':'),\n            bus: util.getValue(lines, 'PNPDeviceID', ':').startsWith('PCI') ? 'PCI' : '',\n            vram: (memorySize == null ? util.toInt(util.getValue(lines, 'AdapterRAM', ':')) : memorySize) / 1024 / 1024,\n            vramDynamic: (util.getValue(lines, 'VideoMemoryType', ':') === '2'),\n            subDeviceId\n          });\n          _resolutionX = util.toInt(util.getValue(lines, 'CurrentHorizontalResolution', ':')) || _resolutionX;\n          _resolutionY = util.toInt(util.getValue(lines, 'CurrentVerticalResolution', ':')) || _resolutionY;\n          _refreshRate = util.toInt(util.getValue(lines, 'CurrentRefreshRate', ':')) || _refreshRate;\n          _pixelDepth = util.toInt(util.getValue(lines, 'CurrentBitsPerPixel', ':')) || _pixelDepth;\n        }\n      }\n    }\n    return controllers;\n  }\n\n  function parseLinesWindowsDisplaysPowershell(ssections, msections, dsections, tsections, isections) {\n    let displays = [];\n    let vendor = '';\n    let model = '';\n    let deviceID = '';\n    let resolutionX = 0;\n    let resolutionY = 0;\n    if (dsections && dsections.length) {\n      let linesDisplay = dsections[0].split('\\n');\n      vendor = util.getValue(linesDisplay, 'MonitorManufacturer', ':');\n      model = util.getValue(linesDisplay, 'Name', ':');\n      deviceID = util.getValue(linesDisplay, 'PNPDeviceID', ':').replace(/&amp;/g, '&').toLowerCase();\n      resolutionX = util.toInt(util.getValue(linesDisplay, 'ScreenWidth', ':'));\n      resolutionY = util.toInt(util.getValue(linesDisplay, 'ScreenHeight', ':'));\n    }\n    for (let i = 0; i < ssections.length; i++) {\n      if (ssections[i].trim() !== '') {\n        ssections[i] = 'BitsPerPixel ' + ssections[i];\n        msections[i] = 'Active ' + msections[i];\n        // tsections can be empty OR undefined on earlier versions of powershell (<=2.0)\n        // Tag connection type as UNKNOWN by default if this information is missing\n        if (tsections.length === 0 || tsections[i] === undefined) {\n          tsections[i] = 'Unknown';\n        }\n        let linesScreen = ssections[i].split('\\n');\n        let linesMonitor = msections[i].split('\\n');\n\n        let linesConnection = tsections[i].split('\\n');\n        const bitsPerPixel = util.getValue(linesScreen, 'BitsPerPixel');\n        const bounds = util.getValue(linesScreen, 'Bounds').replace('{', '').replace('}', '').replace(/=/g, ':').split(',');\n        const primary = util.getValue(linesScreen, 'Primary');\n        const sizeX = util.getValue(linesMonitor, 'MaxHorizontalImageSize');\n        const sizeY = util.getValue(linesMonitor, 'MaxVerticalImageSize');\n        const instanceName = util.getValue(linesMonitor, 'InstanceName').toLowerCase();\n        const videoOutputTechnology = util.getValue(linesConnection, 'VideoOutputTechnology');\n        const deviceName = util.getValue(linesScreen, 'DeviceName');\n        let displayVendor = '';\n        let displayModel = '';\n        isections.forEach(element => {\n          if (element.instanceId.toLowerCase().startsWith(instanceName) && vendor.startsWith('(') && model.startsWith('PnP')) {\n            displayVendor = element.vendor;\n            displayModel = element.model;\n          }\n        });\n        displays.push({\n          vendor: instanceName.startsWith(deviceID) && displayVendor === '' ? vendor : displayVendor,\n          model: instanceName.startsWith(deviceID) && displayModel === '' ? model : displayModel,\n          deviceName,\n          main: primary.toLowerCase() === 'true',\n          builtin: videoOutputTechnology === '2147483648',\n          connection: videoOutputTechnology && videoTypes[videoOutputTechnology] ? videoTypes[videoOutputTechnology] : '',\n          resolutionX: util.toInt(util.getValue(bounds, 'Width', ':')),\n          resolutionY: util.toInt(util.getValue(bounds, 'Height', ':')),\n          sizeX: sizeX ? parseInt(sizeX, 10) : null,\n          sizeY: sizeY ? parseInt(sizeY, 10) : null,\n          pixelDepth: bitsPerPixel,\n          currentResX: util.toInt(util.getValue(bounds, 'Width', ':')),\n          currentResY: util.toInt(util.getValue(bounds, 'Height', ':')),\n          positionX: util.toInt(util.getValue(bounds, 'X', ':')),\n          positionY: util.toInt(util.getValue(bounds, 'Y', ':')),\n        });\n      }\n    }\n    if (ssections.length === 0) {\n      displays.push({\n        vendor,\n        model,\n        main: true,\n        sizeX: null,\n        sizeY: null,\n        resolutionX,\n        resolutionY,\n        pixelDepth: null,\n        currentResX: resolutionX,\n        currentResY: resolutionY,\n        positionX: 0,\n        positionY: 0\n      });\n    }\n    return displays;\n  }\n}\n\nexports.graphics = graphics;\n","'use strict';\n// @ts-check\n// ==================================================================================\n// index.js\n// ----------------------------------------------------------------------------------\n// Description:   System Information - library\n//                for Node.js\n// Copyright:     (c) 2014 - 2023\n// Author:        Sebastian Hildebrandt\n// ----------------------------------------------------------------------------------\n// Contributors:  Guillaume Legrain (https://github.com/glegrain)\n//                Riccardo Novaglia (https://github.com/richy24)\n//                Quentin Busuttil (https://github.com/Buzut)\n//                Lapsio (https://github.com/lapsio)\n//                csy (https://github.com/csy1983)\n// ----------------------------------------------------------------------------------\n// License:       MIT\n// ==================================================================================\n\n// ----------------------------------------------------------------------------------\n// Dependencies\n// ----------------------------------------------------------------------------------\n\nconst lib_version = require('../package.json').version;\nconst util = require('./util');\nconst system = require('./system');\nconst osInfo = require('./osinfo');\nconst cpu = require('./cpu');\nconst memory = require('./memory');\nconst battery = require('./battery');\nconst graphics = require('./graphics');\nconst filesystem = require('./filesystem');\nconst network = require('./network');\nconst wifi = require('./wifi');\nconst processes = require('./processes');\nconst users = require('./users');\nconst internet = require('./internet');\nconst docker = require('./docker');\nconst vbox = require('./virtualbox');\nconst printer = require('./printer');\nconst usb = require('./usb');\nconst audio = require('./audio');\nconst bluetooth = require('./bluetooth');\n\nlet _platform = process.platform;\nconst _windows = (_platform === 'win32');\nconst _freebsd = (_platform === 'freebsd');\nconst _openbsd = (_platform === 'openbsd');\nconst _netbsd = (_platform === 'netbsd');\nconst _sunos = (_platform === 'sunos');\n\n// ----------------------------------------------------------------------------------\n// init\n// ----------------------------------------------------------------------------------\n\nif (_windows) {\n  util.getCodepage();\n}\n\n// ----------------------------------------------------------------------------------\n// General\n// ----------------------------------------------------------------------------------\n\nfunction version() {\n  return lib_version;\n}\n\n// ----------------------------------------------------------------------------------\n// Get static and dynamic data (all)\n// ----------------------------------------------------------------------------------\n\n// --------------------------\n// get static data - they should not change until restarted\n\nfunction getStaticData(callback) {\n\n  return new Promise((resolve) => {\n    process.nextTick(() => {\n\n      let data = {};\n\n      data.version = version();\n\n      Promise.all([\n        system.system(),\n        system.bios(),\n        system.baseboard(),\n        system.chassis(),\n        osInfo.osInfo(),\n        osInfo.uuid(),\n        osInfo.versions(),\n        cpu.cpu(),\n        cpu.cpuFlags(),\n        graphics.graphics(),\n        network.networkInterfaces(),\n        memory.memLayout(),\n        filesystem.diskLayout()\n      ]).then((res) => {\n        data.system = res[0];\n        data.bios = res[1];\n        data.baseboard = res[2];\n        data.chassis = res[3];\n        data.os = res[4];\n        data.uuid = res[5];\n        data.versions = res[6];\n        data.cpu = res[7];\n        data.cpu.flags = res[8];\n        data.graphics = res[9];\n        data.net = res[10];\n        data.memLayout = res[11];\n        data.diskLayout = res[12];\n        if (callback) { callback(data); }\n        resolve(data);\n      });\n    });\n  });\n}\n\n\n// --------------------------\n// get all dynamic data - e.g. for monitoring agents\n// may take some seconds to get all data\n// --------------------------\n// 2 additional parameters needed\n// - srv: \t\tcomma separated list of services to monitor e.g. \"mysql, apache, postgresql\"\n// - iface:\tdefine network interface for which you like to monitor network speed e.g. \"eth0\"\n\nfunction getDynamicData(srv, iface, callback) {\n\n  if (util.isFunction(iface)) {\n    callback = iface;\n    iface = '';\n  }\n  if (util.isFunction(srv)) {\n    callback = srv;\n    srv = '';\n  }\n\n  return new Promise((resolve) => {\n    process.nextTick(() => {\n\n      iface = iface || network.getDefaultNetworkInterface();\n      srv = srv || '';\n\n      // use closure to track  completion\n      let functionProcessed = (function () {\n        let totalFunctions = 15;\n        if (_windows) { totalFunctions = 13; }\n        if (_freebsd || _openbsd || _netbsd) { totalFunctions = 11; }\n        if (_sunos) { totalFunctions = 6; }\n\n        return function () {\n          if (--totalFunctions === 0) {\n            if (callback) {\n              callback(data);\n            }\n            resolve(data);\n          }\n        };\n      })();\n\n      let data = {};\n\n      // get time\n      data.time = osInfo.time();\n\n      /**\n       * @namespace\n       * @property {Object}  versions\n       * @property {string}  versions.node\n       * @property {string}  versions.v8\n       */\n      data.node = process.versions.node;\n      data.v8 = process.versions.v8;\n\n      cpu.cpuCurrentSpeed().then((res) => {\n        data.cpuCurrentSpeed = res;\n        functionProcessed();\n      });\n\n      users.users().then((res) => {\n        data.users = res;\n        functionProcessed();\n      });\n\n      processes.processes().then((res) => {\n        data.processes = res;\n        functionProcessed();\n      });\n\n      cpu.currentLoad().then((res) => {\n        data.currentLoad = res;\n        functionProcessed();\n      });\n\n      if (!_sunos) {\n        cpu.cpuTemperature().then((res) => {\n          data.temp = res;\n          functionProcessed();\n        });\n      }\n\n      if (!_openbsd && !_freebsd && !_netbsd && !_sunos) {\n        network.networkStats(iface).then((res) => {\n          data.networkStats = res;\n          functionProcessed();\n        });\n      }\n\n      if (!_sunos) {\n        network.networkConnections().then((res) => {\n          data.networkConnections = res;\n          functionProcessed();\n        });\n      }\n\n      memory.mem().then((res) => {\n        data.mem = res;\n        functionProcessed();\n      });\n\n      if (!_sunos) {\n        battery().then((res) => {\n          data.battery = res;\n          functionProcessed();\n        });\n      }\n\n      if (!_sunos) {\n        processes.services(srv).then((res) => {\n          data.services = res;\n          functionProcessed();\n        });\n      }\n\n      if (!_sunos) {\n        filesystem.fsSize().then((res) => {\n          data.fsSize = res;\n          functionProcessed();\n        });\n      }\n\n      if (!_windows && !_openbsd && !_freebsd && !_netbsd && !_sunos) {\n        filesystem.fsStats().then((res) => {\n          data.fsStats = res;\n          functionProcessed();\n        });\n      }\n\n      if (!_windows && !_openbsd && !_freebsd && !_netbsd && !_sunos) {\n        filesystem.disksIO().then((res) => {\n          data.disksIO = res;\n          functionProcessed();\n        });\n      }\n\n      if (!_openbsd && !_freebsd && !_netbsd && !_sunos) {\n        wifi.wifiNetworks().then((res) => {\n          data.wifiNetworks = res;\n          functionProcessed();\n        });\n      }\n\n      internet.inetLatency().then((res) => {\n        data.inetLatency = res;\n        functionProcessed();\n      });\n    });\n  });\n}\n\n// --------------------------\n// get all data at once\n// --------------------------\n// 2 additional parameters needed\n// - srv: \t\tcomma separated list of services to monitor e.g. \"mysql, apache, postgresql\"\n// - iface:\tdefine network interface for which you like to monitor network speed e.g. \"eth0\"\n\nfunction getAllData(srv, iface, callback) {\n\n  return new Promise((resolve) => {\n    process.nextTick(() => {\n      let data = {};\n\n      if (iface && util.isFunction(iface) && !callback) {\n        callback = iface;\n        iface = '';\n      }\n\n      if (srv && util.isFunction(srv) && !iface && !callback) {\n        callback = srv;\n        srv = '';\n        iface = '';\n      }\n\n      getStaticData().then((res) => {\n        data = res;\n        getDynamicData(srv, iface).then((res) => {\n          for (let key in res) {\n            if ({}.hasOwnProperty.call(res, key)) {\n              data[key] = res[key];\n            }\n          }\n          if (callback) { callback(data); }\n          resolve(data);\n        });\n      });\n    });\n  });\n}\n\nfunction get(valueObject, callback) {\n  return new Promise((resolve) => {\n    process.nextTick(() => {\n      const allPromises = Object.keys(valueObject)\n        .filter(func => ({}.hasOwnProperty.call(exports, func)))\n        .map(func => {\n          const params = valueObject[func].substring(valueObject[func].lastIndexOf('(') + 1, valueObject[func].lastIndexOf(')'));\n          let funcWithoutParams = func.indexOf(')') >= 0 ? func.split(')')[1].trim() : func;\n          funcWithoutParams = func.indexOf('|') >= 0 ? func.split('|')[0].trim() : funcWithoutParams;\n          if (params) {\n            return exports[funcWithoutParams](params);\n          } else {\n            return exports[funcWithoutParams]('');\n          }\n        });\n\n      Promise.all(allPromises).then((data) => {\n        const result = {};\n        let i = 0;\n        for (let key in valueObject) {\n          if ({}.hasOwnProperty.call(valueObject, key) && {}.hasOwnProperty.call(exports, key) && data.length > i) {\n            if (valueObject[key] === '*' || valueObject[key] === 'all') {\n              result[key] = data[i];\n            } else {\n              let keys = valueObject[key];\n              let filter = '';\n              let filterParts = [];\n              // remove params\n              if (keys.indexOf(')') >= 0) {\n                keys = keys.split(')')[1].trim();\n              }\n              // extract filter and remove it from keys\n              if (keys.indexOf('|') >= 0) {\n                filter = keys.split('|')[1].trim();\n                filterParts = filter.split(':');\n\n                keys = keys.split('|')[0].trim();\n              }\n              keys = keys.replace(/,/g, ' ').replace(/ +/g, ' ').split(' ');\n              if (data[i]) {\n                if (Array.isArray(data[i])) {\n                  // result is in an array, go through all elements of array and pick only the right ones\n                  const partialArray = [];\n                  data[i].forEach(element => {\n                    let partialRes = {};\n                    if (keys.length === 1 && (keys[0] === '*' || keys[0] === 'all')) {\n                      partialRes = element;\n                    } else {\n                      keys.forEach(k => {\n                        if ({}.hasOwnProperty.call(element, k)) {\n                          partialRes[k] = element[k];\n                        }\n                      });\n                    }\n                    // if there is a filter, then just take those elements\n                    if (filter && filterParts.length === 2) {\n                      if ({}.hasOwnProperty.call(partialRes, filterParts[0].trim())) {\n                        const val = partialRes[filterParts[0].trim()];\n                        if (typeof val == 'number') {\n                          if (val === parseFloat(filterParts[1].trim())) {\n                            partialArray.push(partialRes);\n                          }\n                        } else if (typeof val == 'string') {\n                          if (val.toLowerCase() === filterParts[1].trim().toLowerCase()) {\n                            partialArray.push(partialRes);\n                          }\n                        }\n                      }\n                    } else {\n                      partialArray.push(partialRes);\n                    }\n\n                  });\n                  result[key] = partialArray;\n                } else {\n                  const partialRes = {};\n                  keys.forEach(k => {\n                    if ({}.hasOwnProperty.call(data[i], k)) {\n                      partialRes[k] = data[i][k];\n                    }\n                  });\n                  result[key] = partialRes;\n                }\n              } else {\n                result[key] = {};\n              }\n            }\n            i++;\n          }\n        }\n        if (callback) { callback(result); }\n        resolve(result);\n      });\n    });\n  });\n}\n\nfunction observe(valueObject, interval, callback) {\n  let _data = null;\n\n  const result = setInterval(() => {\n    get(valueObject).then((data) => {\n      if (JSON.stringify(_data) !== JSON.stringify(data)) {\n        _data = Object.assign({}, data);\n        callback(data);\n      }\n    });\n  }, interval);\n  return result;\n}\n\n// ----------------------------------------------------------------------------------\n// export all libs\n// ----------------------------------------------------------------------------------\n\nexports.version = version;\nexports.system = system.system;\nexports.bios = system.bios;\nexports.baseboard = system.baseboard;\nexports.chassis = system.chassis;\n\nexports.time = osInfo.time;\nexports.osInfo = osInfo.osInfo;\nexports.versions = osInfo.versions;\nexports.shell = osInfo.shell;\nexports.uuid = osInfo.uuid;\n\nexports.cpu = cpu.cpu;\nexports.cpuFlags = cpu.cpuFlags;\nexports.cpuCache = cpu.cpuCache;\nexports.cpuCurrentSpeed = cpu.cpuCurrentSpeed;\nexports.cpuTemperature = cpu.cpuTemperature;\nexports.currentLoad = cpu.currentLoad;\nexports.fullLoad = cpu.fullLoad;\n\nexports.mem = memory.mem;\nexports.memLayout = memory.memLayout;\n\nexports.battery = battery;\n\nexports.graphics = graphics.graphics;\n\nexports.fsSize = filesystem.fsSize;\nexports.fsOpenFiles = filesystem.fsOpenFiles;\nexports.blockDevices = filesystem.blockDevices;\nexports.fsStats = filesystem.fsStats;\nexports.disksIO = filesystem.disksIO;\nexports.diskLayout = filesystem.diskLayout;\n\nexports.networkInterfaceDefault = network.networkInterfaceDefault;\nexports.networkGatewayDefault = network.networkGatewayDefault;\nexports.networkInterfaces = network.networkInterfaces;\nexports.networkStats = network.networkStats;\nexports.networkConnections = network.networkConnections;\n\nexports.wifiNetworks = wifi.wifiNetworks;\nexports.wifiInterfaces = wifi.wifiInterfaces;\nexports.wifiConnections = wifi.wifiConnections;\n\nexports.services = processes.services;\nexports.processes = processes.processes;\nexports.processLoad = processes.processLoad;\n\nexports.users = users.users;\n\nexports.inetChecksite = internet.inetChecksite;\nexports.inetLatency = internet.inetLatency;\n\nexports.dockerInfo = docker.dockerInfo;\nexports.dockerImages = docker.dockerImages;\nexports.dockerContainers = docker.dockerContainers;\nexports.dockerContainerStats = docker.dockerContainerStats;\nexports.dockerContainerProcesses = docker.dockerContainerProcesses;\nexports.dockerVolumes = docker.dockerVolumes;\nexports.dockerAll = docker.dockerAll;\n\nexports.vboxInfo = vbox.vboxInfo;\n\nexports.printer = printer.printer;\n\nexports.usb = usb.usb;\n\nexports.audio = audio.audio;\nexports.bluetoothDevices = bluetooth.bluetoothDevices;\n\nexports.getStaticData = getStaticData;\nexports.getDynamicData = getDynamicData;\nexports.getAllData = getAllData;\nexports.get = get;\nexports.observe = observe;\n\nexports.powerShellStart = util.powerShellStart;\nexports.powerShellRelease = util.powerShellRelease;\n","'use strict';\n// @ts-check\n// ==================================================================================\n// internet.js\n// ----------------------------------------------------------------------------------\n// Description:   System Information - library\n//                for Node.js\n// Copyright:     (c) 2014 - 2023\n// Author:        Sebastian Hildebrandt\n// ----------------------------------------------------------------------------------\n// License:       MIT\n// ==================================================================================\n// 12. Internet\n// ----------------------------------------------------------------------------------\n\nconst util = require('./util');\n\nlet _platform = process.platform;\n\nconst _linux = (_platform === 'linux' || _platform === 'android');\nconst _darwin = (_platform === 'darwin');\nconst _windows = (_platform === 'win32');\nconst _freebsd = (_platform === 'freebsd');\nconst _openbsd = (_platform === 'openbsd');\nconst _netbsd = (_platform === 'netbsd');\nconst _sunos = (_platform === 'sunos');\n\n// --------------------------\n// check if external site is available\n\nfunction inetChecksite(url, callback) {\n\n  return new Promise((resolve) => {\n    process.nextTick(() => {\n      let result = {\n        url: url,\n        ok: false,\n        status: 404,\n        ms: null\n      };\n      if (typeof url !== 'string') {\n        if (callback) { callback(result); }\n        return resolve(result);\n      }\n      let urlSanitized = '';\n      const s = util.sanitizeShellString(url, true);\n      const l = util.mathMin(s.length, 2000);\n      for (let i = 0; i <= l; i++) {\n        if (s[i] !== undefined) {\n          s[i].__proto__.toLowerCase = util.stringToLower;\n          const sl = s[i].toLowerCase();\n          if (sl && sl[0] && !sl[1] && sl[0].length === 1) {\n            urlSanitized = urlSanitized + sl[0];\n          }\n        }\n      }\n      result.url = urlSanitized;\n      try {\n        if (urlSanitized && !util.isPrototypePolluted()) {\n          urlSanitized.__proto__.startsWith = util.stringStartWith;\n          if (urlSanitized.startsWith('file:') || urlSanitized.startsWith('gopher:') || urlSanitized.startsWith('telnet:') || urlSanitized.startsWith('mailto:') || urlSanitized.startsWith('news:') || urlSanitized.startsWith('nntp:')) {\n            if (callback) { callback(result); }\n            return resolve(result);\n          }\n          let t = Date.now();\n          if (_linux || _freebsd || _openbsd || _netbsd || _darwin || _sunos) {\n            let args = ['-I', '--connect-timeout', '5', '-m', '5'];\n            args.push(urlSanitized);\n            let cmd = 'curl';\n            util.execSafe(cmd, args).then((stdout) => {\n              const lines = stdout.split('\\n');\n              let statusCode = lines[0] && lines[0].indexOf(' ') >= 0 ? parseInt(lines[0].split(' ')[1], 10) : 404;\n              result.status = statusCode || 404;\n              result.ok = (statusCode === 200 || statusCode === 301 || statusCode === 302 || statusCode === 304);\n              result.ms = (result.ok ? Date.now() - t : null);\n              if (callback) { callback(result); }\n              resolve(result);\n            });\n          }\n          if (_windows) {   // if this is stable, this can be used for all OS types\n            const http = (urlSanitized.startsWith('https:') ? require('https') : require('http'));\n            try {\n              http.get(urlSanitized, (res) => {\n                const statusCode = res.statusCode;\n\n                result.status = statusCode || 404;\n                result.ok = (statusCode === 200 || statusCode === 301 || statusCode === 302 || statusCode === 304);\n\n                if (statusCode !== 200) {\n                  res.resume();\n                  result.ms = (result.ok ? Date.now() - t : null);\n                  if (callback) { callback(result); }\n                  resolve(result);\n                } else {\n                  res.on('data', () => { });\n                  res.on('end', () => {\n                    result.ms = (result.ok ? Date.now() - t : null);\n                    if (callback) { callback(result); }\n                    resolve(result);\n                  });\n                }\n              }).on('error', () => {\n                if (callback) { callback(result); }\n                resolve(result);\n              });\n            } catch (err) {\n              if (callback) { callback(result); }\n              resolve(result);\n            }\n          }\n        } else {\n          if (callback) { callback(result); }\n          resolve(result);\n        }\n      } catch (err) {\n        if (callback) { callback(result); }\n        resolve(result);\n      }\n    });\n  });\n}\n\nexports.inetChecksite = inetChecksite;\n\n// --------------------------\n// check inet latency\n\nfunction inetLatency(host, callback) {\n\n  // fallback - if only callback is given\n  if (util.isFunction(host) && !callback) {\n    callback = host;\n    host = '';\n  }\n\n  host = host || '8.8.8.8';\n\n  return new Promise((resolve) => {\n    process.nextTick(() => {\n      if (typeof host !== 'string') {\n        if (callback) { callback(null); }\n        return resolve(null);\n      }\n      let hostSanitized = '';\n      const s = (util.isPrototypePolluted() ? '8.8.8.8' : util.sanitizeShellString(host, true)).trim();\n      const l = util.mathMin(s.length, 2000);\n      for (let i = 0; i <= l; i++) {\n        if (!(s[i] === undefined)) {\n          s[i].__proto__.toLowerCase = util.stringToLower;\n          const sl = s[i].toLowerCase();\n          if (sl && sl[0] && !sl[1]) {\n            hostSanitized = hostSanitized + sl[0];\n          }\n        }\n      }\n      hostSanitized.__proto__.startsWith = util.stringStartWith;\n      if (hostSanitized.startsWith('file:') || hostSanitized.startsWith('gopher:') || hostSanitized.startsWith('telnet:') || hostSanitized.startsWith('mailto:') || hostSanitized.startsWith('news:') || hostSanitized.startsWith('nntp:')) {\n        if (callback) { callback(null); }\n        return resolve(null);\n      }\n      let params;\n      if (_linux || _freebsd || _openbsd || _netbsd || _darwin) {\n        if (_linux) {\n          params = ['-c', '2', '-w', '3', hostSanitized];\n        }\n        if (_freebsd || _openbsd || _netbsd) {\n          params = ['-c', '2', '-t', '3', hostSanitized];\n        }\n        if (_darwin) {\n          params = ['-c2', '-t3', hostSanitized];\n        }\n        util.execSafe('ping', params).then((stdout) => {\n          let result = null;\n          if (stdout) {\n            const lines = stdout.split('\\n').filter((line) => (line.indexOf('rtt') >= 0 || line.indexOf('round-trip') >= 0 || line.indexOf('avg') >= 0)).join('\\n');\n\n            const line = lines.split('=');\n            if (line.length > 1) {\n              const parts = line[1].split('/');\n              if (parts.length > 1) {\n                result = parseFloat(parts[1]);\n              }\n            }\n          }\n          if (callback) { callback(result); }\n          resolve(result);\n        });\n      }\n      if (_sunos) {\n        const params = ['-s', '-a', hostSanitized, '56', '2'];\n        const filt = 'avg';\n        util.execSafe('ping', params, { timeout: 3000 }).then((stdout) => {\n          let result = null;\n          if (stdout) {\n            const lines = stdout.split('\\n').filter(line => line.indexOf(filt) >= 0).join('\\n');\n            const line = lines.split('=');\n            if (line.length > 1) {\n              const parts = line[1].split('/');\n              if (parts.length > 1) {\n                result = parseFloat(parts[1].replace(',', '.'));\n              }\n            }\n          }\n          if (callback) { callback(result); }\n          resolve(result);\n        });\n      }\n      if (_windows) {\n        let result = null;\n        try {\n          const params = [hostSanitized, '-n', '1'];\n          util.execSafe('ping', params, util.execOptsWin).then((stdout) => {\n            if (stdout) {\n              let lines = stdout.split('\\r\\n');\n              lines.shift();\n              lines.forEach(function (line) {\n                if ((line.toLowerCase().match(/ms/g) || []).length === 3) {\n                  let l = line.replace(/ +/g, ' ').split(' ');\n                  if (l.length > 6) {\n                    result = parseFloat(l[l.length - 1]);\n                  }\n                }\n              });\n            }\n            if (callback) { callback(result); }\n            resolve(result);\n          });\n        } catch (e) {\n          if (callback) { callback(result); }\n          resolve(result);\n        }\n      }\n    });\n  });\n}\n\nexports.inetLatency = inetLatency;\n","'use strict';\n// @ts-check\n// ==================================================================================\n// memory.js\n// ----------------------------------------------------------------------------------\n// Description:   System Information - library\n//                for Node.js\n// Copyright:     (c) 2014 - 2023\n// Author:        Sebastian Hildebrandt\n// ----------------------------------------------------------------------------------\n// License:       MIT\n// ==================================================================================\n// 5. Memory\n// ----------------------------------------------------------------------------------\n\nconst os = require('os');\nconst exec = require('child_process').exec;\nconst execSync = require('child_process').execSync;\nconst util = require('./util');\nconst fs = require('fs');\n\nlet _platform = process.platform;\n\nconst _linux = (_platform === 'linux' || _platform === 'android');\nconst _darwin = (_platform === 'darwin');\nconst _windows = (_platform === 'win32');\nconst _freebsd = (_platform === 'freebsd');\nconst _openbsd = (_platform === 'openbsd');\nconst _netbsd = (_platform === 'netbsd');\nconst _sunos = (_platform === 'sunos');\n\nconst OSX_RAM_manufacturers = {\n  '0x014F': 'Transcend Information',\n  '0x2C00': 'Micron Technology Inc.',\n  '0x802C': 'Micron Technology Inc.',\n  '0x80AD': 'Hynix Semiconductor Inc.',\n  '0x80CE': 'Samsung Electronics Inc.',\n  '0xAD00': 'Hynix Semiconductor Inc.',\n  '0xCE00': 'Samsung Electronics Inc.',\n  '0x02FE': 'Elpida',\n  '0x5105': 'Qimonda AG i. In.',\n  '0x8551': 'Qimonda AG i. In.',\n  '0x859B': 'Crucial',\n  '0x04CD': 'G-Skill'\n};\n\nconst LINUX_RAM_manufacturers = {\n  '017A': 'Apacer',\n  '0198': 'HyperX',\n  '029E': 'Corsair',\n  '04CB': 'A-DATA',\n  '04CD': 'G-Skill',\n  '059B': 'Crucial',\n  '00CE': 'Samsung',\n  '1315': 'Crutial',\n  '014F': 'Transcend Information',\n  '2C00': 'Micron Technology Inc.',\n  '802C': 'Micron Technology Inc.',\n  '80AD': 'Hynix Semiconductor Inc.',\n  '80CE': 'Samsung Electronics Inc.',\n  'AD00': 'Hynix Semiconductor Inc.',\n  'CE00': 'Samsung Electronics Inc.',\n  '02FE': 'Elpida',\n  '5105': 'Qimonda AG i. In.',\n  '8551': 'Qimonda AG i. In.',\n  '859B': 'Crucial'\n};\n\n// _______________________________________________________________________________________\n// |                         R A M                              |          H D           |\n// |______________________|_________________________|           |                        |\n// |        active             buffers/cache        |           |                        |\n// |________________________________________________|___________|_________|______________|\n// |                     used                            free   |   used       free      |\n// |____________________________________________________________|________________________|\n// |                        total                               |          swap          |\n// |____________________________________________________________|________________________|\n\n// free (older versions)\n// ----------------------------------\n// # free\n//              total       used        free     shared    buffers     cached\n// Mem:         16038 (1)   15653 (2)   384 (3)  0 (4)     236 (5)     14788 (6)\n// -/+ buffers/cache:       628 (7)     15409 (8)\n// Swap:        16371         83      16288\n//\n// |------------------------------------------------------------|\n// |                           R A M                            |\n// |______________________|_____________________________________|\n// | active (2-(5+6) = 7) |  available (3+5+6 = 8)              |\n// |______________________|_________________________|___________|\n// |        active        |  buffers/cache (5+6)    |           |\n// |________________________________________________|___________|\n// |                   used (2)                     | free (3)  |\n// |____________________________________________________________|\n// |                          total (1)                         |\n// |____________________________________________________________|\n\n//\n// free (since free von procps-ng 3.3.10)\n// ----------------------------------\n// # free\n//              total       used        free     shared    buffers/cache   available\n// Mem:         16038 (1)   628 (2)     386 (3)  0 (4)     15024 (5)     14788 (6)\n// Swap:        16371         83      16288\n//\n// |------------------------------------------------------------|\n// |                           R A M                            |\n// |______________________|_____________________________________|\n// |                      |      available (6) estimated        |\n// |______________________|_________________________|___________|\n// |     active (2)       |   buffers/cache (5)     | free (3)  |\n// |________________________________________________|___________|\n// |                          total (1)                         |\n// |____________________________________________________________|\n//\n// Reference: http://www.software-architect.net/blog/article/date/2015/06/12/-826c6e5052.html\n\n// /procs/meminfo - sample (all in kB)\n//\n// MemTotal: 32806380 kB\n// MemFree: 17977744 kB\n// MemAvailable: 19768972 kB\n// Buffers: 517028 kB\n// Cached: 2161876 kB\n// SwapCached: 456 kB\n// Active: 12081176 kB\n// Inactive: 2164616 kB\n// Active(anon): 10832884 kB\n// Inactive(anon): 1477272 kB\n// Active(file): 1248292 kB\n// Inactive(file): 687344 kB\n// Unevictable: 0 kB\n// Mlocked: 0 kB\n// SwapTotal: 16768892 kB\n// SwapFree: 16768304 kB\n// Dirty: 268 kB\n// Writeback: 0 kB\n// AnonPages: 11568832 kB\n// Mapped: 719992 kB\n// Shmem: 743272 kB\n// Slab: 335716 kB\n// SReclaimable: 256364 kB\n// SUnreclaim: 79352 kB\n\nfunction mem(callback) {\n\n  return new Promise((resolve) => {\n    process.nextTick(() => {\n\n      let result = {\n        total: os.totalmem(),\n        free: os.freemem(),\n        used: os.totalmem() - os.freemem(),\n\n        active: os.totalmem() - os.freemem(),     // temporarily (fallback)\n        available: os.freemem(),                  // temporarily (fallback)\n        buffers: 0,\n        cached: 0,\n        slab: 0,\n        buffcache: 0,\n\n        swaptotal: 0,\n        swapused: 0,\n        swapfree: 0,\n        writeback: null,\n        dirty: null\n      };\n\n      if (_linux) {\n        try {\n          fs.readFile('/proc/meminfo', function (error, stdout) {\n            if (!error) {\n              const lines = stdout.toString().split('\\n');\n              result.total = parseInt(util.getValue(lines, 'memtotal'), 10);\n              result.total = result.total ? result.total * 1024 : os.totalmem();\n              result.free = parseInt(util.getValue(lines, 'memfree'), 10);\n              result.free = result.free ? result.free * 1024 : os.freemem();\n              result.used = result.total - result.free;\n\n              result.buffers = parseInt(util.getValue(lines, 'buffers'), 10);\n              result.buffers = result.buffers ? result.buffers * 1024 : 0;\n              result.cached = parseInt(util.getValue(lines, 'cached'), 10);\n              result.cached = result.cached ? result.cached * 1024 : 0;\n              result.slab = parseInt(util.getValue(lines, 'slab'), 10);\n              result.slab = result.slab ? result.slab * 1024 : 0;\n              result.buffcache = result.buffers + result.cached + result.slab;\n\n              let available = parseInt(util.getValue(lines, 'memavailable'), 10);\n              result.available = available ? available * 1024 : result.free + result.buffcache;\n              result.active = result.total - result.available;\n\n              result.swaptotal = parseInt(util.getValue(lines, 'swaptotal'), 10);\n              result.swaptotal = result.swaptotal ? result.swaptotal * 1024 : 0;\n              result.swapfree = parseInt(util.getValue(lines, 'swapfree'), 10);\n              result.swapfree = result.swapfree ? result.swapfree * 1024 : 0;\n              result.swapused = result.swaptotal - result.swapfree;\n              result.writeback = parseInt(util.getValue(lines, 'writeback'), 10);\n              result.writeback = result.writeback ? result.writeback * 1024 : 0;\n              result.dirty = parseInt(util.getValue(lines, 'dirty'), 10);\n              result.dirty = result.dirty ? result.dirty * 1024 : 0;\n            }\n            if (callback) { callback(result); }\n            resolve(result);\n          });\n        } catch (e) {\n          if (callback) { callback(result); }\n          resolve(result);\n        }\n      }\n      if (_freebsd || _openbsd || _netbsd) {\n        try {\n          exec('/sbin/sysctl hw.realmem hw.physmem vm.stats.vm.v_page_count vm.stats.vm.v_wire_count vm.stats.vm.v_active_count vm.stats.vm.v_inactive_count vm.stats.vm.v_cache_count vm.stats.vm.v_free_count vm.stats.vm.v_page_size', function (error, stdout) {\n            if (!error) {\n              let lines = stdout.toString().split('\\n');\n              const pagesize = parseInt(util.getValue(lines, 'vm.stats.vm.v_page_size'), 10);\n              const inactive = parseInt(util.getValue(lines, 'vm.stats.vm.v_inactive_count'), 10) * pagesize;\n              const cache = parseInt(util.getValue(lines, 'vm.stats.vm.v_cache_count'), 10) * pagesize;\n\n              result.total = parseInt(util.getValue(lines, 'hw.realmem'), 10);\n              if (isNaN(result.total)) { result.total = parseInt(util.getValue(lines, 'hw.physmem'), 10); }\n              result.free = parseInt(util.getValue(lines, 'vm.stats.vm.v_free_count'), 10) * pagesize;\n              result.buffcache = inactive + cache;\n              result.available = result.buffcache + result.free;\n              result.active = result.total - result.free - result.buffcache;\n\n              result.swaptotal = 0;\n              result.swapfree = 0;\n              result.swapused = 0;\n\n            }\n            if (callback) { callback(result); }\n            resolve(result);\n          });\n        } catch (e) {\n          if (callback) { callback(result); }\n          resolve(result);\n        }\n      }\n      if (_sunos) {\n        if (callback) { callback(result); }\n        resolve(result);\n      }\n      if (_darwin) {\n        let pageSize = 4096;\n        try {\n          let sysPpageSize = util.toInt(execSync('sysctl -n vm.pagesize').toString());\n          pageSize = sysPpageSize || pageSize;\n        } catch (e) {\n          util.noop();\n        }\n        try {\n          exec('vm_stat 2>/dev/null | grep \"Pages active\"', function (error, stdout) {\n            if (!error) {\n              let lines = stdout.toString().split('\\n');\n\n              result.active = parseInt(lines[0].split(':')[1], 10) * pageSize;\n              result.buffcache = result.used - result.active;\n              result.available = result.free + result.buffcache;\n            }\n            exec('sysctl -n vm.swapusage 2>/dev/null', function (error, stdout) {\n              if (!error) {\n                let lines = stdout.toString().split('\\n');\n                if (lines.length > 0) {\n                  let firstline = lines[0].replace(/,/g, '.').replace(/M/g, '');\n                  let lineArray = firstline.trim().split('  ');\n                  lineArray.forEach(line => {\n                    if (line.toLowerCase().indexOf('total') !== -1) { result.swaptotal = parseFloat(line.split('=')[1].trim()) * 1024 * 1024; }\n                    if (line.toLowerCase().indexOf('used') !== -1) { result.swapused = parseFloat(line.split('=')[1].trim()) * 1024 * 1024; }\n                    if (line.toLowerCase().indexOf('free') !== -1) { result.swapfree = parseFloat(line.split('=')[1].trim()) * 1024 * 1024; }\n                  });\n                }\n              }\n              if (callback) { callback(result); }\n              resolve(result);\n            });\n          });\n        } catch (e) {\n          if (callback) { callback(result); }\n          resolve(result);\n        }\n      }\n      if (_windows) {\n        let swaptotal = 0;\n        let swapused = 0;\n        try {\n          util.powerShell('Get-CimInstance Win32_PageFileUsage | Select AllocatedBaseSize, CurrentUsage').then((stdout, error) => {\n            if (!error) {\n              let lines = stdout.split('\\r\\n').filter(line => line.trim() !== '').filter((line, idx) => idx > 0);\n              lines.forEach(function (line) {\n                if (line !== '') {\n                  line = line.trim().split(/\\s\\s+/);\n                  swaptotal = swaptotal + (parseInt(line[0], 10) || 0);\n                  swapused = swapused + (parseInt(line[1], 10) || 0);\n                }\n              });\n            }\n            result.swaptotal = swaptotal * 1024 * 1024;\n            result.swapused = swapused * 1024 * 1024;\n            result.swapfree = result.swaptotal - result.swapused;\n\n            if (callback) { callback(result); }\n            resolve(result);\n          });\n        } catch (e) {\n          if (callback) { callback(result); }\n          resolve(result);\n        }\n      }\n    });\n  });\n}\n\nexports.mem = mem;\n\nfunction memLayout(callback) {\n\n  function getManufacturerDarwin(manId) {\n    if ({}.hasOwnProperty.call(OSX_RAM_manufacturers, manId)) {\n      return (OSX_RAM_manufacturers[manId]);\n    }\n    return manId;\n  }\n\n  function getManufacturerLinux(manId) {\n    const manIdSearch = manId.replace('0x', '').toUpperCase();\n    if (manIdSearch.length === 4 && {}.hasOwnProperty.call(LINUX_RAM_manufacturers, manIdSearch)) {\n      return (LINUX_RAM_manufacturers[manIdSearch]);\n    }\n    return manId;\n  }\n\n  return new Promise((resolve) => {\n    process.nextTick(() => {\n\n      let result = [];\n\n      if (_linux || _freebsd || _openbsd || _netbsd) {\n        exec('export LC_ALL=C; dmidecode -t memory 2>/dev/null | grep -iE \"Size:|Type|Speed|Manufacturer|Form Factor|Locator|Memory Device|Serial Number|Voltage|Part Number\"; unset LC_ALL', function (error, stdout) {\n          if (!error) {\n            let devices = stdout.toString().split('Memory Device');\n            devices.shift();\n            devices.forEach(function (device) {\n              let lines = device.split('\\n');\n              const sizeString = util.getValue(lines, 'Size');\n              const size = sizeString.indexOf('GB') >= 0 ? parseInt(sizeString, 10) * 1024 * 1024 * 1024 : parseInt(sizeString, 10) * 1024 * 1024;\n              let bank = util.getValue(lines, 'Bank Locator');\n              if (bank.toLowerCase().indexOf('bad') >= 0) {\n                bank = '';\n              }\n              if (parseInt(util.getValue(lines, 'Size'), 10) > 0) {\n                const totalWidth = util.toInt(util.getValue(lines, 'Total Width'));\n                const dataWidth = util.toInt(util.getValue(lines, 'Data Width'));\n                result.push({\n                  size,\n                  bank,\n                  type: util.getValue(lines, 'Type:'),\n                  ecc: dataWidth && totalWidth ? totalWidth > dataWidth : false,\n                  clockSpeed: (util.getValue(lines, 'Configured Clock Speed:') ? parseInt(util.getValue(lines, 'Configured Clock Speed:'), 10) : (util.getValue(lines, 'Speed:') ? parseInt(util.getValue(lines, 'Speed:'), 10) : null)),\n                  formFactor: util.getValue(lines, 'Form Factor:'),\n                  manufacturer: getManufacturerLinux(util.getValue(lines, 'Manufacturer:')),\n                  partNum: util.getValue(lines, 'Part Number:'),\n                  serialNum: util.getValue(lines, 'Serial Number:'),\n                  voltageConfigured: parseFloat(util.getValue(lines, 'Configured Voltage:')) || null,\n                  voltageMin: parseFloat(util.getValue(lines, 'Minimum Voltage:')) || null,\n                  voltageMax: parseFloat(util.getValue(lines, 'Maximum Voltage:')) || null,\n                });\n              } else {\n                result.push({\n                  size: 0,\n                  bank,\n                  type: 'Empty',\n                  ecc: null,\n                  clockSpeed: 0,\n                  formFactor: util.getValue(lines, 'Form Factor:'),\n                  partNum: '',\n                  serialNum: '',\n                  voltageConfigured: null,\n                  voltageMin: null,\n                  voltageMax: null,\n                });\n              }\n            });\n          }\n          if (!result.length) {\n            result.push({\n              size: os.totalmem(),\n              bank: '',\n              type: '',\n              ecc: null,\n              clockSpeed: 0,\n              formFactor: '',\n              partNum: '',\n              serialNum: '',\n              voltageConfigured: null,\n              voltageMin: null,\n              voltageMax: null,\n            });\n\n            // Try Raspberry PI\n            try {\n              let stdout = execSync('cat /proc/cpuinfo 2>/dev/null');\n              let lines = stdout.toString().split('\\n');\n              let model = util.getValue(lines, 'hardware', ':', true).toUpperCase();\n              let version = util.getValue(lines, 'revision', ':', true).toLowerCase();\n\n              if (model === 'BCM2835' || model === 'BCM2708' || model === 'BCM2709' || model === 'BCM2835' || model === 'BCM2837') {\n\n                const clockSpeed = {\n                  '0': 400,\n                  '1': 450,\n                  '2': 450,\n                  '3': 3200\n                };\n                result[0].type = 'LPDDR2';\n                result[0].type = version && version[2] && version[2] === '3' ? 'LPDDR4' : result[0].type;\n                result[0].ecc = false;\n                result[0].clockSpeed = version && version[2] && clockSpeed[version[2]] || 400;\n                result[0].clockSpeed = version && version[4] && version[4] === 'd' ? 500 : result[0].clockSpeed;\n                result[0].formFactor = 'SoC';\n\n                stdout = execSync('vcgencmd get_config sdram_freq 2>/dev/null');\n                lines = stdout.toString().split('\\n');\n                let freq = parseInt(util.getValue(lines, 'sdram_freq', '=', true), 10) || 0;\n                if (freq) {\n                  result[0].clockSpeed = freq;\n                }\n\n                stdout = execSync('vcgencmd measure_volts sdram_p 2>/dev/null');\n                lines = stdout.toString().split('\\n');\n                let voltage = parseFloat(util.getValue(lines, 'volt', '=', true)) || 0;\n                if (voltage) {\n                  result[0].voltageConfigured = voltage;\n                  result[0].voltageMin = voltage;\n                  result[0].voltageMax = voltage;\n                }\n              }\n            } catch (e) {\n              util.noop();\n            }\n\n          }\n          if (callback) { callback(result); }\n          resolve(result);\n        });\n      }\n\n      if (_darwin) {\n        exec('system_profiler SPMemoryDataType', function (error, stdout) {\n          if (!error) {\n            const allLines = stdout.toString().split('\\n');\n            const eccStatus = util.getValue(allLines, 'ecc', ':', true).toLowerCase();\n            let devices = stdout.toString().split('        BANK ');\n            let hasBank = true;\n            if (devices.length === 1) {\n              devices = stdout.toString().split('        DIMM');\n              hasBank = false;\n            }\n            devices.shift();\n            devices.forEach(function (device) {\n              let lines = device.split('\\n');\n              const bank = (hasBank ? 'BANK ' : 'DIMM') + lines[0].trim().split('/')[0];\n              const size = parseInt(util.getValue(lines, '          Size'));\n              if (size) {\n                result.push({\n                  size: size * 1024 * 1024 * 1024,\n                  bank: bank,\n                  type: util.getValue(lines, '          Type:'),\n                  ecc: eccStatus ? eccStatus === 'enabled' : null,\n                  clockSpeed: parseInt(util.getValue(lines, '          Speed:'), 10),\n                  formFactor: '',\n                  manufacturer: getManufacturerDarwin(util.getValue(lines, '          Manufacturer:')),\n                  partNum: util.getValue(lines, '          Part Number:'),\n                  serialNum: util.getValue(lines, '          Serial Number:'),\n                  voltageConfigured: null,\n                  voltageMin: null,\n                  voltageMax: null,\n                });\n              } else {\n                result.push({\n                  size: 0,\n                  bank: bank,\n                  type: 'Empty',\n                  ecc: null,\n                  clockSpeed: 0,\n                  formFactor: '',\n                  manufacturer: '',\n                  partNum: '',\n                  serialNum: '',\n                  voltageConfigured: null,\n                  voltageMin: null,\n                  voltageMax: null,\n                });\n              }\n            });\n          }\n          if (!result.length) {\n            const lines = stdout.toString().split('\\n');\n            const size = parseInt(util.getValue(lines, '      Memory:'));\n            const type = util.getValue(lines, '      Type:');\n            if (size && type) {\n              result.push({\n                size: size * 1024 * 1024 * 1024,\n                bank: '0',\n                type,\n                ecc: false,\n                clockSpeed: 0,\n                formFactor: '',\n                manufacturer: 'Apple',\n                partNum: '',\n                serialNum: '',\n                voltageConfigured: null,\n                voltageMin: null,\n                voltageMax: null,\n              });\n\n            }\n          }\n          if (callback) { callback(result); }\n          resolve(result);\n        });\n      }\n      if (_sunos) {\n        if (callback) { callback(result); }\n        resolve(result);\n      }\n      if (_windows) {\n        // https://www.dmtf.org/sites/default/files/standards/documents/DSP0134_3.4.0a.pdf\n        const memoryTypes = 'Unknown|Other|DRAM|Synchronous DRAM|Cache DRAM|EDO|EDRAM|VRAM|SRAM|RAM|ROM|FLASH|EEPROM|FEPROM|EPROM|CDRAM|3DRAM|SDRAM|SGRAM|RDRAM|DDR|DDR2|DDR2 FB-DIMM|Reserved|DDR3|FBD2|DDR4|LPDDR|LPDDR2|LPDDR3|LPDDR4|Logical non-volatile device|HBM|HBM2|DDR5|LPDDR5'.split('|');\n        const FormFactors = 'Unknown|Other|SIP|DIP|ZIP|SOJ|Proprietary|SIMM|DIMM|TSOP|PGA|RIMM|SODIMM|SRIMM|SMD|SSMP|QFP|TQFP|SOIC|LCC|PLCC|BGA|FPBGA|LGA'.split('|');\n\n        try {\n          util.powerShell('Get-CimInstance Win32_PhysicalMemory | select DataWidth,TotalWidth,Capacity,BankLabel,MemoryType,SMBIOSMemoryType,ConfiguredClockSpeed,FormFactor,Manufacturer,PartNumber,SerialNumber,ConfiguredVoltage,MinVoltage,MaxVoltage | fl').then((stdout, error) => {\n            if (!error) {\n              let devices = stdout.toString().split(/\\n\\s*\\n/);\n              devices.shift();\n              devices.forEach(function (device) {\n                let lines = device.split('\\r\\n');\n                const dataWidth = util.toInt(util.getValue(lines, 'DataWidth', ':'));\n                const totalWidth = util.toInt(util.getValue(lines, 'TotalWidth', ':'));\n                const size = parseInt(util.getValue(lines, 'Capacity', ':'), 10) || 0;\n                if (size) {\n                  result.push({\n                    size,\n                    bank: util.getValue(lines, 'BankLabel', ':'), // BankLabel\n                    type: memoryTypes[parseInt(util.getValue(lines, 'MemoryType', ':'), 10) || parseInt(util.getValue(lines, 'SMBIOSMemoryType', ':'), 10)],\n                    ecc: dataWidth && totalWidth ? totalWidth > dataWidth : false,\n                    clockSpeed: parseInt(util.getValue(lines, 'ConfiguredClockSpeed', ':'), 10) || parseInt(util.getValue(lines, 'Speed', ':'), 10) || 0,\n                    formFactor: FormFactors[parseInt(util.getValue(lines, 'FormFactor', ':'), 10) || 0],\n                    manufacturer: util.getValue(lines, 'Manufacturer', ':'),\n                    partNum: util.getValue(lines, 'PartNumber', ':'),\n                    serialNum: util.getValue(lines, 'SerialNumber', ':'),\n                    voltageConfigured: (parseInt(util.getValue(lines, 'ConfiguredVoltage', ':'), 10) || 0) / 1000.0,\n                    voltageMin: (parseInt(util.getValue(lines, 'MinVoltage', ':'), 10) || 0) / 1000.0,\n                    voltageMax: (parseInt(util.getValue(lines, 'MaxVoltage', ':'), 10) || 0) / 1000.0,\n                  });\n                }\n              });\n            }\n            if (callback) { callback(result); }\n            resolve(result);\n          });\n        } catch (e) {\n          if (callback) { callback(result); }\n          resolve(result);\n        }\n      }\n    });\n  });\n}\n\nexports.memLayout = memLayout;\n\n","'use strict';\n// @ts-check\n// ==================================================================================\n// network.js\n// ----------------------------------------------------------------------------------\n// Description:   System Information - library\n//                for Node.js\n// Copyright:     (c) 2014 - 2023\n// Author:        Sebastian Hildebrandt\n// ----------------------------------------------------------------------------------\n// License:       MIT\n// ==================================================================================\n// 9. Network\n// ----------------------------------------------------------------------------------\n\nconst os = require('os');\nconst exec = require('child_process').exec;\nconst execSync = require('child_process').execSync;\nconst fs = require('fs');\nconst util = require('./util');\n\nlet _platform = process.platform;\n\nconst _linux = (_platform === 'linux' || _platform === 'android');\nconst _darwin = (_platform === 'darwin');\nconst _windows = (_platform === 'win32');\nconst _freebsd = (_platform === 'freebsd');\nconst _openbsd = (_platform === 'openbsd');\nconst _netbsd = (_platform === 'netbsd');\nconst _sunos = (_platform === 'sunos');\n\nlet _network = {};\nlet _default_iface = '';\nlet _ifaces = {};\nlet _dhcpNics = [];\nlet _networkInterfaces = [];\nlet _mac = {};\nlet pathToIp;\n\nfunction getDefaultNetworkInterface() {\n\n  let ifacename = '';\n  let ifacenameFirst = '';\n  try {\n    let ifaces = os.networkInterfaces();\n\n    let scopeid = 9999;\n\n    // fallback - \"first\" external interface (sorted by scopeid)\n    for (let dev in ifaces) {\n      if ({}.hasOwnProperty.call(ifaces, dev)) {\n        ifaces[dev].forEach(function (details) {\n          if (details && details.internal === false) {\n            ifacenameFirst = ifacenameFirst || dev; // fallback if no scopeid\n            if (details.scopeid && details.scopeid < scopeid) {\n              ifacename = dev;\n              scopeid = details.scopeid;\n            }\n          }\n        });\n      }\n    }\n    ifacename = ifacename || ifacenameFirst || '';\n\n    if (_windows) {\n      // https://www.inetdaemon.com/tutorials/internet/ip/routing/default_route.shtml\n      let defaultIp = '';\n      const cmd = 'netstat -r';\n      const result = execSync(cmd, util.execOptsWin);\n      const lines = result.toString().split(os.EOL);\n      lines.forEach(line => {\n        line = line.replace(/\\s+/g, ' ').trim();\n        if (line.indexOf('0.0.0.0 0.0.0.0') > -1 && !(/[a-zA-Z]/.test(line))) {\n          const parts = line.split(' ');\n          if (parts.length >= 5) {\n            defaultIp = parts[parts.length - 2];\n          }\n        }\n      });\n      if (defaultIp) {\n        for (let dev in ifaces) {\n          if ({}.hasOwnProperty.call(ifaces, dev)) {\n            ifaces[dev].forEach(function (details) {\n              if (details && details.address && details.address === defaultIp) {\n                ifacename = dev;\n              }\n            });\n          }\n        }\n      }\n    }\n    if (_linux) {\n      let cmd = 'ip route 2> /dev/null | grep default';\n      let result = execSync(cmd);\n      let parts = result.toString().split('\\n')[0].split(/\\s+/);\n      if (parts[0] === 'none' && parts[5]) {\n        ifacename = parts[5];\n      } else if (parts[4]) {\n        ifacename = parts[4];\n      }\n\n      if (ifacename.indexOf(':') > -1) {\n        ifacename = ifacename.split(':')[1].trim();\n      }\n    }\n    if (_darwin || _freebsd || _openbsd || _netbsd || _sunos) {\n      let cmd = '';\n      if (_linux) { cmd = 'ip route 2> /dev/null | grep default | awk \\'{print $5}\\''; }\n      if (_darwin) { cmd = 'route -n get default 2>/dev/null | grep interface: | awk \\'{print $2}\\''; }\n      if (_freebsd || _openbsd || _netbsd || _sunos) { cmd = 'route get 0.0.0.0 | grep interface:'; }\n      let result = execSync(cmd);\n      ifacename = result.toString().split('\\n')[0];\n      if (ifacename.indexOf(':') > -1) {\n        ifacename = ifacename.split(':')[1].trim();\n      }\n    }\n  } catch (e) {\n    util.noop();\n  }\n  if (ifacename) { _default_iface = ifacename; }\n  return _default_iface;\n}\n\nexports.getDefaultNetworkInterface = getDefaultNetworkInterface;\n\nfunction getMacAddresses() {\n  let iface = '';\n  let mac = '';\n  let result = {};\n  if (_linux || _freebsd || _openbsd || _netbsd) {\n    if (typeof pathToIp === 'undefined') {\n      try {\n        const lines = execSync('which ip').toString().split('\\n');\n        if (lines.length && lines[0].indexOf(':') === -1 && lines[0].indexOf('/') === 0) {\n          pathToIp = lines[0];\n        } else {\n          pathToIp = '';\n        }\n      } catch (e) {\n        pathToIp = '';\n      }\n    }\n    try {\n      const cmd = 'export LC_ALL=C; ' + ((pathToIp) ? pathToIp + ' link show up' : '/sbin/ifconfig') + '; unset LC_ALL';\n      let res = execSync(cmd);\n      const lines = res.toString().split('\\n');\n      for (let i = 0; i < lines.length; i++) {\n        if (lines[i] && lines[i][0] !== ' ') {\n          if (pathToIp) {\n            let nextline = lines[i + 1].trim().split(' ');\n            if (nextline[0] === 'link/ether') {\n              iface = lines[i].split(' ')[1];\n              iface = iface.slice(0, iface.length - 1);\n              mac = nextline[1];\n            }\n          } else {\n            iface = lines[i].split(' ')[0];\n            mac = lines[i].split('HWaddr ')[1];\n          }\n\n          if (iface && mac) {\n            result[iface] = mac.trim();\n            iface = '';\n            mac = '';\n          }\n        }\n      }\n    } catch (e) {\n      util.noop();\n    }\n  }\n  if (_darwin) {\n    try {\n      const cmd = '/sbin/ifconfig';\n      let res = execSync(cmd);\n      const lines = res.toString().split('\\n');\n      for (let i = 0; i < lines.length; i++) {\n        if (lines[i] && lines[i][0] !== '\\t' && lines[i].indexOf(':') > 0) {\n          iface = lines[i].split(':')[0];\n        } else if (lines[i].indexOf('\\tether ') === 0) {\n          mac = lines[i].split('\\tether ')[1];\n          if (iface && mac) {\n            result[iface] = mac.trim();\n            iface = '';\n            mac = '';\n          }\n        }\n      }\n    } catch (e) {\n      util.noop();\n    }\n  }\n  return result;\n}\n\nfunction networkInterfaceDefault(callback) {\n\n  return new Promise((resolve) => {\n    process.nextTick(() => {\n      let result = getDefaultNetworkInterface();\n      if (callback) { callback(result); }\n      resolve(result);\n    });\n  });\n}\n\nexports.networkInterfaceDefault = networkInterfaceDefault;\n\n// --------------------------\n// NET - interfaces\n\nfunction parseLinesWindowsNics(sections, nconfigsections) {\n  let nics = [];\n  for (let i in sections) {\n    if ({}.hasOwnProperty.call(sections, i)) {\n\n      if (sections[i].trim() !== '') {\n\n        let lines = sections[i].trim().split('\\r\\n');\n        let linesNicConfig = nconfigsections && nconfigsections[i] ? nconfigsections[i].trim().split('\\r\\n') : [];\n        let netEnabled = util.getValue(lines, 'NetEnabled', ':');\n        let adapterType = util.getValue(lines, 'AdapterTypeID', ':') === '9' ? 'wireless' : 'wired';\n        let ifacename = util.getValue(lines, 'Name', ':').replace(/\\]/g, ')').replace(/\\[/g, '(');\n        let iface = util.getValue(lines, 'NetConnectionID', ':').replace(/\\]/g, ')').replace(/\\[/g, '(');\n        if (ifacename.toLowerCase().indexOf('wi-fi') >= 0 || ifacename.toLowerCase().indexOf('wireless') >= 0) {\n          adapterType = 'wireless';\n        }\n        if (netEnabled !== '') {\n          const speed = parseInt(util.getValue(lines, 'speed', ':').trim(), 10) / 1000000;\n          nics.push({\n            mac: util.getValue(lines, 'MACAddress', ':').toLowerCase(),\n            dhcp: util.getValue(linesNicConfig, 'dhcpEnabled', ':').toLowerCase() === 'true',\n            name: ifacename,\n            iface,\n            netEnabled: netEnabled === 'TRUE',\n            speed: isNaN(speed) ? null : speed,\n            operstate: util.getValue(lines, 'NetConnectionStatus', ':') === '2' ? 'up' : 'down',\n            type: adapterType\n          });\n        }\n      }\n    }\n  }\n  return nics;\n}\n\nfunction getWindowsNics() {\n  return new Promise((resolve) => {\n    process.nextTick(() => {\n      let cmd = 'Get-CimInstance Win32_NetworkAdapter | fl *' + '; echo \\'#-#-#-#\\';';\n      cmd += 'Get-CimInstance Win32_NetworkAdapterConfiguration | fl DHCPEnabled' + '';\n      try {\n        util.powerShell(cmd).then((data) => {\n          data = data.split('#-#-#-#');\n          const nsections = (data[0] || '').split(/\\n\\s*\\n/);\n          const nconfigsections = (data[1] || '').split(/\\n\\s*\\n/);\n          resolve(parseLinesWindowsNics(nsections, nconfigsections));\n        });\n      } catch (e) {\n        resolve([]);\n      }\n    });\n  });\n}\n\nfunction getWindowsDNSsuffixes() {\n\n  let iface = {};\n\n  let dnsSuffixes = {\n    primaryDNS: '',\n    exitCode: 0,\n    ifaces: [],\n  };\n\n  try {\n    const ipconfig = execSync('ipconfig /all', util.execOptsWin);\n    const ipconfigArray = ipconfig.split('\\r\\n\\r\\n');\n\n    ipconfigArray.forEach((element, index) => {\n\n      if (index == 1) {\n        const longPrimaryDNS = element.split('\\r\\n').filter((element) => {\n          return element.toUpperCase().includes('DNS');\n        });\n        const primaryDNS = longPrimaryDNS[0].substring(longPrimaryDNS[0].lastIndexOf(':') + 1);\n        dnsSuffixes.primaryDNS = primaryDNS.trim();\n        if (!dnsSuffixes.primaryDNS) { dnsSuffixes.primaryDNS = 'Not defined'; }\n      }\n      if (index > 1) {\n        if (index % 2 == 0) {\n          const name = element.substring(element.lastIndexOf(' ') + 1).replace(':', '');\n          iface.name = name;\n        } else {\n          const connectionSpecificDNS = element.split('\\r\\n').filter((element) => {\n            return element.toUpperCase().includes('DNS');\n          });\n          const dnsSuffix = connectionSpecificDNS[0].substring(connectionSpecificDNS[0].lastIndexOf(':') + 1);\n          iface.dnsSuffix = dnsSuffix.trim();\n          dnsSuffixes.ifaces.push(iface);\n          iface = {};\n        }\n      }\n    });\n\n    return dnsSuffixes;\n  } catch (error) {\n    return {\n      primaryDNS: '',\n      exitCode: 0,\n      ifaces: [],\n    };\n  }\n}\n\nfunction getWindowsIfaceDNSsuffix(ifaces, ifacename) {\n  let dnsSuffix = '';\n  // Adding (.) to ensure ifacename compatibility when duplicated iface-names\n  const interfaceName = ifacename + '.';\n  try {\n    const connectionDnsSuffix = ifaces.filter((iface) => {\n      return interfaceName.includes(iface.name + '.');\n    }).map((iface) => iface.dnsSuffix);\n    if (connectionDnsSuffix[0]) {\n      dnsSuffix = connectionDnsSuffix[0];\n    }\n    if (!dnsSuffix) { dnsSuffix = ''; }\n    return dnsSuffix;\n  } catch (error) {\n    return 'Unknown';\n  }\n}\n\nfunction getWindowsWiredProfilesInformation() {\n  try {\n    const result = execSync('netsh lan show profiles', util.execOptsWin);\n    const profileList = result.split('\\r\\nProfile on interface');\n    return profileList;\n  } catch (error) {\n    if (error.status === 1 && error.stdout.includes('AutoConfig')) {\n      return 'Disabled';\n    }\n    return [];\n  }\n}\n\nfunction getWindowsWirelessIfaceSSID(interfaceName) {\n  try {\n    const result = execSync(`netsh wlan show  interface name=\"${interfaceName}\" | findstr \"SSID\"`, util.execOptsWin);\n    const SSID = result.split('\\r\\n').shift();\n    const parseSSID = SSID.split(':').pop();\n    return parseSSID;\n  } catch (error) {\n    return 'Unknown';\n  }\n}\nfunction getWindowsIEEE8021x(connectionType, iface, ifaces) {\n  let i8021x = {\n    state: 'Unknown',\n    protocol: 'Unknown',\n  };\n\n  if (ifaces === 'Disabled') {\n    i8021x.state = 'Disabled';\n    i8021x.protocol = 'Not defined';\n    return i8021x;\n  }\n\n  if (connectionType == 'wired' && ifaces.length > 0) {\n    try {\n      // Get 802.1x information by interface name\n      const iface8021xInfo = ifaces.find((element) => {\n        return element.includes(iface + '\\r\\n');\n      });\n      const arrayIface8021xInfo = iface8021xInfo.split('\\r\\n');\n      const state8021x = arrayIface8021xInfo.find((element) => {\n        return element.includes('802.1x');\n      });\n\n      if (state8021x.includes('Disabled')) {\n        i8021x.state = 'Disabled';\n        i8021x.protocol = 'Not defined';\n      } else if (state8021x.includes('Enabled')) {\n        const protocol8021x = arrayIface8021xInfo.find((element) => {\n          return element.includes('EAP');\n        });\n        i8021x.protocol = protocol8021x.split(':').pop();\n        i8021x.state = 'Enabled';\n      }\n    } catch (error) {\n      return i8021x;\n    }\n  } else if (connectionType == 'wireless') {\n\n    let i8021xState = '';\n    let i8021xProtocol = '';\n\n\n\n    try {\n      const SSID = getWindowsWirelessIfaceSSID(iface);\n      if (SSID !== 'Unknown') {\n        i8021xState = execSync(`netsh wlan show profiles \"${SSID}\" | findstr \"802.1X\"`, util.execOptsWin);\n        i8021xProtocol = execSync(`netsh wlan show profiles \"${SSID}\" | findstr \"EAP\"`, util.execOptsWin);\n      }\n\n      if (i8021xState.includes(':') && i8021xProtocol.includes(':')) {\n        i8021x.state = i8021xState.split(':').pop();\n        i8021x.protocol = i8021xProtocol.split(':').pop();\n      }\n    } catch (error) {\n      if (error.status === 1 && error.stdout.includes('AutoConfig')) {\n        i8021x.state = 'Disabled';\n        i8021x.protocol = 'Not defined';\n      }\n      return i8021x;\n    }\n  }\n\n  return i8021x;\n}\n\nfunction splitSectionsNics(lines) {\n  const result = [];\n  let section = [];\n  lines.forEach(function (line) {\n    if (!line.startsWith('\\t') && !line.startsWith(' ')) {\n      if (section.length) {\n        result.push(section);\n        section = [];\n      }\n    }\n    section.push(line);\n  });\n  if (section.length) {\n    result.push(section);\n  }\n  return result;\n}\n\nfunction parseLinesDarwinNics(sections) {\n  let nics = [];\n  sections.forEach(section => {\n    let nic = {\n      iface: '',\n      mtu: null,\n      mac: '',\n      ip6: '',\n      ip4: '',\n      speed: null,\n      type: '',\n      operstate: '',\n      duplex: '',\n      internal: false\n    };\n    const first = section[0];\n    nic.iface = first.split(':')[0].trim();\n    let parts = first.split('> mtu');\n    nic.mtu = parts.length > 1 ? parseInt(parts[1], 10) : null;\n    if (isNaN(nic.mtu)) {\n      nic.mtu = null;\n    }\n    nic.internal = parts[0].toLowerCase().indexOf('loopback') > -1;\n    section.forEach(line => {\n      if (line.trim().startsWith('ether ')) {\n        nic.mac = line.split('ether ')[1].toLowerCase().trim();\n      }\n      if (line.trim().startsWith('inet6 ') && !nic.ip6) {\n        nic.ip6 = line.split('inet6 ')[1].toLowerCase().split('%')[0].split(' ')[0];\n      }\n      if (line.trim().startsWith('inet ') && !nic.ip4) {\n        nic.ip4 = line.split('inet ')[1].toLowerCase().split(' ')[0];\n      }\n    });\n    let speed = util.getValue(section, 'link rate');\n    nic.speed = speed ? parseFloat(speed) : null;\n    if (nic.speed === null) {\n      speed = util.getValue(section, 'uplink rate');\n      nic.speed = speed ? parseFloat(speed) : null;\n      if (nic.speed !== null && speed.toLowerCase().indexOf('gbps') >= 0) {\n        nic.speed = nic.speed * 1000;\n      }\n    } else {\n      if (speed.toLowerCase().indexOf('gbps') >= 0) {\n        nic.speed = nic.speed * 1000;\n      }\n    }\n    nic.type = util.getValue(section, 'type').toLowerCase().indexOf('wi-fi') > -1 ? 'wireless' : 'wired';\n    const operstate = util.getValue(section, 'status').toLowerCase();\n    nic.operstate = (operstate === 'active' ? 'up' : (operstate === 'inactive' ? 'down' : 'unknown'));\n    nic.duplex = util.getValue(section, 'media').toLowerCase().indexOf('half-duplex') > -1 ? 'half' : 'full';\n    if (nic.ip6 || nic.ip4 || nic.mac) {\n      nics.push(nic);\n    }\n  });\n  return nics;\n}\n\nfunction getDarwinNics() {\n  const cmd = '/sbin/ifconfig -v';\n  try {\n    const lines = execSync(cmd, { maxBuffer: 1024 * 20000 }).toString().split('\\n');\n    const nsections = splitSectionsNics(lines);\n    return (parseLinesDarwinNics(nsections));\n  } catch (e) {\n    return [];\n  }\n}\n\nfunction getLinuxIfaceConnectionName(interfaceName) {\n  const cmd = `nmcli device status 2>/dev/null | grep ${interfaceName}`;\n\n  try {\n    const result = execSync(cmd).toString();\n    const resultFormat = result.replace(/\\s+/g, ' ').trim();\n    const connectionNameLines = resultFormat.split(' ').slice(3);\n    const connectionName = connectionNameLines.join(' ');\n    return connectionName != '--' ? connectionName : '';\n  } catch (e) {\n    return '';\n  }\n}\n\nfunction checkLinuxDCHPInterfaces(file) {\n  let result = [];\n  try {\n    let cmd = `cat ${file} 2> /dev/null | grep 'iface\\\\|source'`;\n    const lines = execSync(cmd, { maxBuffer: 1024 * 20000 }).toString().split('\\n');\n\n    lines.forEach(line => {\n      const parts = line.replace(/\\s+/g, ' ').trim().split(' ');\n      if (parts.length >= 4) {\n        if (line.toLowerCase().indexOf(' inet ') >= 0 && line.toLowerCase().indexOf('dhcp') >= 0) {\n          result.push(parts[1]);\n        }\n      }\n      if (line.toLowerCase().includes('source')) {\n        let file = line.split(' ')[1];\n        result = result.concat(checkLinuxDCHPInterfaces(file));\n      }\n    });\n  } catch (e) {\n    util.noop();\n  }\n  return result;\n}\n\nfunction getLinuxDHCPNics() {\n  // alternate methods getting interfaces using DHCP\n  let cmd = 'ip a 2> /dev/null';\n  let result = [];\n  try {\n    const lines = execSync(cmd, { maxBuffer: 1024 * 20000 }).toString().split('\\n');\n    const nsections = splitSectionsNics(lines);\n    result = (parseLinuxDHCPNics(nsections));\n  } catch (e) {\n    util.noop();\n  }\n  try {\n    result = checkLinuxDCHPInterfaces('/etc/network/interfaces');\n  } catch (e) {\n    util.noop();\n  }\n  return result;\n}\n\nfunction parseLinuxDHCPNics(sections) {\n  const result = [];\n  if (sections && sections.length) {\n    sections.forEach(lines => {\n      if (lines && lines.length) {\n        const parts = lines[0].split(':');\n        if (parts.length > 2) {\n          for (let line of lines) {\n            if (line.indexOf(' inet ') >= 0 && line.indexOf(' dynamic ') >= 0) {\n              const parts2 = line.split(' ');\n              const nic = parts2[parts2.length - 1].trim();\n              result.push(nic);\n              break;\n            }\n          }\n        }\n      }\n    });\n  }\n  return result;\n}\n\nfunction getLinuxIfaceDHCPstatus(iface, connectionName, DHCPNics) {\n  let result = false;\n  if (connectionName) {\n    const cmd = `nmcli connection show \"${connectionName}\" 2>/dev/null | grep ipv4.method;`;\n    try {\n      const lines = execSync(cmd).toString();\n      const resultFormat = lines.replace(/\\s+/g, ' ').trim();\n\n      let dhcStatus = resultFormat.split(' ').slice(1).toString();\n      switch (dhcStatus) {\n        case 'auto':\n          result = true;\n          break;\n\n        default:\n          result = false;\n          break;\n      }\n      return result;\n    } catch (e) {\n      return (DHCPNics.indexOf(iface) >= 0);\n    }\n  } else {\n    return (DHCPNics.indexOf(iface) >= 0);\n  }\n}\n\nfunction getDarwinIfaceDHCPstatus(iface) {\n  let result = false;\n  const cmd = `ipconfig getpacket \"${iface}\" 2>/dev/null | grep lease_time;`;\n  try {\n    const lines = execSync(cmd).toString().split('\\n');\n    if (lines.length && lines[0].startsWith('lease_time')) {\n      result = true;\n    }\n  } catch (e) {\n    util.noop();\n  }\n  return result;\n}\n\nfunction getLinuxIfaceDNSsuffix(connectionName) {\n  if (connectionName) {\n    const cmd = `nmcli connection show \"${connectionName}\" 2>/dev/null | grep ipv4.dns-search;`;\n    try {\n      const result = execSync(cmd).toString();\n      const resultFormat = result.replace(/\\s+/g, ' ').trim();\n      const dnsSuffix = resultFormat.split(' ').slice(1).toString();\n      return dnsSuffix == '--' ? 'Not defined' : dnsSuffix;\n    } catch (e) {\n      return 'Unknown';\n    }\n  } else {\n    return 'Unknown';\n  }\n}\n\nfunction getLinuxIfaceIEEE8021xAuth(connectionName) {\n  if (connectionName) {\n    const cmd = `nmcli connection show \"${connectionName}\" 2>/dev/null | grep 802-1x.eap;`;\n    try {\n      const result = execSync(cmd).toString();\n      const resultFormat = result.replace(/\\s+/g, ' ').trim();\n      const authenticationProtocol = resultFormat.split(' ').slice(1).toString();\n\n\n      return authenticationProtocol == '--' ? '' : authenticationProtocol;\n    } catch (e) {\n      return 'Not defined';\n    }\n  } else {\n    return 'Not defined';\n  }\n}\n\nfunction getLinuxIfaceIEEE8021xState(authenticationProtocol) {\n  if (authenticationProtocol) {\n    if (authenticationProtocol == 'Not defined') {\n      return 'Disabled';\n    }\n    return 'Enabled';\n  } else {\n    return 'Unknown';\n  }\n}\n\nfunction testVirtualNic(iface, ifaceName, mac) {\n  const virtualMacs = ['00:00:00:00:00:00', '00:03:FF', '00:05:69', '00:0C:29', '00:0F:4B', '00:13:07', '00:13:BE', '00:15:5d', '00:16:3E', '00:1C:42', '00:21:F6', '00:24:0B', '00:50:56', '00:A0:B1', '00:E0:C8', '08:00:27', '0A:00:27', '18:92:2C', '16:DF:49', '3C:F3:92', '54:52:00', 'FC:15:97'];\n  if (mac) {\n    return virtualMacs.filter(item => { return mac.toUpperCase().toUpperCase().startsWith(item.substring(0, mac.length)); }).length > 0 ||\n      iface.toLowerCase().indexOf(' virtual ') > -1 ||\n      ifaceName.toLowerCase().indexOf(' virtual ') > -1 ||\n      iface.toLowerCase().indexOf('vethernet ') > -1 ||\n      ifaceName.toLowerCase().indexOf('vethernet ') > -1 ||\n      iface.toLowerCase().startsWith('veth') ||\n      ifaceName.toLowerCase().startsWith('veth') ||\n      iface.toLowerCase().startsWith('vboxnet') ||\n      ifaceName.toLowerCase().startsWith('vboxnet');\n  } else { return false; }\n}\n\nfunction networkInterfaces(callback, rescan, defaultString) {\n\n  if (typeof callback === 'string') {\n    defaultString = callback;\n    rescan = true;\n    callback = null;\n  }\n\n  if (typeof callback === 'boolean') {\n    rescan = callback;\n    callback = null;\n    defaultString = '';\n  }\n  if (typeof rescan === 'undefined') {\n    rescan = true;\n  }\n  defaultString = defaultString || '';\n  defaultString = '' + defaultString;\n\n  return new Promise((resolve) => {\n    process.nextTick(() => {\n\n      let ifaces = os.networkInterfaces();\n\n      let result = [];\n      let nics = [];\n      let dnsSuffixes = [];\n      let nics8021xInfo = [];\n      // seperate handling in OSX\n      if (_darwin || _freebsd || _openbsd || _netbsd) {\n        if ((JSON.stringify(ifaces) === JSON.stringify(_ifaces)) && !rescan) {\n          // no changes - just return object\n          result = _networkInterfaces;\n\n          if (callback) { callback(result); }\n          resolve(result);\n        } else {\n          const defaultInterface = getDefaultNetworkInterface();\n          _ifaces = JSON.parse(JSON.stringify(ifaces));\n\n          nics = getDarwinNics();\n\n\n          nics.forEach(nic => {\n\n            if ({}.hasOwnProperty.call(ifaces, nic.iface)) {\n              ifaces[nic.iface].forEach(function (details) {\n                if (details.family === 'IPv4' || details.family === 4) {\n                  nic.ip4subnet = details.netmask;\n                }\n                if (details.family === 'IPv6' || details.family === 6) {\n                  nic.ip6subnet = details.netmask;\n                }\n              });\n            }\n\n            let ifaceSanitized = '';\n            const s = util.isPrototypePolluted() ? '---' : util.sanitizeShellString(nic.iface);\n            const l = util.mathMin(s.length, 2000);\n            for (let i = 0; i <= l; i++) {\n              if (s[i] !== undefined) {\n                ifaceSanitized = ifaceSanitized + s[i];\n              }\n            }\n\n            result.push({\n              iface: nic.iface,\n              ifaceName: nic.iface,\n              default: nic.iface === defaultInterface,\n              ip4: nic.ip4,\n              ip4subnet: nic.ip4subnet || '',\n              ip6: nic.ip6,\n              ip6subnet: nic.ip6subnet || '',\n              mac: nic.mac,\n              internal: nic.internal,\n              virtual: nic.internal ? false : testVirtualNic(nic.iface, nic.iface, nic.mac),\n              operstate: nic.operstate,\n              type: nic.type,\n              duplex: nic.duplex,\n              mtu: nic.mtu,\n              speed: nic.speed,\n              dhcp: getDarwinIfaceDHCPstatus(ifaceSanitized),\n              dnsSuffix: '',\n              ieee8021xAuth: '',\n              ieee8021xState: '',\n              carrierChanges: 0\n            });\n          });\n          _networkInterfaces = result;\n          if (defaultString.toLowerCase().indexOf('default') >= 0) {\n            result = result.filter(item => item.default);\n            if (result.length > 0) {\n              result = result[0];\n            } else {\n              result = [];\n            }\n          }\n          if (callback) { callback(result); }\n          resolve(result);\n        }\n      }\n      if (_linux) {\n        if ((JSON.stringify(ifaces) === JSON.stringify(_ifaces)) && !rescan) {\n          // no changes - just return object\n          result = _networkInterfaces;\n\n          if (callback) { callback(result); }\n          resolve(result);\n        } else {\n          _ifaces = JSON.parse(JSON.stringify(ifaces));\n          _dhcpNics = getLinuxDHCPNics();\n          const defaultInterface = getDefaultNetworkInterface();\n          for (let dev in ifaces) {\n            let ip4 = '';\n            let ip4subnet = '';\n            let ip6 = '';\n            let ip6subnet = '';\n            let mac = '';\n            let duplex = '';\n            let mtu = '';\n            let speed = null;\n            let carrierChanges = 0;\n            let dhcp = false;\n            let dnsSuffix = '';\n            let ieee8021xAuth = '';\n            let ieee8021xState = '';\n            let type = '';\n\n            if ({}.hasOwnProperty.call(ifaces, dev)) {\n              let ifaceName = dev;\n              ifaces[dev].forEach(function (details) {\n                if (details.family === 'IPv4' || details.family === 4) {\n                  ip4 = details.address;\n                  ip4subnet = details.netmask;\n                }\n                if (details.family === 'IPv6' || details.family === 6) {\n                  if (!ip6 || ip6.match(/^fe80::/i)) {\n                    ip6 = details.address;\n                    ip6subnet = details.netmask;\n                  }\n                }\n                mac = details.mac;\n                // fallback due to https://github.com/nodejs/node/issues/13581 (node 8.1 - node 8.2)\n                const nodeMainVersion = parseInt(process.versions.node.split('.'), 10);\n                if (mac.indexOf('00:00:0') > -1 && (_linux || _darwin) && (!details.internal) && nodeMainVersion >= 8 && nodeMainVersion <= 11) {\n                  if (Object.keys(_mac).length === 0) {\n                    _mac = getMacAddresses();\n                  }\n                  mac = _mac[dev] || '';\n                }\n              });\n              let iface = dev.split(':')[0].trim().toLowerCase();\n              let ifaceSanitized = '';\n              const s = util.isPrototypePolluted() ? '---' : util.sanitizeShellString(iface);\n              const l = util.mathMin(s.length, 2000);\n              for (let i = 0; i <= l; i++) {\n                if (s[i] !== undefined) {\n                  ifaceSanitized = ifaceSanitized + s[i];\n                }\n              }\n              const cmd = `echo -n \"addr_assign_type: \"; cat /sys/class/net/${ifaceSanitized}/addr_assign_type 2>/dev/null; echo;\n            echo -n \"address: \"; cat /sys/class/net/${ifaceSanitized}/address 2>/dev/null; echo;\n            echo -n \"addr_len: \"; cat /sys/class/net/${ifaceSanitized}/addr_len 2>/dev/null; echo;\n            echo -n \"broadcast: \"; cat /sys/class/net/${ifaceSanitized}/broadcast 2>/dev/null; echo;\n            echo -n \"carrier: \"; cat /sys/class/net/${ifaceSanitized}/carrier 2>/dev/null; echo;\n            echo -n \"carrier_changes: \"; cat /sys/class/net/${ifaceSanitized}/carrier_changes 2>/dev/null; echo;\n            echo -n \"dev_id: \"; cat /sys/class/net/${ifaceSanitized}/dev_id 2>/dev/null; echo;\n            echo -n \"dev_port: \"; cat /sys/class/net/${ifaceSanitized}/dev_port 2>/dev/null; echo;\n            echo -n \"dormant: \"; cat /sys/class/net/${ifaceSanitized}/dormant 2>/dev/null; echo;\n            echo -n \"duplex: \"; cat /sys/class/net/${ifaceSanitized}/duplex 2>/dev/null; echo;\n            echo -n \"flags: \"; cat /sys/class/net/${ifaceSanitized}/flags 2>/dev/null; echo;\n            echo -n \"gro_flush_timeout: \"; cat /sys/class/net/${ifaceSanitized}/gro_flush_timeout 2>/dev/null; echo;\n            echo -n \"ifalias: \"; cat /sys/class/net/${ifaceSanitized}/ifalias 2>/dev/null; echo;\n            echo -n \"ifindex: \"; cat /sys/class/net/${ifaceSanitized}/ifindex 2>/dev/null; echo;\n            echo -n \"iflink: \"; cat /sys/class/net/${ifaceSanitized}/iflink 2>/dev/null; echo;\n            echo -n \"link_mode: \"; cat /sys/class/net/${ifaceSanitized}/link_mode 2>/dev/null; echo;\n            echo -n \"mtu: \"; cat /sys/class/net/${ifaceSanitized}/mtu 2>/dev/null; echo;\n            echo -n \"netdev_group: \"; cat /sys/class/net/${ifaceSanitized}/netdev_group 2>/dev/null; echo;\n            echo -n \"operstate: \"; cat /sys/class/net/${ifaceSanitized}/operstate 2>/dev/null; echo;\n            echo -n \"proto_down: \"; cat /sys/class/net/${ifaceSanitized}/proto_down 2>/dev/null; echo;\n            echo -n \"speed: \"; cat /sys/class/net/${ifaceSanitized}/speed 2>/dev/null; echo;\n            echo -n \"tx_queue_len: \"; cat /sys/class/net/${ifaceSanitized}/tx_queue_len 2>/dev/null; echo;\n            echo -n \"type: \"; cat /sys/class/net/${ifaceSanitized}/type 2>/dev/null; echo;\n            echo -n \"wireless: \"; cat /proc/net/wireless 2>/dev/null | grep ${ifaceSanitized}; echo;\n            echo -n \"wirelessspeed: \"; iw dev ${ifaceSanitized} link 2>&1 | grep bitrate; echo;`;\n\n              let lines = [];\n              try {\n                lines = execSync(cmd).toString().split('\\n');\n                const connectionName = getLinuxIfaceConnectionName(ifaceSanitized);\n                dhcp = getLinuxIfaceDHCPstatus(ifaceSanitized, connectionName, _dhcpNics);\n                dnsSuffix = getLinuxIfaceDNSsuffix(connectionName);\n                ieee8021xAuth = getLinuxIfaceIEEE8021xAuth(connectionName);\n                ieee8021xState = getLinuxIfaceIEEE8021xState(ieee8021xAuth);\n              } catch (e) {\n                util.noop();\n              }\n              duplex = util.getValue(lines, 'duplex');\n              duplex = duplex.startsWith('cat') ? '' : duplex;\n              mtu = parseInt(util.getValue(lines, 'mtu'), 10);\n              let myspeed = parseInt(util.getValue(lines, 'speed'), 10);\n              speed = isNaN(myspeed) ? null : myspeed;\n              let wirelessspeed = util.getValue(lines, 'wirelessspeed').split('tx bitrate: ');\n              if (speed === null && wirelessspeed.length === 2) {\n                myspeed = parseFloat(wirelessspeed[1]);\n                speed = isNaN(myspeed) ? null : myspeed;\n              }\n              carrierChanges = parseInt(util.getValue(lines, 'carrier_changes'), 10);\n              const operstate = util.getValue(lines, 'operstate');\n              type = operstate === 'up' ? (util.getValue(lines, 'wireless').trim() ? 'wireless' : 'wired') : 'unknown';\n              if (ifaceSanitized === 'lo' || ifaceSanitized.startsWith('bond')) { type = 'virtual'; }\n\n              let internal = (ifaces[dev] && ifaces[dev][0]) ? ifaces[dev][0].internal : false;\n              if (dev.toLowerCase().indexOf('loopback') > -1 || ifaceName.toLowerCase().indexOf('loopback') > -1) {\n                internal = true;\n              }\n              const virtual = internal ? false : testVirtualNic(dev, ifaceName, mac);\n              result.push({\n                iface: ifaceSanitized,\n                ifaceName,\n                default: iface === defaultInterface,\n                ip4,\n                ip4subnet,\n                ip6,\n                ip6subnet,\n                mac,\n                internal,\n                virtual,\n                operstate,\n                type,\n                duplex,\n                mtu,\n                speed,\n                dhcp,\n                dnsSuffix,\n                ieee8021xAuth,\n                ieee8021xState,\n                carrierChanges,\n              });\n            }\n          }\n          _networkInterfaces = result;\n          if (defaultString.toLowerCase().indexOf('default') >= 0) {\n            result = result.filter(item => item.default);\n            if (result.length > 0) {\n              result = result[0];\n            } else {\n              result = [];\n            }\n          }\n          if (callback) { callback(result); }\n          resolve(result);\n        }\n      }\n      if (_windows) {\n        if ((JSON.stringify(ifaces) === JSON.stringify(_ifaces)) && !rescan) {\n          // no changes - just return object\n          result = _networkInterfaces;\n\n          if (callback) { callback(result); }\n          resolve(result);\n        } else {\n          _ifaces = JSON.parse(JSON.stringify(ifaces));\n          const defaultInterface = getDefaultNetworkInterface();\n\n          getWindowsNics().then(function (nics) {\n            nics.forEach(nic => {\n              let found = false;\n              Object.keys(ifaces).forEach(key => {\n                if (!found) {\n                  ifaces[key].forEach(value => {\n                    if (Object.keys(value).indexOf('mac') >= 0) {\n                      found = value['mac'] === nic.mac;\n                    }\n                  });\n                }\n              });\n\n              if (!found) {\n                ifaces[nic.name] = [{ mac: nic.mac }];\n              }\n            });\n            nics8021xInfo = getWindowsWiredProfilesInformation();\n            dnsSuffixes = getWindowsDNSsuffixes();\n            for (let dev in ifaces) {\n\n              let ifaceSanitized = '';\n              const s = util.isPrototypePolluted() ? '---' : util.sanitizeShellString(dev);\n              const l = util.mathMin(s.length, 2000);\n              for (let i = 0; i <= l; i++) {\n                if (s[i] !== undefined) {\n                  ifaceSanitized = ifaceSanitized + s[i];\n                }\n              }\n\n              let iface = dev;\n              let ip4 = '';\n              let ip4subnet = '';\n              let ip6 = '';\n              let ip6subnet = '';\n              let mac = '';\n              let duplex = '';\n              let mtu = '';\n              let speed = null;\n              let carrierChanges = 0;\n              let operstate = 'down';\n              let dhcp = false;\n              let dnsSuffix = '';\n              let ieee8021xAuth = '';\n              let ieee8021xState = '';\n              let type = '';\n\n              if ({}.hasOwnProperty.call(ifaces, dev)) {\n                let ifaceName = dev;\n                ifaces[dev].forEach(function (details) {\n                  if (details.family === 'IPv4' || details.family === 4) {\n                    ip4 = details.address;\n                    ip4subnet = details.netmask;\n                  }\n                  if (details.family === 'IPv6' || details.family === 6) {\n                    if (!ip6 || ip6.match(/^fe80::/i)) {\n                      ip6 = details.address;\n                      ip6subnet = details.netmask;\n                    }\n                  }\n                  mac = details.mac;\n                  // fallback due to https://github.com/nodejs/node/issues/13581 (node 8.1 - node 8.2)\n                  const nodeMainVersion = parseInt(process.versions.node.split('.'), 10);\n                  if (mac.indexOf('00:00:0') > -1 && (_linux || _darwin) && (!details.internal) && nodeMainVersion >= 8 && nodeMainVersion <= 11) {\n                    if (Object.keys(_mac).length === 0) {\n                      _mac = getMacAddresses();\n                    }\n                    mac = _mac[dev] || '';\n                  }\n                });\n\n\n\n                dnsSuffix = getWindowsIfaceDNSsuffix(dnsSuffixes.ifaces, ifaceSanitized);\n                let foundFirst = false;\n                nics.forEach(detail => {\n                  if (detail.mac === mac && !foundFirst) {\n                    iface = detail.iface || iface;\n                    ifaceName = detail.name;\n                    dhcp = detail.dhcp;\n                    operstate = detail.operstate;\n                    speed = detail.speed;\n                    type = detail.type;\n                    foundFirst = true;\n                  }\n                });\n\n                if (dev.toLowerCase().indexOf('wlan') >= 0 || ifaceName.toLowerCase().indexOf('wlan') >= 0 || ifaceName.toLowerCase().indexOf('802.11n') >= 0 || ifaceName.toLowerCase().indexOf('wireless') >= 0 || ifaceName.toLowerCase().indexOf('wi-fi') >= 0 || ifaceName.toLowerCase().indexOf('wifi') >= 0) {\n                  type = 'wireless';\n                }\n\n                const IEEE8021x = getWindowsIEEE8021x(type, ifaceSanitized, nics8021xInfo);\n                ieee8021xAuth = IEEE8021x.protocol;\n                ieee8021xState = IEEE8021x.state;\n                let internal = (ifaces[dev] && ifaces[dev][0]) ? ifaces[dev][0].internal : false;\n                if (dev.toLowerCase().indexOf('loopback') > -1 || ifaceName.toLowerCase().indexOf('loopback') > -1) {\n                  internal = true;\n                }\n                const virtual = internal ? false : testVirtualNic(dev, ifaceName, mac);\n                result.push({\n                  iface,\n                  ifaceName,\n                  default: iface === defaultInterface,\n                  ip4,\n                  ip4subnet,\n                  ip6,\n                  ip6subnet,\n                  mac,\n                  internal,\n                  virtual,\n                  operstate,\n                  type,\n                  duplex,\n                  mtu,\n                  speed,\n                  dhcp,\n                  dnsSuffix,\n                  ieee8021xAuth,\n                  ieee8021xState,\n                  carrierChanges,\n                });\n              }\n            }\n            _networkInterfaces = result;\n            if (defaultString.toLowerCase().indexOf('default') >= 0) {\n              result = result.filter(item => item.default);\n              if (result.length > 0) {\n                result = result[0];\n              } else {\n                result = [];\n              }\n            }\n            if (callback) { callback(result); }\n            resolve(result);\n          });\n        }\n      }\n    });\n  });\n}\n\nexports.networkInterfaces = networkInterfaces;\n\n// --------------------------\n// NET - Speed\n\nfunction calcNetworkSpeed(iface, rx_bytes, tx_bytes, operstate, rx_dropped, rx_errors, tx_dropped, tx_errors) {\n  let result = {\n    iface,\n    operstate,\n    rx_bytes,\n    rx_dropped,\n    rx_errors,\n    tx_bytes,\n    tx_dropped,\n    tx_errors,\n    rx_sec: null,\n    tx_sec: null,\n    ms: 0\n  };\n\n  if (_network[iface] && _network[iface].ms) {\n    result.ms = Date.now() - _network[iface].ms;\n    result.rx_sec = (rx_bytes - _network[iface].rx_bytes) >= 0 ? (rx_bytes - _network[iface].rx_bytes) / (result.ms / 1000) : 0;\n    result.tx_sec = (tx_bytes - _network[iface].tx_bytes) >= 0 ? (tx_bytes - _network[iface].tx_bytes) / (result.ms / 1000) : 0;\n    _network[iface].rx_bytes = rx_bytes;\n    _network[iface].tx_bytes = tx_bytes;\n    _network[iface].rx_sec = result.rx_sec;\n    _network[iface].tx_sec = result.tx_sec;\n    _network[iface].ms = Date.now();\n    _network[iface].last_ms = result.ms;\n    _network[iface].operstate = operstate;\n  } else {\n    if (!_network[iface]) { _network[iface] = {}; }\n    _network[iface].rx_bytes = rx_bytes;\n    _network[iface].tx_bytes = tx_bytes;\n    _network[iface].rx_sec = null;\n    _network[iface].tx_sec = null;\n    _network[iface].ms = Date.now();\n    _network[iface].last_ms = 0;\n    _network[iface].operstate = operstate;\n  }\n  return result;\n}\n\nfunction networkStats(ifaces, callback) {\n\n  let ifacesArray = [];\n\n  return new Promise((resolve) => {\n    process.nextTick(() => {\n\n      // fallback - if only callback is given\n      if (util.isFunction(ifaces) && !callback) {\n        callback = ifaces;\n        ifacesArray = [getDefaultNetworkInterface()];\n      } else {\n        if (typeof ifaces !== 'string' && ifaces !== undefined) {\n          if (callback) { callback([]); }\n          return resolve([]);\n        }\n        ifaces = ifaces || getDefaultNetworkInterface();\n\n        ifaces.__proto__.toLowerCase = util.stringToLower;\n        ifaces.__proto__.replace = util.stringReplace;\n        ifaces.__proto__.trim = util.stringTrim;\n\n        ifaces = ifaces.trim().toLowerCase().replace(/,+/g, '|');\n        ifacesArray = ifaces.split('|');\n      }\n\n      const result = [];\n\n      const workload = [];\n      if (ifacesArray.length && ifacesArray[0].trim() === '*') {\n        ifacesArray = [];\n        networkInterfaces(false).then(allIFaces => {\n          for (let iface of allIFaces) {\n            ifacesArray.push(iface.iface);\n          }\n          networkStats(ifacesArray.join(',')).then(result => {\n            if (callback) { callback(result); }\n            resolve(result);\n          });\n        });\n      } else {\n        for (let iface of ifacesArray) {\n          workload.push(networkStatsSingle(iface.trim()));\n        }\n        if (workload.length) {\n          Promise.all(\n            workload\n          ).then((data) => {\n            if (callback) { callback(data); }\n            resolve(data);\n          });\n        } else {\n          if (callback) { callback(result); }\n          resolve(result);\n        }\n      }\n    });\n  });\n}\n\nfunction networkStatsSingle(iface) {\n\n  function parseLinesWindowsPerfData(sections) {\n    let perfData = [];\n    for (let i in sections) {\n      if ({}.hasOwnProperty.call(sections, i)) {\n        if (sections[i].trim() !== '') {\n          let lines = sections[i].trim().split('\\r\\n');\n          perfData.push({\n            name: util.getValue(lines, 'Name', ':').replace(/[()[\\] ]+/g, '').replace(/#|\\//g, '_').toLowerCase(),\n            rx_bytes: parseInt(util.getValue(lines, 'BytesReceivedPersec', ':'), 10),\n            rx_errors: parseInt(util.getValue(lines, 'PacketsReceivedErrors', ':'), 10),\n            rx_dropped: parseInt(util.getValue(lines, 'PacketsReceivedDiscarded', ':'), 10),\n            tx_bytes: parseInt(util.getValue(lines, 'BytesSentPersec', ':'), 10),\n            tx_errors: parseInt(util.getValue(lines, 'PacketsOutboundErrors', ':'), 10),\n            tx_dropped: parseInt(util.getValue(lines, 'PacketsOutboundDiscarded', ':'), 10)\n          });\n        }\n      }\n    }\n    return perfData;\n  }\n\n  return new Promise((resolve) => {\n    process.nextTick(() => {\n      let ifaceSanitized = '';\n      const s = util.isPrototypePolluted() ? '---' : util.sanitizeShellString(iface);\n      const l = util.mathMin(s.length, 2000);\n      for (let i = 0; i <= l; i++) {\n        if (s[i] !== undefined) {\n          ifaceSanitized = ifaceSanitized + s[i];\n        }\n      }\n\n      let result = {\n        iface: ifaceSanitized,\n        operstate: 'unknown',\n        rx_bytes: 0,\n        rx_dropped: 0,\n        rx_errors: 0,\n        tx_bytes: 0,\n        tx_dropped: 0,\n        tx_errors: 0,\n        rx_sec: null,\n        tx_sec: null,\n        ms: 0\n      };\n\n      let operstate = 'unknown';\n      let rx_bytes = 0;\n      let tx_bytes = 0;\n      let rx_dropped = 0;\n      let rx_errors = 0;\n      let tx_dropped = 0;\n      let tx_errors = 0;\n\n      let cmd, lines, stats;\n      if (!_network[ifaceSanitized] || (_network[ifaceSanitized] && !_network[ifaceSanitized].ms) || (_network[ifaceSanitized] && _network[ifaceSanitized].ms && Date.now() - _network[ifaceSanitized].ms >= 500)) {\n        if (_linux) {\n          if (fs.existsSync('/sys/class/net/' + ifaceSanitized)) {\n            cmd =\n              'cat /sys/class/net/' + ifaceSanitized + '/operstate; ' +\n              'cat /sys/class/net/' + ifaceSanitized + '/statistics/rx_bytes; ' +\n              'cat /sys/class/net/' + ifaceSanitized + '/statistics/tx_bytes; ' +\n              'cat /sys/class/net/' + ifaceSanitized + '/statistics/rx_dropped; ' +\n              'cat /sys/class/net/' + ifaceSanitized + '/statistics/rx_errors; ' +\n              'cat /sys/class/net/' + ifaceSanitized + '/statistics/tx_dropped; ' +\n              'cat /sys/class/net/' + ifaceSanitized + '/statistics/tx_errors; ';\n            exec(cmd, function (error, stdout) {\n              if (!error) {\n                lines = stdout.toString().split('\\n');\n                operstate = lines[0].trim();\n                rx_bytes = parseInt(lines[1], 10);\n                tx_bytes = parseInt(lines[2], 10);\n                rx_dropped = parseInt(lines[3], 10);\n                rx_errors = parseInt(lines[4], 10);\n                tx_dropped = parseInt(lines[5], 10);\n                tx_errors = parseInt(lines[6], 10);\n\n                result = calcNetworkSpeed(ifaceSanitized, rx_bytes, tx_bytes, operstate, rx_dropped, rx_errors, tx_dropped, tx_errors);\n\n              }\n              resolve(result);\n            });\n          } else {\n            resolve(result);\n          }\n        }\n        if (_freebsd || _openbsd || _netbsd) {\n          cmd = 'netstat -ibndI ' + ifaceSanitized;   // lgtm [js/shell-command-constructed-from-input]\n          exec(cmd, function (error, stdout) {\n            if (!error) {\n              lines = stdout.toString().split('\\n');\n              for (let i = 1; i < lines.length; i++) {\n                const line = lines[i].replace(/ +/g, ' ').split(' ');\n                if (line && line[0] && line[7] && line[10]) {\n                  rx_bytes = rx_bytes + parseInt(line[7]);\n                  if (line[6].trim() !== '-') { rx_dropped = rx_dropped + parseInt(line[6]); }\n                  if (line[5].trim() !== '-') { rx_errors = rx_errors + parseInt(line[5]); }\n                  tx_bytes = tx_bytes + parseInt(line[10]);\n                  if (line[12].trim() !== '-') { tx_dropped = tx_dropped + parseInt(line[12]); }\n                  if (line[9].trim() !== '-') { tx_errors = tx_errors + parseInt(line[9]); }\n                  operstate = 'up';\n                }\n              }\n              result = calcNetworkSpeed(ifaceSanitized, rx_bytes, tx_bytes, operstate, rx_dropped, rx_errors, tx_dropped, tx_errors);\n            }\n            resolve(result);\n          });\n        }\n        if (_darwin) {\n          cmd = 'ifconfig ' + ifaceSanitized + ' | grep \"status\"';    // lgtm [js/shell-command-constructed-from-input]\n          exec(cmd, function (error, stdout) {\n            result.operstate = (stdout.toString().split(':')[1] || '').trim();\n            result.operstate = (result.operstate || '').toLowerCase();\n            result.operstate = (result.operstate === 'active' ? 'up' : (result.operstate === 'inactive' ? 'down' : 'unknown'));\n            cmd = 'netstat -bdI ' + ifaceSanitized;   // lgtm [js/shell-command-constructed-from-input]\n            exec(cmd, function (error, stdout) {\n              if (!error) {\n                lines = stdout.toString().split('\\n');\n                // if there is less than 2 lines, no information for this interface was found\n                if (lines.length > 1 && lines[1].trim() !== '') {\n                  // skip header line\n                  // use the second line because it is tied to the NIC instead of the ipv4 or ipv6 address\n                  stats = lines[1].replace(/ +/g, ' ').split(' ');\n                  const offset = stats.length > 11 ? 1 : 0;\n                  rx_bytes = parseInt(stats[offset + 5]);\n                  rx_dropped = parseInt(stats[offset + 10]);\n                  rx_errors = parseInt(stats[offset + 4]);\n                  tx_bytes = parseInt(stats[offset + 8]);\n                  tx_dropped = parseInt(stats[offset + 10]);\n                  tx_errors = parseInt(stats[offset + 7]);\n                  result = calcNetworkSpeed(ifaceSanitized, rx_bytes, tx_bytes, result.operstate, rx_dropped, rx_errors, tx_dropped, tx_errors);\n                }\n              }\n              resolve(result);\n            });\n          });\n        }\n        if (_windows) {\n          let perfData = [];\n          let ifaceName = ifaceSanitized;\n\n          // Performance Data\n          util.powerShell('Get-CimInstance Win32_PerfRawData_Tcpip_NetworkInterface | select Name,BytesReceivedPersec,PacketsReceivedErrors,PacketsReceivedDiscarded,BytesSentPersec,PacketsOutboundErrors,PacketsOutboundDiscarded | fl').then((stdout, error) => {\n            if (!error) {\n              const psections = stdout.toString().split(/\\n\\s*\\n/);\n              perfData = parseLinesWindowsPerfData(psections);\n            }\n\n            // Network Interfaces\n            networkInterfaces(false).then(interfaces => {\n              // get bytes sent, received from perfData by name\n              rx_bytes = 0;\n              tx_bytes = 0;\n              perfData.forEach(detail => {\n                interfaces.forEach(det => {\n                  if ((det.iface.toLowerCase() === ifaceSanitized.toLowerCase() ||\n                    det.mac.toLowerCase() === ifaceSanitized.toLowerCase() ||\n                    det.ip4.toLowerCase() === ifaceSanitized.toLowerCase() ||\n                    det.ip6.toLowerCase() === ifaceSanitized.toLowerCase() ||\n                    det.ifaceName.replace(/[()[\\] ]+/g, '').replace(/#|\\//g, '_').toLowerCase() === ifaceSanitized.replace(/[()[\\] ]+/g, '').replace('#', '_').toLowerCase()) &&\n                    (det.ifaceName.replace(/[()[\\] ]+/g, '').replace(/#|\\//g, '_').toLowerCase() === detail.name)) {\n                    ifaceName = det.iface;\n                    rx_bytes = detail.rx_bytes;\n                    rx_dropped = detail.rx_dropped;\n                    rx_errors = detail.rx_errors;\n                    tx_bytes = detail.tx_bytes;\n                    tx_dropped = detail.tx_dropped;\n                    tx_errors = detail.tx_errors;\n                    operstate = det.operstate;\n                  }\n                });\n              });\n              if (rx_bytes && tx_bytes) {\n                result = calcNetworkSpeed(ifaceName, parseInt(rx_bytes), parseInt(tx_bytes), operstate, rx_dropped, rx_errors, tx_dropped, tx_errors);\n              }\n              resolve(result);\n            });\n          });\n        }\n      } else {\n        result.rx_bytes = _network[ifaceSanitized].rx_bytes;\n        result.tx_bytes = _network[ifaceSanitized].tx_bytes;\n        result.rx_sec = _network[ifaceSanitized].rx_sec;\n        result.tx_sec = _network[ifaceSanitized].tx_sec;\n        result.ms = _network[ifaceSanitized].last_ms;\n        result.operstate = _network[ifaceSanitized].operstate;\n        resolve(result);\n      }\n    });\n  });\n}\n\nexports.networkStats = networkStats;\n\n// --------------------------\n// NET - connections (sockets)\n\nfunction getProcessName(processes, pid) {\n  let cmd = '';\n  processes.forEach(line => {\n    const parts = line.split(' ');\n    const id = parseInt(parts[0], 10) || -1;\n    if (id === pid) {\n      parts.shift();\n      cmd = parts.join(' ').split(':')[0];\n    }\n  });\n  cmd = cmd.split(' -')[0];\n  // return cmd;\n  const cmdParts = cmd.split('/');\n  return cmdParts[cmdParts.length - 1];\n}\n\nfunction networkConnections(callback) {\n\n  return new Promise((resolve) => {\n    process.nextTick(() => {\n      let result = [];\n      if (_linux || _freebsd || _openbsd || _netbsd) {\n        let cmd = 'export LC_ALL=C; netstat -tunap | grep \"ESTABLISHED\\\\|SYN_SENT\\\\|SYN_RECV\\\\|FIN_WAIT1\\\\|FIN_WAIT2\\\\|TIME_WAIT\\\\|CLOSE\\\\|CLOSE_WAIT\\\\|LAST_ACK\\\\|LISTEN\\\\|CLOSING\\\\|UNKNOWN\"; unset LC_ALL';\n        if (_freebsd || _openbsd || _netbsd) { cmd = 'export LC_ALL=C; netstat -na | grep \"ESTABLISHED\\\\|SYN_SENT\\\\|SYN_RECV\\\\|FIN_WAIT1\\\\|FIN_WAIT2\\\\|TIME_WAIT\\\\|CLOSE\\\\|CLOSE_WAIT\\\\|LAST_ACK\\\\|LISTEN\\\\|CLOSING\\\\|UNKNOWN\"; unset LC_ALL'; }\n        exec(cmd, { maxBuffer: 1024 * 20000 }, function (error, stdout) {\n          let lines = stdout.toString().split('\\n');\n          if (!error && (lines.length > 1 || lines[0] != '')) {\n            lines.forEach(function (line) {\n              line = line.replace(/ +/g, ' ').split(' ');\n              if (line.length >= 7) {\n                let localip = line[3];\n                let localport = '';\n                let localaddress = line[3].split(':');\n                if (localaddress.length > 1) {\n                  localport = localaddress[localaddress.length - 1];\n                  localaddress.pop();\n                  localip = localaddress.join(':');\n                }\n                let peerip = line[4];\n                let peerport = '';\n                let peeraddress = line[4].split(':');\n                if (peeraddress.length > 1) {\n                  peerport = peeraddress[peeraddress.length - 1];\n                  peeraddress.pop();\n                  peerip = peeraddress.join(':');\n                }\n                let connstate = line[5];\n                let proc = line[6].split('/');\n\n                if (connstate) {\n                  result.push({\n                    protocol: line[0],\n                    localAddress: localip,\n                    localPort: localport,\n                    peerAddress: peerip,\n                    peerPort: peerport,\n                    state: connstate,\n                    pid: proc[0] && proc[0] !== '-' ? parseInt(proc[0], 10) : null,\n                    process: proc[1] ? proc[1].split(' ')[0].split(':')[0] : ''\n                  });\n                }\n              }\n            });\n            if (callback) {\n              callback(result);\n            }\n            resolve(result);\n          } else {\n            cmd = 'ss -tunap | grep \"ESTAB\\\\|SYN-SENT\\\\|SYN-RECV\\\\|FIN-WAIT1\\\\|FIN-WAIT2\\\\|TIME-WAIT\\\\|CLOSE\\\\|CLOSE-WAIT\\\\|LAST-ACK\\\\|LISTEN\\\\|CLOSING\"';\n            exec(cmd, { maxBuffer: 1024 * 20000 }, function (error, stdout) {\n\n              if (!error) {\n                let lines = stdout.toString().split('\\n');\n                lines.forEach(function (line) {\n                  line = line.replace(/ +/g, ' ').split(' ');\n                  if (line.length >= 6) {\n                    let localip = line[4];\n                    let localport = '';\n                    let localaddress = line[4].split(':');\n                    if (localaddress.length > 1) {\n                      localport = localaddress[localaddress.length - 1];\n                      localaddress.pop();\n                      localip = localaddress.join(':');\n                    }\n                    let peerip = line[5];\n                    let peerport = '';\n                    let peeraddress = line[5].split(':');\n                    if (peeraddress.length > 1) {\n                      peerport = peeraddress[peeraddress.length - 1];\n                      peeraddress.pop();\n                      peerip = peeraddress.join(':');\n                    }\n                    let connstate = line[1];\n                    if (connstate === 'ESTAB') { connstate = 'ESTABLISHED'; }\n                    if (connstate === 'TIME-WAIT') { connstate = 'TIME_WAIT'; }\n                    let pid = null;\n                    let process = '';\n                    if (line.length >= 7 && line[6].indexOf('users:') > -1) {\n                      let proc = line[6].replace('users:((\"', '').replace(/\"/g, '').split(',');\n                      if (proc.length > 2) {\n                        process = proc[0].split(' ')[0].split(':')[0];\n                        pid = parseInt(proc[1], 10);\n                      }\n                    }\n                    if (connstate) {\n                      result.push({\n                        protocol: line[0],\n                        localAddress: localip,\n                        localPort: localport,\n                        peerAddress: peerip,\n                        peerPort: peerport,\n                        state: connstate,\n                        pid,\n                        process\n                      });\n                    }\n                  }\n                });\n              }\n              if (callback) {\n                callback(result);\n              }\n              resolve(result);\n            });\n          }\n        });\n      }\n      if (_darwin) {\n        // let cmd = 'netstat -natv | grep \"ESTABLISHED\\\\|SYN_SENT\\\\|SYN_RECV\\\\|FIN_WAIT1\\\\|FIN_WAIT2\\\\|TIME_WAIT\\\\|CLOSE\\\\|CLOSE_WAIT\\\\|LAST_ACK\\\\|LISTEN\\\\|CLOSING\\\\|UNKNOWN\"';\n        let cmd = 'netstat -natv | grep \"tcp4\\\\|tcp6\\\\|udp4\\\\|udp6\"';\n        const states = 'ESTABLISHED|SYN_SENT|SYN_RECV|FIN_WAIT1|FIN_WAIT2|TIME_WAIT|CLOSE|CLOSE_WAIT|LAST_ACK|LISTEN|CLOSING|UNKNOWN';\n        exec(cmd, { maxBuffer: 1024 * 20000 }, function (error, stdout) {\n          if (!error) {\n            exec('ps -axo pid,command', { maxBuffer: 1024 * 20000 }, function (err2, stdout2) {\n              let processes = stdout2.toString().split('\\n');\n              processes = processes.map((line => { return line.trim().replace(/ +/g, ' '); }));\n              let lines = stdout.toString().split('\\n');\n\n              lines.forEach(function (line) {\n                line = line.replace(/ +/g, ' ').split(' ');\n                if (line.length >= 8) {\n                  let localip = line[3];\n                  let localport = '';\n                  let localaddress = line[3].split('.');\n                  if (localaddress.length > 1) {\n                    localport = localaddress[localaddress.length - 1];\n                    localaddress.pop();\n                    localip = localaddress.join('.');\n                  }\n                  let peerip = line[4];\n                  let peerport = '';\n                  let peeraddress = line[4].split('.');\n                  if (peeraddress.length > 1) {\n                    peerport = peeraddress[peeraddress.length - 1];\n                    peeraddress.pop();\n                    peerip = peeraddress.join('.');\n                  }\n                  const hasState = states.indexOf(line[5]) >= 0;\n                  let connstate = hasState ? line[5] : 'UNKNOWN';\n                  let pid = parseInt(line[8 + (hasState ? 0 : -1)], 10);\n                  if (connstate) {\n                    result.push({\n                      protocol: line[0],\n                      localAddress: localip,\n                      localPort: localport,\n                      peerAddress: peerip,\n                      peerPort: peerport,\n                      state: connstate,\n                      pid: pid,\n                      process: getProcessName(processes, pid)\n                    });\n                  }\n                }\n              });\n              if (callback) {\n                callback(result);\n              }\n              resolve(result);\n            });\n\n          }\n        });\n      }\n      if (_windows) {\n        let cmd = 'netstat -nao';\n        try {\n          exec(cmd, util.execOptsWin, function (error, stdout) {\n            if (!error) {\n\n              let lines = stdout.toString().split('\\r\\n');\n\n              lines.forEach(function (line) {\n                line = line.trim().replace(/ +/g, ' ').split(' ');\n                if (line.length >= 4) {\n                  let localip = line[1];\n                  let localport = '';\n                  let localaddress = line[1].split(':');\n                  if (localaddress.length > 1) {\n                    localport = localaddress[localaddress.length - 1];\n                    localaddress.pop();\n                    localip = localaddress.join(':');\n                  }\n                  localip = localip.replace(/\\[/g, '').replace(/\\]/g, '');\n                  let peerip = line[2];\n                  let peerport = '';\n                  let peeraddress = line[2].split(':');\n                  if (peeraddress.length > 1) {\n                    peerport = peeraddress[peeraddress.length - 1];\n                    peeraddress.pop();\n                    peerip = peeraddress.join(':');\n                  }\n                  peerip = peerip.replace(/\\[/g, '').replace(/\\]/g, '');\n                  let pid = util.toInt(line[4]);\n                  let connstate = line[3];\n                  if (connstate === 'HERGESTELLT') { connstate = 'ESTABLISHED'; }\n                  if (connstate.startsWith('ABH')) { connstate = 'LISTEN'; }\n                  if (connstate === 'SCHLIESSEN_WARTEN') { connstate = 'CLOSE_WAIT'; }\n                  if (connstate === 'WARTEND') { connstate = 'TIME_WAIT'; }\n                  if (connstate === 'SYN_GESENDET') { connstate = 'SYN_SENT'; }\n\n                  if (connstate === 'LISTENING') { connstate = 'LISTEN'; }\n                  if (connstate === 'SYN_RECEIVED') { connstate = 'SYN_RECV'; }\n                  if (connstate === 'FIN_WAIT_1') { connstate = 'FIN_WAIT1'; }\n                  if (connstate === 'FIN_WAIT_2') { connstate = 'FIN_WAIT2'; }\n                  if (line[0].toLowerCase() !== 'udp' && connstate) {\n                    result.push({\n                      protocol: line[0].toLowerCase(),\n                      localAddress: localip,\n                      localPort: localport,\n                      peerAddress: peerip,\n                      peerPort: peerport,\n                      state: connstate,\n                      pid,\n                      process: ''\n                    });\n                  } else if (line[0].toLowerCase() === 'udp') {\n                    result.push({\n                      protocol: line[0].toLowerCase(),\n                      localAddress: localip,\n                      localPort: localport,\n                      peerAddress: peerip,\n                      peerPort: peerport,\n                      state: '',\n                      pid: parseInt(line[3], 10),\n                      process: ''\n                    });\n                  }\n                }\n              });\n              if (callback) {\n                callback(result);\n              }\n              resolve(result);\n            }\n          });\n        } catch (e) {\n          if (callback) { callback(result); }\n          resolve(result);\n        }\n      }\n    });\n  });\n}\n\nexports.networkConnections = networkConnections;\n\nfunction networkGatewayDefault(callback) {\n\n  return new Promise((resolve) => {\n    process.nextTick(() => {\n      let result = '';\n      if (_linux || _freebsd || _openbsd || _netbsd) {\n        let cmd = 'ip route get 1';\n        try {\n          exec(cmd, { maxBuffer: 1024 * 20000 }, function (error, stdout) {\n            if (!error) {\n              let lines = stdout.toString().split('\\n');\n              const line = lines && lines[0] ? lines[0] : '';\n              let parts = line.split(' via ');\n              if (parts && parts[1]) {\n                parts = parts[1].split(' ');\n                result = parts[0];\n              }\n              if (callback) {\n                callback(result);\n              }\n              resolve(result);\n            } else {\n              if (callback) {\n                callback(result);\n              }\n              resolve(result);\n            }\n          });\n        } catch (e) {\n          if (callback) { callback(result); }\n          resolve(result);\n        }\n      }\n      if (_darwin) {\n        let cmd = 'route -n get default';\n        try {\n          exec(cmd, { maxBuffer: 1024 * 20000 }, function (error, stdout) {\n            if (!error) {\n              const lines = stdout.toString().split('\\n').map(line => line.trim());\n              result = util.getValue(lines, 'gateway');\n            }\n            if (!result) {\n              cmd = 'netstat -rn | awk \\'/default/ {print $2}\\'';\n              exec(cmd, { maxBuffer: 1024 * 20000 }, function (error, stdout) {\n                const lines = stdout.toString().split('\\n').map(line => line.trim());\n                result = lines.find(line => (/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(line)));\n                if (callback) {\n                  callback(result);\n                }\n                resolve(result);\n              });\n            } else {\n              if (callback) {\n                callback(result);\n              }\n              resolve(result);\n            }\n          });\n        } catch (e) {\n          if (callback) { callback(result); }\n          resolve(result);\n        }\n      }\n      if (_windows) {\n        try {\n          exec('netstat -r', util.execOptsWin, function (error, stdout) {\n            const lines = stdout.toString().split(os.EOL);\n            lines.forEach(line => {\n              line = line.replace(/\\s+/g, ' ').trim();\n              if (line.indexOf('0.0.0.0 0.0.0.0') > -1 && !(/[a-zA-Z]/.test(line))) {\n                const parts = line.split(' ');\n                if (parts.length >= 5 && (parts[parts.length - 3]).indexOf('.') > -1) {\n                  result = parts[parts.length - 3];\n                }\n              }\n            });\n            if (!result) {\n              util.powerShell('Get-CimInstance -ClassName Win32_IP4RouteTable | Where-Object { $_.Destination -eq \\'0.0.0.0\\' -and $_.Mask -eq \\'0.0.0.0\\' }')\n                .then((data) => {\n                  let lines = data.toString().split('\\r\\n');\n                  if (lines.length > 1 && !result) {\n                    result = util.getValue(lines, 'NextHop');\n                    if (callback) {\n                      callback(result);\n                    }\n                    resolve(result);\n                    // } else {\n                    //   exec('ipconfig', util.execOptsWin, function (error, stdout) {\n                    //     let lines = stdout.toString().split('\\r\\n');\n                    //     lines.forEach(function (line) {\n                    //       line = line.trim().replace(/\\. /g, '');\n                    //       line = line.trim().replace(/ +/g, '');\n                    //       const parts = line.split(':');\n                    //       if ((parts[0].toLowerCase().startsWith('standardgate') || parts[0].toLowerCase().indexOf('gateway') > -1 || parts[0].toLowerCase().indexOf('enlace') > -1) && parts[1]) {\n                    //         result = parts[1];\n                    //       }\n                    //     });\n                    //     if (callback) { callback(result); }\n                    //     resolve(result);\n                    //   });\n                  }\n                });\n            } else {\n              if (callback) {\n                callback(result);\n              }\n              resolve(result);\n            }\n          });\n        } catch (e) {\n          if (callback) { callback(result); }\n          resolve(result);\n        }\n      }\n    });\n  });\n}\n\nexports.networkGatewayDefault = networkGatewayDefault;\n","'use strict';\n// @ts-check\n// ==================================================================================\n// osinfo.js\n// ----------------------------------------------------------------------------------\n// Description:   System Information - library\n//                for Node.js\n// Copyright:     (c) 2014 - 2023\n// Author:        Sebastian Hildebrandt\n// ----------------------------------------------------------------------------------\n// License:       MIT\n// ==================================================================================\n// 3. Operating System\n// ----------------------------------------------------------------------------------\n\nconst os = require('os');\nconst fs = require('fs');\nconst util = require('./util');\nconst exec = require('child_process').exec;\nconst execSync = require('child_process').execSync;\n\nlet _platform = process.platform;\n\nconst _linux = (_platform === 'linux' || _platform === 'android');\nconst _darwin = (_platform === 'darwin');\nconst _windows = (_platform === 'win32');\nconst _freebsd = (_platform === 'freebsd');\nconst _openbsd = (_platform === 'openbsd');\nconst _netbsd = (_platform === 'netbsd');\nconst _sunos = (_platform === 'sunos');\n\n// --------------------------\n// Get current time and OS uptime\n\nfunction time() {\n  let t = new Date().toString().split(' ');\n  return {\n    current: Date.now(),\n    uptime: os.uptime(),\n    timezone: (t.length >= 7) ? t[5] : '',\n    timezoneName: Intl ? Intl.DateTimeFormat().resolvedOptions().timeZone : (t.length >= 7) ? t.slice(6).join(' ').replace(/\\(/g, '').replace(/\\)/g, '') : ''\n  };\n}\n\nexports.time = time;\n\n// --------------------------\n// Get logo filename of OS distribution\n\nfunction getLogoFile(distro) {\n  distro = distro || '';\n  distro = distro.toLowerCase();\n  let result = _platform;\n  if (_windows) {\n    result = 'windows';\n  }\n  else if (distro.indexOf('mac os') !== -1) {\n    result = 'apple';\n  }\n  else if (distro.indexOf('arch') !== -1) {\n    result = 'arch';\n  }\n  else if (distro.indexOf('centos') !== -1) {\n    result = 'centos';\n  }\n  else if (distro.indexOf('coreos') !== -1) {\n    result = 'coreos';\n  }\n  else if (distro.indexOf('debian') !== -1) {\n    result = 'debian';\n  }\n  else if (distro.indexOf('deepin') !== -1) {\n    result = 'deepin';\n  }\n  else if (distro.indexOf('elementary') !== -1) {\n    result = 'elementary';\n  }\n  else if (distro.indexOf('fedora') !== -1) {\n    result = 'fedora';\n  }\n  else if (distro.indexOf('gentoo') !== -1) {\n    result = 'gentoo';\n  }\n  else if (distro.indexOf('mageia') !== -1) {\n    result = 'mageia';\n  }\n  else if (distro.indexOf('mandriva') !== -1) {\n    result = 'mandriva';\n  }\n  else if (distro.indexOf('manjaro') !== -1) {\n    result = 'manjaro';\n  }\n  else if (distro.indexOf('mint') !== -1) {\n    result = 'mint';\n  }\n  else if (distro.indexOf('mx') !== -1) {\n    result = 'mx';\n  }\n  else if (distro.indexOf('openbsd') !== -1) {\n    result = 'openbsd';\n  }\n  else if (distro.indexOf('freebsd') !== -1) {\n    result = 'freebsd';\n  }\n  else if (distro.indexOf('opensuse') !== -1) {\n    result = 'opensuse';\n  }\n  else if (distro.indexOf('pclinuxos') !== -1) {\n    result = 'pclinuxos';\n  }\n  else if (distro.indexOf('puppy') !== -1) {\n    result = 'puppy';\n  }\n  else if (distro.indexOf('raspbian') !== -1) {\n    result = 'raspbian';\n  }\n  else if (distro.indexOf('reactos') !== -1) {\n    result = 'reactos';\n  }\n  else if (distro.indexOf('redhat') !== -1) {\n    result = 'redhat';\n  }\n  else if (distro.indexOf('slackware') !== -1) {\n    result = 'slackware';\n  }\n  else if (distro.indexOf('sugar') !== -1) {\n    result = 'sugar';\n  }\n  else if (distro.indexOf('steam') !== -1) {\n    result = 'steam';\n  }\n  else if (distro.indexOf('suse') !== -1) {\n    result = 'suse';\n  }\n  else if (distro.indexOf('mate') !== -1) {\n    result = 'ubuntu-mate';\n  }\n  else if (distro.indexOf('lubuntu') !== -1) {\n    result = 'lubuntu';\n  }\n  else if (distro.indexOf('xubuntu') !== -1) {\n    result = 'xubuntu';\n  }\n  else if (distro.indexOf('ubuntu') !== -1) {\n    result = 'ubuntu';\n  }\n  else if (distro.indexOf('solaris') !== -1) {\n    result = 'solaris';\n  }\n  else if (distro.indexOf('tails') !== -1) {\n    result = 'tails';\n  }\n  else if (distro.indexOf('feren') !== -1) {\n    result = 'ferenos';\n  }\n  else if (distro.indexOf('robolinux') !== -1) {\n    result = 'robolinux';\n  } else if (_linux && distro) {\n    result = distro.toLowerCase().trim().replace(/\\s+/g, '-');\n  }\n  return result;\n}\n\n// --------------------------\n// FQDN\n\nfunction getFQDN() {\n  let fqdn = os.hostname;\n  if (_linux || _darwin) {\n    try {\n      const stdout = execSync('hostnamectl --json short 2>/dev/null');\n      const json = JSON.parse(stdout.toString());\n\n      fqdn = json['StaticHostname'];\n    } catch (e) {\n      try {\n        const stdout = execSync('hostname -f 2>/dev/null');\n        fqdn = stdout.toString().split(os.EOL)[0];\n      } catch (e) {\n        util.noop();\n      }\n    }\n  }\n  if (_freebsd || _openbsd || _netbsd) {\n    try {\n      const stdout = execSync('hostname 2>/dev/null');\n      fqdn = stdout.toString().split(os.EOL)[0];\n    } catch (e) {\n      util.noop();\n    }\n  }\n  if (_windows) {\n    try {\n      const stdout = execSync('echo %COMPUTERNAME%.%USERDNSDOMAIN%', util.execOptsWin);\n      fqdn = stdout.toString().replace('.%USERDNSDOMAIN%', '').split(os.EOL)[0];\n    } catch (e) {\n      util.noop();\n    }\n  }\n  return fqdn;\n}\n\n// --------------------------\n// OS Information\n\nfunction osInfo(callback) {\n\n  return new Promise((resolve) => {\n    process.nextTick(() => {\n      let result = {\n\n        platform: (_platform === 'win32' ? 'Windows' : _platform),\n        distro: 'unknown',\n        release: 'unknown',\n        codename: '',\n        kernel: os.release(),\n        arch: os.arch(),\n        hostname: os.hostname(),\n        fqdn: getFQDN(),\n        codepage: '',\n        logofile: '',\n        serial: '',\n        build: '',\n        servicepack: '',\n        uefi: false\n      };\n\n      if (_linux) {\n\n        exec('cat /etc/*-release; cat /usr/lib/os-release; cat /etc/openwrt_release', function (error, stdout) {\n          /**\n           * @namespace\n           * @property {string}  DISTRIB_ID\n           * @property {string}  NAME\n           * @property {string}  DISTRIB_RELEASE\n           * @property {string}  VERSION_ID\n           * @property {string}  DISTRIB_CODENAME\n           */\n          let release = {};\n          let lines = stdout.toString().split('\\n');\n          lines.forEach(function (line) {\n            if (line.indexOf('=') !== -1) {\n              release[line.split('=')[0].trim().toUpperCase()] = line.split('=')[1].trim();\n            }\n          });\n          let releaseVersion = (release.VERSION || '').replace(/\"/g, '');\n          let codename = (release.DISTRIB_CODENAME || release.VERSION_CODENAME || '').replace(/\"/g, '');\n          if (releaseVersion.indexOf('(') >= 0) {\n            codename = releaseVersion.split('(')[1].replace(/[()]/g, '').trim();\n            releaseVersion = releaseVersion.split('(')[0].trim();\n          }\n          result.distro = (release.DISTRIB_ID || release.NAME || 'unknown').replace(/\"/g, '');\n          result.logofile = getLogoFile(result.distro);\n          result.release = (releaseVersion || release.DISTRIB_RELEASE || release.VERSION_ID || 'unknown').replace(/\"/g, '');\n          result.codename = codename;\n          result.codepage = util.getCodepage();\n          result.build = (release.BUILD_ID || '').replace(/\"/g, '').trim();\n          isUefiLinux().then(uefi => {\n            result.uefi = uefi;\n            uuid().then((data) => {\n              result.serial = data.os;\n              if (callback) {\n                callback(result);\n              }\n              resolve(result);\n            });\n          });\n        });\n      }\n      if (_freebsd || _openbsd || _netbsd) {\n\n        exec('sysctl kern.ostype kern.osrelease kern.osrevision kern.hostuuid machdep.bootmethod kern.geom.confxml', function (error, stdout) {\n          let lines = stdout.toString().split('\\n');\n          const distro = util.getValue(lines, 'kern.ostype');\n          const logofile = getLogoFile(distro);\n          const release = util.getValue(lines, 'kern.osrelease').split('-')[0];\n          const serial = util.getValue(lines, 'kern.uuid');\n          const bootmethod = util.getValue(lines, 'machdep.bootmethod');\n          const uefiConf = stdout.toString().indexOf('<type>efi</type>') >= 0;\n          const uefi = bootmethod ? bootmethod.toLowerCase().indexOf('uefi') >= 0 : (uefiConf ? uefiConf : null);\n          result.distro = distro || result.distro;\n          result.logofile = logofile || result.logofile;\n          result.release = release || result.release;\n          result.serial = serial || result.serial;\n          result.codename = '';\n          result.codepage = util.getCodepage();\n          result.uefi = uefi || null;\n          if (callback) {\n            callback(result);\n          }\n          resolve(result);\n        });\n      }\n      if (_darwin) {\n        exec('sw_vers; sysctl kern.ostype kern.osrelease kern.osrevision kern.uuid', function (error, stdout) {\n          let lines = stdout.toString().split('\\n');\n          result.serial = util.getValue(lines, 'kern.uuid');\n          result.distro = util.getValue(lines, 'ProductName');\n          result.release = (util.getValue(lines, 'ProductVersion', ':', true, true) + ' ' + util.getValue(lines, 'ProductVersionExtra', ':', true, true)).trim();\n          result.build = util.getValue(lines, 'BuildVersion');\n          result.logofile = getLogoFile(result.distro);\n          result.codename = 'macOS';\n          result.codename = (result.release.indexOf('10.4') > -1 ? 'Mac OS X Tiger' : result.codename);\n          result.codename = (result.release.indexOf('10.5') > -1 ? 'Mac OS X Leopard' : result.codename);\n          result.codename = (result.release.indexOf('10.6') > -1 ? 'Mac OS X Snow Leopard' : result.codename);\n          result.codename = (result.release.indexOf('10.7') > -1 ? 'Mac OS X Lion' : result.codename);\n          result.codename = (result.release.indexOf('10.8') > -1 ? 'OS X Mountain Lion' : result.codename);\n          result.codename = (result.release.indexOf('10.9') > -1 ? 'OS X Mavericks' : result.codename);\n          result.codename = (result.release.indexOf('10.10') > -1 ? 'OS X Yosemite' : result.codename);\n          result.codename = (result.release.indexOf('10.11') > -1 ? 'OS X El Capitan' : result.codename);\n          result.codename = (result.release.indexOf('10.12') > -1 ? 'macOS Sierra' : result.codename);\n          result.codename = (result.release.indexOf('10.13') > -1 ? 'macOS High Sierra' : result.codename);\n          result.codename = (result.release.indexOf('10.14') > -1 ? 'macOS Mojave' : result.codename);\n          result.codename = (result.release.indexOf('10.15') > -1 ? 'macOS Catalina' : result.codename);\n          result.codename = (result.release.startsWith('11.') ? 'macOS Big Sur' : result.codename);\n          result.codename = (result.release.startsWith('12.') ? 'macOS Monterey' : result.codename);\n          result.codename = (result.release.startsWith('13.') ? 'macOS Ventura' : result.codename);\n          result.codename = (result.release.startsWith('14.') ? 'macOS Sonoma' : result.codename);\n          result.uefi = true;\n          result.codepage = util.getCodepage();\n          if (callback) {\n            callback(result);\n          }\n          resolve(result);\n        });\n      }\n      if (_sunos) {\n        result.release = result.kernel;\n        exec('uname -o', function (error, stdout) {\n          let lines = stdout.toString().split('\\n');\n          result.distro = lines[0];\n          result.logofile = getLogoFile(result.distro);\n          if (callback) { callback(result); }\n          resolve(result);\n        });\n      }\n      if (_windows) {\n        result.logofile = getLogoFile();\n        result.release = result.kernel;\n        try {\n          const workload = [];\n          workload.push(util.powerShell('Get-CimInstance Win32_OperatingSystem | select Caption,SerialNumber,BuildNumber,ServicePackMajorVersion,ServicePackMinorVersion | fl'));\n          workload.push(util.powerShell('(Get-CimInstance Win32_ComputerSystem).HypervisorPresent'));\n          workload.push(util.powerShell('Add-Type -AssemblyName System.Windows.Forms; [System.Windows.Forms.SystemInformation]::TerminalServerSession'));\n          util.promiseAll(\n            workload\n          ).then((data) => {\n            let lines = data.results[0] ? data.results[0].toString().split('\\r\\n') : [''];\n            result.distro = util.getValue(lines, 'Caption', ':').trim();\n            result.serial = util.getValue(lines, 'SerialNumber', ':').trim();\n            result.build = util.getValue(lines, 'BuildNumber', ':').trim();\n            result.servicepack = util.getValue(lines, 'ServicePackMajorVersion', ':').trim() + '.' + util.getValue(lines, 'ServicePackMinorVersion', ':').trim();\n            result.codepage = util.getCodepage();\n            const hyperv = data.results[1] ? data.results[1].toString().toLowerCase() : '';\n            result.hypervisor = hyperv.indexOf('true') !== -1;\n            const term = data.results[2] ? data.results[2].toString() : '';\n            result.remoteSession = (term.toString().toLowerCase().indexOf('true') >= 0);\n            isUefiWindows().then(uefi => {\n              result.uefi = uefi;\n              if (callback) {\n                callback(result);\n              }\n              resolve(result);\n            });\n          });\n        } catch (e) {\n          if (callback) { callback(result); }\n          resolve(result);\n        }\n      }\n    });\n  });\n}\n\nexports.osInfo = osInfo;\n\nfunction isUefiLinux() {\n  return new Promise((resolve) => {\n    process.nextTick(() => {\n      fs.stat('/sys/firmware/efi', function (err) {\n        if (!err) {\n          return resolve(true);\n        } else {\n          exec('dmesg | grep -E \"EFI v\"', function (error, stdout) {\n            if (!error) {\n              const lines = stdout.toString().split('\\n');\n              return resolve(lines.length > 0);\n            }\n            return resolve(false);\n          });\n        }\n      });\n    });\n  });\n}\n\nfunction isUefiWindows() {\n  return new Promise((resolve) => {\n    process.nextTick(() => {\n      try {\n        exec('findstr /C:\"Detected boot environment\" \"%windir%\\\\Panther\\\\setupact.log\"', util.execOptsWin, function (error, stdout) {\n          if (!error) {\n            const line = stdout.toString().split('\\n\\r')[0];\n            return resolve(line.toLowerCase().indexOf('efi') >= 0);\n          } else {\n            exec('echo %firmware_type%', util.execOptsWin, function (error, stdout) {\n              if (!error) {\n                const line = stdout.toString() || '';\n                return resolve(line.toLowerCase().indexOf('efi') >= 0);\n              } else {\n                return resolve(false);\n              }\n            });\n          }\n        });\n      } catch (e) {\n        return resolve(false);\n      }\n    });\n  });\n}\n\nfunction versions(apps, callback) {\n  let versionObject = {\n    kernel: os.release(),\n    openssl: '',\n    systemOpenssl: '',\n    systemOpensslLib: '',\n    node: process.versions.node,\n    v8: process.versions.v8,\n    npm: '',\n    yarn: '',\n    pm2: '',\n    gulp: '',\n    grunt: '',\n    git: '',\n    tsc: '',\n    mysql: '',\n    redis: '',\n    mongodb: '',\n    apache: '',\n    nginx: '',\n    php: '',\n    docker: '',\n    postfix: '',\n    postgresql: '',\n    perl: '',\n    python: '',\n    python3: '',\n    pip: '',\n    pip3: '',\n    java: '',\n    gcc: '',\n    virtualbox: '',\n    bash: '',\n    zsh: '',\n    fish: '',\n    powershell: '',\n    dotnet: ''\n  };\n\n  function checkVersionParam(apps) {\n    if (apps === '*') {\n      return {\n        versions: versionObject,\n        counter: 30\n      };\n    }\n    if (!Array.isArray(apps)) {\n      apps = apps.trim().toLowerCase().replace(/,+/g, '|').replace(/ /g, '|');\n      apps = apps.split('|');\n      const result = {\n        versions: {},\n        counter: 0\n      };\n      apps.forEach(el => {\n        if (el) {\n          for (let key in versionObject) {\n            if ({}.hasOwnProperty.call(versionObject, key)) {\n              if (key.toLowerCase() === el.toLowerCase() && !{}.hasOwnProperty.call(result.versions, key)) {\n                result.versions[key] = versionObject[key];\n                if (key === 'openssl') {\n                  result.versions.systemOpenssl = '';\n                  result.versions.systemOpensslLib = '';\n                }\n\n                if (!result.versions[key]) { result.counter++; }\n              }\n            }\n          }\n        }\n      });\n      return result;\n    }\n  }\n\n  return new Promise((resolve) => {\n    process.nextTick(() => {\n      if (util.isFunction(apps) && !callback) {\n        callback = apps;\n        apps = '*';\n      } else {\n        apps = apps || '*';\n        if (typeof apps !== 'string') {\n          if (callback) { callback({}); }\n          return resolve({});\n        }\n      }\n      const appsObj = checkVersionParam(apps);\n      let totalFunctions = appsObj.counter;\n\n      let functionProcessed = (function () {\n        return function () {\n          if (--totalFunctions === 0) {\n            if (callback) {\n              callback(appsObj.versions);\n            }\n            resolve(appsObj.versions);\n          }\n        };\n      })();\n\n      let cmd = '';\n      try {\n        if ({}.hasOwnProperty.call(appsObj.versions, 'openssl')) {\n          appsObj.versions.openssl = process.versions.openssl;\n          exec('openssl version', function (error, stdout) {\n            if (!error) {\n              let openssl_string = stdout.toString().split('\\n')[0].trim();\n              let openssl = openssl_string.split(' ');\n              appsObj.versions.systemOpenssl = openssl.length > 0 ? openssl[1] : openssl[0];\n              appsObj.versions.systemOpensslLib = openssl.length > 0 ? openssl[0] : 'openssl';\n            }\n            functionProcessed();\n          });\n        }\n        if ({}.hasOwnProperty.call(appsObj.versions, 'npm')) {\n          exec('npm -v', function (error, stdout) {\n            if (!error) {\n              appsObj.versions.npm = stdout.toString().split('\\n')[0];\n            }\n            functionProcessed();\n          });\n        }\n        if ({}.hasOwnProperty.call(appsObj.versions, 'pm2')) {\n          cmd = 'pm2';\n          if (_windows) {\n            cmd += '.cmd';\n          }\n          exec(`${cmd} -v`, function (error, stdout) {\n            if (!error) {\n              let pm2 = stdout.toString().split('\\n')[0].trim();\n              if (!pm2.startsWith('[PM2]')) {\n                appsObj.versions.pm2 = pm2;\n              }\n            }\n            functionProcessed();\n          });\n        }\n        if ({}.hasOwnProperty.call(appsObj.versions, 'yarn')) {\n          exec('yarn --version', function (error, stdout) {\n            if (!error) {\n              appsObj.versions.yarn = stdout.toString().split('\\n')[0];\n            }\n            functionProcessed();\n          });\n        }\n        if ({}.hasOwnProperty.call(appsObj.versions, 'gulp')) {\n          cmd = 'gulp';\n          if (_windows) {\n            cmd += '.cmd';\n          }\n          exec(`${cmd} --version`, function (error, stdout) {\n            if (!error) {\n              const gulp = stdout.toString().split('\\n')[0] || '';\n              appsObj.versions.gulp = (gulp.toLowerCase().split('version')[1] || '').trim();\n            }\n            functionProcessed();\n          });\n        }\n        if ({}.hasOwnProperty.call(appsObj.versions, 'tsc')) {\n          cmd = 'tsc';\n          if (_windows) {\n            cmd += '.cmd';\n          }\n          exec(`${cmd} --version`, function (error, stdout) {\n            if (!error) {\n              const tsc = stdout.toString().split('\\n')[0] || '';\n              appsObj.versions.tsc = (tsc.toLowerCase().split('version')[1] || '').trim();\n            }\n            functionProcessed();\n          });\n        }\n        if ({}.hasOwnProperty.call(appsObj.versions, 'grunt')) {\n          cmd = 'grunt';\n          if (_windows) {\n            cmd += '.cmd';\n          }\n          exec(`${cmd} --version`, function (error, stdout) {\n            if (!error) {\n              const grunt = stdout.toString().split('\\n')[0] || '';\n              appsObj.versions.grunt = (grunt.toLowerCase().split('cli v')[1] || '').trim();\n            }\n            functionProcessed();\n          });\n        }\n        if ({}.hasOwnProperty.call(appsObj.versions, 'git')) {\n          if (_darwin) {\n            const gitHomebrewExists = fs.existsSync('/usr/local/Cellar/git') || fs.existsSync('/opt/homebrew/bin/git');\n            if (util.darwinXcodeExists() || gitHomebrewExists) {\n              exec('git --version', function (error, stdout) {\n                if (!error) {\n                  let git = stdout.toString().split('\\n')[0] || '';\n                  git = (git.toLowerCase().split('version')[1] || '').trim();\n                  appsObj.versions.git = (git.split(' ')[0] || '').trim();\n                }\n                functionProcessed();\n              });\n            } else {\n              functionProcessed();\n            }\n          } else {\n            exec('git --version', function (error, stdout) {\n              if (!error) {\n                let git = stdout.toString().split('\\n')[0] || '';\n                git = (git.toLowerCase().split('version')[1] || '').trim();\n                appsObj.versions.git = (git.split(' ')[0] || '').trim();\n              }\n              functionProcessed();\n            });\n          }\n        }\n        if ({}.hasOwnProperty.call(appsObj.versions, 'apache')) {\n          exec('apachectl -v 2>&1', function (error, stdout) {\n            if (!error) {\n              const apache = (stdout.toString().split('\\n')[0] || '').split(':');\n              appsObj.versions.apache = (apache.length > 1 ? apache[1].replace('Apache', '').replace('/', '').split('(')[0].trim() : '');\n            }\n            functionProcessed();\n          });\n        }\n        if ({}.hasOwnProperty.call(appsObj.versions, 'nginx')) {\n          exec('nginx -v 2>&1', function (error, stdout) {\n            if (!error) {\n              const nginx = stdout.toString().split('\\n')[0] || '';\n              appsObj.versions.nginx = (nginx.toLowerCase().split('/')[1] || '').trim();\n            }\n            functionProcessed();\n          });\n        }\n        if ({}.hasOwnProperty.call(appsObj.versions, 'mysql')) {\n          exec('mysql -V', function (error, stdout) {\n            if (!error) {\n              let mysql = stdout.toString().split('\\n')[0] || '';\n              mysql = mysql.toLowerCase();\n              if (mysql.indexOf(',') > -1) {\n                mysql = (mysql.split(',')[0] || '').trim();\n                const parts = mysql.split(' ');\n                appsObj.versions.mysql = (parts[parts.length - 1] || '').trim();\n              } else {\n                if (mysql.indexOf(' ver ') > -1) {\n                  mysql = mysql.split(' ver ')[1];\n                  appsObj.versions.mysql = mysql.split(' ')[0];\n                }\n              }\n            }\n            functionProcessed();\n          });\n        }\n        if ({}.hasOwnProperty.call(appsObj.versions, 'php')) {\n          exec('php -v', function (error, stdout) {\n            if (!error) {\n              const php = stdout.toString().split('\\n')[0] || '';\n              let parts = php.split('(');\n              if (parts[0].indexOf('-')) {\n                parts = parts[0].split('-');\n              }\n              appsObj.versions.php = parts[0].replace(/[^0-9.]/g, '');\n            }\n            functionProcessed();\n          });\n        }\n        if ({}.hasOwnProperty.call(appsObj.versions, 'redis')) {\n          exec('redis-server --version', function (error, stdout) {\n            if (!error) {\n              const redis = stdout.toString().split('\\n')[0] || '';\n              const parts = redis.split(' ');\n              appsObj.versions.redis = util.getValue(parts, 'v', '=', true);\n            }\n            functionProcessed();\n          });\n        }\n        if ({}.hasOwnProperty.call(appsObj.versions, 'docker')) {\n          exec('docker --version', function (error, stdout) {\n            if (!error) {\n              const docker = stdout.toString().split('\\n')[0] || '';\n              const parts = docker.split(' ');\n              appsObj.versions.docker = parts.length > 2 && parts[2].endsWith(',') ? parts[2].slice(0, -1) : '';\n            }\n            functionProcessed();\n          });\n        }\n        if ({}.hasOwnProperty.call(appsObj.versions, 'postfix')) {\n          exec('postconf -d | grep mail_version', function (error, stdout) {\n            if (!error) {\n              const postfix = stdout.toString().split('\\n') || [];\n              appsObj.versions.postfix = util.getValue(postfix, 'mail_version', '=', true);\n            }\n            functionProcessed();\n          });\n        }\n        if ({}.hasOwnProperty.call(appsObj.versions, 'mongodb')) {\n          exec('mongod --version', function (error, stdout) {\n            if (!error) {\n              const mongodb = stdout.toString().split('\\n')[0] || '';\n              appsObj.versions.mongodb = (mongodb.toLowerCase().split(',')[0] || '').replace(/[^0-9.]/g, '');\n            }\n            functionProcessed();\n          });\n        }\n        if ({}.hasOwnProperty.call(appsObj.versions, 'postgresql')) {\n          if (_linux) {\n            exec('locate bin/postgres', function (error, stdout) {\n              if (!error) {\n                const postgresqlBin = stdout.toString().split('\\n').sort();\n                if (postgresqlBin.length) {\n                  exec(postgresqlBin[postgresqlBin.length - 1] + ' -V', function (error, stdout) {\n                    if (!error) {\n                      const postgresql = stdout.toString().split('\\n')[0].split(' ') || [];\n                      appsObj.versions.postgresql = postgresql.length ? postgresql[postgresql.length - 1] : '';\n                    }\n                    functionProcessed();\n                  });\n                } else {\n                  functionProcessed();\n                }\n              } else {\n                exec('psql -V', function (error, stdout) {\n                  if (!error) {\n                    const postgresql = stdout.toString().split('\\n')[0].split(' ') || [];\n                    appsObj.versions.postgresql = postgresql.length ? postgresql[postgresql.length - 1] : '';\n                    appsObj.versions.postgresql = appsObj.versions.postgresql.split('-')[0];\n                  }\n                  functionProcessed();\n                });\n              }\n            });\n          } else {\n            if (_windows) {\n              util.powerShell('Get-CimInstance Win32_Service | select caption | fl').then((stdout) => {\n                let serviceSections = stdout.split(/\\n\\s*\\n/);\n                serviceSections.forEach((item) => {\n                  if (item.trim() !== '') {\n                    let lines = item.trim().split('\\r\\n');\n                    let srvCaption = util.getValue(lines, 'caption', ':', true).toLowerCase();\n                    if (srvCaption.indexOf('postgresql') > -1) {\n                      const parts = srvCaption.split(' server ');\n                      if (parts.length > 1) {\n                        appsObj.versions.postgresql = parts[1];\n                      }\n                    }\n                  }\n                });\n                functionProcessed();\n              });\n            } else {\n              exec('postgres -V', function (error, stdout) {\n                if (!error) {\n                  const postgresql = stdout.toString().split('\\n')[0].split(' ') || [];\n                  appsObj.versions.postgresql = postgresql.length ? postgresql[postgresql.length - 1] : '';\n                }\n                functionProcessed();\n              });\n            }\n          }\n        }\n        if ({}.hasOwnProperty.call(appsObj.versions, 'perl')) {\n          exec('perl -v', function (error, stdout) {\n            if (!error) {\n              const perl = stdout.toString().split('\\n') || '';\n              while (perl.length > 0 && perl[0].trim() === '') {\n                perl.shift();\n              }\n              if (perl.length > 0) {\n                appsObj.versions.perl = perl[0].split('(').pop().split(')')[0].replace('v', '');\n              }\n            }\n            functionProcessed();\n          });\n        }\n        if ({}.hasOwnProperty.call(appsObj.versions, 'python')) {\n          if (_darwin) {\n            try {\n              const stdout = execSync('sw_vers');\n              const lines = stdout.toString().split('\\n');\n              const osVersion = util.getValue(lines, 'ProductVersion', ':');\n              const gitHomebrewExists1 = fs.existsSync('/usr/local/Cellar/python');\n              const gitHomebrewExists2 = fs.existsSync('/opt/homebrew/bin/python');\n              if ((util.darwinXcodeExists() && util.semverCompare('12.0.1', osVersion) < 0) || gitHomebrewExists1 || gitHomebrewExists2) {\n                const cmd = gitHomebrewExists1 ? '/usr/local/Cellar/python -V 2>&1' : (gitHomebrewExists2 ? '/opt/homebrew/bin/python -V 2>&1' : 'python -V 2>&1');\n                exec(cmd, function (error, stdout) {\n                  if (!error) {\n                    const python = stdout.toString().split('\\n')[0] || '';\n                    appsObj.versions.python = python.toLowerCase().replace('python', '').trim();\n                  }\n                  functionProcessed();\n                });\n              } else {\n                functionProcessed();\n              }\n            } catch (e) {\n              functionProcessed();\n            }\n\n          } else {\n            exec('python -V 2>&1', function (error, stdout) {\n              if (!error) {\n                const python = stdout.toString().split('\\n')[0] || '';\n                appsObj.versions.python = python.toLowerCase().replace('python', '').trim();\n              }\n              functionProcessed();\n            });\n          }\n        }\n        if ({}.hasOwnProperty.call(appsObj.versions, 'python3')) {\n          if (_darwin) {\n            const gitHomebrewExists = fs.existsSync('/usr/local/Cellar/python3') || fs.existsSync('/opt/homebrew/bin/python3');\n            if (util.darwinXcodeExists() || gitHomebrewExists) {\n              exec('python3 -V 2>&1', function (error, stdout) {\n                if (!error) {\n                  const python = stdout.toString().split('\\n')[0] || '';\n                  appsObj.versions.python3 = python.toLowerCase().replace('python', '').trim();\n                }\n                functionProcessed();\n              });\n            } else {\n              functionProcessed();\n            }\n          } else {\n            exec('python3 -V 2>&1', function (error, stdout) {\n              if (!error) {\n                const python = stdout.toString().split('\\n')[0] || '';\n                appsObj.versions.python3 = python.toLowerCase().replace('python', '').trim();\n              }\n              functionProcessed();\n            });\n          }\n        }\n        if ({}.hasOwnProperty.call(appsObj.versions, 'pip')) {\n          if (_darwin) {\n            const gitHomebrewExists = fs.existsSync('/usr/local/Cellar/pip') || fs.existsSync('/opt/homebrew/bin/pip');\n            if (util.darwinXcodeExists() || gitHomebrewExists) {\n              exec('pip -V 2>&1', function (error, stdout) {\n                if (!error) {\n                  const pip = stdout.toString().split('\\n')[0] || '';\n                  const parts = pip.split(' ');\n                  appsObj.versions.pip = parts.length >= 2 ? parts[1] : '';\n                }\n                functionProcessed();\n              });\n            } else {\n              functionProcessed();\n            }\n          } else {\n            exec('pip -V 2>&1', function (error, stdout) {\n              if (!error) {\n                const pip = stdout.toString().split('\\n')[0] || '';\n                const parts = pip.split(' ');\n                appsObj.versions.pip = parts.length >= 2 ? parts[1] : '';\n              }\n              functionProcessed();\n            });\n          }\n        }\n        if ({}.hasOwnProperty.call(appsObj.versions, 'pip3')) {\n          if (_darwin) {\n            const gitHomebrewExists = fs.existsSync('/usr/local/Cellar/pip3') || fs.existsSync('/opt/homebrew/bin/pip3');\n            if (util.darwinXcodeExists() || gitHomebrewExists) {\n              exec('pip3 -V 2>&1', function (error, stdout) {\n                if (!error) {\n                  const pip = stdout.toString().split('\\n')[0] || '';\n                  const parts = pip.split(' ');\n                  appsObj.versions.pip3 = parts.length >= 2 ? parts[1] : '';\n                }\n                functionProcessed();\n              });\n            } else {\n              functionProcessed();\n            }\n          } else {\n            exec('pip3 -V 2>&1', function (error, stdout) {\n              if (!error) {\n                const pip = stdout.toString().split('\\n')[0] || '';\n                const parts = pip.split(' ');\n                appsObj.versions.pip3 = parts.length >= 2 ? parts[1] : '';\n              }\n              functionProcessed();\n            });\n          }\n        }\n        if ({}.hasOwnProperty.call(appsObj.versions, 'java')) {\n          if (_darwin) {\n            // check if any JVM is installed but avoid dialog box that Java needs to be installed\n            exec('/usr/libexec/java_home -V 2>&1', function (error, stdout) {\n              if (!error && stdout.toString().toLowerCase().indexOf('no java runtime') === -1) {\n                // now this can be done savely\n                exec('java -version 2>&1', function (error, stdout) {\n                  if (!error) {\n                    const java = stdout.toString().split('\\n')[0] || '';\n                    const parts = java.split('\"');\n                    appsObj.versions.java = parts.length === 3 ? parts[1].trim() : '';\n                  }\n                  functionProcessed();\n                });\n              } else {\n                functionProcessed();\n              }\n            });\n          } else {\n            exec('java -version 2>&1', function (error, stdout) {\n              if (!error) {\n                const java = stdout.toString().split('\\n')[0] || '';\n                const parts = java.split('\"');\n                appsObj.versions.java = parts.length === 3 ? parts[1].trim() : '';\n              }\n              functionProcessed();\n            });\n          }\n        }\n        if ({}.hasOwnProperty.call(appsObj.versions, 'gcc')) {\n          if ((_darwin && util.darwinXcodeExists()) || !_darwin) {\n            exec('gcc -dumpversion', function (error, stdout) {\n              if (!error) {\n                appsObj.versions.gcc = stdout.toString().split('\\n')[0].trim() || '';\n              }\n              if (appsObj.versions.gcc.indexOf('.') > -1) {\n                functionProcessed();\n              } else {\n                exec('gcc --version', function (error, stdout) {\n                  if (!error) {\n                    const gcc = stdout.toString().split('\\n')[0].trim();\n                    if (gcc.indexOf('gcc') > -1 && gcc.indexOf(')') > -1) {\n                      const parts = gcc.split(')');\n                      appsObj.versions.gcc = parts[1].trim() || appsObj.versions.gcc;\n                    }\n                  }\n                  functionProcessed();\n                });\n              }\n            });\n          } else {\n            functionProcessed();\n          }\n        }\n        if ({}.hasOwnProperty.call(appsObj.versions, 'virtualbox')) {\n          exec(util.getVboxmanage() + ' -v 2>&1', function (error, stdout) {\n            if (!error) {\n              const vbox = stdout.toString().split('\\n')[0] || '';\n              const parts = vbox.split('r');\n              appsObj.versions.virtualbox = parts[0];\n            }\n            functionProcessed();\n          });\n        }\n        if ({}.hasOwnProperty.call(appsObj.versions, 'bash')) {\n          exec('bash --version', function (error, stdout) {\n            if (!error) {\n              const line = stdout.toString().split('\\n')[0];\n              const parts = line.split(' version ');\n              if (parts.length > 1) {\n                appsObj.versions.bash = parts[1].split(' ')[0].split('(')[0];\n              }\n            }\n            functionProcessed();\n          });\n        }\n        if ({}.hasOwnProperty.call(appsObj.versions, 'zsh')) {\n          exec('zsh --version', function (error, stdout) {\n            if (!error) {\n              const line = stdout.toString().split('\\n')[0];\n              const parts = line.split('zsh ');\n              if (parts.length > 1) {\n                appsObj.versions.zsh = parts[1].split(' ')[0];\n              }\n            }\n            functionProcessed();\n          });\n        }\n        if ({}.hasOwnProperty.call(appsObj.versions, 'fish')) {\n          exec('fish --version', function (error, stdout) {\n            if (!error) {\n              const line = stdout.toString().split('\\n')[0];\n              const parts = line.split(' version ');\n              if (parts.length > 1) {\n                appsObj.versions.fish = parts[1].split(' ')[0];\n              }\n            }\n            functionProcessed();\n          });\n        }\n        if ({}.hasOwnProperty.call(appsObj.versions, 'powershell')) {\n          if (_windows) {\n            util.powerShell('$PSVersionTable').then(stdout => {\n              const lines = stdout.toString().split('\\n').map(line => line.replace(/ +/g, ' ').replace(/ +/g, ':'));\n              appsObj.versions.powershell = util.getValue(lines, 'psversion');\n              functionProcessed();\n            });\n          } else {\n            functionProcessed();\n          }\n        }\n        if ({}.hasOwnProperty.call(appsObj.versions, 'dotnet')) {\n          if (_windows) {\n            util.powerShell('gci \"HKLM:\\\\SOFTWARE\\\\Microsoft\\\\NET Framework Setup\\\\NDP\" -recurse | gp -name Version,Release -EA 0 | where { $_.PSChildName -match \"^(?!S)\\\\p{L}\"} | select PSChildName, Version, Release').then(stdout => {\n              const lines = stdout.toString().split('\\r\\n');\n              let dotnet = '';\n              lines.forEach(line => {\n                line = line.replace(/ +/g, ' ');\n                const parts = line.split(' ');\n                dotnet = dotnet || (parts[0].toLowerCase().startsWith('client') && parts.length > 2 ? parts[1].trim() : (parts[0].toLowerCase().startsWith('full') && parts.length > 2 ? parts[1].trim() : ''));\n              });\n              appsObj.versions.dotnet = dotnet.trim();\n              functionProcessed();\n            });\n          } else {\n            functionProcessed();\n          }\n        }\n      } catch (e) {\n        if (callback) { callback(appsObj.versions); }\n        resolve(appsObj.versions);\n      }\n    });\n  });\n}\n\nexports.versions = versions;\n\nfunction shell(callback) {\n  return new Promise((resolve) => {\n    process.nextTick(() => {\n      if (_windows) {\n        resolve('cmd');\n      } else {\n        let result = '';\n        exec('echo $SHELL', function (error, stdout) {\n          if (!error) {\n            result = stdout.toString().split('\\n')[0];\n          }\n          if (callback) {\n            callback(result);\n          }\n          resolve(result);\n        });\n      }\n    });\n  });\n}\n\nexports.shell = shell;\n\nfunction getUniqueMacAdresses() {\n  let macs = [];\n  try {\n    const ifaces = os.networkInterfaces();\n    for (let dev in ifaces) {\n      if ({}.hasOwnProperty.call(ifaces, dev)) {\n        ifaces[dev].forEach(function (details) {\n          if (details && details.mac && details.mac !== '00:00:00:00:00:00') {\n            const mac = details.mac.toLowerCase();\n            if (macs.indexOf(mac) === -1) {\n              macs.push(mac);\n            }\n          }\n        });\n      }\n    }\n    macs = macs.sort(function (a, b) {\n      if (a < b) { return -1; }\n      if (a > b) { return 1; }\n      return 0;\n    });\n  } catch (e) {\n    macs.push('00:00:00:00:00:00');\n  }\n  return macs;\n}\n\nfunction uuid(callback) {\n  return new Promise((resolve) => {\n    process.nextTick(() => {\n\n      let result = {\n        os: '',\n        hardware: '',\n        macs: getUniqueMacAdresses()\n      };\n      let parts;\n\n      if (_darwin) {\n        exec('system_profiler SPHardwareDataType -json', function (error, stdout) {\n          if (!error) {\n            try {\n              const jsonObj = JSON.parse(stdout.toString());\n              if (jsonObj.SPHardwareDataType && jsonObj.SPHardwareDataType.length > 0) {\n                const spHardware = jsonObj.SPHardwareDataType[0];\n                result.os = spHardware.platform_UUID.toLowerCase();\n                result.hardware = spHardware.serial_number;\n              }\n            } catch (e) {\n              util.noop();\n            }\n          }\n          if (callback) {\n            callback(result);\n          }\n          resolve(result);\n        });\n      }\n      if (_linux) {\n        const cmd = `echo -n \"os: \"; cat /var/lib/dbus/machine-id 2> /dev/null; echo;\necho -n \"os: \"; cat /etc/machine-id 2> /dev/null; echo;\necho -n \"hardware: \"; cat /sys/class/dmi/id/product_uuid 2> /dev/null; echo;`;\n        exec(cmd, function (error, stdout) {\n          const lines = stdout.toString().split('\\n');\n          result.os = util.getValue(lines, 'os').toLowerCase();\n          result.hardware = util.getValue(lines, 'hardware').toLowerCase();\n          if (!result.hardware) {\n            const lines = fs.readFileSync('/proc/cpuinfo', { encoding: 'utf8' }).toString().split('\\n');\n            const serial = util.getValue(lines, 'serial');\n            result.hardware = serial || '';\n          }\n          if (callback) {\n            callback(result);\n          }\n          resolve(result);\n        });\n      }\n      if (_freebsd || _openbsd || _netbsd) {\n        exec('sysctl -i kern.hostid kern.hostuuid', function (error, stdout) {\n          const lines = stdout.toString().split('\\n');\n          result.os = util.getValue(lines, 'kern.hostid', ':').toLowerCase();\n          result.hardware = util.getValue(lines, 'kern.hostuuid', ':').toLowerCase();\n          if (result.os.indexOf('unknown') >= 0) { result.os = ''; }\n          if (result.hardware.indexOf('unknown') >= 0) { result.hardware = ''; }\n          if (callback) {\n            callback(result);\n          }\n          resolve(result);\n        });\n      }\n      if (_windows) {\n        let sysdir = '%windir%\\\\System32';\n        if (process.arch === 'ia32' && Object.prototype.hasOwnProperty.call(process.env, 'PROCESSOR_ARCHITEW6432')) {\n          sysdir = '%windir%\\\\sysnative\\\\cmd.exe /c %windir%\\\\System32';\n        }\n        util.powerShell('Get-CimInstance Win32_ComputerSystemProduct | select UUID | fl').then((stdout) => {\n          let lines = stdout.split('\\r\\n');\n          result.hardware = util.getValue(lines, 'uuid', ':').toLowerCase();\n          exec(`${sysdir}\\\\reg query \"HKEY_LOCAL_MACHINE\\\\SOFTWARE\\\\Microsoft\\\\Cryptography\" /v MachineGuid`, util.execOptsWin, function (error, stdout) {\n            parts = stdout.toString().split('\\n\\r')[0].split('REG_SZ');\n            result.os = parts.length > 1 ? parts[1].replace(/\\r+|\\n+|\\s+/ig, '').toLowerCase() : '';\n            if (callback) {\n              callback(result);\n            }\n            resolve(result);\n          });\n        });\n      }\n    });\n  });\n}\n\nexports.uuid = uuid;\n","'use strict';\n// @ts-check\n// ==================================================================================\n// printers.js\n// ----------------------------------------------------------------------------------\n// Description:   System Information - library\n//                for Node.js\n// Copyright:     (c) 2014 - 2023\n// Author:        Sebastian Hildebrandt\n// ----------------------------------------------------------------------------------\n// License:       MIT\n// ==================================================================================\n// 15. printers\n// ----------------------------------------------------------------------------------\n\nconst exec = require('child_process').exec;\nconst util = require('./util');\n\nlet _platform = process.platform;\n\nconst _linux = (_platform === 'linux' || _platform === 'android');\nconst _darwin = (_platform === 'darwin');\nconst _windows = (_platform === 'win32');\nconst _freebsd = (_platform === 'freebsd');\nconst _openbsd = (_platform === 'openbsd');\nconst _netbsd = (_platform === 'netbsd');\nconst _sunos = (_platform === 'sunos');\n\nconst winPrinterStatus = {\n  1: 'Other',\n  2: 'Unknown',\n  3: 'Idle',\n  4: 'Printing',\n  5: 'Warmup',\n  6: 'Stopped Printing',\n  7: 'Offline',\n};\n\nfunction parseLinuxCupsHeader(lines) {\n  const result = {};\n  if (lines && lines.length) {\n    if (lines[0].indexOf(' CUPS v') > 0) {\n      const parts = lines[0].split(' CUPS v');\n      result.cupsVersion = parts[1];\n    }\n  }\n  return result;\n}\n\nfunction parseLinuxCupsPrinter(lines) {\n  const result = {};\n  const printerId = util.getValue(lines, 'PrinterId', ' ');\n  result.id = printerId ? parseInt(printerId, 10) : null;\n  result.name = util.getValue(lines, 'Info', ' ');\n  result.model = lines.length > 0 && lines[0] ? lines[0].split(' ')[0] : '';\n  result.uri = util.getValue(lines, 'DeviceURI', ' ');\n  result.uuid = util.getValue(lines, 'UUID', ' ');\n  result.status = util.getValue(lines, 'State', ' ');\n  result.local = util.getValue(lines, 'Location', ' ').toLowerCase().startsWith('local');\n  result.default = null;\n  result.shared = util.getValue(lines, 'Shared', ' ').toLowerCase().startsWith('yes');\n\n  return result;\n}\n\nfunction parseLinuxLpstatPrinter(lines, id) {\n  const result = {};\n  result.id = id;\n  result.name = util.getValue(lines, 'Description', ':', true);\n  result.model = lines.length > 0 && lines[0] ? lines[0].split(' ')[0] : '';\n  result.uri = null;\n  result.uuid = null;\n  result.status = lines.length > 0 && lines[0] ? (lines[0].indexOf(' idle') > 0 ? 'idle' : (lines[0].indexOf(' printing') > 0 ? 'printing' : 'unknown')) : null;\n  result.local = util.getValue(lines, 'Location', ':', true).toLowerCase().startsWith('local');\n  result.default = null;\n  result.shared = util.getValue(lines, 'Shared', ' ').toLowerCase().startsWith('yes');\n\n  return result;\n}\n\nfunction parseDarwinPrinters(printerObject, id) {\n  const result = {};\n  const uriParts = printerObject.uri.split('/');\n  result.id = id;\n  result.name = printerObject._name;\n  result.model = uriParts.length ? uriParts[uriParts.length - 1] : '';\n  result.uri = printerObject.uri;\n  result.uuid = null;\n  result.status = printerObject.status;\n  result.local = printerObject.printserver === 'local';\n  result.default = printerObject.default === 'yes';\n  result.shared = printerObject.shared === 'yes';\n\n  return result;\n}\n\nfunction parseWindowsPrinters(lines, id) {\n  const result = {};\n  const status = parseInt(util.getValue(lines, 'PrinterStatus', ':'), 10);\n\n  result.id = id;\n  result.name = util.getValue(lines, 'name', ':');\n  result.model = util.getValue(lines, 'DriverName', ':');\n  result.uri = null;\n  result.uuid = null;\n  result.status = winPrinterStatus[status] ? winPrinterStatus[status] : null;\n  result.local = util.getValue(lines, 'Local', ':').toUpperCase() === 'TRUE';\n  result.default = util.getValue(lines, 'Default', ':').toUpperCase() === 'TRUE';\n  result.shared = util.getValue(lines, 'Shared', ':').toUpperCase() === 'TRUE';\n\n  return result;\n}\n\nfunction printer(callback) {\n\n  return new Promise((resolve) => {\n    process.nextTick(() => {\n      let result = [];\n      if (_linux || _freebsd || _openbsd || _netbsd) {\n        let cmd = 'cat /etc/cups/printers.conf 2>/dev/null';\n        exec(cmd, function (error, stdout) {\n          // printers.conf\n          if (!error) {\n            const parts = stdout.toString().split('<Printer ');\n            const printerHeader = parseLinuxCupsHeader(parts[0]);\n            for (let i = 1; i < parts.length; i++) {\n              const printers = parseLinuxCupsPrinter(parts[i].split('\\n'));\n              if (printers.name) {\n                printers.engine = 'CUPS';\n                printers.engineVersion = printerHeader.cupsVersion;\n                result.push(printers);\n              }\n            }\n          }\n          if (result.length === 0) {\n            if (_linux) {\n              cmd = 'export LC_ALL=C; lpstat -lp 2>/dev/null; unset LC_ALL';\n              // lpstat\n              exec(cmd, function (error, stdout) {\n                const parts = ('\\n' + stdout.toString()).split('\\nprinter ');\n                for (let i = 1; i < parts.length; i++) {\n                  const printers = parseLinuxLpstatPrinter(parts[i].split('\\n'), i);\n                  result.push(printers);\n                }\n              });\n              if (callback) {\n                callback(result);\n              }\n              resolve(result);\n            } else {\n              if (callback) {\n                callback(result);\n              }\n              resolve(result);\n            }\n          } else {\n            if (callback) {\n              callback(result);\n            }\n            resolve(result);\n          }\n        });\n      }\n      if (_darwin) {\n        let cmd = 'system_profiler SPPrintersDataType -json';\n        exec(cmd, function (error, stdout) {\n          if (!error) {\n            try {\n              const outObj = JSON.parse(stdout.toString());\n              if (outObj.SPPrintersDataType && outObj.SPPrintersDataType.length) {\n                for (let i = 0; i < outObj.SPPrintersDataType.length; i++) {\n                  const printer = parseDarwinPrinters(outObj.SPPrintersDataType[i], i);\n                  result.push(printer);\n                }\n              }\n            } catch (e) {\n              util.noop();\n            }\n          }\n          if (callback) {\n            callback(result);\n          }\n          resolve(result);\n        });\n      }\n      if (_windows) {\n        util.powerShell('Get-CimInstance Win32_Printer | select PrinterStatus,Name,DriverName,Local,Default,Shared | fl').then((stdout, error) => {\n          if (!error) {\n            const parts = stdout.toString().split(/\\n\\s*\\n/);\n            for (let i = 0; i < parts.length; i++) {\n              const printer = parseWindowsPrinters(parts[i].split('\\n'), i);\n              if (printer.name || printer.model) {\n                result.push(printer);\n              }\n            }\n          }\n          if (callback) {\n            callback(result);\n          }\n          resolve(result);\n        });\n      }\n      if (_sunos) {\n        resolve(null);\n      }\n    });\n  });\n}\n\nexports.printer = printer;\n","'use strict';\n// @ts-check\n// ==================================================================================\n// processes.js\n// ----------------------------------------------------------------------------------\n// Description:   System Information - library\n//                for Node.js\n// Copyright:     (c) 2014 - 2023\n// Author:        Sebastian Hildebrandt\n// ----------------------------------------------------------------------------------\n// License:       MIT\n// ==================================================================================\n// 10. Processes\n// ----------------------------------------------------------------------------------\n\nconst os = require('os');\nconst fs = require('fs');\nconst path = require('path');\nconst exec = require('child_process').exec;\nconst execSync = require('child_process').execSync;\n\nconst util = require('./util');\n\nlet _platform = process.platform;\n\nconst _linux = (_platform === 'linux' || _platform === 'android');\nconst _darwin = (_platform === 'darwin');\nconst _windows = (_platform === 'win32');\nconst _freebsd = (_platform === 'freebsd');\nconst _openbsd = (_platform === 'openbsd');\nconst _netbsd = (_platform === 'netbsd');\nconst _sunos = (_platform === 'sunos');\n\nconst _processes_cpu = {\n  all: 0,\n  all_utime: 0,\n  all_stime: 0,\n  list: {},\n  ms: 0,\n  result: {}\n};\nconst _services_cpu = {\n  all: 0,\n  all_utime: 0,\n  all_stime: 0,\n  list: {},\n  ms: 0,\n  result: {}\n};\nconst _process_cpu = {\n  all: 0,\n  all_utime: 0,\n  all_stime: 0,\n  list: {},\n  ms: 0,\n  result: {}\n};\n\nconst _winStatusValues = {\n  '0': 'unknown',\n  '1': 'other',\n  '2': 'ready',\n  '3': 'running',\n  '4': 'blocked',\n  '5': 'suspended blocked',\n  '6': 'suspended ready',\n  '7': 'terminated',\n  '8': 'stopped',\n  '9': 'growing',\n};\n\nfunction parseTimeUnix(time) {\n  let result = time;\n  let parts = time.replace(/ +/g, ' ').split(' ');\n  if (parts.length === 5) {\n    result = parts[4] + '-' + ('0' + ('JANFEBMARAPRMAYJUNJULAUGSEPOCTNOVDEC'.indexOf(parts[1].toUpperCase()) / 3 + 1)).slice(-2) + '-' + ('0' + parts[2]).slice(-2) + ' ' + parts[3];\n  }\n  return result;\n}\n\nfunction parseElapsedTime(etime) {\n  let current = new Date();\n  current = new Date(current.getTime() - current.getTimezoneOffset() * 60000);\n\n  const elapsed = etime.split('-');\n\n  const timeIndex = elapsed.length - 1;\n  const days = timeIndex > 0 ? parseInt(elapsed[timeIndex - 1]) : 0;\n\n  const timeStr = elapsed[timeIndex].split(':');\n  const hours = timeStr.length === 3 ? parseInt(timeStr[0] || 0) : 0;\n  const mins = parseInt(timeStr[timeStr.length === 3 ? 1 : 0] || 0);\n  const secs = parseInt(timeStr[timeStr.length === 3 ? 2 : 1] || 0);\n  const ms = (((((days * 24 + hours) * 60) + mins) * 60 + secs) * 1000);\n\n  let res = new Date(current.getTime());\n  let result = res.toISOString().substring(0, 10) + ' ' + res.toISOString().substring(11, 19);\n  try {\n    res = new Date(current.getTime() - ms);\n    result = res.toISOString().substring(0, 10) + ' ' + res.toISOString().substring(11, 19);\n  } catch (e) {\n    util.noop();\n  }\n  return result;\n}\n\n// --------------------------\n// PS - services\n// pass a comma separated string with services to check (mysql, apache, postgresql, ...)\n// this function gives an array back, if the services are running.\n\nfunction services(srv, callback) {\n\n  // fallback - if only callback is given\n  if (util.isFunction(srv) && !callback) {\n    callback = srv;\n    srv = '';\n  }\n\n  return new Promise((resolve) => {\n    process.nextTick(() => {\n      if (typeof srv !== 'string') {\n        if (callback) { callback([]); }\n        return resolve([]);\n      }\n\n      if (srv) {\n        let srvString = '';\n        srvString.__proto__.toLowerCase = util.stringToLower;\n        srvString.__proto__.replace = util.stringReplace;\n        srvString.__proto__.trim = util.stringTrim;\n\n        const s = util.sanitizeShellString(srv);\n        const l = util.mathMin(s.length, 2000);\n        for (let i = 0; i <= l; i++) {\n          if (s[i] !== undefined) {\n            srvString = srvString + s[i];\n          }\n        }\n\n        srvString = srvString.trim().toLowerCase().replace(/, /g, '|').replace(/,+/g, '|');\n        if (srvString === '') {\n          srvString = '*';\n        }\n        if (util.isPrototypePolluted() && srvString !== '*') {\n          srvString = '------';\n        }\n        let srvs = srvString.split('|');\n        let result = [];\n        let dataSrv = [];\n\n        if (_linux || _freebsd || _openbsd || _netbsd || _darwin) {\n          if ((_linux || _freebsd || _openbsd || _netbsd) && srvString === '*') {\n            try {\n              const tmpsrv = execSync('systemctl --all --type=service --no-legend 2> /dev/null').toString().split('\\n');\n              srvs = [];\n              for (const s of tmpsrv) {\n                const name = s.split('.service')[0];\n                if (name && s.indexOf(' not-found ') === -1) {\n                  srvs.push(name.trim());\n                }\n              }\n              srvString = srvs.join('|');\n            } catch (d) {\n              try {\n                srvString = '';\n                const tmpsrv = execSync('service --status-all 2> /dev/null').toString().split('\\n');\n                for (const s of tmpsrv) {\n                  const parts = s.split(']');\n                  if (parts.length === 2) {\n                    srvString += (srvString !== '' ? '|' : '') + parts[1].trim();\n                  }\n                }\n                srvs = srvString.split('|');\n              } catch (e) {\n                try {\n                  const srvStr = execSync('ls /etc/init.d/ -m 2> /dev/null').toString().split('\\n').join('');\n                  srvString = '';\n                  if (srvStr) {\n                    const tmpsrv = srvStr.split(',');\n                    for (const s of tmpsrv) {\n                      const name = s.trim();\n                      if (name) {\n                        srvString += (srvString !== '' ? '|' : '') + name;\n                      }\n                    }\n                    srvs = srvString.split('|');\n                  }\n                } catch (f) {\n                  srvString = '';\n                  srvs = [];\n                }\n              }\n            }\n          }\n          if ((_darwin) && srvString === '*') { // service enumeration not yet suported on mac OS\n            if (callback) { callback(result); }\n            resolve(result);\n          }\n          let args = (_darwin) ? ['-caxo', 'pcpu,pmem,pid,command'] : ['-axo', 'pcpu,pmem,pid,command'];\n          if (srvString !== '' && srvs.length > 0) {\n            util.execSafe('ps', args).then((stdout) => {\n              if (stdout) {\n                let lines = stdout.replace(/ +/g, ' ').replace(/,+/g, '.').split('\\n');\n                srvs.forEach(function (srv) {\n                  let ps;\n                  if (_darwin) {\n                    ps = lines.filter(function (e) {\n                      return (e.toLowerCase().indexOf(srv) !== -1);\n                    });\n\n                  } else {\n                    ps = lines.filter(function (e) {\n                      return (e.toLowerCase().indexOf(' ' + srv + ':') !== -1) || (e.toLowerCase().indexOf('/' + srv) !== -1);\n                    });\n                  }\n                  const pids = [];\n                  for (const p of ps) {\n                    const pid = p.trim().split(' ')[2];\n                    if (pid) {\n                      pids.push(parseInt(pid, 10));\n                    }\n                  }\n                  result.push({\n                    name: srv,\n                    running: ps.length > 0,\n                    startmode: '',\n                    pids: pids,\n                    cpu: parseFloat((ps.reduce(function (pv, cv) {\n                      return pv + parseFloat(cv.trim().split(' ')[0]);\n                    }, 0)).toFixed(2)),\n                    mem: parseFloat((ps.reduce(function (pv, cv) {\n                      return pv + parseFloat(cv.trim().split(' ')[1]);\n                    }, 0)).toFixed(2))\n                  });\n                });\n                if (_linux) {\n                  // calc process_cpu - ps is not accurate in linux!\n                  let cmd = 'cat /proc/stat | grep \"cpu \"';\n                  for (let i in result) {\n                    for (let j in result[i].pids) {\n                      cmd += (';cat /proc/' + result[i].pids[j] + '/stat');\n                    }\n                  }\n                  exec(cmd, { maxBuffer: 1024 * 20000 }, function (error, stdout) {\n                    let curr_processes = stdout.toString().split('\\n');\n\n                    // first line (all - /proc/stat)\n                    let all = parseProcStat(curr_processes.shift());\n\n                    // process\n                    let list_new = {};\n                    let resultProcess = {};\n                    curr_processes.forEach((element) => {\n                      resultProcess = calcProcStatLinux(element, all, _services_cpu);\n\n                      if (resultProcess.pid) {\n                        let listPos = -1;\n                        for (let i in result) {\n                          for (let j in result[i].pids) {\n                            if (parseInt(result[i].pids[j]) === parseInt(resultProcess.pid)) {\n                              listPos = i;\n                            }\n                          }\n                        }\n                        if (listPos >= 0) {\n                          result[listPos].cpu += resultProcess.cpuu + resultProcess.cpus;\n                        }\n\n                        // save new values\n                        list_new[resultProcess.pid] = {\n                          cpuu: resultProcess.cpuu,\n                          cpus: resultProcess.cpus,\n                          utime: resultProcess.utime,\n                          stime: resultProcess.stime,\n                          cutime: resultProcess.cutime,\n                          cstime: resultProcess.cstime\n                        };\n                      }\n                    });\n\n                    // store old values\n                    _services_cpu.all = all;\n                    _services_cpu.list = Object.assign({}, list_new);\n                    _services_cpu.ms = Date.now() - _services_cpu.ms;\n                    _services_cpu.result = Object.assign({}, result);\n                    if (callback) { callback(result); }\n                    resolve(result);\n                  });\n                } else {\n                  if (callback) { callback(result); }\n                  resolve(result);\n                }\n              } else {\n                args = ['-o', 'comm'];\n                util.execSafe('ps', args).then((stdout) => {\n                  if (stdout) {\n                    let lines = stdout.replace(/ +/g, ' ').replace(/,+/g, '.').split('\\n');\n                    srvs.forEach(function (srv) {\n                      let ps = lines.filter(function (e) {\n                        return e.indexOf(srv) !== -1;\n                      });\n                      result.push({\n                        name: srv,\n                        running: ps.length > 0,\n                        startmode: '',\n                        cpu: 0,\n                        mem: 0\n                      });\n                    });\n                    if (callback) { callback(result); }\n                    resolve(result);\n                  } else {\n                    srvs.forEach(function (srv) {\n                      result.push({\n                        name: srv,\n                        running: false,\n                        startmode: '',\n                        cpu: 0,\n                        mem: 0\n                      });\n                    });\n                    if (callback) { callback(result); }\n                    resolve(result);\n                  }\n                });\n              }\n            });\n          } else {\n            if (callback) { callback(result); }\n            resolve(result);\n          }\n        }\n        if (_windows) {\n          try {\n            let wincommand = 'Get-CimInstance Win32_Service';\n            if (srvs[0] !== '*') {\n              wincommand += ' -Filter \"';\n              srvs.forEach((srv) => {\n                wincommand += `Name='${srv}' or `;\n              });\n              wincommand = `${wincommand.slice(0, -4)}\"`;\n            }\n            wincommand += ' | select Name,Caption,Started,StartMode,ProcessId | fl';\n            util.powerShell(wincommand).then((stdout, error) => {\n              if (!error) {\n                let serviceSections = stdout.split(/\\n\\s*\\n/);\n                serviceSections.forEach((element) => {\n                  if (element.trim() !== '') {\n                    let lines = element.trim().split('\\r\\n');\n                    let srvName = util.getValue(lines, 'Name', ':', true).toLowerCase();\n                    let srvCaption = util.getValue(lines, 'Caption', ':', true).toLowerCase();\n                    let started = util.getValue(lines, 'Started', ':', true);\n                    let startMode = util.getValue(lines, 'StartMode', ':', true);\n                    let pid = util.getValue(lines, 'ProcessId', ':', true);\n                    if (srvString === '*' || srvs.indexOf(srvName) >= 0 || srvs.indexOf(srvCaption) >= 0) {\n                      result.push({\n                        name: srvName,\n                        running: (started.toLowerCase() === 'true'),\n                        startmode: startMode,\n                        pids: [pid],\n                        cpu: 0,\n                        mem: 0\n                      });\n                      dataSrv.push(srvName);\n                      dataSrv.push(srvCaption);\n                    }\n                  }\n\n                });\n\n                if (srvString !== '*') {\n                  let srvsMissing = srvs.filter(function (e) {\n                    return dataSrv.indexOf(e) === -1;\n                  });\n                  srvsMissing.forEach(function (srvName) {\n                    result.push({\n                      name: srvName,\n                      running: false,\n                      startmode: '',\n                      pids: [],\n                      cpu: 0,\n                      mem: 0\n                    });\n                  });\n                }\n                if (callback) { callback(result); }\n                resolve(result);\n              } else {\n                srvs.forEach(function (srvName) {\n                  result.push({\n                    name: srvName,\n                    running: false,\n                    startmode: '',\n                    cpu: 0,\n                    mem: 0\n                  });\n                });\n                if (callback) { callback(result); }\n                resolve(result);\n              }\n            });\n          } catch (e) {\n            if (callback) { callback(result); }\n            resolve(result);\n          }\n        }\n      } else {\n        if (callback) { callback([]); }\n        resolve([]);\n      }\n    });\n  });\n}\n\nexports.services = services;\n\nfunction parseProcStat(line) {\n  let parts = line.replace(/ +/g, ' ').split(' ');\n  let user = (parts.length >= 2 ? parseInt(parts[1]) : 0);\n  let nice = (parts.length >= 3 ? parseInt(parts[2]) : 0);\n  let system = (parts.length >= 4 ? parseInt(parts[3]) : 0);\n  let idle = (parts.length >= 5 ? parseInt(parts[4]) : 0);\n  let iowait = (parts.length >= 6 ? parseInt(parts[5]) : 0);\n  let irq = (parts.length >= 7 ? parseInt(parts[6]) : 0);\n  let softirq = (parts.length >= 8 ? parseInt(parts[7]) : 0);\n  let steal = (parts.length >= 9 ? parseInt(parts[8]) : 0);\n  let guest = (parts.length >= 10 ? parseInt(parts[9]) : 0);\n  let guest_nice = (parts.length >= 11 ? parseInt(parts[10]) : 0);\n  return user + nice + system + idle + iowait + irq + softirq + steal + guest + guest_nice;\n}\n\nfunction calcProcStatLinux(line, all, _cpu_old) {\n  let statparts = line.replace(/ +/g, ' ').split(')');\n  if (statparts.length >= 2) {\n    let parts = statparts[1].split(' ');\n    if (parts.length >= 16) {\n      let pid = parseInt(statparts[0].split(' ')[0]);\n      let utime = parseInt(parts[12]);\n      let stime = parseInt(parts[13]);\n      let cutime = parseInt(parts[14]);\n      let cstime = parseInt(parts[15]);\n\n      // calc\n      let cpuu = 0;\n      let cpus = 0;\n      if (_cpu_old.all > 0 && _cpu_old.list[pid]) {\n        cpuu = (utime + cutime - _cpu_old.list[pid].utime - _cpu_old.list[pid].cutime) / (all - _cpu_old.all) * 100; // user\n        cpus = (stime + cstime - _cpu_old.list[pid].stime - _cpu_old.list[pid].cstime) / (all - _cpu_old.all) * 100; // system\n      } else {\n        cpuu = (utime + cutime) / (all) * 100; // user\n        cpus = (stime + cstime) / (all) * 100; // system\n      }\n      return {\n        pid: pid,\n        utime: utime,\n        stime: stime,\n        cutime: cutime,\n        cstime: cstime,\n        cpuu: cpuu,\n        cpus: cpus\n      };\n    } else {\n      return {\n        pid: 0,\n        utime: 0,\n        stime: 0,\n        cutime: 0,\n        cstime: 0,\n        cpuu: 0,\n        cpus: 0\n      };\n    }\n  } else {\n    return {\n      pid: 0,\n      utime: 0,\n      stime: 0,\n      cutime: 0,\n      cstime: 0,\n      cpuu: 0,\n      cpus: 0\n    };\n  }\n}\n\nfunction calcProcStatWin(procStat, all, _cpu_old) {\n  // calc\n  let cpuu = 0;\n  let cpus = 0;\n  if (_cpu_old.all > 0 && _cpu_old.list[procStat.pid]) {\n    cpuu = (procStat.utime - _cpu_old.list[procStat.pid].utime) / (all - _cpu_old.all) * 100; // user\n    cpus = (procStat.stime - _cpu_old.list[procStat.pid].stime) / (all - _cpu_old.all) * 100; // system\n  } else {\n    cpuu = (procStat.utime) / (all) * 100; // user\n    cpus = (procStat.stime) / (all) * 100; // system\n  }\n  return {\n    pid: procStat.pid,\n    utime: procStat.utime,\n    stime: procStat.stime,\n    cpuu: cpuu > 0 ? cpuu : 0,\n    cpus: cpus > 0 ? cpus : 0\n  };\n}\n\n\n\n// --------------------------\n// running processes\n\nfunction processes(callback) {\n\n  let parsedhead = [];\n\n  function getName(command) {\n    command = command || '';\n    let result = command.split(' ')[0];\n    if (result.substr(-1) === ':') {\n      result = result.substr(0, result.length - 1);\n    }\n    if (result.substr(0, 1) !== '[') {\n      let parts = result.split('/');\n      if (isNaN(parseInt(parts[parts.length - 1]))) {\n        result = parts[parts.length - 1];\n      } else {\n        result = parts[0];\n      }\n    }\n    return result;\n  }\n\n  function parseLine(line) {\n\n    let offset = 0;\n    let offset2 = 0;\n\n    function checkColumn(i) {\n      offset = offset2;\n      if (parsedhead[i]) {\n        offset2 = line.substring(parsedhead[i].to + offset, 10000).indexOf(' ');\n      } else {\n        offset2 = 10000;\n      }\n    }\n\n    checkColumn(0);\n    const pid = parseInt(line.substring(parsedhead[0].from + offset, parsedhead[0].to + offset2));\n    checkColumn(1);\n    const ppid = parseInt(line.substring(parsedhead[1].from + offset, parsedhead[1].to + offset2));\n    checkColumn(2);\n    const cpu = parseFloat(line.substring(parsedhead[2].from + offset, parsedhead[2].to + offset2).replace(/,/g, '.'));\n    checkColumn(3);\n    const mem = parseFloat(line.substring(parsedhead[3].from + offset, parsedhead[3].to + offset2).replace(/,/g, '.'));\n    checkColumn(4);\n    const priority = parseInt(line.substring(parsedhead[4].from + offset, parsedhead[4].to + offset2));\n    checkColumn(5);\n    const vsz = parseInt(line.substring(parsedhead[5].from + offset, parsedhead[5].to + offset2));\n    checkColumn(6);\n    const rss = parseInt(line.substring(parsedhead[6].from + offset, parsedhead[6].to + offset2));\n    checkColumn(7);\n    const nice = parseInt(line.substring(parsedhead[7].from + offset, parsedhead[7].to + offset2)) || 0;\n    checkColumn(8);\n    const started = !_sunos ? parseElapsedTime(line.substring(parsedhead[8].from + offset, parsedhead[8].to + offset2).trim()) : parseTimeUnix(line.substring(parsedhead[8].from + offset, parsedhead[8].to + offset2).trim());\n    checkColumn(9);\n    let state = line.substring(parsedhead[9].from + offset, parsedhead[9].to + offset2).trim();\n    state = (state[0] === 'R' ? 'running' : (state[0] === 'S' ? 'sleeping' : (state[0] === 'T' ? 'stopped' : (state[0] === 'W' ? 'paging' : (state[0] === 'X' ? 'dead' : (state[0] === 'Z' ? 'zombie' : ((state[0] === 'D' || state[0] === 'U') ? 'blocked' : 'unknown')))))));\n    checkColumn(10);\n    let tty = line.substring(parsedhead[10].from + offset, parsedhead[10].to + offset2).trim();\n    if (tty === '?' || tty === '??') { tty = ''; }\n    checkColumn(11);\n    const user = line.substring(parsedhead[11].from + offset, parsedhead[11].to + offset2).trim();\n    checkColumn(12);\n    let cmdPath = '';\n    let command = '';\n    let params = '';\n    let fullcommand = line.substring(parsedhead[12].from + offset, parsedhead[12].to + offset2).trim();\n    if (fullcommand.substr(fullcommand.length - 1) === ']') { fullcommand = fullcommand.slice(0, -1); }\n    if (fullcommand.substr(0, 1) === '[') { command = fullcommand.substring(1); }\n    else {\n      const p1 = fullcommand.indexOf('(');\n      const p2 = fullcommand.indexOf(')');\n      const p3 = fullcommand.indexOf('/');\n      const p4 = fullcommand.indexOf(':');\n      if (p1 < p2 && p1 < p3 && p3 < p2) {\n        command = fullcommand.split(' ')[0];\n        command = command.replace(/:/g, '');\n      } else {\n        if (p4 > 0 && (p3 === -1 || p3 > 3)) {\n          command = fullcommand.split(' ')[0];\n          command = command.replace(/:/g, '');\n        } else {\n          // try to figure out where parameter starts\n          let firstParamPos = fullcommand.indexOf(' -');\n          let firstParamPathPos = fullcommand.indexOf(' /');\n          firstParamPos = (firstParamPos >= 0 ? firstParamPos : 10000);\n          firstParamPathPos = (firstParamPathPos >= 0 ? firstParamPathPos : 10000);\n          const firstPos = Math.min(firstParamPos, firstParamPathPos);\n          let tmpCommand = fullcommand.substr(0, firstPos);\n          const tmpParams = fullcommand.substr(firstPos);\n          const lastSlashPos = tmpCommand.lastIndexOf('/');\n          if (lastSlashPos >= 0) {\n            cmdPath = tmpCommand.substr(0, lastSlashPos);\n            tmpCommand = tmpCommand.substr(lastSlashPos + 1);\n          }\n\n          if (firstPos === 10000 && tmpCommand.indexOf(' ') > -1) {\n            const parts = tmpCommand.split(' ');\n            if (fs.existsSync(path.join(cmdPath, parts[0]))) {\n              command = parts.shift();\n              params = (parts.join(' ') + ' ' + tmpParams).trim();\n            } else {\n              command = tmpCommand.trim();\n              params = tmpParams.trim();\n            }\n          } else {\n            command = tmpCommand.trim();\n            params = tmpParams.trim();\n          }\n        }\n      }\n\n    }\n\n    return ({\n      pid: pid,\n      parentPid: ppid,\n      name: _linux ? getName(command) : command,\n      cpu: cpu,\n      cpuu: 0,\n      cpus: 0,\n      mem: mem,\n      priority: priority,\n      memVsz: vsz,\n      memRss: rss,\n      nice: nice,\n      started: started,\n      state: state,\n      tty: tty,\n      user: user,\n      command: command,\n      params: params,\n      path: cmdPath\n    });\n  }\n\n  function parseProcesses(lines) {\n    let result = [];\n    if (lines.length > 1) {\n      let head = lines[0];\n      parsedhead = util.parseHead(head, 8);\n      lines.shift();\n      lines.forEach(function (line) {\n        if (line.trim() !== '') {\n          result.push(parseLine(line));\n        }\n      });\n    }\n    return result;\n  }\n  function parseProcesses2(lines) {\n\n    function formatDateTime(time) {\n      const month = ('0' + (time.getMonth() + 1).toString()).slice(-2);\n      const year = time.getFullYear().toString();\n      const day = ('0' + time.getDate().toString()).slice(-2);\n      const hours = ('0' + time.getHours().toString()).slice(-2);\n      const mins = ('0' + time.getMinutes().toString()).slice(-2);\n      const secs = ('0' + time.getSeconds().toString()).slice(-2);\n\n      return (year + '-' + month + '-' + day + ' ' + hours + ':' + mins + ':' + secs);\n    }\n\n    function parseElapsed(etime) {\n      let started = '';\n      if (etime.indexOf('d') >= 0) {\n        const elapsed_parts = etime.split('d');\n        started = formatDateTime(new Date(Date.now() - (elapsed_parts[0] * 24 + elapsed_parts[1] * 1) * 60 * 60 * 1000));\n      } else if (etime.indexOf('h') >= 0) {\n        const elapsed_parts = etime.split('h');\n        started = formatDateTime(new Date(Date.now() - (elapsed_parts[0] * 60 + elapsed_parts[1] * 1) * 60 * 1000));\n      } else if (etime.indexOf(':') >= 0) {\n        const elapsed_parts = etime.split(':');\n        started = formatDateTime(new Date(Date.now() - (elapsed_parts.length > 1 ? (elapsed_parts[0] * 60 + elapsed_parts[1]) * 1000 : elapsed_parts[0] * 1000)));\n      }\n      return started;\n    }\n\n    let result = [];\n    lines.forEach(function (line) {\n      if (line.trim() !== '') {\n        line = line.trim().replace(/ +/g, ' ').replace(/,+/g, '.');\n        const parts = line.split(' ');\n        const command = parts.slice(9).join(' ');\n        const pmem = parseFloat((1.0 * parseInt(parts[3]) * 1024 / os.totalmem()).toFixed(1));\n        const started = parseElapsed(parts[5]);\n\n        result.push({\n          pid: parseInt(parts[0]),\n          parentPid: parseInt(parts[1]),\n          name: getName(command),\n          cpu: 0,\n          cpuu: 0,\n          cpus: 0,\n          mem: pmem,\n          priority: 0,\n          memVsz: parseInt(parts[2]),\n          memRss: parseInt(parts[3]),\n          nice: parseInt(parts[4]),\n          started: started,\n          state: (parts[6] === 'R' ? 'running' : (parts[6] === 'S' ? 'sleeping' : (parts[6] === 'T' ? 'stopped' : (parts[6] === 'W' ? 'paging' : (parts[6] === 'X' ? 'dead' : (parts[6] === 'Z' ? 'zombie' : ((parts[6] === 'D' || parts[6] === 'U') ? 'blocked' : 'unknown'))))))),\n          tty: parts[7],\n          user: parts[8],\n          command: command\n        });\n      }\n    });\n    return result;\n  }\n\n  return new Promise((resolve) => {\n    process.nextTick(() => {\n      let result = {\n        all: 0,\n        running: 0,\n        blocked: 0,\n        sleeping: 0,\n        unknown: 0,\n        list: []\n      };\n\n      let cmd = '';\n\n      if ((_processes_cpu.ms && Date.now() - _processes_cpu.ms >= 500) || _processes_cpu.ms === 0) {\n        if (_linux || _freebsd || _openbsd || _netbsd || _darwin || _sunos) {\n          if (_linux) { cmd = 'export LC_ALL=C; ps -axo pid:11,ppid:11,pcpu:6,pmem:6,pri:5,vsz:11,rss:11,ni:5,etime:30,state:5,tty:15,user:20,command; unset LC_ALL'; }\n          if (_freebsd || _openbsd || _netbsd) { cmd = 'export LC_ALL=C; ps -axo pid,ppid,pcpu,pmem,pri,vsz,rss,ni,etime,state,tty,user,command; unset LC_ALL'; }\n          if (_darwin) { cmd = 'ps -axo pid,ppid,pcpu,pmem,pri,vsz=temp_title_1,rss=temp_title_2,nice,etime=temp_title_3,state,tty,user,command -r'; }\n          if (_sunos) { cmd = 'ps -Ao pid,ppid,pcpu,pmem,pri,vsz,rss,nice,stime,s,tty,user,comm'; }\n          exec(cmd, { maxBuffer: 1024 * 20000 }, function (error, stdout) {\n            if (!error && stdout.toString().trim()) {\n              result.list = (parseProcesses(stdout.toString().split('\\n'))).slice();\n              result.all = result.list.length;\n              result.running = result.list.filter(function (e) {\n                return e.state === 'running';\n              }).length;\n              result.blocked = result.list.filter(function (e) {\n                return e.state === 'blocked';\n              }).length;\n              result.sleeping = result.list.filter(function (e) {\n                return e.state === 'sleeping';\n              }).length;\n\n              if (_linux) {\n                // calc process_cpu - ps is not accurate in linux!\n                cmd = 'cat /proc/stat | grep \"cpu \"';\n                result.list.forEach((element) => {\n                  cmd += (';cat /proc/' + element.pid + '/stat');\n                });\n                exec(cmd, { maxBuffer: 1024 * 20000 }, function (error, stdout) {\n                  let curr_processes = stdout.toString().split('\\n');\n\n                  // first line (all - /proc/stat)\n                  let all = parseProcStat(curr_processes.shift());\n\n                  // process\n                  let list_new = {};\n                  let resultProcess = {};\n                  curr_processes.forEach((element) => {\n                    resultProcess = calcProcStatLinux(element, all, _processes_cpu);\n\n                    if (resultProcess.pid) {\n\n                      // store pcpu in outer array\n                      let listPos = result.list.map(function (e) { return e.pid; }).indexOf(resultProcess.pid);\n                      if (listPos >= 0) {\n                        result.list[listPos].cpu = resultProcess.cpuu + resultProcess.cpus;\n                        result.list[listPos].cpuu = resultProcess.cpuu;\n                        result.list[listPos].cpus = resultProcess.cpus;\n                      }\n\n                      // save new values\n                      list_new[resultProcess.pid] = {\n                        cpuu: resultProcess.cpuu,\n                        cpus: resultProcess.cpus,\n                        utime: resultProcess.utime,\n                        stime: resultProcess.stime,\n                        cutime: resultProcess.cutime,\n                        cstime: resultProcess.cstime\n                      };\n                    }\n                  });\n\n                  // store old values\n                  _processes_cpu.all = all;\n                  _processes_cpu.list = Object.assign({}, list_new);\n                  _processes_cpu.ms = Date.now() - _processes_cpu.ms;\n                  _processes_cpu.result = Object.assign({}, result);\n                  if (callback) { callback(result); }\n                  resolve(result);\n                });\n              } else {\n                if (callback) { callback(result); }\n                resolve(result);\n              }\n            } else {\n              cmd = 'ps -o pid,ppid,vsz,rss,nice,etime,stat,tty,user,comm';\n              if (_sunos) {\n                cmd = 'ps -o pid,ppid,vsz,rss,nice,etime,s,tty,user,comm';\n              }\n              exec(cmd, { maxBuffer: 1024 * 20000 }, function (error, stdout) {\n                if (!error) {\n                  let lines = stdout.toString().split('\\n');\n                  lines.shift();\n\n                  result.list = parseProcesses2(lines).slice();\n                  result.all = result.list.length;\n                  result.running = result.list.filter(function (e) {\n                    return e.state === 'running';\n                  }).length;\n                  result.blocked = result.list.filter(function (e) {\n                    return e.state === 'blocked';\n                  }).length;\n                  result.sleeping = result.list.filter(function (e) {\n                    return e.state === 'sleeping';\n                  }).length;\n                  if (callback) { callback(result); }\n                  resolve(result);\n                } else {\n                  if (callback) { callback(result); }\n                  resolve(result);\n                }\n              });\n            }\n          });\n        } else if (_windows) {\n          try {\n            util.powerShell('Get-CimInstance Win32_Process | select-Object ProcessId,ParentProcessId,ExecutionState,Caption,CommandLine,ExecutablePath,UserModeTime,KernelModeTime,WorkingSetSize,Priority,PageFileUsage, @{n=\"CreationDate\";e={$_.CreationDate.ToString(\"yyyy-MM-dd HH:mm:ss\")}} | fl').then((stdout, error) => {\n              if (!error) {\n                let processSections = stdout.split(/\\n\\s*\\n/);\n                let procs = [];\n                let procStats = [];\n                let list_new = {};\n                let allcpuu = 0;\n                let allcpus = 0;\n                processSections.forEach((element) => {\n                  if (element.trim() !== '') {\n                    let lines = element.trim().split('\\r\\n');\n                    let pid = parseInt(util.getValue(lines, 'ProcessId', ':', true), 10);\n                    let parentPid = parseInt(util.getValue(lines, 'ParentProcessId', ':', true), 10);\n                    let statusValue = util.getValue(lines, 'ExecutionState', ':');\n                    let name = util.getValue(lines, 'Caption', ':', true);\n                    let commandLine = util.getValue(lines, 'CommandLine', ':', true);\n                    // get additional command line data\n                    let additionalCommand = false;\n                    lines.forEach((line) => {\n                      if (additionalCommand && line.toLowerCase().startsWith(' ')) {\n                        commandLine += ' ' + line.trim();\n                      } else {\n                        additionalCommand = false;\n                      }\n                      if (line.toLowerCase().startsWith('commandline')) {\n                        additionalCommand = true;\n                      }\n                    });\n                    let commandPath = util.getValue(lines, 'ExecutablePath', ':', true);\n                    let utime = parseInt(util.getValue(lines, 'UserModeTime', ':', true), 10);\n                    let stime = parseInt(util.getValue(lines, 'KernelModeTime', ':', true), 10);\n                    let memw = parseInt(util.getValue(lines, 'WorkingSetSize', ':', true), 10);\n                    allcpuu = allcpuu + utime;\n                    allcpus = allcpus + stime;\n                    result.all++;\n                    if (!statusValue) { result.unknown++; }\n                    if (statusValue === '3') { result.running++; }\n                    if (statusValue === '4' || statusValue === '5') { result.blocked++; }\n\n                    procStats.push({\n                      pid: pid,\n                      utime: utime,\n                      stime: stime,\n                      cpu: 0,\n                      cpuu: 0,\n                      cpus: 0,\n                    });\n                    procs.push({\n                      pid: pid,\n                      parentPid: parentPid,\n                      name: name,\n                      cpu: 0,\n                      cpuu: 0,\n                      cpus: 0,\n                      mem: memw / os.totalmem() * 100,\n                      priority: parseInt(util.getValue(lines, 'Priority', ':', true), 10),\n                      memVsz: parseInt(util.getValue(lines, 'PageFileUsage', ':', true), 10),\n                      memRss: Math.floor(parseInt(util.getValue(lines, 'WorkingSetSize', ':', true), 10) / 1024),\n                      nice: 0,\n                      started: util.getValue(lines, 'CreationDate', ':', true),\n                      state: (!statusValue ? _winStatusValues[0] : _winStatusValues[statusValue]),\n                      tty: '',\n                      user: '',\n                      command: commandLine || name,\n                      path: commandPath,\n                      params: ''\n                    });\n                  }\n                });\n\n                result.sleeping = result.all - result.running - result.blocked - result.unknown;\n                result.list = procs;\n                procStats.forEach((element) => {\n                  let resultProcess = calcProcStatWin(element, allcpuu + allcpus, _processes_cpu);\n\n                  // store pcpu in outer array\n                  let listPos = result.list.map(function (e) { return e.pid; }).indexOf(resultProcess.pid);\n                  if (listPos >= 0) {\n                    result.list[listPos].cpu = resultProcess.cpuu + resultProcess.cpus;\n                    result.list[listPos].cpuu = resultProcess.cpuu;\n                    result.list[listPos].cpus = resultProcess.cpus;\n                  }\n\n                  // save new values\n                  list_new[resultProcess.pid] = {\n                    cpuu: resultProcess.cpuu,\n                    cpus: resultProcess.cpus,\n                    utime: resultProcess.utime,\n                    stime: resultProcess.stime\n                  };\n                });\n\n                // store old values\n                _processes_cpu.all = allcpuu + allcpus;\n                _processes_cpu.all_utime = allcpuu;\n                _processes_cpu.all_stime = allcpus;\n                _processes_cpu.list = Object.assign({}, list_new);\n                _processes_cpu.ms = Date.now() - _processes_cpu.ms;\n                _processes_cpu.result = Object.assign({}, result);\n              }\n              if (callback) {\n                callback(result);\n              }\n              resolve(result);\n            });\n          } catch (e) {\n            if (callback) { callback(result); }\n            resolve(result);\n          }\n        } else {\n          if (callback) { callback(result); }\n          resolve(result);\n        }\n      } else {\n        if (callback) { callback(_processes_cpu.result); }\n        resolve(_processes_cpu.result);\n      }\n    });\n  });\n}\n\nexports.processes = processes;\n\n// --------------------------\n// PS - process load\n// get detailed information about a certain process\n// (PID, CPU-Usage %, Mem-Usage %)\n\nfunction processLoad(proc, callback) {\n\n  // fallback - if only callback is given\n  if (util.isFunction(proc) && !callback) {\n    callback = proc;\n    proc = '';\n  }\n\n  return new Promise((resolve) => {\n    process.nextTick(() => {\n\n      proc = proc || '';\n\n      if (typeof proc !== 'string') {\n        if (callback) { callback([]); }\n        return resolve([]);\n      }\n\n      let processesString = '';\n      processesString.__proto__.toLowerCase = util.stringToLower;\n      processesString.__proto__.replace = util.stringReplace;\n      processesString.__proto__.trim = util.stringTrim;\n\n      const s = util.sanitizeShellString(proc);\n      const l = util.mathMin(s.length, 2000);\n\n      for (let i = 0; i <= l; i++) {\n        if (s[i] !== undefined) {\n          processesString = processesString + s[i];\n        }\n      }\n\n      processesString = processesString.trim().toLowerCase().replace(/, /g, '|').replace(/,+/g, '|');\n      if (processesString === '') {\n        processesString = '*';\n      }\n      if (util.isPrototypePolluted() && processesString !== '*') {\n        processesString = '------';\n      }\n      let processes = processesString.split('|');\n      let result = [];\n\n      const procSanitized = util.isPrototypePolluted() ? '' : util.sanitizeShellString(proc);\n\n      // from here new\n      // let result = {\n      //   'proc': procSanitized,\n      //   'pid': null,\n      //   'cpu': 0,\n      //   'mem': 0\n      // };\n      if (procSanitized && processes.length && processes[0] !== '------') {\n        if (_windows) {\n          try {\n            util.powerShell('Get-CimInstance Win32_Process | select ProcessId,Caption,UserModeTime,KernelModeTime,WorkingSetSize | fl').then((stdout, error) => {\n              if (!error) {\n                let processSections = stdout.split(/\\n\\s*\\n/);\n                let procStats = [];\n                let list_new = {};\n                let allcpuu = 0;\n                let allcpus = 0;\n\n                // go through all processes\n                processSections.forEach((element) => {\n                  if (element.trim() !== '') {\n                    let lines = element.trim().split('\\r\\n');\n                    let pid = parseInt(util.getValue(lines, 'ProcessId', ':', true), 10);\n                    let name = util.getValue(lines, 'Caption', ':', true);\n                    let utime = parseInt(util.getValue(lines, 'UserModeTime', ':', true), 10);\n                    let stime = parseInt(util.getValue(lines, 'KernelModeTime', ':', true), 10);\n                    let mem = parseInt(util.getValue(lines, 'WorkingSetSize', ':', true), 10);\n                    allcpuu = allcpuu + utime;\n                    allcpus = allcpus + stime;\n\n                    procStats.push({\n                      pid: pid,\n                      name,\n                      utime: utime,\n                      stime: stime,\n                      cpu: 0,\n                      cpuu: 0,\n                      cpus: 0,\n                      mem\n                    });\n                    let pname = '';\n                    let inList = false;\n                    processes.forEach(function (proc) {\n                      if (name.toLowerCase().indexOf(proc.toLowerCase()) >= 0 && !inList) {\n                        inList = true;\n                        pname = proc;\n                      }\n                    });\n\n                    if (processesString === '*' || inList) {\n                      let processFound = false;\n                      result.forEach(function (item) {\n                        if (item.proc.toLowerCase() === pname.toLowerCase()) {\n                          item.pids.push(pid);\n                          item.mem += mem / os.totalmem() * 100;\n                          processFound = true;\n                        }\n                      });\n                      if (!processFound) {\n                        result.push({\n                          proc: pname,\n                          pid: pid,\n                          pids: [pid],\n                          cpu: 0,\n                          mem: mem / os.totalmem() * 100\n                        });\n                      }\n                    }\n                  }\n                });\n\n                // add missing processes\n                if (processesString !== '*') {\n                  let processesMissing = processes.filter(function (name) {\n                    return procStats.filter(function (item) { return item.name.toLowerCase().indexOf(name) >= 0; }).length === 0;\n\n                  });\n                  processesMissing.forEach(function (procName) {\n                    result.push({\n                      proc: procName,\n                      pid: null,\n                      pids: [],\n                      cpu: 0,\n                      mem: 0\n                    });\n                  });\n                }\n\n                // calculate proc stats for each proc\n                procStats.forEach((element) => {\n                  let resultProcess = calcProcStatWin(element, allcpuu + allcpus, _process_cpu);\n\n                  let listPos = -1;\n                  for (let j = 0; j < result.length; j++) {\n                    if (result[j].pid === resultProcess.pid || result[j].pids.indexOf(resultProcess.pid) >= 0) { listPos = j; }\n                  }\n                  if (listPos >= 0) {\n                    result[listPos].cpu += resultProcess.cpuu + resultProcess.cpus;\n                  }\n\n                  // save new values\n                  list_new[resultProcess.pid] = {\n                    cpuu: resultProcess.cpuu,\n                    cpus: resultProcess.cpus,\n                    utime: resultProcess.utime,\n                    stime: resultProcess.stime\n                  };\n                });\n\n                // store old values\n                _process_cpu.all = allcpuu + allcpus;\n                _process_cpu.all_utime = allcpuu;\n                _process_cpu.all_stime = allcpus;\n                _process_cpu.list = Object.assign({}, list_new);\n                _process_cpu.ms = Date.now() - _process_cpu.ms;\n                _process_cpu.result = JSON.parse(JSON.stringify(result));\n                if (callback) {\n                  callback(result);\n                }\n                resolve(result);\n              }\n            });\n          } catch (e) {\n            if (callback) { callback(result); }\n            resolve(result);\n          }\n        }\n\n        if (_darwin || _linux || _freebsd || _openbsd || _netbsd) {\n          const params = ['-axo', 'pid,ppid,pcpu,pmem,comm'];\n          util.execSafe('ps', params).then((stdout) => {\n            if (stdout) {\n              let procStats = [];\n              let lines = stdout.toString().split('\\n').filter(function (line) {\n                if (processesString === '*') { return true; }\n                if (line.toLowerCase().indexOf('grep') !== -1) { return false; } // remove this??\n                let found = false;\n                processes.forEach(function (item) {\n                  found = found || (line.toLowerCase().indexOf(item.toLowerCase()) >= 0);\n                });\n                return found;\n              });\n\n              lines.forEach(function (line) {\n                let data = line.trim().replace(/ +/g, ' ').split(' ');\n                if (data.length > 4) {\n                  procStats.push({\n                    name: data[4].substring(data[4].lastIndexOf('/') + 1),\n                    pid: parseInt(data[0]) || 0,\n                    ppid: parseInt(data[1]) || 0,\n                    cpu: parseFloat(data[2].replace(',', '.')),\n                    mem: parseFloat(data[3].replace(',', '.'))\n                  });\n                }\n              });\n\n              procStats.forEach(function (item) {\n                let listPos = -1;\n                let inList = false;\n                let name = '';\n                for (let j = 0; j < result.length; j++) {\n                  if (item.name.toLowerCase().indexOf(result[j].proc.toLowerCase()) >= 0) {\n                    listPos = j;\n                  }\n                }\n                processes.forEach(function (proc) {\n\n                  if (item.name.toLowerCase().indexOf(proc.toLowerCase()) >= 0 && !inList) {\n                    inList = true;\n                    name = proc;\n                  }\n                });\n                if ((processesString === '*') || inList) {\n                  if (listPos < 0) {\n                    result.push({\n                      proc: name,\n                      pid: item.pid,\n                      pids: [item.pid],\n                      cpu: item.cpu,\n                      mem: item.mem\n                    });\n                  } else {\n                    if (item.ppid < 10) {\n                      result[listPos].pid = item.pid;\n                    }\n                    result[listPos].pids.push(item.pid);\n                    result[listPos].cpu += item.cpu;\n                    result[listPos].mem += item.mem;\n                  }\n                }\n              });\n\n              if (processesString !== '*') {\n                // add missing processes\n                let processesMissing = processes.filter(function (name) {\n                  return procStats.filter(function (item) { return item.name.toLowerCase().indexOf(name) >= 0; }).length === 0;\n                });\n                processesMissing.forEach(function (procName) {\n                  result.push({\n                    proc: procName,\n                    pid: null,\n                    pids: [],\n                    cpu: 0,\n                    mem: 0\n                  });\n                });\n              }\n              if (_linux) {\n                // calc process_cpu - ps is not accurate in linux!\n                result.forEach(function (item) {\n                  item.cpu = 0;\n                });\n                let cmd = 'cat /proc/stat | grep \"cpu \"';\n                for (let i in result) {\n                  for (let j in result[i].pids) {\n                    cmd += (';cat /proc/' + result[i].pids[j] + '/stat');\n                  }\n                }\n                exec(cmd, { maxBuffer: 1024 * 20000 }, function (error, stdout) {\n                  let curr_processes = stdout.toString().split('\\n');\n\n                  // first line (all - /proc/stat)\n                  let all = parseProcStat(curr_processes.shift());\n\n                  // process\n                  let list_new = {};\n                  let resultProcess = {};\n                  curr_processes.forEach((element) => {\n                    resultProcess = calcProcStatLinux(element, all, _process_cpu);\n\n                    if (resultProcess.pid) {\n\n                      // find result item\n                      let resultItemId = -1;\n                      for (let i in result) {\n                        if (result[i].pids.indexOf(resultProcess.pid) >= 0) {\n                          resultItemId = i;\n                        }\n                      }\n                      // store pcpu in outer result\n                      if (resultItemId >= 0) {\n                        result[resultItemId].cpu += resultProcess.cpuu + resultProcess.cpus;\n                      }\n\n                      // save new values\n                      list_new[resultProcess.pid] = {\n                        cpuu: resultProcess.cpuu,\n                        cpus: resultProcess.cpus,\n                        utime: resultProcess.utime,\n                        stime: resultProcess.stime,\n                        cutime: resultProcess.cutime,\n                        cstime: resultProcess.cstime\n                      };\n                    }\n                  });\n\n                  result.forEach(function (item) {\n                    item.cpu = Math.round(item.cpu * 100) / 100;\n                  });\n\n                  _process_cpu.all = all;\n                  _process_cpu.list = Object.assign({}, list_new);\n                  _process_cpu.ms = Date.now() - _process_cpu.ms;\n                  _process_cpu.result = Object.assign({}, result);\n                  if (callback) { callback(result); }\n                  resolve(result);\n                });\n              } else {\n                if (callback) { callback(result); }\n                resolve(result);\n              }\n            } else {\n              if (callback) { callback(result); }\n              resolve(result);\n            }\n          });\n        }\n      }\n    });\n  });\n}\n\nexports.processLoad = processLoad;\n","'use strict';\n// @ts-check\n// ==================================================================================\n// system.js\n// ----------------------------------------------------------------------------------\n// Description:   System Information - library\n//                for Node.js\n// Copyright:     (c) 2014 - 2023\n// Author:        Sebastian Hildebrandt\n// ----------------------------------------------------------------------------------\n// License:       MIT\n// ==================================================================================\n// 2. System (Hardware, BIOS, Base Board)\n// ----------------------------------------------------------------------------------\n\nconst fs = require('fs');\nconst os = require('os');\nconst util = require('./util');\nconst exec = require('child_process').exec;\nconst execSync = require('child_process').execSync;\nconst execPromise = util.promisify(require('child_process').exec);\n\nlet _platform = process.platform;\n\nconst _linux = (_platform === 'linux' || _platform === 'android');\nconst _darwin = (_platform === 'darwin');\nconst _windows = (_platform === 'win32');\nconst _freebsd = (_platform === 'freebsd');\nconst _openbsd = (_platform === 'openbsd');\nconst _netbsd = (_platform === 'netbsd');\nconst _sunos = (_platform === 'sunos');\n\nfunction system(callback) {\n\n  return new Promise((resolve) => {\n    process.nextTick(() => {\n\n      let result = {\n        manufacturer: '',\n        model: 'Computer',\n        version: '',\n        serial: '-',\n        uuid: '-',\n        sku: '-',\n        virtual: false\n      };\n\n      if (_linux || _freebsd || _openbsd || _netbsd) {\n        exec('export LC_ALL=C; dmidecode -t system 2>/dev/null; unset LC_ALL', function (error, stdout) {\n          let lines = stdout.toString().split('\\n');\n          result.manufacturer = util.getValue(lines, 'manufacturer');\n          result.model = util.getValue(lines, 'product name');\n          result.version = util.getValue(lines, 'version');\n          result.serial = util.getValue(lines, 'serial number');\n          result.uuid = util.getValue(lines, 'uuid').toLowerCase();\n          result.sku = util.getValue(lines, 'sku number');\n          // Non-Root values\n          const cmd = `echo -n \"product_name: \"; cat /sys/devices/virtual/dmi/id/product_name 2>/dev/null; echo;\n            echo -n \"product_serial: \"; cat /sys/devices/virtual/dmi/id/product_serial 2>/dev/null; echo;\n            echo -n \"product_uuid: \"; cat /sys/devices/virtual/dmi/id/product_uuid 2>/dev/null; echo;\n            echo -n \"product_version: \"; cat /sys/devices/virtual/dmi/id/product_version 2>/dev/null; echo;\n            echo -n \"sys_vendor: \"; cat /sys/devices/virtual/dmi/id/sys_vendor 2>/dev/null; echo;`;\n          try {\n            lines = execSync(cmd).toString().split('\\n');\n            result.manufacturer = result.manufacturer === '' ? util.getValue(lines, 'sys_vendor') : result.manufacturer;\n            result.model = result.model === '' ? util.getValue(lines, 'product_name') : result.model;\n            result.version = result.version === '' ? util.getValue(lines, 'product_version') : result.version;\n            result.serial = result.serial === '' ? util.getValue(lines, 'product_serial') : result.serial;\n            result.uuid = result.uuid === '' ? util.getValue(lines, 'product_uuid').toLowerCase() : result.uuid;\n          } catch (e) {\n            util.noop();\n          }\n          if (!result.serial || result.serial.toLowerCase().indexOf('o.e.m.') !== -1) { result.serial = '-'; }\n          if (!result.manufacturer || result.manufacturer.toLowerCase().indexOf('o.e.m.') !== -1) { result.manufacturer = ''; }\n          if (!result.model || result.model.toLowerCase().indexOf('o.e.m.') !== -1) { result.model = 'Computer'; }\n          if (!result.version || result.version.toLowerCase().indexOf('o.e.m.') !== -1) { result.version = ''; }\n          if (!result.sku || result.sku.toLowerCase().indexOf('o.e.m.') !== -1) { result.sku = '-'; }\n\n          // detect virtual (1)\n          if (result.model.toLowerCase() === 'virtualbox' || result.model.toLowerCase() === 'kvm' || result.model.toLowerCase() === 'virtual machine' || result.model.toLowerCase() === 'bochs' || result.model.toLowerCase().startsWith('vmware') || result.model.toLowerCase().startsWith('droplet')) {\n            result.virtual = true;\n            switch (result.model.toLowerCase()) {\n              case 'virtualbox':\n                result.virtualHost = 'VirtualBox';\n                break;\n              case 'vmware':\n                result.virtualHost = 'VMware';\n                break;\n              case 'kvm':\n                result.virtualHost = 'KVM';\n                break;\n              case 'bochs':\n                result.virtualHost = 'bochs';\n                break;\n            }\n          }\n          if (result.manufacturer.toLowerCase().startsWith('vmware') || result.manufacturer.toLowerCase() === 'xen') {\n            result.virtual = true;\n            switch (result.manufacturer.toLowerCase()) {\n              case 'vmware':\n                result.virtualHost = 'VMware';\n                break;\n              case 'xen':\n                result.virtualHost = 'Xen';\n                break;\n            }\n          }\n          if (!result.virtual) {\n            try {\n              const disksById = execSync('ls -1 /dev/disk/by-id/ 2>/dev/null').toString();\n              if (disksById.indexOf('_QEMU_') >= 0) {\n                result.virtual = true;\n                result.virtualHost = 'QEMU';\n              }\n              if (disksById.indexOf('_VBOX_') >= 0) {\n                result.virtual = true;\n                result.virtualHost = 'VirtualBox';\n              }\n            } catch (e) {\n              util.noop();\n            }\n          }\n          if (!result.virtual && (os.release().toLowerCase().indexOf('microsoft') >= 0 || os.release().toLowerCase().endsWith('wsl2'))) {\n            const kernelVersion = parseFloat(os.release().toLowerCase());\n            result.virtual = true;\n            result.manufacturer = 'Microsoft';\n            result.model = 'WSL';\n            result.version = kernelVersion < 4.19 ? '1' : '2';\n          }\n          if ((_freebsd || _openbsd || _netbsd) && !result.virtualHost) {\n            try {\n              const procInfo = execSync('dmidecode -t 4');\n              const procLines = procInfo.toString().split('\\n');\n              const procManufacturer = util.getValue(procLines, 'manufacturer', ':', true);\n              switch (procManufacturer.toLowerCase()) {\n                case 'virtualbox':\n                  result.virtualHost = 'VirtualBox';\n                  break;\n                case 'vmware':\n                  result.virtualHost = 'VMware';\n                  break;\n                case 'kvm':\n                  result.virtualHost = 'KVM';\n                  break;\n                case 'bochs':\n                  result.virtualHost = 'bochs';\n                  break;\n              }\n            } catch (e) {\n              util.noop();\n            }\n          }\n          // detect docker\n          if (fs.existsSync('/.dockerenv') || fs.existsSync('/.dockerinit')) {\n            result.model = 'Docker Container';\n          }\n          try {\n            const stdout = execSync('dmesg 2>/dev/null | grep -iE \"virtual|hypervisor\" | grep -iE \"vmware|qemu|kvm|xen\" | grep -viE \"Nested Virtualization|/virtual/\"');\n            // detect virtual machines\n            let lines = stdout.toString().split('\\n');\n            if (lines.length > 0) {\n              if (result.model === 'Computer') { result.model = 'Virtual machine'; }\n              result.virtual = true;\n              if (stdout.toString().toLowerCase().indexOf('vmware') >= 0 && !result.virtualHost) {\n                result.virtualHost = 'VMware';\n              }\n              if (stdout.toString().toLowerCase().indexOf('qemu') >= 0 && !result.virtualHost) {\n                result.virtualHost = 'QEMU';\n              }\n              if (stdout.toString().toLowerCase().indexOf('xen') >= 0 && !result.virtualHost) {\n                result.virtualHost = 'Xen';\n              }\n              if (stdout.toString().toLowerCase().indexOf('kvm') >= 0 && !result.virtualHost) {\n                result.virtualHost = 'KVM';\n              }\n            }\n          } catch (e) {\n            util.noop();\n          }\n\n          if (result.manufacturer === '' && result.model === 'Computer' && result.version === '') {\n            // Check Raspberry Pi\n            fs.readFile('/proc/cpuinfo', function (error, stdout) {\n              if (!error) {\n                let lines = stdout.toString().split('\\n');\n                result.model = util.getValue(lines, 'hardware', ':', true).toUpperCase();\n                result.version = util.getValue(lines, 'revision', ':', true).toLowerCase();\n                result.serial = util.getValue(lines, 'serial', ':', true);\n                const model = util.getValue(lines, 'model:', ':', true);\n                // reference values: https://elinux.org/RPi_HardwareHistory\n                // https://www.raspberrypi.org/documentation/hardware/raspberrypi/revision-codes/README.md\n                if ((result.model === 'BCM2835' || result.model === 'BCM2708' || result.model === 'BCM2709' || result.model === 'BCM2710' || result.model === 'BCM2711' || result.model === 'BCM2836' || result.model === 'BCM2837') && model.toLowerCase().indexOf('raspberry') >= 0) {\n                  const rPIRevision = util.decodePiCpuinfo(lines);\n                  result.model = rPIRevision.model;\n                  result.version = rPIRevision.revisionCode;\n                  result.manufacturer = 'Raspberry Pi Foundation';\n                  result.raspberry = {\n                    manufacturer: rPIRevision.manufacturer,\n                    processor: rPIRevision.processor,\n                    type: rPIRevision.type,\n                    revision: rPIRevision.revision\n                  };\n                }\n              }\n              if (callback) { callback(result); }\n              resolve(result);\n            });\n          } else {\n            if (callback) { callback(result); }\n            resolve(result);\n          }\n        });\n      }\n      if (_darwin) {\n        exec('ioreg -c IOPlatformExpertDevice -d 2', function (error, stdout) {\n          if (!error) {\n            let lines = stdout.toString().replace(/[<>\"]/g, '').split('\\n');\n            result.manufacturer = util.getValue(lines, 'manufacturer', '=', true);\n            result.model = util.getValue(lines, 'model', '=', true, true);\n            result.version = util.getValue(lines, 'version', '=', true);\n            result.serial = util.getValue(lines, 'ioplatformserialnumber', '=', true);\n            result.uuid = util.getValue(lines, 'ioplatformuuid', '=', true).toLowerCase();\n            result.sku = util.getValue(lines, 'board-id', '=', true);\n          }\n          if (callback) { callback(result); }\n          resolve(result);\n        });\n      }\n      if (_sunos) {\n        if (callback) { callback(result); }\n        resolve(result);\n      }\n      if (_windows) {\n        try {\n          util.powerShell('Get-CimInstance Win32_ComputerSystemProduct | select Name,Vendor,Version,IdentifyingNumber,UUID | fl').then((stdout, error) => {\n            if (!error) {\n              let lines = stdout.split('\\r\\n');\n              result.manufacturer = util.getValue(lines, 'vendor', ':');\n              result.model = util.getValue(lines, 'name', ':');\n              result.version = util.getValue(lines, 'version', ':');\n              result.serial = util.getValue(lines, 'identifyingnumber', ':');\n              result.uuid = util.getValue(lines, 'uuid', ':').toLowerCase();\n              // detect virtual (1)\n              const model = result.model.toLowerCase();\n              if (model === 'virtualbox' || model === 'kvm' || model === 'virtual machine' || model === 'bochs' || model.startsWith('vmware') || model.startsWith('qemu') || model.startsWith('parallels')) {\n                result.virtual = true;\n                if (model.startsWith('virtualbox')) { result.virtualHost = 'VirtualBox'; }\n                if (model.startsWith('vmware')) { result.virtualHost = 'VMware'; }\n                if (model.startsWith('kvm')) { result.virtualHost = 'KVM'; }\n                if (model.startsWith('bochs')) { result.virtualHost = 'bochs'; }\n                if (model.startsWith('qemu')) { result.virtualHost = 'KVM'; }\n                if (model.startsWith('parallels')) { result.virtualHost = 'Parallels'; }\n              }\n              const manufacturer = result.manufacturer.toLowerCase();\n              if (manufacturer.startsWith('vmware') || manufacturer.startsWith('qemu') || manufacturer === 'xen' || manufacturer.startsWith('parallels')) {\n                result.virtual = true;\n                if (manufacturer.startsWith('vmware')) { result.virtualHost = 'VMware'; }\n                if (manufacturer.startsWith('xen')) { result.virtualHost = 'Xen'; }\n                if (manufacturer.startsWith('qemu')) { result.virtualHost = 'KVM'; }\n                if (manufacturer.startsWith('parallels')) { result.virtualHost = 'Parallels'; }\n              }\n              util.powerShell('Get-CimInstance MS_Systeminformation -Namespace \"root/wmi\" | select systemsku | fl ').then((stdout, error) => {\n                if (!error) {\n                  let lines = stdout.split('\\r\\n');\n                  result.sku = util.getValue(lines, 'systemsku', ':');\n                }\n                if (!result.virtual) {\n                  util.powerShell('Get-CimInstance Win32_bios | select Version, SerialNumber, SMBIOSBIOSVersion').then((stdout, error) => {\n                    if (!error) {\n                      let lines = stdout.toString();\n                      if (lines.indexOf('VRTUAL') >= 0 || lines.indexOf('A M I ') >= 0 || lines.indexOf('VirtualBox') >= 0 || lines.indexOf('VMWare') >= 0 || lines.indexOf('Xen') >= 0 || lines.indexOf('Parallels') >= 0) {\n                        result.virtual = true;\n                        if (lines.indexOf('VirtualBox') >= 0 && !result.virtualHost) {\n                          result.virtualHost = 'VirtualBox';\n                        }\n                        if (lines.indexOf('VMware') >= 0 && !result.virtualHost) {\n                          result.virtualHost = 'VMware';\n                        }\n                        if (lines.indexOf('Xen') >= 0 && !result.virtualHost) {\n                          result.virtualHost = 'Xen';\n                        }\n                        if (lines.indexOf('VRTUAL') >= 0 && !result.virtualHost) {\n                          result.virtualHost = 'Hyper-V';\n                        }\n                        if (lines.indexOf('A M I') >= 0 && !result.virtualHost) {\n                          result.virtualHost = 'Virtual PC';\n                        }\n                        if (lines.indexOf('Parallels') >= 0 && !result.virtualHost) {\n                          result.virtualHost = 'Parallels';\n                        }\n                      }\n                      if (callback) { callback(result); }\n                      resolve(result);\n                    } else {\n                      if (callback) { callback(result); }\n                      resolve(result);\n                    }\n                  });\n                } else {\n                  if (callback) { callback(result); }\n                  resolve(result);\n                }\n              });\n            } else {\n              if (callback) { callback(result); }\n              resolve(result);\n            }\n          });\n        } catch (e) {\n          if (callback) { callback(result); }\n          resolve(result);\n        }\n      }\n    });\n  });\n}\n\nexports.system = system;\n\nfunction cleanDefaults(s) {\n  const cmpStr = s.toLowerCase();\n  if (cmpStr.indexOf('o.e.m.') === -1 && cmpStr.indexOf('default string') === -1 && cmpStr !== 'default') {\n    return s || '';\n  }\n  return '';\n}\nfunction bios(callback) {\n\n  return new Promise((resolve) => {\n    process.nextTick(() => {\n\n      let result = {\n        vendor: '',\n        version: '',\n        releaseDate: '',\n        revision: '',\n      };\n      let cmd = '';\n      if (_linux || _freebsd || _openbsd || _netbsd) {\n        if (process.arch === 'arm') {\n          cmd = 'cat /proc/cpuinfo | grep Serial';\n        } else {\n          cmd = 'export LC_ALL=C; dmidecode -t bios 2>/dev/null; unset LC_ALL';\n        }\n        exec(cmd, function (error, stdout) {\n          let lines = stdout.toString().split('\\n');\n          result.vendor = util.getValue(lines, 'Vendor');\n          result.version = util.getValue(lines, 'Version');\n          let datetime = util.getValue(lines, 'Release Date');\n          result.releaseDate = util.parseDateTime(datetime).date;\n          result.revision = util.getValue(lines, 'BIOS Revision');\n          result.serial = util.getValue(lines, 'SerialNumber');\n          let language = util.getValue(lines, 'Currently Installed Language').split('|')[0];\n          if (language) {\n            result.language = language;\n          }\n          if (lines.length && stdout.toString().indexOf('Characteristics:') >= 0) {\n            const features = [];\n            lines.forEach(line => {\n              if (line.indexOf(' is supported') >= 0) {\n                const feature = line.split(' is supported')[0].trim();\n                features.push(feature);\n              }\n            });\n            result.features = features;\n          }\n          // Non-Root values\n          const cmd = `echo -n \"bios_date: \"; cat /sys/devices/virtual/dmi/id/bios_date 2>/dev/null; echo;\n            echo -n \"bios_vendor: \"; cat /sys/devices/virtual/dmi/id/bios_vendor 2>/dev/null; echo;\n            echo -n \"bios_version: \"; cat /sys/devices/virtual/dmi/id/bios_version 2>/dev/null; echo;`;\n          try {\n            lines = execSync(cmd).toString().split('\\n');\n            result.vendor = !result.vendor ? util.getValue(lines, 'bios_vendor') : result.vendor;\n            result.version = !result.version ? util.getValue(lines, 'bios_version') : result.version;\n            datetime = util.getValue(lines, 'bios_date');\n            result.releaseDate = !result.releaseDate ? util.parseDateTime(datetime).date : result.releaseDate;\n          } catch (e) {\n            util.noop();\n          }\n          if (callback) { callback(result); }\n          resolve(result);\n        });\n      }\n      if (_darwin) {\n        result.vendor = 'Apple Inc.';\n        exec(\n          'system_profiler SPHardwareDataType -json', function (error, stdout) {\n            try {\n              const hardwareData = JSON.parse(stdout.toString());\n              if (hardwareData && hardwareData.SPHardwareDataType && hardwareData.SPHardwareDataType.length) {\n                let bootRomVersion = hardwareData.SPHardwareDataType[0].boot_rom_version;\n                bootRomVersion = bootRomVersion ? bootRomVersion.split('(')[0].trim() : null;\n                result.version = bootRomVersion;\n              }\n            } catch (e) {\n              util.noop();\n            }\n            if (callback) { callback(result); }\n            resolve(result);\n          });\n      }\n      if (_sunos) {\n        result.vendor = 'Sun Microsystems';\n        if (callback) { callback(result); }\n        resolve(result);\n      }\n      if (_windows) {\n        try {\n          util.powerShell('Get-CimInstance Win32_bios | select Description,Version,Manufacturer,@{n=\"ReleaseDate\";e={$_.ReleaseDate.ToString(\"yyyy-MM-dd\")}},BuildNumber,SerialNumber,SMBIOSBIOSVersion | fl').then((stdout, error) => {\n            if (!error) {\n              let lines = stdout.toString().split('\\r\\n');\n              const description = util.getValue(lines, 'description', ':');\n              const version = util.getValue(lines, 'SMBIOSBIOSVersion', ':');\n              if (description.indexOf(' Version ') !== -1) {\n                // ... Phoenix ROM BIOS PLUS Version 1.10 A04\n                result.vendor = description.split(' Version ')[0].trim();\n                result.version = description.split(' Version ')[1].trim();\n              } else if (description.indexOf(' Ver: ') !== -1) {\n                // ... BIOS Date: 06/27/16 17:50:16 Ver: 1.4.5\n                result.vendor = util.getValue(lines, 'manufacturer', ':');\n                result.version = description.split(' Ver: ')[1].trim();\n              } else {\n                result.vendor = util.getValue(lines, 'manufacturer', ':');\n                result.version = version || util.getValue(lines, 'version', ':');\n              }\n              result.releaseDate = util.getValue(lines, 'releasedate', ':');\n              result.revision = util.getValue(lines, 'buildnumber', ':');\n              result.serial = cleanDefaults(util.getValue(lines, 'serialnumber', ':'));\n            }\n\n            if (callback) { callback(result); }\n            resolve(result);\n          });\n        } catch (e) {\n          if (callback) { callback(result); }\n          resolve(result);\n        }\n      }\n    });\n  });\n}\n\nexports.bios = bios;\n\nfunction baseboard(callback) {\n\n  return new Promise((resolve) => {\n    process.nextTick(() => {\n\n      let result = {\n        manufacturer: '',\n        model: '',\n        version: '',\n        serial: '-',\n        assetTag: '-',\n        memMax: null,\n        memSlots: null\n      };\n      let cmd = '';\n      if (_linux || _freebsd || _openbsd || _netbsd) {\n        if (process.arch === 'arm') {\n          cmd = 'cat /proc/cpuinfo | grep Serial';\n          // 'BCM2709', 'BCM2835', 'BCM2708' -->\n        } else {\n          cmd = 'export LC_ALL=C; dmidecode -t 2 2>/dev/null; unset LC_ALL';\n        }\n        const workload = [];\n        workload.push(execPromise(cmd));\n        workload.push(execPromise('export LC_ALL=C; dmidecode -t memory 2>/dev/null'));\n        util.promiseAll(\n          workload\n        ).then((data) => {\n          let lines = data.results[0] ? data.results[0].toString().split('\\n') : [''];\n          result.manufacturer = util.getValue(lines, 'Manufacturer');\n          result.model = util.getValue(lines, 'Product Name');\n          result.version = util.getValue(lines, 'Version');\n          result.serial = util.getValue(lines, 'Serial Number');\n          result.assetTag = util.getValue(lines, 'Asset Tag');\n          // Non-Root values\n          const cmd = `echo -n \"board_asset_tag: \"; cat /sys/devices/virtual/dmi/id/board_asset_tag 2>/dev/null; echo;\n            echo -n \"board_name: \"; cat /sys/devices/virtual/dmi/id/board_name 2>/dev/null; echo;\n            echo -n \"board_serial: \"; cat /sys/devices/virtual/dmi/id/board_serial 2>/dev/null; echo;\n            echo -n \"board_vendor: \"; cat /sys/devices/virtual/dmi/id/board_vendor 2>/dev/null; echo;\n            echo -n \"board_version: \"; cat /sys/devices/virtual/dmi/id/board_version 2>/dev/null; echo;`;\n          try {\n            lines = execSync(cmd).toString().split('\\n');\n            result.manufacturer = !result.manufacturer ? util.getValue(lines, 'board_vendor') : result.manufacturer;\n            result.model = !result.model ? util.getValue(lines, 'board_name') : result.model;\n            result.version = !result.version ? util.getValue(lines, 'board_version') : result.version;\n            result.serial = !result.serial ? util.getValue(lines, 'board_serial') : result.serial;\n            result.assetTag = !result.assetTag ? util.getValue(lines, 'board_asset_tag') : result.assetTag;\n          } catch (e) {\n            util.noop();\n          }\n          if (result.serial.toLowerCase().indexOf('o.e.m.') !== -1) { result.serial = '-'; }\n          if (result.assetTag.toLowerCase().indexOf('o.e.m.') !== -1) { result.assetTag = '-'; }\n\n          // mem\n          lines = data.results[1] ? data.results[1].toString().split('\\n') : [''];\n          result.memMax = util.toInt(util.getValue(lines, 'Maximum Capacity')) * 1024 * 1024 * 1024 || null;\n          result.memSlots = util.toInt(util.getValue(lines, 'Number Of Devices')) || null;\n\n          // raspberry\n          let linesRpi = '';\n          try {\n            linesRpi = fs.readFileSync('/proc/cpuinfo').toString().split('\\n');\n          } catch (e) {\n            util.noop();\n          }\n          if (linesRpi) {\n            const hardware = util.getValue(linesRpi, 'hardware');\n            if (hardware.startsWith('BCM')) {\n              const rpi = util.decodePiCpuinfo(linesRpi);\n              result.manufacturer = rpi.manufacturer;\n              result.model = 'Raspberry Pi';\n              result.serial = rpi.serial;\n              result.version = rpi.type + ' - ' + rpi.revision;\n              result.memMax = os.totalmem();\n              result.memSlots = 0;\n            }\n          }\n\n          if (callback) { callback(result); }\n          resolve(result);\n        });\n      }\n      if (_darwin) {\n        const workload = [];\n        workload.push(execPromise('ioreg -c IOPlatformExpertDevice -d 2'));\n        workload.push(execPromise('system_profiler SPMemoryDataType'));\n        util.promiseAll(\n          workload\n        ).then((data) => {\n          let lines = data.results[0] ? data.results[0].toString().replace(/[<>\"]/g, '').split('\\n') : [''];\n          result.manufacturer = util.getValue(lines, 'manufacturer', '=', true);\n          result.model = util.getValue(lines, 'model', '=', true);\n          result.version = util.getValue(lines, 'version', '=', true);\n          result.serial = util.getValue(lines, 'ioplatformserialnumber', '=', true);\n          result.assetTag = util.getValue(lines, 'board-id', '=', true);\n\n          // mem\n          let devices = data.results[1] ? data.results[1].toString().split('        BANK ') : [''];\n          if (devices.length === 1) {\n            devices = data.results[1] ? data.results[1].toString().split('        DIMM') : [''];\n          }\n          devices.shift();\n          result.memSlots = devices.length;\n\n          if (os.arch() === 'arm64') {\n            result.memSlots = 0;\n            result.memMax = os.totalmem();\n          }\n\n          if (callback) { callback(result); }\n          resolve(result);\n        });\n      }\n      if (_sunos) {\n        if (callback) { callback(result); }\n        resolve(result);\n      }\n      if (_windows) {\n        try {\n          const workload = [];\n          const win10plus = parseInt(os.release()) >= 10;\n          const maxCapacityAttribute = win10plus ? 'MaxCapacityEx' : 'MaxCapacity';\n          workload.push(util.powerShell('Get-CimInstance Win32_baseboard | select Model,Manufacturer,Product,Version,SerialNumber,PartNumber,SKU | fl'));\n          workload.push(util.powerShell(`Get-CimInstance Win32_physicalmemoryarray | select ${maxCapacityAttribute}, MemoryDevices | fl`));\n          util.promiseAll(\n            workload\n          ).then((data) => {\n            let lines = data.results[0] ? data.results[0].toString().split('\\r\\n') : [''];\n\n            result.manufacturer = cleanDefaults(util.getValue(lines, 'manufacturer', ':'));\n            result.model = cleanDefaults(util.getValue(lines, 'model', ':'));\n            if (!result.model) {\n              result.model = cleanDefaults(util.getValue(lines, 'product', ':'));\n            }\n            result.version = cleanDefaults(util.getValue(lines, 'version', ':'));\n            result.serial = cleanDefaults(util.getValue(lines, 'serialnumber', ':'));\n            result.assetTag = cleanDefaults(util.getValue(lines, 'partnumber', ':'));\n            if (!result.assetTag) {\n              result.assetTag = cleanDefaults(util.getValue(lines, 'sku', ':'));\n            }\n\n            // memphysical\n            lines = data.results[1] ? data.results[1].toString().split('\\r\\n') : [''];\n            result.memMax = util.toInt(util.getValue(lines, maxCapacityAttribute, ':')) * (win10plus ? 1024 : 1) || null;\n            result.memSlots = util.toInt(util.getValue(lines, 'MemoryDevices', ':')) || null;\n\n            if (callback) { callback(result); }\n            resolve(result);\n          });\n        } catch (e) {\n          if (callback) { callback(result); }\n          resolve(result);\n        }\n      }\n    });\n  });\n}\n\nexports.baseboard = baseboard;\n\nfunction chassis(callback) {\n  const chassisTypes = ['Other',\n    'Unknown',\n    'Desktop',\n    'Low Profile Desktop',\n    'Pizza Box',\n    'Mini Tower',\n    'Tower',\n    'Portable',\n    'Laptop',\n    'Notebook',\n    'Hand Held',\n    'Docking Station',\n    'All in One',\n    'Sub Notebook',\n    'Space-Saving',\n    'Lunch Box',\n    'Main System Chassis',\n    'Expansion Chassis',\n    'SubChassis',\n    'Bus Expansion Chassis',\n    'Peripheral Chassis',\n    'Storage Chassis',\n    'Rack Mount Chassis',\n    'Sealed-Case PC',\n    'Multi-System Chassis',\n    'Compact PCI',\n    'Advanced TCA',\n    'Blade',\n    'Blade Enclosure',\n    'Tablet',\n    'Convertible',\n    'Detachable',\n    'IoT Gateway ',\n    'Embedded PC',\n    'Mini PC',\n    'Stick PC',\n  ];\n\n  return new Promise((resolve) => {\n    process.nextTick(() => {\n\n      let result = {\n        manufacturer: '',\n        model: '',\n        type: '',\n        version: '',\n        serial: '-',\n        assetTag: '-',\n        sku: '',\n      };\n      if (_linux || _freebsd || _openbsd || _netbsd) {\n        const cmd = `echo -n \"chassis_asset_tag: \"; cat /sys/devices/virtual/dmi/id/chassis_asset_tag 2>/dev/null; echo;\n            echo -n \"chassis_serial: \"; cat /sys/devices/virtual/dmi/id/chassis_serial 2>/dev/null; echo;\n            echo -n \"chassis_type: \"; cat /sys/devices/virtual/dmi/id/chassis_type 2>/dev/null; echo;\n            echo -n \"chassis_vendor: \"; cat /sys/devices/virtual/dmi/id/chassis_vendor 2>/dev/null; echo;\n            echo -n \"chassis_version: \"; cat /sys/devices/virtual/dmi/id/chassis_version 2>/dev/null; echo;`;\n        exec(cmd, function (error, stdout) {\n          let lines = stdout.toString().split('\\n');\n          result.manufacturer = util.getValue(lines, 'chassis_vendor');\n          const ctype = parseInt(util.getValue(lines, 'chassis_type').replace(/\\D/g, ''));\n          result.type = (ctype && !isNaN(ctype) && ctype < chassisTypes.length) ? chassisTypes[ctype - 1] : '';\n          result.version = util.getValue(lines, 'chassis_version');\n          result.serial = util.getValue(lines, 'chassis_serial');\n          result.assetTag = util.getValue(lines, 'chassis_asset_tag');\n          if (result.manufacturer.toLowerCase().indexOf('o.e.m.') !== -1) { result.manufacturer = '-'; }\n          if (result.version.toLowerCase().indexOf('o.e.m.') !== -1) { result.version = '-'; }\n          if (result.serial.toLowerCase().indexOf('o.e.m.') !== -1) { result.serial = '-'; }\n          if (result.assetTag.toLowerCase().indexOf('o.e.m.') !== -1) { result.assetTag = '-'; }\n\n          if (callback) { callback(result); }\n          resolve(result);\n        });\n      }\n      if (_darwin) {\n        exec('ioreg -c IOPlatformExpertDevice -d 2', function (error, stdout) {\n          if (!error) {\n            let lines = stdout.toString().replace(/[<>\"]/g, '').split('\\n');\n            result.manufacturer = util.getValue(lines, 'manufacturer', '=', true);\n            result.model = util.getValue(lines, 'model', '=', true);\n            result.version = util.getValue(lines, 'version', '=', true);\n            result.serial = util.getValue(lines, 'ioplatformserialnumber', '=', true);\n            result.assetTag = util.getValue(lines, 'board-id', '=', true);\n          }\n\n          if (callback) { callback(result); }\n          resolve(result);\n        });\n      }\n      if (_sunos) {\n        if (callback) { callback(result); }\n        resolve(result);\n      }\n      if (_windows) {\n        try {\n          util.powerShell('Get-CimInstance Win32_SystemEnclosure | select Model,Manufacturer,ChassisTypes,Version,SerialNumber,PartNumber,SKU,SMBIOSAssetTag | fl').then((stdout, error) => {\n            if (!error) {\n              let lines = stdout.toString().split('\\r\\n');\n\n              result.manufacturer = cleanDefaults(util.getValue(lines, 'manufacturer', ':'));\n              result.model = cleanDefaults(util.getValue(lines, 'model', ':'));\n              const ctype = parseInt(util.getValue(lines, 'ChassisTypes', ':').replace(/\\D/g, ''));\n              result.type = (ctype && !isNaN(ctype) && ctype < chassisTypes.length) ? chassisTypes[ctype - 1] : '';\n              result.version = cleanDefaults(util.getValue(lines, 'version', ':'));\n              result.serial = cleanDefaults(util.getValue(lines, 'serialnumber', ':'));\n              result.assetTag = cleanDefaults(util.getValue(lines, 'partnumber', ':'));\n              if (!result.assetTag) {\n                result.assetTag = cleanDefaults(util.getValue(lines, 'SMBIOSAssetTag', ':'));\n              }\n              result.sku = cleanDefaults(util.getValue(lines, 'sku', ':'));\n            }\n\n            if (callback) { callback(result); }\n            resolve(result);\n          });\n        } catch (e) {\n          if (callback) { callback(result); }\n          resolve(result);\n        }\n      }\n    });\n  });\n}\n\nexports.chassis = chassis;\n","'use strict';\n// @ts-check\n// ==================================================================================\n// usb.js\n// ----------------------------------------------------------------------------------\n// Description:   System Information - library\n//                for Node.js\n// Copyright:     (c) 2014 - 2023\n// Author:        Sebastian Hildebrandt\n// ----------------------------------------------------------------------------------\n// License:       MIT\n// ==================================================================================\n// 16. usb\n// ----------------------------------------------------------------------------------\n\nconst exec = require('child_process').exec;\nconst util = require('./util');\n\nlet _platform = process.platform;\n\nconst _linux = (_platform === 'linux' || _platform === 'android');\nconst _darwin = (_platform === 'darwin');\nconst _windows = (_platform === 'win32');\nconst _freebsd = (_platform === 'freebsd');\nconst _openbsd = (_platform === 'openbsd');\nconst _netbsd = (_platform === 'netbsd');\nconst _sunos = (_platform === 'sunos');\n\nfunction getLinuxUsbType(type, name) {\n  let result = type;\n  const str = (name + ' ' + type).toLowerCase();\n  if (str.indexOf('camera') >= 0) { result = 'Camera'; }\n  else if (str.indexOf('hub') >= 0) { result = 'Hub'; }\n  else if (str.indexOf('keybrd') >= 0) { result = 'Keyboard'; }\n  else if (str.indexOf('keyboard') >= 0) { result = 'Keyboard'; }\n  else if (str.indexOf('mouse') >= 0) { result = 'Mouse'; }\n  else if (str.indexOf('stora') >= 0) { result = 'Storage'; }\n  else if (str.indexOf('mic') >= 0) { result = 'Microphone'; }\n  else if (str.indexOf('headset') >= 0) { result = 'Audio'; }\n  else if (str.indexOf('audio') >= 0) { result = 'Audio'; }\n\n  return result;\n}\n\nfunction parseLinuxUsb(usb) {\n  const result = {};\n  const lines = usb.split('\\n');\n  if (lines && lines.length && lines[0].indexOf('Device') >= 0) {\n    const parts = lines[0].split(' ');\n    result.bus = parseInt(parts[0], 10);\n    if (parts[2]) {\n      result.deviceId = parseInt(parts[2], 10);\n    } else {\n      result.deviceId = null;\n    }\n  } else {\n    result.bus = null;\n    result.deviceId = null;\n  }\n  const idVendor = util.getValue(lines, 'idVendor', ' ', true).trim();\n  let vendorParts = idVendor.split(' ');\n  vendorParts.shift();\n  const vendor = vendorParts.join(' ');\n\n  const idProduct = util.getValue(lines, 'idProduct', ' ', true).trim();\n  let productParts = idProduct.split(' ');\n  productParts.shift();\n  const product = productParts.join(' ');\n\n  const interfaceClass = util.getValue(lines, 'bInterfaceClass', ' ', true).trim();\n  let interfaceClassParts = interfaceClass.split(' ');\n  interfaceClassParts.shift();\n  const usbType = interfaceClassParts.join(' ');\n\n  const iManufacturer = util.getValue(lines, 'iManufacturer', ' ', true).trim();\n  let iManufacturerParts = iManufacturer.split(' ');\n  iManufacturerParts.shift();\n  const manufacturer = iManufacturerParts.join(' ');\n\n  result.id = (idVendor.startsWith('0x') ? idVendor.split(' ')[0].substr(2, 10) : '') + ':' + (idProduct.startsWith('0x') ? idProduct.split(' ')[0].substr(2, 10) : '');\n  result.name = product;\n  result.type = getLinuxUsbType(usbType, product);\n  result.removable = null;\n  result.vendor = vendor;\n  result.manufacturer = manufacturer;\n  result.maxPower = util.getValue(lines, 'MaxPower', ' ', true);\n  result.serialNumber = null;\n\n  return result;\n}\n\nfunction getDarwinUsbType(name) {\n  let result = '';\n  if (name.indexOf('camera') >= 0) { result = 'Camera'; }\n  else if (name.indexOf('touch bar') >= 0) { result = 'Touch Bar'; }\n  else if (name.indexOf('controller') >= 0) { result = 'Controller'; }\n  else if (name.indexOf('headset') >= 0) { result = 'Audio'; }\n  else if (name.indexOf('keyboard') >= 0) { result = 'Keyboard'; }\n  else if (name.indexOf('trackpad') >= 0) { result = 'Trackpad'; }\n  else if (name.indexOf('sensor') >= 0) { result = 'Sensor'; }\n  else if (name.indexOf('bthusb') >= 0) { result = 'Bluetooth'; }\n  else if (name.indexOf('bth') >= 0) { result = 'Bluetooth'; }\n  else if (name.indexOf('rfcomm') >= 0) { result = 'Bluetooth'; }\n  else if (name.indexOf('usbhub') >= 0) { result = 'Hub'; }\n  else if (name.indexOf(' hub') >= 0) { result = 'Hub'; }\n  else if (name.indexOf('mouse') >= 0) { result = 'Mouse'; }\n  else if (name.indexOf('mic') >= 0) { result = 'Microphone'; }\n  else if (name.indexOf('removable') >= 0) { result = 'Storage'; }\n  return result;\n}\n\n\nfunction parseDarwinUsb(usb, id) {\n  const result = {};\n  result.id = id;\n\n  usb = usb.replace(/ \\|/g, '');\n  usb = usb.trim();\n  let lines = usb.split('\\n');\n  lines.shift();\n  try {\n    for (let i = 0; i < lines.length; i++) {\n      lines[i] = lines[i].trim();\n      lines[i] = lines[i].replace(/=/g, ':');\n      if (lines[i] !== '{' && lines[i] !== '}' && lines[i + 1] && lines[i + 1].trim() !== '}') {\n        lines[i] = lines[i] + ',';\n      }\n\n      lines[i] = lines[i].replace(':Yes,', ':\"Yes\",');\n      lines[i] = lines[i].replace(': Yes,', ': \"Yes\",');\n      lines[i] = lines[i].replace(': Yes', ': \"Yes\"');\n      lines[i] = lines[i].replace(':No,', ':\"No\",');\n      lines[i] = lines[i].replace(': No,', ': \"No\",');\n      lines[i] = lines[i].replace(': No', ': \"No\"');\n\n      // In this case ((\"com.apple.developer.driverkit.transport.usb\"))\n      lines[i] = lines[i].replace('((', '').replace('))', '');\n\n      // In case we have <923c11> we need make it \"<923c11>\" for correct JSON parse\n      const match = /<(\\w+)>/.exec(lines[i]);\n      if (match) {\n        const number = match[0];\n        lines[i] = lines[i].replace(number, `\"${number}\"`);\n      }\n    }\n    const usbObj = JSON.parse(lines.join('\\n'));\n    const removableDrive = (usbObj['Built-In'] ? usbObj['Built-In'].toLowerCase() !== 'yes' : true) && (usbObj['non-removable'] ? usbObj['non-removable'].toLowerCase() === 'no' : true);\n\n    result.bus = null;\n    result.deviceId = null;\n    result.id = usbObj['USB Address'] || null;\n    result.name = usbObj['kUSBProductString'] || usbObj['USB Product Name'] || null;\n    result.type = getDarwinUsbType((usbObj['kUSBProductString'] || usbObj['USB Product Name'] || '').toLowerCase() + (removableDrive ? ' removable' : ''));\n    result.removable = usbObj['non-removable'] ? usbObj['non-removable'].toLowerCase() || '' === 'no' : true;\n    result.vendor = usbObj['kUSBVendorString'] || usbObj['USB Vendor Name'] || null;\n    result.manufacturer = usbObj['kUSBVendorString'] || usbObj['USB Vendor Name'] || null;\n\n    result.maxPower = null;\n    result.serialNumber = usbObj['kUSBSerialNumberString'] || null;\n\n    if (result.name) {\n      return result;\n    } else {\n      return null;\n    }\n  } catch (e) {\n    return null;\n  }\n}\n\nfunction getWindowsUsbTypeCreation(creationclass, name) {\n  let result = '';\n  if (name.indexOf('storage') >= 0) { result = 'Storage'; }\n  else if (name.indexOf('speicher') >= 0) { result = 'Storage'; }\n  else if (creationclass.indexOf('usbhub') >= 0) { result = 'Hub'; }\n  else if (creationclass.indexOf('storage') >= 0) { result = 'Storage'; }\n  else if (creationclass.indexOf('usbcontroller') >= 0) { result = 'Controller'; }\n  else if (creationclass.indexOf('keyboard') >= 0) { result = 'Keyboard'; }\n  else if (creationclass.indexOf('pointing') >= 0) { result = 'Mouse'; }\n  else if (creationclass.indexOf('disk') >= 0) { result = 'Storage'; }\n  return result;\n}\n\nfunction parseWindowsUsb(lines, id) {\n  const usbType = getWindowsUsbTypeCreation(util.getValue(lines, 'CreationClassName', ':').toLowerCase(), util.getValue(lines, 'name', ':').toLowerCase());\n\n  if (usbType) {\n    const result = {};\n    result.bus = null;\n    result.deviceId = util.getValue(lines, 'deviceid', ':');\n    result.id = id;\n    result.name = util.getValue(lines, 'name', ':');\n    result.type = usbType;\n    result.removable = null;\n    result.vendor = null;\n    result.manufacturer = util.getValue(lines, 'Manufacturer', ':');\n    result.maxPower = null;\n    result.serialNumber = null;\n\n    return result;\n  } else {\n    return null;\n  }\n}\n\nfunction usb(callback) {\n\n  return new Promise((resolve) => {\n    process.nextTick(() => {\n      let result = [];\n      if (_linux) {\n        const cmd = 'export LC_ALL=C; lsusb -v 2>/dev/null; unset LC_ALL';\n        exec(cmd, { maxBuffer: 1024 * 1024 * 128 }, function (error, stdout) {\n          if (!error) {\n            const parts = ('\\n\\n' + stdout.toString()).split('\\n\\nBus ');\n            for (let i = 1; i < parts.length; i++) {\n              const usb = parseLinuxUsb(parts[i]);\n              result.push(usb);\n            }\n          }\n          if (callback) {\n            callback(result);\n          }\n          resolve(result);\n        });\n      }\n      if (_darwin) {\n        let cmd = 'ioreg -p IOUSB -c AppleUSBRootHubDevice -w0 -l';\n        exec(cmd, { maxBuffer: 1024 * 1024 * 128 }, function (error, stdout) {\n          if (!error) {\n            const parts = (stdout.toString()).split(' +-o ');\n            for (let i = 1; i < parts.length; i++) {\n              const usb = parseDarwinUsb(parts[i]);\n              if (usb) {\n                result.push(usb);\n              }\n            }\n            if (callback) {\n              callback(result);\n            }\n            resolve(result);\n          }\n          if (callback) {\n            callback(result);\n          }\n          resolve(result);\n        });\n      }\n      if (_windows) {\n        util.powerShell('Get-CimInstance CIM_LogicalDevice | where { $_.Description -match \"USB\"} | select Name,CreationClassName,DeviceId,Manufacturer | fl').then((stdout, error) => {\n          if (!error) {\n            const parts = stdout.toString().split(/\\n\\s*\\n/);\n            for (let i = 0; i < parts.length; i++) {\n              const usb = parseWindowsUsb(parts[i].split('\\n'), i);\n              if (usb) {\n                result.push(usb);\n              }\n            }\n          }\n          if (callback) {\n            callback(result);\n          }\n          resolve(result);\n        });\n      }\n      if (_sunos || _freebsd || _openbsd || _netbsd) {\n        resolve(null);\n      }\n    });\n  });\n}\n\nexports.usb = usb;\n\n","'use strict';\n// @ts-check\n// ==================================================================================\n// users.js\n// ----------------------------------------------------------------------------------\n// Description:   System Information - library\n//                for Node.js\n// Copyright:     (c) 2014 - 2023\n// Author:        Sebastian Hildebrandt\n// ----------------------------------------------------------------------------------\n// License:       MIT\n// ==================================================================================\n// 11. Users/Sessions\n// ----------------------------------------------------------------------------------\n\nconst exec = require('child_process').exec;\nconst util = require('./util');\n\nlet _platform = process.platform;\n\nconst _linux = (_platform === 'linux' || _platform === 'android');\nconst _darwin = (_platform === 'darwin');\nconst _windows = (_platform === 'win32');\nconst _freebsd = (_platform === 'freebsd');\nconst _openbsd = (_platform === 'openbsd');\nconst _netbsd = (_platform === 'netbsd');\nconst _sunos = (_platform === 'sunos');\n\nfunction parseUsersLinux(lines, phase) {\n  let result = [];\n  let result_who = [];\n  let result_w = {};\n  let w_first = true;\n  let w_header = [];\n  let w_pos = [];\n  let who_line = {};\n\n  let is_whopart = true;\n  lines.forEach(function (line) {\n    if (line === '---') {\n      is_whopart = false;\n    } else {\n      let l = line.replace(/ +/g, ' ').split(' ');\n\n      // who part\n      if (is_whopart) {\n        result_who.push({\n          user: l[0],\n          tty: l[1],\n          date: l[2],\n          time: l[3],\n          ip: (l && l.length > 4) ? l[4].replace(/\\(/g, '').replace(/\\)/g, '') : ''\n        });\n      } else {\n        // w part\n        if (w_first) {    // header\n          w_header = l;\n          w_header.forEach(function (item) {\n            w_pos.push(line.indexOf(item));\n          });\n          w_first = false;\n        } else {\n          // split by w_pos\n          result_w.user = line.substring(w_pos[0], w_pos[1] - 1).trim();\n          result_w.tty = line.substring(w_pos[1], w_pos[2] - 1).trim();\n          result_w.ip = line.substring(w_pos[2], w_pos[3] - 1).replace(/\\(/g, '').replace(/\\)/g, '').trim();\n          result_w.command = line.substring(w_pos[7], 1000).trim();\n          // find corresponding 'who' line\n          who_line = result_who.filter(function (obj) {\n            return (obj.user.substring(0, 8).trim() === result_w.user && obj.tty === result_w.tty);\n          });\n          if (who_line.length === 1) {\n            result.push({\n              user: who_line[0].user,\n              tty: who_line[0].tty,\n              date: who_line[0].date,\n              time: who_line[0].time,\n              ip: who_line[0].ip,\n              command: result_w.command\n            });\n          }\n        }\n      }\n    }\n  });\n  if (result.length === 0 && phase === 2) {\n    return result_who;\n  } else {\n    return result;\n  }\n}\n\nfunction parseUsersDarwin(lines) {\n  let result = [];\n  let result_who = [];\n  let result_w = {};\n  let who_line = {};\n\n  let is_whopart = true;\n  lines.forEach(function (line) {\n    if (line === '---') {\n      is_whopart = false;\n    } else {\n      let l = line.replace(/ +/g, ' ').split(' ');\n\n      // who part\n      if (is_whopart) {\n        result_who.push({\n          user: l[0],\n          tty: l[1],\n          date: ('' + new Date().getFullYear()) + '-' + ('0' + ('JANFEBMARAPRMAYJUNJULAUGSEPOCTNOVDEC'.indexOf(l[2].toUpperCase()) / 3 + 1)).slice(-2) + '-' + ('0' + l[3]).slice(-2),\n          time: l[4],\n        });\n      } else {\n        // w part\n        // split by w_pos\n        result_w.user = l[0];\n        result_w.tty = l[1];\n        result_w.ip = (l[2] !== '-') ? l[2] : '';\n        result_w.command = l.slice(5, 1000).join(' ');\n        // find corresponding 'who' line\n        who_line = result_who.filter(function (obj) {\n          return (obj.user === result_w.user && (obj.tty.substring(3, 1000) === result_w.tty || obj.tty === result_w.tty));\n        });\n        if (who_line.length === 1) {\n          result.push({\n            user: who_line[0].user,\n            tty: who_line[0].tty,\n            date: who_line[0].date,\n            time: who_line[0].time,\n            ip: result_w.ip,\n            command: result_w.command\n          });\n        }\n      }\n    }\n  });\n  return result;\n}\n\nfunction users(callback) {\n\n  return new Promise((resolve) => {\n    process.nextTick(() => {\n      let result = [];\n\n      // linux\n      if (_linux) {\n        exec('who --ips; echo \"---\"; w | tail -n +2', function (error, stdout) {\n          if (!error) {\n            // lines / split\n            let lines = stdout.toString().split('\\n');\n            result = parseUsersLinux(lines, 1);\n            if (result.length === 0) {\n              exec('who; echo \"---\"; w | tail -n +2', function (error, stdout) {\n                if (!error) {\n                  // lines / split\n                  lines = stdout.toString().split('\\n');\n                  result = parseUsersLinux(lines, 2);\n                }\n                if (callback) { callback(result); }\n                resolve(result);\n              });\n            } else {\n              if (callback) { callback(result); }\n              resolve(result);\n            }\n          } else {\n            if (callback) { callback(result); }\n            resolve(result);\n          }\n        });\n      }\n      if (_freebsd || _openbsd || _netbsd) {\n        exec('who; echo \"---\"; w -ih', function (error, stdout) {\n          if (!error) {\n            // lines / split\n            let lines = stdout.toString().split('\\n');\n            result = parseUsersDarwin(lines);\n          }\n          if (callback) { callback(result); }\n          resolve(result);\n        });\n      }\n      if (_sunos) {\n        exec('who; echo \"---\"; w -h', function (error, stdout) {\n          if (!error) {\n            // lines / split\n            let lines = stdout.toString().split('\\n');\n            result = parseUsersDarwin(lines);\n          }\n          if (callback) { callback(result); }\n          resolve(result);\n        });\n      }\n\n      if (_darwin) {\n        exec('who; echo \"---\"; w -ih', function (error, stdout) {\n          if (!error) {\n            // lines / split\n            let lines = stdout.toString().split('\\n');\n            result = parseUsersDarwin(lines);\n          }\n          if (callback) { callback(result); }\n          resolve(result);\n        });\n      }\n      if (_windows) {\n        try {\n          let cmd = 'Get-CimInstance Win32_LogonSession | select LogonId,@{n=\"StartTime\";e={$_.StartTime.ToString(\"yyyy-MM-dd HH:mm:ss\")}} | fl' + '; echo \\'#-#-#-#\\';';\n          cmd += 'Get-CimInstance Win32_LoggedOnUser | select antecedent,dependent | fl ' + '; echo \\'#-#-#-#\\';';\n          cmd += '$process = (Get-CimInstance Win32_Process -Filter \"name = \\'explorer.exe\\'\"); Invoke-CimMethod -InputObject $process[0] -MethodName GetOwner | select user, domain | fl; get-process -name explorer | select-object sessionid | fl; echo \\'#-#-#-#\\';';\n          cmd += 'query user';\n          util.powerShell(cmd).then((data) => {\n            if (data) {\n              data = data.split('#-#-#-#');\n              let sessions = parseWinSessions((data[0] || '').split(/\\n\\s*\\n/));\n              let loggedons = parseWinLoggedOn((data[1] || '').split(/\\n\\s*\\n/));\n              let queryUser = parseWinUsersQuery((data[3] || '').split('\\r\\n'));\n              let users = parseWinUsers((data[2] || '').split(/\\n\\s*\\n/), queryUser);\n              for (let id in loggedons) {\n                if ({}.hasOwnProperty.call(loggedons, id)) {\n                  loggedons[id].dateTime = {}.hasOwnProperty.call(sessions, id) ? sessions[id] : '';\n                }\n              }\n              users.forEach(user => {\n                let dateTime = '';\n                for (let id in loggedons) {\n                  if ({}.hasOwnProperty.call(loggedons, id)) {\n                    if (loggedons[id].user === user.user && (!dateTime || dateTime < loggedons[id].dateTime)) {\n                      dateTime = loggedons[id].dateTime;\n                    }\n                  }\n                }\n\n                result.push({\n                  user: user.user,\n                  tty: user.tty,\n                  date: `${dateTime.substring(0, 10)}`,\n                  time: `${dateTime.substring(11, 19)}`,\n                  ip: '',\n                  command: ''\n                });\n              });\n            }\n            if (callback) { callback(result); }\n            resolve(result);\n\n          });\n        } catch (e) {\n          if (callback) { callback(result); }\n          resolve(result);\n        }\n      }\n    });\n  });\n}\n\nfunction parseWinSessions(sessionParts) {\n  const sessions = {};\n  sessionParts.forEach(session => {\n    const lines = session.split('\\r\\n');\n    const id = util.getValue(lines, 'LogonId');\n    const starttime = util.getValue(lines, 'starttime');\n    if (id) {\n      sessions[id] = starttime;\n    }\n  });\n  return sessions;\n}\n\nfunction fuzzyMatch(name1, name2) {\n  name1 = name1.toLowerCase();\n  name2 = name2.toLowerCase();\n  let eq = 0;\n  let len = name1.length;\n  if (name2.length > len) { len = name2.length; }\n\n  for (let i = 0; i < len; i++) {\n    const c1 = name1[i] || '';\n    const c2 = name2[i] || '';\n    if (c1 === c2) { eq++; }\n  }\n  return (len > 10 ? eq / len > 0.9 : (len > 0 ? eq / len > 0.8 : false));\n}\n\nfunction parseWinUsers(userParts, userQuery) {\n  const users = [];\n  userParts.forEach(user => {\n    const lines = user.split('\\r\\n');\n\n    const domain = util.getValue(lines, 'domain', ':', true);\n    const username = util.getValue(lines, 'user', ':', true);\n    const sessionid = util.getValue(lines, 'sessionid', ':', true);\n\n    if (username) {\n      const quser = userQuery.filter(item => fuzzyMatch(item.user, username));\n      users.push({\n        domain,\n        user: username,\n        tty: quser && quser[0] && quser[0].tty ? quser[0].tty : sessionid\n      });\n    }\n  });\n  return users;\n}\n\nfunction parseWinLoggedOn(loggedonParts) {\n  const loggedons = {};\n  loggedonParts.forEach(loggedon => {\n    const lines = loggedon.split('\\r\\n');\n\n    const antecendent = util.getValue(lines, 'antecedent', ':', true);\n    let parts = antecendent.split('=');\n    const name = parts.length > 2 ? parts[1].split(',')[0].replace(/\"/g, '').trim() : '';\n    const domain = parts.length > 2 ? parts[2].replace(/\"/g, '').replace(/\\)/g, '').trim() : '';\n    const dependent = util.getValue(lines, 'dependent', ':', true);\n    parts = dependent.split('=');\n    const id = parts.length > 1 ? parts[1].replace(/\"/g, '').replace(/\\)/g, '').trim() : '';\n    if (id) {\n      loggedons[id] = {\n        domain,\n        user: name\n      };\n    }\n  });\n  return loggedons;\n}\n\nfunction parseWinUsersQuery(lines) {\n  lines = lines.filter(item => item);\n  let result = [];\n  const header = lines[0];\n  const headerDelimiter = [];\n  if (header) {\n    const start = (header[0] === ' ') ? 1 : 0;\n    headerDelimiter.push(start - 1);\n    let nextSpace = 0;\n    for (let i = start + 1; i < header.length; i++) {\n      if (header[i] === ' ' && ((header[i - 1] === ' ') || (header[i - 1] === '.'))) {\n        nextSpace = i;\n      } else {\n        if (nextSpace) {\n          headerDelimiter.push(nextSpace);\n          nextSpace = 0;\n        }\n      }\n    }\n    for (let i = 1; i < lines.length; i++) {\n      if (lines[i].trim()) {\n        const user = lines[i].substring(headerDelimiter[0] + 1, headerDelimiter[1]).trim() || '';\n        const tty = lines[i].substring(headerDelimiter[1] + 1, headerDelimiter[2] - 2).trim() || '';\n        result.push({\n          user: user,\n          tty: tty,\n        });\n      }\n    }\n  }\n  return result;\n}\n\nexports.users = users;\n","'use strict';\n// @ts-check\n// ==================================================================================\n// utils.js\n// ----------------------------------------------------------------------------------\n// Description:   System Information - library\n//                for Node.js\n// Copyright:     (c) 2014 - 2023\n// Author:        Sebastian Hildebrandt\n// ----------------------------------------------------------------------------------\n// License:       MIT\n// ==================================================================================\n// 0. helper functions\n// ----------------------------------------------------------------------------------\n\nconst os = require('os');\nconst fs = require('fs');\nconst path = require('path');\nconst spawn = require('child_process').spawn;\nconst exec = require('child_process').exec;\nconst execSync = require('child_process').execSync;\nconst util = require('util');\n\nlet _platform = process.platform;\nconst _linux = (_platform === 'linux' || _platform === 'android');\nconst _darwin = (_platform === 'darwin');\nconst _windows = (_platform === 'win32');\nconst _freebsd = (_platform === 'freebsd');\nconst _openbsd = (_platform === 'openbsd');\nconst _netbsd = (_platform === 'netbsd');\n\nlet _cores = 0;\nlet wmicPath = '';\nlet codepage = '';\nlet _smartMonToolsInstalled = null;\nlet _rpi_cpuinfo = null;\n\nconst WINDIR = process.env.WINDIR || 'C:\\\\Windows';\n\n// powerShell\nlet _psChild;\nlet _psResult = '';\nlet _psCmds = [];\nlet _psPersistent = false;\nconst _psToUTF8 = '$OutputEncoding = [System.Console]::OutputEncoding = [System.Console]::InputEncoding = [System.Text.Encoding]::UTF8 ; ';\nconst _psCmdStart = '--###START###--';\nconst _psError = '--ERROR--';\nconst _psCmdSeperator = '--###ENDCMD###--';\nconst _psIdSeperator = '--##ID##--';\n\nconst execOptsWin = {\n  windowsHide: true,\n  maxBuffer: 1024 * 20000,\n  encoding: 'UTF-8',\n  env: util._extend({}, process.env, { LANG: 'en_US.UTF-8' })\n};\n\nfunction toInt(value) {\n  let result = parseInt(value, 10);\n  if (isNaN(result)) {\n    result = 0;\n  }\n  return result;\n}\n\n\nconst stringReplace = new String().replace;\nconst stringToLower = new String().toLowerCase;\nconst stringToString = new String().toString;\nconst stringSubstr = new String().substr;\nconst stringTrim = new String().trim;\nconst stringStartWith = new String().startsWith;\nconst mathMin = Math.min;\n\nfunction isFunction(functionToCheck) {\n  let getType = {};\n  return functionToCheck && getType.toString.call(functionToCheck) === '[object Function]';\n}\n\nfunction unique(obj) {\n  let uniques = [];\n  let stringify = {};\n  for (let i = 0; i < obj.length; i++) {\n    let keys = Object.keys(obj[i]);\n    keys.sort(function (a, b) { return a - b; });\n    let str = '';\n    for (let j = 0; j < keys.length; j++) {\n      str += JSON.stringify(keys[j]);\n      str += JSON.stringify(obj[i][keys[j]]);\n    }\n    if (!{}.hasOwnProperty.call(stringify, str)) {\n      uniques.push(obj[i]);\n      stringify[str] = true;\n    }\n  }\n  return uniques;\n}\n\nfunction sortByKey(array, keys) {\n  return array.sort(function (a, b) {\n    let x = '';\n    let y = '';\n    keys.forEach(function (key) {\n      x = x + a[key]; y = y + b[key];\n    });\n    return ((x < y) ? -1 : ((x > y) ? 1 : 0));\n  });\n}\n\nfunction cores() {\n  if (_cores === 0) {\n    _cores = os.cpus().length;\n  }\n  return _cores;\n}\n\nfunction getValue(lines, property, separator, trimmed, lineMatch) {\n  separator = separator || ':';\n  property = property.toLowerCase();\n  trimmed = trimmed || false;\n  lineMatch = lineMatch || false;\n  let result = '';\n  lines.some((line) => {\n    let lineLower = line.toLowerCase().replace(/\\t/g, '');\n    if (trimmed) {\n      lineLower = lineLower.trim();\n    }\n    if (lineLower.startsWith(property) && (lineMatch ? (lineLower.match(property + separator)) || (lineLower.match(property + ' ' + separator)) : true)) {\n      const parts = trimmed ? line.trim().split(separator) : line.split(separator);\n      if (parts.length >= 2) {\n        parts.shift();\n        result = parts.join(separator).trim();\n        return true;\n      }\n    }\n  });\n  return result;\n}\n\nfunction decodeEscapeSequence(str, base) {\n  base = base || 16;\n  return str.replace(/\\\\x([0-9A-Fa-f]{2})/g, function () {\n    return String.fromCharCode(parseInt(arguments[1], base));\n  });\n}\n\nfunction detectSplit(str) {\n  let seperator = '';\n  let part = 0;\n  str.split('').forEach(element => {\n    if (element >= '0' && element <= '9') {\n      if (part === 1) { part++; }\n    } else {\n      if (part === 0) { part++; }\n      if (part === 1) {\n        seperator += element;\n      }\n    }\n  });\n  return seperator;\n}\n\nfunction parseTime(t, pmDesignator) {\n  pmDesignator = pmDesignator || '';\n  t = t.toUpperCase();\n  let hour = 0;\n  let min = 0;\n  let splitter = detectSplit(t);\n  let parts = t.split(splitter);\n  if (parts.length >= 2) {\n    if (parts[2]) {\n      parts[1] += parts[2];\n    }\n    let isPM = (parts[1] && (parts[1].toLowerCase().indexOf('pm') > -1) || (parts[1].toLowerCase().indexOf('p.m.') > -1) || (parts[1].toLowerCase().indexOf('p. m.') > -1) || (parts[1].toLowerCase().indexOf('n') > -1) || (parts[1].toLowerCase().indexOf('ch') > -1) || (parts[1].toLowerCase().indexOf('s') > -1) || (pmDesignator && parts[1].toLowerCase().indexOf(pmDesignator) > -1));\n    hour = parseInt(parts[0], 10);\n    min = parseInt(parts[1], 10);\n    hour = isPM && hour < 12 ? hour + 12 : hour;\n    return ('0' + hour).substr(-2) + ':' + ('0' + min).substr(-2);\n  }\n}\n\nfunction parseDateTime(dt, culture) {\n  const result = {\n    date: '',\n    time: ''\n  };\n  culture = culture || {};\n  let dateFormat = (culture.dateFormat || '').toLowerCase();\n  let pmDesignator = (culture.pmDesignator || '');\n\n  const parts = dt.split(' ');\n  if (parts[0]) {\n    if (parts[0].indexOf('/') >= 0) {\n      // Dateformat: mm/dd/yyyy or dd/mm/yyyy or dd/mm/yy or yyyy/mm/dd\n      const dtparts = parts[0].split('/');\n      if (dtparts.length === 3) {\n        if (dtparts[0].length === 4) {\n          // Dateformat: yyyy/mm/dd\n          result.date = dtparts[0] + '-' + ('0' + dtparts[1]).substr(-2) + '-' + ('0' + dtparts[2]).substr(-2);\n        } else if (dtparts[2].length === 2) {\n          if ((dateFormat.indexOf('/d/') > -1 || dateFormat.indexOf('/dd/') > -1)) {\n            // Dateformat: mm/dd/yy\n            result.date = '20' + dtparts[2] + '-' + ('0' + dtparts[1]).substr(-2) + '-' + ('0' + dtparts[0]).substr(-2);\n          } else {\n            // Dateformat: dd/mm/yy\n            result.date = '20' + dtparts[2] + '-' + ('0' + dtparts[1]).substr(-2) + '-' + ('0' + dtparts[0]).substr(-2);\n          }\n        } else {\n          // Dateformat: mm/dd/yyyy or dd/mm/yyyy\n          const isEN = ((dt.toLowerCase().indexOf('pm') > -1) || (dt.toLowerCase().indexOf('p.m.') > -1) || (dt.toLowerCase().indexOf('p. m.') > -1) || (dt.toLowerCase().indexOf('am') > -1) || (dt.toLowerCase().indexOf('a.m.') > -1) || (dt.toLowerCase().indexOf('a. m.') > -1));\n          if ((isEN || dateFormat.indexOf('/d/') > -1 || dateFormat.indexOf('/dd/') > -1) && dateFormat.indexOf('dd/') !== 0) {\n            // Dateformat: mm/dd/yyyy\n            result.date = dtparts[2] + '-' + ('0' + dtparts[0]).substr(-2) + '-' + ('0' + dtparts[1]).substr(-2);\n          } else {\n            // Dateformat: dd/mm/yyyy\n            result.date = dtparts[2] + '-' + ('0' + dtparts[1]).substr(-2) + '-' + ('0' + dtparts[0]).substr(-2);\n          }\n        }\n      }\n    }\n    if (parts[0].indexOf('.') >= 0) {\n      const dtparts = parts[0].split('.');\n      if (dtparts.length === 3) {\n        if (dateFormat.indexOf('.d.') > -1 || dateFormat.indexOf('.dd.') > -1) {\n          // Dateformat: mm.dd.yyyy\n          result.date = dtparts[2] + '-' + ('0' + dtparts[0]).substr(-2) + '-' + ('0' + dtparts[1]).substr(-2);\n        } else {\n          // Dateformat: dd.mm.yyyy\n          result.date = dtparts[2] + '-' + ('0' + dtparts[1]).substr(-2) + '-' + ('0' + dtparts[0]).substr(-2);\n        }\n      }\n    }\n    if (parts[0].indexOf('-') >= 0) {\n      // Dateformat: yyyy-mm-dd\n      const dtparts = parts[0].split('-');\n      if (dtparts.length === 3) {\n        result.date = dtparts[0] + '-' + ('0' + dtparts[1]).substr(-2) + '-' + ('0' + dtparts[2]).substr(-2);\n      }\n    }\n  }\n  if (parts[1]) {\n    parts.shift();\n    let time = parts.join(' ');\n    result.time = parseTime(time, pmDesignator);\n  }\n  return result;\n}\n\nfunction parseHead(head, rights) {\n  let space = (rights > 0);\n  let count = 1;\n  let from = 0;\n  let to = 0;\n  let result = [];\n  for (let i = 0; i < head.length; i++) {\n    if (count <= rights) {\n      if (/\\s/.test(head[i]) && !space) {\n        to = i - 1;\n        result.push({\n          from: from,\n          to: to + 1,\n          cap: head.substring(from, to + 1)\n        });\n        from = to + 2;\n        count++;\n      }\n      space = head[i] === ' ';\n    } else {\n      if (!/\\s/.test(head[i]) && space) {\n        to = i - 1;\n        if (from < to) {\n          result.push({\n            from: from,\n            to: to,\n            cap: head.substring(from, to)\n          });\n        }\n        from = to + 1;\n        count++;\n      }\n      space = head[i] === ' ';\n    }\n  }\n  to = 5000;\n  result.push({\n    from: from,\n    to: to,\n    cap: head.substring(from, to)\n  });\n  let len = result.length;\n  for (let i = 0; i < len; i++) {\n    if (result[i].cap.replace(/\\s/g, '').length === 0) {\n      if (i + 1 < len) {\n        result[i].to = result[i + 1].to;\n        result[i].cap = result[i].cap + result[i + 1].cap;\n        result.splice(i + 1, 1);\n        len = len - 1;\n      }\n    }\n  }\n  return result;\n}\n\nfunction findObjectByKey(array, key, value) {\n  for (let i = 0; i < array.length; i++) {\n    if (array[i][key] === value) {\n      return i;\n    }\n  }\n  return -1;\n}\n\nfunction getWmic() {\n  if (os.type() === 'Windows_NT' && !wmicPath) {\n    wmicPath = WINDIR + '\\\\system32\\\\wbem\\\\wmic.exe';\n    if (!fs.existsSync(wmicPath)) {\n      try {\n        const wmicPathArray = execSync('WHERE WMIC', execOptsWin).toString().split('\\r\\n');\n        if (wmicPathArray && wmicPathArray.length) {\n          wmicPath = wmicPathArray[0];\n        } else {\n          wmicPath = 'wmic';\n        }\n      } catch (e) {\n        wmicPath = 'wmic';\n      }\n    }\n  }\n  return wmicPath;\n}\n\nfunction wmic(command) {\n  return new Promise((resolve) => {\n    process.nextTick(() => {\n      try {\n        powerShell(getWmic() + ' ' + command).then(stdout => {\n          resolve(stdout, '');\n        });\n      } catch (e) {\n        resolve('', e);\n      }\n    });\n  });\n}\n\nfunction getVboxmanage() {\n  return _windows ? `\"${process.env.VBOX_INSTALL_PATH || process.env.VBOX_MSI_INSTALL_PATH}\\\\VBoxManage.exe\"` : 'vboxmanage';\n}\n\nfunction powerShellProceedResults(data) {\n  let id = '';\n  let parts;\n  let res = '';\n  // startID\n  if (data.indexOf(_psCmdStart) >= 0) {\n    parts = data.split(_psCmdStart);\n    const parts2 = parts[1].split(_psIdSeperator);\n    id = parts2[0];\n    if (parts2.length > 1) {\n      data = parts2.slice(1).join(_psIdSeperator);\n    }\n  }\n  // result;\n  if (data.indexOf(_psCmdSeperator) >= 0) {\n    parts = data.split(_psCmdSeperator);\n    res = parts[0];\n  }\n  let remove = -1;\n  for (let i = 0; i < _psCmds.length; i++) {\n    if (_psCmds[i].id === id) {\n      remove = i;\n      _psCmds[i].callback(res);\n    }\n  }\n  if (remove >= 0) {\n    _psCmds.splice(remove, 1);\n  }\n}\n\nfunction powerShellStart() {\n  if (!_psChild) {\n    _psChild = spawn('powershell.exe', ['-NoProfile', '-NoLogo', '-InputFormat', 'Text', '-NoExit', '-Command', '-'], {\n      stdio: 'pipe',\n      windowsHide: true,\n      maxBuffer: 1024 * 20000,\n      encoding: 'UTF-8',\n      env: util._extend({}, process.env, { LANG: 'en_US.UTF-8' })\n    });\n    if (_psChild && _psChild.pid) {\n      _psPersistent = true;\n      _psChild.stdout.on('data', function (data) {\n        _psResult = _psResult + data.toString('utf8');\n        if (data.indexOf(_psCmdSeperator) >= 0) {\n          powerShellProceedResults(_psResult);\n          _psResult = '';\n        }\n      });\n      _psChild.stderr.on('data', function () {\n        powerShellProceedResults(_psResult + _psError);\n      });\n      _psChild.on('error', function () {\n        powerShellProceedResults(_psResult + _psError);\n      });\n      _psChild.on('close', function () {\n        _psChild.kill();\n      });\n    }\n  }\n}\n\nfunction powerShellRelease() {\n  try {\n    if (_psChild) {\n      _psChild.stdin.write('exit' + os.EOL);\n      _psChild.stdin.end();\n      _psPersistent = false;\n    }\n  } catch (e) {\n    if (_psChild) { _psChild.kill(); }\n  }\n  _psChild = null;\n}\n\nfunction powerShell(cmd) {\n\n  if (_psPersistent) {\n    const id = Math.random().toString(36).substring(2, 12);\n    return new Promise((resolve) => {\n      process.nextTick(() => {\n        function callback(data) {\n          resolve(data);\n        }\n        _psCmds.push({\n          id,\n          cmd,\n          callback,\n          start: new Date()\n        });\n        try {\n          if (_psChild && _psChild.pid) {\n            _psChild.stdin.write(_psToUTF8 + 'echo ' + _psCmdStart + id + _psIdSeperator + '; ' + os.EOL + cmd + os.EOL + 'echo ' + _psCmdSeperator + os.EOL);\n          }\n        } catch (e) {\n          resolve('');\n        }\n      });\n    });\n\n  } else {\n    let result = '';\n\n    return new Promise((resolve) => {\n      process.nextTick(() => {\n        try {\n          const child = spawn('powershell.exe', ['-NoProfile', '-NoLogo', '-InputFormat', 'Text', '-NoExit', '-ExecutionPolicy', 'Unrestricted', '-Command', '-'], {\n            stdio: 'pipe',\n            windowsHide: true,\n            maxBuffer: 1024 * 20000,\n            encoding: 'UTF-8',\n            env: util._extend({}, process.env, { LANG: 'en_US.UTF-8' })\n          });\n\n          if (child && !child.pid) {\n            child.on('error', function () {\n              resolve(result);\n            });\n          }\n          if (child && child.pid) {\n            child.stdout.on('data', function (data) {\n              result = result + data.toString('utf8');\n            });\n            child.stderr.on('data', function () {\n              child.kill();\n              resolve(result);\n            });\n            child.on('close', function () {\n              child.kill();\n\n              resolve(result);\n            });\n            child.on('error', function () {\n              child.kill();\n              resolve(result);\n            });\n            try {\n              child.stdin.write(_psToUTF8 + cmd + os.EOL);\n              child.stdin.write('exit' + os.EOL);\n              child.stdin.end();\n            } catch (e) {\n              child.kill();\n              resolve(result);\n            }\n          } else {\n            resolve(result);\n          }\n        } catch (e) {\n          resolve(result);\n        }\n      });\n    });\n  }\n}\n\nfunction execSafe(cmd, args, options) {\n  let result = '';\n  options = options || {};\n\n  return new Promise((resolve) => {\n    process.nextTick(() => {\n      try {\n        const child = spawn(cmd, args, options);\n\n        if (child && !child.pid) {\n          child.on('error', function () {\n            resolve(result);\n          });\n        }\n        if (child && child.pid) {\n          child.stdout.on('data', function (data) {\n            result += data.toString();\n          });\n          child.on('close', function () {\n            child.kill();\n            resolve(result);\n          });\n          child.on('error', function () {\n            child.kill();\n            resolve(result);\n          });\n        } else {\n          resolve(result);\n        }\n      } catch (e) {\n        resolve(result);\n      }\n    });\n  });\n}\n\nfunction getCodepage() {\n  if (_windows) {\n    if (!codepage) {\n      try {\n        const stdout = execSync('chcp', execOptsWin);\n        const lines = stdout.toString().split('\\r\\n');\n        const parts = lines[0].split(':');\n        codepage = parts.length > 1 ? parts[1].replace('.', '').trim() : '';\n      } catch (err) {\n        codepage = '437';\n      }\n    }\n    return codepage;\n  }\n  if (_linux || _darwin || _freebsd || _openbsd || _netbsd) {\n    if (!codepage) {\n      try {\n        const stdout = execSync('echo $LANG');\n        const lines = stdout.toString().split('\\r\\n');\n        const parts = lines[0].split('.');\n        codepage = parts.length > 1 ? parts[1].trim() : '';\n        if (!codepage) {\n          codepage = 'UTF-8';\n        }\n      } catch (err) {\n        codepage = 'UTF-8';\n      }\n    }\n    return codepage;\n  }\n}\n\nfunction smartMonToolsInstalled() {\n  if (_smartMonToolsInstalled !== null) {\n    return _smartMonToolsInstalled;\n  }\n  _smartMonToolsInstalled = false;\n  if (_windows) {\n    try {\n      const pathArray = execSync('WHERE smartctl 2>nul', execOptsWin).toString().split('\\r\\n');\n      if (pathArray && pathArray.length) {\n        _smartMonToolsInstalled = pathArray[0].indexOf(':\\\\') >= 0;\n      } else {\n        _smartMonToolsInstalled = false;\n      }\n    } catch (e) {\n      _smartMonToolsInstalled = false;\n    }\n  }\n  if (_linux || _darwin || _freebsd || _openbsd || _netbsd) {\n    try {\n      const pathArray = execSync('which smartctl 2>/dev/null', execOptsWin).toString().split('\\r\\n');\n      _smartMonToolsInstalled = pathArray.length > 0;\n    } catch (e) {\n      util.noop();\n    }\n  }\n  return _smartMonToolsInstalled;\n}\n\nfunction isRaspberry() {\n  const PI_MODEL_NO = [\n    'BCM2708',\n    'BCM2709',\n    'BCM2710',\n    'BCM2711',\n    'BCM2712',\n    'BCM2835',\n    'BCM2836',\n    'BCM2837',\n    'BCM2837B0'\n  ];\n  let cpuinfo = [];\n\n  if (_rpi_cpuinfo !== null) {\n    cpuinfo = _rpi_cpuinfo;\n  } else {\n    try {\n      cpuinfo = fs.readFileSync('/proc/cpuinfo', { encoding: 'utf8' }).toString().split('\\n');\n      _rpi_cpuinfo = cpuinfo;\n    } catch (e) {\n      return false;\n    }\n  }\n\n  const hardware = getValue(cpuinfo, 'hardware');\n  return (hardware && PI_MODEL_NO.indexOf(hardware) > -1);\n}\n\nfunction isRaspbian() {\n  let osrelease = [];\n  try {\n    osrelease = fs.readFileSync('/etc/os-release', { encoding: 'utf8' }).toString().split('\\n');\n  } catch (e) {\n    return false;\n  }\n  const id = getValue(osrelease, 'id', '=');\n  return (id && id.indexOf('raspbian') > -1);\n}\n\nfunction execWin(cmd, opts, callback) {\n  if (!callback) {\n    callback = opts;\n    opts = execOptsWin;\n  }\n  let newCmd = 'chcp 65001 > nul && cmd /C ' + cmd + ' && chcp ' + codepage + ' > nul';\n  exec(newCmd, opts, function (error, stdout) {\n    callback(error, stdout);\n  });\n}\n\nfunction darwinXcodeExists() {\n  const cmdLineToolsExists = fs.existsSync('/Library/Developer/CommandLineTools/usr/bin/');\n  const xcodeAppExists = fs.existsSync('/Applications/Xcode.app/Contents/Developer/Tools');\n  const xcodeExists = fs.existsSync('/Library/Developer/Xcode/');\n  return (cmdLineToolsExists || xcodeExists || xcodeAppExists);\n}\n\nfunction nanoSeconds() {\n  const time = process.hrtime();\n  if (!Array.isArray(time) || time.length !== 2) {\n    return 0;\n  }\n  return +time[0] * 1e9 + +time[1];\n}\n\nfunction countUniqueLines(lines, startingWith) {\n  startingWith = startingWith || '';\n  const uniqueLines = [];\n  lines.forEach(line => {\n    if (line.startsWith(startingWith)) {\n      if (uniqueLines.indexOf(line) === -1) {\n        uniqueLines.push(line);\n      }\n    }\n  });\n  return uniqueLines.length;\n}\n\nfunction countLines(lines, startingWith) {\n  startingWith = startingWith || '';\n  const uniqueLines = [];\n  lines.forEach(line => {\n    if (line.startsWith(startingWith)) {\n      uniqueLines.push(line);\n    }\n  });\n  return uniqueLines.length;\n}\n\nfunction sanitizeShellString(str, strict) {\n  if (typeof strict === 'undefined') { strict = false; }\n  const s = str || '';\n  let result = '';\n  const l = mathMin(s.length, 2000);\n  for (let i = 0; i <= l; i++) {\n    if (!(s[i] === undefined ||\n      s[i] === '>' ||\n      s[i] === '<' ||\n      s[i] === '*' ||\n      s[i] === '?' ||\n      s[i] === '[' ||\n      s[i] === ']' ||\n      s[i] === '|' ||\n      s[i] === '' ||\n      s[i] === '$' ||\n      s[i] === ';' ||\n      s[i] === '&' ||\n      s[i] === ']' ||\n      s[i] === '#' ||\n      s[i] === '\\\\' ||\n      s[i] === '\\t' ||\n      s[i] === '\\n' ||\n      s[i] === '\\r' ||\n      s[i] === '\\'' ||\n      s[i] === '`' ||\n      s[i] === '\"' ||\n      s[i].length > 1 ||\n      (strict && s[i] === '(') ||\n      (strict && s[i] === ')') ||\n      (strict && s[i] === '@') ||\n      (strict && s[i] === ' ') ||\n      (strict && s[i] == '{') ||\n      (strict && s[i] == ';') ||\n      (strict && s[i] == '}'))) {\n      result = result + s[i];\n    }\n  }\n  return result;\n}\n\nfunction isPrototypePolluted() {\n  const s = '1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ';\n  let notPolluted = true;\n  let st = '';\n\n  st.__proto__.replace = stringReplace;\n  st.__proto__.toLowerCase = stringToLower;\n  st.__proto__.toString = stringToString;\n  st.__proto__.substr = stringSubstr;\n\n  notPolluted = notPolluted || (s.length !== 62);\n  const ms = Date.now();\n  if (typeof ms === 'number' && ms > 1600000000000) {\n    const l = ms % 100 + 15;\n    for (let i = 0; i < l; i++) {\n      const r = Math.random() * 61.99999999 + 1;\n      const rs = parseInt(Math.floor(r).toString(), 10);\n      const rs2 = parseInt(r.toString().split('.')[0], 10);\n      const q = Math.random() * 61.99999999 + 1;\n      const qs = parseInt(Math.floor(q).toString(), 10);\n      const qs2 = parseInt(q.toString().split('.')[0], 10);\n      notPolluted = notPolluted && (r !== q);\n      notPolluted = notPolluted && rs === rs2 && qs === qs2;\n      st += s[rs - 1];\n    }\n    notPolluted = notPolluted && st.length === l;\n    // string manipulation\n    let p = Math.random() * l * 0.9999999999;\n    let stm = st.substr(0, p) + ' ' + st.substr(p, 2000);\n    stm.__proto__.replace = stringReplace;\n    let sto = stm.replace(/ /g, '');\n    notPolluted = notPolluted && st === sto;\n    p = Math.random() * l * 0.9999999999;\n    stm = st.substr(0, p) + '{' + st.substr(p, 2000);\n    sto = stm.replace(/{/g, '');\n    notPolluted = notPolluted && st === sto;\n    p = Math.random() * l * 0.9999999999;\n    stm = st.substr(0, p) + '*' + st.substr(p, 2000);\n    sto = stm.replace(/\\*/g, '');\n    notPolluted = notPolluted && st === sto;\n    p = Math.random() * l * 0.9999999999;\n    stm = st.substr(0, p) + '$' + st.substr(p, 2000);\n    sto = stm.replace(/\\$/g, '');\n    notPolluted = notPolluted && st === sto;\n\n    // lower\n    const stl = st.toLowerCase();\n    notPolluted = notPolluted && (stl.length === l) && stl[l - 1] && !(stl[l]);\n    for (let i = 0; i < l; i++) {\n      const s1 = st[i];\n      s1.__proto__.toLowerCase = stringToLower;\n      const s2 = stl ? stl[i] : '';\n      const s1l = s1.toLowerCase();\n      notPolluted = notPolluted && s1l[0] === s2 && s1l[0] && !(s1l[1]);\n    }\n  }\n  return !notPolluted;\n}\n\nfunction hex2bin(hex) {\n  return ('00000000' + (parseInt(hex, 16)).toString(2)).substr(-8);\n}\n\nfunction getFilesInPath(source) {\n  const lstatSync = fs.lstatSync;\n  const readdirSync = fs.readdirSync;\n  const join = path.join;\n\n  function isDirectory(source) {\n    return lstatSync(source).isDirectory();\n  }\n  function isFile(source) { return lstatSync(source).isFile(); }\n\n  function getDirectories(source) {\n    return readdirSync(source).map(function (name) { return join(source, name); }).filter(isDirectory);\n  }\n  function getFiles(source) {\n    return readdirSync(source).map(function (name) { return join(source, name); }).filter(isFile);\n  }\n\n  function getFilesRecursively(source) {\n    try {\n      let dirs = getDirectories(source);\n      let files = dirs\n        .map(function (dir) { return getFilesRecursively(dir); })\n        .reduce(function (a, b) { return a.concat(b); }, []);\n      return files.concat(getFiles(source));\n    } catch (e) {\n      return [];\n    }\n  }\n\n  if (fs.existsSync(source)) {\n    return getFilesRecursively(source);\n  } else {\n    return [];\n  }\n}\n\nfunction decodePiCpuinfo(lines) {\n\n  if (_rpi_cpuinfo === null) {\n    _rpi_cpuinfo = lines;\n  }\n\n  // https://www.raspberrypi.org/documentation/hardware/raspberrypi/revision-codes/README.md\n\n  const oldRevisionCodes = {\n    '0002': {\n      type: 'B',\n      revision: '1.0',\n      memory: 256,\n      manufacturer: 'Egoman',\n      processor: 'BCM2835'\n    },\n    '0003': {\n      type: 'B',\n      revision: '1.0',\n      memory: 256,\n      manufacturer: 'Egoman',\n      processor: 'BCM2835'\n    },\n    '0004': {\n      type: 'B',\n      revision: '2.0',\n      memory: 256,\n      manufacturer: 'Sony UK',\n      processor: 'BCM2835'\n    },\n    '0005': {\n      type: 'B',\n      revision: '2.0',\n      memory: 256,\n      manufacturer: 'Qisda',\n      processor: 'BCM2835'\n    },\n    '0006': {\n      type: 'B',\n      revision: '2.0',\n      memory: 256,\n      manufacturer: 'Egoman',\n      processor: 'BCM2835'\n    },\n    '0007': {\n      type: 'A',\n      revision: '2.0',\n      memory: 256,\n      manufacturer: 'Egoman',\n      processor: 'BCM2835'\n    },\n    '0008': {\n      type: 'A',\n      revision: '2.0',\n      memory: 256,\n      manufacturer: 'Sony UK',\n      processor: 'BCM2835'\n    },\n    '0009': {\n      type: 'A',\n      revision: '2.0',\n      memory: 256,\n      manufacturer: 'Qisda',\n      processor: 'BCM2835'\n    },\n    '000d': {\n      type: 'B',\n      revision: '2.0',\n      memory: 512,\n      manufacturer: 'Egoman',\n      processor: 'BCM2835'\n    },\n    '000e': {\n      type: 'B',\n      revision: '2.0',\n      memory: 512,\n      manufacturer: 'Sony UK',\n      processor: 'BCM2835'\n    },\n    '000f': {\n      type: 'B',\n      revision: '2.0',\n      memory: 512,\n      manufacturer: 'Egoman',\n      processor: 'BCM2835'\n    },\n    '0010': {\n      type: 'B+',\n      revision: '1.2',\n      memory: 512,\n      manufacturer: 'Sony UK',\n      processor: 'BCM2835'\n    },\n    '0011': {\n      type: 'CM1',\n      revision: '1.0',\n      memory: 512,\n      manufacturer: 'Sony UK',\n      processor: 'BCM2835'\n    },\n    '0012': {\n      type: 'A+',\n      revision: '1.1',\n      memory: 256,\n      manufacturer: 'Sony UK',\n      processor: 'BCM2835'\n    },\n    '0013': {\n      type: 'B+',\n      revision: '1.2',\n      memory: 512,\n      manufacturer: 'Embest',\n      processor: 'BCM2835'\n    },\n    '0014': {\n      type: 'CM1',\n      revision: '1.0',\n      memory: 512,\n      manufacturer: 'Embest',\n      processor: 'BCM2835'\n    },\n    '0015': {\n      type: 'A+',\n      revision: '1.1',\n      memory: 256,\n      manufacturer: '512MB\tEmbest',\n      processor: 'BCM2835'\n    }\n  };\n\n  const processorList = [\n    'BCM2835',\n    'BCM2836',\n    'BCM2837',\n    'BCM2711',\n    'BCM2712',\n  ];\n  const manufacturerList = [\n    'Sony UK',\n    'Egoman',\n    'Embest',\n    'Sony Japan',\n    'Embest',\n    'Stadium'\n  ];\n  const typeList = {\n    '00': 'A',\n    '01': 'B',\n    '02': 'A+',\n    '03': 'B+',\n    '04': '2B',\n    '05': 'Alpha (early prototype)',\n    '06': 'CM1',\n    '08': '3B',\n    '09': 'Zero',\n    '0a': 'CM3',\n    '0c': 'Zero W',\n    '0d': '3B+',\n    '0e': '3A+',\n    '0f': 'Internal use only',\n    '10': 'CM3+',\n    '11': '4B',\n    '12': 'Zero 2 W',\n    '13': '400',\n    '14': 'CM4',\n    '15': 'CM4S',\n    '17': '5B',\n  };\n\n  const revisionCode = getValue(lines, 'revision', ':', true);\n  const model = getValue(lines, 'model:', ':', true);\n  const serial = getValue(lines, 'serial', ':', true);\n\n  let result = {};\n  if ({}.hasOwnProperty.call(oldRevisionCodes, revisionCode)) {\n    // old revision codes\n    result = {\n      model,\n      serial,\n      revisionCode,\n      memory: oldRevisionCodes[revisionCode].memory,\n      manufacturer: oldRevisionCodes[revisionCode].manufacturer,\n      processor: oldRevisionCodes[revisionCode].processor,\n      type: oldRevisionCodes[revisionCode].type,\n      revision: oldRevisionCodes[revisionCode].revision,\n    };\n\n  } else {\n    // new revision code\n    const revision = ('00000000' + getValue(lines, 'revision', ':', true).toLowerCase()).substr(-8);\n    const memSizeCode = parseInt(hex2bin(revision.substr(2, 1)).substr(5, 3), 2) || 0;\n    const manufacturer = manufacturerList[parseInt(revision.substr(3, 1), 10)];\n    const processor = processorList[parseInt(revision.substr(4, 1), 10)];\n    const typeCode = revision.substr(5, 2);\n\n\n    result = {\n      model,\n      serial,\n      revisionCode,\n      memory: 256 * Math.pow(2, memSizeCode),\n      manufacturer,\n      processor,\n      type: {}.hasOwnProperty.call(typeList, typeCode) ? typeList[typeCode] : '',\n      revision: '1.' + revision.substr(7, 1),\n    };\n  }\n  return result;\n}\n\nfunction getRpiGpu() {\n  let cpuinfo = null;\n  if (_rpi_cpuinfo !== null) {\n    cpuinfo = _rpi_cpuinfo;\n  } else {\n    try {\n      cpuinfo = fs.readFileSync('/proc/cpuinfo', { encoding: 'utf8' }).toString().split('\\n');\n      _rpi_cpuinfo = cpuinfo;\n    } catch (e) {\n      return false;\n    }\n  }\n\n  const rpi = decodePiCpuinfo(cpuinfo);\n  if (rpi.type === '4B' || rpi.type === 'CM4' || rpi.type === 'CM4S' || rpi.type === '400') { return 'VideoCore VI'; }\n  if (rpi.type === '5B') { return 'VideoCore VII'; }\n  return 'VideoCore IV';\n}\n\nfunction promiseAll(promises) {\n  const resolvingPromises = promises.map(function (promise) {\n    return new Promise(function (resolve) {\n      let payload = new Array(2);\n      promise.then(function (result) {\n        payload[0] = result;\n      })\n        .catch(function (error) {\n          payload[1] = error;\n        })\n        .then(function () {\n          // The wrapped Promise returns an array: 0 = result, 1 = error ... we resolve all\n          resolve(payload);\n        });\n    });\n  });\n  const errors = [];\n  const results = [];\n\n  // Execute all wrapped Promises\n  return Promise.all(resolvingPromises)\n    .then(function (items) {\n      items.forEach(function (payload) {\n        if (payload[1]) {\n          errors.push(payload[1]);\n          results.push(null);\n        } else {\n          errors.push(null);\n          results.push(payload[0]);\n        }\n      });\n\n      return {\n        errors: errors,\n        results: results\n      };\n    });\n}\n\nfunction promisify(nodeStyleFunction) {\n  return function () {\n    const args = Array.prototype.slice.call(arguments);\n    return new Promise(function (resolve, reject) {\n      args.push(function (err, data) {\n        if (err) {\n          reject(err);\n        } else {\n          resolve(data);\n        }\n      });\n      nodeStyleFunction.apply(null, args);\n    });\n  };\n}\n\nfunction promisifySave(nodeStyleFunction) {\n  return function () {\n    const args = Array.prototype.slice.call(arguments);\n    return new Promise(function (resolve) {\n      args.push(function (err, data) {\n        resolve(data);\n      });\n      nodeStyleFunction.apply(null, args);\n    });\n  };\n}\n\nfunction linuxVersion() {\n  let result = '';\n  if (_linux) {\n    try {\n      result = execSync('uname -v').toString();\n    } catch (e) {\n      result = '';\n    }\n  }\n  return result;\n}\n\nfunction plistParser(xmlStr) {\n  const tags = ['array', 'dict', 'key', 'string', 'integer', 'date', 'real', 'data', 'boolean', 'arrayEmpty'];\n  const startStr = '<plist version';\n\n  let pos = xmlStr.indexOf(startStr);\n  let len = xmlStr.length;\n  while (xmlStr[pos] !== '>' && pos < len) {\n    pos++;\n  }\n\n  let depth = 0;\n  let inTagStart = false;\n  let inTagContent = false;\n  let inTagEnd = false;\n  let metaData = [{ tagStart: '', tagEnd: '', tagContent: '', key: '', data: null }];\n  let c = '';\n  let cn = xmlStr[pos];\n\n  while (pos < len) {\n    c = cn;\n    if (pos + 1 < len) { cn = xmlStr[pos + 1]; }\n    if (c === '<') {\n      inTagContent = false;\n      if (cn === '/') { inTagEnd = true; }\n      else if (metaData[depth].tagStart) {\n        metaData[depth].tagContent = '';\n        if (!metaData[depth].data) { metaData[depth].data = metaData[depth].tagStart === 'array' ? [] : {}; }\n        depth++;\n        metaData.push({ tagStart: '', tagEnd: '', tagContent: '', key: null, data: null });\n        inTagStart = true;\n        inTagContent = false;\n      }\n      else if (!inTagStart) { inTagStart = true; }\n    } else if (c === '>') {\n      if (metaData[depth].tagStart === 'true/') { inTagStart = false; inTagEnd = true; metaData[depth].tagStart = ''; metaData[depth].tagEnd = '/boolean'; metaData[depth].data = true; }\n      if (metaData[depth].tagStart === 'false/') { inTagStart = false; inTagEnd = true; metaData[depth].tagStart = ''; metaData[depth].tagEnd = '/boolean'; metaData[depth].data = false; }\n      if (metaData[depth].tagStart === 'array/') { inTagStart = false; inTagEnd = true; metaData[depth].tagStart = ''; metaData[depth].tagEnd = '/arrayEmpty'; metaData[depth].data = []; }\n      if (inTagContent) { inTagContent = false; }\n      if (inTagStart) {\n        inTagStart = false;\n        inTagContent = true;\n        if (metaData[depth].tagStart === 'array') {\n          metaData[depth].data = [];\n        }\n        if (metaData[depth].tagStart === 'dict') {\n          metaData[depth].data = {};\n        }\n      }\n      if (inTagEnd) {\n        inTagEnd = false;\n        if (metaData[depth].tagEnd && tags.indexOf(metaData[depth].tagEnd.substr(1)) >= 0) {\n          if (metaData[depth].tagEnd === '/dict' || metaData[depth].tagEnd === '/array') {\n            if (depth > 1 && metaData[depth - 2].tagStart === 'array') {\n              metaData[depth - 2].data.push(metaData[depth - 1].data);\n            }\n            if (depth > 1 && metaData[depth - 2].tagStart === 'dict') {\n              metaData[depth - 2].data[metaData[depth - 1].key] = metaData[depth - 1].data;\n            }\n            depth--;\n            metaData.pop();\n            metaData[depth].tagContent = '';\n            metaData[depth].tagStart = '';\n            metaData[depth].tagEnd = '';\n          }\n          else {\n            if (metaData[depth].tagEnd === '/key' && metaData[depth].tagContent) {\n              metaData[depth].key = metaData[depth].tagContent;\n            } else {\n              if (metaData[depth].tagEnd === '/real' && metaData[depth].tagContent) { metaData[depth].data = parseFloat(metaData[depth].tagContent) || 0; }\n              if (metaData[depth].tagEnd === '/integer' && metaData[depth].tagContent) { metaData[depth].data = parseInt(metaData[depth].tagContent) || 0; }\n              if (metaData[depth].tagEnd === '/string' && metaData[depth].tagContent) { metaData[depth].data = metaData[depth].tagContent || ''; }\n              if (metaData[depth].tagEnd === '/boolean') { metaData[depth].data = metaData[depth].tagContent || false; }\n              if (metaData[depth].tagEnd === '/arrayEmpty') { metaData[depth].data = metaData[depth].tagContent || []; }\n              if (depth > 0 && metaData[depth - 1].tagStart === 'array') { metaData[depth - 1].data.push(metaData[depth].data); }\n              if (depth > 0 && metaData[depth - 1].tagStart === 'dict') { metaData[depth - 1].data[metaData[depth].key] = metaData[depth].data; }\n            }\n            metaData[depth].tagContent = '';\n            metaData[depth].tagStart = '';\n            metaData[depth].tagEnd = '';\n          }\n        }\n        metaData[depth].tagEnd = '';\n        inTagStart = false;\n        inTagContent = false;\n      }\n    } else {\n      if (inTagStart) { metaData[depth].tagStart += c; }\n      if (inTagEnd) { metaData[depth].tagEnd += c; }\n      if (inTagContent) { metaData[depth].tagContent += c; }\n    }\n    pos++;\n  }\n  return metaData[0].data;\n}\n\nfunction strIsNumeric(str) {\n  return typeof str === 'string' && !isNaN(str) && !isNaN(parseFloat(str));\n}\n\nfunction plistReader(output) {\n  const lines = output.split('\\n');\n  for (let i = 0; i < lines.length; i++) {\n    if (lines[i].indexOf(' = ') >= 0) {\n      const lineParts = lines[i].split(' = ');\n      lineParts[0] = lineParts[0].trim();\n      if (!lineParts[0].startsWith('\"')) {\n        lineParts[0] = '\"' + lineParts[0] + '\"';\n      }\n      lineParts[1] = lineParts[1].trim();\n      if (lineParts[1].indexOf('\"') === -1 && lineParts[1].endsWith(';')) {\n        const valueString = lineParts[1].substring(0, lineParts[1].length - 1);\n        if (!strIsNumeric(valueString)) {\n          lineParts[1] = `\"${valueString}\";`;\n        }\n      }\n      if (lineParts[1].indexOf('\"') >= 0 && lineParts[1].endsWith(';')) {\n        const valueString = lineParts[1].substring(0, lineParts[1].length - 1).replace(/\"/g, '');\n        if (strIsNumeric(valueString)) {\n          lineParts[1] = `${valueString};`;\n        }\n      }\n      lines[i] = lineParts.join(' : ');\n    }\n    lines[i] = lines[i].replace(/\\(/g, '[').replace(/\\)/g, ']').replace(/;/g, ',').trim();\n    if (lines[i].startsWith('}') && lines[i - 1] && lines[i - 1].endsWith(',')) {\n      lines[i - 1] = lines[i - 1].substring(0, lines[i - 1].length - 1);\n    }\n  }\n  output = lines.join('');\n  let obj = {};\n  try {\n    obj = JSON.parse(output);\n  } catch (e) {\n    noop();\n  }\n  return obj;\n}\n\nfunction semverCompare(v1, v2) {\n  let res = 0;\n  const parts1 = v1.split('.');\n  const parts2 = v2.split('.');\n  if (parts1[0] < parts2[0]) { res = 1; }\n  else if (parts1[0] > parts2[0]) { res = -1; }\n  else if (parts1[0] === parts2[0] && parts1.length >= 2 && parts2.length >= 2) {\n    if (parts1[1] < parts2[1]) { res = 1; }\n    else if (parts1[1] > parts2[1]) { res = -1; }\n    else if (parts1[1] === parts2[1]) {\n      if (parts1.length >= 3 && parts2.length >= 3) {\n        if (parts1[2] < parts2[2]) { res = 1; }\n        else if (parts1[2] > parts2[2]) { res = -1; }\n      } else if (parts2.length >= 3) {\n        res = 1;\n      }\n    }\n  }\n  return res;\n}\n\nfunction noop() { }\n\nexports.toInt = toInt;\nexports.execOptsWin = execOptsWin;\nexports.getCodepage = getCodepage;\nexports.execWin = execWin;\nexports.isFunction = isFunction;\nexports.unique = unique;\nexports.sortByKey = sortByKey;\nexports.cores = cores;\nexports.getValue = getValue;\nexports.decodeEscapeSequence = decodeEscapeSequence;\nexports.parseDateTime = parseDateTime;\nexports.parseHead = parseHead;\nexports.findObjectByKey = findObjectByKey;\nexports.getWmic = getWmic;\nexports.wmic = wmic;\nexports.darwinXcodeExists = darwinXcodeExists;\nexports.getVboxmanage = getVboxmanage;\nexports.powerShell = powerShell;\nexports.powerShellStart = powerShellStart;\nexports.powerShellRelease = powerShellRelease;\nexports.execSafe = execSafe;\nexports.nanoSeconds = nanoSeconds;\nexports.countUniqueLines = countUniqueLines;\nexports.countLines = countLines;\nexports.noop = noop;\nexports.isRaspberry = isRaspberry;\nexports.isRaspbian = isRaspbian;\nexports.sanitizeShellString = sanitizeShellString;\nexports.isPrototypePolluted = isPrototypePolluted;\nexports.decodePiCpuinfo = decodePiCpuinfo;\nexports.getRpiGpu = getRpiGpu;\nexports.promiseAll = promiseAll;\nexports.promisify = promisify;\nexports.promisifySave = promisifySave;\nexports.smartMonToolsInstalled = smartMonToolsInstalled;\nexports.linuxVersion = linuxVersion;\nexports.plistParser = plistParser;\nexports.plistReader = plistReader;\nexports.stringReplace = stringReplace;\nexports.stringToLower = stringToLower;\nexports.stringToString = stringToString;\nexports.stringSubstr = stringSubstr;\nexports.stringTrim = stringTrim;\nexports.stringStartWith = stringStartWith;\nexports.mathMin = mathMin;\nexports.WINDIR = WINDIR;\nexports.getFilesInPath = getFilesInPath;\nexports.semverCompare = semverCompare;\n","'use strict';\n// @ts-check\n// ==================================================================================\n// virtualbox.js\n// ----------------------------------------------------------------------------------\n// Description:   System Information - library\n//                for Node.js\n// Copyright:     (c) 2014 - 2023\n// Author:        Sebastian Hildebrandt\n// ----------------------------------------------------------------------------------\n// License:       MIT\n// ==================================================================================\n// 14. Docker\n// ----------------------------------------------------------------------------------\n\nconst os = require('os');\nconst exec = require('child_process').exec;\nconst util = require('./util');\n\nfunction vboxInfo(callback) {\n\n  // fallback - if only callback is given\n  let result = [];\n  return new Promise((resolve) => {\n    process.nextTick(() => {\n      try {\n        exec(util.getVboxmanage() + ' list vms --long', function (error, stdout) {\n          let parts = (os.EOL + stdout.toString()).split(os.EOL + 'Name:');\n          parts.shift();\n          parts.forEach(part => {\n            const lines = ('Name:' + part).split(os.EOL);\n            const state = util.getValue(lines, 'State');\n            const running = state.startsWith('running');\n            const runningSinceString = running ? state.replace('running (since ', '').replace(')', '').trim() : '';\n            let runningSince = 0;\n            try {\n              if (running) {\n                const sinceDateObj = new Date(runningSinceString);\n                const offset = sinceDateObj.getTimezoneOffset();\n                runningSince = Math.round((Date.now() - Date.parse(sinceDateObj)) / 1000) + offset * 60;\n              }\n            } catch (e) {\n              util.noop();\n            }\n            const stoppedSinceString = !running ? state.replace('powered off (since', '').replace(')', '').trim() : '';\n            let stoppedSince = 0;\n            try {\n              if (!running) {\n                const sinceDateObj = new Date(stoppedSinceString);\n                const offset = sinceDateObj.getTimezoneOffset();\n                stoppedSince = Math.round((Date.now() - Date.parse(sinceDateObj)) / 1000) + offset * 60;\n              }\n            } catch (e) {\n              util.noop();\n            }\n            result.push({\n              id: util.getValue(lines, 'UUID'),\n              name: util.getValue(lines, 'Name'),\n              running,\n              started: runningSinceString,\n              runningSince,\n              stopped: stoppedSinceString,\n              stoppedSince,\n              guestOS: util.getValue(lines, 'Guest OS'),\n              hardwareUUID: util.getValue(lines, 'Hardware UUID'),\n              memory: parseInt(util.getValue(lines, 'Memory size', '     '), 10),\n              vram: parseInt(util.getValue(lines, 'VRAM size'), 10),\n              cpus: parseInt(util.getValue(lines, 'Number of CPUs'), 10),\n              cpuExepCap: util.getValue(lines, 'CPU exec cap'),\n              cpuProfile: util.getValue(lines, 'CPUProfile'),\n              chipset: util.getValue(lines, 'Chipset'),\n              firmware: util.getValue(lines, 'Firmware'),\n              pageFusion: util.getValue(lines, 'Page Fusion') === 'enabled',\n              configFile: util.getValue(lines, 'Config file'),\n              snapshotFolder: util.getValue(lines, 'Snapshot folder'),\n              logFolder: util.getValue(lines, 'Log folder'),\n              hpet: util.getValue(lines, 'HPET') === 'enabled',\n              pae: util.getValue(lines, 'PAE') === 'enabled',\n              longMode: util.getValue(lines, 'Long Mode') === 'enabled',\n              tripleFaultReset: util.getValue(lines, 'Triple Fault Reset') === 'enabled',\n              apic: util.getValue(lines, 'APIC') === 'enabled',\n              x2Apic: util.getValue(lines, 'X2APIC') === 'enabled',\n              acpi: util.getValue(lines, 'ACPI') === 'enabled',\n              ioApic: util.getValue(lines, 'IOAPIC') === 'enabled',\n              biosApicMode: util.getValue(lines, 'BIOS APIC mode'),\n              bootMenuMode: util.getValue(lines, 'Boot menu mode'),\n              bootDevice1: util.getValue(lines, 'Boot Device 1'),\n              bootDevice2: util.getValue(lines, 'Boot Device 2'),\n              bootDevice3: util.getValue(lines, 'Boot Device 3'),\n              bootDevice4: util.getValue(lines, 'Boot Device 4'),\n              timeOffset: util.getValue(lines, 'Time offset'),\n              rtc: util.getValue(lines, 'RTC'),\n            });\n          });\n\n          if (callback) { callback(result); }\n          resolve(result);\n        });\n      } catch (e) {\n        if (callback) { callback(result); }\n        resolve(result);\n      }\n    });\n  });\n}\n\nexports.vboxInfo = vboxInfo;\n","'use strict';\n// @ts-check\n// ==================================================================================\n// wifi.js\n// ----------------------------------------------------------------------------------\n// Description:   System Information - library\n//                for Node.js\n// Copyright:     (c) 2014 - 2023\n// Author:        Sebastian Hildebrandt\n// ----------------------------------------------------------------------------------\n// License:       MIT\n// ==================================================================================\n// 9. wifi\n// ----------------------------------------------------------------------------------\n\nconst os = require('os');\nconst exec = require('child_process').exec;\nconst execSync = require('child_process').execSync;\nconst util = require('./util');\n\nlet _platform = process.platform;\n\nconst _linux = (_platform === 'linux' || _platform === 'android');\nconst _darwin = (_platform === 'darwin');\nconst _windows = (_platform === 'win32');\n\nfunction wifiDBFromQuality(quality) {\n  return (parseFloat(quality) / 2 - 100);\n}\n\nfunction wifiQualityFromDB(db) {\n  const result = 2 * (parseFloat(db) + 100);\n  return result <= 100 ? result : 100;\n}\n\nconst _wifi_frequencies = {\n  1: 2412,\n  2: 2417,\n  3: 2422,\n  4: 2427,\n  5: 2432,\n  6: 2437,\n  7: 2442,\n  8: 2447,\n  9: 2452,\n  10: 2457,\n  11: 2462,\n  12: 2467,\n  13: 2472,\n  14: 2484,\n  32: 5160,\n  34: 5170,\n  36: 5180,\n  38: 5190,\n  40: 5200,\n  42: 5210,\n  44: 5220,\n  46: 5230,\n  48: 5240,\n  50: 5250,\n  52: 5260,\n  54: 5270,\n  56: 5280,\n  58: 5290,\n  60: 5300,\n  62: 5310,\n  64: 5320,\n  68: 5340,\n  96: 5480,\n  100: 5500,\n  102: 5510,\n  104: 5520,\n  106: 5530,\n  108: 5540,\n  110: 5550,\n  112: 5560,\n  114: 5570,\n  116: 5580,\n  118: 5590,\n  120: 5600,\n  122: 5610,\n  124: 5620,\n  126: 5630,\n  128: 5640,\n  132: 5660,\n  134: 5670,\n  136: 5680,\n  138: 5690,\n  140: 5700,\n  142: 5710,\n  144: 5720,\n  149: 5745,\n  151: 5755,\n  153: 5765,\n  155: 5775,\n  157: 5785,\n  159: 5795,\n  161: 5805,\n  165: 5825,\n  169: 5845,\n  173: 5865,\n  183: 4915,\n  184: 4920,\n  185: 4925,\n  187: 4935,\n  188: 4940,\n  189: 4945,\n  192: 4960,\n  196: 4980\n};\n\nfunction wifiFrequencyFromChannel(channel) {\n  return {}.hasOwnProperty.call(_wifi_frequencies, channel) ? _wifi_frequencies[channel] : null;\n}\n\nfunction wifiChannelFromFrequencs(frequency) {\n  let channel = 0;\n  for (let key in _wifi_frequencies) {\n    if ({}.hasOwnProperty.call(_wifi_frequencies, key)) {\n      if (_wifi_frequencies[key] === frequency) { channel = util.toInt(key); }\n    }\n  }\n  return channel;\n}\n\nfunction ifaceListLinux() {\n  const result = [];\n  const cmd = 'iw dev 2>/dev/null';\n  try {\n    const all = execSync(cmd).toString().split('\\n').map(line => line.trim()).join('\\n');\n    const parts = all.split('\\nInterface ');\n    parts.shift();\n    parts.forEach(ifaceDetails => {\n      const lines = ifaceDetails.split('\\n');\n      const iface = lines[0];\n      const id = util.toInt(util.getValue(lines, 'ifindex', ' '));\n      const mac = util.getValue(lines, 'addr', ' ');\n      const channel = util.toInt(util.getValue(lines, 'channel', ' '));\n      result.push({\n        id,\n        iface,\n        mac,\n        channel\n      });\n    });\n    return result;\n  } catch (e) {\n    try {\n      const all = execSync('nmcli -t -f general,wifi-properties,wired-properties,interface-flags,capabilities,nsp device show 2>/dev/null').toString();\n      const parts = all.split('\\n\\n');\n      let i = 1;\n      parts.forEach(ifaceDetails => {\n        const lines = ifaceDetails.split('\\n');\n        const iface = util.getValue(lines, 'GENERAL.DEVICE');\n        const type = util.getValue(lines, 'GENERAL.TYPE');\n        const id = i++; // // util.getValue(lines, 'GENERAL.PATH');\n        const mac = util.getValue(lines, 'GENERAL.HWADDR');\n        const channel = '';\n        if (type.toLowerCase() === 'wifi') {\n          result.push({\n            id,\n            iface,\n            mac,\n            channel\n          });\n        }\n      });\n      return result;\n    } catch (e) {\n      return [];\n    }\n  }\n}\n\nfunction nmiDeviceLinux(iface) {\n  const cmd = `nmcli -t -f general,wifi-properties,capabilities,ip4,ip6 device show ${iface} 2>/dev/null`;\n  try {\n    const lines = execSync(cmd).toString().split('\\n');\n    const ssid = util.getValue(lines, 'GENERAL.CONNECTION');\n    return {\n      iface,\n      type: util.getValue(lines, 'GENERAL.TYPE'),\n      vendor: util.getValue(lines, 'GENERAL.VENDOR'),\n      product: util.getValue(lines, 'GENERAL.PRODUCT'),\n      mac: util.getValue(lines, 'GENERAL.HWADDR').toLowerCase(),\n      ssid: ssid !== '--' ? ssid : null\n    };\n  } catch (e) {\n    return {};\n  }\n}\n\nfunction nmiConnectionLinux(ssid) {\n  const cmd = `nmcli -t --show-secrets connection show ${ssid} 2>/dev/null`;\n  try {\n    const lines = execSync(cmd).toString().split('\\n');\n    const bssid = util.getValue(lines, '802-11-wireless.seen-bssids').toLowerCase();\n    return {\n      ssid: ssid !== '--' ? ssid : null,\n      uuid: util.getValue(lines, 'connection.uuid'),\n      type: util.getValue(lines, 'connection.type'),\n      autoconnect: util.getValue(lines, 'connection.autoconnect') === 'yes',\n      security: util.getValue(lines, '802-11-wireless-security.key-mgmt'),\n      bssid: bssid !== '--' ? bssid : null\n    };\n  } catch (e) {\n    return {};\n  }\n}\n\nfunction wpaConnectionLinux(iface) {\n  if (!iface) {\n    return {};\n  }\n  const cmd = `wpa_cli -i ${iface} status 2>&1`;\n  try {\n    const lines = execSync(cmd).toString().split('\\n');\n    const freq = util.toInt(util.getValue(lines, 'freq', '='));\n    return {\n      ssid: util.getValue(lines, 'ssid', '='),\n      uuid: util.getValue(lines, 'uuid', '='),\n      security: util.getValue(lines, 'key_mgmt', '='),\n      freq,\n      channel: wifiChannelFromFrequencs(freq),\n      bssid: util.getValue(lines, 'bssid', '=').toLowerCase()\n    };\n  } catch (e) {\n    return {};\n  }\n}\n\nfunction getWifiNetworkListNmi() {\n  const result = [];\n  const cmd = 'nmcli -t -m multiline --fields active,ssid,bssid,mode,chan,freq,signal,security,wpa-flags,rsn-flags device wifi list 2>/dev/null';\n  try {\n    const stdout = execSync(cmd, { maxBuffer: 1024 * 20000 });\n    const parts = stdout.toString().split('ACTIVE:');\n    parts.shift();\n    parts.forEach(part => {\n      part = 'ACTIVE:' + part;\n      const lines = part.split(os.EOL);\n      const channel = util.getValue(lines, 'CHAN');\n      const frequency = util.getValue(lines, 'FREQ').toLowerCase().replace('mhz', '').trim();\n      const security = util.getValue(lines, 'SECURITY').replace('(', '').replace(')', '');\n      const wpaFlags = util.getValue(lines, 'WPA-FLAGS').replace('(', '').replace(')', '');\n      const rsnFlags = util.getValue(lines, 'RSN-FLAGS').replace('(', '').replace(')', '');\n      result.push({\n        ssid: util.getValue(lines, 'SSID'),\n        bssid: util.getValue(lines, 'BSSID').toLowerCase(),\n        mode: util.getValue(lines, 'MODE'),\n        channel: channel ? parseInt(channel, 10) : null,\n        frequency: frequency ? parseInt(frequency, 10) : null,\n        signalLevel: wifiDBFromQuality(util.getValue(lines, 'SIGNAL')),\n        quality: parseFloat(util.getValue(lines, 'SIGNAL')),\n        security: security && security !== 'none' ? security.split(' ') : [],\n        wpaFlags: wpaFlags && wpaFlags !== 'none' ? wpaFlags.split(' ') : [],\n        rsnFlags: rsnFlags && rsnFlags !== 'none' ? rsnFlags.split(' ') : []\n      });\n    });\n    return result;\n  } catch (e) {\n    return [];\n  }\n}\n\nfunction getWifiNetworkListIw(iface) {\n  const result = [];\n  try {\n    let iwlistParts = execSync(`export LC_ALL=C; iwlist ${iface} scan 2>&1; unset LC_ALL`).toString().split('        Cell ');\n    if (iwlistParts[0].indexOf('resource busy') >= 0) { return -1; }\n    if (iwlistParts.length > 1) {\n      iwlistParts.shift();\n      iwlistParts.forEach(element => {\n        const lines = element.split('\\n');\n        const channel = util.getValue(lines, 'channel', ':', true);\n        const address = (lines && lines.length && lines[0].indexOf('Address:') >= 0 ? lines[0].split('Address:')[1].trim().toLowerCase() : '');\n        const mode = util.getValue(lines, 'mode', ':', true);\n        const frequency = util.getValue(lines, 'frequency', ':', true);\n        const qualityString = util.getValue(lines, 'Quality', '=', true);\n        const dbParts = qualityString.toLowerCase().split('signal level=');\n        const db = dbParts.length > 1 ? util.toInt(dbParts[1]) : 0;\n        const quality = db ? wifiQualityFromDB(db) : 0;\n        const ssid = util.getValue(lines, 'essid', ':', true);\n\n        // security and wpa-flags\n        const isWpa = element.indexOf(' WPA ') >= 0;\n        const isWpa2 = element.indexOf('WPA2 ') >= 0;\n        const security = [];\n        if (isWpa) { security.push('WPA'); }\n        if (isWpa2) { security.push('WPA2'); }\n        const wpaFlags = [];\n        let wpaFlag = '';\n        lines.forEach(function (line) {\n          const l = line.trim().toLowerCase();\n          if (l.indexOf('group cipher') >= 0) {\n            if (wpaFlag) {\n              wpaFlags.push(wpaFlag);\n            }\n            const parts = l.split(':');\n            if (parts.length > 1) {\n              wpaFlag = parts[1].trim().toUpperCase();\n            }\n          }\n          if (l.indexOf('pairwise cipher') >= 0) {\n            const parts = l.split(':');\n            if (parts.length > 1) {\n              if (parts[1].indexOf('tkip')) { wpaFlag = (wpaFlag ? 'TKIP/' + wpaFlag : 'TKIP'); }\n              else if (parts[1].indexOf('ccmp')) { wpaFlag = (wpaFlag ? 'CCMP/' + wpaFlag : 'CCMP'); }\n              else if (parts[1].indexOf('proprietary')) { wpaFlag = (wpaFlag ? 'PROP/' + wpaFlag : 'PROP'); }\n            }\n          }\n          if (l.indexOf('authentication suites') >= 0) {\n            const parts = l.split(':');\n            if (parts.length > 1) {\n              if (parts[1].indexOf('802.1x')) { wpaFlag = (wpaFlag ? '802.1x/' + wpaFlag : '802.1x'); }\n              else if (parts[1].indexOf('psk')) { wpaFlag = (wpaFlag ? 'PSK/' + wpaFlag : 'PSK'); }\n            }\n          }\n        });\n        if (wpaFlag) {\n          wpaFlags.push(wpaFlag);\n        }\n\n        result.push({\n          ssid,\n          bssid: address,\n          mode,\n          channel: channel ? util.toInt(channel) : null,\n          frequency: frequency ? util.toInt(frequency.replace('.', '')) : null,\n          signalLevel: db,\n          quality,\n          security,\n          wpaFlags,\n          rsnFlags: []\n        });\n      });\n    }\n    return result;\n  } catch (e) {\n    return -1;\n  }\n}\n\nfunction parseWifiDarwin(wifiObj) {\n  const result = [];\n  if (wifiObj) {\n    wifiObj.forEach(function (wifiItem) {\n      const signalLevel = wifiItem.RSSI;\n      let security = [];\n      let wpaFlags = [];\n      let ssid = wifiItem.SSID_STR || '';\n      if (wifiItem.WPA_IE) {\n        security.push('WPA');\n        if (wifiItem.WPA_IE.IE_KEY_WPA_UCIPHERS) {\n          wifiItem.WPA_IE.IE_KEY_WPA_UCIPHERS.forEach(function (ciphers) {\n            if (ciphers === 0 && wpaFlags.indexOf('unknown/TKIP') === -1) { wpaFlags.push('unknown/TKIP'); }\n            if (ciphers === 2 && wpaFlags.indexOf('PSK/TKIP') === -1) { wpaFlags.push('PSK/TKIP'); }\n            if (ciphers === 4 && wpaFlags.indexOf('PSK/AES') === -1) { wpaFlags.push('PSK/AES'); }\n          });\n        }\n      }\n      if (wifiItem.RSN_IE) {\n        security.push('WPA2');\n        if (wifiItem.RSN_IE.IE_KEY_RSN_UCIPHERS) {\n          wifiItem.RSN_IE.IE_KEY_RSN_UCIPHERS.forEach(function (ciphers) {\n            if (ciphers === 0 && wpaFlags.indexOf('unknown/TKIP') === -1) { wpaFlags.push('unknown/TKIP'); }\n            if (ciphers === 2 && wpaFlags.indexOf('TKIP/TKIP') === -1) { wpaFlags.push('TKIP/TKIP'); }\n            if (ciphers === 4 && wpaFlags.indexOf('PSK/AES') === -1) { wpaFlags.push('PSK/AES'); }\n          });\n        }\n      }\n      if (wifiItem.SSID && ssid === '') {\n        try {\n          ssid = Buffer.from(wifiItem.SSID, 'base64').toString('utf8');\n        } catch (err) {\n          util.noop();\n        }\n      }\n      result.push({\n        ssid,\n        bssid: wifiItem.BSSID || '',\n        mode: '',\n        channel: wifiItem.CHANNEL,\n        frequency: wifiFrequencyFromChannel(wifiItem.CHANNEL),\n        signalLevel: signalLevel ? parseInt(signalLevel, 10) : null,\n        quality: wifiQualityFromDB(signalLevel),\n        security,\n        wpaFlags,\n        rsnFlags: []\n      });\n    });\n  }\n  return result;\n}\nfunction wifiNetworks(callback) {\n  return new Promise((resolve) => {\n    process.nextTick(() => {\n      let result = [];\n      if (_linux) {\n        result = getWifiNetworkListNmi();\n        if (result.length === 0) {\n          try {\n            const iwconfigParts = execSync('export LC_ALL=C; iwconfig 2>/dev/null; unset LC_ALL').toString().split('\\n\\n');\n            let iface = '';\n            iwconfigParts.forEach(element => {\n              if (element.indexOf('no wireless') === -1 && element.trim() !== '') {\n                iface = element.split(' ')[0];\n              }\n            });\n            if (iface) {\n              let ifaceSanitized = '';\n              const s = util.isPrototypePolluted() ? '---' : util.sanitizeShellString(iface, true);\n              const l = util.mathMin(s.length, 2000);\n\n              for (let i = 0; i <= l; i++) {\n                if (s[i] !== undefined) {\n                  ifaceSanitized = ifaceSanitized + s[i];\n                }\n              }\n\n              const res = getWifiNetworkListIw(ifaceSanitized);\n              if (res === -1) {\n                // try again after 4 secs\n                setTimeout(function (iface) {\n                  const res = getWifiNetworkListIw(iface);\n                  if (res != -1) { result = res; }\n                  if (callback) {\n                    callback(result);\n                  }\n                  resolve(result);\n                }, 4000);\n              } else {\n                result = res;\n                if (callback) {\n                  callback(result);\n                }\n                resolve(result);\n              }\n            } else {\n              if (callback) {\n                callback(result);\n              }\n              resolve(result);\n            }\n          } catch (e) {\n            if (callback) {\n              callback(result);\n            }\n            resolve(result);\n          }\n        } else {\n          if (callback) {\n            callback(result);\n          }\n          resolve(result);\n        }\n      } else if (_darwin) {\n        let cmd = '/System/Library/PrivateFrameworks/Apple80211.framework/Versions/Current/Resources/airport -s -x';\n        exec(cmd, { maxBuffer: 1024 * 40000 }, function (error, stdout) {\n          const output = stdout.toString();\n          result = parseWifiDarwin(util.plistParser(output));\n          if (callback) {\n            callback(result);\n          }\n          resolve(result);\n        });\n      } else if (_windows) {\n        let cmd = 'netsh wlan show networks mode=Bssid';\n        util.powerShell(cmd).then((stdout) => {\n          const ssidParts = stdout.toString('utf8').split(os.EOL + os.EOL + 'SSID ');\n          ssidParts.shift();\n\n          ssidParts.forEach(ssidPart => {\n            const ssidLines = ssidPart.split(os.EOL);\n            if (ssidLines && ssidLines.length >= 8 && ssidLines[0].indexOf(':') >= 0) {\n              const bssidsParts = ssidPart.split(' BSSID');\n              bssidsParts.shift();\n\n              bssidsParts.forEach((bssidPart) => {\n                const bssidLines = bssidPart.split(os.EOL);\n                const bssidLine = bssidLines[0].split(':');\n                bssidLine.shift();\n                const bssid = bssidLine.join(':').trim().toLowerCase();\n                const channel = bssidLines[3].split(':').pop().trim();\n                const quality = bssidLines[1].split(':').pop().trim();\n\n                result.push({\n                  ssid: ssidLines[0].split(':').pop().trim(),\n                  bssid,\n                  mode: '',\n                  channel: channel ? parseInt(channel, 10) : null,\n                  frequency: wifiFrequencyFromChannel(channel),\n                  signalLevel: wifiDBFromQuality(quality),\n                  quality: quality ? parseInt(quality, 10) : null,\n                  security: [ssidLines[2].split(':').pop().trim()],\n                  wpaFlags: [ssidLines[3].split(':').pop().trim()],\n                  rsnFlags: []\n                });\n              });\n            }\n          });\n\n          if (callback) {\n            callback(result);\n          }\n          resolve(result);\n        });\n      } else {\n        if (callback) {\n          callback(result);\n        }\n        resolve(result);\n      }\n    });\n  });\n}\n\nexports.wifiNetworks = wifiNetworks;\n\nfunction getVendor(model) {\n  model = model.toLowerCase();\n  let result = '';\n  if (model.indexOf('intel') >= 0) { result = 'Intel'; }\n  else if (model.indexOf('realtek') >= 0) { result = 'Realtek'; }\n  else if (model.indexOf('qualcom') >= 0) { result = 'Qualcom'; }\n  else if (model.indexOf('broadcom') >= 0) { result = 'Broadcom'; }\n  else if (model.indexOf('cavium') >= 0) { result = 'Cavium'; }\n  else if (model.indexOf('cisco') >= 0) { result = 'Cisco'; }\n  else if (model.indexOf('marvel') >= 0) { result = 'Marvel'; }\n  else if (model.indexOf('zyxel') >= 0) { result = 'Zyxel'; }\n  else if (model.indexOf('melanox') >= 0) { result = 'Melanox'; }\n  else if (model.indexOf('d-link') >= 0) { result = 'D-Link'; }\n  else if (model.indexOf('tp-link') >= 0) { result = 'TP-Link'; }\n  else if (model.indexOf('asus') >= 0) { result = 'Asus'; }\n  else if (model.indexOf('linksys') >= 0) { result = 'Linksys'; }\n  return result;\n}\n\nfunction wifiConnections(callback) {\n\n  return new Promise((resolve) => {\n    process.nextTick(() => {\n      const result = [];\n\n      if (_linux) {\n        const ifaces = ifaceListLinux();\n        const networkList = getWifiNetworkListNmi();\n        ifaces.forEach(ifaceDetail => {\n          let ifaceSanitized = '';\n          const s = util.isPrototypePolluted() ? '---' : util.sanitizeShellString(ifaceDetail.iface, true);\n          const ll = util.mathMin(s.length, 2000);\n\n          for (let i = 0; i <= ll; i++) {\n            if (s[i] !== undefined) {\n              ifaceSanitized = ifaceSanitized + s[i];\n            }\n          }\n\n          const nmiDetails = nmiDeviceLinux(ifaceSanitized);\n          const wpaDetails = wpaConnectionLinux(ifaceSanitized);\n          const ssid = nmiDetails.ssid || wpaDetails.ssid;\n          const network = networkList.filter(nw => nw.ssid === ssid);\n          let ssidSanitized = '';\n          const t = util.isPrototypePolluted() ? '---' : util.sanitizeShellString(ssid, true);\n          const l = util.mathMin(t.length, 2000);\n          for (let i = 0; i <= l; i++) {\n            if (t[i] !== undefined) {\n              ssidSanitized = ssidSanitized + t[i];\n            }\n          }\n\n          const nmiConnection = nmiConnectionLinux(ssidSanitized);\n          const channel = network && network.length && network[0].channel ? network[0].channel : (wpaDetails.channel ? wpaDetails.channel : null);\n          const bssid = network && network.length && network[0].bssid ? network[0].bssid : (wpaDetails.bssid ? wpaDetails.bssid : null);\n          if (ssid && bssid) {\n            result.push({\n              id: ifaceDetail.id,\n              iface: ifaceDetail.iface,\n              model: nmiDetails.product,\n              ssid,\n              bssid: network && network.length && network[0].bssid ? network[0].bssid : (wpaDetails.bssid ? wpaDetails.bssid : null),\n              channel,\n              frequency: channel ? wifiFrequencyFromChannel(channel) : null,\n              type: nmiConnection.type ? nmiConnection.type : '802.11',\n              security: nmiConnection.security ? nmiConnection.security : (wpaDetails.security ? wpaDetails.security : null),\n              signalLevel: network && network.length && network[0].signalLevel ? network[0].signalLevel : null,\n              txRate: null\n            });\n          }\n        });\n        if (callback) {\n          callback(result);\n        }\n        resolve(result);\n      } else if (_darwin) {\n        let cmd = 'system_profiler SPNetworkDataType';\n        exec(cmd, function (error, stdout) {\n          const parts1 = stdout.toString().split('\\n\\n    Wi-Fi:\\n\\n');\n          if (parts1.length > 1) {\n            const lines = parts1[1].split('\\n\\n')[0].split('\\n');\n            const iface = util.getValue(lines, 'BSD Device Name', ':', true);\n            const model = util.getValue(lines, 'hardware', ':', true);\n            cmd = '/System/Library/PrivateFrameworks/Apple80211.framework/Versions/Current/Resources/airport -I';\n            exec(cmd, function (error, stdout) {\n              const lines2 = stdout.toString().split('\\n');\n              if (lines.length > 10) {\n                const ssid = util.getValue(lines2, 'ssid', ':', true);\n                const bssid = util.getValue(lines2, 'bssid', ':', true);\n                const security = util.getValue(lines2, 'link auth', ':', true);\n                const txRate = util.getValue(lines2, 'lastTxRate', ':', true);\n                const channel = util.getValue(lines2, 'channel', ':', true).split(',')[0];\n                const type = '802.11';\n                const rssi = util.toInt(util.getValue(lines2, 'agrCtlRSSI', ':', true));\n                const noise = util.toInt(util.getValue(lines2, 'agrCtlNoise', ':', true));\n                const signalLevel = rssi - noise;\n                if (ssid || bssid) {\n                  result.push({\n                    id: 'Wi-Fi',\n                    iface,\n                    model,\n                    ssid,\n                    bssid,\n                    channel: util.toInt(channel),\n                    frequency: channel ? wifiFrequencyFromChannel(channel) : null,\n                    type,\n                    security,\n                    signalLevel,\n                    txRate\n                  });\n                }\n              }\n              if (callback) {\n                callback(result);\n              }\n              resolve(result);\n            });\n          } else {\n            if (callback) {\n              callback(result);\n            }\n            resolve(result);\n          }\n        });\n      } else if (_windows) {\n        let cmd = 'netsh wlan show interfaces';\n        util.powerShell(cmd).then(function (stdout) {\n          const allLines = stdout.toString().split('\\r\\n');\n          for (let i = 0; i < allLines.length; i++) {\n            allLines[i] = allLines[i].trim();\n          }\n          const parts = allLines.join('\\r\\n').split(':\\r\\n\\r\\n');\n          parts.shift();\n          parts.forEach(part => {\n            const lines = part.split('\\r\\n');\n            if (lines.length >= 5) {\n              const iface = lines[0].indexOf(':') >= 0 ? lines[0].split(':')[1].trim() : '';\n              const model = lines[1].indexOf(':') >= 0 ? lines[1].split(':')[1].trim() : '';\n              const id = lines[2].indexOf(':') >= 0 ? lines[2].split(':')[1].trim() : '';\n              const ssid = util.getValue(lines, 'SSID', ':', true);\n              const bssid = util.getValue(lines, 'BSSID', ':', true);\n              const signalLevel = util.getValue(lines, 'Signal', ':', true);\n              const type = util.getValue(lines, 'Radio type', ':', true) || util.getValue(lines, 'Type de radio', ':', true) || util.getValue(lines, 'Funktyp', ':', true) || null;\n              const security = util.getValue(lines, 'authentication', ':', true) || util.getValue(lines, 'Authentification', ':', true) || util.getValue(lines, 'Authentifizierung', ':', true) || null;\n              const channel = util.getValue(lines, 'Channel', ':', true) || util.getValue(lines, 'Canal', ':', true) || util.getValue(lines, 'Kanal', ':', true) || null;\n              const txRate = util.getValue(lines, 'Transmit rate (mbps)', ':', true) || util.getValue(lines, 'Transmission (mbit/s)', ':', true) || util.getValue(lines, 'Empfangsrate (MBit/s)', ':', true) || null;\n              if (model && id && ssid && bssid) {\n                result.push({\n                  id,\n                  iface,\n                  model,\n                  ssid,\n                  bssid,\n                  channel: util.toInt(channel),\n                  frequency: channel ? wifiFrequencyFromChannel(channel) : null,\n                  type,\n                  security,\n                  signalLevel,\n                  txRate: util.toInt(txRate) || null\n                });\n              }\n            }\n          });\n          if (callback) {\n            callback(result);\n          }\n          resolve(result);\n        });\n      } else {\n        if (callback) {\n          callback(result);\n        }\n        resolve(result);\n      }\n    });\n  });\n}\n\nexports.wifiConnections = wifiConnections;\n\nfunction wifiInterfaces(callback) {\n\n  return new Promise((resolve) => {\n    process.nextTick(() => {\n      const result = [];\n\n      if (_linux) {\n        const ifaces = ifaceListLinux();\n        ifaces.forEach(ifaceDetail => {\n          const nmiDetails = nmiDeviceLinux(ifaceDetail.iface);\n          result.push({\n            id: ifaceDetail.id,\n            iface: ifaceDetail.iface,\n            model: nmiDetails.product ? nmiDetails.product : null,\n            vendor: nmiDetails.vendor ? nmiDetails.vendor : null,\n            mac: ifaceDetail.mac,\n          });\n        });\n        if (callback) {\n          callback(result);\n        }\n        resolve(result);\n      } else if (_darwin) {\n        let cmd = 'system_profiler SPNetworkDataType';\n        exec(cmd, function (error, stdout) {\n          const parts1 = stdout.toString().split('\\n\\n    Wi-Fi:\\n\\n');\n          if (parts1.length > 1) {\n            const lines = parts1[1].split('\\n\\n')[0].split('\\n');\n            const iface = util.getValue(lines, 'BSD Device Name', ':', true);\n            const mac = util.getValue(lines, 'MAC Address', ':', true);\n            const model = util.getValue(lines, 'hardware', ':', true);\n            result.push({\n              id: 'Wi-Fi',\n              iface,\n              model,\n              vendor: '',\n              mac\n            });\n          }\n          if (callback) {\n            callback(result);\n          }\n          resolve(result);\n        });\n      } else if (_windows) {\n        let cmd = 'netsh wlan show interfaces';\n        util.powerShell(cmd).then(function (stdout) {\n          const allLines = stdout.toString().split('\\r\\n');\n          for (let i = 0; i < allLines.length; i++) {\n            allLines[i] = allLines[i].trim();\n          }\n          const parts = allLines.join('\\r\\n').split(':\\r\\n\\r\\n');\n          parts.shift();\n          parts.forEach(part => {\n            const lines = part.split('\\r\\n');\n            if (lines.length >= 5) {\n              const iface = lines[0].indexOf(':') >= 0 ? lines[0].split(':')[1].trim() : '';\n              const model = lines[1].indexOf(':') >= 0 ? lines[1].split(':')[1].trim() : '';\n              const id = lines[2].indexOf(':') >= 0 ? lines[2].split(':')[1].trim() : '';\n              const macParts = lines[3].indexOf(':') >= 0 ? lines[3].split(':') : [];\n              macParts.shift();\n              const mac = macParts.join(':').trim();\n              const vendor = getVendor(model);\n              if (iface && model && id && mac) {\n                result.push({\n                  id,\n                  iface,\n                  model,\n                  vendor,\n                  mac,\n                });\n              }\n            }\n          });\n          if (callback) {\n            callback(result);\n          }\n          resolve(result);\n        });\n      } else {\n        if (callback) {\n          callback(result);\n        }\n        resolve(result);\n      }\n    });\n  });\n}\n\nexports.wifiInterfaces = wifiInterfaces;\n","/*!\n * Tmp\n *\n * Copyright (c) 2011-2017 KARASZI Istvan <github@spam.raszi.hu>\n *\n * MIT Licensed\n */\n\n/*\n * Module dependencies.\n */\nconst fs = require('fs');\nconst os = require('os');\nconst path = require('path');\nconst crypto = require('crypto');\nconst _c = { fs: fs.constants, os: os.constants };\nconst rimraf = require('rimraf');\n\n/*\n * The working inner variables.\n */\nconst\n  // the random characters to choose from\n  RANDOM_CHARS = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz',\n\n  TEMPLATE_PATTERN = /XXXXXX/,\n\n  DEFAULT_TRIES = 3,\n\n  CREATE_FLAGS = (_c.O_CREAT || _c.fs.O_CREAT) | (_c.O_EXCL || _c.fs.O_EXCL) | (_c.O_RDWR || _c.fs.O_RDWR),\n\n  // constants are off on the windows platform and will not match the actual errno codes\n  IS_WIN32 = os.platform() === 'win32',\n  EBADF = _c.EBADF || _c.os.errno.EBADF,\n  ENOENT = _c.ENOENT || _c.os.errno.ENOENT,\n\n  DIR_MODE = 0o700 /* 448 */,\n  FILE_MODE = 0o600 /* 384 */,\n\n  EXIT = 'exit',\n\n  // this will hold the objects need to be removed on exit\n  _removeObjects = [],\n\n  // API change in fs.rmdirSync leads to error when passing in a second parameter, e.g. the callback\n  FN_RMDIR_SYNC = fs.rmdirSync.bind(fs),\n  FN_RIMRAF_SYNC = rimraf.sync;\n\nlet\n  _gracefulCleanup = false;\n\n/**\n * Gets a temporary file name.\n *\n * @param {(Options|tmpNameCallback)} options options or callback\n * @param {?tmpNameCallback} callback the callback function\n */\nfunction tmpName(options, callback) {\n  const\n    args = _parseArguments(options, callback),\n    opts = args[0],\n    cb = args[1];\n\n  try {\n    _assertAndSanitizeOptions(opts);\n  } catch (err) {\n    return cb(err);\n  }\n\n  let tries = opts.tries;\n  (function _getUniqueName() {\n    try {\n      const name = _generateTmpName(opts);\n\n      // check whether the path exists then retry if needed\n      fs.stat(name, function (err) {\n        /* istanbul ignore else */\n        if (!err) {\n          /* istanbul ignore else */\n          if (tries-- > 0) return _getUniqueName();\n\n          return cb(new Error('Could not get a unique tmp filename, max tries reached ' + name));\n        }\n\n        cb(null, name);\n      });\n    } catch (err) {\n      cb(err);\n    }\n  }());\n}\n\n/**\n * Synchronous version of tmpName.\n *\n * @param {Object} options\n * @returns {string} the generated random name\n * @throws {Error} if the options are invalid or could not generate a filename\n */\nfunction tmpNameSync(options) {\n  const\n    args = _parseArguments(options),\n    opts = args[0];\n\n  _assertAndSanitizeOptions(opts);\n\n  let tries = opts.tries;\n  do {\n    const name = _generateTmpName(opts);\n    try {\n      fs.statSync(name);\n    } catch (e) {\n      return name;\n    }\n  } while (tries-- > 0);\n\n  throw new Error('Could not get a unique tmp filename, max tries reached');\n}\n\n/**\n * Creates and opens a temporary file.\n *\n * @param {(Options|null|undefined|fileCallback)} options the config options or the callback function or null or undefined\n * @param {?fileCallback} callback\n */\nfunction file(options, callback) {\n  const\n    args = _parseArguments(options, callback),\n    opts = args[0],\n    cb = args[1];\n\n  // gets a temporary filename\n  tmpName(opts, function _tmpNameCreated(err, name) {\n    /* istanbul ignore else */\n    if (err) return cb(err);\n\n    // create and open the file\n    fs.open(name, CREATE_FLAGS, opts.mode || FILE_MODE, function _fileCreated(err, fd) {\n      /* istanbu ignore else */\n      if (err) return cb(err);\n\n      if (opts.discardDescriptor) {\n        return fs.close(fd, function _discardCallback(possibleErr) {\n          // the chance of getting an error on close here is rather low and might occur in the most edgiest cases only\n          return cb(possibleErr, name, undefined, _prepareTmpFileRemoveCallback(name, -1, opts, false));\n        });\n      } else {\n        // detachDescriptor passes the descriptor whereas discardDescriptor closes it, either way, we no longer care\n        // about the descriptor\n        const discardOrDetachDescriptor = opts.discardDescriptor || opts.detachDescriptor;\n        cb(null, name, fd, _prepareTmpFileRemoveCallback(name, discardOrDetachDescriptor ? -1 : fd, opts, false));\n      }\n    });\n  });\n}\n\n/**\n * Synchronous version of file.\n *\n * @param {Options} options\n * @returns {FileSyncObject} object consists of name, fd and removeCallback\n * @throws {Error} if cannot create a file\n */\nfunction fileSync(options) {\n  const\n    args = _parseArguments(options),\n    opts = args[0];\n\n  const discardOrDetachDescriptor = opts.discardDescriptor || opts.detachDescriptor;\n  const name = tmpNameSync(opts);\n  var fd = fs.openSync(name, CREATE_FLAGS, opts.mode || FILE_MODE);\n  /* istanbul ignore else */\n  if (opts.discardDescriptor) {\n    fs.closeSync(fd);\n    fd = undefined;\n  }\n\n  return {\n    name: name,\n    fd: fd,\n    removeCallback: _prepareTmpFileRemoveCallback(name, discardOrDetachDescriptor ? -1 : fd, opts, true)\n  };\n}\n\n/**\n * Creates a temporary directory.\n *\n * @param {(Options|dirCallback)} options the options or the callback function\n * @param {?dirCallback} callback\n */\nfunction dir(options, callback) {\n  const\n    args = _parseArguments(options, callback),\n    opts = args[0],\n    cb = args[1];\n\n  // gets a temporary filename\n  tmpName(opts, function _tmpNameCreated(err, name) {\n    /* istanbul ignore else */\n    if (err) return cb(err);\n\n    // create the directory\n    fs.mkdir(name, opts.mode || DIR_MODE, function _dirCreated(err) {\n      /* istanbul ignore else */\n      if (err) return cb(err);\n\n      cb(null, name, _prepareTmpDirRemoveCallback(name, opts, false));\n    });\n  });\n}\n\n/**\n * Synchronous version of dir.\n *\n * @param {Options} options\n * @returns {DirSyncObject} object consists of name and removeCallback\n * @throws {Error} if it cannot create a directory\n */\nfunction dirSync(options) {\n  const\n    args = _parseArguments(options),\n    opts = args[0];\n\n  const name = tmpNameSync(opts);\n  fs.mkdirSync(name, opts.mode || DIR_MODE);\n\n  return {\n    name: name,\n    removeCallback: _prepareTmpDirRemoveCallback(name, opts, true)\n  };\n}\n\n/**\n * Removes files asynchronously.\n *\n * @param {Object} fdPath\n * @param {Function} next\n * @private\n */\nfunction _removeFileAsync(fdPath, next) {\n  const _handler = function (err) {\n    if (err && !_isENOENT(err)) {\n      // reraise any unanticipated error\n      return next(err);\n    }\n    next();\n  };\n\n  if (0 <= fdPath[0])\n    fs.close(fdPath[0], function () {\n      fs.unlink(fdPath[1], _handler);\n    });\n  else fs.unlink(fdPath[1], _handler);\n}\n\n/**\n * Removes files synchronously.\n *\n * @param {Object} fdPath\n * @private\n */\nfunction _removeFileSync(fdPath) {\n  let rethrownException = null;\n  try {\n    if (0 <= fdPath[0]) fs.closeSync(fdPath[0]);\n  } catch (e) {\n    // reraise any unanticipated error\n    if (!_isEBADF(e) && !_isENOENT(e)) throw e;\n  } finally {\n    try {\n      fs.unlinkSync(fdPath[1]);\n    }\n    catch (e) {\n      // reraise any unanticipated error\n      if (!_isENOENT(e)) rethrownException = e;\n    }\n  }\n  if (rethrownException !== null) {\n    throw rethrownException;\n  }\n}\n\n/**\n * Prepares the callback for removal of the temporary file.\n *\n * Returns either a sync callback or a async callback depending on whether\n * fileSync or file was called, which is expressed by the sync parameter.\n *\n * @param {string} name the path of the file\n * @param {number} fd file descriptor\n * @param {Object} opts\n * @param {boolean} sync\n * @returns {fileCallback | fileCallbackSync}\n * @private\n */\nfunction _prepareTmpFileRemoveCallback(name, fd, opts, sync) {\n  const removeCallbackSync = _prepareRemoveCallback(_removeFileSync, [fd, name], sync);\n  const removeCallback = _prepareRemoveCallback(_removeFileAsync, [fd, name], sync, removeCallbackSync);\n\n  if (!opts.keep) _removeObjects.unshift(removeCallbackSync);\n\n  return sync ? removeCallbackSync : removeCallback;\n}\n\n/**\n * Prepares the callback for removal of the temporary directory.\n *\n * Returns either a sync callback or a async callback depending on whether\n * tmpFileSync or tmpFile was called, which is expressed by the sync parameter.\n *\n * @param {string} name\n * @param {Object} opts\n * @param {boolean} sync\n * @returns {Function} the callback\n * @private\n */\nfunction _prepareTmpDirRemoveCallback(name, opts, sync) {\n  const removeFunction = opts.unsafeCleanup ? rimraf : fs.rmdir.bind(fs);\n  const removeFunctionSync = opts.unsafeCleanup ? FN_RIMRAF_SYNC : FN_RMDIR_SYNC;\n  const removeCallbackSync = _prepareRemoveCallback(removeFunctionSync, name, sync);\n  const removeCallback = _prepareRemoveCallback(removeFunction, name, sync, removeCallbackSync);\n  if (!opts.keep) _removeObjects.unshift(removeCallbackSync);\n\n  return sync ? removeCallbackSync : removeCallback;\n}\n\n/**\n * Creates a guarded function wrapping the removeFunction call.\n *\n * The cleanup callback is save to be called multiple times.\n * Subsequent invocations will be ignored.\n *\n * @param {Function} removeFunction\n * @param {string} fileOrDirName\n * @param {boolean} sync\n * @param {cleanupCallbackSync?} cleanupCallbackSync\n * @returns {cleanupCallback | cleanupCallbackSync}\n * @private\n */\nfunction _prepareRemoveCallback(removeFunction, fileOrDirName, sync, cleanupCallbackSync) {\n  let called = false;\n\n  // if sync is true, the next parameter will be ignored\n  return function _cleanupCallback(next) {\n\n    /* istanbul ignore else */\n    if (!called) {\n      // remove cleanupCallback from cache\n      const toRemove = cleanupCallbackSync || _cleanupCallback;\n      const index = _removeObjects.indexOf(toRemove);\n      /* istanbul ignore else */\n      if (index >= 0) _removeObjects.splice(index, 1);\n\n      called = true;\n      if (sync || removeFunction === FN_RMDIR_SYNC || removeFunction === FN_RIMRAF_SYNC) {\n        return removeFunction(fileOrDirName);\n      } else {\n        return removeFunction(fileOrDirName, next || function() {});\n      }\n    }\n  };\n}\n\n/**\n * The garbage collector.\n *\n * @private\n */\nfunction _garbageCollector() {\n  /* istanbul ignore else */\n  if (!_gracefulCleanup) return;\n\n  // the function being called removes itself from _removeObjects,\n  // loop until _removeObjects is empty\n  while (_removeObjects.length) {\n    try {\n      _removeObjects[0]();\n    } catch (e) {\n      // already removed?\n    }\n  }\n}\n\n/**\n * Random name generator based on crypto.\n * Adapted from http://blog.tompawlak.org/how-to-generate-random-values-nodejs-javascript\n *\n * @param {number} howMany\n * @returns {string} the generated random name\n * @private\n */\nfunction _randomChars(howMany) {\n  let\n    value = [],\n    rnd = null;\n\n  // make sure that we do not fail because we ran out of entropy\n  try {\n    rnd = crypto.randomBytes(howMany);\n  } catch (e) {\n    rnd = crypto.pseudoRandomBytes(howMany);\n  }\n\n  for (var i = 0; i < howMany; i++) {\n    value.push(RANDOM_CHARS[rnd[i] % RANDOM_CHARS.length]);\n  }\n\n  return value.join('');\n}\n\n/**\n * Helper which determines whether a string s is blank, that is undefined, or empty or null.\n *\n * @private\n * @param {string} s\n * @returns {Boolean} true whether the string s is blank, false otherwise\n */\nfunction _isBlank(s) {\n  return s === null || _isUndefined(s) || !s.trim();\n}\n\n/**\n * Checks whether the `obj` parameter is defined or not.\n *\n * @param {Object} obj\n * @returns {boolean} true if the object is undefined\n * @private\n */\nfunction _isUndefined(obj) {\n  return typeof obj === 'undefined';\n}\n\n/**\n * Parses the function arguments.\n *\n * This function helps to have optional arguments.\n *\n * @param {(Options|null|undefined|Function)} options\n * @param {?Function} callback\n * @returns {Array} parsed arguments\n * @private\n */\nfunction _parseArguments(options, callback) {\n  /* istanbul ignore else */\n  if (typeof options === 'function') {\n    return [{}, options];\n  }\n\n  /* istanbul ignore else */\n  if (_isUndefined(options)) {\n    return [{}, callback];\n  }\n\n  // copy options so we do not leak the changes we make internally\n  const actualOptions = {};\n  for (const key of Object.getOwnPropertyNames(options)) {\n    actualOptions[key] = options[key];\n  }\n\n  return [actualOptions, callback];\n}\n\n/**\n * Generates a new temporary name.\n *\n * @param {Object} opts\n * @returns {string} the new random name according to opts\n * @private\n */\nfunction _generateTmpName(opts) {\n\n  const tmpDir = opts.tmpdir;\n\n  /* istanbul ignore else */\n  if (!_isUndefined(opts.name))\n    return path.join(tmpDir, opts.dir, opts.name);\n\n  /* istanbul ignore else */\n  if (!_isUndefined(opts.template))\n    return path.join(tmpDir, opts.dir, opts.template).replace(TEMPLATE_PATTERN, _randomChars(6));\n\n  // prefix and postfix\n  const name = [\n    opts.prefix ? opts.prefix : 'tmp',\n    '-',\n    process.pid,\n    '-',\n    _randomChars(12),\n    opts.postfix ? '-' + opts.postfix : ''\n  ].join('');\n\n  return path.join(tmpDir, opts.dir, name);\n}\n\n/**\n * Asserts whether the specified options are valid, also sanitizes options and provides sane defaults for missing\n * options.\n *\n * @param {Options} options\n * @private\n */\nfunction _assertAndSanitizeOptions(options) {\n\n  options.tmpdir = _getTmpDir(options);\n\n  const tmpDir = options.tmpdir;\n\n  /* istanbul ignore else */\n  if (!_isUndefined(options.name))\n    _assertIsRelative(options.name, 'name', tmpDir);\n  /* istanbul ignore else */\n  if (!_isUndefined(options.dir))\n    _assertIsRelative(options.dir, 'dir', tmpDir);\n  /* istanbul ignore else */\n  if (!_isUndefined(options.template)) {\n    _assertIsRelative(options.template, 'template', tmpDir);\n    if (!options.template.match(TEMPLATE_PATTERN))\n      throw new Error(`Invalid template, found \"${options.template}\".`);\n  }\n  /* istanbul ignore else */\n  if (!_isUndefined(options.tries) && isNaN(options.tries) || options.tries < 0)\n    throw new Error(`Invalid tries, found \"${options.tries}\".`);\n\n  // if a name was specified we will try once\n  options.tries = _isUndefined(options.name) ? options.tries || DEFAULT_TRIES : 1;\n  options.keep = !!options.keep;\n  options.detachDescriptor = !!options.detachDescriptor;\n  options.discardDescriptor = !!options.discardDescriptor;\n  options.unsafeCleanup = !!options.unsafeCleanup;\n\n  // sanitize dir, also keep (multiple) blanks if the user, purportedly sane, requests us to\n  options.dir = _isUndefined(options.dir) ? '' : path.relative(tmpDir, _resolvePath(options.dir, tmpDir));\n  options.template = _isUndefined(options.template) ? undefined : path.relative(tmpDir, _resolvePath(options.template, tmpDir));\n  // sanitize further if template is relative to options.dir\n  options.template = _isBlank(options.template) ? undefined : path.relative(options.dir, options.template);\n\n  // for completeness' sake only, also keep (multiple) blanks if the user, purportedly sane, requests us to\n  options.name = _isUndefined(options.name) ? undefined : _sanitizeName(options.name);\n  options.prefix = _isUndefined(options.prefix) ? '' : options.prefix;\n  options.postfix = _isUndefined(options.postfix) ? '' : options.postfix;\n}\n\n/**\n * Resolve the specified path name in respect to tmpDir.\n *\n * The specified name might include relative path components, e.g. ../\n * so we need to resolve in order to be sure that is is located inside tmpDir\n *\n * @param name\n * @param tmpDir\n * @returns {string}\n * @private\n */\nfunction _resolvePath(name, tmpDir) {\n  const sanitizedName = _sanitizeName(name);\n  if (sanitizedName.startsWith(tmpDir)) {\n    return path.resolve(sanitizedName);\n  } else {\n    return path.resolve(path.join(tmpDir, sanitizedName));\n  }\n}\n\n/**\n * Sanitize the specified path name by removing all quote characters.\n *\n * @param name\n * @returns {string}\n * @private\n */\nfunction _sanitizeName(name) {\n  if (_isBlank(name)) {\n    return name;\n  }\n  return name.replace(/[\"']/g, '');\n}\n\n/**\n * Asserts whether specified name is relative to the specified tmpDir.\n *\n * @param {string} name\n * @param {string} option\n * @param {string} tmpDir\n * @throws {Error}\n * @private\n */\nfunction _assertIsRelative(name, option, tmpDir) {\n  if (option === 'name') {\n    // assert that name is not absolute and does not contain a path\n    if (path.isAbsolute(name))\n      throw new Error(`${option} option must not contain an absolute path, found \"${name}\".`);\n    // must not fail on valid .<name> or ..<name> or similar such constructs\n    let basename = path.basename(name);\n    if (basename === '..' || basename === '.' || basename !== name)\n      throw new Error(`${option} option must not contain a path, found \"${name}\".`);\n  }\n  else { // if (option === 'dir' || option === 'template') {\n    // assert that dir or template are relative to tmpDir\n    if (path.isAbsolute(name) && !name.startsWith(tmpDir)) {\n      throw new Error(`${option} option must be relative to \"${tmpDir}\", found \"${name}\".`);\n    }\n    let resolvedPath = _resolvePath(name, tmpDir);\n    if (!resolvedPath.startsWith(tmpDir))\n      throw new Error(`${option} option must be relative to \"${tmpDir}\", found \"${resolvedPath}\".`);\n  }\n}\n\n/**\n * Helper for testing against EBADF to compensate changes made to Node 7.x under Windows.\n *\n * @private\n */\nfunction _isEBADF(error) {\n  return _isExpectedError(error, -EBADF, 'EBADF');\n}\n\n/**\n * Helper for testing against ENOENT to compensate changes made to Node 7.x under Windows.\n *\n * @private\n */\nfunction _isENOENT(error) {\n  return _isExpectedError(error, -ENOENT, 'ENOENT');\n}\n\n/**\n * Helper to determine whether the expected error code matches the actual code and errno,\n * which will differ between the supported node versions.\n *\n * - Node >= 7.0:\n *   error.code {string}\n *   error.errno {number} any numerical value will be negated\n *\n * CAVEAT\n *\n * On windows, the errno for EBADF is -4083 but os.constants.errno.EBADF is different and we must assume that ENOENT\n * is no different here.\n *\n * @param {SystemError} error\n * @param {number} errno\n * @param {string} code\n * @private\n */\nfunction _isExpectedError(error, errno, code) {\n  return IS_WIN32 ? error.code === code : error.code === code && error.errno === errno;\n}\n\n/**\n * Sets the graceful cleanup.\n *\n * If graceful cleanup is set, tmp will remove all controlled temporary objects on process exit, otherwise the\n * temporary objects will remain in place, waiting to be cleaned up on system restart or otherwise scheduled temporary\n * object removals.\n */\nfunction setGracefulCleanup() {\n  _gracefulCleanup = true;\n}\n\n/**\n * Returns the currently configured tmp dir from os.tmpdir().\n *\n * @private\n * @param {?Options} options\n * @returns {string} the currently configured tmp dir\n */\nfunction _getTmpDir(options) {\n  return path.resolve(_sanitizeName(options && options.tmpdir || os.tmpdir()));\n}\n\n// Install process exit listener\nprocess.addListener(EXIT, _garbageCollector);\n\n/**\n * Configuration options.\n *\n * @typedef {Object} Options\n * @property {?boolean} keep the temporary object (file or dir) will not be garbage collected\n * @property {?number} tries the number of tries before give up the name generation\n * @property (?int) mode the access mode, defaults are 0o700 for directories and 0o600 for files\n * @property {?string} template the \"mkstemp\" like filename template\n * @property {?string} name fixed name relative to tmpdir or the specified dir option\n * @property {?string} dir tmp directory relative to the root tmp directory in use\n * @property {?string} prefix prefix for the generated name\n * @property {?string} postfix postfix for the generated name\n * @property {?string} tmpdir the root tmp directory which overrides the os tmpdir\n * @property {?boolean} unsafeCleanup recursively removes the created temporary directory, even when it's not empty\n * @property {?boolean} detachDescriptor detaches the file descriptor, caller is responsible for closing the file, tmp will no longer try closing the file during garbage collection\n * @property {?boolean} discardDescriptor discards the file descriptor (closes file, fd is -1), tmp will no longer try closing the file during garbage collection\n */\n\n/**\n * @typedef {Object} FileSyncObject\n * @property {string} name the name of the file\n * @property {string} fd the file descriptor or -1 if the fd has been discarded\n * @property {fileCallback} removeCallback the callback function to remove the file\n */\n\n/**\n * @typedef {Object} DirSyncObject\n * @property {string} name the name of the directory\n * @property {fileCallback} removeCallback the callback function to remove the directory\n */\n\n/**\n * @callback tmpNameCallback\n * @param {?Error} err the error object if anything goes wrong\n * @param {string} name the temporary file name\n */\n\n/**\n * @callback fileCallback\n * @param {?Error} err the error object if anything goes wrong\n * @param {string} name the temporary file name\n * @param {number} fd the file descriptor or -1 if the fd had been discarded\n * @param {cleanupCallback} fn the cleanup callback function\n */\n\n/**\n * @callback fileCallbackSync\n * @param {?Error} err the error object if anything goes wrong\n * @param {string} name the temporary file name\n * @param {number} fd the file descriptor or -1 if the fd had been discarded\n * @param {cleanupCallbackSync} fn the cleanup callback function\n */\n\n/**\n * @callback dirCallback\n * @param {?Error} err the error object if anything goes wrong\n * @param {string} name the temporary file name\n * @param {cleanupCallback} fn the cleanup callback function\n */\n\n/**\n * @callback dirCallbackSync\n * @param {?Error} err the error object if anything goes wrong\n * @param {string} name the temporary file name\n * @param {cleanupCallbackSync} fn the cleanup callback function\n */\n\n/**\n * Removes the temporary created file or directory.\n *\n * @callback cleanupCallback\n * @param {simpleCallback} [next] function to call whenever the tmp object needs to be removed\n */\n\n/**\n * Removes the temporary created file or directory.\n *\n * @callback cleanupCallbackSync\n */\n\n/**\n * Callback function for function composition.\n * @see {@link https://github.com/raszi/node-tmp/issues/57|raszi/node-tmp#57}\n *\n * @callback simpleCallback\n */\n\n// exporting all the needed methods\n\n// evaluate _getTmpDir() lazily, mainly for simplifying testing but it also will\n// allow users to reconfigure the temporary directory\nObject.defineProperty(module.exports, 'tmpdir', {\n  enumerable: true,\n  configurable: false,\n  get: function () {\n    return _getTmpDir();\n  }\n});\n\nmodule.exports.dir = dir;\nmodule.exports.dirSync = dirSync;\n\nmodule.exports.file = file;\nmodule.exports.fileSync = fileSync;\n\nmodule.exports.tmpName = tmpName;\nmodule.exports.tmpNameSync = tmpNameSync;\n\nmodule.exports.setGracefulCleanup = setGracefulCleanup;\n","\"use strict\";\n\nvar punycode = require(\"punycode\");\nvar mappingTable = require(\"./lib/mappingTable.json\");\n\nvar PROCESSING_OPTIONS = {\n  TRANSITIONAL: 0,\n  NONTRANSITIONAL: 1\n};\n\nfunction normalize(str) { // fix bug in v8\n  return str.split('\\u0000').map(function (s) { return s.normalize('NFC'); }).join('\\u0000');\n}\n\nfunction findStatus(val) {\n  var start = 0;\n  var end = mappingTable.length - 1;\n\n  while (start <= end) {\n    var mid = Math.floor((start + end) / 2);\n\n    var target = mappingTable[mid];\n    if (target[0][0] <= val && target[0][1] >= val) {\n      return target;\n    } else if (target[0][0] > val) {\n      end = mid - 1;\n    } else {\n      start = mid + 1;\n    }\n  }\n\n  return null;\n}\n\nvar regexAstralSymbols = /[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g;\n\nfunction countSymbols(string) {\n  return string\n    // replace every surrogate pair with a BMP symbol\n    .replace(regexAstralSymbols, '_')\n    // then get the length\n    .length;\n}\n\nfunction mapChars(domain_name, useSTD3, processing_option) {\n  var hasError = false;\n  var processed = \"\";\n\n  var len = countSymbols(domain_name);\n  for (var i = 0; i < len; ++i) {\n    var codePoint = domain_name.codePointAt(i);\n    var status = findStatus(codePoint);\n\n    switch (status[1]) {\n      case \"disallowed\":\n        hasError = true;\n        processed += String.fromCodePoint(codePoint);\n        break;\n      case \"ignored\":\n        break;\n      case \"mapped\":\n        processed += String.fromCodePoint.apply(String, status[2]);\n        break;\n      case \"deviation\":\n        if (processing_option === PROCESSING_OPTIONS.TRANSITIONAL) {\n          processed += String.fromCodePoint.apply(String, status[2]);\n        } else {\n          processed += String.fromCodePoint(codePoint);\n        }\n        break;\n      case \"valid\":\n        processed += String.fromCodePoint(codePoint);\n        break;\n      case \"disallowed_STD3_mapped\":\n        if (useSTD3) {\n          hasError = true;\n          processed += String.fromCodePoint(codePoint);\n        } else {\n          processed += String.fromCodePoint.apply(String, status[2]);\n        }\n        break;\n      case \"disallowed_STD3_valid\":\n        if (useSTD3) {\n          hasError = true;\n        }\n\n        processed += String.fromCodePoint(codePoint);\n        break;\n    }\n  }\n\n  return {\n    string: processed,\n    error: hasError\n  };\n}\n\nvar combiningMarksRegex = /[\\u0300-\\u036F\\u0483-\\u0489\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u0610-\\u061A\\u064B-\\u065F\\u0670\\u06D6-\\u06DC\\u06DF-\\u06E4\\u06E7\\u06E8\\u06EA-\\u06ED\\u0711\\u0730-\\u074A\\u07A6-\\u07B0\\u07EB-\\u07F3\\u0816-\\u0819\\u081B-\\u0823\\u0825-\\u0827\\u0829-\\u082D\\u0859-\\u085B\\u08E4-\\u0903\\u093A-\\u093C\\u093E-\\u094F\\u0951-\\u0957\\u0962\\u0963\\u0981-\\u0983\\u09BC\\u09BE-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CD\\u09D7\\u09E2\\u09E3\\u0A01-\\u0A03\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A70\\u0A71\\u0A75\\u0A81-\\u0A83\\u0ABC\\u0ABE-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AE2\\u0AE3\\u0B01-\\u0B03\\u0B3C\\u0B3E-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B62\\u0B63\\u0B82\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD7\\u0C00-\\u0C03\\u0C3E-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C62\\u0C63\\u0C81-\\u0C83\\u0CBC\\u0CBE-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CE2\\u0CE3\\u0D01-\\u0D03\\u0D3E-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4D\\u0D57\\u0D62\\u0D63\\u0D82\\u0D83\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DF2\\u0DF3\\u0E31\\u0E34-\\u0E3A\\u0E47-\\u0E4E\\u0EB1\\u0EB4-\\u0EB9\\u0EBB\\u0EBC\\u0EC8-\\u0ECD\\u0F18\\u0F19\\u0F35\\u0F37\\u0F39\\u0F3E\\u0F3F\\u0F71-\\u0F84\\u0F86\\u0F87\\u0F8D-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u102B-\\u103E\\u1056-\\u1059\\u105E-\\u1060\\u1062-\\u1064\\u1067-\\u106D\\u1071-\\u1074\\u1082-\\u108D\\u108F\\u109A-\\u109D\\u135D-\\u135F\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17B4-\\u17D3\\u17DD\\u180B-\\u180D\\u18A9\\u1920-\\u192B\\u1930-\\u193B\\u19B0-\\u19C0\\u19C8\\u19C9\\u1A17-\\u1A1B\\u1A55-\\u1A5E\\u1A60-\\u1A7C\\u1A7F\\u1AB0-\\u1ABE\\u1B00-\\u1B04\\u1B34-\\u1B44\\u1B6B-\\u1B73\\u1B80-\\u1B82\\u1BA1-\\u1BAD\\u1BE6-\\u1BF3\\u1C24-\\u1C37\\u1CD0-\\u1CD2\\u1CD4-\\u1CE8\\u1CED\\u1CF2-\\u1CF4\\u1CF8\\u1CF9\\u1DC0-\\u1DF5\\u1DFC-\\u1DFF\\u20D0-\\u20F0\\u2CEF-\\u2CF1\\u2D7F\\u2DE0-\\u2DFF\\u302A-\\u302F\\u3099\\u309A\\uA66F-\\uA672\\uA674-\\uA67D\\uA69F\\uA6F0\\uA6F1\\uA802\\uA806\\uA80B\\uA823-\\uA827\\uA880\\uA881\\uA8B4-\\uA8C4\\uA8E0-\\uA8F1\\uA926-\\uA92D\\uA947-\\uA953\\uA980-\\uA983\\uA9B3-\\uA9C0\\uA9E5\\uAA29-\\uAA36\\uAA43\\uAA4C\\uAA4D\\uAA7B-\\uAA7D\\uAAB0\\uAAB2-\\uAAB4\\uAAB7\\uAAB8\\uAABE\\uAABF\\uAAC1\\uAAEB-\\uAAEF\\uAAF5\\uAAF6\\uABE3-\\uABEA\\uABEC\\uABED\\uFB1E\\uFE00-\\uFE0F\\uFE20-\\uFE2D]|\\uD800[\\uDDFD\\uDEE0\\uDF76-\\uDF7A]|\\uD802[\\uDE01-\\uDE03\\uDE05\\uDE06\\uDE0C-\\uDE0F\\uDE38-\\uDE3A\\uDE3F\\uDEE5\\uDEE6]|\\uD804[\\uDC00-\\uDC02\\uDC38-\\uDC46\\uDC7F-\\uDC82\\uDCB0-\\uDCBA\\uDD00-\\uDD02\\uDD27-\\uDD34\\uDD73\\uDD80-\\uDD82\\uDDB3-\\uDDC0\\uDE2C-\\uDE37\\uDEDF-\\uDEEA\\uDF01-\\uDF03\\uDF3C\\uDF3E-\\uDF44\\uDF47\\uDF48\\uDF4B-\\uDF4D\\uDF57\\uDF62\\uDF63\\uDF66-\\uDF6C\\uDF70-\\uDF74]|\\uD805[\\uDCB0-\\uDCC3\\uDDAF-\\uDDB5\\uDDB8-\\uDDC0\\uDE30-\\uDE40\\uDEAB-\\uDEB7]|\\uD81A[\\uDEF0-\\uDEF4\\uDF30-\\uDF36]|\\uD81B[\\uDF51-\\uDF7E\\uDF8F-\\uDF92]|\\uD82F[\\uDC9D\\uDC9E]|\\uD834[\\uDD65-\\uDD69\\uDD6D-\\uDD72\\uDD7B-\\uDD82\\uDD85-\\uDD8B\\uDDAA-\\uDDAD\\uDE42-\\uDE44]|\\uD83A[\\uDCD0-\\uDCD6]|\\uDB40[\\uDD00-\\uDDEF]/;\n\nfunction validateLabel(label, processing_option) {\n  if (label.substr(0, 4) === \"xn--\") {\n    label = punycode.toUnicode(label);\n    processing_option = PROCESSING_OPTIONS.NONTRANSITIONAL;\n  }\n\n  var error = false;\n\n  if (normalize(label) !== label ||\n      (label[3] === \"-\" && label[4] === \"-\") ||\n      label[0] === \"-\" || label[label.length - 1] === \"-\" ||\n      label.indexOf(\".\") !== -1 ||\n      label.search(combiningMarksRegex) === 0) {\n    error = true;\n  }\n\n  var len = countSymbols(label);\n  for (var i = 0; i < len; ++i) {\n    var status = findStatus(label.codePointAt(i));\n    if ((processing === PROCESSING_OPTIONS.TRANSITIONAL && status[1] !== \"valid\") ||\n        (processing === PROCESSING_OPTIONS.NONTRANSITIONAL &&\n         status[1] !== \"valid\" && status[1] !== \"deviation\")) {\n      error = true;\n      break;\n    }\n  }\n\n  return {\n    label: label,\n    error: error\n  };\n}\n\nfunction processing(domain_name, useSTD3, processing_option) {\n  var result = mapChars(domain_name, useSTD3, processing_option);\n  result.string = normalize(result.string);\n\n  var labels = result.string.split(\".\");\n  for (var i = 0; i < labels.length; ++i) {\n    try {\n      var validation = validateLabel(labels[i]);\n      labels[i] = validation.label;\n      result.error = result.error || validation.error;\n    } catch(e) {\n      result.error = true;\n    }\n  }\n\n  return {\n    string: labels.join(\".\"),\n    error: result.error\n  };\n}\n\nmodule.exports.toASCII = function(domain_name, useSTD3, processing_option, verifyDnsLength) {\n  var result = processing(domain_name, useSTD3, processing_option);\n  var labels = result.string.split(\".\");\n  labels = labels.map(function(l) {\n    try {\n      return punycode.toASCII(l);\n    } catch(e) {\n      result.error = true;\n      return l;\n    }\n  });\n\n  if (verifyDnsLength) {\n    var total = labels.slice(0, labels.length - 1).join(\".\").length;\n    if (total.length > 253 || total.length === 0) {\n      result.error = true;\n    }\n\n    for (var i=0; i < labels.length; ++i) {\n      if (labels.length > 63 || labels.length === 0) {\n        result.error = true;\n        break;\n      }\n    }\n  }\n\n  if (result.error) return null;\n  return labels.join(\".\");\n};\n\nmodule.exports.toUnicode = function(domain_name, useSTD3) {\n  var result = processing(domain_name, useSTD3, PROCESSING_OPTIONS.NONTRANSITIONAL);\n\n  return {\n    domain: result.string,\n    error: result.error\n  };\n};\n\nmodule.exports.PROCESSING_OPTIONS = PROCESSING_OPTIONS;\n","enum CompletionOrigin {\n  LOCAL = \"LOCAL\",\n  CLOUD = \"CLOUD\",\n  CLOUD2 = \"CLOUD2\",\n  VANILLA = \"VANILLA\",\n  VANILLA_KEYWORD = \"VANILLA_KEYWORD\",\n  LSP = \"LSP\",\n  UNKNOWN = \"UNKNOWN\",\n  ANBU = \"ANBU\",\n}\n\nexport default CompletionOrigin;\n","import * as vscode from \"vscode\";\nimport { BINARY_UPDATE_WORKSPACE_INTERVAL } from \"./globals/consts\";\nimport sendUpdateWorkspaceRequest from \"./binary/requests/workspace\";\nimport { Logger } from \"./utils/logger\";\nimport { tabNineProcess } from \"./binary/requests/requests\";\nimport { getWorkspaceRootPaths } from \"./utils/workspaceFolders\";\n\nconst INITIAL_DELAY = 3000;\n\nexport class WorkspaceUpdater implements vscode.Disposable {\n  private updateInterval: NodeJS.Timeout | null = null;\n\n  constructor() {\n    void tabNineProcess.onReady.then(() => {\n      setTimeout(() => {\n        updateWorkspace();\n        this.updateInterval = setInterval(\n          updateWorkspace,\n          BINARY_UPDATE_WORKSPACE_INTERVAL\n        );\n      }, INITIAL_DELAY);\n    });\n  }\n\n  dispose() {\n    if (this.updateInterval) {\n      clearInterval(this.updateInterval);\n    }\n  }\n}\n\nfunction updateWorkspace() {\n  const rootPaths = getWorkspaceRootPaths() || [];\n\n  Logger.debug(\n    `Updating root paths for project ${\n      vscode.workspace.name || \"unknown\"\n    }: ${JSON.stringify(rootPaths)}`\n  );\n\n  void sendUpdateWorkspaceRequest({\n    root_paths: rootPaths,\n  });\n}\n","import * as vscode from \"vscode\";\nimport { prefetch } from \"./binary/requests/prefetch\";\nimport { sendEvent } from \"./binary/requests/sendEvent\";\n\n// Notify the binary on changes to the active text editor.\nexport const activeTextEditorState = vscode.window.onDidChangeActiveTextEditor(\n  async (editor) => {\n    if (editor) {\n      void sendEvent({\n        name: \"active_text_editor_changed\",\n        properties: {\n          isDirty: editor.document.isDirty.toString(),\n        },\n      });\n      const filename = editor.document.uri.fsPath;\n      await prefetch({ filename });\n    }\n  }\n);\n","import * as vscode from \"vscode\";\nimport setState from \"../binary/requests/setState\";\nimport { Capability, isCapabilityEnabled } from \"../capabilities/capabilities\";\nimport { StatePayload } from \"../globals/consts\";\nimport registerAssistant from \"./diagnostics\";\nimport { downloadAssistantBinary, StateType } from \"./utils\";\nimport {\n  assistantClearCacheHandler,\n  assistantIgnoreHandler,\n  assistantSelectionHandler,\n} from \"./AssistantHandlers\";\nimport { setAssistantMode, AssistantMode } from \"./AssistantMode\";\nimport {\n  ACTIVE_STATE_KEY,\n  ASSISTANT_CLEAR_CACHE_COMMAND,\n  ASSISTANT_IGNORE_COMMAND,\n  ASSISTANT_SELECTION_COMMAND,\n  ASSISTANT_TOGGLE_COMMAND,\n  BACKGROUND_KEY,\n  CAPABILITY_KEY,\n  ENABLED_KEY,\n} from \"./globals\";\nimport { IgnoreAssistantSelection } from \"./IgnoreAssistantSelection\";\nimport { AcceptAssistantSelection } from \"./AcceptAssistantSelection\";\n\nexport default async function initAssistant(\n  context: vscode.ExtensionContext,\n  pasteDisposable: vscode.Disposable\n): Promise<void> {\n  await vscode.commands.executeCommand(\"setContext\", CAPABILITY_KEY, true);\n\n  setAssistantMode(AssistantMode.Background);\n  let backgroundMode = true;\n\n  if (isCapabilityEnabled(Capability.ASSISTANT_BACKGROUND_CAPABILITY)) {\n    // use default values\n  } else if (isCapabilityEnabled(Capability.ASSISTANT_PASTE_CAPABILITY)) {\n    backgroundMode = false;\n    setAssistantMode(AssistantMode.Paste);\n  }\n  await vscode.commands.executeCommand(\n    \"setContext\",\n    BACKGROUND_KEY,\n    backgroundMode\n  );\n\n  let isActive = context.globalState.get(ACTIVE_STATE_KEY, backgroundMode);\n  if (isActive === null || typeof isActive === \"undefined\") {\n    isActive = true;\n  }\n  registerReloadForToggleCommand(context, isActive);\n\n  if (isActive) {\n    const isDownloaded = await downloadAssistantBinary();\n    if (isDownloaded) {\n      pasteDisposable.dispose();\n      await registerAssistant(context, pasteDisposable);\n\n      context.subscriptions.push(\n        vscode.commands.registerTextEditorCommand(\n          ASSISTANT_SELECTION_COMMAND,\n          (\n            editor: vscode.TextEditor,\n            edit: vscode.TextEditorEdit,\n            data: AcceptAssistantSelection\n          ) => void assistantSelectionHandler(editor, edit, data)\n        )\n      );\n      context.subscriptions.push(\n        vscode.commands.registerTextEditorCommand(\n          ASSISTANT_IGNORE_COMMAND,\n          (\n            editor: vscode.TextEditor,\n            edit: vscode.TextEditorEdit,\n            data: IgnoreAssistantSelection\n          ) => void assistantIgnoreHandler(editor, edit, data)\n        )\n      );\n      if (backgroundMode) {\n        context.subscriptions.push(\n          vscode.commands.registerCommand(\n            ASSISTANT_CLEAR_CACHE_COMMAND,\n            assistantClearCacheHandler\n          )\n        );\n      }\n      await vscode.commands.executeCommand(\"setContext\", ENABLED_KEY, true);\n    }\n  }\n}\n\nfunction registerReloadForToggleCommand(\n  context: vscode.ExtensionContext,\n  isActive: boolean\n) {\n  context.subscriptions.push(\n    vscode.commands.registerCommand(ASSISTANT_TOGGLE_COMMAND, async () => {\n      const value = !isActive ? \"On\" : \"Off\";\n      const message = `Please reload Visual Studio Code to turn Assistant ${value}.`;\n      const reload = await vscode.window.showInformationMessage(\n        message,\n        \"Reload Now\"\n      );\n      if (reload) {\n        void setState({\n          [StatePayload.STATE]: { state_type: StateType.toggle, state: value },\n        });\n        await context.globalState.update(ACTIVE_STATE_KEY, !isActive);\n        void vscode.commands.executeCommand(\"workbench.action.reloadWindow\");\n      }\n    })\n  );\n}\n","import * as vscode from \"vscode\";\nimport { Completion } from \"./Completion\";\nimport { getAssistantMode, AssistantMode } from \"./AssistantMode\";\n\nimport {\n  ASSISTANT_IGNORE_COMMAND,\n  ASSISTANT_SELECTION_COMMAND,\n  TABNINE_DIAGNOSTIC_CODE,\n} from \"./globals\";\nimport TabNineDiagnostic from \"./TabNineDiagnostic\";\n\nexport default class AssistantCodeActionProvider\n  implements vscode.CodeActionProvider {\n  public static readonly providedCodeActionKinds = [\n    vscode.CodeActionKind.QuickFix,\n  ];\n\n  // This method implements vscode.CodeActionProvider\n  // eslint-disable-next-line class-methods-use-this\n  provideCodeActions(\n    document: vscode.TextDocument,\n    range: vscode.Range | vscode.Selection,\n    context: vscode.CodeActionContext\n  ): vscode.CodeAction[] {\n    const codeActions: vscode.CodeAction[] = [];\n    const diagnostics = context.diagnostics as TabNineDiagnostic[];\n    diagnostics\n      .filter((diagnostic) => diagnostic.code === TABNINE_DIAGNOSTIC_CODE)\n      .forEach((diagnostic) => {\n        diagnostic.choices.forEach((choice) => {\n          codeActions.push(createCodeAction(document, diagnostic, choice));\n        });\n        // register ignore action\n        const title = \"Ignore TabNine Assistant suggestions at this spot\";\n        const action = new vscode.CodeAction(\n          title,\n          vscode.CodeActionKind.QuickFix\n        );\n        action.command = {\n          arguments: [\n            {\n              allSuggestions: diagnostic.choices,\n              reference: diagnostic.reference,\n              threshold: diagnostic.threshold,\n              responseId: diagnostic.responseId,\n            },\n          ],\n          command: ASSISTANT_IGNORE_COMMAND,\n          title: \"ignore replacement\",\n        };\n        codeActions.push(action);\n      });\n    return codeActions;\n  }\n}\n\nfunction createCodeAction(\n  document: vscode.TextDocument,\n  diagnostic: TabNineDiagnostic,\n  choice: Completion\n): vscode.CodeAction {\n  const { range } = diagnostic;\n  const title = `${choice.message} '${choice.value}'`;\n  const action = new vscode.CodeAction(title, vscode.CodeActionKind.QuickFix);\n  action.edit = new vscode.WorkspaceEdit();\n  action.edit.replace(\n    document.uri,\n    new vscode.Range(range.start, range.end),\n    choice.value\n  );\n  if (getAssistantMode() === AssistantMode.Paste) {\n    diagnostic.references.forEach((r) =>\n      action.edit?.replace(document.uri, r, choice.value)\n    );\n  }\n  action.diagnostics = [diagnostic];\n  action.command = {\n    arguments: [\n      {\n        currentSuggestion: choice,\n        allSuggestions: diagnostic.choices,\n        reference: diagnostic.reference,\n        threshold: diagnostic.threshold,\n      },\n    ],\n    command: ASSISTANT_SELECTION_COMMAND,\n    title: \"accept replacement\",\n  };\n  return action;\n}\n","import * as vscode from \"vscode\";\nimport setState, {\n  AssistantSelectionStateRequest,\n} from \"../binary/requests/setState\";\nimport CompletionOrigin from \"../CompletionOrigin\";\nimport { StatePayload } from \"../globals/consts\";\nimport { StateType } from \"./utils\";\nimport clearCache from \"./requests/clearCache\";\nimport { Completion } from \"./Completion\";\nimport setIgnore from \"./requests/setIgnore\";\nimport { getAssistantVersion } from \"./requests/request\";\nimport { ASSISTANT_IGNORE_REFRESH_COMMAND } from \"./globals\";\nimport { IgnoreAssistantSelection } from \"./IgnoreAssistantSelection\";\nimport { AcceptAssistantSelection } from \"./AcceptAssistantSelection\";\nimport { setDecorators } from \"./diagnostics\";\nimport { Logger } from \"../utils/logger\";\n\nconst IGNORE_VALUE = \"__IGNORE__\";\n\nexport async function assistantClearCacheHandler(): Promise<void> {\n  await clearCache();\n  void setState({\n    [StatePayload.STATE]: { state_type: StateType.clearCache },\n  });\n}\n\nexport async function assistantSelectionHandler(\n  editor: vscode.TextEditor,\n  edit: vscode.TextEditorEdit,\n  {\n    currentSuggestion,\n    allSuggestions,\n    reference,\n    threshold,\n  }: AcceptAssistantSelection\n): Promise<void> {\n  try {\n    setDecorators([]);\n    await vscode.commands.executeCommand(ASSISTANT_IGNORE_REFRESH_COMMAND);\n    const assistantVersion = await getAssistantVersion();\n    const eventData = eventDataOf(\n      editor,\n      currentSuggestion,\n      allSuggestions,\n      reference,\n      threshold,\n      false,\n      assistantVersion\n    );\n    void setState(eventData);\n  } catch (error) {\n    Logger.error(error);\n  }\n}\n\nexport async function assistantIgnoreHandler(\n  editor: vscode.TextEditor,\n  edit: vscode.TextEditorEdit,\n  { allSuggestions, reference, threshold, responseId }: IgnoreAssistantSelection\n): Promise<void> {\n  try {\n    await setIgnore(responseId);\n    setDecorators([]);\n    const assistantVersion = await getAssistantVersion();\n\n    void vscode.commands.executeCommand(ASSISTANT_IGNORE_REFRESH_COMMAND);\n    const completion: Completion = {\n      value: IGNORE_VALUE,\n      score: 0,\n      message: \"\",\n    };\n    const eventData = eventDataOf(\n      editor,\n      completion,\n      allSuggestions,\n      reference,\n      threshold,\n      true,\n      assistantVersion\n    );\n    void setState(eventData);\n  } catch (error) {\n    Logger.error(error);\n  }\n}\n\nfunction eventDataOf(\n  editor: vscode.TextEditor,\n  currentSuggestion: Completion,\n  allSuggestions: Completion[],\n  reference: string,\n  threshold: string,\n  isIgnore = false,\n  assistantVersion: string\n): AssistantSelectionStateRequest {\n  let index = allSuggestions.findIndex((sug) => sug === currentSuggestion);\n  if (index === -1) {\n    index = allSuggestions.length;\n  }\n  const suggestions = allSuggestions.map((sug) => ({\n    length: sug.value.length,\n    strength: resolveDetailOf(sug),\n    origin: CompletionOrigin.CLOUD,\n  }));\n\n  const { length } = currentSuggestion.value;\n  const selectedSuggestion = currentSuggestion.value;\n  const strength = resolveDetailOf(currentSuggestion);\n  const origin = CompletionOrigin.CLOUD;\n  const language = editor.document.fileName.split(\".\").pop() || \"\";\n  const numOfSuggestions = allSuggestions.length;\n\n  const eventData: AssistantSelectionStateRequest = {\n    AssistantSelection: {\n      language,\n      length,\n      strength,\n      origin,\n      index,\n      threshold,\n      num_of_suggestions: numOfSuggestions,\n      suggestions,\n      selected_suggestion: selectedSuggestion,\n      reference,\n      reference_length: reference.length,\n      is_ignore: isIgnore,\n      assistant_version: assistantVersion,\n    },\n  };\n\n  return eventData;\n}\n\nfunction resolveDetailOf(completion: Completion): string {\n  return `${completion.score}%`;\n}\n","export enum AssistantMode {\n  Background,\n  Paste,\n}\n\nlet assistantMode: AssistantMode = AssistantMode.Background;\n\nexport function setAssistantMode(m: AssistantMode): void {\n  assistantMode = m;\n}\n\nexport function getAssistantMode(): AssistantMode {\n  return assistantMode;\n}\n","import { Mutex } from \"await-semaphore\";\nimport * as child_process from \"child_process\";\nimport * as readline from \"readline\";\nimport run from \"./runAssistant\";\nimport { Logger } from \"../utils/logger\";\n\nexport default class AssistantProcess {\n  private proc?: child_process.ChildProcess;\n\n  private rl?: readline.ReadLine;\n\n  private numRestarts = 0;\n\n  private childDead = false;\n\n  private mutex: Mutex = new Mutex();\n\n  private resolveMap = new Map();\n\n  private isShutdown = false;\n\n  constructor() {\n    this.restartChild();\n  }\n\n  async post<T extends { id: number; version: string }, R>(\n    anyRequest: T,\n    id: number,\n    timeToSleep = 10000\n  ): Promise<R | undefined> {\n    const release = await this.mutex.acquire();\n\n    try {\n      if (!this.isChildAlive()) {\n        this.restartChild();\n      }\n      const request = `${JSON.stringify(anyRequest)}\\n`;\n      this.proc?.stdin?.write(request, \"utf8\");\n\n      return await new Promise((resolve, reject) => {\n        this.resolveMap.set(id, resolve);\n        setTimeout(() => {\n          this.resolveMap.delete(id);\n          reject(new Error(\"Timeout\"));\n        }, timeToSleep);\n      });\n    } catch (e) {\n      Logger.error(`interacting with tabnine assistant: ${e}`);\n      return undefined;\n    } finally {\n      release();\n    }\n  }\n\n  get shutdowned(): boolean {\n    return this.isShutdown;\n  }\n\n  set shutdowned(value: boolean) {\n    this.isShutdown = value;\n  }\n\n  private isChildAlive(): boolean {\n    return !!this.proc && !this.childDead;\n  }\n\n  private onChildDeath() {\n    this.childDead = true;\n\n    setTimeout(() => {\n      if (!this.isChildAlive()) {\n        this.restartChild();\n      }\n    }, 10000);\n  }\n\n  private restartChild<R>(): void {\n    if (this.numRestarts >= 10) {\n      return;\n    }\n    this.numRestarts += 1;\n    if (this.proc) {\n      this.proc.kill();\n    }\n    this.proc = run();\n    this.childDead = false;\n    this.proc.on(\"exit\", () => {\n      if (!this.shutdowned) {\n        this.onChildDeath();\n      }\n    });\n    this.proc.stdin?.on(\"error\", (error) => {\n      Logger.error(`assistant binary stdin error: ${error.message}`);\n      this.onChildDeath();\n    });\n    this.proc.stdout?.on(\"error\", (error) => {\n      Logger.error(`assistant binary stdout error: ${error.message}`);\n      this.onChildDeath();\n    });\n    this.proc.unref(); // AIUI, this lets Node exit without waiting for the child\n    this.rl = readline.createInterface({\n      input: this.proc.stdout,\n      output: this.proc.stdin,\n    } as readline.ReadLineOptions);\n    this.rl.on(\"line\", (line) => {\n      const result = JSON.parse(line) as { id: number; body: R };\n      const { id } = result;\n      const { body } = result;\n      const resolve = this.resolveMap.get(id) as (data: R) => void | undefined;\n      if (resolve) {\n        resolve(body);\n        this.resolveMap.delete(id);\n      }\n    });\n  }\n}\n","export default class CancellationToken {\n  private cancelled = false;\n\n  private callbacks: [(...args: unknown[]) => void, unknown[]][] = [];\n\n  isCancelled(): boolean {\n    return this.cancelled;\n  }\n\n  cancel(): void {\n    if (!this.isCancelled()) {\n      this.cancelled = true;\n      this.callbacks.forEach(([callback, args]) => callback(args));\n    }\n  }\n\n  reset(): void {\n    this.cancelled = false;\n    this.callbacks = [];\n  }\n\n  registerCallback(\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    callback: (...args: any[]) => void,\n    ...args: unknown[]\n  ): void {\n    if (this.isCancelled()) {\n      callback(...args);\n    } else {\n      this.callbacks.push([callback, args]);\n    }\n  }\n}\n","import * as vscode from \"vscode\";\nimport getValidExtensions from \"./requests/getValidExtensions\";\nimport getValidLanguages from \"./requests/getValidLanguages\";\n\nexport class DocumentValidator {\n  private validLanguages: string[];\n\n  private validExtensions: string[];\n\n  constructor(validLanguages: string[], validExtensions: string[]) {\n    this.validLanguages = validLanguages;\n\n    this.validExtensions = validExtensions;\n  }\n\n  public isValid(document: vscode.TextDocument): boolean {\n    const { fileName } = document;\n    const fileExt = `.${fileName?.split(\".\").pop() || \"\"}`;\n    return (\n      this.validExtensions?.includes(fileExt) &&\n      this.validLanguages?.includes(document.languageId)\n    );\n  }\n}\n\nexport default async function getValidator(): Promise<DocumentValidator> {\n  const validLanguages = await getValidLanguages();\n  const validExtensions = await getValidExtensions();\n\n  const documentValidator = new DocumentValidator(\n    validLanguages,\n    validExtensions\n  );\n  return documentValidator;\n}\n","import * as vscode from \"vscode\";\nimport { Range } from \"./Range\";\nimport { Completion } from \"./Completion\";\n\nexport default class TabNineDiagnostic extends vscode.Diagnostic {\n  choices: Completion[] = [];\n\n  reference: string;\n\n  references: vscode.Range[] = [];\n\n  assistantRange: Range;\n\n  responseId: string;\n\n  threshold: string;\n\n  constructor(\n    range: vscode.Range,\n    message: string,\n    choices: Completion[],\n    reference: string,\n    vscodeReferencesRange: vscode.Range[],\n    assistantRange: Range,\n    responseId: string,\n    threshold: string,\n    severity?: vscode.DiagnosticSeverity\n  ) {\n    super(range, message, severity);\n    this.choices = choices;\n    this.reference = reference;\n    this.references = vscodeReferencesRange;\n    this.assistantRange = assistantRange;\n    this.responseId = responseId;\n    this.threshold = threshold;\n  }\n}\n","import * as vscode from \"vscode\";\nimport { Mutex } from \"await-semaphore\";\nimport CancellationToken from \"./CancellationToken\";\nimport {\n  getAssistantMode,\n  setAssistantMode,\n  AssistantMode,\n} from \"./AssistantMode\";\n\nimport { AssistantDiagnostic } from \"./AssistantDiagnostic\";\nimport { debounce, getAPIKey } from \"./utils\";\n\nimport setState from \"../binary/requests/setState\";\nimport getValidator, { DocumentValidator } from \"./DocumentValidator\";\nimport getAssistantDiagnostics from \"./requests/getAssistantDiagnostics\";\nimport getCompilerDiagnostics from \"./requests/getCompilerDiagnostics\";\nimport AssistantCodeActionProvider from \"./AssistantCodeActionProvider\";\nimport getValidLanguages from \"./requests/getValidLanguages\";\nimport TabNineDiagnostic from \"./TabNineDiagnostic\";\nimport {\n  ASSISTANT_IGNORE_REFRESH_COMMAND,\n  ASSISTANT_MODE_TOGGLE_COMMAND,\n  EDIT_DISTANCE,\n  PASTE_COMMAND,\n  PASTE_THRESHOLD,\n  TABNINE_DIAGNOSTIC_CODE,\n} from \"./globals\";\nimport {\n  initAssistantThreshold,\n  getBackgroundThreshold,\n} from \"./handleAssistantThreshold\";\nimport { Logger } from \"../utils/logger\";\n\nconst decorationType = vscode.window.createTextEditorDecorationType({\n  border: \"#3794FF 2px\",\n  borderStyle: \"none none solid none\",\n});\n\nconst changesTrackMap = new Map<vscode.Uri, vscode.Position>();\n\nexport function setDecorators(\n  diagnostics: vscode.Diagnostic[] | undefined\n): void {\n  const editor = vscode.window.activeTextEditor;\n  const decorationsArray: vscode.DecorationOptions[] =\n    diagnostics?.map(({ range }) => ({ range })) || [];\n  if (editor) {\n    editor.setDecorations(decorationType, decorationsArray);\n  }\n}\n\nfunction setStatusBarMessage(message?: string, timeout = 30000): void {\n  if (!message?.length) {\n    return;\n  }\n  vscode.window.setStatusBarMessage(`${message}`, timeout);\n}\n\nconst mutex: Mutex = new Mutex();\nconst cancellationToken = new CancellationToken();\n\nfunction getRelevantRange(\n  document: vscode.TextDocument,\n  visibleRanges: vscode.Range[]\n): vscode.Range | undefined {\n  const firstEditingPosition = changesTrackMap.get(document.uri);\n  const visibleRange = visibleRanges.reduce((accumulator, currentValue) =>\n    accumulator.union(currentValue)\n  );\n\n  return (\n    firstEditingPosition &&\n    visibleRange.intersection(\n      new vscode.Range(firstEditingPosition, visibleRange.end)\n    )\n  );\n}\n\nasync function refreshDiagnostics(\n  document: vscode.TextDocument,\n  diagnosticsCollection: vscode.DiagnosticCollection,\n  visibleRanges: vscode.Range[]\n): Promise<void> {\n  cancellationToken.cancel();\n  const lock = await mutex.acquire();\n  cancellationToken.reset();\n  cancellationToken.registerCallback(setStatusBarMessage);\n  try {\n    let foundDiagnostics = 0;\n    const relevantRange = getRelevantRange(document, visibleRanges);\n\n    if (!relevantRange) {\n      return;\n    }\n\n    const start = document.offsetAt(relevantRange.start);\n    const end = document.offsetAt(relevantRange.end);\n    const threshold =\n      getAssistantMode() === AssistantMode.Background\n        ? getBackgroundThreshold()\n        : PASTE_THRESHOLD;\n    const code = document.getText();\n    const apiKey = await getAPIKey();\n    if (cancellationToken.isCancelled()) {\n      return;\n    }\n    const assistantDiagnostics:\n      | AssistantDiagnostic[]\n      | undefined = await getAssistantDiagnostics(\n      code,\n      document.fileName,\n      { start, end },\n      threshold,\n      EDIT_DISTANCE,\n      apiKey,\n      cancellationToken\n    );\n    if (cancellationToken.isCancelled()) {\n      return;\n    }\n    const newDiagnostics: TabNineDiagnostic[] = [];\n    assistantDiagnostics?.forEach((assistantDiagnostic) => {\n      const choices = assistantDiagnostic.completionList.filter(\n        (completion) => completion.value !== assistantDiagnostic.reference\n      );\n      const choicesString = choices.map(\n        (completion) =>\n          `${completion.message} '${completion.value}'\\t${completion.score}%`\n      );\n      if (choices.length > 0) {\n        const prevReferencesLocationsInRange = assistantDiagnostic.references.filter(\n          (r) => r.start < assistantDiagnostic.range.start\n        );\n        const prevDiagnosticsForReferenceInRange = newDiagnostics.filter(\n          (diag) => prevReferencesLocationsInRange.includes(diag.assistantRange)\n        );\n\n        // If we are in paste mode and one of the previous reference was ok (no suggestions), don't suggest things on this reference.\n        if (\n          getAssistantMode() === AssistantMode.Background ||\n          prevReferencesLocationsInRange.length === 0 || // no references before this point\n          (prevReferencesLocationsInRange.length > 0 &&\n            prevDiagnosticsForReferenceInRange.length > 0)\n        ) {\n          // there are references before this point. and we have diagnostics for them\n          const vscodeRange = new vscode.Range(\n            document.positionAt(assistantDiagnostic.range.start),\n            document.positionAt(assistantDiagnostic.range.end)\n          );\n          const vscodeReferencesRange: vscode.Range[] = assistantDiagnostic.references.map(\n            (r) =>\n              new vscode.Range(\n                document.positionAt(r.start),\n                document.positionAt(r.end)\n              )\n          );\n          const diagnostic = new TabNineDiagnostic(\n            vscodeRange,\n            `${choicesString.join(\"\\n\")}`,\n            choices,\n            assistantDiagnostic.reference,\n            vscodeReferencesRange,\n            assistantDiagnostic.range,\n            assistantDiagnostic.responseId,\n            threshold,\n            vscode.DiagnosticSeverity.Information\n          );\n          diagnostic.code = TABNINE_DIAGNOSTIC_CODE;\n          newDiagnostics.push(diagnostic);\n          foundDiagnostics += 1;\n        }\n      }\n    });\n    if (newDiagnostics.length > 0) {\n      void setState({\n        ValidatorState: {\n          num_of_diagnostics: newDiagnostics.length,\n          num_of_locations: assistantDiagnostics?.length || 0,\n        },\n      });\n    }\n    if (\n      diagnosticsCollection.get(document.uri)?.length !== newDiagnostics.length\n    ) {\n      setDecorators(newDiagnostics);\n      diagnosticsCollection.set(document.uri, newDiagnostics);\n    }\n    const message = foundDiagnostics ? `${foundDiagnostics}` : \"\";\n    Logger.debug(message);\n    setStatusBarMessage(\"$(pass)\");\n  } catch (e: unknown) {\n    setStatusBarMessage();\n    Logger.error(`tabnine assistant: error: ${(e as Error).toString()}`);\n  } finally {\n    lock();\n  }\n}\nconst debouncedRefreshDiagnostics = debounce(refreshDiagnostics);\n\nfunction refreshDiagnosticsOrPrefetch(\n  document: vscode.TextDocument,\n  tabNineDiagnostics: vscode.DiagnosticCollection\n) {\n  if (getAssistantMode() === AssistantMode.Background) {\n    if (vscode.window.activeTextEditor) {\n      void refreshDiagnostics(\n        document,\n        tabNineDiagnostics,\n        vscode.window.activeTextEditor.visibleRanges\n      );\n    }\n  } else {\n    // prefetch diagnostics (getAssistantMode() == Mode.Paste)\n    void getCompilerDiagnostics(document.getText(), document.fileName);\n  }\n}\nlet currentRange: { range: vscode.Range; length: number } | null = null;\nlet inPaste = false;\n\nexport default async function registerAssistant(\n  context: vscode.ExtensionContext,\n  pasteDisposable: vscode.Disposable\n): Promise<void> {\n  const tabnineDiagnostics = vscode.languages.createDiagnosticCollection(\n    \"tabnine\"\n  );\n  context.subscriptions.push(tabnineDiagnostics);\n  const documentValidator = await getValidator();\n\n  initAssistantThreshold(context);\n\n  registerRefreshCommand(context, documentValidator, tabnineDiagnostics);\n\n  registerAssistantModeToggle(tabnineDiagnostics, documentValidator);\n\n  // handleActiveEditorChanged(context, documentValidator, tabnineDiagnostics);\n\n  handleVisibleRangeChange(context, documentValidator, tabnineDiagnostics);\n\n  pasteDisposable.dispose();\n  registerPasteCommand(context, documentValidator, tabnineDiagnostics);\n\n  // For AssistantMode.Paste\n  handlePasteChange(context, tabnineDiagnostics, documentValidator);\n\n  // For AssistantMode.Background\n  handleTextChange(context, tabnineDiagnostics, documentValidator);\n\n  void handleCodeAction(context);\n\n  // if (\n  //   getAssistantMode() === AssistantMode.Background &&\n  //   vscode.window.activeTextEditor &&\n  //   documentValidator.isValid(vscode.window.activeTextEditor.document)\n  // ) {\n  //   refreshDiagnosticsOrPrefetch(\n  //     vscode.window.activeTextEditor.document,\n  //     tabnineDiagnostics\n  //   );\n  // }\n}\n\nfunction registerRefreshCommand(\n  context: vscode.ExtensionContext,\n  documentValidator: DocumentValidator,\n  tabnineDiagnostics: vscode.DiagnosticCollection\n) {\n  context.subscriptions.push(\n    vscode.commands.registerCommand(ASSISTANT_IGNORE_REFRESH_COMMAND, () => {\n      const editor = vscode.window.activeTextEditor;\n      if (editor) {\n        const { document, visibleRanges } = editor;\n        if (documentValidator.isValid(document)) {\n          if (getAssistantMode() === AssistantMode.Paste) {\n            if (currentRange) {\n              void refreshDiagnostics(document, tabnineDiagnostics, [\n                currentRange?.range,\n              ]);\n            }\n          } else {\n            void refreshDiagnostics(\n              document,\n              tabnineDiagnostics,\n              visibleRanges\n            );\n          }\n        }\n      }\n    })\n  );\n}\n\nfunction registerAssistantModeToggle(\n  tabNineDiagnostics: vscode.DiagnosticCollection,\n  validator: DocumentValidator\n) {\n  vscode.commands.registerCommand(ASSISTANT_MODE_TOGGLE_COMMAND, () => {\n    cancellationToken.cancel();\n    if (vscode.window.activeTextEditor) {\n      tabNineDiagnostics.delete(vscode.window.activeTextEditor.document.uri);\n    }\n    setDecorators([]);\n    const newMode =\n      getAssistantMode() === AssistantMode.Background\n        ? AssistantMode.Paste\n        : AssistantMode.Background;\n    setAssistantMode(newMode);\n\n    if (getAssistantMode() === AssistantMode.Paste) {\n      void vscode.window.showInformationMessage(\"tabnine assistant paste mode\");\n      Logger.info(\"paste validation mode\");\n    } else {\n      void vscode.window.showInformationMessage(\n        \"tabnine assistant background mode\"\n      );\n      Logger.info(\"background validation mode\");\n    }\n\n    if (\n      vscode.window.activeTextEditor &&\n      validator.isValid(vscode.window.activeTextEditor.document)\n    ) {\n      refreshDiagnosticsOrPrefetch(\n        vscode.window.activeTextEditor.document,\n        tabNineDiagnostics\n      );\n    }\n  });\n}\n\n// function handleActiveEditorChanged(\n//   context: vscode.ExtensionContext,\n//   validator: DocumentValidator,\n//   tabNineDiagnostics: vscode.DiagnosticCollection\n// ) {\n//   context.subscriptions.push(\n//     vscode.window.onDidChangeActiveTextEditor((editor) => {\n//       if (editor && validator.isValid(editor.document)) {\n//         if (getAssistantMode() === AssistantMode.Background) {\n//           void refreshDiagnostics(\n//             editor.document,\n//             tabNineDiagnostics,\n//             editor.visibleRanges\n//           );\n//         } else {\n//           // prefetch diagnostics\n//           void getCompilerDiagnostics(\n//             editor.document.getText(),\n//             editor.document.fileName\n//           );\n//         }\n//       }\n//     })\n//   );\n// }\n\nfunction handleVisibleRangeChange(\n  context: vscode.ExtensionContext,\n  validator: DocumentValidator,\n  tabNineDiagnostics: vscode.DiagnosticCollection\n) {\n  context.subscriptions.push(\n    vscode.window.onDidChangeTextEditorVisibleRanges((event) => {\n      if (\n        getAssistantMode() === AssistantMode.Background &&\n        validator.isValid(event.textEditor.document)\n      ) {\n        debouncedRefreshDiagnostics(\n          event.textEditor.document,\n          tabNineDiagnostics,\n          event.textEditor.visibleRanges\n        );\n      }\n    })\n  );\n}\n\nfunction registerPasteCommand(\n  context: vscode.ExtensionContext,\n  validator: DocumentValidator,\n  tabNineDiagnostics: vscode.DiagnosticCollection\n) {\n  context.subscriptions.push(\n    vscode.commands.registerCommand(\n      PASTE_COMMAND,\n      async (textEditor: vscode.TextEditor) => {\n        inPaste = true;\n        const { start } = textEditor.selection;\n        await vscode.commands.executeCommand(\n          \"editor.action.clipboardPasteAction\"\n        );\n        const { end } = textEditor.selection;\n        if (vscode.window.activeTextEditor) {\n          const { document } = vscode.window.activeTextEditor;\n          const isValidExt = validator.isValid(document);\n          if (!isValidExt || getAssistantMode() === AssistantMode.Background) {\n            inPaste = false;\n            return;\n          }\n          currentRange = {\n            range: new vscode.Range(start, end),\n            length: document.offsetAt(end) - document.offsetAt(start),\n          };\n          inPaste = false;\n          tabNineDiagnostics.delete(document.uri);\n          setDecorators([]);\n          void refreshDiagnostics(document, tabNineDiagnostics, [\n            currentRange.range,\n          ]);\n        }\n      }\n    )\n  );\n}\n\nfunction handlePasteChange(\n  context: vscode.ExtensionContext,\n  assistantDiagnostics: vscode.DiagnosticCollection,\n  validator: DocumentValidator\n) {\n  context.subscriptions.push(\n    vscode.workspace.onDidChangeTextDocument((event) => {\n      if (\n        getAssistantMode() === AssistantMode.Paste &&\n        !inPaste &&\n        validator.isValid(event.document)\n      ) {\n        let firstPosition: vscode.Position | null = null;\n        let delta = 0;\n        event.contentChanges.forEach((cc) => {\n          if (firstPosition === null) {\n            firstPosition = cc.range.start;\n          } else if (cc.range.start.isBefore(firstPosition)) {\n            firstPosition = cc.range.start;\n          }\n          if (currentRange !== null) {\n            if (\n              cc.range.start.isAfterOrEqual(currentRange.range.start) &&\n              cc.range.end.isBefore(currentRange.range.end) &&\n              !(\n                cc.range.start.isEqual(currentRange.range.start) &&\n                cc.range.end.isEqual(currentRange.range.end)\n              )\n            ) {\n              delta += -cc.rangeLength + (cc.text.length || 0);\n            } else {\n              currentRange = null;\n            }\n          }\n        });\n        if (firstPosition !== null && currentRange !== null) {\n          const diagnostics = assistantDiagnostics\n            .get(event.document.uri)\n            ?.filter((d) =>\n              d.range.end.isBefore(firstPosition as vscode.Position)\n            );\n          assistantDiagnostics.set(event.document.uri, diagnostics);\n          setDecorators(diagnostics);\n          if (delta !== 0) {\n            const newLength = currentRange.length + delta;\n            const newEndPos = event.document.positionAt(\n              event.document.offsetAt(currentRange.range.start) + newLength\n            );\n            currentRange = {\n              range: new vscode.Range(currentRange.range.start, newEndPos),\n              length: newLength,\n            };\n          }\n          debouncedRefreshDiagnostics(event.document, assistantDiagnostics, [\n            currentRange.range,\n          ]);\n        } else {\n          assistantDiagnostics.delete(event.document.uri);\n          setDecorators([]);\n        }\n      }\n    })\n  );\n}\n\nfunction handleTextChange(\n  context: vscode.ExtensionContext,\n  assistantDiagnostics: vscode.DiagnosticCollection,\n  validator: DocumentValidator\n) {\n  context.subscriptions.push(\n    vscode.workspace.onDidChangeTextDocument((event) => {\n      if (\n        getAssistantMode() === AssistantMode.Background &&\n        validator.isValid(event.document) &&\n        event.contentChanges.length\n      ) {\n        const firstChangeStartPosition = event.contentChanges\n          .map((change) => change.range.start)\n          .reduce((first: vscode.Position | null, current) => {\n            if (first === null) {\n              return current;\n            }\n            if (current.isBefore(first)) {\n              return current;\n            }\n            return first;\n          }, null);\n\n        if (firstChangeStartPosition !== null) {\n          const diagnostics = assistantDiagnostics\n            .get(event.document.uri)\n            ?.filter((d) => d.range.end.isBefore(firstChangeStartPosition));\n          assistantDiagnostics.set(event.document.uri, diagnostics);\n          if (\n            assistantDiagnostics.get(event.document.uri)?.length !==\n            diagnostics?.length\n          ) {\n            setDecorators(diagnostics);\n          }\n          if (!changesTrackMap.has(event.document.uri)) {\n            changesTrackMap.set(event.document.uri, firstChangeStartPosition);\n          }\n        } else {\n          assistantDiagnostics.delete(event.document.uri);\n          setDecorators([]);\n        }\n        if (vscode.window.activeTextEditor) {\n          debouncedRefreshDiagnostics(\n            vscode.window.activeTextEditor.document,\n            assistantDiagnostics,\n            vscode.window.activeTextEditor.visibleRanges\n          );\n        }\n      }\n    })\n  );\n}\n\nasync function handleCodeAction(context: vscode.ExtensionContext) {\n  const validLanguages = await getValidLanguages();\n  context.subscriptions.push(\n    vscode.languages.registerCodeActionsProvider(\n      validLanguages,\n      new AssistantCodeActionProvider(),\n      {\n        providedCodeActionKinds:\n          AssistantCodeActionProvider.providedCodeActionKinds,\n      }\n    )\n  );\n}\n","import { Capability, isCapabilityEnabled } from \"../capabilities/capabilities\";\n\nconst MODE_A = \"A\";\nconst MODE_B = \"B\";\nexport default function getMode(): string {\n  if (isCapabilityEnabled(Capability.ASSISTANT_MODE_A_CAPABILITY_KEY)) {\n    return MODE_A;\n  }\n  if (isCapabilityEnabled(Capability.ASSISTANT_MODE_B_CAPABILITY_KEY)) {\n    return MODE_B;\n  }\n  return MODE_A; // default\n}\n","export const ASSISTANT_API_VERSION = \"1.0.0\";\nexport const TABNINE_DIAGNOSTIC_CODE = \"tabnine\";\nexport const ACTIVE_STATE_KEY = \"tabnine-assistant-active\";\nexport const ENABLED_KEY = \"tabnine-assistant:enabled\";\nexport const BACKGROUND_KEY = \"tabnine-assistant:background\";\nexport const CAPABILITY_KEY = \"tabnine-assistant:capability\";\nexport const THRESHOLD_STATE_KEY = \"tabnine-assistant-threshold\";\nexport const PASTE_THRESHOLD = \"Paste\";\nexport const EDIT_DISTANCE = 2;\nexport const ASSISTANT_SELECTION_COMMAND = \"tabnine-assistant-select\";\nexport const ASSISTANT_IGNORE_COMMAND = \"tabnine-assistant-ignore\";\nexport const ASSISTANT_IGNORE_REFRESH_COMMAND =\n  \"tabnine-assistant-ignore-refresh\";\nexport const ASSISTANT_MODE_TOGGLE_COMMAND = \"TabNine::assistantModeToggle\";\nexport const PASTE_COMMAND = \"TabNine::paste\";\nexport const ASSISTANT_CLEAR_CACHE_COMMAND = \"TabNine::assistantClearCache\";\nexport const ASSISTANT_SET_THRESHOLD_COMMAND = \"TabNine::assistantSetThreshold\";\nexport const ASSISTANT_TOGGLE_COMMAND = \"TabNine::assistantToggle\";\n","import * as vscode from \"vscode\";\nimport { getAssistantMode, AssistantMode } from \"./AssistantMode\";\nimport { StateType } from \"./utils\";\nimport setState from \"../binary/requests/setState\";\nimport { StatePayload } from \"../globals/consts\";\nimport {\n  ASSISTANT_IGNORE_REFRESH_COMMAND,\n  ASSISTANT_SET_THRESHOLD_COMMAND,\n  THRESHOLD_STATE_KEY,\n} from \"./globals\";\n\nlet backgroundThreshold = \"Medium\";\n\nexport function initAssistantThreshold(context: vscode.ExtensionContext): void {\n  backgroundThreshold =\n    context.workspaceState.get(THRESHOLD_STATE_KEY, backgroundThreshold) ||\n    backgroundThreshold;\n\n  registerSetThresholdCommand(context);\n}\n\nexport function getBackgroundThreshold(): string {\n  return backgroundThreshold;\n}\n\nfunction registerSetThresholdCommand(context: vscode.ExtensionContext) {\n  if (getAssistantMode() === AssistantMode.Background) {\n    context.subscriptions.push(\n      vscode.commands.registerCommand(\n        ASSISTANT_SET_THRESHOLD_COMMAND,\n        async () => {\n          const prevThreshold = backgroundThreshold;\n          const options: vscode.QuickPickOptions = {\n            canPickMany: false,\n            placeHolder: `Pick threshold (Currently: ${backgroundThreshold})`,\n          };\n          const items = [\"Low\", \"Medium\", \"High\"];\n          const value = await vscode.window.showQuickPick(items, options);\n          if (value && items.includes(value)) {\n            backgroundThreshold = value;\n            await context.workspaceState.update(\n              THRESHOLD_STATE_KEY,\n              backgroundThreshold\n            );\n            void setState({\n              [StatePayload.STATE]: {\n                state_type: StateType.threshold,\n                state: JSON.stringify({\n                  from: prevThreshold,\n                  to: backgroundThreshold,\n                }),\n              },\n            });\n            void vscode.commands.executeCommand(\n              ASSISTANT_IGNORE_REFRESH_COMMAND\n            );\n          }\n        }\n      )\n    );\n  }\n}\n","import { request } from \"./request\";\n\nexport default function clearCache(): Promise<string[]> {\n  const method = \"clear_cache\";\n  const body = {\n    method,\n    params: {},\n  };\n\n  return request(body) as Promise<string[]>;\n}\n","import { AssistantDiagnostic } from \"../AssistantDiagnostic\";\nimport CancellationToken from \"../CancellationToken\";\nimport getMode from \"../getMode\";\nimport { Range } from \"../Range\";\nimport { request } from \"./request\";\n\nexport default function getAssistantDiagnostics(\n  code: string,\n  fileName: string,\n  visibleRange: Range,\n  threshold: string,\n  editDistance: number,\n  apiKey: string,\n  cancellationToken: CancellationToken\n): Promise<AssistantDiagnostic[] | undefined> {\n  const body = {\n    method: \"get_assistant_diagnostics\",\n    params: {\n      code,\n      fileName,\n      visibleRange,\n      mode: getMode(),\n      threshold,\n      editDistance,\n      apiKey,\n    },\n  };\n  return request(body, cancellationToken);\n}\n","import { request } from \"./request\";\n\nexport default function getCompilerDiagnostics(\n  code: string,\n  fileName: string\n): Promise<string[]> {\n  const method = \"get_compiler_diagnostics\";\n  const body = {\n    method,\n    params: {\n      code,\n      fileName,\n    },\n  };\n  return request(body) as Promise<string[]>;\n}\n","import { request } from \"./request\";\n\nexport default function getValidExtensions(): Promise<string[]> {\n  const method = \"get_valid_extensions\";\n  const body = {\n    method,\n    params: {},\n  };\n  return request(body) as Promise<string[]>;\n}\n","import { request } from \"./request\";\n\nexport default function getValidLanguages(): Promise<string[]> {\n  const method = \"get_valid_languages\";\n  const body = {\n    method,\n    params: {},\n  };\n  return request(body) as Promise<string[]>;\n}\n","import { Logger } from \"../../utils/logger\";\nimport AssistantProcess from \"../AssistantProcess\";\nimport CancellationToken from \"../CancellationToken\";\nimport { ASSISTANT_API_VERSION } from \"../globals\";\nimport { getNanoSecTime } from \"../utils\";\n\nlet validationProcess: AssistantProcess | null = null;\nlet ASSISTANT_BINARY_VERSION: string | undefined;\n\nexport async function getAssistantVersion(): Promise<string> {\n  if (!ASSISTANT_BINARY_VERSION) {\n    ASSISTANT_BINARY_VERSION = await request({\n      method: \"get_version\",\n      params: {},\n    });\n  }\n  return ASSISTANT_BINARY_VERSION as string;\n}\n\nexport async function request<T, R>(\n  body: Record<string, T>,\n  cancellationToken?: CancellationToken\n): Promise<R | undefined> {\n  if (validationProcess === null) {\n    validationProcess = new AssistantProcess();\n  }\n\n  if (validationProcess.shutdowned) {\n    return undefined;\n  }\n\n  return new Promise((resolve, reject) => {\n    const id = getNanoSecTime();\n    cancellationToken?.registerCallback(resolve, undefined);\n\n    validationProcess\n      ?.post<{ id: number; version: string }, R>(\n        { ...body, id, version: ASSISTANT_API_VERSION },\n        id\n      )\n      .then(resolve, reject);\n  });\n}\n\nexport function closeAssistant(): Promise<unknown> {\n  Logger.warn(\"assistant is closing\");\n  if (validationProcess) {\n    const method = \"shutdown\";\n    const body = {\n      method,\n      params: {},\n    };\n    validationProcess.shutdowned = true;\n    return request(body);\n  }\n  return Promise.resolve();\n}\n","import { request } from \"./request\";\n\nexport default function setIgnore(responseId: string): Promise<string[]> {\n  const method = \"set_ignore\";\n  const body = {\n    method,\n    params: {\n      responseId,\n    },\n  };\n  return request(body) as Promise<string[]>;\n}\n","import * as child_process from \"child_process\";\nimport { getFullPathToAssistantBinary } from \"./utils\";\n\nexport default function run(\n  additionalArgs: string[] = [],\n  inheritStdio = false\n): child_process.ChildProcess {\n  const args = [...additionalArgs];\n  const command = getFullPathToAssistantBinary();\n  return child_process.spawn(command, args, {\n    stdio: inheritStdio ? \"inherit\" : \"pipe\",\n  });\n}\n","import * as fs from \"fs\";\nimport * as https from \"https\";\nimport * as vscode from \"vscode\";\nimport { getAssistantRootPath } from \"../binary/paths\";\nimport { getState } from \"../binary/requests/requests\";\nimport { State } from \"../binary/state\";\nimport { asyncExists } from \"../utils/file.utils\";\nimport sortBySemver from \"../utils/semver.utils\";\n\nconst fsp = fs.promises;\nconst assistantHost = \"update.tabnine.com\";\nconst assistantBinaryBaseName = \"tabnine-assistant\";\nconst statusBarItem = vscode.window.createStatusBarItem(\n  vscode.StatusBarAlignment.Right\n);\n\nexport const StateType = {\n  threshold: \"assistant-set-threshold-from-to\",\n  toggle: \"assistant-toggle\",\n  clearCache: \"validtor-clear-cache\",\n};\n\nlet state: State | null | undefined = null;\n\nexport async function getAPIKey(): Promise<string> {\n  if (state === null) {\n    state = await getState();\n  }\n\n  return state?.api_key || \"\";\n}\n\nexport async function downloadAssistantBinary(): Promise<boolean> {\n  if (state === null) {\n    state = await getState();\n  }\n  if (!state?.cloud_enabled) {\n    return false;\n  }\n\n  let tabNineVersionFromWeb: string;\n  try {\n    tabNineVersionFromWeb = await getTabNineAssistantVersionFromWeb();\n  } catch (e) {\n    // network problem, check if there is already some version on the machine\n    try {\n      getFullPathToAssistantBinary();\n      return true;\n    } catch (error) {\n      // binary doesn't exist\n      return false;\n    }\n  }\n\n  if (await asyncExists(getFullPathToAssistantBinary(tabNineVersionFromWeb))) {\n    return true;\n  }\n\n  return vscode.window.withProgress(\n    {\n      location: vscode.ProgressLocation.Notification,\n      cancellable: true,\n      title: `downloading tabnine assistant...`,\n    },\n    (progress, token) =>\n      new Promise((resolve, reject) => {\n        try {\n          const fullPath = getFullPathToAssistantBinary(tabNineVersionFromWeb);\n          const binaryDirPath = fullPath.slice(0, fullPath.lastIndexOf(\"/\"));\n          void fsp.mkdir(binaryDirPath, { recursive: true }).then(() => {\n            let totalBinaryLength: string | undefined;\n            const requestDownload = https.get(\n              {\n                timeout: 10_000,\n                hostname: assistantHost,\n                path: `/assistant/${fullPath.slice(\n                  fullPath.indexOf(tabNineVersionFromWeb)\n                )}`,\n              },\n              (res) => {\n                const binaryFile = fs.createWriteStream(fullPath, {\n                  mode: 0o755,\n                });\n                binaryFile.on(\"error\", (err) => reject(err));\n\n                let receivedBinaryLength = 0;\n                let binaryPercentage = 0;\n                res\n                  .on(\"data\", (chunk: { length: number }) => {\n                    if (!totalBinaryLength) {\n                      return;\n                    }\n\n                    receivedBinaryLength += chunk.length;\n                    const newBinaryPercentage = Number(\n                      (\n                        (receivedBinaryLength * 100) /\n                        Number.parseInt(totalBinaryLength, 10)\n                      ).toFixed()\n                    );\n\n                    if (binaryPercentage === 0) {\n                      progress.report({ increment: 0 });\n                    } else if (newBinaryPercentage > binaryPercentage) {\n                      progress.report({ increment: 1 });\n                    }\n\n                    binaryPercentage = newBinaryPercentage;\n                  })\n                  .on(\"error\", (err) => reject(err))\n                  .on(\"end\", () => {\n                    if (token.isCancellationRequested) {\n                      return;\n                    }\n\n                    progress.report({ increment: 100 });\n                    void vscode.window.showInformationMessage(\n                      `TabNine Assistant ${tabNineVersionFromWeb} binary is successfully downloaded`\n                    );\n                    resolve(true);\n                  })\n                  .pipe(binaryFile)\n                  .on(\"error\", (err) => reject(err));\n\n                token.onCancellationRequested(() => {\n                  res.destroy();\n                  binaryFile.destroy();\n                });\n              }\n            );\n\n            requestDownload.on(\n              \"response\",\n              (res: { headers: Record<string, string> }) => {\n                statusBarItem.text = \"tabnine assistant: $(sync~spin)\";\n                statusBarItem.tooltip = `downloading tabnine assistant ${tabNineVersionFromWeb} binary`;\n                totalBinaryLength = res.headers[\"content-length\"];\n              }\n            );\n            requestDownload.on(\"timeout\", () =>\n              reject(new Error(`Request to assistant timed out`))\n            );\n            requestDownload.on(\"error\", (err) => reject(err));\n\n            token.onCancellationRequested(() => {\n              fsp.unlink(fullPath).catch((err) => reject(err));\n              requestDownload.destroy(new Error(\"Canceled\"));\n              reject(\n                new Error(\n                  \"Download of tabnine assistant binary has been cancelled\"\n                )\n              );\n            });\n          });\n        } catch (err) {\n          reject(err);\n        }\n      })\n  );\n}\n\nasync function getTabNineAssistantVersionFromWeb(): Promise<string> {\n  return new Promise((resolve, reject) => {\n    const requestVersion = https.get(\n      { timeout: 10_000, hostname: assistantHost, path: `/assistant/version` },\n      (res) => {\n        let output = \"\";\n        res.on(\"data\", (chunk) => {\n          output += chunk;\n        });\n        res.on(\"end\", () => resolve(output.trim()));\n        res.on(\"error\", (err) => reject(err));\n      }\n    );\n    requestVersion.on(\"timeout\", () =>\n      reject(new Error(`Request to assistant version timed out`))\n    );\n    requestVersion.on(\"error\", (err) => reject(err));\n  });\n}\n\nexport function getFullPathToAssistantBinary(version?: string): string {\n  const architecture = getArchitecture();\n  const { target, filename } = getTargetAndFileNameByPlatform();\n  const assistantBinariesPath = getAssistantRootPath();\n\n  if (version === undefined) {\n    const versions = sortBySemver(fs.readdirSync(assistantBinariesPath));\n    const versionToRun = versions\n      .map(\n        (currentVersion) =>\n          `${assistantBinariesPath}/${currentVersion}/${architecture}-${target}/${filename}`\n      )\n      .find((fullPath) => fs.existsSync(fullPath));\n\n    if (!versionToRun) {\n      throw new Error(\n        `Couldn't find a TabNine Assistant binary (tried the following local versions: ${versions.join(\n          \", \"\n        )})`\n      );\n    }\n\n    return versionToRun;\n  }\n\n  return `${assistantBinariesPath}/${version}/${architecture}-${target}/${filename}`;\n}\n\nfunction getArchitecture(): string {\n  if (process.arch === \"x64\") {\n    return \"x86_64\";\n  }\n  if (process.arch === \"arm64\") {\n    return \"arm64\";\n  }\n  throw new Error(\n    `Architecture \"${process.arch}\" is not supported by tabnine assistant`\n  );\n}\n\nfunction getTargetAndFileNameByPlatform(): {\n  target: string;\n  filename: string;\n} {\n  if (process.platform === \"win32\") {\n    return {\n      target: \"pc-windows-gnu\",\n      filename: `${assistantBinaryBaseName}.exe`,\n    };\n  }\n  if (process.platform === \"darwin\") {\n    return { target: \"apple-darwin\", filename: assistantBinaryBaseName };\n  }\n  if (process.platform === \"linux\") {\n    return { target: \"unknown-linux-musl\", filename: assistantBinaryBaseName };\n  }\n  throw new Error(\n    `Platform \"${process.platform}\" is not supported by TabNine Assistant`\n  );\n}\n\nexport function getNanoSecTime(): number {\n  const [seconds, remainingNanoSecs] = process.hrtime();\n\n  return seconds * 1000000000 + remainingNanoSecs;\n}\n\nexport function debounce(\n  this: unknown,\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  func: (...args: any[]) => unknown,\n  timeout = 500\n): (...args: unknown[]) => unknown {\n  let timer: NodeJS.Timeout;\n  return (...args: unknown[]) => {\n    clearTimeout(timer);\n    timer = setTimeout(() => {\n      func.apply(this, args);\n    }, timeout);\n  };\n}\n","import {\n  authentication,\n  AuthenticationProvider,\n  AuthenticationProviderAuthenticationSessionsChangeEvent,\n  AuthenticationSession,\n  commands,\n  Disposable,\n  Event,\n  EventEmitter,\n} from \"vscode\";\nimport { once, EventEmitter as Emitter } from \"events\";\nimport { once as runOnce } from \"underscore\";\nimport { State } from \"../binary/state\";\nimport { BRAND_NAME } from \"../globals/consts\";\nimport { sleep } from \"../utils/utils\";\nimport { callForLogin, callForLogout } from \"./authentication.api\";\nimport TabnineSession from \"./TabnineSession\";\nimport BINARY_STATE from \"../binary/binaryStateSingleton\";\nimport { deriveNonNullState } from \"../state/deriveState\";\n\nconst LOGIN_HAPPENED_EVENT = \"loginHappened\";\n\ntype UserAuthData = {\n  username: string;\n  accessToken: string;\n};\n\ntype AuthStateData = {\n  current: UserAuthData | null;\n  last: UserAuthData | null;\n};\n\nconst AUTH_INITIAL_STATE = {\n  last: null,\n  current: null,\n};\n\nfunction toSession({ accessToken, username }: UserAuthData): TabnineSession {\n  return new TabnineSession(username, accessToken);\n}\n\nconst setAuthenticationReadyOnce = runOnce(setAuthenticationReady);\n\nexport default class TabnineAuthenticationProvider\n  implements AuthenticationProvider, Disposable {\n  public readonly id: string = BRAND_NAME;\n\n  public readonly label: string = BRAND_NAME;\n\n  private initializedDisposable: Disposable | undefined;\n\n  private onDidLogin = new Emitter();\n\n  private sessionsChangeEventEmitter = new EventEmitter<AuthenticationProviderAuthenticationSessionsChangeEvent>();\n\n  private authState = deriveNonNullState(\n    BINARY_STATE,\n    calculateAuthState,\n    AUTH_INITIAL_STATE\n  );\n\n  constructor() {\n    this.initializedDisposable = Disposable.from(\n      this.authState,\n      this.onDerivedAuthStateChanged(),\n      listenForSessionChangeFromVscode()\n    );\n  }\n\n  get onDidChangeSessions(): Event<AuthenticationProviderAuthenticationSessionsChangeEvent> {\n    return this.sessionsChangeEventEmitter.event;\n  }\n\n  getSessions(): Promise<readonly AuthenticationSession[]> {\n    const userData = this.authState.get().current;\n\n    return Promise.resolve(userData ? [toSession(userData)] : []);\n  }\n\n  async createSession(): Promise<AuthenticationSession> {\n    await callForLogin();\n    const userAuth = await this.waitForLogin();\n\n    return toSession(userAuth);\n  }\n\n  private async waitForLogin(): Promise<UserAuthData> {\n    return ((await once(this.onDidLogin, LOGIN_HAPPENED_EVENT)) as [\n      UserAuthData\n    ])[0];\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  async removeSession(): Promise<void> {\n    await callForLogout();\n\n    await sleep(5000);\n  }\n\n  dispose(): void {\n    this.initializedDisposable?.dispose();\n  }\n\n  private onDerivedAuthStateChanged(): Disposable {\n    return this.authState.onChange(async ({ current, last }) => {\n      await setAuthenticationReadyOnce();\n\n      if (current && !last) {\n        this.onDidLogin.emit(LOGIN_HAPPENED_EVENT, current);\n      }\n\n      if (!current) {\n        await clearSessionPreference();\n      }\n\n      await setAuthenticationState(Boolean(current));\n      this.notifyVscodeOfAuthStateChanges(current, last);\n    });\n  }\n\n  private notifyVscodeOfAuthStateChanges(\n    current: UserAuthData | null,\n    last: UserAuthData | null\n  ) {\n    if (!last && current) {\n      this.sessionsChangeEventEmitter.fire({\n        added: [toSession(current)],\n      });\n    }\n\n    if (last && !current) {\n      this.sessionsChangeEventEmitter.fire({\n        removed: [toSession(last)],\n      });\n    }\n\n    if (last && current && last.accessToken !== current.accessToken) {\n      this.sessionsChangeEventEmitter.fire({\n        removed: [toSession(last)],\n        added: [toSession(current)],\n      });\n    }\n  }\n}\n\nasync function clearSessionPreference() {\n  await authentication.getSession(BRAND_NAME, [], {\n    clearSessionPreference: true,\n  });\n}\n\nfunction listenForSessionChangeFromVscode(): Disposable {\n  // This fires when the user initiates a \"silent\" auth flow via the Accounts menu.\n  return authentication.onDidChangeSessions((e) => {\n    if (e.provider.id === BRAND_NAME) {\n      void BINARY_STATE.checkForUpdates();\n    }\n  });\n}\n\nfunction calculateAuthState(binartState: State, value: AuthStateData) {\n  const newValue: AuthStateData = {\n    last: value.current,\n    current: null,\n  };\n\n  if (binartState.is_logged_in) {\n    newValue.current = {\n      accessToken: binartState.access_token || \"\",\n      username: binartState.user_name,\n    };\n  }\n\n  return newValue;\n}\n\nasync function setAuthenticationState(authenticated: boolean) {\n  return commands.executeCommand(\n    \"setContext\",\n    \"tabnine.authenticated\",\n    authenticated\n  );\n}\n\nasync function setAuthenticationReady() {\n  return commands.executeCommand(\n    \"setContext\",\n    \"tabnine.authentication.ready\",\n    true\n  );\n}\n","import { AuthenticationSession } from \"vscode\";\nimport { BRAND_NAME } from \"../globals/consts\";\n\nconst DEFAULT_USER_IDENTIFIER = \"Tabnine Authentication\";\n\nexport default class TabnineSession implements AuthenticationSession {\n  readonly id = BRAND_NAME;\n\n  readonly scopes = [];\n\n  readonly accessToken: string;\n\n  readonly account: { id: string; label: string };\n\n  constructor(userName: string = DEFAULT_USER_IDENTIFIER, accessToken = \"\") {\n    this.account = { id: userName, label: userName };\n    this.accessToken = accessToken;\n  }\n}\n","import { tabNineProcess } from \"../binary/requests/requests\";\nimport { openExternalLogin } from \"../cloudEnvs/openLogin\";\nimport { notifyOnError } from \"../utils/notifyOnError\";\n\nexport async function callForLogin(): Promise<void> {\n  return notifyOnError(openExternalLogin, \"Failed to call for login\");\n}\n\nexport async function callForLogout(): Promise<unknown> {\n  return notifyOnError(\n    () => tabNineProcess.request({ Logout: {} }),\n    \"Failed to call for logout\"\n  );\n}\n\nexport async function signInUsingCustomToken(\n  customToken: string\n): Promise<unknown> {\n  return notifyOnError(\n    () =>\n      tabNineProcess.request({\n        LoginWithCustomToken: { custom_token: customToken },\n      }),\n    \"Failed to sign in using custom token\"\n  );\n}\n\nexport async function signInUsingCustomTokenUrl(): Promise<\n  string | null | undefined\n> {\n  return notifyOnError(\n    () =>\n      tabNineProcess.request({\n        LoginWithCustomTokenUrl: {},\n      }),\n    \"Failed to sign in using custom token url\"\n  );\n}\n","import { window, env, Uri } from \"vscode\";\nimport {\n  signInUsingCustomToken,\n  signInUsingCustomTokenUrl,\n} from \"./authentication.api\";\n\nconst SIGN_IN = \"Sign in\";\nconst GET_AUTH_TOKEN = \"Get auth token\";\nexport default async function SignInUsingCustomTokenCommand() {\n  const url = await signInUsingCustomTokenUrl();\n  if (!url) {\n    await window.showErrorMessage(\"Failed to sign in using auth token\");\n    return;\n  }\n\n  const doYouHaveAuthToken = await window.showInformationMessage(\n    `If already have an auth token, click \"${SIGN_IN}\" to apply it. Otherwise, click on \"${GET_AUTH_TOKEN}\" to get one`,\n    { modal: true },\n    SIGN_IN,\n    GET_AUTH_TOKEN\n  );\n\n  if (doYouHaveAuthToken === GET_AUTH_TOKEN) {\n    await env.openExternal(Uri.parse(url));\n  }\n\n  const customToken = await window.showInputBox({\n    prompt: \"Enter your auth token\",\n    ignoreFocusOut: true,\n  });\n\n  if (customToken) {\n    await signInUsingCustomToken(customToken);\n  }\n}\n","import { languages, Disposable, ExtensionContext } from \"vscode\";\nimport getSuggestionMode, {\n  SuggestionsMode,\n} from \"./capabilities/getSuggestionMode\";\nimport {\n  Capability,\n  isCapabilityEnabled,\n  onDidRefreshCapabilities,\n} from \"./capabilities/capabilities\";\n\nimport provideCompletionItems from \"./provideCompletionItems\";\nimport { COMPLETION_TRIGGERS } from \"./globals/consts\";\nimport {\n  isInlineSuggestionProposedApiSupported,\n  isInlineSuggestionReleasedApiSupported,\n} from \"./globals/versions\";\nimport enableProposed from \"./globals/proposedAPI\";\nimport { registerInlineProvider } from \"./inlineSuggestions/registerInlineProvider\";\nimport { completionsState } from \"./state/completionsState\";\n\nlet subscriptions: Disposable[] = [];\n\nexport default async function installAutocomplete(\n  context: ExtensionContext\n): Promise<void> {\n  context.subscriptions.push({\n    dispose: () => uninstallAutocomplete(),\n  });\n\n  let installOptions = InstallOptions.get();\n\n  await reinstallAutocomplete(installOptions);\n\n  context.subscriptions.push(\n    onDidRefreshCapabilities(() => {\n      const newInstallOptions = InstallOptions.get();\n\n      if (!newInstallOptions.equals(installOptions)) {\n        void reinstallAutocomplete(newInstallOptions);\n        installOptions = newInstallOptions;\n      }\n    })\n  );\n\n  completionsState.on(\"changed\", (enabled) => {\n    if (enabled) {\n      void reinstallAutocomplete(InstallOptions.get());\n    } else {\n      uninstallAutocomplete();\n    }\n  });\n}\n\nasync function reinstallAutocomplete({\n  inlineEnabled,\n  snippetsEnabled,\n  autocompleteEnabled,\n}: InstallOptions) {\n  uninstallAutocomplete();\n\n  if (!completionsState.value) {\n    return;\n  }\n\n  if (\n    (inlineEnabled || snippetsEnabled) &&\n    (isInlineSuggestionReleasedApiSupported() || (await isDefaultAPIEnabled()))\n  ) {\n    subscriptions.push(await registerInlineProvider());\n  }\n\n  if (autocompleteEnabled) {\n    subscriptions.push(\n      languages.registerCompletionItemProvider(\n        { pattern: \"**\" },\n        {\n          provideCompletionItems,\n        },\n        ...COMPLETION_TRIGGERS\n      )\n    );\n  }\n}\n\nclass InstallOptions {\n  inlineEnabled: boolean;\n\n  snippetsEnabled: boolean;\n\n  autocompleteEnabled: boolean;\n\n  constructor(\n    inlineEnabled: boolean,\n    snippetsEnabled: boolean,\n    autocompleteEnabled: boolean\n  ) {\n    this.inlineEnabled = inlineEnabled;\n    this.snippetsEnabled = snippetsEnabled;\n    this.autocompleteEnabled = autocompleteEnabled;\n  }\n\n  public equals(other: InstallOptions): boolean {\n    return (\n      this.autocompleteEnabled === other.autocompleteEnabled &&\n      this.inlineEnabled === other.inlineEnabled &&\n      this.snippetsEnabled === other.snippetsEnabled\n    );\n  }\n\n  public static get() {\n    return new InstallOptions(\n      isInlineEnabled(),\n      isSnippetSuggestionsEnabled(),\n      isAutoCompleteEnabled()\n    );\n  }\n}\n\nfunction uninstallAutocomplete() {\n  subscriptions.forEach((s) => {\n    s.dispose();\n  });\n  subscriptions = [];\n}\n\nfunction isInlineEnabled() {\n  return getSuggestionMode() === SuggestionsMode.INLINE;\n}\n\nfunction isSnippetSuggestionsEnabled() {\n  return isCapabilityEnabled(Capability.SNIPPET_SUGGESTIONS);\n}\n\nfunction isAutoCompleteEnabled() {\n  return getSuggestionMode() === SuggestionsMode.AUTOCOMPLETE;\n}\nasync function isDefaultAPIEnabled(): Promise<boolean> {\n  return (\n    (isCapabilityEnabled(Capability.SNIPPET_SUGGESTIONS_CONFIGURABLE) ||\n      isCapabilityEnabled(Capability.VSCODE_INLINE_V2)) &&\n    isInlineSuggestionProposedApiSupported() &&\n    (await enableProposed())\n  );\n}\n","import * as child_process from \"child_process\";\nimport { Disposable, EventEmitter, commands } from \"vscode\";\nimport { Mutex } from \"await-semaphore\";\nimport { once } from \"events\";\nimport BinaryRequester from \"./InnerBinary\";\nimport runBinary from \"./runBinary\";\nimport {\n  CONSECUTIVE_RESTART_THRESHOLD,\n  REQUEST_FAILURES_THRESHOLD,\n  restartBackoff,\n  BINARY_RESTART_EVENT,\n} from \"../globals/consts\";\nimport { sleep, waitForRejection } from \"../utils/utils\";\nimport { Logger } from \"../utils/logger\";\n\ntype RestartCallback = () => void;\n\nexport default class Binary implements Disposable {\n  dispose() {\n    this.proc?.removeAllListeners();\n    this.proc?.kill();\n  }\n\n  private mutex: Mutex = new Mutex();\n\n  private innerBinary: BinaryRequester = new BinaryRequester();\n\n  private proc?: child_process.ChildProcess;\n\n  private consecutiveRestarts = 0;\n\n  private requestFailures = 0;\n\n  private isRestarting = false;\n\n  private onRestartEventEmitter: EventEmitter<string> = new EventEmitter();\n\n  private processRunArgs: string[] = [];\n\n  private ready = new EventEmitter<void>();\n\n  public onReady = new Promise((resolve) => {\n    this.ready.event(resolve);\n  });\n\n  public onRestart(callback: RestartCallback): Disposable {\n    return this.onRestartEventEmitter.event(callback);\n  }\n\n  public async init(processRunArgs: string[]): Promise<void> {\n    this.processRunArgs = processRunArgs;\n    return this.startChild();\n  }\n\n  public pid(): number | undefined {\n    return this.proc?.pid;\n  }\n\n  public async request<T, R = unknown>(\n    request: R,\n    timeout = 1000\n  ): Promise<T | null | undefined> {\n    const release = await this.mutex.acquire();\n\n    try {\n      if (this.isRestarting) {\n        return null;\n      }\n\n      if (this.isBinaryDead()) {\n        Logger.info(\"Binary died. It is being restarted.\");\n        await this.restartChild();\n\n        return null;\n      }\n\n      const result: T | null | undefined = await this.innerBinary.request(\n        request,\n        timeout\n      );\n\n      this.consecutiveRestarts = 0;\n      this.requestFailures = 0;\n\n      return result;\n    } catch (err) {\n      Logger.error(err);\n      this.requestFailures += 1;\n      if (this.requestFailures > REQUEST_FAILURES_THRESHOLD) {\n        Logger.warn(\"Binary not returning results, it is being restarted.\");\n        await this.restartChild();\n      }\n    } finally {\n      release();\n    }\n\n    return null;\n  }\n\n  private isBinaryDead(): boolean {\n    return this.proc?.killed ?? false;\n  }\n\n  public async resetBinaryForTesting(): Promise<void> {\n    const { proc, readLine } = await runBinary([]);\n\n    this.proc = proc;\n    this.innerBinary.init(proc, readLine);\n  }\n\n  public async restartChild(): Promise<void> {\n    this.proc?.removeAllListeners();\n    this.proc?.kill();\n\n    this.isRestarting = true;\n    this.consecutiveRestarts += 1;\n\n    if (this.consecutiveRestarts >= CONSECUTIVE_RESTART_THRESHOLD) {\n      return; // We gave up. Keep it dead.\n    }\n\n    await sleep(restartBackoff(this.consecutiveRestarts));\n    await this.startChild();\n    this.onRestartEventEmitter.fire(BINARY_RESTART_EVENT);\n  }\n\n  private async startChild() {\n    const { proc, readLine } = await runBinary([\n      ...this.processRunArgs,\n      `ide-restart-counter=${this.consecutiveRestarts}`,\n    ]);\n\n    this.proc = proc;\n    this.proc.unref(); // AIUI, this lets Node exit without waiting for the child\n    this.proc.on(\"exit\", (code, signal) => {\n      Logger.warn(\n        `Binary child process exited with code ${code ?? \"unknown\"} signal ${\n          signal ?? \"unknown\"\n        }`\n      );\n      void this.restartChild();\n    });\n    this.proc.on(\"error\", (error) => {\n      Logger.warn(`Binary child process error: ${error.message}`);\n      void this.restartChild();\n    });\n    this.proc.stdin?.on(\"error\", (error) => {\n      Logger.warn(`Binary child process stdin error: ${error.message}`);\n      void this.restartChild();\n    });\n    this.proc.stdout?.on(\"error\", (error) => {\n      Logger.warn(`Binary child process stdout error: ${error.message}`);\n      void this.restartChild();\n    });\n\n    void waitForRejection(once(this.proc, \"exit\"), 200).then(() => {\n      void commands.executeCommand(\"setContext\", \"tabnine.process.ready\", true);\n      this.ready.fire();\n    });\n\n    this.innerBinary.init(proc, readLine);\n    this.isRestarting = false;\n  }\n}\n","import * as child_process from \"child_process\";\nimport { ReadLine } from \"readline\";\nimport { API_VERSION } from \"../globals/consts\";\nimport OnceReader from \"./OnceReader\";\n\ntype UnknownWithToString = {\n  toString(): string;\n};\n\nexport default class BinaryRequester {\n  private onceReader?: OnceReader;\n\n  private proc?: child_process.ChildProcess;\n\n  public init(proc: child_process.ChildProcess, readline: ReadLine): void {\n    this.proc = proc;\n    this.onceReader = new OnceReader(readline);\n  }\n\n  public async request<T, R = unknown>(\n    request: R,\n    timeout = 1000\n  ): Promise<T | null | undefined> {\n    const result = await this.requestWithTimeout(request, timeout);\n\n    return JSON.parse(result.toString()) as T | null;\n  }\n\n  private requestWithTimeout<T>(\n    request: T,\n    timeout: number\n  ): Promise<UnknownWithToString> {\n    return new Promise<UnknownWithToString>((resolve, reject) => {\n      setTimeout(() => {\n        reject(\n          new Error(`Binary request timed out. ${JSON.stringify(request)}`)\n        );\n      }, timeout);\n\n      this.onceReader?.onLineRead(resolve);\n\n      this.proc?.stdin?.write(\n        `${JSON.stringify({\n          version: API_VERSION,\n          request,\n        })}\\n`,\n        \"utf8\"\n      );\n    });\n  }\n}\n","import { ReadLine } from \"readline\";\n\ntype Callback = { (line: string): void };\n\nexport default class OnceReader {\n  private callbackQueue: Callback[] = [];\n\n  constructor(readline: ReadLine) {\n    readline.on(\"line\", (line) => {\n      const oldestCallback = this.callbackQueue.shift();\n\n      if (!oldestCallback) {\n        throw new Error(\n          \"Read a response from the engine before a request was written.\"\n        );\n      }\n\n      oldestCallback(line);\n    });\n  }\n\n  onLineRead(callback: (line: string) => void): void {\n    this.callbackQueue.push(callback);\n  }\n}\n","import * as fs from \"fs\";\nimport { getActivePath, versionPath } from \"../paths\";\nimport { isBadVersion } from \"./binaryValidator\";\nimport { Logger } from \"../../utils/logger\";\n\nexport default function handleActiveFile(): string | null {\n  try {\n    const activePath = getActivePath();\n    if (fs.existsSync(activePath)) {\n      const activeVersion = fs.readFileSync(activePath, \"utf-8\").trim();\n      if (isBadVersion(activeVersion)) {\n        return null;\n      }\n\n      const activeVersionPath = versionPath(activeVersion);\n      if (fs.existsSync(activeVersionPath)) {\n        return activeVersionPath;\n      }\n    }\n  } catch (e) {\n    Logger.error(\n      \"Error handling .active file. Falling back to semver sorting\",\n      e\n    );\n  }\n  return null;\n}\n","import * as semver from \"semver\";\nimport { asyncExists } from \"../../utils/file.utils\";\nimport { runProcess } from \"../runProcess\";\nimport { Logger } from \"../../utils/logger\";\n\n// A patch to skip this specific version, because of a critical issue in the version\nconst BAD_VERSION = \"4.0.47\";\nconst BAD_VERSIONS_RANGE = { start: \"4.5.0\", end: \"4.5.13\" };\nconst TWO_SECONDS_TIMEOUT = 2000;\n\nexport function isBadVersion(version: string): boolean {\n  const parsedVersion = semver.parse(version);\n  if (!parsedVersion) {\n    return false;\n  }\n  const { start, end } = BAD_VERSIONS_RANGE;\n  const isInNonValidRange =\n    !start ||\n    (semver.gte(parsedVersion, start) &&\n      (!end || semver.lt(parsedVersion, end)));\n  return isInNonValidRange || parsedVersion.compare(BAD_VERSION) === 0;\n}\n\nexport default async function isValidBinary(version: string): Promise<boolean> {\n  if (!(await asyncExists(version))) {\n    return false;\n  }\n  const { proc, readLine } = runProcess(version, [\"--print-version\"]);\n\n  return new Promise((resolve) => {\n    setTimeout(() => {\n      Logger.error(`validating ${version} timeout`);\n      resolve(false);\n    }, TWO_SECONDS_TIMEOUT);\n\n    proc.on(\"exit\", (code, signal) => {\n      if (signal) {\n        resolve(false);\n      }\n    });\n\n    proc.on(\"error\", () => {\n      resolve(false);\n    });\n\n    readLine.once(\"line\", (line: string) => {\n      if (semver.valid(line)) {\n        resolve(true);\n      } else {\n        resolve(false);\n      }\n    });\n  });\n}\n","import { promises as fs } from \"fs\";\nimport * as path from \"path\";\nimport * as extract from \"extract-zip\";\nimport * as semver from \"semver\";\n\nimport {\n  downloadFileToDestination,\n  downloadFileToStr,\n} from \"../../utils/download.utils\";\nimport {\n  getBundlePath,\n  getDownloadVersionUrl,\n  getUpdateVersionFileUrl,\n  versionPath,\n} from \"../paths\";\nimport { report } from \"../../reports/reporter\";\nimport { setDirectoryFilesAsExecutable } from \"../utils\";\nimport EventName from \"../../reports/EventName\";\n\ntype BundlePaths = {\n  bundlePath: string;\n  bundleDownloadUrl: string;\n  bundleDirectory: string;\n  executablePath: string;\n};\n\nexport default async function downloadAndExtractBundle(): Promise<string> {\n  const {\n    bundlePath,\n    bundleDownloadUrl,\n    bundleDirectory,\n    executablePath,\n  } = await getBundlePaths();\n  try {\n    await createBundleDirectory(bundleDirectory);\n    await downloadFileToDestination(bundleDownloadUrl, bundlePath);\n    await extractBundle(bundlePath, bundleDirectory);\n    await removeBundle(bundlePath);\n    await setDirectoryFilesAsExecutable(bundleDirectory);\n    report(EventName.BUNDLE_DOWNLOAD_SUCCESS);\n    return executablePath;\n  } finally {\n    await removeBundle(bundlePath);\n  }\n}\n\nasync function removeBundle(bundlePath: string) {\n  try {\n    await fs.unlink(bundlePath);\n    // eslint-disable-next-line no-empty\n  } catch {}\n}\n\nasync function getBundlePaths(): Promise<BundlePaths> {\n  const version = await getCurrentVersion();\n  const bundlePath = getBundlePath(version);\n  const bundleDownloadUrl = getDownloadVersionUrl(version);\n  const bundleDirectory = path.dirname(bundlePath);\n  const executablePath = versionPath(version);\n  return { bundlePath, bundleDownloadUrl, bundleDirectory, executablePath };\n}\n\nfunction createBundleDirectory(bundleDirectory: string): Promise<void> {\n  return fs.mkdir(bundleDirectory, { recursive: true });\n}\n\nasync function getCurrentVersion(): Promise<string> {\n  const version = await downloadFileToStr(getUpdateVersionFileUrl());\n  assertValidVersion(version);\n  return version;\n}\n\nfunction assertValidVersion(version: string): void {\n  if (!semver.valid(version)) {\n    throw new Error(`invalid version: ${version}`);\n  }\n}\n\nasync function extractBundle(\n  bundle: string,\n  bundleDirectory: string\n): Promise<void> {\n  return extract(bundle, { dir: bundleDirectory });\n}\n","import { promises as fs } from \"fs\";\nimport sortBySemver from \"../../utils/semver.utils\";\nimport { asyncFind } from \"../../utils/utils\";\nimport isValidBinary, { isBadVersion } from \"./binaryValidator\";\nimport { getRootPath, versionPath } from \"../paths\";\nimport { Logger } from \"../../utils/logger\";\n\nexport default async function handleExistingVersion(): Promise<string | null> {\n  try {\n    const versionPaths = await fs.readdir(getRootPath());\n    const validVersions = versionPaths.filter(\n      (version) => !isBadVersion(version)\n    );\n    const versions = sortBySemver(validVersions).map(versionPath);\n    return await asyncFind(versions, isValidBinary);\n  } catch (e) {\n    Logger.error(\n      \"Error handling existing version. Falling back to downloading\",\n      e\n    );\n  }\n  return null;\n}\n","import { commands, env, ProgressLocation, Uri, window } from \"vscode\";\nimport {\n  BUNDLE_DOWNLOAD_FAILURE_MESSAGE,\n  OPEN_NETWORK_SETUP_HELP,\n  RELOAD_BUTTON,\n} from \"../../globals/consts\";\nimport { reportErrorEvent, reportException } from \"../../reports/reporter\";\nimport handleActiveFile from \"./activeFileHandler\";\nimport downloadAndExtractBundle from \"./bundleDownloader\";\nimport handleExistingVersion from \"./existingVersionHandler\";\nimport {\n  installationState,\n  InstallationState,\n} from \"../../events/installationStateChangedEmitter\";\nimport EventName from \"../../reports/EventName\";\nimport { Logger } from \"../../utils/logger\";\n\nexport default async function fetchBinaryPath(): Promise<string> {\n  if (process.env.BINARY_LOCATION) {\n    return process.env.BINARY_LOCATION;\n  }\n  const activeVersionPath = handleActiveFile();\n  if (activeVersionPath) {\n    installationState.fire(InstallationState.ExistingInstallation);\n    return activeVersionPath;\n  }\n\n  const existingVersion = await handleExistingVersion();\n  if (existingVersion) {\n    installationState.fire(InstallationState.ExistingInstallation);\n    return existingVersion;\n  }\n  installationState.fire(InstallationState.NewInstallation);\n  return tryDownloadVersion();\n}\n\nasync function tryDownloadVersion(): Promise<string> {\n  try {\n    return await downloadVersion();\n  } catch (error) {\n    const existingVersion = await handleExistingVersion();\n    if (existingVersion) {\n      return existingVersion;\n    }\n    return handleErrorMessage(error as Error);\n  }\n}\nasync function downloadVersion(): Promise<string> {\n  return window.withProgress(\n    {\n      location: ProgressLocation.Notification,\n      title: `Initializing Tabnine`,\n    },\n    downloadAndExtractBundle\n  );\n}\nasync function handleErrorMessage(error: Error): Promise<string> {\n  reportErrorEvent(EventName.BUNDLE_DOWNLOAD_FAILURE, error);\n  reportException(error);\n  Logger.error(BUNDLE_DOWNLOAD_FAILURE_MESSAGE, error);\n  return new Promise((_resolve, reject) => {\n    void window\n      .showErrorMessage(\n        BUNDLE_DOWNLOAD_FAILURE_MESSAGE,\n        RELOAD_BUTTON,\n        OPEN_NETWORK_SETUP_HELP\n      )\n      .then((result) => {\n        if (result === OPEN_NETWORK_SETUP_HELP) {\n          void env.openExternal(getNetworkSettingsHelpLink());\n          reject(error);\n        } else if (result === RELOAD_BUTTON) {\n          void commands.executeCommand(\"workbench.action.reloadWindow\");\n          reject(error);\n        } else {\n          reject(error);\n        }\n      }, reject);\n  });\n}\nfunction getNetworkSettingsHelpLink(): Uri {\n  return Uri.parse(\"https://code.visualstudio.com/docs/setup/network\");\n}\n","import { Disposable } from \"vscode\";\nimport EventEmitterBasedState from \"../state/EventEmitterBasedState\";\nimport { State } from \"./state\";\nimport { getState, tabNineProcess } from \"./requests/requests\";\nimport { Logger } from \"../utils/logger\";\nimport { BINARY_STATE_POLLING_INTERVAL_MILLISECONDS } from \"../globals/consts\";\n\nexport class BinaryState extends EventEmitterBasedState<State> {\n  private intervalDisposable: Disposable | null = null;\n\n  constructor() {\n    super();\n\n    let interval: NodeJS.Timeout | undefined;\n    void tabNineProcess.onReady.then(() => {\n      interval = setInterval(() => {\n        void this.checkForUpdates();\n      }, BINARY_STATE_POLLING_INTERVAL_MILLISECONDS);\n    });\n\n    this.intervalDisposable = new Disposable(() => {\n      if (interval) {\n        clearInterval(interval);\n      }\n    });\n  }\n\n  async checkForUpdates() {\n    try {\n      await this.asyncSet(getStateOrNull);\n    } catch (error) {\n      Logger.warn(\"Failed to refetch state\", error);\n    }\n  }\n\n  dispose(): void {\n    super.dispose();\n\n    if (this.intervalDisposable) {\n      this.intervalDisposable.dispose();\n    }\n  }\n}\n\nasync function getStateOrNull() {\n  return (await getState()) || null;\n}\n\nconst BINARY_STATE = new BinaryState();\nexport default BINARY_STATE;\n","import * as child_process from \"child_process\";\nimport { ReadLine } from \"readline\";\nimport * as stream from \"stream\";\n// eslint-disable-next-line import/no-extraneous-dependencies\nimport { anyFunction, anyString, instance, mock, when } from \"ts-mockito\";\nimport { BinaryProcessRun } from \"./runProcess\";\nimport { isFunction } from \"../utils/utils\";\nimport { Capability } from \"../capabilities/capabilities\";\nimport { BinaryGenericRequest } from \"../test/suite/utils/helper\";\n\nexport const spawnedProcessMock: child_process.ChildProcess = mock<child_process.ChildProcess>();\nexport const readLineMock: ReadLine = mock<ReadLine>();\nexport const stdinMock: stream.Writable = mock<stream.Writable>();\nexport const stdoutMock: stream.Readable = mock<stream.Readable>();\n\nlet onMockReady = () => {};\nconst isProcessReady: Promise<void> = new Promise((resolve) => {\n  onMockReady = resolve;\n});\n\ntype ResultFunction = { (request: string): unknown };\ntype Result = ResultFunction | unknown;\nexport type Item = {\n  isQualified: (request: string) => boolean;\n  result: Result;\n};\n\nexport const requestResponseItems: Item[] = [];\n\ntype CapabilitiesRequest = BinaryGenericRequest<{\n  Features: Record<string, string>;\n}>;\n\nlet lastPid = 100;\nexport default function mockedRunProcess(): BinaryProcessRun {\n  // eslint-disable-next-line no-plusplus\n  const pid = lastPid++;\n  when(spawnedProcessMock.killed).thenReturn(false);\n  when(spawnedProcessMock.stdin).thenReturn(instance(stdinMock));\n  when(spawnedProcessMock.stdout).thenReturn(instance(stdoutMock));\n  when(spawnedProcessMock.pid).thenReturn(pid);\n  // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n  when(readLineMock.once(\"line\", anyFunction())).thenCall(\n    (_event: string, callback: (line: string) => void) => {\n      callback(\"1.2.3\");\n    }\n  );\n  mockBinaryRequest();\n  mockCapabilitiesRequest();\n  onMockReady();\n\n  return {\n    proc: instance(spawnedProcessMock),\n    readLine: instance(readLineMock),\n  };\n}\n\nexport function isProcessReadyForTest(): Promise<void> {\n  return isProcessReady;\n}\n\nfunction mockCapabilitiesRequest() {\n  requestResponseItems.push({\n    isQualified: (request) => {\n      const capabilitiesRequest = JSON.parse(request) as CapabilitiesRequest;\n\n      return !!capabilitiesRequest?.request?.Features;\n    },\n    result: {\n      enabled_features: [\n        Capability.FIRST_SUGGESTION_DECORATION,\n        Capability.INLINE_SUGGESTIONS,\n        Capability.SNIPPET_SUGGESTIONS,\n      ],\n    },\n  });\n}\n\nfunction mockBinaryRequest(): void {\n  let lineCallback: { (line: string): void } | null = null;\n\n  // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n  when(readLineMock.on(\"line\", anyFunction())).thenCall(\n    (_: string, callback: (line: string) => void) => {\n      lineCallback = callback;\n    }\n  );\n  when(stdinMock.write(anyString(), \"utf8\")).thenCall((request: string) => {\n    const matchingItem = requestResponseItems.find(({ isQualified }) =>\n      isQualified(request)\n    );\n\n    if (matchingItem) {\n      const index = requestResponseItems.indexOf(matchingItem);\n      requestResponseItems.splice(index, 1);\n    }\n\n    lineCallback?.(\n      matchingItem ? response(request, matchingItem.result) : \"null\"\n    );\n\n    return true;\n  });\n}\n\nfunction response(request: string, result: Result) {\n  return JSON.stringify(\n    isFunction(result) ? (result as ResultFunction)(request) : result\n  );\n}\n","import { promises as fs } from \"fs\";\nimport * as path from \"path\";\nimport * as vscode from \"vscode\";\n\nlet BINARY_ROOT_PATH: string | undefined;\nlet BINARY_UPDATE_URL = \"https://update.tabnine.com/bundles\";\nconst ARCHITECTURE = getArch();\nconst SUFFIX = getSuffix();\nconst BUNDLE_SUFFIX = getBundleSuffix();\n\nexport async function setBinaryRootPath(\n  extensionContext: vscode.ExtensionContext\n): Promise<void> {\n  BINARY_ROOT_PATH =\n    extensionContext.extensionMode === vscode.ExtensionMode.Test\n      ? path.join(extensionContext.extensionPath, \"binaries\")\n      : path.join(extensionContext.globalStorageUri.fsPath, \"binaries\");\n\n  try {\n    await fs.mkdir(BINARY_ROOT_PATH, { recursive: true });\n  } catch (err) {\n    // Exception is thrown if the path already exists, so ignore error.\n  }\n}\nexport function setBinaryDownloadUrl(server: string): void {\n  BINARY_UPDATE_URL = `${server}/update/bundles`;\n}\n\nexport function versionPath(version: string): string {\n  if (!BINARY_ROOT_PATH) {\n    throw new Error(\"Binary root path not set\");\n  }\n\n  return path.join(BINARY_ROOT_PATH, version, `${ARCHITECTURE}-${SUFFIX}`);\n}\n\nexport function getBundlePath(version: string): string {\n  if (!BINARY_ROOT_PATH) {\n    throw new Error(\"Binary root path not set\");\n  }\n  return path.join(\n    BINARY_ROOT_PATH,\n    version,\n    `${ARCHITECTURE}-${BUNDLE_SUFFIX}`\n  );\n}\n\nexport function getDownloadVersionUrl(version: string): string {\n  return `${BINARY_UPDATE_URL}/${version}/${ARCHITECTURE}-${BUNDLE_SUFFIX}`;\n}\nexport function getUpdateVersionFileUrl(): string {\n  return `${BINARY_UPDATE_URL}/version`;\n}\n\nexport function getRootPath(): string {\n  if (!BINARY_ROOT_PATH) {\n    throw new Error(\"Binary root path not set\");\n  }\n\n  return BINARY_ROOT_PATH;\n}\nexport function getAssistantRootPath(): string {\n  if (!BINARY_ROOT_PATH) {\n    throw new Error(\"Binary root path not set\");\n  }\n\n  return path.join(BINARY_ROOT_PATH, \"..\", \"assistant-binaries\");\n}\n\nexport function getActivePath(): string {\n  if (!BINARY_ROOT_PATH) {\n    throw new Error(\"Binary root path not set\");\n  }\n\n  return path.join(BINARY_ROOT_PATH, \".active\");\n}\n\nfunction getSuffix(): string {\n  switch (process.platform) {\n    case \"win32\":\n      return \"pc-windows-gnu/TabNine.exe\";\n    case \"darwin\":\n      return \"apple-darwin/TabNine\";\n    case \"linux\":\n      return \"unknown-linux-musl/TabNine\";\n    default:\n      throw new Error(\n        `Sorry, the platform '${process.platform}' is not supported by TabNine.`\n      );\n  }\n}\n\nfunction getBundleSuffix(): string {\n  return `${SUFFIX.replace(\".exe\", \"\")}.zip`;\n}\n\nfunction getArch(): string {\n  if (\n    (process.platform === \"darwin\" || process.platform === \"linux\") &&\n    process.arch === \"arm64\"\n  ) {\n    return \"aarch64\";\n  }\n\n  if (process.arch === \"x32\" || process.arch === \"ia32\") {\n    return \"i686\";\n  }\n\n  if (process.arch === \"x64\") {\n    return \"x86_64\";\n  }\n\n  throw new Error(\n    `Sorry, the architecture '${process.arch}' is not supported by TabNine.`\n  );\n}\n\nexport function versionOfPath(binaryPath: string): string | undefined {\n  const paresedPath = path.parse(binaryPath).dir.split(path.sep);\n  return paresedPath[paresedPath.length - 2];\n}\n","import { getState } from \"./requests/requests\";\nimport setState from \"./requests/setState\";\nimport { StatePayload, StateType } from \"../globals/consts\";\nimport { setDefaultStatus, setLoadingStatus } from \"../statusBar/statusBar\";\nimport { withPolling } from \"../utils/utils\";\nimport {\n  DownloadProgress,\n  DownloadState,\n  DownloadStatus,\n  State,\n} from \"./state\";\n\nconst PROGRESS_BAR_POLLING_INTERVAL = 1500; // just enough for the spinner to not blink\nconst POLLING_TIMEOUT = 60 * 1000; // one minutes\n\nexport default function pollDownloadProgress(): void {\n  withPolling(\n    (stop) => {\n      void getState().then((state) => {\n        if (isNotInDownloadingState(state)) {\n          stop();\n          setDefaultStatus();\n        } else if (\n          state?.download_state?.status === DownloadStatus.IN_PROGRESS &&\n          state?.download_state?.kind === DownloadProgress.DOWNLOADING\n        ) {\n          stop();\n          handleDownloadingInProgress();\n        }\n      });\n    },\n    PROGRESS_BAR_POLLING_INTERVAL,\n    POLLING_TIMEOUT\n  );\n}\n\nfunction isNotInDownloadingState(state: State | undefined | null): boolean {\n  return (\n    !state?.local_enabled ||\n    (state?.local_enabled &&\n      !state?.is_cpu_supported &&\n      !state?.cloud_enabled) ||\n    state?.download_state?.status === DownloadStatus.FINISHED ||\n    (state?.download_state?.status === DownloadStatus.NOT_STARTED &&\n      !!state?.download_state?.last_failure)\n  );\n}\n\nfunction handleDownloadingInProgress() {\n  void setState({\n    [StatePayload.MESSAGE]: { message_type: StateType.PROGRESS },\n  });\n  setLoadingStatus(`Initializing... 0%`);\n\n  const progressInterval = setInterval(() => {\n    void getState().then((state) => {\n      if (\n        state?.download_state.status === DownloadStatus.FINISHED ||\n        state?.download_state.last_failure\n      ) {\n        setDefaultStatus();\n        clearInterval(progressInterval);\n      } else {\n        setLoadingStatus(\n          `Initializing... ${downloadPercentage(state?.download_state)}%`\n        );\n      }\n    });\n  }, PROGRESS_BAR_POLLING_INTERVAL);\n}\n\nfunction downloadPercentage(download_state: DownloadState | undefined): string {\n  if (!download_state) {\n    return \"0\";\n  }\n\n  return download_state?.kind === DownloadProgress.DOWNLOADING\n    ? Math.round(\n        100 *\n          (toMB(download_state.crnt_bytes || 0) /\n            toMB(download_state.total_bytes || 1))\n      ).toString()\n    : \"100\";\n}\nfunction toMB(x: number): number {\n  return Math.floor(x / 1024 / 1024);\n}\n","import { Logger } from \"../../utils/logger\";\nimport { tabNineProcess } from \"./requests\";\n\nexport async function getFileMetadata(\n  path: string\n): Promise<unknown | undefined | null> {\n  try {\n    const response = await tabNineProcess.request<unknown | undefined | null>({\n      FileMetadata: { path },\n    });\n    return response;\n  } catch (error) {\n    Logger.error(\"Failed to get file metadata\", error);\n  }\n  return null;\n}\n","import { MessageAction } from \"../../globals/consts\";\nimport { tabNineProcess } from \"./requests\";\n\nexport type Hover = {\n  id: string;\n  message: string;\n  title: string;\n  options: {\n    key: string;\n    actions: MessageAction[];\n  }[];\n  notification_type: unknown;\n  state: unknown;\n};\n\nexport function getHover(): Promise<Hover | null | undefined> {\n  return tabNineProcess.request<Hover>({ Hover: {} });\n}\nexport async function sendHoverAction(\n  id: string,\n  selected: string,\n  actions: MessageAction[],\n  notification_type: unknown,\n  state: unknown\n): Promise<unknown> {\n  return tabNineProcess.request({\n    HoverAction: { id, actions, notification_type, state, selected },\n  });\n}\n","import {\n  MessageAction,\n  MessageActionsEnum,\n  OpenHubWithAction,\n} from \"../../globals/consts\";\nimport { tabNineProcess } from \"./requests\";\n\nexport type Notification = {\n  id: string;\n  message: string;\n  options: {\n    key: string;\n    actions: MessageAction[];\n  }[];\n  notification_type: unknown;\n  state: unknown;\n};\n\nexport type Notifications = {\n  notifications: Notification[];\n};\n\nexport function getNotifications(): Promise<Notifications | null | undefined> {\n  return tabNineProcess.request<Notifications>({ Notifications: {} });\n}\n\ntype NotificationAction = Record<string, unknown>;\n\nexport async function sendNotificationAction(\n  id: string,\n  message: string,\n  selected: string | undefined,\n  notification_type: unknown,\n  actions: MessageAction[] | undefined,\n  state: unknown\n): Promise<NotificationAction | null | undefined> {\n  return tabNineProcess.request<NotificationAction>({\n    NotificationAction: {\n      id,\n      selected,\n      message,\n      notification_type,\n      actions: actions?.filter(\n        (action) =>\n          ![\n            MessageActionsEnum.OPEN_NOTIFICATIONS,\n            MessageActionsEnum.OPEN_NOTIFICATIONS_IN_HUB,\n          ].includes(action as MessageActionsEnum) &&\n          !(action as OpenHubWithAction).OpenHubWith\n      ),\n      state,\n    },\n  });\n}\n","import { Logger } from \"../../utils/logger\";\nimport { tabNineProcess } from \"./requests\";\n\ninterface NotifyWorkspaceChangedRequest {\n  NotifyWorkspaceChanged: {\n    workspace_folders: string[];\n  };\n}\n\nfunction notifyWorkspaceChanged(\n  workspaceFolders: string[]\n): Promise<void | null | undefined> {\n  return tabNineProcess\n    .request<null, NotifyWorkspaceChangedRequest>(\n      {\n        NotifyWorkspaceChanged: { workspace_folders: workspaceFolders },\n      },\n      5000\n    )\n    .catch((e) => Logger.error(e));\n}\n\nexport default notifyWorkspaceChanged;\n","import { tabNineProcess } from \"./requests\";\n\nexport type PrefetchRequest = {\n  filename: string;\n};\n\nexport function prefetch(\n  prefetchReuqest: PrefetchRequest\n): Promise<void | null | undefined> {\n  return tabNineProcess.request<void>({ Prefetch: prefetchReuqest });\n}\n","import * as vscode from \"vscode\";\nimport CompletionOrigin from \"../../CompletionOrigin\";\nimport Binary from \"../Binary\";\nimport { State } from \"../state\";\nimport { StateType } from \"../../globals/consts\";\nimport { Logger } from \"../../utils/logger\";\n\nexport const tabNineProcess = new Binary();\n\nexport type MarkdownStringSpec = {\n  kind: string;\n  value: string;\n};\n\nexport enum CompletionKind {\n  Classic = \"Classic\",\n  Line = \"Line\",\n  Snippet = \"Snippet\",\n}\n\nenum UserIntent {\n  Comment,\n  Block,\n  FunctionDeclaration,\n  NoScope,\n  NewLine,\n  CustomTriggerPoints,\n}\n\ntype SnippetIntentMetadata = {\n  current_line_indentation?: number;\n  previous_line_indentation?: number;\n  triggered_after_character?: string;\n};\n\nexport interface SnippetContext extends Record<string, unknown> {\n  snippet_id?: string;\n  user_intent: UserIntent;\n  intent_metadata?: SnippetIntentMetadata;\n}\n\nexport type CompletionMetadata = {\n  kind?: vscode.CompletionItemKind;\n  origin?: CompletionOrigin;\n  detail?: string;\n  documentation?: string | MarkdownStringSpec;\n  deprecated?: boolean;\n  completion_kind?: CompletionKind;\n  is_cached?: boolean;\n  snippet_context?: SnippetContext;\n};\n\nexport type ResultEntry = {\n  new_prefix: string;\n  old_suffix: string;\n  new_suffix: string;\n  completion_metadata?: CompletionMetadata;\n};\n\nexport type AutocompleteResult = {\n  old_prefix: string;\n  results: ResultEntry[];\n  user_message: string[];\n  is_locked: boolean;\n};\n\nexport async function initBinary(\n  processRunArgs: string[] = []\n): Promise<vscode.Disposable> {\n  await tabNineProcess.init(processRunArgs);\n  return tabNineProcess;\n}\n\nexport function resetBinaryForTesting(): void {\n  void tabNineProcess.resetBinaryForTesting();\n}\n\nexport type AutocompleteParams = {\n  filename: string;\n  before: string;\n  after: string;\n  region_includes_beginning: boolean;\n  region_includes_end: boolean;\n  max_num_results: number;\n  offset: number;\n  line: number;\n  character: number;\n  indentation_size: number;\n  cached_only?: boolean;\n};\n\nexport function autocomplete(\n  requestData: AutocompleteParams,\n  timeout?: number\n): Promise<AutocompleteResult | undefined | null> {\n  return tabNineProcess.request<AutocompleteResult | undefined | null>(\n    {\n      Autocomplete: requestData,\n    },\n    timeout\n  );\n}\n\nexport function configuration(body: {\n  quiet?: boolean;\n  source: StateType;\n}): Promise<{ message: string } | null | undefined> {\n  return tabNineProcess.request(\n    {\n      Configuration: body,\n    },\n    5000\n  );\n}\n\nexport function getState(\n  content: Record<string | number | symbol, unknown> = {}\n): Promise<State | null | undefined> {\n  return tabNineProcess.request<State>({ State: content });\n}\n\ninterface Event extends Record<string, unknown> {\n  name: string;\n}\n\ntype EventResponse = Record<string, never>;\n\nexport function fireEvent(\n  content: Event\n): Promise<EventResponse | null | undefined> {\n  return tabNineProcess.request<EventResponse>({\n    Event: content,\n  });\n}\n\nexport function deactivate(): Promise<unknown> {\n  if (tabNineProcess) {\n    return tabNineProcess.request({ Deactivate: {} });\n  }\n\n  Logger.error(\"No TabNine process\");\n\n  return Promise.resolve(null);\n}\n\nexport function uninstalling(): Promise<unknown> {\n  return tabNineProcess.request({ Uninstalling: {} });\n}\n\nexport enum ExperimentSource {\n  API = \"API\",\n  APIErrorResponse = \"APIErrorResponse\",\n  Hardcoded = \"Hardcoded\",\n  Unknown = \"Unknown\",\n}\n\ntype CapabilitiesResponse = {\n  enabled_features: string[];\n  experiment_source?: ExperimentSource;\n};\n\nexport async function getCapabilities(): Promise<\n  CapabilitiesResponse | undefined | null\n> {\n  try {\n    const result = await tabNineProcess.request<CapabilitiesResponse>(\n      { Features: {} },\n      20000\n    );\n\n    if (!Array.isArray(result?.enabled_features)) {\n      throw new Error(\"Could not get enabled capabilities\");\n    }\n\n    return result;\n  } catch (error) {\n    Logger.error(error);\n\n    return { enabled_features: [] };\n  }\n}\n\nexport enum ChatCommunicationKind {\n  Forward = \"forward\",\n  Root = \"root\",\n}\n\nexport type ChatCommunicationAddressResponse = {\n  address: string;\n};\n\nexport async function getChatCommunicatorAddress(\n  kind: ChatCommunicationKind\n): Promise<string> {\n  const request = {\n    ChatCommunicatorAddress: { kind },\n  };\n\n  let response = await tabNineProcess.request<ChatCommunicationAddressResponse>(\n    request\n  );\n\n  // retry. Could happen in case of binary restart\n  if (response === null) {\n    response = await tabNineProcess.request<ChatCommunicationAddressResponse>(\n      request\n    );\n  }\n\n  if (!response?.address) {\n    throw new Error(\"Could not get chat communication address\");\n  }\n\n  return response.address;\n}\n","import { tabNineProcess } from \"./requests\";\n\nexport type Event = {\n  name: string;\n  properties?: { [key: string]: string };\n};\n\nexport function sendEvent(event: Event): Promise<void | null | undefined> {\n  return tabNineProcess.request<void>({ Event: event });\n}\n","import CompletionOrigin from \"../../CompletionOrigin\";\nimport { SuggestionTrigger } from \"../../globals/consts\";\nimport { CompletionKind, SnippetContext, tabNineProcess } from \"./requests\";\n\ntype MessageStateRequest = {\n  Message: {\n    message_type: string;\n    message?: string;\n  };\n};\n\ntype StateStateRequest = {\n  State: {\n    state_type: string;\n    state?: string;\n  };\n};\n\ntype AssistantStateRequest = {\n  ValidatorState: {\n    num_of_diagnostics: number;\n    num_of_locations: number;\n  };\n};\n\nexport type SetStateSuggestion = {\n  length: number;\n  strength?: string;\n  origin: CompletionOrigin;\n  completion_kind?: CompletionKind;\n};\ntype StatusShownRequest = {\n  StatusShown: {\n    id: string;\n    text: string;\n    notification_type: unknown;\n    state: unknown;\n  };\n};\ntype NotificationShownRequest = {\n  NotificationShown: {\n    id: string;\n    text: string;\n    notification_type: unknown;\n    state: unknown;\n  };\n};\ntype HoverShownRequest = {\n  HoverShown: {\n    id: string;\n    text: string;\n    notification_type: unknown;\n    state: unknown;\n  };\n};\n\ntype HintShownRequest = {\n  HintShown: {\n    id: string;\n    text: string;\n    notification_type: unknown;\n    state: unknown;\n  };\n};\n\ntype SnippetShownRequest = {\n  SnippetShown: {\n    filename: string;\n    snippet_context?: SnippetContext;\n  };\n};\n\nexport type SelectionStateRequest = {\n  Selection: {\n    // the file extension: rs | js etc.\n    language: string;\n    // suggestion total length ('namespace'.length)\n    length: number;\n    origin: CompletionOrigin;\n    // length - what's already written ('space'.length)\n    net_length: number;\n    // the percentage showed with the suggestion\n    strength?: string;\n    // index of the selected suggestion (1)\n    index: number;\n    // text written before the suggestion start ('String name'.length)\n    line_prefix_length: number;\n    // line_prefix_length - the part of the text that's in the suggestion ('String '.length)\n    line_net_prefix_length: number;\n    // text written the place at which the suggestion showed (' = \"L'.length)\n    line_suffix_length: number;\n    num_of_suggestions: number;\n    num_of_vanilla_suggestions: number;\n    num_of_deep_local_suggestions: number;\n    num_of_deep_cloud_suggestions: number;\n    num_of_lsp_suggestions: number;\n    num_of_vanilla_keyword_suggestions: number;\n    suggestions: SetStateSuggestion[];\n    is_locked: boolean;\n    completion_kind?: CompletionKind;\n    num_of_lines?: number;\n    snippet_context?: SnippetContext;\n    suggestion_trigger?: SuggestionTrigger;\n  };\n};\n\nexport type AssistantSelectionStateRequest = {\n  AssistantSelection: {\n    // the file extension: rs | js etc.\n    language: string;\n    // suggestion total length ('namespace'.length)\n    length: number;\n    origin: CompletionOrigin;\n    // the percentage showed with the suggestion\n    strength?: string;\n    // index of the selected suggestion (1)\n    index: number;\n    threshold: string;\n    num_of_suggestions: number;\n    suggestions: SetStateSuggestion[];\n    selected_suggestion: string;\n    reference: string;\n    reference_length: number;\n    is_ignore: boolean;\n    assistant_version: string;\n  };\n};\n\ntype StateRequest =\n  | MessageStateRequest\n  | StateStateRequest\n  | AssistantStateRequest\n  | SelectionStateRequest\n  | AssistantSelectionStateRequest\n  | NotificationShownRequest\n  | StatusShownRequest\n  | HoverShownRequest\n  | HintShownRequest\n  | SnippetShownRequest;\n\nexport default function setState(state: StateRequest): Promise<unknown> {\n  return tabNineProcess.request({ SetState: { state_type: state } });\n}\n","import { tabNineProcess } from \"./requests\";\n\nexport function startLoginServer(): Promise<string | null | undefined> {\n  return tabNineProcess.request(\n    {\n      StartLoginServer: {},\n    },\n    5000\n  );\n}\n","import { MessageAction } from \"../../globals/consts\";\nimport { tabNineProcess } from \"./requests\";\n\ntype StatusBarAction = Record<string, unknown>;\n\nexport type StatusBarStatus = {\n  id: string;\n  message: string;\n  title: string | undefined;\n  actions: MessageAction[];\n  notification_type: unknown;\n  duration_seconds?: number;\n  state: unknown;\n};\n\nexport function getStatus(): Promise<StatusBarStatus | null | undefined> {\n  return tabNineProcess.request<StatusBarStatus>({ StatusBar: {} });\n}\nexport async function sendStatusBarAction(\n  id: string,\n  selected: string | undefined,\n  notification_type: unknown,\n  actions: MessageAction[],\n  state: unknown\n): Promise<StatusBarAction | null | undefined> {\n  return tabNineProcess.request<StatusBarAction>({\n    StatusBarAction: { id, selected, notification_type, actions, state },\n  });\n}\n","import { CompletionMetadata, tabNineProcess } from \"./requests\";\n\nexport interface SuggestionShown {\n  SuggestionShown: {\n    net_length: number;\n    filename: string;\n    metadata?: CompletionMetadata;\n  };\n}\n\nexport default function suggestionShown(\n  request: SuggestionShown\n): Promise<unknown | undefined | null> {\n  return tabNineProcess.request<unknown, SuggestionShown>(request);\n}\n","import { window } from \"vscode\";\n\nexport default function getTabSize(): number {\n  const tabSize = window.activeTextEditor?.options.tabSize;\n  if (typeof tabSize !== \"number\") {\n    return 4;\n  }\n  return tabSize;\n}\n","import { tabNineProcess } from \"./requests\";\n\nexport interface Workspace {\n  root_paths: string[];\n}\n\nexport default function sendUpdateWorkspaceRequest(\n  request: Workspace\n): Promise<unknown | undefined | null> {\n  return tabNineProcess.request<unknown, { Workspace: Workspace }>({\n    Workspace: request,\n  });\n}\n","import * as semver from \"semver\";\nimport * as vscode from \"vscode\";\nimport tabnineExtensionProperties from \"../globals/tabnineExtensionProperties\";\nimport fetchBinaryPath from \"./binaryFetcher\";\nimport { BinaryProcessRun, runProcess } from \"./runProcess\";\nimport { getCurrentVersion } from \"../preRelease/versions\";\nimport { getTabnineExtensionContext } from \"../globals/tabnineExtensionContext\";\nimport { getProxySettings } from \"../proxyProvider\";\nimport { versionOfPath } from \"./paths\";\nimport { TLS_CONFIG_MIN_SUPPORTED_VERSION } from \"../globals/consts\";\n\nexport default async function runBinary(\n  additionalArgs: string[] = [],\n  inheritStdio = false\n): Promise<BinaryProcessRun> {\n  const [runArgs, metadata] = splitArgs(additionalArgs);\n  const command = await fetchBinaryPath();\n  const version = versionOfPath(command);\n  const context = getTabnineExtensionContext();\n  const tlsConfig =\n    version &&\n    semver.valid(version) &&\n    semver.gte(version, TLS_CONFIG_MIN_SUPPORTED_VERSION)\n      ? [\n          \"--tls_config\",\n          `insecure=${tabnineExtensionProperties.ignoreCertificateErrors}`,\n        ]\n      : [];\n  const proxySettings = tabnineExtensionProperties.useProxySupport\n    ? getProxySettings()\n    : undefined;\n  const args: string[] = [\n    ...tlsConfig,\n    \"--no-lsp=true\",\n    tabnineExtensionProperties.logEngine ? `--log_to_stderr` : null,\n    tabnineExtensionProperties.logFilePath\n      ? `--log-file-path=${tabnineExtensionProperties.logFilePath}`\n      : null,\n    tabnineExtensionProperties.logLevel\n      ? `--log-level=${tabnineExtensionProperties.logLevel}`\n      : null,\n    ...runArgs,\n    \"--client-metadata\",\n    `clientVersion=${tabnineExtensionProperties.vscodeVersion}`,\n    `pluginVersion=${(context && getCurrentVersion(context)) || \"unknown\"}`,\n    `t9-vscode-AutoImportEnabled=${tabnineExtensionProperties.isTabNineAutoImportEnabled}`,\n    `t9-vscode-TSAutoImportEnabled=${\n      tabnineExtensionProperties.isTypeScriptAutoImports ?? \"unknown\"\n    }`,\n    `t9-vscode-JSAutoImportEnabled=${\n      tabnineExtensionProperties.isJavaScriptAutoImports ?? \"unknown\"\n    }`,\n    `vscode-telemetry-enabled=${tabnineExtensionProperties.isVscodeTelemetryEnabled}`,\n    `vscode-remote=${tabnineExtensionProperties.isRemote}`,\n    tabnineExtensionProperties.remoteName\n      ? `vscode-remote-name=${tabnineExtensionProperties.remoteName}`\n      : null,\n    `vscode-extension-kind=${tabnineExtensionProperties.extensionKind}`,\n    `vscode-theme-name=${tabnineExtensionProperties.themeName ?? \"unknown\"}`,\n    `vscode-theme-kind=${tabnineExtensionProperties.themeKind}`,\n    `vscode-machine-id=${vscode.env.machineId}`,\n    `vscode-is-new-app-install=${vscode.env.isNewAppInstall}`,\n    `vscode-session-id=${vscode.env.sessionId}`,\n    `vscode-language=${vscode.env.language}`,\n    `vscode-app-name=${vscode.env.appName}`,\n    `vscode-beta-channel-enabled=${tabnineExtensionProperties.isExtensionBetaChannelEnabled}`,\n    `vscode-status-customization=${\n      tabnineExtensionProperties.statusBarColorCustomizations ?? \"unknown\"\n    }`,\n    `vscode-inline-api-enabled=${\n      tabnineExtensionProperties.isVscodeInlineAPIEnabled ?? \"unknown\"\n    }`,\n    `vscode-code-lens-enabled=${\n      tabnineExtensionProperties.codeLensEnabled ?? \"unknown\"\n    }`,\n    `vscode-found-intellicode=${tabnineExtensionProperties.foundIntellicode}`,\n    ...metadata,\n  ].filter((i): i is string => i !== null);\n\n  // we want to fix the binary version when running evaluation,\n  // without the bootstrapper swapping versions underneath our feet.\n  if (process.env.IS_EVAL_MODE) {\n    args.push(\"--no_bootstrap\");\n  }\n\n  return runProcess(command, args, {\n    stdio: inheritStdio ? \"inherit\" : \"pipe\",\n    env: {\n      ...process.env,\n      https_proxy: proxySettings,\n      HTTPS_PROXY: proxySettings,\n      http_proxy: proxySettings,\n      HTTP_PROXY: proxySettings,\n    },\n  });\n}\nfunction splitArgs(args: string[]): [string[], string[]] {\n  return args.reduce<[string[], string[]]>(\n    (items, item: string) => {\n      if (item.startsWith(\"--\")) {\n        items[0].push(item);\n      } else {\n        items[1].push(item);\n      }\n      return items;\n    },\n    [[], []]\n  );\n}\n","import * as child_process from \"child_process\";\nimport { spawn, SpawnOptions } from \"child_process\";\nimport { createInterface, ReadLine, ReadLineOptions } from \"readline\";\nimport * as vscode from \"vscode\";\nimport { getTabnineExtensionContext } from \"../globals/tabnineExtensionContext\";\nimport { report } from \"../reports/reporter\";\nimport EventName from \"../reports/EventName\";\nimport { Logger } from \"../utils/logger\";\n\nexport type BinaryProcessRun = {\n  proc: child_process.ChildProcess;\n  readLine: ReadLine;\n};\n\nexport function runProcess(\n  command: string,\n  args?: ReadonlyArray<string>,\n  options: SpawnOptions = {}\n): BinaryProcessRun {\n  if (\n    getTabnineExtensionContext()?.extensionMode === vscode.ExtensionMode.Test &&\n    process.env.IS_EVAL_MODE !== \"true\"\n  ) {\n    // eslint-disable-next-line\n    return require(\"./mockedRunProcess\").default() as BinaryProcessRun;\n  }\n  report(EventName.START_BINARY);\n  Logger.info(\n    `spawning binary with command: ${command} args: ${args?.join(\" \") || \"\"}`\n  );\n  const proc = args ? spawn(command, args, options) : spawn(command, options);\n\n  proc.stderr?.on(\"data\", (data: string) => {\n    Logger.process(data);\n  });\n\n  const input = proc.stdout;\n  const readLine = createInterface({\n    input,\n    output: proc.stdin,\n  } as ReadLineOptions);\n\n  return { proc, readLine };\n}\n","export enum DownloadStatus {\n  FINISHED = \"Finished\",\n  NOT_STARTED = \"NotStarted\",\n  IN_PROGRESS = \"InProgress\",\n}\n\nexport enum DownloadProgress {\n  DOWNLOADING = \"Downloading\",\n  RETRIEVING_METADATA = \"RetrievingMetadata\",\n  VERIFYING_CHECKSUM = \"VerifyingChecksum\",\n}\n\nenum OSArchTarget {\n  // Partial, has more options.\n  APPLE_64 = \"x86_64-apple-darwin\",\n}\n\nenum Mode {\n  // Partial, has more options.\n  RELEASE = \"Release\",\n}\n\nenum EmuMode {\n  // Partial, has more options.\n  NATIVE = \"Native\",\n}\n\nexport type ServiceLevel =\n  | \"Free\"\n  | \"Pro\"\n  | \"Trial\"\n  | \"Trial Expired\"\n  | \"Lite\"\n  | \"Business\";\n\nexport type DownloadState = {\n  status: DownloadStatus;\n  last_failure: string;\n  kind: DownloadProgress;\n  crnt_bytes?: number;\n  total_bytes?: number;\n};\n\nexport interface ProcessState {\n  globalRestartStatus: {\n    [processId: string]: {\n      setOn: string;\n      restartOn: string | null;\n      value: \"evaluating\" | \"planned\" | \"notPlanned\";\n    };\n  } | null;\n}\n\nexport type State = {\n  version: string; // semver compatible version\n  target: OSArchTarget;\n  settings: {\n    mode: Mode;\n    emu_mode: EmuMode;\n    additional_file_size_limit: null;\n    drop_timeout: {\n      secs: number;\n      nanos: number;\n    };\n    non_modern_ide: boolean;\n  };\n  service_level: ServiceLevel;\n  language: string;\n  api_key?: string;\n  download_state: DownloadState;\n\n  is_lsp_enabled: boolean;\n  cloud_enabled: boolean;\n  is_cloud_capable: boolean;\n  local_enabled: boolean;\n  is_cpu_supported: boolean;\n  is_authenticated: boolean;\n  is_logged_in: boolean;\n  user_name: string;\n  process_state?: ProcessState;\n  enabled_features?: string[];\n  installation_time?: string;\n  access_token?: string;\n  cloud_connection_health_status?: string;\n  user_avatar_url?: string;\n};\n","import { promises as fs } from \"fs\";\nimport * as path from \"path\";\n\nconst EXECUTABLE_FLAG = 0o755;\n// eslint-disable-next-line import/prefer-default-export\nexport async function setDirectoryFilesAsExecutable(\n  bundleDirectory: string\n): Promise<void[]> {\n  if (isWindows()) {\n    return Promise.resolve([]);\n  }\n  const files = await fs.readdir(bundleDirectory);\n  return Promise.all(\n    files.map((file) =>\n      fs.chmod(path.join(bundleDirectory, file), EXECUTABLE_FLAG)\n    )\n  );\n}\n\nfunction isWindows(): boolean {\n  return process.platform === \"win32\";\n}\n","import EventEmitterBasedState from \"../state/EventEmitterBasedState\";\nimport {\n  Capability,\n  isCapabilitiesReady,\n  isCapabilityEnabled,\n  onDidRefreshCapabilities,\n} from \"./capabilities\";\n\nexport default class CapabilityState extends EventEmitterBasedState<boolean> {\n  constructor(capability: Capability) {\n    super(isCapabilitiesReady() ? isCapabilityEnabled(capability) : null);\n\n    onDidRefreshCapabilities(() => {\n      if (isCapabilitiesReady()) {\n        this.set(isCapabilityEnabled(capability));\n      }\n    });\n  }\n}\n","import * as vscode from \"vscode\";\nimport { Disposable, EventEmitter, commands } from \"vscode\";\nimport {\n  ExperimentSource,\n  getCapabilities,\n  tabNineProcess,\n} from \"../binary/requests/requests\";\nimport { getTabnineExtensionContext } from \"../globals/tabnineExtensionContext\";\nimport { Logger } from \"../utils/logger\";\n\nconst CAPABILITIES_REFRESH_INTERVAL = 10_000; // 10 secs\nconst TEST_CAPABILITIES_REFRESH_INTERVAL = 5_000; // 5 secs\n\nexport enum Capability {\n  ON_BOARDING_CAPABILITY = \"vscode.onboarding\",\n  ASSISTANT_CAPABILITY = \"vscode.assistant\",\n  ASSISTANT_MODE_A_CAPABILITY_KEY = \"vscode.assistant.mode.A\",\n  ASSISTANT_MODE_B_CAPABILITY_KEY = \"vscode.assistant.mode.B\",\n  ASSISTANT_BACKGROUND_CAPABILITY = \"vscode.assistant.background\",\n  ASSISTANT_PASTE_CAPABILITY = \"vscode.assistant.paste\",\n  SUGGESTIONS_SINGLE = \"suggestions-single\",\n  SUGGESTIONS_TWO = \"suggestions-two\",\n  SUGGESTIONS_ORIGINAL = \"suggestions-original\",\n  ALPHA_CAPABILITY = \"vscode.validator\",\n  SHOW_AGRESSIVE_STATUS_BAR_UNTIL_CLICKED = \"promoteHub1\",\n  INLINE_SUGGESTIONS = \"inline_suggestions_mode\",\n  SNIPPET_SUGGESTIONS = \"snippet_suggestions\",\n  SNIPPET_SUGGESTIONS_CONFIGURABLE = \"snippet_suggestions_configurable\",\n  VSCODE_INLINE_V2 = \"vscode_inline_v2\",\n  SNIPPET_AUTO_TRIGGER = \"snippet_auto_trigger\",\n  LEFT_TREE_VIEW = \"vscode.left_tree_view\",\n  EMPTY_LINE_SUGGESTIONS = \"empty_line_suggestions\",\n  AUTHENTICATION = \"vscode.authentication\",\n  NOTIFICATIONS_WIDGET = \"vscode.notifications-widget\",\n  TABNINE_TODAY_WIDGET = \"vscode.tabnine-today-widget\",\n  CODE_REVIEW = \"vscode.code-review\",\n  BETA_CAPABILITY = \"beta\",\n  FIRST_SUGGESTION_DECORATION = \"first_suggestion_hint_enabled\",\n  DEBOUNCE_VALUE_300 = \"debounce_value_300\",\n  DEBOUNCE_VALUE_600 = \"debounce_value_600\",\n  DEBOUNCE_VALUE_900 = \"debounce_value_900\",\n  DEBOUNCE_VALUE_1200 = \"debounce_value_1200\",\n  DEBOUNCE_VALUE_1500 = \"debounce_value_1500\",\n  TEST_GEN = \"vscode_test_gen\",\n  FORCE_REGISTRATION = \"plugin.feature.force_registration\",\n  TABNINE_CHAT = \"plugin.feature.tabnine_chat\",\n  PREVIEW_CAPABILITIY = \"preview\",\n  PREVIEW_ENDED_CAPABILITIY = \"preview_ended\",\n}\n\nlet enabledCapabilities: Record<string, boolean> | null = null;\nlet isReady = false;\n\nexport function isCapabilitiesReady() {\n  return isReady;\n}\n\nexport function isEnabled(capability: Capability): boolean | undefined {\n  return enabledCapabilities?.[capability];\n}\n\nexport function isCapabilityEnabled(capability: Capability): boolean {\n  return !!enabledCapabilities?.[capability];\n}\n\nexport function isAnyCapabilityEnabled(...capabilities: Capability[]): boolean {\n  return capabilities.some((capability) => enabledCapabilities?.[capability]);\n}\n\nexport function getCachedCapabilities(): string[] {\n  return Object.keys(enabledCapabilities ?? {});\n}\n\nexport function fetchCapabilitiesOnFocus(): Promise<void> {\n  return new Promise((resolve) => {\n    if (vscode.window.state.focused) {\n      Logger.debug(\"capabilities resolved immediately\");\n      resolveCapabilities(resolve);\n    } else {\n      const disposable = vscode.window.onDidChangeWindowState(({ focused }) => {\n        disposable.dispose();\n        Logger.debug(`capabilities resolved on focus ${focused}`);\n        resolveCapabilities(resolve);\n      });\n    }\n  });\n}\n\nfunction resolveCapabilities(resolve: () => void): void {\n  void refreshCapabilities().then(() => {\n    resolve();\n    startRefreshLoop();\n  });\n}\n\nconst capabilitiesRefreshed = new EventEmitter<void>();\n\nexport function onDidRefreshCapabilities(listener: () => void): Disposable {\n  return capabilitiesRefreshed.event(listener);\n}\n\nasync function refreshCapabilities(): Promise<void> {\n  const capabilities = await getCapabilities();\n\n  const theseCapabilties: Record<string, boolean> = {};\n  capabilities?.enabled_features.forEach((feature) => {\n    theseCapabilties[feature] = true;\n  });\n\n  if (\n    !!capabilities &&\n    (!capabilities.experiment_source ||\n      capabilities.experiment_source === ExperimentSource.API ||\n      capabilities.experiment_source === ExperimentSource.APIErrorResponse)\n  ) {\n    isReady = true;\n    await commands.executeCommand(\n      \"setContext\",\n      \"tabnine.capabilities.ready\",\n      true\n    );\n  }\n\n  enabledCapabilities = theseCapabilties;\n\n  capabilitiesRefreshed.fire(undefined);\n}\n\nlet interval: NodeJS.Timeout | null = null;\n\nfunction startRefreshLoop(): void {\n  let lastPid = tabNineProcess.pid();\n  let lastRefresh = new Date();\n\n  if (interval) {\n    clearInterval(interval);\n  }\n\n  const refreshInterval =\n    getTabnineExtensionContext()?.extensionMode === vscode.ExtensionMode.Test\n      ? TEST_CAPABILITIES_REFRESH_INTERVAL\n      : CAPABILITIES_REFRESH_INTERVAL;\n\n  interval = setInterval(() => {\n    if (\n      lastPid !== tabNineProcess.pid() ||\n      new Date().getTime() - lastRefresh.getTime() > refreshInterval\n    ) {\n      void refreshCapabilities();\n      lastPid = tabNineProcess.pid();\n      lastRefresh = new Date();\n    }\n  }, 1000);\n}\n","import { Capability, isCapabilityEnabled } from \"./capabilities\";\n\nexport enum SuggestionsMode {\n  INLINE,\n  AUTOCOMPLETE,\n}\n\nexport default function getSuggestionMode(): SuggestionsMode {\n  if (isCapabilityEnabled(Capability.INLINE_SUGGESTIONS)) {\n    return SuggestionsMode.INLINE;\n  }\n  return SuggestionsMode.AUTOCOMPLETE;\n}\n","import { Uri, env } from \"vscode\";\n\nconst { VSCODE_PROXY_URI: vscodeProxyUri } = process.env;\n\nexport const isCodeServer = !!vscodeProxyUri;\n\nexport async function asExternalUri(uri: Uri): Promise<Uri> {\n  return Uri.joinPath(await env.asExternalUri(uri), uri.path);\n}\n","import * as path from \"path\";\nimport * as os from \"os\";\n\nexport const TABNINE_CONFIG_DIR = path.join(os.homedir(), \".config\", \"TabNine\");\n\nexport const TABNINE_TOKEN_FILE_NAME = \".refresh_token_v2\";\n\nexport const TABNINE_TOKEN_FILE_PATH = path.join(\n  TABNINE_CONFIG_DIR,\n  TABNINE_TOKEN_FILE_NAME\n);\n\nexport const TABNINE_CONFIG_FILE_NAME = \"tabnine_config.json\";\n\nexport const TABNINE_CONFIG_FILE_PATH = path.join(\n  TABNINE_CONFIG_DIR,\n  TABNINE_CONFIG_FILE_NAME\n);\n\nexport const TABNINE_TOKEN_CONTEXT_KEY = \"TABNINE_TOKEN_V2\";\n\nexport const TABNINE_CONFIG_CONTEXT_KEY = \"TABNINE_CONFIG\";\n","export default !!process.env.GITPOD_REPO_ROOT || !!process.env.CODESPACES;\n","import { env } from \"vscode\";\nimport { asExternal } from \"../utils/asExternal\";\nimport { startLoginServer } from \"../binary/requests/startLoginServer\";\n\nexport async function openExternalLogin(): Promise<void> {\n  const url = await startLoginServer();\n  if (!url) {\n    console.error(\"could not strat the login server\");\n    return;\n  }\n  const remapedUrl = await asExternal(url);\n\n  void env.openExternal(remapedUrl);\n}\n","import { promises as fsPromises } from \"fs\";\nimport { ExtensionContext } from \"vscode\";\nimport * as consts from \"./consts\";\nimport { ensureExists, watch } from \"../utils/file.utils\";\nimport { Logger } from \"../utils/logger\";\n\nexport default async function state(context: ExtensionContext): Promise<void> {\n  await ensureExists(consts.TABNINE_CONFIG_DIR);\n\n  context.globalState.setKeysForSync([\n    consts.TABNINE_TOKEN_CONTEXT_KEY,\n    consts.TABNINE_CONFIG_CONTEXT_KEY,\n  ]);\n\n  await loadStateFromCloudEnv(context);\n  persistStateToCloudEnv(context);\n}\n\nasync function loadStateFromCloudEnv(context: ExtensionContext): Promise<void> {\n  const tabnineToken = context.globalState.get<string>(\n    consts.TABNINE_TOKEN_CONTEXT_KEY\n  );\n\n  const tabnineConfig = context.globalState.get<string>(\n    consts.TABNINE_CONFIG_CONTEXT_KEY\n  );\n\n  if (tabnineToken) {\n    await fsPromises\n      .writeFile(consts.TABNINE_TOKEN_FILE_PATH, tabnineToken)\n      .catch((e) => {\n        Logger.error(\"Error occurred while trying to load Tabnine token\", e);\n      });\n  }\n\n  if (tabnineConfig)\n    await fsPromises\n      .writeFile(consts.TABNINE_CONFIG_FILE_PATH, tabnineConfig)\n      .catch((e) => {\n        Logger.error(\"Error occurred while trying to load Tabnine config\", e);\n      });\n}\n\nfunction persistStateToCloudEnv(context: ExtensionContext): void {\n  watch(consts.TABNINE_CONFIG_DIR, (event, filename) => {\n    switch (filename) {\n      case consts.TABNINE_TOKEN_FILE_NAME:\n        if (event === \"rename\") {\n          void context.globalState.update(\n            consts.TABNINE_TOKEN_CONTEXT_KEY,\n            undefined\n          );\n        } else {\n          void fsPromises\n            .readFile(consts.TABNINE_TOKEN_FILE_PATH, \"utf8\")\n            .then((tabnineToken) =>\n              context.globalState.update(\n                consts.TABNINE_TOKEN_CONTEXT_KEY,\n                tabnineToken\n              )\n            )\n            .catch((e) => {\n              Logger.error(\n                \"Error occurred while trying to persist Tabnine token\",\n                e\n              );\n            });\n        }\n        break;\n      case consts.TABNINE_CONFIG_FILE_NAME:\n        void fsPromises\n          .readFile(consts.TABNINE_CONFIG_FILE_PATH, \"utf8\")\n          .then((tabnineConfig) =>\n            context.globalState.update(\n              consts.TABNINE_CONFIG_CONTEXT_KEY,\n              tabnineConfig\n            )\n          )\n          .catch((e) => {\n            Logger.error(\n              \"Error occurred while trying to persist Tabnine config\",\n              e\n            );\n          });\n        break;\n      default:\n    }\n  });\n}\n","import { CommentThread, Uri } from \"vscode\";\n\nexport default class DocumentThreads {\n  readonly uri: Uri;\n\n  private readonly threads: CommentThread[];\n\n  constructor(uri: Uri, threads: CommentThread[]) {\n    this.uri = uri;\n    this.threads = threads;\n  }\n\n  dispose(): void {\n    this.threads.forEach((thread) => thread.dispose());\n  }\n}\n","import {\n  CommentMode,\n  CommentThread,\n  Uri,\n  MarkdownString,\n  Comment,\n  CommentAuthorInformation,\n  workspace,\n  WorkspaceEdit,\n  TextDocument,\n} from \"vscode\";\nimport { fireEvent } from \"../binary/requests/requests\";\nimport * as api from \"./api\";\n\nexport default class TabnineComment implements Comment {\n  suggestion: api.Suggestion;\n\n  language: string;\n\n  oldValue: string;\n\n  constructor(oldValue: string, suggestion: api.Suggestion, language: string) {\n    this.oldValue = oldValue;\n    this.suggestion = suggestion;\n    this.language = language;\n  }\n\n  get body(): MarkdownString {\n    return new MarkdownString().appendCodeblock(\n      this.suggestion.value,\n      this.language\n    );\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  get mode(): CommentMode {\n    return CommentMode.Preview;\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  get author(): CommentAuthorInformation {\n    const iconUri = Uri.parse(\n      \"https://www.tabnine.com/favicons/favicon-32x32.png\"\n    );\n    return { name: \"Tabnine\", iconPath: iconUri };\n  }\n\n  apply(thread: CommentThread): boolean {\n    const document = documentOf(thread);\n\n    if (!document) {\n      this.fireEvent(\"comment-applied\", thread, {\n        success: false,\n        failureReason: \"doument not found\",\n      });\n      return false;\n    }\n\n    const oldText = document.getText(thread.range);\n\n    if (this.oldValue !== oldText.trim()) {\n      this.fireEvent(\"comment-applied\", thread, {\n        success: false,\n        failureReason: \"text did not match\",\n      });\n      return false;\n    }\n\n    const edit = new WorkspaceEdit();\n    edit.replace(thread.uri, thread.range, this.suggestion.value);\n    void workspace.applyEdit(edit);\n\n    this.fireEvent(\"comment-applied\", thread, { success: true });\n\n    return true;\n  }\n\n  hide(thread: CommentThread): void {\n    this.fireEvent(\"comment-hidden\", thread);\n    thread.dispose();\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  private fireEvent(\n    event: string,\n    thread: CommentThread,\n    additionalProperties: Record<string, unknown> = {}\n  ): void {\n    void fireEvent({\n      name: `code-review-${event}`,\n      lineIndex: thread.range.start.line,\n      file: thread.uri.path,\n      lineCount: documentOf(thread)?.lineCount,\n      ...additionalProperties,\n    });\n  }\n}\n\nfunction documentOf(thread: CommentThread): TextDocument | undefined {\n  return workspace.textDocuments.find((doc) => doc.uri === thread.uri);\n}\n","import axios from \"axios\";\nimport tabnineExtensionProperties from \"../globals/tabnineExtensionProperties\";\n\nconst instance = axios.create({\n  baseURL: tabnineExtensionProperties.codeReviewBaseUrl,\n  timeout: 30000,\n});\n\ninterface ExtensionsResponse {\n  extensions: string[];\n}\n\nexport interface Range {\n  start: number;\n  end: number;\n}\n\nexport interface SuggestionsRequest {\n  filename: string;\n  buffer: string;\n  ranges: Range[];\n  threshold: string;\n}\n\nexport interface Suggestion {\n  value: string;\n  classification: { type: string; description: string };\n}\n\nexport interface Suggestions {\n  start: number;\n  old_value: string;\n  suggestions: Suggestion[];\n}\n\nexport interface SuggestionsResponse {\n  filename: string;\n  focus: Suggestions[];\n}\n\nexport async function supportedExtensions(): Promise<ExtensionsResponse> {\n  return (await instance.get<ExtensionsResponse>(\"languages/extensions\")).data;\n}\n\nexport async function querySuggestions(\n  payload: SuggestionsRequest\n): Promise<SuggestionsResponse> {\n  return (await instance.post<SuggestionsResponse>(\"suggestions\", payload))\n    .data;\n}\n","import * as vscode from \"vscode\";\nimport { Capability, isCapabilityEnabled } from \"../capabilities/capabilities\";\nimport addSuggestions from \"./suggestions\";\nimport DocumentThreads from \"./DocumentThreads\";\nimport TabnineComment from \"./TabnineComment\";\n\nlet activeThreads: DocumentThreads | null = null;\n\nexport default function registerCodeReview(): void {\n  const controller = vscode.comments.createCommentController(\n    \"tabnine.commentController\",\n    \"\"\n  );\n  controller.options = {\n    placeHolder: \"\",\n    prompt: \"\",\n  };\n\n  vscode.commands.registerCommand(\n    \"Tabnine.hideSuggestion\",\n    (thread: vscode.CommentThread) => {\n      const comment = thread.comments[0] as TabnineComment | undefined;\n\n      if (comment) {\n        comment.hide(thread);\n      }\n    }\n  );\n\n  vscode.commands.registerCommand(\n    \"Tabnine.applySuggestion\",\n    (thread: vscode.CommentThread) => {\n      const comment = thread.comments[0] as TabnineComment | undefined;\n\n      if (comment && comment.apply(thread)) {\n        thread.dispose();\n      }\n    }\n  );\n\n  vscode.window.onDidChangeActiveTextEditor(async () => {\n    if (!isCapabilityEnabled(Capability.CODE_REVIEW)) return;\n\n    const diffEditor = getActiveDiffEditor();\n\n    let newThreads = null;\n    if (diffEditor) {\n      newThreads = await addSuggestions(\n        controller,\n        diffEditor.newEditor.document,\n        diffEditor.oldEditor.document\n      );\n    }\n\n    if (activeThreads) {\n      activeThreads.dispose();\n    }\n\n    activeThreads = newThreads;\n  });\n}\n\nfunction getActiveDiffEditor(): {\n  oldEditor: vscode.TextEditor;\n  newEditor: vscode.TextEditor;\n} | null {\n  const visibleEditors = vscode.window.visibleTextEditors;\n  if (visibleEditors.length !== 2) return null;\n  if (\n    visibleEditors[0].document.uri.path !== visibleEditors[1].document.uri.path\n  )\n    return null;\n\n  const oldEditor = visibleEditors.find(isHeadGitEditor);\n  const newEditor = visibleEditors.find(\n    (editor) => editor.document.uri.scheme === \"file\"\n  );\n\n  if (oldEditor && newEditor) {\n    return { oldEditor, newEditor };\n  }\n  return null;\n}\n\nfunction isHeadGitEditor(editor: vscode.TextEditor): boolean {\n  if (editor.document.uri.scheme === \"git\") {\n    const query = JSON.parse(editor.document.uri.query) as { ref: string };\n    return query.ref === \"HEAD\" || query.ref === \"~\";\n  }\n\n  return false;\n}\n","import {\n  CommentController,\n  CommentThread,\n  CommentThreadCollapsibleState,\n  TextDocument,\n  window,\n  StatusBarAlignment,\n} from \"vscode\";\nimport * as path from \"path\";\nimport * as diff from \"diff\";\nimport * as api from \"./api\";\nimport TabnineComment from \"./TabnineComment\";\nimport { fireEvent } from \"../binary/requests/requests\";\nimport DocumentThreads from \"./DocumentThreads\";\n\nexport default async function addSuggestions(\n  controller: CommentController,\n  document: TextDocument,\n  oldDocument: TextDocument\n): Promise<DocumentThreads | null> {\n  const start = new Date().getTime();\n\n  try {\n    const extensions = await supportedExtensions();\n    if (!extensions.includes(path.extname(document.uri.path))) {\n      return null;\n    }\n\n    const text = document.getText();\n\n    const ranges: api.Range[] = [];\n    const changes = diff.diffLines(text, oldDocument.getText());\n    let currentPosition = 0;\n    changes.forEach((change) => {\n      if (change.removed) {\n        ranges.push({\n          start: currentPosition,\n          end: currentPosition + change.value.length,\n        });\n      }\n\n      if (!change.added) {\n        currentPosition += change.value.length;\n      }\n    });\n\n    const statusBarItem = window.createStatusBarItem(\n      StatusBarAlignment.Left,\n      -1\n    );\n    statusBarItem.text = \"Fecthing Tabnine code review suggestions...\";\n    statusBarItem.show();\n\n    let response;\n    try {\n      response = await api.querySuggestions({\n        filename: path.basename(document.uri.path),\n        buffer: text,\n        ranges,\n        threshold: \"review\",\n      });\n    } finally {\n      statusBarItem.dispose();\n    }\n\n    const threads: CommentThread[] = [];\n    response.focus.forEach((focus) => {\n      const suggestion = focus.suggestions.find(\n        (s) => s.classification.type === \"other\"\n      );\n      if (!suggestion) {\n        return;\n      }\n\n      const line = document.lineAt(document.positionAt(focus.start));\n      const thread = controller.createCommentThread(document.uri, line.range, [\n        new TabnineComment(focus.old_value, suggestion, document.languageId),\n      ]);\n\n      thread.canReply = false;\n      thread.collapsibleState = CommentThreadCollapsibleState.Expanded;\n      thread.label = suggestion.classification.description;\n\n      threads.push(thread);\n    });\n\n    void fireEvent({\n      name: \"code-review-diff-task-success\",\n      durationMs: new Date().getTime() - start,\n      suggestions: response.focus.length,\n      file: document.uri.path,\n      lineCount: document.lineCount,\n    });\n\n    return new DocumentThreads(document.uri, threads);\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  } catch (e: any) {\n    void fireEvent({\n      name: \"code-review-diff-task-error\",\n      durationMs: new Date().getTime() - start,\n      file: document.uri.path,\n      lineCount: document.lineCount,\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access, @typescript-eslint/no-unsafe-call\n      error: e.message || e.toString(),\n    });\n\n    throw e;\n  }\n}\n\nlet cachedSupportedExtensions: string[] | null = null;\nasync function supportedExtensions(): Promise<string[]> {\n  if (!cachedSupportedExtensions) {\n    cachedSupportedExtensions = (await api.supportedExtensions()).extensions;\n  }\n\n  return cachedSupportedExtensions;\n}\n\nsetInterval(() => {\n  cachedSupportedExtensions = null;\n}, 1000 * 60 * 10); // reset extension cache every 10 minutes\n","import { commands, ExtensionContext } from \"vscode\";\nimport SignInUsingCustomTokenCommand from \"./authentication/loginWithCustomTokenCommand\";\nimport { Capability, isCapabilityEnabled } from \"./capabilities/capabilities\";\nimport {\n  StateType,\n  STATUS_BAR_FIRST_TIME_CLICKED,\n  CONFIG_COMMAND,\n} from \"./globals/consts\";\nimport openHub, { openHubExternal } from \"./hub/openHub\";\nimport { showStatusBarNotificationOptions } from \"./statusBar/statusBarNotificationOptions\";\n\nconst CONFIG_EXTERNAL_COMMAND = \"TabNine::configExternal\";\nexport const STATUS_BAR_COMMAND = \"TabNine.statusBar\";\nexport const SIGN_IN_AUTH_TOKEN_COMMAND = \"tabnine.signInUsingAuthToken\";\n\nexport function registerCommands(context: ExtensionContext): void {\n  context.subscriptions.push(\n    commands.registerCommand(CONFIG_COMMAND, openHub(StateType.PALLETTE))\n  );\n  context.subscriptions.push(\n    commands.registerCommand(\n      CONFIG_EXTERNAL_COMMAND,\n      openHubExternal(StateType.PALLETTE)\n    )\n  );\n  context.subscriptions.push(\n    commands.registerCommand(STATUS_BAR_COMMAND, handleStatusBar(context))\n  );\n  context.subscriptions.push(\n    commands.registerCommand(\n      SIGN_IN_AUTH_TOKEN_COMMAND,\n      SignInUsingCustomTokenCommand\n    )\n  );\n}\n\nfunction handleStatusBar(context: ExtensionContext) {\n  return (args: string[] | null = null) => {\n    showStatusBarNotificationOptions(\n      \"Open Hub\",\n      () => void openHubHandler(context, args)\n    );\n  };\n}\n\nasync function openHubHandler(\n  context: ExtensionContext,\n  args: string[] | null = null\n) {\n  await openHub(StateType.STATUS)(args);\n  if (isCapabilityEnabled(Capability.SHOW_AGRESSIVE_STATUS_BAR_UNTIL_CLICKED)) {\n    await context.globalState.update(STATUS_BAR_FIRST_TIME_CLICKED, true);\n  }\n}\n","import * as vscode from \"vscode\";\nimport { Capability, isCapabilityEnabled } from \"./capabilities/capabilities\";\nimport getInlineCompletionItems from \"./getInlineCompletionItems\";\nimport TabnineInlineCompletionItem from \"./inlineSuggestions/tabnineInlineCompletionItem\";\nimport { sleep, timed } from \"./utils/utils\";\n\nconst ALPHA_ONE_SECOND_DEBOUNCE = 1000;\n\nexport default async function debounceCompletions(\n  document: vscode.TextDocument,\n  position: vscode.Position,\n  token: vscode.CancellationToken\n): Promise<\n  vscode.InlineCompletionList<TabnineInlineCompletionItem> | undefined\n> {\n  const { time, value: current } = await timed(() =>\n    getInlineCompletionItems(document, position, token)\n  );\n\n  const debounceTime = calculateDebounceMs(time);\n\n  if (debounceTime === 0) {\n    return current;\n  }\n\n  await debounceOrCancelOnRequest(token, debounceTime);\n\n  if (token.isCancellationRequested) {\n    return undefined;\n  }\n\n  // re fetch the most updated suggestions\n  return getInlineCompletionItems(document, position, token);\n}\n\nasync function debounceOrCancelOnRequest(\n  token: vscode.CancellationToken,\n  debounceTime: number\n) {\n  const canceledPromise = new Promise<void>((resolve) =>\n    token.onCancellationRequested(resolve)\n  );\n\n  await Promise.race([canceledPromise, sleep(debounceTime)]);\n}\n\nfunction calculateDebounceMs(time: number): number {\n  const debounceMilliseconds = getDebounceMs();\n  const debounceTime = Math.max(debounceMilliseconds - time, 0);\n  return debounceTime;\n}\n\nfunction getDebounceMs(): number {\n  const debounceMilliseconds = vscode.workspace\n    .getConfiguration()\n    .get<number>(\"tabnine.debounceMilliseconds\");\n  const experimentDebounceMs = getDebounceMsByExperiment();\n  return debounceMilliseconds || experimentDebounceMs;\n}\n\nfunction getDebounceMsByExperiment(): number {\n  if (isCapabilityEnabled(Capability.ALPHA_CAPABILITY))\n    return ALPHA_ONE_SECOND_DEBOUNCE;\n  if (isCapabilityEnabled(Capability.DEBOUNCE_VALUE_300)) return 300;\n  if (isCapabilityEnabled(Capability.DEBOUNCE_VALUE_600)) return 600;\n  if (isCapabilityEnabled(Capability.DEBOUNCE_VALUE_900)) return 900;\n  if (isCapabilityEnabled(Capability.DEBOUNCE_VALUE_1200)) return 1200;\n  if (isCapabilityEnabled(Capability.DEBOUNCE_VALUE_1500)) return 1500;\n  return 0;\n}\n","import { Disposable, Event, EventEmitter } from \"vscode\";\n\nexport enum InstallationState {\n  Undefined,\n  ExistingInstallation,\n  NewInstallation,\n}\n\nexport class InstallationStateEmitter implements Disposable {\n  private emitter = new EventEmitter<InstallationState>();\n\n  private internalState = InstallationState.Undefined;\n\n  private hadNewInstallState?: boolean;\n\n  get state(): InstallationState {\n    return this.internalState;\n  }\n\n  fire(state: InstallationState) {\n    this.internalState = state;\n    if (state === InstallationState.NewInstallation) {\n      this.hadNewInstallState = true;\n    } else if (\n      state === InstallationState.ExistingInstallation &&\n      !this.hadNewInstallState\n    ) {\n      this.hadNewInstallState = false;\n    }\n    this.emitter.fire(state);\n  }\n\n  get event(): Event<InstallationState> {\n    return this.emitter.event;\n  }\n\n  get newInstall(): boolean | undefined {\n    // Installation state is set by the binary fetcher based on the binary path.\n    // Subsequent launches of the binary within the same session can toggle that state\n    // that is a problem when capabilities arriving later on and their flows relying on \"new install\" state will always fail.\n    // We need to keep this history around for this session\n    return this.hadNewInstallState;\n  }\n\n  dispose() {\n    this.emitter.dispose();\n  }\n}\n\nexport const installationState = new InstallationStateEmitter();\n","import { CodeAction } from \"vscode\";\n\nconst importStatement = /Import ([\\S]*) from module [\\S]*/;\nconst existingImportStatement = /Add ([\\S]*) to existing import declaration from [\\S]*/;\nconst importDefaultStatement = /Import default ([\\S]*) from module [\\S]*/;\nconst existingDefaultImportStatement = /Add default import ([\\S]*) to existing import declaration from [\\S]*/;\nconst importStatements = [\n  importStatement,\n  existingImportStatement,\n  importDefaultStatement,\n  existingDefaultImportStatement,\n];\n\n/*\n filter imports with same name from different modules\n for example if there are multiple modules with same exported name: \n Import {foo} from './a' and Import {foo} from './b'\n in this case we will ignore and not auto import it\n*/\nexport default function findImports(\n  codeActionCommands: CodeAction[] = []\n): CodeAction[] {\n  const importCommands = codeActionCommands.filter(({ title }) =>\n    importStatements.some((statement) => statement.test(title))\n  );\n\n  const importNames = importCommands.map(getImportName);\n\n  return importCommands.filter(\n    (command) =>\n      importNames.filter((name) => name === getImportName(command)).length <= 1\n  );\n}\n\nfunction getImportName({\n  title,\n}: {\n  title: string;\n}): string | undefined | null {\n  const statement = importStatements.map((s) => s.exec(title)).find(Boolean);\n\n  return statement && statement[1];\n}\n","import * as vscode from \"vscode\";\nimport { AutocompleteResult, ResultEntry } from \"./binary/requests/requests\";\nimport { SuggestionTrigger } from \"./globals/consts\";\nimport { COMPLETION_IMPORTS } from \"./selectionHandler\";\n\nexport default function getAutoImportCommand(\n  result: ResultEntry,\n  response: AutocompleteResult | undefined,\n  position: vscode.Position,\n  suggestionTrigger?: SuggestionTrigger\n): vscode.Command {\n  return {\n    arguments: [\n      {\n        currentCompletion: result.new_prefix,\n        completions: response?.results,\n        position,\n        limited: response?.is_locked,\n        snippetContext: result.completion_metadata?.snippet_context,\n        oldPrefix: response?.old_prefix,\n        suggestionTrigger,\n      },\n    ],\n    command: COMPLETION_IMPORTS,\n    title: \"accept completion\",\n  };\n}\n","import * as vscode from \"vscode\";\nimport TabnineInlineCompletionItem from \"./inlineSuggestions/tabnineInlineCompletionItem\";\nimport runCompletion from \"./runCompletion\";\nimport getAutoImportCommand from \"./getAutoImportCommand\";\nimport { SuggestionTrigger } from \"./globals/consts\";\nimport { AutocompleteResult, ResultEntry } from \"./binary/requests/requests\";\nimport { isMultiline } from \"./utils/utils\";\n\nexport default async function getInlineCompletionItems(\n  document: vscode.TextDocument,\n  position: vscode.Position,\n  cancellationToken: vscode.CancellationToken\n): Promise<vscode.InlineCompletionList<TabnineInlineCompletionItem>> {\n  const response = await runCompletion({\n    document,\n    position,\n    retry: {\n      cancellationToken,\n    },\n  });\n\n  const completions = response?.results.map(\n    (result) =>\n      new TabnineInlineCompletionItem(\n        result.new_prefix,\n        result,\n        calculateRange(position, response, result),\n        getAutoImportCommand(\n          result,\n          response,\n          position,\n          SuggestionTrigger.DocumentChanged\n        ),\n        result.completion_metadata?.completion_kind,\n        result.completion_metadata?.is_cached,\n        result.completion_metadata?.snippet_context\n      )\n  );\n\n  return new vscode.InlineCompletionList(completions || []);\n}\n\nfunction calculateRange(\n  position: vscode.Position,\n  response: AutocompleteResult,\n  result: ResultEntry\n): vscode.Range {\n  return new vscode.Range(\n    position.translate(0, -response.old_prefix.length),\n    isMultiline(result.old_suffix)\n      ? position\n      : position.translate(0, result.old_suffix.length)\n  );\n}\n","import isCloudEnv from \"../cloudEnvs/isCloudEnv\";\n\nexport const OPEN_SETTINGS_COMMAND = \"workbench.action.openSettings\";\nexport const TABNINE_URL_QUERY_PARAM = \"tabnineUrl\";\nexport const TABNINE_RETURN_URL_QUERY_PARAM = \"returnUrl\";\nexport const API_VERSION = \"4.4.223\";\nexport const ATTRIBUTION_BRAND = \" \";\nexport const BRAND_NAME = \"tabnine\";\nexport const ENTERPRISE_BRAND_NAME = \"Tabnine Enterprise\";\nexport const LIMITATION_SYMBOL = \"\";\nexport const FULL_BRAND_REPRESENTATION = ATTRIBUTION_BRAND + BRAND_NAME;\nexport const BUNDLE_DOWNLOAD_FAILURE_MESSAGE =\n  \"Tabnine Extension was unable to download its dependencies. Please check your internet connection. If you use a proxy server, please visit https://code.visualstudio.com/docs/setup/network\";\nexport const OPEN_NETWORK_SETUP_HELP = \"Help\";\n\nexport const RELOAD_BUTTON = \"Reload\";\nexport const STATUS_NAME = \"Tabnine\";\n\nexport const INSTRUMENTATION_KEY = \"38efe475-3afd-4e03-8af2-bbcfdeee3b7a\";\nexport const TEST_GENERATION_HEADER = \"Tests generated by Tabnine\";\nexport function getCommentTokenByLanguage(languageId: string): string {\n  return languageId === \"python\" ? \"#\" : \"//\";\n}\n\nexport const CHAR_LIMIT = 100_000;\nexport const MAX_NUM_RESULTS = 5;\nexport const CONSECUTIVE_RESTART_THRESHOLD = 100;\nexport const REQUEST_FAILURES_THRESHOLD = 20;\nexport const DELAY_FOR_CODE_ACTION_PROVIDER = 800;\n// Env variable is to make the tests faster. It is not set in production environment.\nexport const BINARY_STARTUP_GRACE = +(\n  process.env.BINARY_NOTIFICATION_POLLING_INTERVAL || 9_000\n); // 9 seconds\n\nexport const BINARY_NOTIFICATION_POLLING_INTERVAL = +(\n  process.env.BINARY_NOTIFICATION_POLLING_INTERVAL || 10_000\n); // 10 seconds\n\nexport const BINARY_STATUS_BAR_FIRST_MESSAGE_POLLING_INTERVAL = +(\n  process.env.BINARY_NOTIFICATION_POLLING_INTERVAL || 10_000\n); // 10 seconds\n\nexport const BINARY_STATE_POLLING_INTERVAL_MILLISECONDS = 2_000;\n\nexport const STATUS_BAR_NOTIFICATION_PERIOD = +(\n  process.env.STATUS_BAR_NOTIFICATION_PERIOD || 2 * 60 * 1_000\n); // 2 minutes\n\nexport const BINARY_UPDATE_WORKSPACE_INTERVAL = +(\n  process.env.BINARY_UPDATE_WORKSPACE_INTERVAL || 30_000\n); // 30 seconds\n\nexport const STATUS_BAR_FIRST_TIME_CLICKED = \"status-bar-first-time-clicked\";\n\nexport const OPEN_LP_FROM_STATUS_BAR = \"tabnine:open_lp\";\nexport const INSTALL_COMMAND = \"workbench.extensions.installExtension\";\nexport const MINIMAL_SUPPORTED_VSCODE_API = \"1.35.0\";\nexport const ALPHA_VERSION_KEY = \"tabnine.alpha.version\";\nexport const BETA_CHANNEL_MESSAGE_SHOWN_KEY =\n  \"tabnine.joinBetaChannelMessageShown\";\nexport const CONGRATS_MESSAGE_SHOWN_KEY =\n  \"tabnine.CongratulationsTabnineIsUpMessageShown\";\n\nexport const DEFAULT_DETAIL = BRAND_NAME;\n\nexport const COMPLETION_TRIGGERS = [\n  \" \",\n  \".\",\n  \"(\",\n  \")\",\n  \"{\",\n  \"}\",\n  \"[\",\n  \"]\",\n  \",\",\n  \":\",\n  \"'\",\n  '\"',\n  \"=\",\n  \"<\",\n  \">\",\n  \"/\",\n  \"\\\\\",\n  \"+\",\n  \"-\",\n  \"|\",\n  \"&\",\n  \"*\",\n  \"%\",\n  \"=\",\n  \"$\",\n  \"#\",\n  \"@\",\n  \"!\",\n];\n\nexport enum StateType {\n  ERROR = \"error\",\n  INFO = \"info\",\n  PROGRESS = \"progress\",\n  STATUS = \"status\",\n  PALLETTE = \"pallette\",\n  NOTIFICATION = \"notification\",\n  STARTUP = \"startup\",\n  TREE_VIEW = \"treeView\",\n  NOTIFICATIONS_WIDGET_WEBVIEW = \"notificationsWidgetWebview\",\n  TABNINE_TODAY_WIDGET_WEBVIEW = \"tabnineTodayWidgetWebview\",\n  AUTH = \"auth\",\n}\n\nexport enum StatePayload {\n  MESSAGE = \"Message\",\n  STATE = \"State\",\n  NOTIFICATION_SHOWN = \"NotificationShown\",\n  STATUS_SHOWN = \"StatusShown\",\n  HOVER_SHOWN = \"HoverShown\",\n  HINT_SHOWN = \"HintShown\",\n}\n\nexport enum MessageActionsEnum {\n  NONE = \"None\",\n  OPEN_HUB = \"OpenHub\",\n  OPEN_LP = \"OpenLp\",\n  OPEN_BUY = \"OpenBuy\",\n  OPEN_SIGNUP = \"OpenSignup\",\n  OPEN_NOTIFICATIONS = \"OpenNotifications\",\n  OPEN_NOTIFICATIONS_IN_HUB = \"OpenNotificationsInHub\",\n  ENABLE_ADVANCED_COMPLETIONS = \"EnableAdvancedCompletions\",\n}\n\nexport interface OpenHubWithAction {\n  OpenHubWith: {\n    query_params: [string, string][];\n    path: string;\n  };\n}\n\nexport type MessageAction = MessageActionsEnum | OpenHubWithAction;\nexport const NOTIFICATIONS_OPEN_QUERY_PARAM = \"notifications=open\";\n\nconst SLEEP_TIME_BETWEEN_ATTEMPTS = 1000; // 1 second\nconst MAX_SLEEP_TIME_BETWEEN_ATTEMPTS = 60 * 60 * 1000; // 1 hour\n\nexport function restartBackoff(attempt: number): number {\n  return Math.min(\n    SLEEP_TIME_BETWEEN_ATTEMPTS * 2 ** Math.min(attempt, 10),\n    MAX_SLEEP_TIME_BETWEEN_ATTEMPTS\n  );\n}\n\nexport const IS_OSX = process.platform === \"darwin\";\n\nexport const SLEEP_TIME_BEFORE_OPEN_HUB = isCloudEnv ? 1000 * 10 : 0;\n\nexport const INLINE_REQUEST_TIMEOUT = 3000;\n\nexport const TAB_OVERRIDE_COMMAND = \"tabnine.tab-override\";\nexport const TABNINE_TREE_NAVIGATION_COMMAND = \"tabnine:navigation\";\nexport const TABNINE_OPEN_APP_COMMAND = \"tabnine:open-app\";\nexport const TABNINE_OPEN_GETTING_STARTED_COMMAND =\n  \"tabnine:open-getting-started\";\nexport const TABNINE_NOTIFICATIONS_FOCUS_COMMAND =\n  \"tabnine-notifications.focus\";\nexport const GET_CHAT_STATE_COMMAND = \"tabnine.chat.state\";\n\nexport const TABNINE_APP_URL = \"https://app.tabnine.com\";\nconst TABNINE_SITE_URL = \"https://tabnine.com\";\nexport const TABNINE_GETTING_STARTED_FOR_VSCODE_URL = `${TABNINE_SITE_URL}/getting-started/ide?client=vscode`;\n\nexport const BINARY_RESTART_EVENT = \"binary-restart-event\";\nexport const LOCAL_ADDRESSES = [\"localhost\", \"127.0.0.1\"];\n\nexport enum SuggestionTrigger {\n  DocumentChanged = \"DocumentChanged\",\n  LookAhead = \"LookAhead\",\n}\n\nexport const TLS_CONFIG_MIN_SUPPORTED_VERSION = \"4.22.0\";\nexport const CONFIG_COMMAND = \"TabNine::config\";\nexport const EXTENSION_ID = \"TabNine.tabnine-vscode\";\nexport const USE_PROXY_CONFIGURATION = \"tabnine.useProxySupport\";\nexport const IGNORE_CERTIFICATE_ERRORS_CONFIGURATION =\n  \"tabnine.ignoreCertificateErrors\";\nexport const CA_CERTS_CONFIGURATION = \"tabnine.caCerts\";\n","const languages = {\n  abap: \".abap\",\n  bat: \".bat\",\n  bibtex: \".bib\",\n  c: \".c\",\n  clojure: \".clj\",\n  coffeescript: \".coffee\",\n  cpp: \".cpp\",\n  csharp: \".cs\",\n  css: \".css\",\n  \"cuda-cpp\": \".cu\",\n  dart: \".dart\",\n  diff: \".diff\",\n  dockerfile: \".dockerfile\",\n  fsharp: \".fs\",\n  go: \".go\",\n  groovy: \".groovy\",\n  haml: \".haml\",\n  handlebars: \".handlebars\",\n  hlsl: \".hlsl\",\n  html: \".html\",\n  ini: \".ini\",\n  jade: \".jade\",\n  java: \".java\",\n  javascript: \".js\",\n  javascriptreact: \".jsx\",\n  json: \".json\",\n  julia: \".jl\",\n  latex: \".tex\",\n  less: \".less\",\n  lua: \".lua\",\n  makefile: \".make\",\n  markdown: \".md\",\n  \"objective-c\": \".m\",\n  \"objective-cpp\": \".mm\",\n  perl: \".pl\",\n  perl6: \".6pl\",\n  php: \".php\",\n  plaintext: \".txt\",\n  powershell: \".ps1\",\n  pug: \".pug\",\n  python: \".py\",\n  r: \".r\",\n  razor: \".cshtml\",\n  ruby: \".rb\",\n  rust: \".rs\",\n  sass: \".sass\",\n  scss: \".scss\",\n  shaderlab: \".shader\",\n  shellscript: \".sh\",\n  slim: \".slim\",\n  sql: \".sql\",\n  stylus: \".styl\",\n  swift: \".swift\",\n  tex: \".tex\",\n  typescript: \".ts\",\n  typescriptreact: \".tsx\",\n  vb: \".vb\",\n  vue: \".vue\",\n  xml: \".xml\",\n  xsl: \".xsl\",\n  yaml: \".yaml\",\n};\n\nexport default languages;\n","import { promises as fs } from \"fs\";\nimport * as vscode from \"vscode\";\nimport * as path from \"path\";\nimport * as os from \"os\";\nimport showMessage from \"../preRelease/messages\";\nimport { Logger } from \"../utils/logger\";\nimport { EXTENSION_ID } from \"./consts\";\n\nconst ARGV_FILE_NAME = \"argv.json\";\nconst PRODUCT_FILE_NAME = \"product.json\";\nconst PRODUCT_FILE_PATH = path.join(vscode.env.appRoot, PRODUCT_FILE_NAME);\nconst ENABLE_PROPOSED_API = [\n  \"\",\n  `\t\"enable-proposed-api\": [\"${EXTENSION_ID}\"]`,\n  \"}\",\n];\n\nexport default async function enableProposed(): Promise<boolean> {\n  return handleProposed().catch((error) => {\n    Logger.error(`failed to enable proposedAPI ${error}`);\n    return false;\n  });\n}\n\nasync function getDataFolderName(): Promise<string | undefined> {\n  const data = await fs.readFile(PRODUCT_FILE_PATH);\n  const file = JSON.parse(data.toString(\"utf8\")) as {\n    dataFolderName?: string;\n  };\n  return file?.dataFolderName;\n}\n\nfunction getArgvResource(dataFolderName: string): string {\n  const vscodePortable = process.env.VSCODE_PORTABLE;\n  if (vscodePortable) {\n    return path.join(vscodePortable, ARGV_FILE_NAME);\n  }\n\n  return path.join(os.homedir(), dataFolderName, ARGV_FILE_NAME);\n}\nasync function handleProposed(): Promise<boolean> {\n  const dataFolderName = await getDataFolderName();\n\n  if (dataFolderName) {\n    const argvResource = getArgvResource(dataFolderName);\n    const argvString = (await fs.readFile(argvResource)).toString();\n\n    if (argvString.includes(`${EXTENSION_ID}`)) {\n      return true;\n    }\n\n    const modifiedArgvString = modifyArgvFileContent(argvString);\n    await fs.writeFile(argvResource, Buffer.from(modifiedArgvString));\n    askForReload();\n  }\n  return false;\n}\n\nfunction askForReload() {\n  void showMessage({\n    messageId: \"inline-update\",\n    messageText: `Please reload the window for the Tabnine inline completions to take effect.`,\n    buttonText: \"Reload\",\n    action: () =>\n      void vscode.commands.executeCommand(\"workbench.action.reloadWindow\"),\n  });\n}\n\nfunction modifyArgvFileContent(argvString: string) {\n  return argvString\n    .substring(0, argvString.length - 2)\n    .concat(\",\\n\", ENABLE_PROPOSED_API.join(\"\\n\"));\n}\n","import * as vscode from \"vscode\";\n\nlet tabnineExtensionContext: vscode.ExtensionContext | null = null;\n\nexport function setTabnineExtensionContext(\n  context: vscode.ExtensionContext\n): void {\n  tabnineExtensionContext = context;\n}\n\nexport function getTabnineExtensionContext(): vscode.ExtensionContext {\n  if (!tabnineExtensionContext) {\n    throw new Error(\"Extension context not set\");\n  }\n  return tabnineExtensionContext;\n}\n","import * as vscode from \"vscode\";\nimport { getTabnineExtensionContext } from \"./tabnineExtensionContext\";\nimport {\n  CA_CERTS_CONFIGURATION,\n  IGNORE_CERTIFICATE_ERRORS_CONFIGURATION,\n  USE_PROXY_CONFIGURATION,\n} from \"./consts\";\n\nconst TELEMETRY_CONFIG_ID = \"telemetry\";\nconst TELEMETRY_CONFIG_ENABLED_ID = \"enableTelemetry\";\n\ntype ColorCustomizations = {\n  \"statusBar.background\": string;\n};\n\ninterface TabNineExtensionProperties {\n  extensionPath: string | undefined;\n  version: string;\n  name: string;\n  vscodeVersion: string;\n  isTabNineAutoImportEnabled: number | boolean;\n  isTypeScriptAutoImports: boolean | undefined;\n  isJavaScriptAutoImports: boolean | undefined;\n  id: string;\n  logFilePath: string;\n  logLevel: string | undefined;\n  isRemote: boolean;\n  remoteName: string | undefined;\n  extensionKind: number;\n  themeKind: string;\n  themeName: string | undefined;\n  statusBarColorCustomizations: string | undefined;\n  isInstalled: boolean;\n  isVscodeTelemetryEnabled: boolean;\n  isExtensionBetaChannelEnabled: boolean;\n  isVscodeInsiders: boolean;\n  codeReviewBaseUrl: string;\n  isVscodeInlineAPIEnabled: boolean | undefined;\n  useProxySupport: boolean;\n  packageName: string;\n  logEngine: boolean | undefined;\n  caCerts: string | undefined;\n  ignoreCertificateErrors: boolean;\n  codeLensEnabled: boolean | undefined;\n  foundIntellicode: boolean;\n}\n\nfunction getContext(): TabNineExtensionProperties {\n  const configuration = vscode.workspace.getConfiguration();\n  const isJavaScriptAutoImports = configuration.get<boolean>(\n    \"javascript.suggest.autoImports\"\n  );\n  const isTypeScriptAutoImports = configuration.get<boolean>(\n    \"typescript.suggest.autoImports\"\n  );\n  const autoImportConfig = \"tabnine.experimentalAutoImports\";\n\n  let logFilePath = configuration.get<string>(\"tabnine.logFilePath\");\n  if (!logFilePath) {\n    logFilePath = process.env.TABNINE_BINARY_LOG_FILE_PATH;\n  }\n\n  let logLevel = configuration.get<string>(\"tabnine.logLevel\");\n  if (!logLevel) {\n    logLevel = process.env.TABNINE_BINARY_LOG_LEVEL;\n  }\n\n  let isTabNineAutoImportEnabled = configuration.get<boolean | null | number>(\n    autoImportConfig\n  );\n  const isInstalled = isTabNineAutoImportEnabled === null;\n\n  if (isTabNineAutoImportEnabled !== false) {\n    isTabNineAutoImportEnabled = true;\n    void configuration.update(\n      autoImportConfig,\n      isTabNineAutoImportEnabled,\n      true\n    );\n  }\n  const isExtensionBetaChannelEnabled =\n    configuration.get<boolean>(\"tabnine.receiveBetaChannelUpdates\") || false;\n\n  const useProxySupport = Boolean(\n    configuration.get<boolean>(USE_PROXY_CONFIGURATION)\n  );\n\n  const isVscodeInsiders = vscode.env.appName\n    .toLocaleLowerCase()\n    .includes(\"insider\");\n\n  return {\n    get extensionPath(): string | undefined {\n      return getTabnineExtensionContext().extension.extensionPath;\n    },\n    get packageName(): string {\n      return packageName();\n    },\n\n    get version(): string {\n      return version();\n    },\n    get id() {\n      return getTabnineExtensionContext().extension.id;\n    },\n\n    get name(): string {\n      return `${packageName()}-${version() ?? \"unknown\"}`;\n    },\n    get vscodeVersion(): string {\n      return vscode.version;\n    },\n    get isTabNineAutoImportEnabled(): boolean | number {\n      return !!isTabNineAutoImportEnabled;\n    },\n    get isJavaScriptAutoImports(): boolean | undefined {\n      return isJavaScriptAutoImports;\n    },\n    get isTypeScriptAutoImports(): boolean | undefined {\n      return isTypeScriptAutoImports;\n    },\n    get logFilePath(): string {\n      return logFilePath ? `${logFilePath}-${process.pid}` : \"\";\n    },\n    get useProxySupport(): boolean {\n      return useProxySupport;\n    },\n    get caCerts(): string | undefined {\n      return configuration.get<string>(CA_CERTS_CONFIGURATION);\n    },\n    get ignoreCertificateErrors(): boolean {\n      return !!configuration.get<boolean>(\n        IGNORE_CERTIFICATE_ERRORS_CONFIGURATION\n      );\n    },\n    get logLevel(): string | undefined {\n      return logLevel;\n    },\n    get isRemote(): boolean {\n      const isRemote = !!remoteName() && extensionKind() === 2;\n      return isRemote;\n    },\n    get remoteName(): string | undefined {\n      return remoteName();\n    },\n    get extensionKind(): number {\n      return extensionKind();\n    },\n    get themeKind(): string {\n      return vscode.ColorThemeKind[vscode.window.activeColorTheme.kind];\n    },\n    get themeName(): string | undefined {\n      const workbenchConfig = getWorkbenchSettings();\n      return workbenchConfig.get<string>(\"colorTheme\");\n    },\n    get statusBarColorCustomizations(): string | undefined {\n      const workbenchConfig = getWorkbenchSettings();\n      const colorCustomizations = workbenchConfig.get<ColorCustomizations>(\n        \"colorCustomizations\"\n      );\n      return colorCustomizations?.[\"statusBar.background\"];\n    },\n    get isInstalled(): boolean {\n      return isInstalled;\n    },\n    get isVscodeTelemetryEnabled(): boolean {\n      // This peace of code is taken from https://github.com/microsoft/vscode-extension-telemetry/blob/260c7c3a5a47322a43e8fcfce66cd96e85b886ae/src/telemetryReporter.ts#L46\n      const telemetrySectionConfig = vscode.workspace.getConfiguration(\n        TELEMETRY_CONFIG_ID\n      );\n      const isTelemetryEnabled = telemetrySectionConfig.get<boolean>(\n        TELEMETRY_CONFIG_ENABLED_ID,\n        true\n      );\n\n      return isTelemetryEnabled;\n    },\n    get isExtensionBetaChannelEnabled(): boolean {\n      return isExtensionBetaChannelEnabled;\n    },\n    get isVscodeInsiders(): boolean {\n      return isVscodeInsiders;\n    },\n    get codeReviewBaseUrl(): string {\n      return (\n        configuration.get<string>(\"tabnine.codeReviewBaseUrl\") ??\n        \"https://api.tabnine.com/code-review/\"\n      );\n    },\n    get isVscodeInlineAPIEnabled(): boolean | undefined {\n      const INLINE_API_KEY = \"editor.inlineSuggest.enabled\";\n      if (configuration.has(INLINE_API_KEY)) {\n        return configuration.get<boolean>(INLINE_API_KEY, false);\n      }\n      return undefined;\n    },\n    get logEngine(): boolean | undefined {\n      return configuration.get<boolean>(\"tabnine.logEngine\");\n    },\n    get codeLensEnabled(): boolean | undefined {\n      return configuration.get<boolean>(\"tabnine.codeLensEnabled\");\n    },\n    get foundIntellicode(): boolean {\n      return vscode.extensions.all.some(\n        (e) => e.id.includes(\"vscodeintellicode\") && e.isActive\n      );\n    },\n  };\n}\n\nfunction getWorkbenchSettings() {\n  return vscode.workspace.getConfiguration(\"workbench\");\n}\n\nconst tabnineExtensionProperties: TabNineExtensionProperties = getContext();\n\nexport default tabnineExtensionProperties;\n\nfunction packageName(): string {\n  return (\n    (getTabnineExtensionContext().extension.packageJSON as { name: string })\n      ?.name || \"\"\n  );\n}\n\nfunction version(): string {\n  return (getTabnineExtensionContext().extension.packageJSON as {\n    version: string;\n  }).version;\n}\n\nfunction remoteName(): string | undefined {\n  return vscode.env.remoteName;\n}\n\nfunction extensionKind(): number {\n  return getTabnineExtensionContext().extension.extensionKind as number;\n}\n","import * as semver from \"semver\";\nimport tabnineExtensionProperties from \"./tabnineExtensionProperties\";\n\nconst AUTHENTICATION_API_VERSION = \"1.54.0\";\nconst INLINE_API_PROPOSED_VERSION = \"1.58.0\";\nconst INLINE_API_RELEASE_VERSION = \"1.68.0\";\n\nexport default function isAuthenticationApiSupported(): boolean {\n  return semver.gte(\n    tabnineExtensionProperties.vscodeVersion,\n    AUTHENTICATION_API_VERSION\n  );\n}\n\nexport function isInlineSuggestionProposedApiSupported(): boolean {\n  return semver.gte(\n    tabnineExtensionProperties.vscodeVersion,\n    INLINE_API_PROPOSED_VERSION\n  );\n}\nexport function isInlineSuggestionReleasedApiSupported(): boolean {\n  return semver.gte(\n    tabnineExtensionProperties.vscodeVersion,\n    INLINE_API_RELEASE_VERSION\n  );\n}\n","import { Disposable } from \"vscode\";\nimport { installationState } from \"./events/installationStateChangedEmitter\";\nimport { openGettingStartedWebview } from \"./webview/openGettingStartedWebview\";\nimport { isAlreadyOpenedGettingStarted } from \"./state/gettingStartedOpenedState\";\nimport { ExtensionContext } from \"./preRelease/types\";\n\nexport default function handlePluginInstalled(\n  context: ExtensionContext\n): Disposable {\n  return installationState.event(() => {\n    if (isAlreadyOpenedGettingStarted(context)) return;\n    openGettingStartedWebview(context);\n  });\n}\n","import * as fs from \"fs\";\nimport * as path from \"path\";\nimport { Disposable } from \"vscode\";\nimport tabnineExtensionProperties from \"./globals/tabnineExtensionProperties\";\nimport { Logger } from \"./utils/logger\";\n\nexport default function handleUninstall(\n  onUninstall: () => Promise<unknown>\n): Disposable {\n  try {\n    const extensionsPath = path.dirname(\n      tabnineExtensionProperties.extensionPath ?? \"\"\n    );\n    const uninstalledPath = path.join(extensionsPath, \".obsolete\");\n    const isFileExists = (curr: fs.Stats) => curr.size !== 0;\n    const isModified = (curr: fs.Stats, prev: fs.Stats) =>\n      new Date(curr.mtimeMs) >= new Date(prev.atimeMs);\n    const isUpdating = (files: string[]) =>\n      files.filter((f) =>\n        tabnineExtensionProperties.id\n          ? f\n              .toLowerCase()\n              .includes(tabnineExtensionProperties.id.toLowerCase())\n          : false\n      ).length !== 1;\n    const watchFileHandler = (curr: fs.Stats, prev: fs.Stats) => {\n      if (isFileExists(curr) && isModified(curr, prev)) {\n        fs.readFile(uninstalledPath, (err, uninstalled) => {\n          if (err) {\n            Logger.error(\"failed to read .obsolete file:\", err);\n            throw err;\n          }\n          fs.readdir(extensionsPath, (error, files: string[]) => {\n            if (error) {\n              Logger.error(\n                `failed to read ${extensionsPath} directory:`,\n                error\n              );\n\n              throw error;\n            }\n\n            if (\n              !isUpdating(files) &&\n              uninstalled.includes(tabnineExtensionProperties.name)\n            ) {\n              onUninstall()\n                .then(() => {\n                  fs.unwatchFile(uninstalledPath, watchFileHandler);\n                })\n                .catch((e) => {\n                  Logger.error(\"failed to report uninstall:\", e);\n                });\n            }\n          });\n        });\n      }\n    };\n    fs.watchFile(uninstalledPath, watchFileHandler);\n    return new Disposable(() =>\n      fs.watchFile(uninstalledPath, watchFileHandler)\n    );\n  } catch (error) {\n    Logger.error(\"failed to invoke uninstall:\", error);\n  }\n  return new Disposable(() => {});\n}\n","import {\n  DecorationOptions,\n  ExtensionContext,\n  MarkdownString,\n  Position,\n  Range,\n  window,\n  workspace,\n} from \"vscode\";\nimport { Hover } from \"../binary/requests/hovers\";\nimport setState from \"../binary/requests/setState\";\nimport { StatePayload } from \"../globals/consts\";\nimport { getLogoPath } from \"../utils/logo.utils\";\n\nconst decorationType = window.createTextEditorDecorationType({\n  after: { margin: \"0 0 0 1rem\" },\n});\n\nlet decoration: DecorationOptions | null | undefined;\nlet decorationsDebounce: NodeJS.Timeout | null | undefined;\nlet currentHover: Hover | null | undefined;\n\nexport function getCurrentHover(): Hover | null | undefined {\n  return currentHover;\n}\n\nexport default function showTextDecoration(\n  position: Position,\n  context: ExtensionContext,\n  hover: Hover\n): void {\n  currentHover = hover;\n  decoration = {\n    renderOptions: {\n      after: {\n        contentText: hover.title,\n        color: \"gray\",\n      },\n    },\n    range: new Range(\n      new Position(position.line, position.character),\n      new Position(position.line, 1024)\n    ),\n    hoverMessage: getMarkdownMessage(context, hover),\n  };\n  renderDecoration();\n  void setState({\n    [StatePayload.HINT_SHOWN]: {\n      id: hover.id,\n      text: hover.title,\n      notification_type: hover.notification_type,\n      state: null,\n    },\n  });\n}\n\nexport function isDecorationContains(position: Position): boolean {\n  return !!decoration?.range.contains(position);\n}\n\nfunction getMarkdownMessage(context: ExtensionContext, hover: Hover) {\n  const fileUri = getLogoPath(context);\n  const actionKey = hover.options[0]?.key;\n  const logoAction = actionKey\n    ? `command:${actionKey}`\n    : \"https://www.tabnine.com\";\n\n  const template = hover.message\n    ? `[![tabnine](${fileUri}|width=100)](${logoAction})  \\n${hover.message}`\n    : \"\";\n  const markdown = new MarkdownString(template, true);\n  markdown.isTrusted = true;\n  return markdown;\n}\n\nfunction renderDecoration(delay = 10) {\n  if (decorationsDebounce) {\n    clearTimeout(decorationsDebounce);\n  }\n  decorationsDebounce = setTimeout(\n    () =>\n      decoration &&\n      window.activeTextEditor?.setDecorations(decorationType, [decoration]),\n    delay\n  );\n}\n\nworkspace.onDidChangeTextDocument(() => clearDecoration());\n\nfunction clearDecoration() {\n  window.activeTextEditor?.setDecorations(decorationType, []);\n  decoration = null;\n  currentHover = null;\n}\n","import { commands, Disposable } from \"vscode\";\nimport { Hover, sendHoverAction } from \"../binary/requests/hovers\";\n\nlet hoverActionsDisposable: Disposable;\n\nexport default function registerHoverCommands(hover: Hover): Disposable {\n  hoverActionsDisposable?.dispose();\n\n  hoverActionsDisposable = Disposable.from(\n    ...hover.options.map((option) =>\n      commands.registerCommand(option.key, () => {\n        void sendHoverAction(\n          hover.id,\n          option.key,\n          option.actions,\n          hover.notification_type,\n          hover.state\n        );\n      })\n    )\n  );\n  return hoverActionsDisposable;\n}\n","import { ExtensionContext, Position, TextDocument } from \"vscode\";\nimport { getHover } from \"../binary/requests/hovers\";\nimport { StatePayload } from \"../globals/consts\";\nimport setState from \"../binary/requests/setState\";\nimport registerHoverCommands from \"./hoverActionsHandler\";\nimport showTextDecoration, {\n  getCurrentHover,\n  isDecorationContains,\n} from \"./decorationState\";\n\nexport function provideHover(\n  _document: TextDocument,\n  position: Position\n): null {\n  handleHoverShown(position);\n  return null;\n}\n\nfunction handleHoverShown(position: Position): void {\n  const currentHover = getCurrentHover();\n  if (currentHover && isDecorationContains(position)) {\n    void setState({\n      [StatePayload.HOVER_SHOWN]: {\n        id: currentHover.id,\n        text: currentHover.message,\n        notification_type: currentHover.notification_type,\n        state: currentHover.state,\n      },\n    });\n  }\n}\n\nexport default async function setHover(\n  context: ExtensionContext,\n  position: Position\n): Promise<void> {\n  const currentHover = await getHover();\n\n  if (currentHover?.title) {\n    context.subscriptions.push(registerHoverCommands(currentHover));\n    showTextDecoration(position, context, currentHover);\n  }\n}\n","import { IS_OSX } from \"../globals/consts\";\n\nexport const createLayoutTemplate = (content: string): string => `\n<!DOCTYPE html>\n<html lang=\"en\" style=\"margin: 0; padding: 0; min-width: 100%; min-height: 100%\">\n    <head>\n        <meta charset=\"UTF-8\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n        <title>Tabnine Hub</title>\n    </head>\n    <body style=\"margin: 0; padding: 0; min-width: 100%; min-height: 100%\">\n        ${content}\n    </body>\n</html>`;\n\nexport function createLoadingHubTemplate(): string {\n  return createLayoutTemplate(`<div\n      id=\"loading\"\n      frameborder=\"0\"\n      style=\"\n        display: block;\n        margin: 0;\n        padding: 0;\n        position: absolute;\n        min-width: 100%;\n        min-height: 100%;\n        visibility: visible;\n        background: rgb(37, 37, 38);\n        color: white;\n        z-index: 2;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n      \"\n    >\n      Loading ...\n    </div>\n      `);\n}\n\nexport default function createHubTemplate(url: string): string {\n  return createLayoutTemplate(`\n    <iframe src=\"${url}\" id=\"config\" frameborder=\"0\" style=\"display: block; margin: 0; padding: 0; position: absolute; min-width: 100%; min-height: 100%; visibility: visible;\"></iframe>\n    <script>\n        window.onfocus = config.onload = function() {\n            setTimeout(function() {\n                document.getElementById(\"config\").contentWindow.focus();\n            }, 100);\n        };\n        window.addEventListener(\"message\", (e) => {\n          let data = e.data;\n          switch (data.type) {\n            case \"keydown\": {\n              if (${IS_OSX}) {\n                window.dispatchEvent(new KeyboardEvent('keydown',data.event));\n              }\n              break;\n            }\n            case \"link-click\": {\n              let tempRef = document.createElement(\"a\");\n              tempRef.setAttribute(\"href\", data.href);\n              config.appendChild(tempRef);\n              tempRef.click();\n              tempRef.parentNode.removeChild(tempRef);\n              break;\n            }\n            case \"navigation\": {\n              document.getElementById(\"config\").contentWindow.postMessage({type: \"navigation\", view: data.view}, '*');\n              break;\n            } \n          }\n      }, false);\n      </script>\n  `);\n}\n","import { Uri, ViewColumn, WebviewPanel, window } from \"vscode\";\nimport * as path from \"path\";\nimport { SLEEP_TIME_BEFORE_OPEN_HUB } from \"../globals/consts\";\nimport { fireEvent } from \"../binary/requests/requests\";\nimport { sleep } from \"../utils/utils\";\nimport createHubTemplate, {\n  createLoadingHubTemplate,\n} from \"./createHubTemplate\";\n\nlet panel: WebviewPanel | undefined;\nlet waitForServerReadyDelay = SLEEP_TIME_BEFORE_OPEN_HUB;\n\nexport function setHubWebViewUrl(uri: Uri): void {\n  if (panel) panel.webview.html = createHubTemplate(uri.toString(true));\n}\n\nexport default async function createHubWebView(\n  uri: Uri,\n  view?: string\n): Promise<WebviewPanel> {\n  if (!panel) {\n    panel = window.createWebviewPanel(\n      \"tabnine.settings\",\n      \"Tabnine Hub\",\n      { viewColumn: ViewColumn.Active, preserveFocus: false },\n      {\n        retainContextWhenHidden: true,\n        enableFindWidget: true,\n        enableCommandUris: true,\n        enableScripts: true,\n      }\n    );\n    panel.onDidChangeViewState(({ webviewPanel }) => {\n      void fireEvent({\n        name: \"hub-view-state-changed\",\n        active: webviewPanel.active,\n        visible: webviewPanel.visible,\n        hub_title: webviewPanel.title,\n      });\n    });\n    panel.onDidDispose(() => {\n      panel = undefined;\n      void fireEvent({\n        name: \"hub-view-closed\",\n      });\n    });\n\n    panel.iconPath = Uri.file(path.resolve(__dirname, \"..\", \"small_logo.png\"));\n\n    if (waitForServerReadyDelay > 0) {\n      panel.webview.html = createLoadingHubTemplate();\n      await sleep(SLEEP_TIME_BEFORE_OPEN_HUB);\n      waitForServerReadyDelay = 0;\n    }\n    setHubWebViewUrl(uri);\n  }\n  if (view) {\n    void panel.webview.postMessage({ type: \"navigation\", view: `#${view}` });\n  }\n\n  return panel;\n}\n","import { Uri } from \"vscode\";\nimport { StateType } from \"../globals/consts\";\nimport { configuration } from \"../binary/requests/requests\";\nimport { asExternal } from \"../utils/asExternal\";\n\nexport default async function hubUri(\n  type: StateType,\n  path?: string\n): Promise<Uri | null> {\n  const config = await configuration({ quiet: true, source: type });\n  if (!config?.message) {\n    return null;\n  }\n\n  return asExternal(config.message, path);\n}\n","import { env } from \"vscode\";\nimport createHubWebView, { setHubWebViewUrl } from \"./createHubWebView\";\nimport { StatePayload, StateType } from \"../globals/consts\";\nimport { tabNineProcess } from \"../binary/requests/requests\";\nimport hubUri from \"./hubUri\";\nimport setState from \"../binary/requests/setState\";\n\nexport function openHubExternal(type: StateType, path?: string) {\n  return async (args: string[] | null = null): Promise<void> => {\n    const uri = await hubUri(type, path);\n    if (uri) {\n      void env.openExternal(uri);\n    }\n\n    void setState({\n      [StatePayload.STATE]: { state_type: args?.join(\"-\") || type },\n    });\n  };\n}\n\nexport default function openHub(type: StateType, path?: string) {\n  return async (args: string[] | null = null): Promise<void> => {\n    const uri = await hubUri(type, path);\n    if (uri) {\n      const panel = await createHubWebView(uri);\n      panel.reveal();\n\n      tabNineProcess.onRestart(() => {\n        void hubUri(type, path).then(\n          (newUri) => newUri && setHubWebViewUrl(newUri)\n        );\n      });\n    }\n\n    void setState({\n      [StatePayload.STATE]: { state_type: args?.join(\"-\") || type },\n    });\n  };\n}\n","import { TextDocument, TextDocumentContentChangeEvent } from \"vscode\";\nimport getTabSize from \"../../binary/requests/tabSize\";\n\nconst AUTO_CLOSED_BRACKETS_CHANGE = [\"()\", \"{}\", \"[]\", '\"\"', \"''\", \"``\"];\nexport default class DocumentTextChangeContent {\n  constructor(\n    private readonly document: TextDocument,\n    private readonly contentChange?: TextDocumentContentChangeEvent\n  ) {}\n\n  isValidNonEmptyChange(): boolean {\n    return (\n      !!this.contentChange &&\n      this.contentChange.rangeLength >= 0 &&\n      this.contentChange.text !== \"\"\n    );\n  }\n\n  isSingleCharNonWhitespaceChange(): boolean {\n    return (\n      !!this.contentChange &&\n      (this.contentChange?.text.trim().length <= 1 ||\n        AUTO_CLOSED_BRACKETS_CHANGE.includes(this.contentChange.text))\n    );\n  }\n\n  isNotIndentationChange(): boolean {\n    const isEndsWithWhitespace = this.contentChange?.text.endsWith(\n      \" \".repeat(getTabSize())\n    );\n    const isEndsWithTab = this.contentChange?.text.endsWith(\"\\t\");\n    const isNewLine = this.contentChange?.text.includes(\"\\n\");\n    return (\n      !!this.contentChange &&\n      (isNewLine || (!isEndsWithWhitespace && !isEndsWithTab))\n    );\n  }\n\n  isPythonNewLineChange(): boolean {\n    return (\n      !!this.contentChange &&\n      this.document.languageId === \"python\" &&\n      this.contentChange?.text.startsWith(\"\\n\") &&\n      this.contentChange?.text.trim() === \"\"\n    );\n  }\n\n  isIndentOutChange(): boolean {\n    return (\n      !!this.contentChange &&\n      // in case of /t the rangeLength will be 1, in case of spaces the rangeLength will be tabsize\n      this.contentChange.rangeLength > 0 &&\n      this.contentChange.range.isSingleLine &&\n      this.document.lineAt(this.contentChange.range.end).isEmptyOrWhitespace\n    );\n  }\n}\n","import { Disposable, TextDocumentChangeEvent, window, workspace } from \"vscode\";\nimport DocumentTextChangeContent from \"./DocumentTextChangeContent\";\nimport tryApplyPythonIndentExtensionFix from \"./pythonIndentExtensionFix\";\n\nlet shouldComplete = false;\nlet change = false;\n\nfunction onChange(): void {\n  change = true;\n}\n\nfunction onTextSelectionChange(): void {\n  if (change) {\n    shouldComplete = true;\n    change = false;\n  } else {\n    shouldComplete = false;\n  }\n}\nexport function getShouldComplete(): boolean {\n  return shouldComplete;\n}\n\nexport function initTracker(): Disposable {\n  return Disposable.from(\n    workspace.onDidChangeTextDocument(\n      ({ contentChanges, document }: TextDocumentChangeEvent) => {\n        const currentPosition = window.activeTextEditor?.selection.active;\n        const relevantChange = contentChanges.find(\n          ({ range }) => currentPosition && range.contains(currentPosition)\n        );\n        const contentChange = new DocumentTextChangeContent(\n          document,\n          relevantChange\n        );\n        const changeHappened =\n          (contentChange.isValidNonEmptyChange() &&\n            contentChange.isNotIndentationChange() &&\n            contentChange.isSingleCharNonWhitespaceChange()) ||\n          contentChange.isIndentOutChange();\n\n        if (changeHappened) {\n          onChange();\n          tryApplyPythonIndentExtensionFix(contentChange);\n        }\n      }\n    ),\n    window.onDidChangeTextEditorSelection(onTextSelectionChange)\n  );\n}\n","import { commands, extensions } from \"vscode\";\nimport DocumentTextChangeContent from \"./DocumentTextChangeContent\";\n\nconst PYTHON_INDENT_EXTENSION_ID = \"KevinRose.vsc-python-indent\";\n\nfunction isPythonIndentExtensionEnabled() {\n  return extensions.all.find((x) => x.id.includes(PYTHON_INDENT_EXTENSION_ID))\n    ?.isActive;\n}\nexport default function tryApplyPythonIndentExtensionFix(\n  contentChange: DocumentTextChangeContent\n): void {\n  if (\n    contentChange.isPythonNewLineChange() &&\n    isPythonIndentExtensionEnabled()\n  ) {\n    void commands.executeCommand(\"editor.action.inlineSuggest.trigger\");\n  }\n}\n","import { Disposable, languages } from \"vscode\";\nimport { initTracker } from \"./documentChangesTracker\";\nimport { initTabOverride } from \"../lookAheadSuggestion\";\n\n// eslint-disable-next-line import/prefer-default-export\nexport async function registerInlineProvider(): Promise<Disposable> {\n  const provideInlineCompletionItems = (\n    await import(\"../provideInlineCompletionItems\")\n  ).default;\n  const inlineCompletionsProvider = {\n    provideInlineCompletionItems,\n  };\n  return Disposable.from(\n    languages.registerInlineCompletionItemProvider(\n      { pattern: \"**\" },\n      inlineCompletionsProvider\n    ),\n    initTracker(),\n    await initTabOverride()\n  );\n}\n","import { Command, InlineCompletionItem, Range } from \"vscode\";\nimport {\n  CompletionKind,\n  ResultEntry,\n  SnippetContext,\n} from \"../binary/requests/requests\";\n\nexport default class TabnineInlineCompletionItem extends InlineCompletionItem {\n  isCached?: boolean;\n\n  suggestionEntry: ResultEntry;\n\n  completionKind?: CompletionKind;\n\n  snippetContext?: SnippetContext;\n\n  insertText?: string;\n\n  constructor(\n    text: string,\n    suggestionEntry: ResultEntry,\n    range?: Range,\n    command?: Command,\n    completionKind?: CompletionKind,\n    isCached?: boolean,\n    snippetContext?: SnippetContext\n  ) {\n    super(text, range, command);\n    this.isCached = isCached;\n    this.suggestionEntry = suggestionEntry;\n    this.completionKind = completionKind;\n    this.snippetContext = snippetContext;\n  }\n}\n","import { getJavaHomePath } from \"./java/JavaHome\";\n\nexport function getSDKPath(languageId: string): string | undefined {\n  if (languageId === \"java\") {\n    return getJavaHomePath();\n  }\n  return undefined;\n}\n","import { extensions } from \"vscode\";\nimport { Logger } from \"../../utils/logger\";\n\ninterface RequirementsData {\n  tooling_jre: string;\n  tooling_jre_version: number;\n  java_home: string;\n  java_version: number;\n}\ninterface JavaExtensionAPI {\n  readonly javaRequirement: RequirementsData;\n}\n\nexport function getJavaHomePath(): string | undefined {\n  try {\n    const javaExension = extensions.getExtension<JavaExtensionAPI>(\n      \"redhat.java\"\n    );\n    if (javaExension?.isActive) {\n      return javaExension.exports.javaRequirement.java_home;\n    }\n    return undefined;\n  } catch (e) {\n    Logger.error(`Failde to get java sdk information: ${e}`);\n    return undefined;\n  }\n}\n","import {\n  CancellationToken,\n  Command,\n  commands,\n  Disposable,\n  InlineCompletionList,\n  Position,\n  Range,\n  SelectedCompletionInfo,\n  SnippetString,\n  TextDocument,\n  TextEditor,\n} from \"vscode\";\nimport { AutocompleteResult, ResultEntry } from \"./binary/requests/requests\";\nimport getAutoImportCommand from \"./getAutoImportCommand\";\nimport { SuggestionTrigger, TAB_OVERRIDE_COMMAND } from \"./globals/consts\";\nimport TabnineInlineCompletionItem from \"./inlineSuggestions/tabnineInlineCompletionItem\";\nimport { escapeTabStopSign } from \"./utils/utils\";\nimport runCompletion from \"./runCompletion\";\nimport { Logger } from \"./utils/logger\";\n\n// this will track only the suggestion which is \"extending\" the completion popup selected item,\n// i.e. it is relevant only for case where both are presented popup and inline\nlet currentLookAheadSuggestion: TabnineInlineCompletionItem | undefined | null;\n\nexport function clearCurrentLookAheadSuggestion(): void {\n  currentLookAheadSuggestion = undefined;\n}\n\n// returns the current look-ahead suggestion, only if it is matching the current text in the document.\nexport function getCurrentLookAheadSuggestion(\n  document: TextDocument,\n  currentPosition: Position\n): TabnineInlineCompletionItem | undefined | null {\n  if (!currentLookAheadSuggestion?.range) return undefined;\n\n  const textFromLookAheadStart = document.getText(\n    new Range(currentLookAheadSuggestion.range?.start, currentPosition)\n  );\n\n  if (\n    !currentLookAheadSuggestion.insertText?.startsWith(textFromLookAheadStart)\n  ) {\n    Logger.info(\n      \"look ahead suggestion text doesn't the newly added text in the document, dropping it\"\n    );\n    return undefined;\n  }\n\n  const lookAheadSuggestion: TabnineInlineCompletionItem = {\n    ...currentLookAheadSuggestion,\n    range: currentLookAheadSuggestion.range?.with(undefined, currentPosition),\n  };\n\n  return lookAheadSuggestion;\n}\n\nexport async function initTabOverride(): Promise<Disposable> {\n  return Disposable.from(\n    await enableTabOverrideContext(),\n    registerTabOverride()\n  );\n}\n\n// \"look a head \" suggestion\n// is the suggestion witch extends te current selected intellisense popup item\n// and queries tabnine with the selected item as prefix untitled-file-extension\nexport async function getLookAheadSuggestion(\n  document: TextDocument,\n  { range, text }: SelectedCompletionInfo,\n  position: Position,\n  cancellationToken: CancellationToken\n): Promise<InlineCompletionList<TabnineInlineCompletionItem>> {\n  const textAtRange = document.getText(range);\n  const isContainsCompletionInfo = text.startsWith(textAtRange);\n\n  if (!isContainsCompletionInfo) {\n    return new InlineCompletionList([]);\n  }\n  const response = await runCompletion({\n    document,\n    position: range.end,\n    currentSuggestionText: text.substring(textAtRange.length),\n    retry: {\n      cancellationToken,\n    },\n  });\n\n  const result = findMostRelevantSuggestion(response, text);\n  const completion =\n    result &&\n    response &&\n    new TabnineInlineCompletionItem(\n      result.new_prefix.replace(response.old_prefix, text),\n      result,\n      range.with({\n        end: range.end.translate(0, result.old_suffix.length),\n      }),\n      getAutoImportCommand(\n        result,\n        response,\n        position,\n        SuggestionTrigger.LookAhead\n      ),\n      result.completion_metadata?.completion_kind,\n      result.completion_metadata?.is_cached,\n      result.completion_metadata?.snippet_context\n    );\n\n  currentLookAheadSuggestion = completion;\n\n  return new InlineCompletionList((completion && [completion]) || []);\n}\n\nfunction findMostRelevantSuggestion(\n  response: AutocompleteResult | null | undefined,\n  currentSelectedText: string\n): ResultEntry | undefined {\n  return response?.results.find(({ new_prefix }) =>\n    new_prefix.startsWith(\n      getCompletionInfoWithoutOverlappingDot(currentSelectedText)\n    )\n  );\n}\n\nfunction getCompletionInfoWithoutOverlappingDot(currentSelectedText: string) {\n  return currentSelectedText.startsWith(\".\")\n    ? currentSelectedText.substring(1)\n    : currentSelectedText;\n}\n\nfunction registerTabOverride(): Disposable {\n  return commands.registerTextEditorCommand(\n    `${TAB_OVERRIDE_COMMAND}`,\n    (textEditor: TextEditor) => {\n      if (!currentLookAheadSuggestion) {\n        void commands.executeCommand(\"acceptSelectedSuggestion\");\n        return;\n      }\n\n      const { range, insertText, command } = currentLookAheadSuggestion;\n      if (range && insertText && command) {\n        void textEditor\n          .insertSnippet(\n            new SnippetString(escapeTabStopSign(insertText)),\n            range\n          )\n          .then(() => executeSelectionCommand(command));\n      }\n    }\n  );\n}\n\nfunction executeSelectionCommand(command: Command): void {\n  void commands.executeCommand(command.command, command.arguments?.[0]);\n}\n\nasync function enableTabOverrideContext(): Promise<Disposable> {\n  await commands.executeCommand(\"setContext\", \"tabnine.tab-override\", true);\n  return {\n    dispose() {\n      void commands.executeCommand(\n        \"setContext\",\n        \"tabnine.tab-override\",\n        undefined\n      );\n    },\n  };\n}\n","import { URLSearchParams } from \"url\";\nimport openHub from \"../hub/openHub\";\nimport {\n  MessageAction,\n  MessageActionsEnum,\n  NOTIFICATIONS_OPEN_QUERY_PARAM,\n  OpenHubWithAction,\n  StateType,\n} from \"../globals/consts\";\n\nexport default async function executeNotificationAction(\n  selectedActions: MessageAction[] | undefined\n): Promise<void> {\n  if (selectedActions?.includes(MessageActionsEnum.OPEN_HUB)) {\n    return openHub(StateType.NOTIFICATION)();\n  }\n\n  if (selectedActions?.includes(MessageActionsEnum.OPEN_NOTIFICATIONS_IN_HUB)) {\n    return openHub(\n      StateType.NOTIFICATION,\n      `/home?${NOTIFICATIONS_OPEN_QUERY_PARAM}`\n    )();\n  }\n\n  const openHubWithActions = selectedActions\n    ?.map((action) => action as OpenHubWithAction)\n    .filter(\n      (action) =>\n        action.OpenHubWith &&\n        action.OpenHubWith.path &&\n        action.OpenHubWith.query_params\n    )\n    .map(({ OpenHubWith: { path, query_params } }) =>\n      openHub(StateType.NOTIFICATION, buildFullHubPath(path, query_params))()\n    );\n\n  if (openHubWithActions?.length) {\n    return Promise.all(openHubWithActions).then();\n  }\n\n  return Promise.resolve();\n}\n\nfunction buildFullHubPath(path: string, params: [string, string][]) {\n  return `${path}?${buildQueryParamsString(params)}`;\n}\n\nfunction buildQueryParamsString(params: [string, string][]) {\n  return new URLSearchParams(params).toString();\n}\n","import * as vscode from \"vscode\";\nimport {\n  getNotifications,\n  Notification,\n  sendNotificationAction,\n} from \"../binary/requests/notifications\";\nimport executeNotificationAction from \"./executeNotificationAction\";\nimport {\n  BINARY_NOTIFICATION_POLLING_INTERVAL,\n  StatePayload,\n} from \"../globals/consts\";\nimport { assertFirstTimeReceived } from \"../utils/utils\";\nimport setState from \"../binary/requests/setState\";\n\nlet pollingInterval: NodeJS.Timeout | null = null;\n\nexport default function pollNotifications(\n  context: vscode.ExtensionContext\n): void {\n  pollingInterval = setInterval(\n    () => void doPollNotifications(context),\n    BINARY_NOTIFICATION_POLLING_INTERVAL\n  );\n}\n\nexport function cancelNotificationsPolling(): void {\n  if (pollingInterval) {\n    clearInterval(pollingInterval);\n  }\n}\n\nexport async function doPollNotifications(\n  context: vscode.ExtensionContext\n): Promise<void> {\n  const notifications = await getNotifications();\n\n  if (!notifications || !notifications.notifications) {\n    return;\n  }\n\n  notifications.notifications.forEach(\n    (notification) => void handleNotification(notification, context)\n  );\n}\n\nasync function handleNotification(\n  { id, message, notification_type, options, state }: Notification,\n  context: vscode.ExtensionContext\n): Promise<void> {\n  try {\n    await assertFirstTimeReceived(id, context);\n\n    void setState({\n      [StatePayload.NOTIFICATION_SHOWN]: {\n        id,\n        text: message,\n        notification_type,\n        state,\n      },\n    });\n\n    return await vscode.window\n      .showInformationMessage(message, ...options.map((option) => option.key))\n      .then((selected) => {\n        const selectedAction = options.find(({ key }) => key === selected);\n        void sendNotificationAction(\n          id,\n          message,\n          selected,\n          notification_type,\n          selectedAction?.actions,\n          state\n        );\n        void executeNotificationAction(selectedAction?.actions);\n      });\n  } catch (error) {\n    // This is OK, as we prevented the same popup to appear twice.\n    return Promise.resolve();\n  }\n}\n","import { ExtensionContext } from \"vscode\";\nimport { Capability } from \"../capabilities/capabilities\";\nimport { fireEvent } from \"../binary/requests/requests\";\nimport { StateType } from \"../globals/consts\";\nimport registerWidgetWebviewProvider from \"../widgetWebview/widgetWebview\";\nimport { Logger } from \"../utils/logger\";\n\nconst LOADED_NOTIFICATIONS_WIDGET = \"loaded-notificaitons-widget-as-webview\";\n\nexport default function registerNotificationsWebviewProvider(\n  context: ExtensionContext\n): void {\n  registerWidgetWebviewProvider(context, {\n    capability: Capability.NOTIFICATIONS_WIDGET,\n    getHubBaseUrlSource: StateType.NOTIFICATIONS_WIDGET_WEBVIEW,\n    hubPath: \"/notifications-widget\",\n    viewId: \"tabnine-notifications\",\n    readyCommand: \"tabnine.notifications-ready\",\n    onWebviewLoaded: () => {\n      void fireEvent({\n        name: LOADED_NOTIFICATIONS_WIDGET,\n      }).catch((e) => Logger.error(e));\n    },\n  });\n}\n","import { TextEditor, ExtensionContext, Position } from \"vscode\";\nimport { doPollStatus } from \"./statusBar/pollStatusBar\";\nimport setHover from \"./hovers/hoverHandler\";\nimport { doPollNotifications } from \"./notifications/pollNotifications\";\n\nexport function pollUserUpdates(context: ExtensionContext, editor: TextEditor) {\n  void doPollNotifications(context);\n  void doPollStatus(context);\n  void setHover(context, marginRight(editor));\n}\n\nexport function marginRight(editor: TextEditor): Position {\n  return editor.selection.active.translate(0, 10);\n}\n","import * as semver from \"semver\";\nimport { commands, Uri } from \"vscode\";\nimport {\n  BETA_CHANNEL_MESSAGE_SHOWN_KEY,\n  INSTALL_COMMAND,\n} from \"../globals/consts\";\nimport {\n  downloadFileToDestination,\n  downloadFileToStr,\n} from \"../utils/download.utils\";\nimport tabnineExtensionProperties from \"../globals/tabnineExtensionProperties\";\nimport createTempFileWithPostfix from \"../utils/file.utils\";\nimport showMessage from \"./messages\";\nimport {\n  getCurrentVersion,\n  isPreReleaseChannelSupported,\n  updatePersistedAlphaVersion,\n} from \"./versions\";\nimport { ExtensionContext } from \"./types\";\nimport { Capability, isCapabilityEnabled } from \"../capabilities/capabilities\";\nimport { Logger } from \"../utils/logger\";\n\nconst REMOTE_ALPHA_URL = \"https://update.tabnine.com/vscode-alpha\";\nexport const REMOTE_ALPHA_VERSION = `${REMOTE_ALPHA_URL}/version`;\nexport const REMOTE_ALPHA_VSIX = `${REMOTE_ALPHA_URL}/tabnine-vscode.vsix`;\n\nexport default async function handlePreReleaseChannels(\n  context: ExtensionContext\n): Promise<void> {\n  try {\n    void showNotificationForBetaChannelIfNeeded(context);\n    if (userConsumesPreReleaseChannelUpdates()) {\n      const availableVersion = await getRemoteVersion();\n\n      if (isNewerAlphaVersionAvailable(context, availableVersion)) {\n        const { name } = await createTempFileWithPostfix(\".vsix\");\n        await downloadFileToDestination(REMOTE_ALPHA_VSIX, name);\n        await commands.executeCommand(INSTALL_COMMAND, Uri.file(name));\n        await updatePersistedAlphaVersion(context, availableVersion);\n\n        void showMessage({\n          messageId: \"prerelease-installer-update\",\n          messageText: `TabNine has been updated to ${availableVersion} version. Please reload the window for the changes to take effect.`,\n          buttonText: \"Reload\",\n          action: () =>\n            void commands.executeCommand(\"workbench.action.reloadWindow\"),\n        });\n      }\n    }\n  } catch (e) {\n    Logger.error(e);\n  }\n}\n\nasync function getRemoteVersion(): Promise<string> {\n  const version = await downloadFileToStr(REMOTE_ALPHA_VERSION);\n  assertValidVersion(version);\n  return version;\n}\nfunction assertValidVersion(version: string): void {\n  if (!semver.valid(version)) {\n    throw new Error(`invalid version: ${version}`);\n  }\n}\n\nfunction isNewerAlphaVersionAvailable(\n  context: ExtensionContext,\n  availableVersion: string\n): boolean {\n  const currentVersion = getCurrentVersion(context);\n\n  const isNewerVersion =\n    !!currentVersion && semver.gt(availableVersion, currentVersion);\n\n  return isNewerVersion;\n}\n\nasync function showNotificationForBetaChannelIfNeeded(\n  context: ExtensionContext\n) {\n  const didShowMessage = context.globalState.get<boolean>(\n    BETA_CHANNEL_MESSAGE_SHOWN_KEY\n  );\n\n  const shouldShowMessage =\n    isPreReleaseChannelSupported() &&\n    (tabnineExtensionProperties.isVscodeInsiders ||\n      isCapabilityEnabled(Capability.ALPHA_CAPABILITY)) &&\n    !didShowMessage &&\n    !tabnineExtensionProperties.isExtensionBetaChannelEnabled;\n\n  if (!shouldShowMessage) {\n    return;\n  }\n\n  await showMessage({\n    messageId: \"vscode-join-beta-channel\",\n    messageText:\n      \"Do you wish to help Tabnine get better? Enable Tabnine's extension beta channel if so!\",\n    buttonText: \"Open Settings\",\n    action: () =>\n      void commands.executeCommand(\n        \"workbench.action.openSettings\",\n        \"tabnine.receiveBetaChannelUpdates\"\n      ),\n  });\n\n  await context.globalState.update(BETA_CHANNEL_MESSAGE_SHOWN_KEY, true);\n}\n\nfunction userConsumesPreReleaseChannelUpdates(): boolean {\n  return (\n    isPreReleaseChannelSupported() &&\n    (isCapabilityEnabled(Capability.ALPHA_CAPABILITY) ||\n      tabnineExtensionProperties.isExtensionBetaChannelEnabled)\n  );\n}\n","import { window } from \"vscode\";\nimport { fireEvent } from \"../binary/requests/requests\";\nimport setState from \"../binary/requests/setState\";\nimport { StatePayload } from \"../globals/consts\";\n\ntype MessageOptions = {\n  messageId: string;\n  messageText: string;\n  buttonText: string;\n  action: () => void;\n};\n\nexport default async function showMessage(\n  options: MessageOptions\n): Promise<void> {\n  void setState({\n    [StatePayload.NOTIFICATION_SHOWN]: {\n      id: options.messageId,\n      text: options.messageText,\n      notification_type: \"System\",\n      state: null,\n    },\n  });\n\n  await window\n    .showInformationMessage(options.messageText, options.buttonText)\n    .then((selected) => {\n      if (selected === options.buttonText) {\n        options.action();\n      }\n      void fireEvent({\n        name: `Notification ${selected ? \"Clicked\" : \"Dismissed\"}`,\n        action_type: \"button\",\n        message_name: options.messageId,\n        source: \"ide\",\n        type: \"System\",\n        message_text: options.messageText,\n        action_name: selected || \"dismissed\",\n      });\n    });\n}\n","import * as semver from \"semver\";\nimport {\n  ALPHA_VERSION_KEY,\n  MINIMAL_SUPPORTED_VSCODE_API,\n} from \"../globals/consts\";\nimport tabnineExtensionProperties from \"../globals/tabnineExtensionProperties\";\nimport { ExtensionContext } from \"./types\";\n\nexport function getCurrentVersion(\n  context: ExtensionContext\n): string | undefined {\n  const persistedAlphaVersion = getPersistedAlphaVersion(context);\n  return persistedAlphaVersion || tabnineExtensionProperties.version;\n}\n\nexport function getPersistedAlphaVersion(\n  context: ExtensionContext\n): string | undefined {\n  return context.globalState.get<string | undefined>(ALPHA_VERSION_KEY);\n}\n\nexport function updatePersistedAlphaVersion(\n  context: ExtensionContext,\n  installedVersion: string | undefined\n): Thenable<void> {\n  return context.globalState.update(ALPHA_VERSION_KEY, installedVersion);\n}\n\nexport function getAvailableAlphaVersion(artifactUrl: string): string {\n  const versionPattern = /(?<=download\\/)(.*)(?=\\/tabnine-vscode)/gi;\n  const match = artifactUrl.match(versionPattern);\n  return (match && match[0]) || \"\";\n}\n\nexport function isPreReleaseChannelSupported(): boolean {\n  return semver.gte(\n    tabnineExtensionProperties.vscodeVersion,\n    MINIMAL_SUPPORTED_VSCODE_API\n  );\n}\n","import * as vscode from \"vscode\";\nimport {\n  AutocompleteResult,\n  MarkdownStringSpec,\n  ResultEntry,\n} from \"./binary/requests/requests\";\nimport {\n  ATTRIBUTION_BRAND,\n  BRAND_NAME,\n  DEFAULT_DETAIL,\n  LIMITATION_SYMBOL,\n} from \"./globals/consts\";\nimport tabnineExtensionProperties from \"./globals/tabnineExtensionProperties\";\nimport runCompletion from \"./runCompletion\";\nimport { COMPLETION_IMPORTS } from \"./selectionHandler\";\nimport { setCompletionStatus } from \"./statusBar/statusBar\";\nimport { escapeTabStopSign } from \"./utils/utils\";\nimport { Logger } from \"./utils/logger\";\n\nconst INCOMPLETE = true;\n\nexport default async function provideCompletionItems(\n  document: vscode.TextDocument,\n  position: vscode.Position\n): Promise<vscode.CompletionList> {\n  return new vscode.CompletionList(\n    await completionsListFor(document, position),\n    INCOMPLETE\n  );\n}\n\nasync function completionsListFor(\n  document: vscode.TextDocument,\n  position: vscode.Position\n): Promise<vscode.CompletionItem[]> {\n  try {\n    if (!completionIsAllowed(document, position)) {\n      return [];\n    }\n\n    const response = await runCompletion({ document, position });\n\n    setCompletionStatus(response?.is_locked);\n\n    if (!response || response?.results.length === 0) {\n      return [];\n    }\n\n    const limit =\n      showFew(response, document, position) || response.is_locked\n        ? 1\n        : response.results.length;\n\n    return response.results.slice(0, limit).map((entry, index) =>\n      makeCompletionItem({\n        document,\n        index,\n        position,\n        detailMessage: extractDetailMessage(response),\n        oldPrefix: response?.old_prefix,\n        entry,\n        results: response?.results,\n        limited: response?.is_locked,\n      })\n    );\n  } catch (e) {\n    Logger.error(`Error setting up request: ${e}`);\n\n    return [];\n  }\n}\n\nfunction extractDetailMessage(response: AutocompleteResult) {\n  return (response.user_message || []).join(\"\\n\") || DEFAULT_DETAIL;\n}\n\nfunction makeCompletionItem(args: {\n  document: vscode.TextDocument;\n  index: number;\n  position: vscode.Position;\n  detailMessage: string;\n  oldPrefix: string;\n  entry: ResultEntry;\n  results: ResultEntry[];\n  limited: boolean;\n}): vscode.CompletionItem {\n  const item = new vscode.CompletionItem(\n    ATTRIBUTION_BRAND + args.entry.new_prefix\n  );\n  if (args.limited) {\n    item.detail = `${LIMITATION_SYMBOL} ${BRAND_NAME}`;\n  } else {\n    item.detail = BRAND_NAME;\n  }\n\n  item.sortText = String.fromCharCode(0) + String.fromCharCode(args.index);\n  item.insertText = new vscode.SnippetString(\n    escapeTabStopSign(args.entry.new_prefix)\n  );\n\n  item.filterText = args.entry.new_prefix;\n  item.preselect = args.index === 0;\n  item.kind = args.entry.completion_metadata?.kind;\n  item.range = new vscode.Range(\n    args.position.translate(0, -args.oldPrefix.length),\n    args.position.translate(0, args.entry.old_suffix.length)\n  );\n\n  if (tabnineExtensionProperties.isTabNineAutoImportEnabled) {\n    item.command = {\n      arguments: [\n        {\n          currentCompletion: args.entry.new_prefix,\n          completions: args.results,\n          position: args.position,\n          limited: args.limited,\n          oldPrefix: args.oldPrefix,\n        },\n      ],\n      command: COMPLETION_IMPORTS,\n      title: \"accept completion\",\n    };\n  }\n\n  if (args.entry.new_suffix) {\n    item.insertText\n      .appendTabstop(0)\n      .appendText(escapeTabStopSign(args.entry.new_suffix));\n  }\n\n  if (args.entry.completion_metadata?.documentation) {\n    item.documentation = formatDocumentation(\n      args.entry.completion_metadata?.documentation\n    );\n  }\n\n  return item;\n}\n\nfunction formatDocumentation(\n  documentation: string | MarkdownStringSpec\n): string | vscode.MarkdownString {\n  if (isMarkdownStringSpec(documentation)) {\n    if (documentation.kind === \"markdown\") {\n      return new vscode.MarkdownString(documentation.value);\n    }\n    return documentation.value;\n  }\n  return documentation;\n}\n\nfunction isMarkdownStringSpec(\n  x: string | MarkdownStringSpec\n): x is MarkdownStringSpec {\n  return !(typeof x === \"string\");\n}\n\nexport function completionIsAllowed(\n  document: vscode.TextDocument,\n  position: vscode.Position\n): boolean {\n  const configuration = vscode.workspace.getConfiguration();\n  const disableLineRegex = getMisnamedConfigPropertyValue(\n    \"tabnine.disableLineRegex\",\n    \"tabnine.disable_line_regex\",\n    configuration\n  );\n\n  const line = document.getText(\n    new vscode.Range(\n      position.with({ character: 0 }),\n      position.with({ character: 500 })\n    )\n  );\n\n  if (disableLineRegex.some((r) => new RegExp(r).test(line))) {\n    return false;\n  }\n\n  const disableFileRegex = getMisnamedConfigPropertyValue(\n    \"tabnine.disableFileRegex\",\n    \"tabnine.disable_file_regex\",\n    configuration\n  );\n\n  return !disableFileRegex.some((r) => new RegExp(r).test(document.fileName));\n}\n\nfunction getMisnamedConfigPropertyValue(\n  properPropName: string,\n  propMisname: string,\n  configuration: vscode.WorkspaceConfiguration\n): string[] {\n  let disableLineRegex = configuration.get<string[]>(properPropName);\n  if (!disableLineRegex || !disableLineRegex.length) {\n    disableLineRegex = configuration.get<string[]>(propMisname);\n  }\n\n  if (disableLineRegex === undefined) {\n    disableLineRegex = [];\n  }\n\n  return disableLineRegex;\n}\n\nfunction showFew(\n  response: AutocompleteResult,\n  document: vscode.TextDocument,\n  position: vscode.Position\n): boolean {\n  if (\n    response.results.some(\n      (entry) =>\n        entry.completion_metadata?.kind ||\n        entry.completion_metadata?.documentation\n    )\n  ) {\n    return false;\n  }\n\n  const leftPoint = position.translate(0, -response.old_prefix.length);\n  const tail = document.getText(\n    new vscode.Range(document.lineAt(leftPoint).range.start, leftPoint)\n  );\n\n  return tail.endsWith(\".\") || tail.endsWith(\"::\");\n}\n","import * as vscode from \"vscode\";\nimport TabnineInlineCompletionItem from \"./inlineSuggestions/tabnineInlineCompletionItem\";\nimport { completionIsAllowed } from \"./provideCompletionItems\";\nimport { getShouldComplete } from \"./inlineSuggestions/documentChangesTracker\";\nimport {\n  clearCurrentLookAheadSuggestion,\n  getCurrentLookAheadSuggestion,\n  getLookAheadSuggestion,\n} from \"./lookAheadSuggestion\";\nimport debounceCompletions from \"./debounceCompletions\";\nimport reportSuggestionShown from \"./reportSuggestionShown\";\nimport { Logger } from \"./utils/logger\";\nimport { completionsState } from \"./state/completionsState\";\n\nconst END_OF_LINE_VALID_REGEX = new RegExp(\"^\\\\s*[)}\\\\]\\\"'`]*\\\\s*[:{;,]?\\\\s*$\");\n\nexport default async function provideInlineCompletionItems(\n  document: vscode.TextDocument,\n  position: vscode.Position,\n  context: vscode.InlineCompletionContext,\n  token: vscode.CancellationToken\n): Promise<\n  vscode.InlineCompletionList<TabnineInlineCompletionItem> | undefined\n> {\n  try {\n    if (\n      !completionsState.value ||\n      !getShouldComplete() ||\n      !completionIsAllowed(document, position) ||\n      !isValidMidlinePosition(document, position)\n    ) {\n      const lookAheadSuggestion = getCurrentLookAheadSuggestion(\n        document,\n        position\n      );\n      if (!lookAheadSuggestion) return undefined;\n      return new vscode.InlineCompletionList([lookAheadSuggestion]);\n    }\n\n    clearCurrentLookAheadSuggestion();\n    const completionInfo = context.selectedCompletionInfo;\n    if (completionInfo) {\n      const result = await getLookAheadSuggestion(\n        document,\n        completionInfo,\n        position,\n        token\n      );\n      reportSuggestionShown(document, result);\n      return result;\n    }\n\n    const completions = await debounceCompletions(document, position, token);\n    reportSuggestionShown(document, completions);\n    return completions;\n  } catch (e) {\n    Logger.error(`Error setting up request: ${e}`);\n\n    return undefined;\n  }\n}\n\nfunction isValidMidlinePosition(\n  document: vscode.TextDocument,\n  position: vscode.Position\n): boolean {\n  const lineSuffix = document.getText(\n    new vscode.Range(position, document.lineAt(position.line).range.end)\n  );\n  return END_OF_LINE_VALID_REGEX.test(lineSuffix);\n}\n","import {\n  HttpsProxyAgent,\n  HttpsProxyAgentOptions,\n} from \"https-proxy-agent/dist\";\nimport { URL } from \"url\";\nimport { workspace } from \"vscode\";\nimport tabnineExtensionProperties from \"./globals/tabnineExtensionProperties\";\n\ntype ProxyAgentOptions = {\n  ignoreCertificateErrors?: boolean;\n  ca: Buffer | undefined;\n};\n\nexport default function getHttpsProxyAgent(\n  options: ProxyAgentOptions\n): HttpsProxyAgent | undefined {\n  const proxySettings = getProxySettings();\n  const config: string | undefined = workspace\n    .getConfiguration()\n    .get<string>(\"http.proxySupport\");\n\n  if (\n    !proxySettings ||\n    !tabnineExtensionProperties.useProxySupport ||\n    config === \"on\"\n  ) {\n    return undefined;\n  }\n\n  const proxyUrl = new URL(proxySettings);\n\n  const proxyOptions: HttpsProxyAgentOptions = {\n    protocol: proxyUrl.protocol,\n    port: proxyUrl.port,\n    hostname: proxyUrl.hostname,\n    pathname: proxyUrl.pathname,\n    ca: options.ca,\n    rejectUnauthorized: !options.ignoreCertificateErrors,\n  };\n\n  try {\n    return new HttpsProxyAgent(proxyOptions);\n  } catch (e) {\n    return undefined;\n  }\n}\n\nexport function getProxySettings(): string | undefined {\n  let proxy: string | undefined = workspace\n    .getConfiguration()\n    .get<string>(\"http.proxy\");\n  if (!proxy) {\n    proxy =\n      process.env.HTTPS_PROXY ||\n      process.env.https_proxy ||\n      process.env.HTTP_PROXY ||\n      process.env.http_proxy;\n  }\n  if (proxy?.endsWith(\"/\")) {\n    proxy = proxy.substr(0, proxy.length - 1);\n  }\n  return proxy;\n}\n","import * as vscode from \"vscode\";\nimport {\n  Capability,\n  isCapabilityEnabled,\n  isEnabled,\n  onDidRefreshCapabilities,\n} from \"../capabilities/capabilities\";\nimport {\n  installationState,\n  InstallationState,\n} from \"../events/installationStateChangedEmitter\";\nimport { Publisher } from \"../utils/publisher\";\nimport { PopupTristate } from \"./popupTristate\";\nimport { callForLogin } from \"../authentication/authentication.api\";\nimport { fireEvent } from \"../binary/requests/requests\";\nimport BINARY_STATE from \"../binary/binaryStateSingleton\";\n\nconst isForceEnabled = new Publisher(isEnabled(Capability.FORCE_REGISTRATION));\n\nexport function shouldBlockCompletions(): boolean {\n  return false;\n  // if the feature is on and the user isn't logged in we will block the completions\n  // return (\n  //   isForceEnabled.value === true &&\n  //   !(statePoller.state.currentState?.is_logged_in ?? false)\n  // );\n}\n\nexport function shouldStatusBarBeProminent(): boolean {\n  return (\n    isForceEnabled.value === true &&\n    BINARY_STATE.get()?.service_level === \"Free\" &&\n    !(BINARY_STATE.get()?.is_logged_in ?? false)\n  );\n}\n\nif (isForceEnabled.value === undefined) {\n  const disposable = onDidRefreshCapabilities(() => {\n    isForceEnabled.value = isCapabilityEnabled(Capability.FORCE_REGISTRATION);\n    if (isForceEnabled.value) {\n      disposable.dispose();\n    }\n  });\n}\n\nexport function forceRegistrationIfNeeded() {\n  if (isForceEnabled.value === true) {\n    void forceFlowFSM();\n  } else {\n    // wait for value\n    const disposable = isForceEnabled.emitter.event((enabled) => {\n      if (enabled) {\n        disposable.dispose();\n        void forceFlowFSM();\n      }\n    });\n  }\n}\n\nfunction forceFlowFSM() {\n  const popupTristate = new PopupTristate();\n  // already have enough data to display\n  if (popupTristate.shouldDisplay) {\n    void popupState();\n  } else if (popupTristate.needWait) {\n    const disposable = popupTristate.changedStateEmitter.event(() => {\n      if (!popupTristate.needWait) {\n        disposable.dispose();\n      }\n      if (popupTristate.shouldDisplay) {\n        popupTristate.displayed();\n        void popupState();\n      }\n    });\n  }\n\n  if (installationState.state === InstallationState.ExistingInstallation) {\n    if (BINARY_STATE.get()?.is_logged_in === false) {\n      void notifyState();\n    } else if (!BINARY_STATE.get()) {\n      // still waiting for a state message from the binary -\n      // in this case we subscribe to the state change\n      // delay the notification until we have enough information\n      const disposable = BINARY_STATE.onChange((state) => {\n        if (state.is_logged_in === false) {\n          disposable.dispose();\n          void notifyState();\n        }\n      });\n    }\n  }\n}\n\nasync function popupState() {\n  awaitLoginNotification();\n  void fireEvent({ name: \"force-registration-popup-displayed\" });\n  const res = await vscode.window.showInformationMessage(\n    \"Please sign in to start using Tabnine\",\n    { modal: true },\n    \"Sign in\"\n  );\n  if (res === \"Sign in\") {\n    void fireEvent({ name: \"force-registration-popup-signin-clicked\" });\n    void callForLogin();\n    // send analytics\n  } else {\n    void fireEvent({ name: \"force-registration-popup-dismissed\" });\n    void notifyState();\n  }\n}\n\nasync function notifyState() {\n  awaitLoginNotification();\n  void fireEvent({ name: \"force-registration-notification-displayed\" });\n  const res = await vscode.window.showWarningMessage(\n    \"Please sign in to start using Tabnine\",\n    \"Sign in\"\n  );\n  if (res === \"Sign in\") {\n    void fireEvent({ name: \"force-registration-notification-signin-clicked\" });\n    void callForLogin();\n  } else {\n    void fireEvent({ name: \"force-registration-notification-dismissed\" });\n  }\n}\n\nlet awaiting = false;\nfunction awaitLoginNotification() {\n  if (awaiting) {\n    return;\n  }\n  awaiting = true;\n  function presentWhenFocused(userName: string) {\n    if (vscode.window.state.focused) {\n      void fireEvent({ name: \"force-registration-login-success-displayed\" });\n      void vscode.window.showInformationMessage(\n        `You are currently logged in as ${userName}`\n      );\n    } else {\n      // delay it until the window is focused\n      const focused = vscode.window.onDidChangeWindowState((windowState) => {\n        if (windowState.focused) {\n          focused.dispose();\n          presentWhenFocused(userName);\n        }\n      });\n    }\n  }\n\n  const state = BINARY_STATE.get();\n\n  if (state?.is_logged_in && state?.user_name) {\n    presentWhenFocused(state.user_name);\n  } else {\n    const disposable = BINARY_STATE.onChange((currentState) => {\n      if (currentState.is_logged_in) {\n        disposable.dispose();\n        presentWhenFocused(currentState.user_name);\n      }\n    });\n  }\n}\n","// conditions to show the popup\n// 1. new installation\n// 2. not logged in\n// 3. never displayed the popup before\n\nimport { Disposable, EventEmitter } from \"vscode\";\nimport { installationState } from \"../events/installationStateChangedEmitter\";\nimport BINARY_STATE from \"../binary/binaryStateSingleton\";\n\nexport class PopupTristate implements Disposable {\n  private newInstall = installationState.newInstall;\n\n  private isLoggedIn = BINARY_STATE.get()?.is_logged_in;\n\n  private didDisplay = false;\n\n  changedStateEmitter = new EventEmitter<void>();\n\n  constructor() {\n    if (this.newInstall === undefined) {\n      const dispose = installationState.event(() => {\n        if (installationState.newInstall) {\n          this.newInstall = true;\n          dispose.dispose();\n          this.changedStateEmitter.fire();\n        }\n      });\n    }\n\n    const currentState = BINARY_STATE.get();\n\n    if (!currentState) {\n      const disposable = BINARY_STATE.onChange((state) => {\n        if (state.is_logged_in === false) {\n          disposable.dispose();\n          this.isLoggedIn = false;\n          this.changedStateEmitter.fire();\n        }\n      });\n    }\n  }\n\n  get needWait(): boolean {\n    return this.newInstall === undefined || this.isLoggedIn === undefined;\n  }\n\n  get shouldDisplay() {\n    return this.newInstall && this.isLoggedIn === false && !this.didDisplay;\n  }\n\n  displayed() {\n    this.didDisplay = true;\n  }\n\n  dispose() {\n    this.changedStateEmitter.dispose();\n  }\n}\n","import * as vscode from \"vscode\";\nimport TabnineInlineCompletionItem from \"./inlineSuggestions/tabnineInlineCompletionItem\";\nimport suggestionShown from \"./binary/requests/suggestionShown\";\nimport { ResultEntry } from \"./binary/requests/requests\";\n\nlet lastShownSuggestion: ResultEntry | undefined | null;\n\nexport default function reportSuggestionShown(\n  document: vscode.TextDocument,\n  completions?: vscode.InlineCompletionList<TabnineInlineCompletionItem>\n): void {\n  const item = completions?.items[0]?.suggestionEntry;\n\n  if (item && !lastShownSuggestion?.new_prefix.endsWith(item.new_prefix)) {\n    void suggestionShown({\n      SuggestionShown: {\n        net_length: item.new_prefix.length,\n        filename: document.fileName,\n        metadata: item.completion_metadata,\n      },\n    });\n  }\n  lastShownSuggestion = item;\n}\n","enum EventName {\n  EXTENSION_INSTALLED = \"extension-installed\",\n  EXTENSION_ACTIVATED = \"extension-activated\",\n  EXTENSION_UNINSTALLED = \"extension-uninstalled\",\n  BUNDLE_DOWNLOAD_SUCCESS = \"bundle-download-success\",\n  BUNDLE_DOWNLOAD_FAILURE = \"bundle-download-failure\",\n  START_BINARY = \"tabnine-binary-run\",\n}\nexport default EventName;\n","/* eslint-disable class-methods-use-this */\n\nimport { Logger } from \"../utils/logger\";\nimport EventName from \"./EventName\";\n\nexport default class LogReporter {\n  report(event: EventName): void {\n    Logger.info(`reporting event: ${event}`);\n  }\n\n  reportErrorEvent(event: EventName, error: Error): void {\n    Logger.error(`reporting error event: ${event}`, error);\n  }\n\n  reportException(error: Error): void {\n    Logger.error(`reporting exception:`, error);\n  }\n\n  dispose(): Promise<unknown> {\n    return Promise.resolve();\n  }\n}\n","/* eslint-disable class-methods-use-this */\nimport Reporter from \"vscode-extension-telemetry\";\nimport getReportData from \"./reportData\";\nimport EventName from \"./EventName\";\n\nexport default class TelemetryReporter {\n  private reporter: Reporter;\n\n  constructor(id: string, version: string, key: string) {\n    this.reporter = new Reporter(id, version, key);\n  }\n\n  dispose(): Promise<unknown> {\n    return this.reporter.dispose();\n  }\n\n  report(event: EventName): void {\n    void getReportData().then((data) =>\n      this.reporter.sendTelemetryEvent(event, data)\n    );\n  }\n\n  reportErrorEvent(event: EventName, error: Error): void {\n    void getReportData().then((data) => {\n      const fullData = { ...(data ?? {}), error: error.message };\n      this.reporter.sendTelemetryErrorEvent(event, fullData);\n    });\n  }\n\n  reportException(error: Error): void {\n    void getReportData().then((data) => {\n      this.reporter.sendTelemetryException(error, data);\n    });\n  }\n}\n","import { cpu, osInfo, mem } from \"systeminformation\";\nimport { Logger } from \"../utils/logger\";\n\nconst UNKNOWN_SPEED = -1;\nconst UNKNOWN_CORES_AMOUNT = -1;\nconst UNKNOWN_MEMORY_SIZE = -1;\n\nconst byteToGigabyte = (bytes: number): number => bytes / 1e9;\n\nfunction currentDateTimeUTC(): string {\n  const date = new Date();\n  return date.toISOString();\n}\n\nexport type OsInfo = {\n  platform: string;\n  distro: string;\n  arch: string;\n  kernel: string;\n};\n\nexport type CpuInfo = {\n  manufacturer: string;\n  brand: string;\n  speed_ghz: number;\n  cores: number;\n};\n\nexport type Specs = {\n  os: OsInfo;\n  cpu: CpuInfo;\n  memory_gb: number;\n};\n\nexport type ReportData = {\n  timestamp: string;\n  platform: string;\n  distro: string;\n  arch: string;\n  kernel: string;\n  cpu_manufacturer: string;\n  cpu_brand: string;\n  cores: string;\n  speed_ghz: string;\n  memory_gb: string;\n};\n\nlet specsCache: Promise<Specs> | undefined;\n\nasync function getSpecs(): Promise<Specs> {\n  const [cpuData, osData, memoryData] = await Promise.all([\n    cpu(),\n    osInfo(),\n    mem(),\n  ]);\n\n  return {\n    os: {\n      platform: osData?.platform ?? \"unknown-platform\",\n      distro: osData?.distro ?? \"unknown-distro\",\n      arch: osData?.arch ?? \"unknown-arch\",\n      kernel: osData?.kernel ?? \"unknown-kernel\",\n    },\n    cpu: {\n      manufacturer: cpuData?.manufacturer ?? \"unknown-manufacturer\",\n      brand: cpuData?.brand ?? \"unknown-brand\",\n      speed_ghz: cpuData?.speed ?? UNKNOWN_SPEED,\n      cores: cpuData?.cores ?? UNKNOWN_CORES_AMOUNT,\n    },\n    memory_gb: memoryData?.total\n      ? Math.round(byteToGigabyte(memoryData.total))\n      : UNKNOWN_MEMORY_SIZE,\n  };\n}\n\nasync function getSpecsCache(): Promise<Specs> {\n  if (!specsCache) {\n    specsCache = getSpecs();\n  }\n\n  return specsCache;\n}\n\nexport default async function getReportData(): Promise<ReportData | undefined> {\n  try {\n    const specs = await getSpecsCache();\n\n    return {\n      timestamp: currentDateTimeUTC(),\n      platform: `${specs.os.platform}`,\n      distro: `${specs.os.distro}`,\n      arch: `${specs.os.arch}`,\n      kernel: `${specs.os.kernel}`,\n      cpu_manufacturer: `${specs.cpu.manufacturer}`,\n      cpu_brand: `${specs.cpu.brand}`,\n      cores: `${specs.cpu.cores}`,\n      speed_ghz: `${specs.cpu.speed_ghz}`,\n      memory_gb: `${specs.memory_gb}`,\n    };\n  } catch (e) {\n    Logger.warn(`Could not fetch specs data, skipping: ${e}`);\n    return undefined;\n  }\n}\n","import { ExtensionMode } from \"vscode\";\nimport TelemetryReporter from \"./TelemetryReporter\";\nimport EventName from \"./EventName\";\nimport LogReporter from \"./LogReporter\";\nimport { INSTRUMENTATION_KEY } from \"../globals/consts\";\nimport tabnineExtensionProperties from \"../globals/tabnineExtensionProperties\";\nimport { getTabnineExtensionContext } from \"../globals/tabnineExtensionContext\";\n\nlet innerReporter: TelemetryReporter | LogReporter;\n\nexport function initReporter(reporter?: TelemetryReporter | LogReporter) {\n  innerReporter = reporter ?? setDefaultReporter();\n}\n\nfunction setDefaultReporter() {\n  let reporter = new LogReporter();\n  const context = getTabnineExtensionContext();\n\n  if (context.extensionMode !== ExtensionMode.Test) {\n    reporter = new TelemetryReporter(\n      tabnineExtensionProperties.id || \"\",\n      tabnineExtensionProperties.version || \"\",\n      INSTRUMENTATION_KEY\n    );\n    context.subscriptions.push(reporter);\n  }\n  return reporter;\n}\n\nexport function report(event: EventName): void {\n  innerReporter.report(event);\n}\n\nexport function reportErrorEvent(event: EventName, error: Error): void {\n  innerReporter.reportErrorEvent(event, error);\n}\nexport function reportException(error: Error): void {\n  innerReporter.reportException(error);\n}\n","import {\n  CancellationToken,\n  Position,\n  Range,\n  TextDocument,\n  window,\n} from \"vscode\";\nimport {\n  autocomplete,\n  AutocompleteParams,\n  AutocompleteResult,\n} from \"./binary/requests/requests\";\nimport getTabSize from \"./binary/requests/tabSize\";\nimport { Capability, isCapabilityEnabled } from \"./capabilities/capabilities\";\nimport {\n  CHAR_LIMIT,\n  INLINE_REQUEST_TIMEOUT,\n  MAX_NUM_RESULTS,\n} from \"./globals/consts\";\nimport languages from \"./globals/languages\";\nimport { getSDKPath } from \"./languages\";\n\nfunction calculateContext(\n  document: TextDocument,\n  position: Position,\n  beforeStart: Position,\n  afterEnd: Position\n): { before: string; after: string } {\n  const docBefore = document.getText(new Range(beforeStart, position));\n  const docAfter = document.getText(new Range(position, afterEnd));\n\n  let cellsBefore = \"\";\n  let cellsAfter = \"\";\n\n  const notebookEditor = window.activeNotebookEditor;\n  if (notebookEditor) {\n    const cells = notebookEditor.notebook.getCells();\n    const index = cells.findIndex(\n      (cell) => cell.document.uri.toString() === document.uri.toString()\n    );\n    if (index !== -1) {\n      const before = cells\n        .slice(0, index)\n        .map((cell) => cell.document.getText())\n        .join(\"\\n\");\n      const after = cells\n        .slice(index + 1)\n        .map((cell) => cell.document.getText())\n        .join(\"\\n\");\n\n      // number of chars to take before and after the current cell\n      const charsBefore = CHAR_LIMIT - docBefore.length;\n      const charsAfter = CHAR_LIMIT - docAfter.length;\n\n      cellsBefore = `${before.slice(\n        Math.max(0, before.length - charsBefore),\n        before.length\n      )}\\n`;\n      cellsAfter = `\\n${after.slice(0, Math.min(after.length, charsAfter))}`;\n    }\n  }\n\n  return {\n    before: cellsBefore + docBefore,\n    after: docAfter + cellsAfter,\n  };\n}\n\nexport default async function runCompletion({\n  document,\n  position,\n  timeout = undefined,\n  currentSuggestionText = \"\",\n  retry,\n}: {\n  document: TextDocument;\n  position: Position;\n  timeout?: number | undefined;\n  currentSuggestionText?: string;\n  retry?: {\n    cancellationToken?: CancellationToken;\n    interval?: number;\n    timeout?: number;\n  };\n}): Promise<AutocompleteResult | null | undefined> {\n  const offset = document.offsetAt(position);\n  const beforeStartOffset = Math.max(0, offset - CHAR_LIMIT);\n  const afterEndOffset = offset + CHAR_LIMIT;\n  const beforeStart = document.positionAt(beforeStartOffset);\n  const afterEnd = document.positionAt(afterEndOffset);\n\n  const { before, after } = calculateContext(\n    document,\n    position,\n    beforeStart,\n    afterEnd\n  );\n\n  const requestData = {\n    filename: getFileNameWithExtension(document),\n    before: before + currentSuggestionText,\n    after,\n    region_includes_beginning: beforeStartOffset === 0,\n    region_includes_end: document.offsetAt(afterEnd) !== afterEndOffset,\n    max_num_results: getMaxResults(),\n    offset,\n    line: position.line,\n    character: position.character,\n    indentation_size: getTabSize(),\n    sdk_path: getSDKPath(document.languageId),\n  };\n\n  const isEmptyLine = document.lineAt(position.line).text.trim().length === 0;\n\n  const result = await autocomplete(\n    requestData,\n    isEmptyLine ? INLINE_REQUEST_TIMEOUT : timeout\n  );\n\n  if (result?.results.length || !retry?.cancellationToken) {\n    return result;\n  }\n\n  return handleRetries(requestData, retry);\n}\n\nfunction handleRetries(\n  requestData: AutocompleteParams,\n  {\n    cancellationToken,\n    interval = 200,\n    timeout = 1000,\n  }: {\n    cancellationToken?: CancellationToken;\n    interval?: number;\n    timeout?: number;\n  }\n): Promise<AutocompleteResult | null | undefined> | null | undefined {\n  if (cancellationToken?.isCancellationRequested) {\n    return null;\n  }\n  return new Promise((resolve, reject) => {\n    let timeoutId: NodeJS.Timeout | undefined;\n    let lastResult: AutocompleteResult | undefined;\n    const intervalId = setInterval(() => {\n      void autocomplete({ ...requestData, cached_only: true })\n        .then((result) => {\n          if (result?.results.length) {\n            clearInterval(intervalId);\n            clearTimeout(timeoutId as NodeJS.Timeout);\n            lastResult = result;\n            resolve(result);\n          }\n        })\n        .catch((error) => {\n          clearInterval(intervalId);\n          clearTimeout(timeoutId as NodeJS.Timeout);\n          reject(error);\n        });\n    }, interval);\n\n    timeoutId = setTimeout(() => {\n      clearInterval(intervalId);\n      resolve(lastResult);\n    }, timeout);\n\n    cancellationToken?.onCancellationRequested(() => {\n      clearInterval(intervalId);\n      clearTimeout(timeoutId as NodeJS.Timeout);\n      resolve(null);\n    });\n  });\n}\n\nfunction getMaxResults(): number {\n  if (isCapabilityEnabled(Capability.SUGGESTIONS_SINGLE)) {\n    return 1;\n  }\n\n  if (isCapabilityEnabled(Capability.SUGGESTIONS_TWO)) {\n    return 2;\n  }\n\n  return MAX_NUM_RESULTS;\n}\n\ntype KnownLanguageType = keyof typeof languages;\n\nexport function getLanguageFileExtension(\n  languageId: string\n): string | undefined {\n  return languages[languageId as KnownLanguageType];\n}\n\nfunction getFileNameWithExtension(document: TextDocument): string {\n  const { languageId, fileName } = document;\n  if (!document.isUntitled) {\n    return fileName;\n  }\n  const extension = getLanguageFileExtension(languageId);\n  if (extension) {\n    return fileName.concat(extension);\n  }\n  return fileName;\n}\n","import {\n  CodeAction,\n  CodeActionKind,\n  commands,\n  Range,\n  Position,\n  Selection,\n  TextEditor,\n  TextEditorEdit,\n  workspace,\n} from \"vscode\";\nimport findImports from \"./findImports\";\nimport CompletionOrigin from \"./CompletionOrigin\";\nimport {\n  DELAY_FOR_CODE_ACTION_PROVIDER,\n  SuggestionTrigger,\n} from \"./globals/consts\";\nimport { ResultEntry } from \"./binary/requests/requests\";\nimport setState, {\n  SelectionStateRequest,\n  SetStateSuggestion,\n} from \"./binary/requests/setState\";\nimport { CompletionArguments } from \"./CompletionArguments\";\nimport { Logger } from \"./utils/logger\";\n\nexport const COMPLETION_IMPORTS = \"tabnine-completion-imports\";\nexport const HANDLE_IMPORTS = \"tabnine-handle-imports\";\nexport const SELECTION_COMPLETED = \"tabnine-selection-completed\";\n\nexport function selectionHandler(\n  editor: TextEditor,\n  _edit: TextEditorEdit,\n  {\n    currentCompletion,\n    completions,\n    position,\n    limited,\n    oldPrefix,\n    suggestionTrigger,\n  }: CompletionArguments\n): void {\n  try {\n    handleState(\n      position,\n      completions,\n      currentCompletion,\n      limited,\n      editor,\n      oldPrefix,\n      suggestionTrigger\n    );\n\n    void commands.executeCommand(HANDLE_IMPORTS, {\n      completion: currentCompletion,\n    });\n  } catch (error) {\n    Logger.error(error);\n  }\n}\n\nfunction handleState(\n  position: Position,\n  completions: ResultEntry[],\n  currentCompletion: string,\n  limited: boolean,\n  editor: TextEditor,\n  oldPrefix?: string,\n  suggestionTrigger?: SuggestionTrigger\n) {\n  if (position && completions?.length) {\n    const eventData = eventDataOf(\n      completions,\n      currentCompletion,\n      limited,\n      editor,\n      position,\n      oldPrefix,\n      suggestionTrigger\n    );\n    void setState(eventData).then(() =>\n      commands.executeCommand(SELECTION_COMPLETED)\n    );\n  }\n}\n\nfunction eventDataOf(\n  completions: ResultEntry[],\n  currentCompletion: string,\n  limited: boolean,\n  editor: TextEditor,\n  position: Position,\n  oldPrefix?: string,\n  suggestionTrigger?: SuggestionTrigger\n) {\n  const index = completions.findIndex(\n    ({ new_prefix: newPrefix }) => newPrefix === currentCompletion\n  );\n  let numOfVanillaSuggestions = 0;\n  let numOfDeepLocalSuggestions = 0;\n  let numOfDeepCloudSuggestions = 0;\n  let numOfLspSuggestions = 0;\n  let numOfVanillaKeywordSuggestions = 0;\n  const currInCompletions = completions[index];\n  const snippetContext = currInCompletions.completion_metadata?.snippet_context;\n\n  const suggestions: SetStateSuggestion[] = completions.map((c) => {\n    switch (c.completion_metadata?.origin) {\n      case CompletionOrigin.VANILLA:\n        numOfVanillaSuggestions += 1;\n        break;\n      case CompletionOrigin.LOCAL:\n        numOfDeepLocalSuggestions += 1;\n        break;\n      case CompletionOrigin.CLOUD:\n      case CompletionOrigin.CLOUD2:\n      case CompletionOrigin.ANBU:\n        numOfDeepCloudSuggestions += 1;\n        break;\n      case CompletionOrigin.LSP:\n        numOfLspSuggestions += 1;\n        break;\n      case CompletionOrigin.VANILLA_KEYWORD:\n        numOfVanillaKeywordSuggestions += 1;\n        break;\n      default:\n        break;\n    }\n\n    return {\n      length: c.new_prefix.length,\n      strength: resolveDetailOf(c),\n      origin: c.completion_metadata?.origin ?? CompletionOrigin.UNKNOWN,\n    };\n  });\n\n  const { length } = currentCompletion;\n  const netLength = length - (oldPrefix?.length || 0);\n  const strength = resolveDetailOf(currInCompletions);\n  const { origin } = currInCompletions.completion_metadata ?? {};\n  const prefixLength = editor.document\n    .getText(new Range(new Position(position.line, 0), position))\n    .trimLeft().length;\n  const netPrefixLength = prefixLength - (length - netLength);\n  // suffixLength is defined to be 0 if the completion has more than 1 line.\n  const suffixLength = currInCompletions.new_prefix.includes(\"\\n\")\n    ? 0\n    : editor.document.lineAt(position).text.trim().length -\n      (prefixLength + netLength);\n  const numOfSuggestions = completions.length;\n  const numOfLines = currentCompletion\n    .split(\"\\n\")\n    .map((x) => x.trim())\n    .filter(Boolean).length; // Remove empty lines.\n\n  const eventData: SelectionStateRequest = {\n    Selection: {\n      language: extractLanguage(editor),\n      length,\n      net_length: netLength,\n      strength,\n      origin: origin ?? CompletionOrigin.UNKNOWN,\n      index,\n      line_prefix_length: prefixLength,\n      line_net_prefix_length: netPrefixLength,\n      line_suffix_length: suffixLength,\n      num_of_suggestions: numOfSuggestions,\n      num_of_vanilla_suggestions: numOfVanillaSuggestions,\n      num_of_deep_local_suggestions: numOfDeepLocalSuggestions,\n      num_of_deep_cloud_suggestions: numOfDeepCloudSuggestions,\n      num_of_lsp_suggestions: numOfLspSuggestions,\n      num_of_vanilla_keyword_suggestions: numOfVanillaKeywordSuggestions,\n      suggestions,\n      is_locked: limited,\n      completion_kind: currInCompletions.completion_metadata?.completion_kind,\n      num_of_lines: numOfLines,\n      snippet_context: snippetContext,\n      suggestion_trigger: suggestionTrigger,\n    },\n  };\n\n  return eventData;\n}\n\nfunction resolveDetailOf(completion: ResultEntry): string | undefined {\n  if (completion.completion_metadata?.origin === CompletionOrigin.LSP) {\n    return \"\";\n  }\n\n  return completion.completion_metadata?.detail;\n}\n\nfunction extractLanguage(editor: TextEditor) {\n  const fileNameElements = editor.document.fileName.split(\".\");\n\n  return (\n    fileNameElements[Math.max(1, fileNameElements.length - 1)] ?? \"undefined\"\n  );\n}\n\nexport function handleImports(\n  editor: TextEditor,\n  edit: TextEditorEdit,\n  { completion }: { completion: string }\n): void {\n  const lines = completion.split(\"\\n\");\n\n  const { selection } = editor;\n  const completionSelection = new Selection(\n    selection.active.translate(\n      -(lines.length - 1),\n      lines.length > 1 ? -selection.active.character : -completion.length\n    ),\n    selection.active\n  );\n  setTimeout(() => {\n    void doAutoImport(editor, completionSelection, completion);\n  }, DELAY_FOR_CODE_ACTION_PROVIDER);\n}\n\nasync function doAutoImport(\n  editor: TextEditor,\n  completionSelection: Selection,\n  completion: string\n) {\n  try {\n    const codeActionCommands = await commands.executeCommand<CodeAction[]>(\n      \"vscode.executeCodeActionProvider\",\n      editor.document.uri,\n      completionSelection,\n      CodeActionKind.QuickFix.value\n    );\n    const importCommand = findImports(codeActionCommands)[0];\n\n    if (importCommand && importCommand.edit) {\n      await workspace.applyEdit(importCommand.edit);\n      await commands.executeCommand(HANDLE_IMPORTS, { completion });\n    }\n  } catch (error) {\n    Logger.error(error);\n  }\n}\n","import EventEmitterBasedState from \"./EventEmitterBasedState\";\n\nexport default class EventEmitterBasedNonNullState<\n  T\n> extends EventEmitterBasedState<T> {\n  // eslint-disable-next-line @typescript-eslint/no-useless-constructor\n  constructor(initialValue: T) {\n    super(initialValue);\n  }\n\n  get(): T {\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    return super.get()!;\n  }\n}\n","import { Mutex } from \"await-semaphore\";\nimport { isEqual } from \"underscore\";\nimport { Disposable, EventEmitter } from \"vscode\";\n\nexport default class EventEmitterBasedState<T> implements Disposable {\n  private value: T | null = null;\n\n  private eventEmitter = new EventEmitter<T>();\n\n  private asyncValueResolveLock = new Mutex();\n\n  constructor(initialValue: T | null = null) {\n    this.value = initialValue;\n  }\n\n  get(): T | null {\n    return this.value;\n  }\n\n  set(newValue: T) {\n    const changed = !isEqual(this.value, newValue);\n    this.value = newValue;\n\n    if (changed) {\n      this.eventEmitter.fire(this.value);\n    }\n  }\n\n  async asyncSet(resolveValue: () => Promise<T | null>) {\n    await this.asyncValueResolveLock.use(async () => {\n      const newValue = await resolveValue();\n\n      if (newValue !== null) {\n        this.set(newValue);\n      }\n    });\n  }\n\n  onChange(subscription: (newValue: T) => unknown): Disposable {\n    if (this.value !== null) {\n      subscription(this.value);\n    }\n\n    return this.eventEmitter.event(subscription);\n  }\n\n  dispose() {\n    this.eventEmitter.dispose();\n  }\n}\n","import { EventEmitter } from \"events\";\nimport { workspace } from \"vscode\";\n\nclass CompletionState extends EventEmitter {\n  private state: boolean = true;\n\n  private enableTimeout: NodeJS.Timeout | null = null;\n\n  get value(): boolean {\n    return this.state;\n  }\n\n  set value(enabled: boolean) {\n    this.state = enabled;\n    this.emit(\"changed\", enabled);\n\n    if (this.enableTimeout) {\n      clearTimeout(this.enableTimeout);\n      this.enableTimeout = null;\n    }\n\n    if (!enabled) {\n      const snoozeDuration = workspace\n        .getConfiguration(\"tabnine\")\n        .get<number>(\"snoozeDuration\", 1);\n\n      this.enableTimeout = setTimeout(() => {\n        this.state = true;\n      }, snoozeDuration * 60 * 1000);\n    }\n  }\n}\n\nexport const completionsState = new CompletionState();\n","// eslint-disable-next-line max-classes-per-file\nimport { Disposable } from \"vscode\";\nimport EventEmitterBasedState from \"./EventEmitterBasedState\";\nimport EventEmitterBasedNonNullState from \"./EventEmitterBasedNonNullState\";\n\nexport type DerivedState<T> = Disposable & EventEmitterBasedState<T>;\nexport type DerivedNonNullState<T> = Disposable &\n  EventEmitterBasedNonNullState<T>;\n\nfunction deriveState<I, O>(\n  state: EventEmitterBasedState<I>,\n  mapping: (value: I) => O\n): DerivedState<O> {\n  return new (class extends EventEmitterBasedState<O> implements Disposable {\n    useStateDisposabled!: Disposable;\n\n    constructor() {\n      super();\n\n      this.useStateDisposabled = state.onChange((inputState) => {\n        this.set(mapping(inputState));\n      });\n    }\n\n    dispose() {\n      super.dispose();\n      this.useStateDisposabled.dispose();\n    }\n  })();\n}\n\nexport function deriveNonNullState<I, O>(\n  state: EventEmitterBasedState<I>,\n  mapping: (value: I, self: O) => O,\n  initailValue: O\n): DerivedNonNullState<O> {\n  return new (class\n    extends EventEmitterBasedNonNullState<O>\n    implements Disposable {\n    useStateDisposabled!: Disposable;\n\n    constructor() {\n      super(initailValue);\n\n      this.useStateDisposabled = state.onChange((inputState) => {\n        this.set(mapping(inputState, this.get()));\n      });\n    }\n\n    dispose() {\n      super.dispose();\n      this.useStateDisposabled.dispose();\n    }\n  })();\n}\n\nexport function useDerviedState<I, O>(\n  state: EventEmitterBasedState<I>,\n  mapping: (value: I) => O,\n  onChange: (newValue: O) => void\n): Disposable {\n  const derviedState = deriveState(state, mapping);\n  const disposable = derviedState.onChange(onChange);\n\n  return {\n    dispose() {\n      derviedState.dispose();\n      disposable.dispose();\n    },\n  };\n}\n","import { ExtensionContext } from \"../preRelease/types\";\n\nexport const ALREADY_OPENED_GETTING_STARTED_KEY =\n  \"already-opened-getting-started\";\n\nexport async function setAlreadyOpenedGettingStarted(\n  context: ExtensionContext\n): Promise<void> {\n  await context.globalState.update(ALREADY_OPENED_GETTING_STARTED_KEY, true);\n}\n\nexport function isAlreadyOpenedGettingStarted(\n  context: ExtensionContext\n): boolean {\n  return context.globalState.get<boolean>(\n    ALREADY_OPENED_GETTING_STARTED_KEY,\n    false\n  );\n}\n","/* eslint-disable no-underscore-dangle */\nimport {\n  Disposable,\n  ExtensionContext,\n  StatusBarItem,\n  ThemeColor,\n} from \"vscode\";\nimport { ServiceLevel } from \"../binary/state\";\nimport {\n  Capability,\n  isCapabilitiesReady,\n  isCapabilityEnabled,\n} from \"../capabilities/capabilities\";\nimport {\n  ATTRIBUTION_BRAND,\n  FULL_BRAND_REPRESENTATION,\n  LIMITATION_SYMBOL,\n  STATUS_BAR_FIRST_TIME_CLICKED,\n} from \"../globals/consts\";\nimport { getPersistedAlphaVersion } from \"../preRelease/versions\";\nimport { shouldStatusBarBeProminent } from \"../registration/forceRegistration\";\nimport { completionsState } from \"../state/completionsState\";\n\nexport default class StatusBarData implements Disposable {\n  private _serviceLevel?: ServiceLevel;\n\n  private _limited = false;\n\n  private _icon?: string;\n\n  private _text?: string;\n\n  private _isLoggedIn?: boolean;\n\n  private _isPreview?: boolean;\n\n  constructor(\n    private _statusBarItem: StatusBarItem,\n    private _context: ExtensionContext\n  ) {}\n\n  dispose() {\n    this._statusBarItem.dispose();\n  }\n\n  public set limited(limited: boolean) {\n    this._limited = limited;\n    this.updateStatusBar();\n  }\n\n  public set serviceLevel(serviceLevel: ServiceLevel | undefined) {\n    this._serviceLevel = serviceLevel;\n    this.updateStatusBar();\n  }\n\n  public get serviceLevel(): ServiceLevel | undefined {\n    return this._serviceLevel;\n  }\n\n  public set isLoggedIn(isLoggedIn: boolean | undefined) {\n    this._isLoggedIn = isLoggedIn;\n    this.updateStatusBar();\n  }\n\n  public set isPreview(isPreview: boolean | undefined) {\n    this._isPreview = isPreview;\n    this.updateStatusBar();\n  }\n\n  public set icon(icon: string | undefined | null) {\n    this._icon = icon || undefined;\n    this.updateStatusBar();\n  }\n\n  public get icon(): string | undefined | null {\n    return this._icon;\n  }\n\n  public set text(text: string | undefined | null) {\n    this._text = text || undefined;\n    this.updateStatusBar();\n  }\n\n  public get text(): string | undefined | null {\n    return this._text;\n  }\n\n  public updateStatusBar() {\n    const issueText = this._text ? `: ${this._text}` : \"\";\n    const serviceLevel = this.getDisplayServiceLevel();\n    const limited = this._limited ? ` ${LIMITATION_SYMBOL}` : \"\";\n    this._statusBarItem.text = `${FULL_BRAND_REPRESENTATION}${serviceLevel}${this.getIconText()}${issueText.trimEnd()}${limited}`;\n    if (shouldStatusBarBeProminent()) {\n      this._statusBarItem.text = `${ATTRIBUTION_BRAND}Tabnine: Sign-in is required`;\n      this._statusBarItem.backgroundColor = new ThemeColor(\n        \"statusBarItem.warningBackground\"\n      );\n    } else if (!completionsState.value) {\n      this._statusBarItem.backgroundColor = new ThemeColor(\n        \"statusBarItem.warningBackground\"\n      );\n    } else {\n      this._statusBarItem.backgroundColor = undefined;\n    }\n    if (\n      this._serviceLevel === \"Free\" &&\n      !this._isLoggedIn &&\n      isCapabilityEnabled(Capability.FORCE_REGISTRATION)\n    ) {\n      this._statusBarItem.tooltip = \"Sign in using your Tabnine account\";\n    } else {\n      this._statusBarItem.tooltip =\n        isCapabilityEnabled(\n          Capability.SHOW_AGRESSIVE_STATUS_BAR_UNTIL_CLICKED\n        ) && !this._context.globalState.get(STATUS_BAR_FIRST_TIME_CLICKED)\n          ? \"Click 'tabnine' for settings and more information\"\n          : `${FULL_BRAND_REPRESENTATION} (Show options)${\n              getPersistedAlphaVersion(this._context) ?? \"\"\n            }`;\n    }\n  }\n\n  private getDisplayServiceLevel(): string {\n    if (!isCapabilitiesReady()) {\n      return \"\";\n    }\n\n    if (this._serviceLevel === \"Business\") {\n      return \" enterprise\";\n    }\n    if (this._serviceLevel === \"Trial\" || this._serviceLevel === \"Pro\") {\n      return \" pro\";\n    }\n\n    if (this._isPreview) {\n      return \" preview\";\n    }\n\n    if (this._serviceLevel === undefined) {\n      return \"\";\n    }\n\n    return \" starter\";\n  }\n\n  private getIconText(): string {\n    if (this._icon) {\n      return ` ${this._icon}`;\n    }\n\n    if (\n      isCapabilityEnabled(Capability.SHOW_AGRESSIVE_STATUS_BAR_UNTIL_CLICKED) &&\n      !this._context.globalState.get(STATUS_BAR_FIRST_TIME_CLICKED)\n    ) {\n      return \" \";\n    }\n\n    return \"\";\n  }\n}\n","import { Disposable, StatusBarItem } from \"vscode\";\n\nexport default class StatusBarPromotionItem implements Disposable {\n  id: string | undefined;\n\n  item: StatusBarItem;\n\n  constructor(item: StatusBarItem, id?: string) {\n    this.id = id;\n    this.item = item;\n  }\n\n  dispose() {\n    this.item.dispose();\n  }\n}\n","import * as vscode from \"vscode\";\nimport { getStatus } from \"../binary/requests/statusBar\";\nimport { BINARY_STATUS_BAR_FIRST_MESSAGE_POLLING_INTERVAL } from \"../globals/consts\";\nimport {\n  onStartServiceLevel,\n  resetDefaultStatus,\n  setServiceLevel,\n} from \"./statusBar\";\nimport handleStatus, {\n  disposeStatusBarCommand,\n} from \"./statusBarActionHandler\";\nimport BINARY_STATE from \"../binary/binaryStateSingleton\";\n\nlet statusPollingInterval: NodeJS.Timeout | null = null;\n\nexport default function pollStatuses(\n  context: vscode.ExtensionContext\n): vscode.Disposable {\n  const statePollerDisposable = BINARY_STATE.onChange((state) => {\n    setServiceLevel(state.service_level);\n  });\n  context.subscriptions.push(statePollerDisposable);\n  statusPollingInterval = setInterval(() => {\n    void doPollStatus(context);\n  }, BINARY_STATUS_BAR_FIRST_MESSAGE_POLLING_INTERVAL);\n  void onStartServiceLevel();\n  return new vscode.Disposable(disposeStatus);\n}\n\nfunction cancelStatusPolling(): void {\n  if (statusPollingInterval) {\n    clearInterval(statusPollingInterval);\n  }\n}\n\nexport async function doPollStatus(\n  context: vscode.ExtensionContext\n): Promise<void> {\n  const status = await getStatus();\n\n  if (!status?.message) {\n    return;\n  }\n\n  context.subscriptions.push(handleStatus(status));\n}\n\nfunction disposeStatus(): void {\n  disposeStatusBarCommand();\n  cancelStatusPolling();\n  resetDefaultStatus();\n}\n","import {\n  Disposable,\n  ExtensionContext,\n  StatusBarAlignment,\n  window,\n} from \"vscode\";\nimport { getState } from \"../binary/requests/requests\";\nimport { STATUS_BAR_COMMAND } from \"../commandsHandler\";\nimport { FULL_BRAND_REPRESENTATION, STATUS_NAME } from \"../globals/consts\";\nimport StatusBarData from \"./StatusBarData\";\nimport StatusBarPromotionItem from \"./StatusBarPromotionItem\";\nimport { ServiceLevel } from \"../binary/state\";\nimport { Logger } from \"../utils/logger\";\nimport { completionsState } from \"../state/completionsState\";\nimport CapabilityState from \"../capabilities/CapabilityState\";\nimport { Capability } from \"../capabilities/capabilities\";\n\nconst SPINNER = \"$(sync~spin)\";\n\nlet statusBarData: StatusBarData | undefined;\nlet promotion: StatusBarPromotionItem | undefined;\n\nexport function registerStatusBar(context: ExtensionContext): Disposable {\n  if (statusBarData) {\n    return statusBarData;\n  }\n\n  const statusBar = window.createStatusBarItem(StatusBarAlignment.Right, -1);\n  promotion = new StatusBarPromotionItem(\n    window.createStatusBarItem(StatusBarAlignment.Right, -1)\n  );\n  statusBarData = new StatusBarData(statusBar, context);\n  statusBar.command = STATUS_BAR_COMMAND;\n\n  statusBar.show();\n  try {\n    (statusBar as { name?: string }).name = STATUS_NAME;\n    (promotion.item as { name?: string }).name = STATUS_NAME;\n  } catch (err) {\n    Logger.error(\"failed to rename status bar\");\n  }\n\n  completionsState.on(\"changed\", () => statusBarData?.updateStatusBar());\n  const previewState = new CapabilityState(Capability.PREVIEW_CAPABILITIY);\n\n  setLoadingStatus(\"Starting...\");\n  return Disposable.from(\n    statusBarData,\n    promotion,\n    previewState,\n    previewState.onChange((isPreview) => {\n      if (statusBarData) {\n        statusBarData.isPreview = isPreview;\n      }\n    })\n  );\n}\n\nexport function promotionTextIs(text: string): boolean {\n  return promotion?.item?.text === text;\n}\n\nexport function setServiceLevel(level: ServiceLevel | undefined): void {\n  if (statusBarData) {\n    statusBarData.serviceLevel = level;\n  }\n}\n\nexport async function onStartServiceLevel(): Promise<void> {\n  if (!statusBarData) {\n    return;\n  }\n\n  const state = await getState();\n  statusBarData.serviceLevel = state?.service_level;\n  statusBarData.isLoggedIn = state?.is_logged_in;\n}\n\nexport function setDefaultStatus(): void {\n  if (!statusBarData) {\n    return;\n  }\n\n  statusBarData.icon = null;\n  statusBarData.text = null;\n}\n\nexport function resetDefaultStatus(id?: string): void {\n  if (!id || (promotion && promotion.id && promotion.id === id)) {\n    setDefaultStatus();\n    clearPromotion();\n  }\n}\n\nexport function setLoadingStatus(issue?: string | undefined | null): void {\n  if (!statusBarData) {\n    return;\n  }\n\n  statusBarData.text = issue;\n  statusBarData.icon = SPINNER;\n}\nexport function setCompletionStatus(limited = false): void {\n  if (!statusBarData) {\n    return;\n  }\n  statusBarData.limited = limited;\n}\n\nexport function setPromotionStatus(\n  id: string,\n  message: string,\n  tooltip: string | undefined,\n  command: string\n): void {\n  if (!statusBarData || !promotion) {\n    return;\n  }\n\n  promotion.id = id;\n  promotion.item.text = message;\n  promotion.item.command = command;\n  promotion.item.tooltip = `${FULL_BRAND_REPRESENTATION}${\n    tooltip ? ` - ${tooltip}` : \"\"\n  }`;\n  promotion.item.color = \"white\";\n  statusBarData.text = \" \";\n  promotion.item.show();\n}\n\nexport function clearPromotion(): void {\n  if (!promotion) {\n    return;\n  }\n\n  promotion.item.text = \"\";\n  promotion.item.tooltip = \"\";\n  promotion.item.hide();\n}\n","import * as vscode from \"vscode\";\nimport setState from \"../binary/requests/setState\";\nimport {\n  sendStatusBarAction,\n  StatusBarStatus,\n} from \"../binary/requests/statusBar\";\n\nimport {\n  MessageActionsEnum,\n  NOTIFICATIONS_OPEN_QUERY_PARAM,\n  OPEN_LP_FROM_STATUS_BAR,\n  StatePayload,\n  StateType,\n  STATUS_BAR_NOTIFICATION_PERIOD,\n  TABNINE_NOTIFICATIONS_FOCUS_COMMAND,\n} from \"../globals/consts\";\nimport {\n  promotionTextIs,\n  resetDefaultStatus,\n  setPromotionStatus,\n} from \"./statusBar\";\nimport { sleep } from \"../utils/utils\";\nimport openHub from \"../hub/openHub\";\n\nlet statusBarCommandDisposable: vscode.Disposable;\n\nexport default function handleStatus(\n  status: StatusBarStatus\n): vscode.Disposable {\n  const disposable = registerStatusHandlingCommand(status);\n\n  if (!promotionTextIs(status.message)) {\n    void setState({\n      [StatePayload.STATUS_SHOWN]: {\n        id: status.id,\n        text: status.message,\n        notification_type: status.notification_type,\n        state: status.state,\n      },\n    });\n  }\n\n  setPromotionStatus(\n    status.id,\n    status.message,\n    status.title,\n    OPEN_LP_FROM_STATUS_BAR\n  );\n\n  let duration = STATUS_BAR_NOTIFICATION_PERIOD;\n  if (status.duration_seconds) {\n    duration = status.duration_seconds * 1000;\n  }\n\n  void asyncRemoveStatusAfterDuration(status.id, duration);\n  return disposable;\n}\n\nasync function asyncRemoveStatusAfterDuration(id: string, duration: number) {\n  await sleep(duration);\n  resetDefaultStatus(id);\n}\n\nfunction registerStatusHandlingCommand(\n  message: StatusBarStatus\n): vscode.Disposable {\n  statusBarCommandDisposable?.dispose();\n\n  statusBarCommandDisposable = vscode.commands.registerCommand(\n    OPEN_LP_FROM_STATUS_BAR,\n    () => {\n      executeStatusAction(message);\n      void sendStatusBarAction(\n        message.id,\n        message.message,\n        message.notification_type,\n        message.actions,\n        message.state\n      );\n    }\n  );\n\n  return statusBarCommandDisposable;\n}\nfunction executeStatusAction(message: StatusBarStatus) {\n  const selectedAction = message.actions;\n\n  if (selectedAction?.includes(MessageActionsEnum.OPEN_HUB)) {\n    void openHub(StateType.STATUS)();\n  }\n\n  if (selectedAction?.includes(MessageActionsEnum.OPEN_NOTIFICATIONS)) {\n    void vscode.commands.executeCommand(TABNINE_NOTIFICATIONS_FOCUS_COMMAND);\n  }\n\n  if (selectedAction?.includes(MessageActionsEnum.OPEN_NOTIFICATIONS_IN_HUB)) {\n    void openHub(StateType.STATUS, `/home?${NOTIFICATIONS_OPEN_QUERY_PARAM}`)();\n  }\n\n  resetDefaultStatus(message.id);\n}\n\nexport function disposeStatusBarCommand(): void {\n  if (statusBarCommandDisposable) {\n    statusBarCommandDisposable.dispose();\n  }\n}\n","import { window, workspace } from \"vscode\";\nimport { completionsState } from \"../state/completionsState\";\nimport { sendEvent } from \"../binary/requests/sendEvent\";\n\nconst RESUME_TABNINE = \"Resume Tabnine\";\n\nexport function showStatusBarNotificationOptions(\n  settingsButton: string,\n  onSettingsClicked: () => void\n) {\n  const snoozeDuration = workspace\n    .getConfiguration(\"tabnine\")\n    .get<number>(\"snoozeDuration\", 1);\n\n  const snoozeTabnine = `Snooze Tabnine (${snoozeDuration}h)`;\n\n  const currentAction = completionsState.value ? snoozeTabnine : RESUME_TABNINE;\n\n  void window\n    .showInformationMessage(\"Tabnine options\", settingsButton, currentAction)\n    .then((selection) => {\n      switch (selection) {\n        case settingsButton:\n          onSettingsClicked();\n          break;\n        case snoozeTabnine:\n          trackSnoozeToggled(false, snoozeDuration);\n          completionsState.value = false;\n          break;\n        case RESUME_TABNINE:\n          trackSnoozeToggled(true, snoozeDuration);\n          completionsState.value = true;\n          break;\n        default:\n          console.warn(\"Unexpected selection\");\n          break;\n      }\n    });\n}\n\nfunction trackSnoozeToggled(showCompletions: boolean, duration: number) {\n  void sendEvent({\n    name: \"snooze-toggled\",\n    properties: {\n      show_completions: showCompletions.toString(),\n      duration: duration.toString(),\n    },\n  });\n}\n","import * as vscode from \"vscode\";\nimport { ColorThemeKind } from \"vscode\";\nimport {\n  getState,\n  getChatCommunicatorAddress,\n  ChatCommunicationKind,\n  getCapabilities,\n} from \"../binary/requests/requests\";\nimport { sendEvent } from \"../binary/requests/sendEvent\";\nimport { InserCode, insertTextAtCursor } from \"./handlers/insertAtCursor\";\nimport { resolveWorkspaceSymbols } from \"./handlers/resolveSymbols\";\nimport { peekDefinition } from \"./handlers/peekDefinition\";\nimport { ServiceLevel } from \"../binary/state\";\nimport { GET_CHAT_STATE_COMMAND } from \"../globals/consts\";\nimport {\n  BasicContext,\n  getBasicContext,\n} from \"./handlers/context/basicContextHandler\";\nimport {\n  EnrichingContextRequestPayload,\n  EnrichingContextResponsePayload,\n  getEnrichingContext,\n} from \"./handlers/context/enrichingContextHandler\";\nimport {\n  SelectedCodeResponsePayload,\n  getSelectedCode,\n} from \"./handlers/context/editorContext\";\nimport {\n  NavigateToLocationPayload,\n  navigateToLocation,\n} from \"./handlers/navigateToLocation\";\nimport { getWorkspaceRootPaths } from \"../utils/workspaceFolders\";\nimport { EventRegistry } from \"./EventRegistry\";\nimport {\n  getSymbols,\n  GetSymbolsRequest,\n  GetSymbolsResponse,\n} from \"./handlers/getSymbols\";\nimport {\n  getSymbolsText,\n  GetSymbolsTextRequest,\n  GetSymbolsTextResponse,\n} from \"./handlers/getSymbolText\";\nimport { InserCodeAtLine, insertAtLine } from \"./handlers/insertAtLine\";\nimport {\n  GetFileContentRequest,\n  GetFileContentResponse,\n  getFileContent,\n} from \"./handlers/getFileContent\";\nimport { BrowseFileResponse, browseFile } from \"./handlers/browseFile\";\nimport { BrowseFolderResponse, browseFolder } from \"./handlers/browserFolder\";\nimport { CreateNewFileRequest, createNewFile } from \"./handlers/createNewFile\";\nimport { doFetch, DoFetchRequest, DoFetchResponse } from \"./handlers/doFetch\";\nimport {\n  DoStreamingFetchRequest,\n  abortStreamingFetch,\n  doStreamingFetch,\n} from \"./handlers/doStreamingFetch\";\nimport tabnineExtensionProperties from \"../globals/tabnineExtensionProperties\";\nimport { trimSlashFromEnd } from \"../utils/trimSlashFromEnd\";\n\ntype SendToTerminal = {\n  text: string;\n  addNewLine?: boolean;\n};\n\ntype GetUserResponse = {\n  token: string;\n  username: string;\n  serviceLevel: ServiceLevel;\n  avatarUrl?: string;\n};\n\ntype GetCapabilitiesResponse = {\n  enabledFeatures: string[];\n};\n\ntype SendEventRequest = {\n  eventName: string;\n  properties?: { [key: string]: string };\n};\n\ntype ChatMessageProps = {\n  text: string;\n  isBot: boolean;\n  timestamp: string;\n};\n\ntype ChatConversation = {\n  id: string;\n  messages: ChatMessageProps[];\n};\n\ntype ChatState = {\n  conversations: { [id: string]: ChatConversation };\n};\n\ntype InitResponse = {\n  ide: string;\n  isDarkTheme: boolean;\n  isTelemetryEnabled?: boolean;\n  serverUrl?: string;\n  isSelfHosted: boolean;\n  pluginCapabilities: string[];\n};\n\ntype ChatSettings = {\n  isTelemetryEnabled?: boolean;\n};\n\ntype ServerUrl = {\n  serverUrl: string;\n};\n\ntype ServerUrlRequest = {\n  kind: ChatCommunicationKind;\n};\n\ntype WorkspaceFolders = {\n  rootPaths: string[];\n};\n\nconst CHAT_CONVERSATIONS_KEY = \"CHAT_CONVERSATIONS\";\nconst CHAT_SETTINGS_KEY = \"CHAT_SETTINGS\";\n\ntype APIConfig = {\n  serverUrl?: string | undefined;\n  isSelfHosted: boolean;\n  isTelemetryEnabled: boolean;\n};\n\nexport class ChatAPI {\n  private ready = new vscode.EventEmitter<void>();\n\n  private chatEventRegistry = new EventRegistry();\n\n  public onReady = new Promise((resolve) => {\n    this.ready.event(resolve);\n  });\n\n  constructor(context: vscode.ExtensionContext, config: APIConfig) {\n    if (process.env.IS_EVAL_MODE === \"true\") {\n      context.subscriptions.push(\n        vscode.commands.registerCommand(\n          GET_CHAT_STATE_COMMAND,\n          () =>\n            context.globalState.get(CHAT_CONVERSATIONS_KEY, {\n              conversations: {},\n            }) as ChatState\n        )\n      );\n    }\n\n    this.chatEventRegistry\n      .registerEvent<void, InitResponse>(\"init\", async () => {\n        this.ready.fire();\n        return Promise.resolve({\n          ide: \"vscode\",\n          isDarkTheme: [\n            ColorThemeKind.HighContrast,\n            ColorThemeKind.Dark,\n          ].includes(vscode.window.activeColorTheme.kind),\n          isWeb:\n            vscode.env.uiKind === vscode.UIKind.Web &&\n            tabnineExtensionProperties.isRemote,\n          ...config,\n          pluginCapabilities: this.chatEventRegistry.keys,\n        });\n      })\n      .registerEvent<SendToTerminal, void>(\n        \"send_to_terminal\",\n        ({ text, addNewLine = false }) => {\n          vscode.window.activeTerminal?.sendText(text, addNewLine);\n        }\n      )\n      .registerEvent<void, GetUserResponse>(\"get_user\", async () => {\n        const state = await getState();\n        if (!state) {\n          throw new Error(\"state is undefined\");\n        }\n        if (!state.access_token) {\n          throw new Error(\"state has no access token\");\n        }\n        return {\n          token: state.access_token,\n          username: state.user_name,\n          avatarUrl: state.user_avatar_url,\n          serviceLevel: state.service_level,\n        };\n      })\n      .registerEvent<void, GetCapabilitiesResponse>(\n        \"get_capabilities\",\n        async () => {\n          const capabilitiesResponse = await getCapabilities();\n          if (!capabilitiesResponse) {\n            throw new Error(\"capabilities response is undefined\");\n          }\n          return {\n            enabledFeatures: capabilitiesResponse.enabled_features,\n          };\n        }\n      )\n      .registerEvent<SendEventRequest, void>(\n        \"send_event\",\n        async (req: SendEventRequest) => {\n          await sendEvent({\n            name: req.eventName,\n            properties: req.properties,\n          });\n        }\n      )\n      .registerEvent<void, BasicContext>(\"get_basic_context\", getBasicContext)\n      .registerEvent<\n        EnrichingContextRequestPayload,\n        EnrichingContextResponsePayload\n      >(\"get_enriching_context\", getEnrichingContext)\n      .registerEvent<void, SelectedCodeResponsePayload>(\n        \"get_selected_code\",\n        getSelectedCode\n      )\n      .registerEvent<void, BrowseFileResponse>(\"browse_file\", browseFile)\n      .registerEvent<void, BrowseFolderResponse>(\"browse_folder\", browseFolder)\n      .registerEvent<CreateNewFileRequest, void>(\n        \"create_new_file\",\n        createNewFile\n      )\n      .registerEvent<InserCode, void>(\"insert_at_cursor\", insertTextAtCursor)\n      .registerEvent<InserCodeAtLine, void>(\"insert_at_line\", insertAtLine)\n      .registerEvent<GetFileContentRequest, GetFileContentResponse>(\n        \"get_file_content\",\n        getFileContent\n      )\n      .registerEvent<\n        { symbol: string },\n        vscode.SymbolInformation[] | undefined\n      >(\"resolve_symbols\", resolveWorkspaceSymbols)\n      .registerEvent<{ symbols: vscode.SymbolInformation[] }, void>(\n        \"peek_definition\",\n        peekDefinition\n      )\n      .registerEvent<NavigateToLocationPayload, void>(\n        \"navigate_to_location\",\n        navigateToLocation\n      )\n      .registerEvent<ChatConversation, void>(\n        \"update_chat_conversation\",\n        async (conversation) => {\n          const chatState = context.globalState.get(CHAT_CONVERSATIONS_KEY, {\n            conversations: {},\n          }) as ChatState;\n          chatState.conversations[conversation.id] = {\n            id: conversation.id,\n            messages: conversation.messages,\n          };\n          await context.globalState.update(CHAT_CONVERSATIONS_KEY, chatState);\n        }\n      )\n      .registerEvent<void, ChatState>(\n        \"get_chat_state\",\n        () =>\n          context.globalState.get(CHAT_CONVERSATIONS_KEY, {\n            conversations: {},\n          }) as ChatState\n      )\n      .registerEvent<void, void>(\"clear_all_chat_conversations\", async () =>\n        context.globalState.update(CHAT_CONVERSATIONS_KEY, {\n          conversations: {},\n        })\n      )\n      .registerEvent<void, ChatSettings>(\n        \"get_settings\",\n        () => context.globalState.get(CHAT_SETTINGS_KEY, {}) as ChatSettings\n      )\n      .registerEvent<ChatSettings, void>(\n        \"update_settings\",\n        async (chatSettings) => {\n          await context.globalState.update(CHAT_SETTINGS_KEY, chatSettings);\n        }\n      )\n      .registerEvent<ServerUrlRequest, ServerUrl>(\n        \"get_server_url\",\n        async (request) => {\n          const serverUri = vscode.Uri.parse(\n            await getChatCommunicatorAddress(request.kind)\n          );\n\n          if (\n            vscode.env.uiKind === vscode.UIKind.Web &&\n            tabnineExtensionProperties.isRemote\n          ) {\n            const serverUrl = trimSlashFromEnd(serverUri.toString());\n            return {\n              serverUrl,\n            };\n          }\n\n          const externalServerUrl = (\n            await vscode.env.asExternalUri(serverUri)\n          ).toString();\n\n          return {\n            serverUrl: trimSlashFromEnd(externalServerUrl),\n          };\n        }\n      )\n      .registerEvent<void, WorkspaceFolders | undefined>(\n        \"workspace_folders\",\n        () => {\n          const rootPaths = getWorkspaceRootPaths();\n          if (!rootPaths) return undefined;\n\n          return {\n            rootPaths,\n          };\n        }\n      )\n      .registerEvent<GetSymbolsRequest, GetSymbolsResponse>(\n        \"get_symbols\",\n        getSymbols\n      )\n      .registerEvent<GetSymbolsTextRequest, GetSymbolsTextResponse>(\n        \"get_symbols_text\",\n        getSymbolsText\n      )\n      .registerEvent<DoFetchRequest, DoFetchResponse>(\"do_fetch\", doFetch)\n      .registerEvent<DoStreamingFetchRequest, void>(\n        \"do_streaming_fetch\",\n        doStreamingFetch\n      )\n      .registerEvent<Pick<DoStreamingFetchRequest, \"streamingId\">, void>(\n        \"abort_streaming_fetch\",\n        abortStreamingFetch\n      )\n      .registerEvent<void, void>(\"open_devtools\", () => {\n        void vscode.commands.executeCommand(\"workbench.action.toggleDevTools\");\n      });\n  }\n\n  async handleEvent<Req, Res>(\n    event: string,\n    requestPayload: Req,\n    postMessage?: (message: unknown) => Thenable<boolean>\n  ): Promise<Res> {\n    return this.chatEventRegistry.handleEvent(\n      event,\n      requestPayload,\n      postMessage\n    );\n  }\n}\n","import { Disposable } from \"vscode\";\n\nexport type ChatNotEnabledReason =\n  | \"preview_ended\"\n  | \"authnetication_required\"\n  | \"part_of_a_team_required\";\n\nexport interface ChatEnabledStateData {\n  enabled: boolean;\n  loading: boolean;\n  chatNotEnabledReason: ChatNotEnabledReason | null;\n}\n\nexport const ChatStates = {\n  enabled: {\n    enabled: true,\n    loading: false,\n    chatNotEnabledReason: null,\n  },\n  loading: {\n    enabled: false,\n    loading: true,\n    chatNotEnabledReason: null,\n  },\n  disabled: (reason: ChatNotEnabledReason) => ({\n    enabled: false,\n    loading: false,\n    chatNotEnabledReason: reason,\n  }),\n};\n\nexport default interface ChatEnabledState {\n  onChange(subscription: (state: ChatEnabledStateData) => void): Disposable;\n}\n","import * as vscode from \"vscode\";\nimport * as path from \"path\";\nimport * as fs from \"fs\";\nimport axios from \"axios\";\nimport { ExtensionContext, WebviewView, WebviewViewProvider } from \"vscode\";\nimport { ChatAPI } from \"./ChatApi\";\nimport { Logger } from \"../utils/logger\";\nimport { fireEvent } from \"../binary/requests/requests\";\n\ninterface RequestMessage {\n  id: string;\n  command: string;\n  // eslint-disable-next-line\n  data: any;\n}\n\nexport default class ChatViewProvider implements WebviewViewProvider {\n  private chatWebviewView?: vscode.WebviewView;\n\n  private chatWebview?: vscode.Webview;\n\n  private extensionPath: string;\n\n  constructor(private context: ExtensionContext, private chatApi: ChatAPI) {\n    this.extensionPath = context.extensionPath;\n  }\n\n  private init() {\n    if (!this.chatWebview) {\n      return;\n    }\n\n    const disposable = this.chatWebviewView?.onDidChangeVisibility(() => {\n      disposable?.dispose();\n      this.onVisible(\"tabnine-chat-visible\");\n    });\n    this.onVisible(\"tabnine-chat-inited\");\n\n    this.chatWebview.onDidReceiveMessage(\n      async (message: RequestMessage) => {\n        try {\n          const payload = await this.chatApi.handleEvent(\n            message.command,\n            message.data,\n            this.chatWebview?.postMessage.bind(this.chatWebview)\n          );\n          void this.chatWebview?.postMessage({\n            id: message.id,\n            payload,\n          });\n        } catch (e) {\n          Logger.error(`failed to handle event. message: ${message.data}`);\n          void this.chatWebview?.postMessage({\n            id: message.id,\n            error: (e as Error).message,\n          });\n        }\n      },\n      undefined,\n      this.context.subscriptions\n    );\n  }\n\n  private onVisible(eventName: string) {\n    void fireEvent({\n      name: eventName,\n      isVisible: !!this.chatWebviewView?.visible,\n    });\n  }\n\n  async handleMessageSubmitted(\n    userInput: string,\n    options: { workspace?: boolean; isNew?: boolean } | unknown = {\n      workspace: false,\n      isNew: true,\n    }\n  ) {\n    await this.focusChatInput();\n\n    setTimeout(() => {\n      void this.chatWebview?.postMessage({\n        command: \"submit-message\",\n        data: {\n          input: userInput,\n          options,\n        },\n      });\n    }, 500);\n  }\n\n  async focusChatInput() {\n    void vscode.commands.executeCommand(\"workbench.view.extension.tabnine\");\n    await this.waitForChatInitiated();\n    void this.chatWebviewView?.show(true);\n    void this.chatWebview?.postMessage({\n      command: \"focus-input\",\n    });\n  }\n\n  clearAllConversations() {\n    void this.chatWebview?.postMessage({\n      command: \"clear-all-conversations\",\n    });\n  }\n\n  submitFeedback() {\n    void this.chatWebview?.postMessage({\n      command: \"submit-feedback\",\n    });\n  }\n\n  waitForChatInitiated(): Promise<unknown> {\n    return this.chatApi.onReady;\n  }\n\n  resolveWebviewView(webviewView: WebviewView): void | Thenable<void> {\n    const localWebviewView = webviewView;\n    this.chatWebviewView = localWebviewView;\n    this.chatWebview = localWebviewView.webview;\n    localWebviewView.webview.options = {\n      enableScripts: true,\n      enableCommandUris: true,\n    };\n\n    this.init();\n\n    if (process.env.NODE_ENV === \"development\") {\n      return setDevWebviewHtml(localWebviewView);\n    }\n    return this.setWebviewHtml(localWebviewView);\n  }\n\n  setWebviewHtml(webviewView: WebviewView): void {\n    const reactAppPath = path.join(\n      process.env.TABNINE_CHAT_DIR ?? this.extensionPath,\n      \"chat\",\n      \"index.html\"\n    );\n    // eslint-disable-next-line no-param-reassign\n    webviewView.webview.html = fs.readFileSync(reactAppPath, \"utf8\");\n  }\n}\n\nfunction setDevWebviewHtml(webviewView: WebviewView): void {\n  axios\n    .get<string>(\"http://localhost:3000/index.html\")\n    .then((response) => {\n      const html = response.data\n        .replace(/(href|src)=\"\\//gi, (_, p1) => `${p1}=\"http://localhost:3000/`)\n        .replace(\n          'import RefreshRuntime from \"/@react-refresh',\n          'import RefreshRuntime from \"http://localhost:3000/@react-refresh'\n        );\n      // eslint-disable-next-line no-param-reassign\n      webviewView.webview.html = html;\n    })\n    .catch(() => {\n      void vscode.window.showWarningMessage(\n        \"Please make sure you are running the chat app\"\n      );\n    });\n}\n","import { ExtensionContext } from \"vscode\";\nimport ChatEnabledState, {\n  ChatEnabledStateData,\n  ChatStates,\n} from \"./ChatEnabledState\";\nimport EventEmitterBasedNonNullState from \"../state/EventEmitterBasedNonNullState\";\nimport { useDerviedState } from \"../state/deriveState\";\nimport BINARY_STATE from \"../binary/binaryStateSingleton\";\nimport { State } from \"../binary/state\";\n\nexport default class EvalSaasChatEnabledState\n  extends EventEmitterBasedNonNullState<ChatEnabledStateData>\n  implements ChatEnabledState {\n  constructor(context: ExtensionContext) {\n    super(ChatStates.loading);\n\n    context.subscriptions.push(\n      useDerviedState(\n        BINARY_STATE,\n        (state: State) => state.is_logged_in,\n        (isLoggedIn) => {\n          this.updateState(isLoggedIn);\n        }\n      )\n    );\n  }\n\n  private updateState(isLoggedIn: boolean) {\n    if (isLoggedIn) {\n      this.set(ChatStates.enabled);\n    } else {\n      this.set(ChatStates.disabled(\"authnetication_required\"));\n    }\n  }\n}\n","type Handler<RequestPayload = unknown, ResponsePayload = unknown> = (\n  payload: RequestPayload,\n  postMessage?: (message: unknown) => Thenable<boolean>\n) => Promise<ResponsePayload> | ResponsePayload;\n\nexport class EventRegistry {\n  // eslint-disable-next-line\n  private events: { [key: string]: Handler<any, any> };\n\n  constructor() {\n    this.events = {};\n  }\n\n  get keys(): string[] {\n    return Object.keys(this.events);\n  }\n\n  registerEvent<Req, Res>(event: string, handler: Handler<Req, Res>) {\n    this.events[event] = handler;\n    return this;\n  }\n\n  async handleEvent<Req, Res>(\n    event: string,\n    requestPayload: Req,\n    postMessage?: (message: unknown) => Thenable<boolean>\n  ): Promise<Res> {\n    const handler = this.events[event] as Handler<Req, Res>;\n    if (handler) {\n      return handler(requestPayload, postMessage);\n    }\n    throw new Error(`Event: ${event} does not exist in the registry`);\n  }\n}\n","import { ExtensionContext } from \"vscode\";\nimport ChatEnabledState, {\n  ChatEnabledStateData,\n  ChatStates,\n} from \"./ChatEnabledState\";\nimport {\n  Capability,\n  isCapabilitiesReady,\n  isCapabilityEnabled,\n  onDidRefreshCapabilities,\n} from \"../capabilities/capabilities\";\nimport EventEmitterBasedNonNullState from \"../state/EventEmitterBasedNonNullState\";\nimport { useDerviedState } from \"../state/deriveState\";\nimport BINARY_STATE from \"../binary/binaryStateSingleton\";\nimport { State } from \"../binary/state\";\n\nexport default class SaasChatEnabledState\n  extends EventEmitterBasedNonNullState<ChatEnabledStateData>\n  implements ChatEnabledState {\n  constructor(context: ExtensionContext) {\n    super(ChatStates.loading);\n\n    this.updateState(BINARY_STATE.get()?.is_logged_in ?? null);\n\n    context.subscriptions.push(\n      useDerviedState(\n        BINARY_STATE,\n        (state: State) => state.is_logged_in,\n        (isLoggedIn) => {\n          this.updateState(isLoggedIn);\n        }\n      ),\n      onDidRefreshCapabilities(() => {\n        this.updateState(BINARY_STATE.get()?.is_logged_in ?? null);\n      })\n    );\n  }\n\n  private updateState(isLoggedIn: boolean | null) {\n    if (!isCapabilitiesReady() || isLoggedIn === null) {\n      return;\n    }\n\n    if (isLoggedIn) {\n      if (getIsCapabilitesEnabled()) {\n        this.set(ChatStates.enabled);\n      } else {\n        this.set(ChatStates.disabled(\"preview_ended\"));\n      }\n    } else {\n      this.set(ChatStates.disabled(\"authnetication_required\"));\n    }\n  }\n}\n\nfunction getIsCapabilitesEnabled() {\n  return (\n    isCapabilityEnabled(Capability.ALPHA_CAPABILITY) ||\n    isCapabilityEnabled(Capability.TABNINE_CHAT) ||\n    isCapabilityEnabled(Capability.PREVIEW_CAPABILITIY)\n  );\n}\n","// eslint-disable-next-line max-classes-per-file\nimport {\n  CancellationToken,\n  CodeLens,\n  CodeLensProvider,\n  commands,\n  Diagnostic,\n  DiagnosticSeverity,\n  DocumentSymbol,\n  Event,\n  EventEmitter,\n  languages,\n  Location,\n  SymbolInformation,\n  SymbolKind,\n  TextDocument,\n  Uri,\n} from \"vscode\";\nimport { fireEvent } from \"../../../binary/requests/requests\";\n\nexport type Intents = \"test\" | \"fix\" | \"explain\" | \"document\";\nexport type Actions =\n  | \"generate-test-for-code\"\n  | \"fix-code\"\n  | \"explain-code\"\n  | \"document-code\";\n\nconst CODE_LENS_ACTIONS: [Intents, Actions][] = [\n  [\"test\", \"generate-test-for-code\"],\n  [\"fix\", \"fix-code\"],\n  [\"explain\", \"explain-code\"],\n  [\"document\", \"document-code\"],\n];\n\nconst VALID_SYMBOLS = [SymbolKind.Function, SymbolKind.Method];\n\nconst MAX_LINES = 5000;\n\nexport class ChatCodeLensProvider implements CodeLensProvider {\n  private visitedFiles: Set<Uri> = new Set();\n\n  private didChangeCodeLenses = new EventEmitter<void>();\n\n  get onDidChangeCodeLenses(): Event<void> {\n    return this.didChangeCodeLenses.event;\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  public async provideCodeLenses(\n    document: TextDocument,\n    token: CancellationToken\n  ): Promise<CodeLens[] | undefined> {\n    if (document.lineCount > MAX_LINES) {\n      return [];\n    }\n\n    const documnetSymbols = await commands.executeCommand<\n      (SymbolInformation & DocumentSymbol)[]\n    >(\"vscode.executeDocumentSymbolProvider\", document.uri);\n    if (!documnetSymbols?.length) {\n      return [];\n    }\n    if (token.isCancellationRequested) {\n      return [];\n    }\n\n    const diagnostic = await getDiagnosticsAsync(document);\n\n    if (token.isCancellationRequested) {\n      return [];\n    }\n\n    const lenses: CodeLens[] = [];\n\n    documnetSymbols\n      ?.filter((fn) => VALID_SYMBOLS.includes(fn.kind))\n      .forEach(({ location }) =>\n        lenses.push(...toIntentLens(location, diagnostic), toAskLens(location))\n      );\n\n    documnetSymbols\n      ?.filter((symbol) => symbol.kind === SymbolKind.Class)\n      .forEach((classSymbol) =>\n        classSymbol.children\n          .filter((child) => VALID_SYMBOLS.includes(child.kind))\n          .forEach((method) => {\n            const { location } = (method as unknown) as SymbolInformation;\n            lenses.push(\n              ...toIntentLens(location, diagnostic),\n              toAskLens(location)\n            );\n          })\n      );\n\n    if (!this.visitedFiles.has(document.uri)) {\n      this.visitedFiles.add(document.uri);\n      void fireEvent({\n        name: \"chat-lens-label-rendered\",\n        language: document.languageId,\n        labelsCount: lenses.length,\n      });\n    }\n\n    return lenses;\n  }\n}\n\nasync function getDiagnosticsAsync(\n  document: TextDocument\n): Promise<Diagnostic[]> {\n  return new Promise<Diagnostic[]>((resolve) => {\n    setTimeout(() => {\n      resolve(languages.getDiagnostics(document.uri));\n    }, 100);\n  });\n}\n\nfunction toAskLens(location: Location): CodeLens {\n  return new CodeLens(location.range, {\n    title: `ask`,\n    tooltip: `tabnine ask`,\n    command: \"tabnine.chat.commands.ask\",\n    arguments: [location.range],\n  });\n}\n\nfunction toIntentLens(\n  location: Location,\n  diagnostics: Diagnostic[]\n): CodeLens[] {\n  return CODE_LENS_ACTIONS.filter(([intent]) =>\n    filterRelevantActions(intent, location, diagnostics)\n  ).map(\n    ([intent, action], index) =>\n      new CodeLens(location.range, {\n        title: `${index === 0 ? \"tabnine: \" : \"\"}${intent}`,\n        tooltip: `tabnine ${intent}`,\n        command: \"tabnine.chat.commands.any\",\n        arguments: [location.range, action],\n      })\n  );\n}\nfunction filterRelevantActions(\n  intent: Intents,\n  location: Location,\n  diagnostics: Diagnostic[]\n): boolean {\n  const hasFix = diagnostics.some(\n    ({ severity, range }) =>\n      [DiagnosticSeverity.Error, DiagnosticSeverity.Warning].includes(\n        severity\n      ) && location.range.contains(range)\n  );\n  if (intent === \"fix\") {\n    return hasFix;\n  }\n  return true;\n}\n","import {\n  commands,\n  ExtensionContext,\n  languages,\n  Range,\n  Selection,\n  window,\n} from \"vscode\";\n\nimport ChatViewProvider from \"../../ChatViewProvider\";\nimport tabnineExtensionProperties from \"../../../globals/tabnineExtensionProperties\";\nimport { fireEvent } from \"../../../binary/requests/requests\";\nimport { Actions, ChatCodeLensProvider } from \"./ChatCodeLensProvider\";\n\nconst languagesFilter = [\n  { language: \"javascript\" },\n  { pattern: \"**/*[!d].ts\", scheme: \"file\" },\n  { language: \"javascriptreact\" },\n  { language: \"typescriptreact\" },\n  { language: \"python\" },\n  { language: \"ruby\" },\n  { language: \"go\" },\n  { language: \"rust\" },\n  { language: \"swift\" },\n  { language: \"java\" },\n  { language: \"c\" },\n  { language: \"cpp\" },\n  { language: \"csharp\" },\n  { language: \"php\" },\n];\n\nexport default function registerChatCodeLens(\n  context: ExtensionContext,\n  chatProvider: ChatViewProvider\n) {\n  if (!tabnineExtensionProperties.codeLensEnabled) {\n    return;\n  }\n  context.subscriptions.push(\n    languages.registerCodeLensProvider(\n      languagesFilter,\n      new ChatCodeLensProvider()\n    ),\n    commands.registerCommand(\n      \"tabnine.chat.commands.any\",\n      (range: Range, intent: Actions) => {\n        void fireEvent({\n          name: \"chat-lens-action\",\n          intent,\n          language: window.activeTextEditor?.document.languageId,\n        });\n\n        const editor = window.activeTextEditor;\n        if (editor) {\n          const newSelection = new Selection(range.start, range.end);\n          editor.selection = newSelection;\n        }\n        void chatProvider.handleMessageSubmitted(`/${intent}`);\n      }\n    ),\n    commands.registerCommand(\"tabnine.chat.commands.ask\", (range: Range) => {\n      void fireEvent({\n        name: \"chat-lens-action\",\n        intent: \"ask-question\",\n        language: window.activeTextEditor?.document.languageId,\n      });\n\n      const editor = window.activeTextEditor;\n      if (editor) {\n        const newSelection = new Selection(range.start, range.end);\n        editor.selection = newSelection;\n      }\n      void window\n        .showInputBox({\n          prompt: \"ask tabnine\",\n          ignoreFocusOut: true,\n        })\n        .then((question) => {\n          if (question) {\n            void chatProvider.handleMessageSubmitted(question, {\n              workspace: true,\n              isNew: true,\n            });\n          }\n        });\n    })\n  );\n}\n","import * as vscode from \"vscode\";\nimport { CodeAction, Command, ExtensionContext, ProviderResult } from \"vscode\";\nimport ChatViewProvider from \"../ChatViewProvider\";\n\nexport function registerChatQuickFix(\n  context: ExtensionContext,\n  chatProvider: ChatViewProvider\n) {\n  context.subscriptions.push(\n    vscode.languages.registerCodeActionsProvider(\n      \"*\",\n      {\n        provideCodeActions(\n          _document,\n          _range,\n          codeActionContext\n        ): ProviderResult<(CodeAction | Command)[]> {\n          if (!codeActionContext.diagnostics[0]?.range) {\n            return [];\n          }\n          const fixAction = new vscode.CodeAction(\n            \"Fix with Tabnine\",\n            vscode.CodeActionKind.QuickFix\n          );\n\n          fixAction.command = {\n            title: fixAction.title,\n            command: \"tabnine.chat.commands.fix-inline-code\",\n            arguments: [codeActionContext.diagnostics[0].range],\n          };\n\n          return [fixAction];\n        },\n      },\n      {\n        providedCodeActionKinds: [vscode.CodeActionKind.QuickFix],\n      }\n    ),\n    vscode.commands.registerCommand(\n      \"tabnine.chat.commands.fix-inline-code\",\n      (range: vscode.Range) => {\n        const editor = vscode.window.activeTextEditor;\n        if (editor) {\n          const newPosition = range.start;\n          const newSelection = new vscode.Selection(\n            newPosition.line,\n            0,\n            newPosition.line,\n            editor.document.lineAt(newPosition.line).text.length\n          );\n          editor.selection = newSelection;\n        }\n        void chatProvider.handleMessageSubmitted(\"/fix-code\");\n      }\n    )\n  );\n}\n","import * as vscode from \"vscode\";\n\nexport type BrowseFileResponse = {\n  code: string;\n  path: string;\n};\n\nexport async function browseFile(): Promise<BrowseFileResponse> {\n  await vscode.commands.executeCommand(\"workbench.action.quickOpen\");\n\n  const selectedFileUri = await new Promise<vscode.Uri | undefined>(\n    (resolve) => {\n      const disposable = vscode.window.onDidChangeActiveTextEditor((editor) => {\n        if (editor) {\n          disposable.dispose();\n          resolve(editor.document.uri);\n        }\n      });\n    }\n  );\n\n  if (selectedFileUri) {\n    const document = await vscode.workspace.openTextDocument(selectedFileUri);\n    return {\n      code: document.getText(),\n      path: document.fileName,\n    };\n  }\n\n  throw new Error(\"No file selected\");\n}\n","import * as vscode from \"vscode\";\n\nexport type BrowseFolderResponse = {\n  path: string;\n};\n\nexport async function browseFolder(): Promise<BrowseFolderResponse> {\n  const selectedFolderUri = await vscode.window.showOpenDialog({\n    canSelectMany: false,\n    openLabel: \"Select Folder\",\n    canSelectFiles: false,\n    canSelectFolders: true,\n  });\n\n  if (selectedFolderUri && selectedFolderUri.length > 0) {\n    return {\n      path: selectedFolderUri[0].fsPath,\n    };\n  }\n\n  throw new Error(\"No folder selected\");\n}\n","import * as vscode from \"vscode\";\nimport { getFileMetadata } from \"../../../binary/requests/fileMetadata\";\nimport languages from \"../../../globals/languages\";\n\nexport type BasicContext = {\n  fileUri?: string;\n  language?: string;\n  metadata?: unknown;\n};\n\nexport async function getBasicContext(): Promise<BasicContext> {\n  const editor = vscode.window.activeTextEditor;\n  if (!editor) {\n    return noEditorResponse();\n  }\n\n  const metadata = await getFileMetadata(editor.document.fileName);\n  return {\n    fileUri: editor.document.uri.fsPath,\n    language:\n      editor.document.languageId || (await getPredominantWorkspaceLanguage()),\n    metadata,\n  };\n}\n\nasync function noEditorResponse() {\n  const folder = vscode.workspace.workspaceFolders?.[0];\n  let metadata;\n\n  if (folder) {\n    const firstFileInWorkspace = (\n      await vscode.workspace.fs.readDirectory(folder?.uri)\n    ).find(([, type]) => type === vscode.FileType.File);\n    if (firstFileInWorkspace) {\n      metadata = await getFileMetadata(\n        vscode.Uri.joinPath(folder.uri, firstFileInWorkspace[0]).fsPath\n      );\n    }\n  }\n\n  return {\n    metadata,\n    language: await getPredominantWorkspaceLanguage(),\n  };\n}\n\nexport async function getPredominantWorkspaceLanguage(\n  maxFiles = 50\n): Promise<string | undefined> {\n  const breakdown: { [extension: string]: number } = {};\n\n  const topFileTypes = Object.values(languages);\n  const fileTypeToLanguageID = new Map(\n    Object.entries(languages).map(([key, value]) => [value, key])\n  );\n\n  // Ensure a workspace is open\n  if (!vscode.workspace.workspaceFolders) {\n    return undefined;\n  }\n\n  // Get up to maxFiles from the workspace without depth restriction\n  const files = await vscode.workspace.findFiles(\"**/*\", null, maxFiles);\n\n  // Tally up file extensions\n  files.forEach((file) => {\n    const ext = `.${file?.fsPath.split(\".\").pop()?.toLowerCase() || \"\"}`;\n    if (ext && topFileTypes.includes(ext)) {\n      breakdown[ext] = (breakdown[ext] || 0) + 1;\n    }\n  });\n\n  // Sort extensions by frequency and return the predominant language ID\n  const sortedExtensions = Object.entries(breakdown).sort(\n    ([, a], [, b]) => b - a\n  );\n  if (!sortedExtensions.length) return undefined;\n\n  const predominantFileType = sortedExtensions[0][0];\n  return fileTypeToLanguageID.get(predominantFileType);\n}\n","import * as vscode from \"vscode\";\nimport { ContextTypeData, DiagnosticItem } from \"./enrichingContextTypes\";\n\nexport default async function getDiagnosticsContext(\n  editor: vscode.TextEditor\n): Promise<ContextTypeData | undefined> {\n  const diagnosticsContext = buildDiagnosticsContext(editor);\n  if (!diagnosticsContext) return undefined;\n\n  return Promise.resolve({\n    type: \"Diagnostics\",\n    diagnostics: diagnosticsContext,\n  });\n}\n\nfunction getDiagnosticsWithPredicate(\n  editor: vscode.TextEditor,\n  predicate: (e: vscode.Diagnostic) => boolean\n): DiagnosticItem[] {\n  const selectedRange = editor.selection;\n\n  return vscode.languages\n    .getDiagnostics(editor.document.uri)\n    .filter((e: vscode.Diagnostic) => {\n      if (!predicate(e)) return false;\n      if (selectedRange.isEmpty) {\n        return editor.visibleRanges.some((r) => r.contains(e.range));\n      }\n      return selectedRange.contains(e.range);\n    })\n    .map((e: vscode.Diagnostic) => {\n      const relatedInfo: string | undefined = e.relatedInformation\n        ?.map((info) => info.message)\n        .reduce((info, message) => `${info}\\n${message}`, \"\");\n      const errorMessage = relatedInfo ? e.message + relatedInfo : e.message;\n      const item: DiagnosticItem = {\n        errorMessage: e.source ? `${e.source}: ${errorMessage}` : errorMessage,\n        lineCode: editor.document.lineAt(e.range.start.line).text.trim(),\n        lineNumber: e.range.start.line + 1,\n        level: vscode.DiagnosticSeverity[e.severity],\n      };\n      return item;\n    });\n}\n\n// The function prioritizes handling errors before addressing any warnings.\nexport function buildDiagnosticsContext(\n  editor: vscode.TextEditor\n): DiagnosticItem[] {\n  const errors = getDiagnosticsWithPredicate(\n    editor,\n    (e: vscode.Diagnostic) => vscode.DiagnosticSeverity.Error === e.severity\n  );\n\n  if (errors.length > 0) {\n    return errors;\n  }\n  return getDiagnosticsWithPredicate(\n    editor,\n    (e: vscode.Diagnostic) => vscode.DiagnosticSeverity.Warning === e.severity\n  );\n}\n","import * as vscode from \"vscode\";\nimport { ContextTypeData, EditorContext } from \"./enrichingContextTypes\";\n\nexport type SelectedCodeResponsePayload =\n  | undefined\n  | {\n      code: string;\n      startLine: number;\n      endLine: number;\n    };\nfunction getFileCode(editor: vscode.TextEditor): string {\n  const activeNotebookCells =\n    vscode.window.activeNotebookEditor?.notebook.getCells() ?? [];\n\n  const isEditorInNotebook = activeNotebookCells.some(\n    (cell) => cell.document.uri.toString() === editor.document.uri.toString()\n  );\n\n  if (isEditorInNotebook) {\n    return activeNotebookCells\n      .map((cell) => cell.document.getText())\n      .join(\"\\n\");\n  }\n\n  return editor.document.getText();\n}\n\nexport default async function getEditorContext(\n  editor: vscode.TextEditor\n): Promise<ContextTypeData | undefined> {\n  const fileCode = getFileCode(editor);\n  const currentLine = editor.document.lineAt(editor.selection.active);\n\n  const editorContext: EditorContext = {\n    fileCode,\n    currentLineIndex: currentLine.lineNumber,\n    path: editor.document.uri.fsPath,\n  };\n\n  return Promise.resolve({\n    type: \"Editor\",\n    ...editorContext,\n  });\n}\n\nexport function getSelectedCode(): SelectedCodeResponsePayload {\n  const editor = vscode.window.activeTextEditor;\n  const selectedCode = editor?.document.getText(editor.selection);\n\n  if (!selectedCode || !editor) {\n    return undefined;\n  }\n\n  return {\n    code: selectedCode,\n    startLine: editor.selection.start.line + 1,\n    endLine: editor.selection.end.line + 1,\n  };\n}\n","import * as vscode from \"vscode\";\nimport { WorkspaceCommandInstruction } from \"../../workspaceCommands/findSymbols\";\nimport getEditorContext from \"./editorContext\";\nimport {\n  ContextTypeData,\n  EnrichingContextTypes,\n} from \"./enrichingContextTypes\";\nimport getDiagnosticsContext from \"./diagnosticsContext\";\nimport getWorkspaceContext from \"./workspaceContext\";\nimport { rejectOnTimeout } from \"../../../utils/utils\";\n\nexport type EnrichingContextRequestPayload = {\n  contextTypes: EnrichingContextTypes[];\n  workspaceCommands?: WorkspaceCommandInstruction[];\n};\n\nexport type EnrichingContextResponsePayload = {\n  enrichingContextData: ContextTypeData[];\n};\n\nexport async function getEnrichingContext(\n  request?: EnrichingContextRequestPayload\n): Promise<EnrichingContextResponsePayload> {\n  const editor = vscode.window.activeTextEditor;\n  if (!editor || !request?.contextTypes || !request.contextTypes.length)\n    return { enrichingContextData: [] };\n\n  const contextTypesSet = [...new Set(request.contextTypes)];\n\n  const enrichingContextData = (\n    await rejectOnTimeout(\n      Promise.all(\n        contextTypesSet.map((contextType) => {\n          switch (contextType) {\n            case \"Editor\":\n              return getEditorContext(editor);\n            case \"Diagnostics\":\n              return getDiagnosticsContext(editor);\n            case \"Workspace\":\n              return getWorkspaceContext(request.workspaceCommands);\n            default:\n              return undefined;\n          }\n        })\n      ),\n      3000\n    )\n  ).filter((contextData) => !!contextData) as ContextTypeData[];\n  return { enrichingContextData };\n}\n","import { Logger } from \"../../../utils/logger\";\nimport { rejectOnTimeout } from \"../../../utils/utils\";\nimport executeWorkspaceCommand, {\n  WorkspaceCommandInstruction,\n} from \"../../workspaceCommands/findSymbols\";\nimport { ContextTypeData } from \"./enrichingContextTypes\";\n\nexport default async function getWorkspaceContext(\n  workspaceCommands: WorkspaceCommandInstruction[] | undefined\n): Promise<ContextTypeData | undefined> {\n  if (!workspaceCommands || !workspaceCommands.length) return undefined;\n\n  let symbols: unknown[] = [];\n\n  try {\n    const results = await rejectOnTimeout(\n      Promise.all(workspaceCommands.map(executeWorkspaceCommand)),\n      2500\n    );\n\n    results.forEach((result) => {\n      if (!result) return;\n      if (result.command === \"findSymbols\") {\n        symbols = symbols.concat(result.data);\n      }\n    });\n\n    return {\n      type: \"Workspace\",\n      ...{\n        symbols: [...new Set(symbols)] as string[],\n      },\n    };\n  } catch (error) {\n    Logger.warn(\n      `failed to obtain workspace context, continuing without it: ${\n        (error as Error).message\n      }`\n    );\n    return undefined;\n  }\n}\n","import * as vscode from \"vscode\";\n\nexport type CreateNewFileRequest = {\n  path: string;\n};\n\nexport async function createNewFile({\n  path,\n}: CreateNewFileRequest): Promise<void> {\n  const uri = vscode.Uri.file(path);\n  const fileExists = await vscode.workspace.fs.stat(uri).then(\n    () => true,\n    () => false\n  );\n  if (fileExists) {\n    throw new Error(`FILE_ALREADY_EXISTS`);\n  }\n  await vscode.workspace.fs.writeFile(uri, new Uint8Array());\n}\n","import fetch, { Response, RequestInit, RequestInfo } from \"node-fetch\";\nimport { URL } from \"url\";\n\ninterface RequestInitTimeout extends RequestInit {\n  timeout?: number;\n}\n\nexport interface DoFetchRequest {\n  input: RequestInfo | URL;\n  initWithTimeout?: RequestInitTimeout;\n}\n\nexport type DoFetchResponse =\n  | {\n      status: number;\n      statusText: string;\n      headers: Record<string, string>;\n      body: string;\n      ok: boolean;\n    }\n  | { error: Error };\n\nexport async function doFetch({\n  input,\n  initWithTimeout,\n}: DoFetchRequest): Promise<DoFetchResponse> {\n  try {\n    const response: Response = await fetch(input, initWithTimeout);\n\n    const textResponse: string = await response.text();\n    const headers: Record<string, string> = {};\n    response.headers.forEach((value, key) => {\n      headers[key] = value;\n    });\n\n    return {\n      status: response.status,\n      statusText: response.statusText,\n      headers,\n      body: textResponse,\n      ok: response.ok,\n    };\n  } catch (error) {\n    const isError = error instanceof Error;\n    const safeError: Error = isError\n      ? (error as Error)\n      : new Error(String(error));\n    return { error: safeError };\n  }\n}\n","import { Response } from \"node-fetch\";\nimport {\n  EventSourceMessage,\n  fetchEventSource,\n} from \"@ai-zen/node-fetch-event-source\";\n\nexport interface DoStreamingFetchRequest {\n  url: string;\n  method: \"POST\";\n  headers: Record<string, string>;\n  body: string | ArrayBufferView | ArrayBuffer;\n  streamingId: string;\n}\n\nexport interface DoStreamingFetchResponse {\n  status: number;\n  statusText: string;\n  headers: Record<string, string>;\n  ok: boolean;\n}\n\nexport type DoStreamingFetchStreamingPayload = {\n  id: string;\n  event: \"open\" | \"message\" | \"error\" | \"close\";\n  data: string;\n};\n\nconst activeStreams = new Map<string, AbortController>();\n\nexport function abortStreamingFetch({ streamingId }: { streamingId: string }) {\n  const abortController = activeStreams.get(streamingId);\n\n  if (abortController) {\n    abortController.abort();\n    activeStreams.delete(streamingId);\n  }\n}\n\nexport async function doStreamingFetch(\n  { url, method, headers, body, streamingId }: DoStreamingFetchRequest,\n  postMessage: ((message: unknown) => Thenable<boolean>) | undefined\n): Promise<void> {\n  let streamingMessagesCounter = 0;\n\n  const abortController = new AbortController();\n  activeStreams.set(streamingId, abortController);\n\n  const handlePostMessage = (payload: DoStreamingFetchStreamingPayload) => {\n    void postMessage?.({\n      id: `${streamingId}_${streamingMessagesCounter}`,\n      payload,\n      type: \"streaming\",\n      streamingId,\n    });\n  };\n\n  const onOpenHandler = (response: Response) => {\n    // beware, do not read the response body here, otherwise it will error in onmessage handler\n    const responseHeaders: Record<string, string> = {};\n    response.headers.forEach((value, key) => {\n      responseHeaders[key] = value;\n    });\n    const serializableResponse = {\n      status: response.status,\n      statusText: response.statusText,\n      headers: responseHeaders,\n      ok: response.ok,\n    };\n\n    handlePostMessage({\n      event: \"open\",\n      data: JSON.stringify(serializableResponse),\n      id: streamingId,\n    });\n  };\n\n  const onMessageHandler = (msg: EventSourceMessage) => {\n    streamingMessagesCounter += 1;\n\n    handlePostMessage({\n      event: \"message\",\n      data: msg.data,\n      id: streamingId,\n    });\n  };\n\n  const onErrorHandler = (error: Error) => {\n    console.error(error);\n    // throwing an error to stop the retry\n    throw error;\n  };\n\n  const onCloseHandler = () => {\n    handlePostMessage({\n      event: \"close\",\n      data: \"\",\n      id: streamingId,\n    });\n  };\n\n  return fetchEventSource(url, {\n    method,\n    headers,\n    body,\n    signal: abortController.signal,\n    // @ts-expect-error check response mismatch...\n    onopen: onOpenHandler,\n    onmessage: onMessageHandler,\n    /**\n     * Called when there is any error making the request / processing messages /\n     * handling callbacks etc. Use this to control the retry strategy: if the\n     * error is fatal, rethrow the error inside the callback to stop the entire\n     * operation. Otherwise, you can return an interval (in milliseconds) after\n     * which the request will automatically retry (with the last-event-id).\n     * If this callback is not specified, or it returns undefined, fetchEventSource\n     * will treat every error as retriable and will try again after 1 second.\n     */\n    onerror: onErrorHandler,\n    onclose: onCloseHandler,\n  }).catch((error: Error) => {\n    console.error(error);\n    handlePostMessage({\n      event: \"error\",\n      data: JSON.stringify(error.message),\n      id: streamingId,\n    });\n  });\n}\n","import * as vscode from \"vscode\";\n\nexport type GetFileContentRequest = {\n  filePath: string;\n};\n\nexport type GetFileContentResponse = {\n  content: string;\n};\n\nexport async function getFileContent({\n  filePath,\n}: GetFileContentRequest): Promise<GetFileContentResponse> {\n  const fileUri = vscode.Uri.file(filePath);\n  const fileContent = await vscode.workspace.fs.readFile(fileUri);\n  return {\n    content: fileContent.toString(),\n  };\n}\n","import {\n  getSymbolTextCommandExecutor,\n  SymbolText,\n  SymbolTextRequest,\n} from \"../workspaceCommands/getSymbolsText\";\n\nexport interface GetSymbolsTextRequest {\n  symbols: SymbolTextRequest[];\n}\nexport interface GetSymbolsTextResponse {\n  symbols: SymbolText[];\n}\n\n/**\n * Get the text of the symbols\n * @param symbols - the symbols to get the text of\n * @returns the text of the symbols\n */\nexport async function getSymbolsText({\n  symbols,\n}: GetSymbolsTextRequest): Promise<GetSymbolsTextResponse> {\n  return { symbols: await getSymbolTextCommandExecutor(symbols) };\n}\n","import * as vscode from \"vscode\";\nimport { WorkspaceSymbol } from \"../workspaceCommands/symbols\";\nimport { getSymbolsCommandExecutor } from \"../workspaceCommands/getSymbols\";\n\nexport interface GetSymbolsRequest {\n  query: string;\n  maxNumOfResults: number;\n}\n\n/**\n * An object containing the list of document symbols and workspace symbols.\n */\nexport type GetSymbolsResponse = {\n  /**\n   * The list of document symbols.\n   */\n  documentSymbols: WorkspaceSymbol[];\n  /**\n   * The list of workspace symbols.\n   */\n  workspaceSymbols: WorkspaceSymbol[];\n};\n\nconst dummyFileUri = vscode.Uri.parse(\"file://\");\n\n/**\n * Returns a list of symbols in the current project based on the given search argument.\n * @param {string} query - The search argument.\n * @param {number} maxNumOfResults - The maximum number of results to return.\n * @returns {GetSymbolsResponse} - A list of symbols in the current project.\n */\nexport async function getSymbols({\n  query,\n  maxNumOfResults,\n}: GetSymbolsRequest): Promise<GetSymbolsResponse> {\n  const fileUri = vscode.window.activeTextEditor?.document.uri ?? dummyFileUri;\n  return getSymbolsCommandExecutor(query, maxNumOfResults, fileUri);\n}\n","import * as vscode from \"vscode\";\nimport { escapeTabStopSign } from \"../../utils/utils\";\n\ntype CodeDiffHunk = {\n  newCode: string;\n  oldCode?: string;\n};\n\ntype Diff = {\n  diffHunks: CodeDiffHunk[];\n  comparableCode: string;\n};\n\nexport type InserCode = {\n  code: string;\n  diff?: Diff;\n};\n\nexport async function insertTextAtCursor({\n  code,\n  diff,\n}: InserCode): Promise<void> {\n  const editor = vscode.window.activeTextEditor;\n\n  if (!editor) {\n    void vscode.window.showErrorMessage(\"No active text editor found.\");\n    return;\n  }\n\n  if (!diff) {\n    if (!editor.selection.isEmpty) {\n      void editor.edit((editBuilder) => {\n        editBuilder.replace(editor.selection, code);\n      });\n    } else {\n      const position = editor.selection.active;\n      void editor.insertSnippet(\n        new vscode.SnippetString(escapeTabStopSign(code)),\n        position\n      );\n    }\n    await editor.document.save();\n    return;\n  }\n\n  const { diffHunks, comparableCode } = diff;\n  const { document } = editor;\n  const entireText = document.getText();\n\n  const startOffset = entireText.indexOf(comparableCode);\n  if (startOffset === -1) {\n    void vscode.window.showWarningMessage(\"Could not insert the selected diff\");\n    return;\n  }\n  const endOffset = startOffset + comparableCode.length;\n\n  const startPosition = document.positionAt(startOffset);\n  const endPosition = document.positionAt(endOffset);\n  const replaceRange = new vscode.Range(startPosition, endPosition);\n\n  await editor.edit((editBuilder) => {\n    editBuilder.replace(replaceRange, buildCodeDiff(diffHunks));\n  });\n}\n\nfunction buildCodeDiff(diffHunks: CodeDiffHunk[]): string {\n  return diffHunks\n    .map(({ newCode, oldCode }) => {\n      if (oldCode !== undefined) {\n        return applyConflictMarker(oldCode, newCode);\n      }\n      return newCode;\n    })\n    .join(\"\");\n}\n\nfunction applyConflictMarker(before: string, after: string): string {\n  let output = \"\";\n  output += \"<<<<<<< Current\\n\";\n  output += before;\n  output += `${output.endsWith(\"\\n\") ? \"\" : \"\\n\"}=======\\n`;\n  output += after;\n  output += `${\n    output.endsWith(\"\\n\") ? \"\" : \"\\n\"\n  }>>>>>>> Suggested by Tabnine\\n`;\n  return output;\n}\n","import * as vscode from \"vscode\";\n\nexport type InserCodeAtLine = {\n  code: string;\n  lineNumber: number;\n};\n\nexport async function insertAtLine({\n  code,\n  lineNumber,\n}: InserCodeAtLine): Promise<void> {\n  const editor = vscode.window.activeTextEditor;\n\n  if (!editor) {\n    void vscode.window.showErrorMessage(\"No active text editor found.\");\n    return;\n  }\n\n  const startPosition = new vscode.Position(lineNumber, 0);\n\n  await editor.edit((editBuilder) => {\n    editBuilder.insert(startPosition, `${code}\\n`);\n  });\n  await editor.document.save();\n\n  const endPosition = startPosition.translate(\n    1 + code.split(\"\\n\").length - 1,\n    0\n  );\n  editor.selection = new vscode.Selection(startPosition, endPosition);\n  editor.revealRange(\n    new vscode.Range(startPosition, endPosition),\n    vscode.TextEditorRevealType.Default\n  );\n}\n","import * as vscode from \"vscode\";\n\nexport interface NavigateToLocationPayload {\n  path: string;\n  range?: {\n    startLine: number;\n    endLine: number;\n  };\n}\nexport async function navigateToLocation({\n  path,\n  range,\n}: NavigateToLocationPayload): Promise<void> {\n  const uri = vscode.Uri.file(path);\n  const document = await vscode.workspace.openTextDocument(uri);\n  const editor = await vscode.window.showTextDocument(document);\n\n  if (range) {\n    const endLineLength = document.lineAt(range.endLine).text.length;\n    const navigationRange = new vscode.Range(\n      range.startLine,\n      0,\n      range.endLine,\n      endLineLength\n    );\n    editor.selection = new vscode.Selection(\n      navigationRange.start,\n      navigationRange.end\n    );\n    editor.revealRange(navigationRange);\n  } else {\n    const navigationRange = new vscode.Range(0, 0, 0, 0);\n    editor.selection = new vscode.Selection(\n      navigationRange.start,\n      navigationRange.end\n    );\n    editor.revealRange(navigationRange);\n  }\n}\n","import * as vscode from \"vscode\";\n\nexport function peekDefinition({\n  symbols,\n}: {\n  symbols: vscode.SymbolInformation[];\n}): void {\n  if (symbols?.length === 1) {\n    void vscode.commands.executeCommand(\n      \"editor.action.peekLocations\",\n      vscode.window.activeTextEditor?.document.uri,\n      vscode.window.activeTextEditor?.selection.active,\n      [symbols[0].location],\n      \"peek\"\n    );\n  }\n}\n","import * as vscode from \"vscode\";\nimport * as path from \"path\";\n\nexport type SymbolInformationResult = vscode.SymbolInformation & {\n  relativePath: string;\n};\n\nexport async function resolveWorkspaceSymbols({\n  symbol,\n}: {\n  symbol: string;\n}): Promise<SymbolInformationResult[] | undefined> {\n  const symbols = await vscode.commands.executeCommand<\n    vscode.SymbolInformation[]\n  >(\"vscode.executeWorkspaceSymbolProvider\", symbol);\n\n  if (!symbols) return undefined;\n\n  const workspacePath = vscode.workspace.workspaceFolders?.[0].uri.fsPath;\n\n  if (!workspacePath) return [];\n\n  const normalizedWorkspacePath = path.normalize(workspacePath);\n\n  return symbols\n    .map((workspaceSymbol) => {\n      const normalizedSymbolPath = path.normalize(\n        workspaceSymbol.location.uri.fsPath\n      );\n\n      const relativePath = normalizedSymbolPath.startsWith(\n        normalizedWorkspacePath\n      )\n        ? path.relative(normalizedWorkspacePath, normalizedSymbolPath)\n        : undefined;\n\n      if (!relativePath || isProbablyNotSource(relativePath)) {\n        return undefined;\n      }\n      return {\n        ...workspaceSymbol,\n        relativePath,\n      };\n    })\n    .filter(\n      (workspaceSymbol) => !!workspaceSymbol\n    ) as SymbolInformationResult[];\n}\n\nfunction isProbablyNotSource(symbolPath: string): boolean {\n  return [\"node_modules\", \"dist\", \"build\", \"target\", \"out\"].some((dir) =>\n    path.normalize(symbolPath).startsWith(dir)\n  );\n}\n","import * as vscode from \"vscode\";\nimport { ExtensionContext } from \"vscode\";\nimport ChatViewProvider from \"./ChatViewProvider\";\nimport { getState } from \"../binary/requests/requests\";\nimport { Logger } from \"../utils/logger\";\nimport { registerChatQuickFix } from \"./extensionCommands/quickFix\";\nimport registerChatCodeLens from \"./extensionCommands/codeLens\";\nimport ChatEnabledState, { ChatNotEnabledReason } from \"./ChatEnabledState\";\n\nconst VIEW_ID = \"tabnine.chat\";\n\nexport default function registerTabnineChatWidgetWebview(\n  context: ExtensionContext,\n  chatEnabledState: ChatEnabledState,\n  chatProvider: ChatViewProvider\n): void {\n  if (process.env.IS_EVAL_MODE === \"true\") {\n    void vscode.commands.executeCommand(\n      \"setContext\",\n      \"tabnine.chat.eval\",\n      true\n    );\n  }\n\n  setTabnineChatWebview(\"loading\");\n\n  context.subscriptions.push(\n    chatEnabledState.onChange((state) => {\n      if (state.enabled) {\n        registerChatView(context, chatProvider);\n      } else if (state.chatNotEnabledReason) {\n        setContextForChatNotEnabled(state.chatNotEnabledReason);\n      }\n    })\n  );\n}\n\nfunction setContextForChatNotEnabled(reason: ChatNotEnabledReason) {\n  setChatReady(false);\n  setTabnineChatWebview(reason);\n}\n\nlet hasRegisteredChatWebview = false;\n\nfunction registerChatView(\n  context: vscode.ExtensionContext,\n  chatProvider: ChatViewProvider\n) {\n  if (!hasRegisteredChatWebview) {\n    registerWebview(context, chatProvider);\n  }\n\n  setTabnineChatWebview(\"chat\");\n  setChatReady(true);\n\n  getState()\n    .then((state) => {\n      void vscode.commands.executeCommand(\n        \"setContext\",\n        \"tabnine.chat.settings-ready\",\n        state?.service_level !== \"Business\"\n      );\n    })\n    .catch((e) => Logger.error(`Failed to get the user state ${e}`));\n}\n\nfunction registerWebview(\n  context: ExtensionContext,\n  chatProvider: ChatViewProvider\n): void {\n  context.subscriptions.push(\n    vscode.window.registerWebviewViewProvider(VIEW_ID, chatProvider, {\n      webviewOptions: {\n        retainContextWhenHidden: true, // keeps the state of the webview even when it's not visible\n      },\n    })\n  );\n\n  const evalCommands =\n    process.env.IS_EVAL_MODE === \"true\"\n      ? [\n          vscode.commands.registerCommand(\n            \"tabnine.chat.submit-message\",\n            (message: string, options: unknown) => {\n              void chatProvider.handleMessageSubmitted(message, options);\n            }\n          ),\n          vscode.commands.registerCommand(\n            \"tabnine.chat.clear-all-conversations\",\n            () => {\n              chatProvider.clearAllConversations();\n            }\n          ),\n        ]\n      : [];\n\n  context.subscriptions.push(\n    ...evalCommands,\n    vscode.commands.registerCommand(\"tabnine.chat.focus-input\", () => {\n      void chatProvider.focusChatInput();\n    }),\n    vscode.commands.registerCommand(\"tabnine.chat.commands.explain-code\", () =>\n      chatProvider.handleMessageSubmitted(\"/explain-code\")\n    ),\n    vscode.commands.registerCommand(\n      \"tabnine.chat.commands.generate-tests\",\n      () => chatProvider.handleMessageSubmitted(\"/generate-test-for-code\")\n    ),\n    vscode.commands.registerCommand(\"tabnine.chat.commands.document-code\", () =>\n      chatProvider.handleMessageSubmitted(\"/document-code\")\n    ),\n    vscode.commands.registerCommand(\"tabnine.chat.commands.fix-code\", () =>\n      chatProvider.handleMessageSubmitted(\"/fix-code\")\n    )\n  );\n  registerChatQuickFix(context, chatProvider);\n  registerChatCodeLens(context, chatProvider);\n\n  hasRegisteredChatWebview = true;\n}\n\nfunction setTabnineChatWebview(\n  webviewName: ChatNotEnabledReason | \"chat\" | \"loading\"\n) {\n  void vscode.commands.executeCommand(\n    \"setContext\",\n    \"tabnine.chat.webview\",\n    webviewName\n  );\n}\n\nfunction setChatReady(ready: boolean) {\n  void vscode.commands.executeCommand(\n    \"setContext\",\n    \"tabnine.chat.ready\",\n    ready\n  );\n}\n","import { template } from \"./template.html\";\n\nconst SIGN_IN_BUTTON = `<a style=\"display: inline-block; background-color: #007acc; color: #fff; border: none; padding: 6px 40%; border-radius: 3px; cursor: pointer; text-decoration: none;\" href=\"command:tabnine.authenticate\">Sign in</a>`;\nexport const html = (logoSrc: string) =>\n  template(\n    `<p>\n        Please ensure youre signed in\n        <div>\n            ${SIGN_IN_BUTTON}\n        </div>\n    </p>`,\n    logoSrc\n  );\n","import { Disposable, ExtensionContext, WebviewView, window } from \"vscode\";\nimport { fireEvent } from \"../../binary/requests/requests\";\nimport { html } from \"./authenticate.html\";\nimport { getIcon } from \"./getIcon\";\n\nexport function emptyStateAuthenticateView(\n  context: ExtensionContext\n): Disposable {\n  return window.registerWebviewViewProvider(\"tabnine.chat.authenticate\", {\n    resolveWebviewView(webviewView: WebviewView) {\n      context.subscriptions.push(\n        webviewView.onDidChangeVisibility(() => {\n          if (webviewView.visible) {\n            void fireEvent({\n              name: \"tabnine-chat-authenticate-visible\",\n            });\n          }\n        })\n      );\n      const view = webviewView.webview;\n      view.options = {\n        enableScripts: true,\n        enableCommandUris: true,\n      };\n      const logoSrc = getIcon(context, view);\n      view.html = html(logoSrc);\n\n      void fireEvent({\n        name: \"tabnine-chat-authenticate-inited\",\n      });\n    },\n  });\n}\n","import { ColorThemeKind, ExtensionContext, Uri, Webview, window } from \"vscode\";\n\nconst LOGO_BY_THEME = {\n  [ColorThemeKind.Dark]: \"tabnine-logo-dark.svg\",\n  [ColorThemeKind.Light]: \"tabnine-logo-light.svg\",\n  [ColorThemeKind.HighContrast]: \"logo.svg\",\n};\n\nexport function getIcon(context: ExtensionContext, view: Webview) {\n  const onDiskPath = Uri.joinPath(\n    context.extensionUri,\n    LOGO_BY_THEME[window.activeColorTheme.kind]\n  );\n  return view.asWebviewUri(onDiskPath).toString();\n}\n","import { template } from \"./template.html\";\n\nexport const PREVIEW_ENDED_MESSAGE = `\n<div style=\"font-size: 14px;\">\n<h3>Tabnine Chat - Preview Period Ended</h3>\n<p>\nThe preview period for Tabnine Chat in Visual Studio Code has now ended. We hope you found it valuable for your coding projects and enjoyed the experience.\n</p>\n<p>\nTo continue using Tabnine Chat and access its full range of features, we invite you to subscribe to one of our plans. \n</p>\n<p>\nYou can find detailed information about our pricing and the additional benefits of a subscription on our <a href=\"https://www.tabnine.com/pricing\">pricing page</a>.\n</p>\n<p>\nIf you have any questions or need assistance, our support team is always ready to help. \n</p>\n</div>`;\n\nexport const html = (logoSrc: string) =>\n  template(PREVIEW_ENDED_MESSAGE, logoSrc);\n","import { Disposable, ExtensionContext, WebviewView, window } from \"vscode\";\nimport { fireEvent } from \"../../binary/requests/requests\";\nimport { html } from \"./previewEnded.html\";\nimport { getIcon } from \"./getIcon\";\n\nexport function previewEndedView(context: ExtensionContext): Disposable {\n  return window.registerWebviewViewProvider(\"tabnine.chat.preview_ended\", {\n    resolveWebviewView(webviewView: WebviewView) {\n      context.subscriptions.push(\n        webviewView.onDidChangeVisibility(() => {\n          if (webviewView.visible) {\n            void fireEvent({\n              name: \"tabnine-chat-preview-ended-visible\",\n            });\n          }\n        })\n      );\n      const view = webviewView.webview;\n      view.options = {\n        enableScripts: true,\n        enableCommandUris: true,\n      };\n      const logoSrc = getIcon(context, view);\n      view.html = html(logoSrc);\n\n      void fireEvent({\n        name: \"tabnine-chat-preview-ended-inited\",\n      });\n    },\n  });\n}\n","export const template = (content: string, logoSrc: string) => `<!DOCTYPE html>\n<html>\n<head>\n    <style>\n    .logo {\n        height: 1.5rem;\n        width: 6.75rem;\n    }\n    </style>\n</head>\n<body>\n<image src=\"${logoSrc}\" class=\"logo\"></image>\n${content}\n</body>\n</html>`;\n","import { Logger } from \"../../utils/logger\";\nimport { toCamelCase, toSnakeCase } from \"../../utils/string.utils\";\nimport { resolveWorkspaceSymbols } from \"../handlers/resolveSymbols\";\nimport { toChatSymbolKind, WorkspaceSymbol } from \"./symbols\";\n\ntype WorkspaceCommand = \"findSymbols\";\n\nexport type WorkspaceCommandInstruction = {\n  command: WorkspaceCommand;\n  arg: string;\n};\n\nexport type ExecutionResult = {\n  command: WorkspaceCommand;\n  data: unknown[];\n};\n\ntype CommandExecutor = (arg: string) => Promise<unknown[] | undefined>;\n\nconst commandsExecutors: Record<WorkspaceCommand, CommandExecutor> = {\n  findSymbols: findSymbolsCommandExecutor,\n};\n\nexport default async function executeWorkspaceCommand(\n  workspaceCommand: WorkspaceCommandInstruction\n): Promise<ExecutionResult | undefined> {\n  try {\n    const { command, arg } = workspaceCommand;\n    const executor = commandsExecutors[command];\n\n    if (!executor) {\n      Logger.debug(`Unknown workspace command: ${command}`);\n      return undefined;\n    }\n\n    const result = await executor(arg);\n    if (!result || !result.length) return undefined;\n\n    return {\n      command: workspaceCommand.command,\n      data: result,\n    };\n  } catch (error) {\n    Logger.error(error);\n    return undefined;\n  }\n}\n\nasync function findSymbolsCommandExecutor(\n  arg: string\n): Promise<WorkspaceSymbol[] | undefined> {\n  const camelCaseArg = toCamelCase(arg);\n  const snakeCaseArg = toSnakeCase(arg);\n  const camelCaseSymbols = resolveWorkspaceSymbols({ symbol: camelCaseArg });\n  const snakeCaseSymbols = resolveWorkspaceSymbols({ symbol: snakeCaseArg });\n\n  const allSymbols = (\n    await Promise.all([camelCaseSymbols, snakeCaseSymbols])\n  ).reduce((acc, val) => (acc || []).concat(val || []), []);\n\n  return allSymbols?.map((symbol) => ({\n    name: symbol.name,\n    relativePath: symbol.relativePath,\n    kind: toChatSymbolKind(symbol.kind),\n    absolutePath: symbol.location.uri.fsPath,\n    range: {\n      startLine: symbol.location.range.start.line,\n      startCharacter: symbol.location.range.start.character,\n      endLine: symbol.location.range.end.line,\n      endCharacter: symbol.location.range.end.character,\n    },\n  }));\n}\n","import * as vscode from \"vscode\";\nimport { SymbolKind, Uri } from \"vscode\";\nimport * as path from \"path\";\nimport {\n  resolveWorkspaceSymbols,\n  SymbolInformationResult,\n} from \"../handlers/resolveSymbols\";\nimport { toWorkspaceSymbol, WorkspaceSymbol } from \"./symbols\";\n\n/**\n * Returns a list of symbols in the workspace matching the given query.\n *\n * @param {string} query - The search query.\n * @param {number} maxNumOfResults - The maximum number of results to return.\n * @param {Uri} fileUri - The file URI.\n * @returns {Promise<{ documentSymbols: WorkspaceSymbol[]; workspaceSymbols: WorkspaceSymbol[] }>} - An object containing the document symbols and workspace symbols.\n */\nexport async function getSymbolsCommandExecutor(\n  query: string,\n  maxNumOfResults: number,\n  fileUri: Uri\n): Promise<{\n  documentSymbols: WorkspaceSymbol[];\n  workspaceSymbols: WorkspaceSymbol[];\n}> {\n  let allSymbols: SymbolInformationResult[] =\n    (await resolveWorkspaceSymbols({ symbol: query }))\n      ?.filter(symbolKindIsAllowed)\n      .sort() || [];\n  const documentSymbols = allSymbols\n    .filter(\n      (workspaceSymbol) =>\n        workspaceSymbol.location.uri.fsPath === fileUri.fsPath\n    )\n    .splice(0, maxNumOfResults)\n    .map(toWorkspaceSymbol);\n  const numOfWorkspaceSymbols = maxNumOfResults - documentSymbols?.length;\n  if (numOfWorkspaceSymbols <= 0) {\n    return {\n      documentSymbols,\n      workspaceSymbols: [],\n    };\n  }\n  if (allSymbols.length < maxNumOfResults) {\n    const filesSymbols = await getFilesAsSymbols(\n      query,\n      maxNumOfResults - allSymbols.length\n    );\n    allSymbols = [...allSymbols, ...filesSymbols];\n  }\n  const workspaceSymbols: WorkspaceSymbol[] =\n    allSymbols\n      .filter(\n        (workspaceSymbol) =>\n          workspaceSymbol.location.uri.fsPath !== fileUri.fsPath\n      )\n      .splice(0, numOfWorkspaceSymbols)\n      .map(toWorkspaceSymbol) || [];\n  return {\n    documentSymbols,\n    workspaceSymbols,\n  };\n}\n\nconst EXCLUDE_PATTERNS = `{**/node_modules/**,**/.git/**,**/.vscode/**,**/dist/**,**/*.log,**/*.tmp,**/.DS_Store,**/__pycache__/**,**/*.class}`;\n\nasync function getFilesAsSymbols(\n  query: string,\n  maxNumOfResults: number\n): Promise<SymbolInformationResult[]> {\n  const fileUris = await vscode.workspace.findFiles(\n    `**/*${query}*`,\n    EXCLUDE_PATTERNS,\n    maxNumOfResults\n  );\n\n  const fileSymbols: SymbolInformationResult[] = fileUris.map((uri) => ({\n    name: path.basename(vscode.workspace.asRelativePath(uri)),\n    kind: vscode.SymbolKind.File,\n    location: new vscode.Location(uri, new vscode.Position(0, 0)),\n    relativePath: vscode.workspace.asRelativePath(uri),\n    containerName: \"\",\n  }));\n\n  return fileSymbols;\n}\n\nfunction symbolKindIsAllowed(symbol: SymbolInformationResult) {\n  return [SymbolKind.Method, SymbolKind.Class, SymbolKind.Function].includes(\n    symbol.kind\n  );\n}\n","import * as vscode from \"vscode\";\nimport { WorkspaceSymbolKind } from \"./symbols\";\n\nexport type SymbolTextRequest = {\n  id: string;\n  absolutePath: string;\n  kind: WorkspaceSymbolKind;\n  range: {\n    startLine: number;\n    startCharacter: number;\n    endLine: number;\n    endCharacter: number;\n  };\n};\n\nexport type SymbolText = {\n  id: string;\n  snippet: string;\n};\n\n/**\n * Returns a list of text snippets for selected ranges.\n *\n * @returns {Promise<SymbolText[]>} - An array of related snippets per ID.\n * @param workspaceSymbols\n */\nexport async function getSymbolTextCommandExecutor(\n  workspaceSymbols: SymbolTextRequest[]\n): Promise<SymbolText[]> {\n  const promises: Promise<{\n    id: string;\n    snippet: string;\n  }>[] = workspaceSymbols.map(async (symbol) => {\n    const document = await vscode.workspace.openTextDocument(\n      symbol.absolutePath\n    );\n    if (symbol.kind === \"File\") {\n      return {\n        id: symbol.id,\n        snippet: document.getText(),\n      };\n    }\n    const snippet = document.getText(\n      new vscode.Range(\n        symbol.range.startLine,\n        symbol.range.startCharacter,\n        symbol.range.endLine,\n        symbol.range.endCharacter\n      )\n    );\n    return {\n      id: symbol.id,\n      snippet,\n    };\n  });\n  return Promise.all(promises);\n}\n","import { SymbolKind } from \"vscode\";\nimport { SymbolInformationResult } from \"../handlers/resolveSymbols\";\n\nexport type WorkspaceSymbolKind =\n  | \"Method\"\n  | \"Function\"\n  | \"Class\"\n  | \"File\"\n  | \"Other\";\n\nexport type WorkspaceSymbol = {\n  name: string;\n  kind: WorkspaceSymbolKind;\n  relativePath: string;\n  absolutePath: string;\n  range: {\n    startLine: number;\n    startCharacter: number;\n    endLine: number;\n    endCharacter: number;\n  };\n};\n\n/**\n * Converts a SymbolKind value to a WorkspaceSymbolKind value.\n * @param kind - The SymbolKind value to convert.\n * @returns The WorkspaceSymbolKind value.\n */\nexport function toChatSymbolKind(kind: SymbolKind): WorkspaceSymbolKind {\n  switch (kind) {\n    case SymbolKind.Method:\n      return \"Method\";\n    case SymbolKind.Function:\n      return \"Function\";\n    case SymbolKind.Class:\n      return \"Class\";\n    case SymbolKind.File:\n      return \"File\";\n    default:\n      return \"Other\";\n  }\n}\n\nexport function toWorkspaceSymbol(symbol: SymbolInformationResult) {\n  return {\n    name: symbol.name,\n    relativePath: symbol.relativePath,\n    absolutePath: symbol.location.uri.fsPath,\n    kind: toChatSymbolKind(symbol.kind),\n    range: {\n      startLine: symbol.location.range.start.line,\n      endLine: symbol.location.range.end.line,\n      startCharacter: symbol.location.range.start.character,\n      endCharacter: symbol.location.range.end.character,\n    },\n  };\n}\n","import { ExtensionContext } from \"vscode\";\nimport { fireEvent } from \"../binary/requests/requests\";\nimport { Capability } from \"../capabilities/capabilities\";\nimport { StateType } from \"../globals/consts\";\nimport registerWidgetWebviewProvider from \"../widgetWebview/widgetWebview\";\nimport { Logger } from \"../utils/logger\";\n\nconst LOADED_TABNINE_TODAY_WIDGET = \"loaded-tabnine-today-widget-as-webview\";\n\nexport default function registerTabnineTodayWidgetWebview(\n  context: ExtensionContext\n): void {\n  registerWidgetWebviewProvider(context, {\n    capability: Capability.TABNINE_TODAY_WIDGET,\n    getHubBaseUrlSource: StateType.TABNINE_TODAY_WIDGET_WEBVIEW,\n    hubPath: \"/tabnine-today-widget\",\n    readyCommand: \"tabnine.tabnine-today-ready\",\n    viewId: \"tabnine-today\",\n    onWebviewLoaded: () => {\n      void fireEvent({\n        name: LOADED_TABNINE_TODAY_WIDGET,\n      }).catch((e) => Logger.error(e));\n    },\n  });\n}\n","import { URL } from \"url\";\nimport { Uri } from \"vscode\";\nimport {\n  TABNINE_RETURN_URL_QUERY_PARAM,\n  TABNINE_URL_QUERY_PARAM,\n} from \"../globals/consts\";\nimport { asExternalUri } from \"./asExternalUri\";\n\nexport async function asExternal(url: string, path?: string) {\n  const serviceUrl = new URL(url);\n\n  const tabnineUrl = serviceUrl.searchParams.get(TABNINE_URL_QUERY_PARAM);\n  const returnUrl = serviceUrl.searchParams.get(TABNINE_RETURN_URL_QUERY_PARAM);\n\n  if (tabnineUrl) {\n    serviceUrl.searchParams.set(\n      TABNINE_URL_QUERY_PARAM,\n      (await asExternalUri(Uri.parse(tabnineUrl))).toString()\n    );\n  }\n\n  if (returnUrl) {\n    serviceUrl.searchParams.set(\n      TABNINE_RETURN_URL_QUERY_PARAM,\n      (await asExternalUri(Uri.parse(returnUrl))).toString()\n    );\n  }\n\n  let parsedUri = Uri.parse(serviceUrl.toString());\n\n  if (path) {\n    parsedUri = Uri.joinPath(parsedUri, path);\n  }\n\n  return asExternalUri(parsedUri);\n}\n","import { URL } from \"url\";\nimport { Uri, env } from \"vscode\";\nimport { LOCAL_ADDRESSES } from \"../globals/consts\";\nimport {\n  asExternalUri as asCodeServerExternalUri,\n  isCodeServer,\n} from \"../cloudEnvs/codeServer\";\n\nexport async function asExternalUri(uri: Uri): Promise<Uri> {\n  if (!LOCAL_ADDRESSES.includes(new URL(uri.toString()).hostname)) {\n    return uri;\n  }\n  if (isCodeServer) {\n    return asCodeServerExternalUri(uri);\n  }\n\n  return env.asExternalUri(uri);\n}\n","import { Agent, IncomingMessage } from \"http\";\nimport * as https from \"https\";\nimport * as http from \"http\";\nimport * as fs from \"fs\";\nimport { URL } from \"url\";\nimport getHttpsProxyAgent from \"../proxyProvider\";\nimport tabnineExtensionProperties from \"../globals/tabnineExtensionProperties\";\nimport { Logger } from \"./logger\";\n\nexport async function getHttpAgent(url: URL): Promise<Agent | undefined> {\n  const {\n    ignoreCertificateErrors,\n    caCerts,\n    useProxySupport,\n  } = tabnineExtensionProperties;\n  const ca = caCerts ? await readCaCerts(caCerts) : undefined;\n  const proxyAgent = getHttpsProxyAgent({ ignoreCertificateErrors, ca });\n\n  const httpModule = getHttpModule(url);\n\n  if (useProxySupport && proxyAgent) {\n    return proxyAgent;\n  }\n  if (!useProxySupport) {\n    return new httpModule.Agent({\n      ca,\n      rejectUnauthorized: !ignoreCertificateErrors,\n    });\n  }\n  return undefined;\n}\n\nexport function downloadFileToStr(url: string | URL): Promise<string> {\n  return downloadResource(url, (response, resolve, reject) => {\n    let downloadedData = \"\";\n    response.on(\"data\", (data) => {\n      downloadedData += data;\n    });\n    response.on(\"error\", (error) => {\n      reject(error);\n    });\n    response.on(\"end\", () => {\n      resolve(downloadedData);\n    });\n  });\n}\n\nexport function downloadFileToDestination(\n  url: string | URL,\n  destinationPath: string\n): Promise<void> {\n  return downloadResource(url, (response, resolve, reject) => {\n    const createdFile: fs.WriteStream = fs.createWriteStream(destinationPath);\n    createdFile.on(\"finish\", () => {\n      resolve();\n    });\n    response.on(\"error\", (error) => {\n      console.error(error);\n      reject(error);\n    });\n    response.pipe(createdFile);\n  });\n}\n\nasync function downloadResource<T>(\n  url: string | URL,\n  callback: (\n    response: IncomingMessage,\n    resolve: (value: T | PromiseLike<T>) => void,\n    reject: (error: Error) => void\n  ) => void\n): Promise<T> {\n  const ca = tabnineExtensionProperties.caCerts\n    ? await readCaCerts(tabnineExtensionProperties.caCerts)\n    : undefined;\n  const parsedUrl = typeof url === \"string\" ? new URL(url) : url;\n  const agent = await getHttpAgent(parsedUrl);\n  return new Promise<T>((resolve, reject) => {\n    const request = getHttpModule(parsedUrl).request(\n      {\n        protocol: parsedUrl.protocol,\n        hostname: parsedUrl.hostname,\n        port: getPortNumber(parsedUrl),\n        pathname: parsedUrl.pathname,\n        path: parsedUrl.pathname + parsedUrl.search,\n        agent,\n        rejectUnauthorized: !tabnineExtensionProperties.ignoreCertificateErrors,\n        ca,\n        headers: { \"User-Agent\": \"TabNine.tabnine-vscode\" },\n        timeout: 30_000,\n      },\n      (response) => {\n        if (\n          response.statusCode === 301 ||\n          response.statusCode === 302 ||\n          response.statusCode === 308\n        ) {\n          let redirectUrl: string;\n          if (typeof response.headers.location === \"string\") {\n            redirectUrl = response.headers.location;\n          } else {\n            if (!response.headers.location || response.headers.location) {\n              return reject(new Error(\"Invalid download location received\"));\n            }\n            [redirectUrl] = response.headers.location as string[];\n          }\n          return resolve(downloadResource(redirectUrl, callback));\n        }\n        if (response.statusCode !== 200 && response.statusCode !== 403) {\n          return reject(\n            new Error(`Failed request statusCode ${response.statusCode || \"\"}`)\n          );\n        }\n        callback(response, resolve, reject);\n        response.on(\"error\", (error) => {\n          reject(error);\n        });\n        return undefined;\n      }\n    );\n    request.on(\"error\", (error) => {\n      reject(error);\n    });\n    request.end();\n  });\n}\n\nfunction getHttpModule(url: URL): typeof http | typeof https {\n  if (url.protocol === \"https:\") {\n    return https;\n  }\n  return http;\n}\nexport function getHttpStatusCode(\n  url: string | URL\n): Promise<number | undefined> {\n  return downloadResource(url, (response, resolve) => {\n    resolve(response.statusCode);\n  });\n}\n\nexport async function readCaCerts(\n  caCertsFileName: string\n): Promise<Buffer | undefined> {\n  try {\n    if (!caCertsFileName) {\n      return undefined;\n    }\n    return await fs.promises.readFile(caCertsFileName);\n  } catch (error) {\n    Logger.warn(\"Failed to read CA certs file\", error);\n    return undefined;\n  }\n}\n\nfunction getPortNumber(parsedUrl: URL): string | number | undefined {\n  return (\n    (parsedUrl.port && Number(parsedUrl.port)) ||\n    (parsedUrl.protocol === \"https:\" ? 443 : 80)\n  );\n}\n","import * as tmp from \"tmp\";\nimport {\n  watch as fsWatch,\n  promises as fs,\n  MakeDirectoryOptions,\n  PathLike,\n  FSWatcher,\n} from \"fs\";\n\nimport { join } from \"path\";\n\nexport default function createTempFileWithPostfix(\n  postfix: string\n): Promise<tmp.FileResult> {\n  return new Promise<tmp.FileResult>((resolve, reject) => {\n    tmp.file({ postfix }, (err, path, fd, cleanupCallback) => {\n      if (err) {\n        return reject(err);\n      }\n      return resolve(<tmp.FileResult>{\n        name: path,\n        fd,\n        removeCallback: cleanupCallback,\n      });\n    });\n  });\n}\nexport async function asyncExists(path: string): Promise<boolean> {\n  try {\n    await fs.access(path);\n    return true;\n  } catch {\n    return false;\n  }\n}\n\nexport async function ensureExists(\n  path: string,\n  options: MakeDirectoryOptions = { recursive: true }\n): Promise<void> {\n  if (!(await asyncExists(path))) await fs.mkdir(path, options);\n}\n\nexport function watch(\n  path: PathLike,\n  listener: (event: string, filename: string) => void\n): FSWatcher {\n  return fsWatch(path, (event, filename) => {\n    if (event === \"rename\") {\n      void asyncExists(join(path.toString(), filename)).then((exists) =>\n        listener(exists ? \"created\" : \"rename\", filename)\n      );\n    } else {\n      listener(event, filename);\n    }\n  });\n}\n","import * as vscode from \"vscode\";\nimport { OutputChannel } from \"vscode\";\n\nenum LogLevel {\n  DEBUG,\n  INFO,\n  WARN,\n  ERROR,\n  PROCESS,\n}\n\nexport const Logger = new (class Logger implements vscode.Disposable {\n  private outputChannel: OutputChannel;\n\n  private showLogsDisposable: vscode.Disposable;\n\n  constructor() {\n    this.outputChannel = vscode.window.createOutputChannel(\"Tabnine\");\n    this.showLogsDisposable = vscode.commands.registerCommand(\n      \"tabnine.logs\",\n      () => this.show()\n    );\n  }\n\n  init(context: vscode.ExtensionContext) {\n    context.subscriptions.push(this);\n  }\n\n  dispose() {\n    this.outputChannel.dispose();\n    this.showLogsDisposable.dispose();\n  }\n\n  show(): void {\n    this.outputChannel.show();\n  }\n\n  private log(\n    level: LogLevel,\n    message: unknown,\n    ...optionalParams: unknown[]\n  ): void {\n    const prefix = `${new Date().toTimeString()} [${LogLevel[level]}]`;\n    this.outputChannel.appendLine(\n      `${prefix}: ${(message as string)?.toString()} ${optionalParams\n        .map((x) => (x as string)?.toString())\n        .join(\" \")}\\n`\n    );\n  }\n\n  debug(message: unknown, ...optionalParams: unknown[]): void {\n    this.log(LogLevel.DEBUG, message, optionalParams);\n  }\n\n  process(message: string): void {\n    this.outputChannel.appendLine(`[${LogLevel.PROCESS}] ${message}\\n`);\n  }\n\n  info(message: unknown, ...optionalParams: unknown[]): void {\n    this.log(LogLevel.INFO, message, optionalParams);\n  }\n\n  warn(message: unknown, ...optionalParams: unknown[]): void {\n    this.log(LogLevel.WARN, message, optionalParams);\n  }\n\n  error(message: unknown, ...optionalParams: unknown[]): void {\n    this.log(LogLevel.ERROR, message, optionalParams);\n  }\n})();\n","import * as path from \"path\";\nimport { ColorThemeKind, ExtensionContext, Uri, window } from \"vscode\";\n\nexport const LOGO_BY_THEME = {\n  [ColorThemeKind.Light]: \"logo-dark.svg\",\n  [ColorThemeKind.Dark]: \"logo-light.svg\",\n  [ColorThemeKind.HighContrast]: \"logo.svg\",\n};\n\nexport function getLogoPath(context: ExtensionContext): string {\n  return Uri.file(\n    path.join(\n      context.extensionPath,\n      LOGO_BY_THEME[window.activeColorTheme.kind]\n    )\n  ).toString();\n}\n","import { window } from \"vscode\";\nimport { Logger } from \"./logger\";\n\nexport async function notifyOnError<T>(\n  action: (this: void) => Promise<T>,\n  message: string\n): Promise<T | undefined> {\n  try {\n    return await action();\n  } catch (e) {\n    Logger.error(message, e);\n    void window\n      .showErrorMessage(\n        \"Something went wrong, check Tabnine log output for more details\",\n        \"Show Log\"\n      )\n      .then((selection) => {\n        if (selection === \"Show Log\") {\n          Logger.show();\n        }\n      });\n    return undefined;\n  }\n}\n","import { EventEmitter } from \"vscode\";\n\nexport class Publisher<T> {\n  private innerValue: T;\n\n  emitter: EventEmitter<T> = new EventEmitter<T>();\n\n  constructor(value: T) {\n    this.innerValue = value;\n  }\n\n  public get value() {\n    return this.innerValue;\n  }\n\n  public set value(v: T) {\n    this.innerValue = v;\n    this.emitter.fire(v);\n  }\n}\n","import * as semver from \"semver\";\n\nconst FIRST = -1;\nconst EQUAL = 0;\nconst SECOND = 1;\n\nexport default function sortBySemver(versions: string[]): string[] {\n  return versions\n    .filter((version: string) => semver.valid(version))\n    .sort(cmpSemver);\n}\n\nfunction cmpSemver(a: string, b: string): number {\n  const aValid = semver.valid(a);\n  const bValid = semver.valid(b);\n\n  if (aValid && bValid) {\n    return semver.rcompare(a, b);\n  }\n  if (aValid) {\n    return FIRST;\n  }\n  if (bValid) {\n    return SECOND;\n  }\n  if (a < b) {\n    return FIRST;\n  }\n  if (a > b) {\n    return SECOND;\n  }\n  return EQUAL;\n}\n","export function toSnakeCase(str: string): string {\n  return str\n    .replace(/(?<=[a-z])[A-Z]/g, (letter) => `_${letter}`)\n    .toLowerCase();\n}\n\nexport function toCamelCase(str: string): string {\n  return str.replace(/_(.)/g, (_match, group1: string) => group1.toUpperCase());\n}\n","export function trimSlashFromEnd(url: string): string {\n  return url.endsWith(\"/\") ? url.slice(0, -1) : url;\n}\n","import * as vscode from \"vscode\";\nimport * as url from \"url\";\n\nexport function withPolling(\n  callback: (clear: () => void) => void | Promise<void>,\n  interval: number,\n  timeout: number,\n  shouldImmediatelyInvoke = false,\n  onTimeout = () => {}\n): void {\n  const pollingInterval = setInterval(\n    () => void callback(clearPolling),\n    interval\n  );\n\n  const pollingTimeout = setTimeout(() => {\n    clearInterval(pollingInterval);\n    onTimeout();\n  }, timeout);\n\n  function clearPolling() {\n    clearInterval(pollingInterval);\n    clearTimeout(pollingTimeout);\n  }\n\n  if (shouldImmediatelyInvoke) {\n    void callback(clearPolling);\n  }\n}\n\nexport async function assertFirstTimeReceived(\n  key: string,\n  context: vscode.ExtensionContext\n): Promise<string | void> {\n  return new Promise((resolve, reject) => {\n    if (!context.globalState.get(key)) {\n      void context.globalState.update(key, true).then(resolve, reject);\n    } else {\n      reject(new Error(\"Already happened\"));\n    }\n  });\n}\n\nexport function sleep(time: number): Promise<void> {\n  return new Promise((resolve) => setTimeout(resolve, time));\n}\n\nexport function rejectOnTimeout<T>(\n  promise: Promise<T>,\n  time: number\n): Promise<T> {\n  return Promise.race([\n    sleep(time).then(() =>\n      Promise.reject(new Error(`Operation timed out after ${time} ms`))\n    ),\n    promise,\n  ]);\n}\n\nexport function waitForRejection<T>(promise: Promise<T>, time: number) {\n  return Promise.race([sleep(time), promise.then(() => Promise.reject())]);\n}\n\n// eslint-disable-next-line\nexport function isFunction(functionToCheck: any): boolean {\n  // eslint-disable-next-line\n  return (\n    functionToCheck && {}.toString.call(functionToCheck) === \"[object Function]\"\n  );\n}\n\nexport async function asyncFind<T>(\n  arr: T[],\n  predicate: (element: T) => Promise<boolean>\n): Promise<T | null> {\n  // eslint-disable-next-line no-restricted-syntax\n  for await (const element of arr) {\n    if (await predicate(element)) {\n      return element;\n    }\n  }\n  return null;\n}\n\nexport function formatError(error: Error): string {\n  return `OS: ${process.platform} - ${process.arch}\\n Error: ${\n    error.name\n  }\\nMessage: ${error.message}\\nStack: ${error.stack || \"\"}`;\n}\n\nexport function escapeRegExp(value: string): string {\n  return value.replace(/[.*+?^${}()|[\\]\\\\]/g, \"\\\\$&\");\n}\n\nexport function trimEnd(str: string, suffix: string): string {\n  return str.replace(new RegExp(`${escapeRegExp(suffix)}$`), \"\");\n}\n\nexport function escapeTabStopSign(value: string): string {\n  return value.replace(new RegExp(\"\\\\$\", \"g\"), \"\\\\$\");\n}\n\nexport function isMultiline(text?: string): boolean {\n  return text?.includes(\"\\n\") || false;\n}\n\nexport async function timed<T>(\n  fn: () => Promise<T>\n): Promise<{ time: number; value: T }> {\n  const time = process.hrtime();\n  const value = await fn();\n  const after = hrtimeToMs(process.hrtime(time));\n  return { time: after, value };\n}\n\nexport function hrtimeToMs(hrtime: [number, number]): number {\n  const seconds = hrtime[0];\n  const nanoseconds = hrtime[1];\n  return seconds * 1000 + nanoseconds / 1000000;\n}\n\nexport function host(targetUrl: string): string | undefined {\n  const { host: targetHost } = url.parse(targetUrl);\n\n  return targetHost ?? undefined;\n}\n","import * as vscode from \"vscode\";\n\nexport function getWorkspaceRootPaths() {\n  return vscode.workspace.workspaceFolders\n    ?.filter((wf) => wf.uri.scheme === \"file\")\n    .map((wf) => wf.uri.fsPath);\n}\n","import { ViewColumn, WebviewPanel, window } from \"vscode\";\nimport { fireEvent } from \"../binary/requests/requests\";\nimport { createIFrameTemplate } from \"./webviewTemplates\";\nimport { setAlreadyOpenedGettingStarted } from \"../state/gettingStartedOpenedState\";\nimport { TABNINE_GETTING_STARTED_FOR_VSCODE_URL } from \"../globals/consts\";\nimport { ExtensionContext } from \"../preRelease/types\";\n\nlet panel: WebviewPanel | undefined;\n\n// eslint-disable-next-line import/prefer-default-export\nexport function openGettingStartedWebview(context: ExtensionContext): void {\n  if (!panel) {\n    panel = window.createWebviewPanel(\n      \"tabnine.getting-started\",\n      \"Tabnine - Getting Started\",\n      { viewColumn: ViewColumn.Beside, preserveFocus: false },\n      {\n        retainContextWhenHidden: true,\n        enableFindWidget: true,\n        enableCommandUris: true,\n        enableScripts: true,\n      }\n    );\n    panel.onDidDispose(() => {\n      panel = undefined;\n      void fireEvent({\n        name: \"getting-started-closed\",\n      });\n    });\n    panel.webview.html = createIFrameTemplate(\n      TABNINE_GETTING_STARTED_FOR_VSCODE_URL\n    );\n    void setAlreadyOpenedGettingStarted(context);\n  }\n}\n","// eslint-disable-next-line import/prefer-default-export\nexport const createIFrameTemplate = (url: string): string => `\n<!DOCTYPE html>\n<html lang=\"en\" style=\"margin: 0; padding: 0; min-width: 100%; min-height: 100%\">\n    <head>\n        <meta charset=\"UTF-8\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n        <title>Tabnine Hub</title>\n    </head>\n    <body style=\"margin: 0; padding: 0; min-width: 100%; min-height: 100%\">\n      <iframe src=\"${url}\" id=\"config\" frameborder=\"0\" style=\"display: block; margin: 0; padding: 0; position: absolute; min-width: 100%; min-height: 100%; visibility: visible;\"></iframe>\n    </body>\n</html>`;\n","import { WebviewView, WebviewViewProvider } from \"vscode\";\nimport { SLEEP_TIME_BEFORE_OPEN_HUB, StateType } from \"../globals/consts\";\nimport {\n  createLayoutTemplate,\n  createLoadingHubTemplate,\n} from \"../hub/createHubTemplate\";\nimport hubUri from \"../hub/hubUri\";\nimport { sleep } from \"../utils/utils\";\nimport { Logger } from \"../utils/logger\";\n\nexport default class WidgetWebviewProvider implements WebviewViewProvider {\n  source: StateType;\n\n  hubPath: string;\n\n  onWebviewLoaded: () => void;\n\n  constructor(source: StateType, hubPath: string, onWebviewLoaded: () => void) {\n    this.source = source;\n    this.hubPath = hubPath;\n    this.onWebviewLoaded = onWebviewLoaded;\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  resolveWebviewView(webviewView: WebviewView): void | Thenable<void> {\n    // eslint-disable-next-line no-param-reassign\n    webviewView.webview.options = {\n      enableScripts: true,\n      enableCommandUris: true,\n    };\n\n    return setWebviewHtml(\n      webviewView,\n      this.source,\n      this.hubPath,\n      this.onWebviewLoaded\n    );\n  }\n}\n\nlet waitForServerReadyDelay = SLEEP_TIME_BEFORE_OPEN_HUB;\nasync function setWebviewHtml(\n  webviewView: WebviewView,\n  source: StateType,\n  hubPath: string,\n  onWebviewLoaded: () => void\n): Promise<void> {\n  try {\n    const uri = await hubUri(source, hubPath);\n\n    if (uri) {\n      if (waitForServerReadyDelay > 0) {\n        // eslint-disable-next-line no-param-reassign\n        webviewView.webview.html = createLoadingHubTemplate();\n        await sleep(SLEEP_TIME_BEFORE_OPEN_HUB);\n        waitForServerReadyDelay = 0;\n      }\n\n      // eslint-disable-next-line no-param-reassign\n      webviewView.webview.html = createLayoutTemplate(`\n          <iframe src=${uri.toString()} id=\"active-frame\" frameborder=\"0\" sandbox=\"allow-same-origin allow-pointer-lock allow-scripts allow-downloads allow-forms\" allow=\"clipboard-read; clipboard-write;\" style=\"display: block; margin: 0px; overflow: hidden; position: absolute; width: 100%; height: 100%; visibility: visible;\"></iframe>\n           `);\n\n      onWebviewLoaded();\n    } else {\n      // eslint-disable-next-line no-param-reassign\n      webviewView.webview.html = createLayoutTemplate(`\n          <div>Failed to load webview</div>\n        `);\n    }\n  } catch (err) {\n    Logger.error(err);\n    // eslint-disable-next-line no-param-reassign\n    webviewView.webview.html = createLayoutTemplate(`\n          <div>Failed to load webview</div>\n        `);\n  }\n}\n","import { commands, ExtensionContext, window } from \"vscode\";\nimport { Capability, isCapabilityEnabled } from \"../capabilities/capabilities\";\nimport { StateType } from \"../globals/consts\";\nimport WidgetWebviewProvider from \"./WidgetWebviewProvider\";\n\ninterface WidgetWebviewParams {\n  viewId: string;\n  capability: Capability;\n  readyCommand: string;\n  getHubBaseUrlSource: StateType;\n  hubPath: string;\n  onWebviewLoaded: () => void;\n}\n\nexport default function registerWidgetWebviewProvider(\n  context: ExtensionContext,\n  widgetWebviewParams: WidgetWebviewParams\n): void {\n  const provider = new WidgetWebviewProvider(\n    widgetWebviewParams.getHubBaseUrlSource,\n    widgetWebviewParams.hubPath,\n    widgetWebviewParams.onWebviewLoaded\n  );\n\n  context.subscriptions.push(\n    window.registerWebviewViewProvider(widgetWebviewParams.viewId, provider)\n  );\n\n  setWidgetWebviewReady(\n    widgetWebviewParams.capability,\n    widgetWebviewParams.readyCommand\n  );\n}\n\nfunction setWidgetWebviewReady(\n  capability: Capability,\n  readyCommand: string\n): void {\n  if (isCapabilityEnabled(capability)) {\n    void commands.executeCommand(\n      \"setContext\",\n      readyCommand,\n      !(\n        isCapabilityEnabled(Capability.ALPHA_CAPABILITY) ||\n        isCapabilityEnabled(Capability.TABNINE_CHAT)\n      )\n    );\n  }\n}\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar MethodAction = (function () {\r\n    function MethodAction(methodName, args) {\r\n        this.methodName = methodName;\r\n        this.args = args;\r\n        this.callIndex = ++MethodAction.globalCallIndex;\r\n    }\r\n    MethodAction.prototype.isApplicable = function (methodName, matchers) {\r\n        var _this = this;\r\n        var methodNameMatch = this.methodName === methodName;\r\n        var argumentsCountMatch = this.args.length === matchers.length;\r\n        if (!methodNameMatch || !argumentsCountMatch) {\r\n            return false;\r\n        }\r\n        return matchers.every(function (matcher, index) { return matcher.match(_this.args[index]); });\r\n    };\r\n    MethodAction.prototype.getCallIndex = function () {\r\n        return this.callIndex;\r\n    };\r\n    MethodAction.prototype.hasBeenCalledBefore = function (action) {\r\n        return this.getCallIndex() < action.getCallIndex();\r\n    };\r\n    MethodAction.globalCallIndex = 0;\r\n    return MethodAction;\r\n}());\r\nexports.MethodAction = MethodAction;\r\n//# sourceMappingURL=MethodAction.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar _ = require(\"lodash\");\r\nvar MethodStubCollection = (function () {\r\n    function MethodStubCollection() {\r\n        this.items = [];\r\n    }\r\n    MethodStubCollection.prototype.add = function (item) {\r\n        this.items.push(item);\r\n    };\r\n    MethodStubCollection.prototype.getLastMatchingGroupIndex = function (args) {\r\n        var matchingGroup = _.clone(this.items).reverse().find(function (item) { return item.isApplicable(args); });\r\n        return matchingGroup ? matchingGroup.getGroupIndex() : -1;\r\n    };\r\n    MethodStubCollection.prototype.getFirstMatchingFromGroupAndRemoveIfNotLast = function (groupIndex, args) {\r\n        var result = this.getFirstMatchingFromGroup(groupIndex, args);\r\n        this.removeIfNotLast(groupIndex, args);\r\n        return result;\r\n    };\r\n    MethodStubCollection.prototype.hasMatchingInAnyGroup = function (args) {\r\n        return this.items.some(function (item) { return item.isApplicable(args); });\r\n    };\r\n    MethodStubCollection.prototype.removeIfNotLast = function (groupIndex, args) {\r\n        var index = this.getFirstMatchingIndexFromGroup(groupIndex, args);\r\n        if (index > -1 && this.getItemsCountInGroup(groupIndex) > 1) {\r\n            this.items.splice(index, 1);\r\n        }\r\n    };\r\n    MethodStubCollection.prototype.getFirstMatchingFromGroup = function (groupIndex, args) {\r\n        return this.items.find(function (item) { return item.getGroupIndex() === groupIndex && item.isApplicable(args); });\r\n    };\r\n    MethodStubCollection.prototype.getFirstMatchingIndexFromGroup = function (groupIndex, args) {\r\n        return this.items.findIndex(function (item) { return item.getGroupIndex() === groupIndex && item.isApplicable(args); });\r\n    };\r\n    MethodStubCollection.prototype.getItemsCountInGroup = function (groupIndex) {\r\n        return this.items.filter(function (item) { return item.getGroupIndex() === groupIndex; }).length;\r\n    };\r\n    return MethodStubCollection;\r\n}());\r\nexports.MethodStubCollection = MethodStubCollection;\r\n//# sourceMappingURL=MethodStubCollection.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar CallFunctionMethodStub_1 = require(\"./stub/CallFunctionMethodStub\");\r\nvar RejectPromiseMethodStub_1 = require(\"./stub/RejectPromiseMethodStub\");\r\nvar ResolvePromiseMethodStub_1 = require(\"./stub/ResolvePromiseMethodStub\");\r\nvar ReturnValueMethodStub_1 = require(\"./stub/ReturnValueMethodStub\");\r\nvar ThrowErrorMethodStub_1 = require(\"./stub/ThrowErrorMethodStub\");\r\nvar MethodStubSetter = (function () {\r\n    function MethodStubSetter(methodToStub) {\r\n        this.methodToStub = methodToStub;\r\n        this.groupIndex = ++MethodStubSetter.globalGroupIndex;\r\n    }\r\n    MethodStubSetter.prototype.thenReturn = function () {\r\n        var _this = this;\r\n        var rest = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            rest[_i] = arguments[_i];\r\n        }\r\n        this.convertToPropertyIfIsNotAFunction();\r\n        rest.forEach(function (value) {\r\n            _this.methodToStub.methodStubCollection.add(new ReturnValueMethodStub_1.ReturnValueMethodStub(_this.groupIndex, _this.methodToStub.matchers, value));\r\n        });\r\n        return this;\r\n    };\r\n    MethodStubSetter.prototype.thenThrow = function () {\r\n        var _this = this;\r\n        var rest = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            rest[_i] = arguments[_i];\r\n        }\r\n        this.convertToPropertyIfIsNotAFunction();\r\n        rest.forEach(function (error) {\r\n            _this.methodToStub.methodStubCollection.add(new ThrowErrorMethodStub_1.ThrowErrorMethodStub(_this.groupIndex, _this.methodToStub.matchers, error));\r\n        });\r\n        return this;\r\n    };\r\n    MethodStubSetter.prototype.thenCall = function (func) {\r\n        this.convertToPropertyIfIsNotAFunction();\r\n        this.methodToStub.methodStubCollection.add(new CallFunctionMethodStub_1.CallFunctionMethodStub(this.groupIndex, this.methodToStub.matchers, func));\r\n        return this;\r\n    };\r\n    MethodStubSetter.prototype.thenResolve = function () {\r\n        var _this = this;\r\n        var rest = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            rest[_i] = arguments[_i];\r\n        }\r\n        this.convertToPropertyIfIsNotAFunction();\r\n        if (rest.length === 0) {\r\n            rest.push(undefined);\r\n        }\r\n        rest.forEach(function (value) {\r\n            _this.methodToStub.methodStubCollection.add(new ResolvePromiseMethodStub_1.ResolvePromiseMethodStub(_this.groupIndex, _this.methodToStub.matchers, value));\r\n        });\r\n        return this;\r\n    };\r\n    MethodStubSetter.prototype.thenReject = function () {\r\n        var _this = this;\r\n        var rest = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            rest[_i] = arguments[_i];\r\n        }\r\n        this.convertToPropertyIfIsNotAFunction();\r\n        if (rest.length === 0) {\r\n            rest.push(new Error(\"mocked '\" + this.methodToStub.name + \"' rejected\"));\r\n        }\r\n        rest.forEach(function (value) {\r\n            _this.methodToStub.methodStubCollection.add(new RejectPromiseMethodStub_1.RejectPromiseMethodStub(_this.groupIndex, _this.methodToStub.matchers, value));\r\n        });\r\n        return this;\r\n    };\r\n    MethodStubSetter.prototype.thenDoNothing = function () {\r\n        var rest = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            rest[_i] = arguments[_i];\r\n        }\r\n        this.convertToPropertyIfIsNotAFunction();\r\n        return this;\r\n    };\r\n    MethodStubSetter.prototype.convertToPropertyIfIsNotAFunction = function () {\r\n        if (!this.methodToStub.methodStubCollection) {\r\n            var info = this.methodToStub(\"__tsMockitoGetInfo\");\r\n            delete info.mocker.mock[info.key];\r\n            delete info.mocker.instance[info.key];\r\n            info.mocker.createPropertyStub(info.key);\r\n            info.mocker.createInstancePropertyDescriptorListener(info.key, {}, undefined);\r\n            info.mocker.createInstanceActionListener(info.key, undefined);\r\n            this.methodToStub = info.mocker.mock[info.key];\r\n        }\r\n    };\r\n    MethodStubSetter.globalGroupIndex = 0;\r\n    return MethodStubSetter;\r\n}());\r\nexports.MethodStubSetter = MethodStubSetter;\r\n//# sourceMappingURL=MethodStubSetter.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar MethodCallToStringConverter_1 = require(\"./utils/MethodCallToStringConverter\");\r\nvar MethodStubVerificator = (function () {\r\n    function MethodStubVerificator(methodToVerify) {\r\n        this.methodToVerify = methodToVerify;\r\n        this.methodCallToStringConverter = new MethodCallToStringConverter_1.MethodCallToStringConverter();\r\n    }\r\n    MethodStubVerificator.prototype.called = function () {\r\n        this.atLeast(1);\r\n    };\r\n    MethodStubVerificator.prototype.never = function () {\r\n        this.times(0);\r\n    };\r\n    MethodStubVerificator.prototype.once = function () {\r\n        this.times(1);\r\n    };\r\n    MethodStubVerificator.prototype.twice = function () {\r\n        this.times(2);\r\n    };\r\n    MethodStubVerificator.prototype.thrice = function () {\r\n        this.times(3);\r\n    };\r\n    MethodStubVerificator.prototype.times = function (value) {\r\n        var allMatchingActions = this.methodToVerify.mocker.getAllMatchingActions(this.methodToVerify.name, this.methodToVerify.matchers);\r\n        if (value !== allMatchingActions.length) {\r\n            var methodToVerifyAsString = this.methodCallToStringConverter.convert(this.methodToVerify);\r\n            throw new Error(\"Expected \\\"\" + methodToVerifyAsString + \"to be called \" + value + \" time(s). But has been called \" + allMatchingActions.length + \" time(s).\");\r\n        }\r\n    };\r\n    MethodStubVerificator.prototype.atLeast = function (value) {\r\n        var allMatchingActions = this.methodToVerify.mocker.getAllMatchingActions(this.methodToVerify.name, this.methodToVerify.matchers);\r\n        if (value > allMatchingActions.length) {\r\n            var methodToVerifyAsString = this.methodCallToStringConverter.convert(this.methodToVerify);\r\n            throw new Error(\"Expected \\\"\" + methodToVerifyAsString + \"to be called at least \" + value + \" time(s). But has been called \" + allMatchingActions.length + \" time(s).\");\r\n        }\r\n    };\r\n    MethodStubVerificator.prototype.atMost = function (value) {\r\n        var allMatchingActions = this.methodToVerify.mocker.getAllMatchingActions(this.methodToVerify.name, this.methodToVerify.matchers);\r\n        if (value < allMatchingActions.length) {\r\n            var methodToVerifyAsString = this.methodCallToStringConverter.convert(this.methodToVerify);\r\n            throw new Error(\"Expected \\\"\" + methodToVerifyAsString + \"to be called at least \" + value + \" time(s). But has been called \" + allMatchingActions.length + \" time(s).\");\r\n        }\r\n    };\r\n    MethodStubVerificator.prototype.calledBefore = function (method) {\r\n        var firstMethodAction = this.methodToVerify.mocker.getFirstMatchingAction(this.methodToVerify.name, this.methodToVerify.matchers);\r\n        var secondMethodAction = method.mocker.getFirstMatchingAction(method.name, method.matchers);\r\n        var mainMethodToVerifyAsString = this.methodCallToStringConverter.convert(this.methodToVerify);\r\n        var secondMethodAsString = this.methodCallToStringConverter.convert(method);\r\n        var errorBeginning = \"Expected \\\"\" + mainMethodToVerifyAsString + \" to be called before \" + secondMethodAsString;\r\n        if (firstMethodAction && secondMethodAction) {\r\n            if (!firstMethodAction.hasBeenCalledBefore(secondMethodAction)) {\r\n                throw new Error(errorBeginning + \"but has been called after.\");\r\n            }\r\n        }\r\n        else if (firstMethodAction && !secondMethodAction) {\r\n            throw new Error(errorBeginning + \"but \" + secondMethodAsString + \"has never been called.\");\r\n        }\r\n        else if (!firstMethodAction && secondMethodAction) {\r\n            throw new Error(errorBeginning + \"but \" + mainMethodToVerifyAsString + \"has never been called.\");\r\n        }\r\n        else {\r\n            throw new Error(errorBeginning + \"but none of them has been called.\");\r\n        }\r\n    };\r\n    MethodStubVerificator.prototype.calledAfter = function (method) {\r\n        var firstMethodAction = this.methodToVerify.mocker.getFirstMatchingAction(this.methodToVerify.name, this.methodToVerify.matchers);\r\n        var secondMethodAction = method.mocker.getFirstMatchingAction(method.name, method.matchers);\r\n        var mainMethodToVerifyAsString = this.methodCallToStringConverter.convert(this.methodToVerify);\r\n        var secondMethodAsString = this.methodCallToStringConverter.convert(method);\r\n        var errorBeginning = \"Expected \\\"\" + mainMethodToVerifyAsString + \"to be called after \" + secondMethodAsString;\r\n        if (firstMethodAction && secondMethodAction) {\r\n            if (firstMethodAction.hasBeenCalledBefore(secondMethodAction)) {\r\n                throw new Error(errorBeginning + \"but has been called before.\");\r\n            }\r\n        }\r\n        else if (firstMethodAction && !secondMethodAction) {\r\n            throw new Error(errorBeginning + \"but \" + secondMethodAsString + \"has never been called.\");\r\n        }\r\n        else if (!firstMethodAction && secondMethodAction) {\r\n            throw new Error(errorBeginning + \"but \" + mainMethodToVerifyAsString + \"has never been called.\");\r\n        }\r\n        else {\r\n            throw new Error(errorBeginning + \"but none of them has been called.\");\r\n        }\r\n    };\r\n    return MethodStubVerificator;\r\n}());\r\nexports.MethodStubVerificator = MethodStubVerificator;\r\n//# sourceMappingURL=MethodStubVerificator.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar MethodToStub = (function () {\r\n    function MethodToStub(methodStubCollection, matchers, mocker, name) {\r\n        this.methodStubCollection = methodStubCollection;\r\n        this.matchers = matchers;\r\n        this.mocker = mocker;\r\n        this.name = name;\r\n    }\r\n    return MethodToStub;\r\n}());\r\nexports.MethodToStub = MethodToStub;\r\n//# sourceMappingURL=MethodToStub.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar _ = require(\"lodash\");\r\nvar Matcher_1 = require(\"./matcher/type/Matcher\");\r\nvar MethodAction_1 = require(\"./MethodAction\");\r\nvar MethodStubCollection_1 = require(\"./MethodStubCollection\");\r\nvar MethodToStub_1 = require(\"./MethodToStub\");\r\nvar ReturnValueMethodStub_1 = require(\"./stub/ReturnValueMethodStub\");\r\nvar ts_mockito_1 = require(\"./ts-mockito\");\r\nvar MockableFunctionsFinder_1 = require(\"./utils/MockableFunctionsFinder\");\r\nvar ObjectInspector_1 = require(\"./utils/ObjectInspector\");\r\nvar ObjectPropertyCodeRetriever_1 = require(\"./utils/ObjectPropertyCodeRetriever\");\r\nvar Mocker = (function () {\r\n    function Mocker(clazz, instance) {\r\n        if (instance === void 0) { instance = {}; }\r\n        var _this = this;\r\n        this.clazz = clazz;\r\n        this.instance = instance;\r\n        this.mock = {};\r\n        this.objectInspector = new ObjectInspector_1.ObjectInspector();\r\n        this.methodStubCollections = {};\r\n        this.methodActions = [];\r\n        this.mockableFunctionsFinder = new MockableFunctionsFinder_1.MockableFunctionsFinder();\r\n        this.objectPropertyCodeRetriever = new ObjectPropertyCodeRetriever_1.ObjectPropertyCodeRetriever();\r\n        this.excludedPropertyNames = [\"hasOwnProperty\"];\r\n        this.mock.__tsmockitoInstance = this.instance;\r\n        this.mock.__tsmockitoMocker = this;\r\n        if (_.isObject(this.clazz) && _.isObject(this.instance)) {\r\n            this.processProperties(this.clazz.prototype);\r\n            this.processClassCode(this.clazz);\r\n            this.processFunctionsCode(this.clazz.prototype);\r\n        }\r\n        if (typeof Proxy !== \"undefined\" && this.clazz) {\r\n            this.mock.__tsmockitoInstance = new Proxy(this.instance, this.createCatchAllHandlerForRemainingPropertiesWithoutGetters());\r\n        }\r\n        else if (typeof Proxy !== \"undefined\" && !this.clazz) {\r\n            this.instance = new Proxy(this.instance, {\r\n                get: function (target, name) {\r\n                    if (_this.excludedPropertyNames.indexOf(name.toString()) >= 0) {\r\n                        return target[name];\r\n                    }\r\n                    var hasMethodStub = name in target;\r\n                    if (!hasMethodStub) {\r\n                        return _this.createActionListener(name.toString());\r\n                    }\r\n                    return target[name];\r\n                },\r\n            });\r\n            this.mock.__tsmockitoInstance = this.instance;\r\n        }\r\n    }\r\n    Mocker.prototype.getMock = function () {\r\n        var _this = this;\r\n        if (typeof Proxy === \"undefined\") {\r\n            return this.mock;\r\n        }\r\n        if (typeof Proxy !== \"undefined\" && this.clazz) {\r\n            return new Proxy(this.mock, this.createCatchAllHandlerForRemainingPropertiesWithoutGetters());\r\n        }\r\n        return new Proxy(this.mock, {\r\n            get: function (target, name) {\r\n                var hasProp = name in target;\r\n                if (hasProp) {\r\n                    return target[name];\r\n                }\r\n                var hasMethodStub = name in target;\r\n                if (!hasMethodStub) {\r\n                    _this.createMethodStub(name.toString());\r\n                    _this.createInstanceActionListener(name.toString(), {});\r\n                }\r\n                return _this.mock[name.toString()];\r\n            },\r\n        });\r\n    };\r\n    Mocker.prototype.createCatchAllHandlerForRemainingPropertiesWithoutGetters = function () {\r\n        var _this = this;\r\n        return {\r\n            get: function (target, name) {\r\n                var hasMethodStub = name in target;\r\n                if (!hasMethodStub) {\r\n                    _this.createPropertyStub(name.toString());\r\n                    _this.createInstancePropertyDescriptorListener(name.toString(), {}, _this.clazz.prototype);\r\n                }\r\n                return target[name];\r\n            },\r\n        };\r\n    };\r\n    Mocker.prototype.reset = function () {\r\n        this.methodStubCollections = {};\r\n        this.methodActions = [];\r\n    };\r\n    Mocker.prototype.resetCalls = function () {\r\n        this.methodActions = [];\r\n    };\r\n    Mocker.prototype.getAllMatchingActions = function (methodName, matchers) {\r\n        var result = [];\r\n        this.methodActions.forEach(function (item) {\r\n            if (item.isApplicable(methodName, matchers)) {\r\n                result.push(item);\r\n            }\r\n        });\r\n        return result;\r\n    };\r\n    Mocker.prototype.getFirstMatchingAction = function (methodName, matchers) {\r\n        return this.getAllMatchingActions(methodName, matchers)[0];\r\n    };\r\n    Mocker.prototype.getActionsByName = function (name) {\r\n        return this.methodActions.filter(function (action) { return action.methodName === name; });\r\n    };\r\n    Mocker.prototype.processProperties = function (object) {\r\n        var _this = this;\r\n        this.objectInspector.getObjectPrototypes(object).forEach(function (obj) {\r\n            _this.objectInspector.getObjectOwnPropertyNames(obj).forEach(function (name) {\r\n                if (_this.excludedPropertyNames.indexOf(name) >= 0) {\r\n                    return;\r\n                }\r\n                var descriptor = Object.getOwnPropertyDescriptor(obj, name);\r\n                if (descriptor.get) {\r\n                    _this.createPropertyStub(name);\r\n                    _this.createInstancePropertyDescriptorListener(name, descriptor, obj);\r\n                    _this.createInstanceActionListener(name, obj);\r\n                }\r\n                else if (typeof descriptor.value === \"function\") {\r\n                    _this.createMethodStub(name);\r\n                    _this.createInstanceActionListener(name, obj);\r\n                }\r\n                else {\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Mocker.prototype.createInstancePropertyDescriptorListener = function (key, descriptor, prototype) {\r\n        if (this.instance.hasOwnProperty(key)) {\r\n            return;\r\n        }\r\n        Object.defineProperty(this.instance, key, {\r\n            get: this.createActionListener(key),\r\n        });\r\n    };\r\n    Mocker.prototype.createInstanceActionListener = function (key, prototype) {\r\n        if (this.instance.hasOwnProperty(key)) {\r\n            return;\r\n        }\r\n        this.instance[key] = this.createActionListener(key);\r\n    };\r\n    Mocker.prototype.createActionListener = function (key) {\r\n        var _this = this;\r\n        return function () {\r\n            var args = [];\r\n            for (var _i = 0; _i < arguments.length; _i++) {\r\n                args[_i] = arguments[_i];\r\n            }\r\n            var action = new MethodAction_1.MethodAction(key, args);\r\n            _this.methodActions.push(action);\r\n            var methodStub = _this.getMethodStub(key, args);\r\n            methodStub.execute(args);\r\n            return methodStub.getValue();\r\n        };\r\n    };\r\n    Mocker.prototype.getEmptyMethodStub = function (key, args) {\r\n        return new ReturnValueMethodStub_1.ReturnValueMethodStub(-1, [], null);\r\n    };\r\n    Mocker.prototype.processClassCode = function (clazz) {\r\n        var _this = this;\r\n        var classCode = typeof clazz.toString !== \"undefined\" ? clazz.toString() : \"\";\r\n        var functionNames = this.mockableFunctionsFinder.find(classCode);\r\n        functionNames.forEach(function (functionName) {\r\n            _this.createMethodStub(functionName);\r\n            _this.createInstanceActionListener(functionName, _this.clazz.prototype);\r\n        });\r\n    };\r\n    Mocker.prototype.processFunctionsCode = function (object) {\r\n        var _this = this;\r\n        this.objectInspector.getObjectPrototypes(object).forEach(function (obj) {\r\n            _this.objectInspector.getObjectOwnPropertyNames(obj).forEach(function (propertyName) {\r\n                var functionNames = _this.mockableFunctionsFinder.find(_this.objectPropertyCodeRetriever.get(obj, propertyName));\r\n                functionNames.forEach(function (functionName) {\r\n                    _this.createMethodStub(functionName);\r\n                    _this.createInstanceActionListener(functionName, _this.clazz.prototype);\r\n                });\r\n            });\r\n        });\r\n    };\r\n    Mocker.prototype.createPropertyStub = function (key) {\r\n        if (this.mock.hasOwnProperty(key)) {\r\n            return;\r\n        }\r\n        Object.defineProperty(this.mock, key, {\r\n            get: this.createMethodToStub(key),\r\n        });\r\n    };\r\n    Mocker.prototype.createMethodStub = function (key) {\r\n        if (this.mock.hasOwnProperty(key)) {\r\n            return;\r\n        }\r\n        this.mock[key] = this.createMethodToStub(key);\r\n    };\r\n    Mocker.prototype.createMethodToStub = function (key) {\r\n        var _this = this;\r\n        return function () {\r\n            var args = [];\r\n            for (var _i = 0; _i < arguments.length; _i++) {\r\n                args[_i] = arguments[_i];\r\n            }\r\n            if (args.length === 1 && args[0] === \"__tsMockitoGetInfo\") {\r\n                return {\r\n                    key: key,\r\n                    mocker: _this,\r\n                };\r\n            }\r\n            if (!_this.methodStubCollections[key]) {\r\n                _this.methodStubCollections[key] = new MethodStubCollection_1.MethodStubCollection();\r\n            }\r\n            var matchers = [];\r\n            for (var _a = 0, args_1 = args; _a < args_1.length; _a++) {\r\n                var arg = args_1[_a];\r\n                if (!(arg instanceof Matcher_1.Matcher)) {\r\n                    matchers.push(ts_mockito_1.strictEqual(arg));\r\n                }\r\n                else {\r\n                    matchers.push(arg);\r\n                }\r\n            }\r\n            return new MethodToStub_1.MethodToStub(_this.methodStubCollections[key], matchers, _this, key);\r\n        };\r\n    };\r\n    Mocker.prototype.getMethodStub = function (key, args) {\r\n        var methodStub = this.methodStubCollections[key];\r\n        if (methodStub && methodStub.hasMatchingInAnyGroup(args)) {\r\n            var groupIndex = methodStub.getLastMatchingGroupIndex(args);\r\n            return methodStub.getFirstMatchingFromGroupAndRemoveIfNotLast(groupIndex, args);\r\n        }\r\n        else {\r\n            return this.getEmptyMethodStub(key, args);\r\n        }\r\n    };\r\n    return Mocker;\r\n}());\r\nexports.Mocker = Mocker;\r\n//# sourceMappingURL=Mock.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar _ = require(\"lodash\");\r\nvar Mock_1 = require(\"./Mock\");\r\nvar RealMethod_1 = require(\"./spy/RealMethod\");\r\nvar CallThroughMethodStub_1 = require(\"./stub/CallThroughMethodStub\");\r\nvar Spy = (function (_super) {\r\n    __extends(Spy, _super);\r\n    function Spy(instance) {\r\n        var _this = _super.call(this, instance.constructor, instance) || this;\r\n        if (_.isObject(instance)) {\r\n            _this.processProperties(instance);\r\n        }\r\n        return _this;\r\n    }\r\n    Spy.prototype.reset = function () {\r\n        var _this = this;\r\n        _.forEach(this.realMethods, function (method, key) {\r\n            if (method.instance) {\r\n                Object.defineProperty(_this.instance, key, method.descriptor);\r\n            }\r\n            else {\r\n                delete _this.instance[key];\r\n            }\r\n        });\r\n        _super.prototype.reset.call(this);\r\n    };\r\n    Spy.prototype.getEmptyMethodStub = function (key, args) {\r\n        var realMethod = this.realMethods[key];\r\n        if (realMethod) {\r\n            var method = realMethod.descriptor.get || realMethod.descriptor.value;\r\n            return new CallThroughMethodStub_1.CallThroughMethodStub(this.instance, method);\r\n        }\r\n        return _super.prototype.getEmptyMethodStub.call(this, key, args);\r\n    };\r\n    Spy.prototype.createInstancePropertyDescriptorListener = function (key, descriptor, prototype) {\r\n        if (!this.realMethods) {\r\n            this.realMethods = {};\r\n        }\r\n        if (this.realMethods[key]) {\r\n            return;\r\n        }\r\n        this.realMethods[key] = new RealMethod_1.RealMethod(descriptor, prototype === this.instance);\r\n        Object.defineProperty(this.instance, key, {\r\n            get: this.createActionListener(key),\r\n            configurable: true,\r\n        });\r\n    };\r\n    Spy.prototype.createInstanceActionListener = function (key, prototype) {\r\n        if (!this.realMethods) {\r\n            this.realMethods = {};\r\n        }\r\n        if (this.realMethods[key]) {\r\n            return;\r\n        }\r\n        var descriptor = Object.getOwnPropertyDescriptor(prototype, key);\r\n        this.realMethods[key] = new RealMethod_1.RealMethod(descriptor, prototype === this.instance);\r\n        this.instance[key] = this.createActionListener(key);\r\n    };\r\n    return Spy;\r\n}(Mock_1.Mocker));\r\nexports.Spy = Spy;\r\n//# sourceMappingURL=Spy.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar ArgCaptor = (function () {\r\n    function ArgCaptor(actions) {\r\n        this.actions = actions;\r\n    }\r\n    ArgCaptor.prototype.first = function () {\r\n        return this.byCallIndex(0);\r\n    };\r\n    ArgCaptor.prototype.second = function () {\r\n        return this.byCallIndex(1);\r\n    };\r\n    ArgCaptor.prototype.third = function () {\r\n        return this.byCallIndex(2);\r\n    };\r\n    ArgCaptor.prototype.beforeLast = function () {\r\n        return this.byCallIndex(this.actions.length - 2);\r\n    };\r\n    ArgCaptor.prototype.last = function () {\r\n        return this.byCallIndex(this.actions.length - 1);\r\n    };\r\n    ArgCaptor.prototype.byCallIndex = function (index) {\r\n        if (index >= this.actions.length) {\r\n            throw new Error(\"Cannot capture arguments, method has not been called so many times: \" + (index + 1));\r\n        }\r\n        return this.actions[index].args;\r\n    };\r\n    return ArgCaptor;\r\n}());\r\nexports.ArgCaptor = ArgCaptor;\r\n//# sourceMappingURL=ArgCaptor.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar ArgsToMatchersValidator = (function () {\r\n    function ArgsToMatchersValidator() {\r\n    }\r\n    ArgsToMatchersValidator.prototype.validate = function (matchers, args) {\r\n        if (matchers.length !== args.length) {\r\n            return false;\r\n        }\r\n        return matchers.every(function (matcher, index) { return matcher.match(args[index]); });\r\n    };\r\n    return ArgsToMatchersValidator;\r\n}());\r\nexports.ArgsToMatchersValidator = ArgsToMatchersValidator;\r\n//# sourceMappingURL=ArgsToMatchersValidator.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar _ = require(\"lodash\");\r\nvar Matcher_1 = require(\"./Matcher\");\r\nvar AnyFunctionMatcher = (function (_super) {\r\n    __extends(AnyFunctionMatcher, _super);\r\n    function AnyFunctionMatcher() {\r\n        return _super.call(this) || this;\r\n    }\r\n    AnyFunctionMatcher.prototype.match = function (value) {\r\n        return _.isFunction(value);\r\n    };\r\n    AnyFunctionMatcher.prototype.toString = function () {\r\n        return \"anyFunction()\";\r\n    };\r\n    return AnyFunctionMatcher;\r\n}(Matcher_1.Matcher));\r\nexports.AnyFunctionMatcher = AnyFunctionMatcher;\r\n//# sourceMappingURL=AnyFunctionMatcher.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar _ = require(\"lodash\");\r\nvar Matcher_1 = require(\"./Matcher\");\r\nvar AnyNumberMatcher = (function (_super) {\r\n    __extends(AnyNumberMatcher, _super);\r\n    function AnyNumberMatcher() {\r\n        return _super.call(this) || this;\r\n    }\r\n    AnyNumberMatcher.prototype.match = function (value) {\r\n        return _.isNumber(value);\r\n    };\r\n    AnyNumberMatcher.prototype.toString = function () {\r\n        return \"anyNumber()\";\r\n    };\r\n    return AnyNumberMatcher;\r\n}(Matcher_1.Matcher));\r\nexports.AnyNumberMatcher = AnyNumberMatcher;\r\n//# sourceMappingURL=AnyNumberMatcher.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Matcher_1 = require(\"./Matcher\");\r\nvar AnyOfClassMatcher = (function (_super) {\r\n    __extends(AnyOfClassMatcher, _super);\r\n    function AnyOfClassMatcher(expectedClass) {\r\n        var _this = _super.call(this) || this;\r\n        _this.expectedClass = expectedClass;\r\n        if (expectedClass === null) {\r\n            throw new Error(\"The expected class cannot be null.\");\r\n        }\r\n        return _this;\r\n    }\r\n    AnyOfClassMatcher.prototype.match = function (value) {\r\n        return value instanceof this.expectedClass;\r\n    };\r\n    AnyOfClassMatcher.prototype.toString = function () {\r\n        return \"anyOfClass(\" + this.expectedClass[\"name\"] + \")\";\r\n    };\r\n    return AnyOfClassMatcher;\r\n}(Matcher_1.Matcher));\r\nexports.AnyOfClassMatcher = AnyOfClassMatcher;\r\n//# sourceMappingURL=AnyOfClassMatcher.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar _ = require(\"lodash\");\r\nvar Matcher_1 = require(\"./Matcher\");\r\nvar AnyStringMatcher = (function (_super) {\r\n    __extends(AnyStringMatcher, _super);\r\n    function AnyStringMatcher() {\r\n        return _super.call(this) || this;\r\n    }\r\n    AnyStringMatcher.prototype.match = function (value) {\r\n        return _.isString(value);\r\n    };\r\n    AnyStringMatcher.prototype.toString = function () {\r\n        return \"anyString()\";\r\n    };\r\n    return AnyStringMatcher;\r\n}(Matcher_1.Matcher));\r\nexports.AnyStringMatcher = AnyStringMatcher;\r\n//# sourceMappingURL=AnyStringMatcher.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Matcher_1 = require(\"./Matcher\");\r\nvar AnythingMatcher = (function (_super) {\r\n    __extends(AnythingMatcher, _super);\r\n    function AnythingMatcher() {\r\n        return _super.call(this) || this;\r\n    }\r\n    AnythingMatcher.prototype.match = function (value) {\r\n        return true;\r\n    };\r\n    AnythingMatcher.prototype.toString = function () {\r\n        return \"anything()\";\r\n    };\r\n    return AnythingMatcher;\r\n}(Matcher_1.Matcher));\r\nexports.AnythingMatcher = AnythingMatcher;\r\n//# sourceMappingURL=AnythingMatcher.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Matcher_1 = require(\"./Matcher\");\r\nvar BetweenMatcher = (function (_super) {\r\n    __extends(BetweenMatcher, _super);\r\n    function BetweenMatcher(min, max) {\r\n        var _this = _super.call(this) || this;\r\n        _this.min = min;\r\n        _this.max = max;\r\n        if (min > max) {\r\n            throw new Error(\"between matcher error: min value can\\'t be greater than max\");\r\n        }\r\n        return _this;\r\n    }\r\n    BetweenMatcher.prototype.match = function (value) {\r\n        return value >= this.min && value <= this.max;\r\n    };\r\n    BetweenMatcher.prototype.toString = function () {\r\n        return \"between(\" + this.min + \", \" + this.max + \")\";\r\n    };\r\n    return BetweenMatcher;\r\n}(Matcher_1.Matcher));\r\nexports.BetweenMatcher = BetweenMatcher;\r\n//# sourceMappingURL=BetweenMatcher.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar _ = require(\"lodash\");\r\nvar Matcher_1 = require(\"./Matcher\");\r\nvar DeepEqualMatcher = (function (_super) {\r\n    __extends(DeepEqualMatcher, _super);\r\n    function DeepEqualMatcher(expectedValue) {\r\n        var _this = _super.call(this) || this;\r\n        _this.expectedValue = expectedValue;\r\n        return _this;\r\n    }\r\n    DeepEqualMatcher.prototype.match = function (value) {\r\n        return _.isEqualWith(this.expectedValue, value, function (expected, actual) {\r\n            if (expected instanceof Matcher_1.Matcher) {\r\n                return expected.match(actual);\r\n            }\r\n            return undefined;\r\n        });\r\n    };\r\n    DeepEqualMatcher.prototype.toString = function () {\r\n        if (this.expectedValue instanceof Array) {\r\n            return \"deepEqual([\" + this.expectedValue + \"])\";\r\n        }\r\n        else {\r\n            return \"deepEqual(\" + this.expectedValue + \")\";\r\n        }\r\n    };\r\n    return DeepEqualMatcher;\r\n}(Matcher_1.Matcher));\r\nexports.DeepEqualMatcher = DeepEqualMatcher;\r\n//# sourceMappingURL=DeepEqualMatcher.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Matcher = (function () {\r\n    function Matcher() {\r\n    }\r\n    Matcher.prototype.match = function (value) {\r\n        return false;\r\n    };\r\n    Matcher.prototype.toString = function () {\r\n        return \"\";\r\n    };\r\n    return Matcher;\r\n}());\r\nexports.Matcher = Matcher;\r\n//# sourceMappingURL=Matcher.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Matcher_1 = require(\"./Matcher\");\r\nvar MatchingStringMatcher = (function (_super) {\r\n    __extends(MatchingStringMatcher, _super);\r\n    function MatchingStringMatcher(expectedValue) {\r\n        var _this = _super.call(this) || this;\r\n        _this.expectedValue = expectedValue;\r\n        return _this;\r\n    }\r\n    MatchingStringMatcher.prototype.match = function (value) {\r\n        return value.match(this.expectedValue);\r\n    };\r\n    MatchingStringMatcher.prototype.toString = function () {\r\n        return \"match(\" + this.expectedValue + \")\";\r\n    };\r\n    return MatchingStringMatcher;\r\n}(Matcher_1.Matcher));\r\nexports.MatchingStringMatcher = MatchingStringMatcher;\r\n//# sourceMappingURL=MatchingStringMatcher.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar _ = require(\"lodash\");\r\nvar Matcher_1 = require(\"./Matcher\");\r\nvar NotNullMatcher = (function (_super) {\r\n    __extends(NotNullMatcher, _super);\r\n    function NotNullMatcher() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    NotNullMatcher.prototype.match = function (value) {\r\n        return !_.isNull(value);\r\n    };\r\n    NotNullMatcher.prototype.toString = function () {\r\n        return \"notNull()\";\r\n    };\r\n    return NotNullMatcher;\r\n}(Matcher_1.Matcher));\r\nexports.NotNullMatcher = NotNullMatcher;\r\n//# sourceMappingURL=NotNullMatcher.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar _ = require(\"lodash\");\r\nvar Matcher_1 = require(\"./Matcher\");\r\nvar ObjectContainingMatcher = (function (_super) {\r\n    __extends(ObjectContainingMatcher, _super);\r\n    function ObjectContainingMatcher(expectedValue) {\r\n        var _this = _super.call(this) || this;\r\n        _this.expectedValue = expectedValue;\r\n        return _this;\r\n    }\r\n    ObjectContainingMatcher.prototype.match = function (value) {\r\n        return _.isMatch(value, this.expectedValue);\r\n    };\r\n    ObjectContainingMatcher.prototype.toString = function () {\r\n        return \"objectContaining(\" + this.expectedValue + \")\";\r\n    };\r\n    return ObjectContainingMatcher;\r\n}(Matcher_1.Matcher));\r\nexports.ObjectContainingMatcher = ObjectContainingMatcher;\r\n//# sourceMappingURL=ObjectContainingMatcher.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Matcher_1 = require(\"./Matcher\");\r\nvar StrictEqualMatcher = (function (_super) {\r\n    __extends(StrictEqualMatcher, _super);\r\n    function StrictEqualMatcher(expectedValue) {\r\n        var _this = _super.call(this) || this;\r\n        _this.expectedValue = expectedValue;\r\n        return _this;\r\n    }\r\n    StrictEqualMatcher.prototype.match = function (value) {\r\n        return this.expectedValue === value;\r\n    };\r\n    StrictEqualMatcher.prototype.toString = function () {\r\n        if (this.expectedValue instanceof Array) {\r\n            return \"strictEqual([\" + this.expectedValue + \"])\";\r\n        }\r\n        else {\r\n            return \"strictEqual(\" + this.expectedValue + \")\";\r\n        }\r\n    };\r\n    return StrictEqualMatcher;\r\n}(Matcher_1.Matcher));\r\nexports.StrictEqualMatcher = StrictEqualMatcher;\r\n//# sourceMappingURL=StrictEqualMatcher.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar RealMethod = (function () {\r\n    function RealMethod(descriptor, instance) {\r\n        this.descriptor = descriptor;\r\n        this.instance = instance;\r\n    }\r\n    return RealMethod;\r\n}());\r\nexports.RealMethod = RealMethod;\r\n//# sourceMappingURL=RealMethod.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar AbstractMethodStub = (function () {\r\n    function AbstractMethodStub() {\r\n    }\r\n    AbstractMethodStub.prototype.getGroupIndex = function () {\r\n        return this.groupIndex;\r\n    };\r\n    return AbstractMethodStub;\r\n}());\r\nexports.AbstractMethodStub = AbstractMethodStub;\r\n//# sourceMappingURL=AbstractMethodStub.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar ArgsToMatchersValidator_1 = require(\"../matcher/ArgsToMatchersValidator\");\r\nvar AbstractMethodStub_1 = require(\"./AbstractMethodStub\");\r\nvar CallFunctionMethodStub = (function (_super) {\r\n    __extends(CallFunctionMethodStub, _super);\r\n    function CallFunctionMethodStub(groupIndex, matchers, func) {\r\n        var _this = _super.call(this) || this;\r\n        _this.groupIndex = groupIndex;\r\n        _this.matchers = matchers;\r\n        _this.func = func;\r\n        _this.validator = new ArgsToMatchersValidator_1.ArgsToMatchersValidator();\r\n        return _this;\r\n    }\r\n    CallFunctionMethodStub.prototype.isApplicable = function (args) {\r\n        return this.validator.validate(this.matchers, args);\r\n    };\r\n    CallFunctionMethodStub.prototype.execute = function (args) {\r\n        this.functionResult = this.func.apply(this, args);\r\n    };\r\n    CallFunctionMethodStub.prototype.getValue = function () {\r\n        return this.functionResult;\r\n    };\r\n    return CallFunctionMethodStub;\r\n}(AbstractMethodStub_1.AbstractMethodStub));\r\nexports.CallFunctionMethodStub = CallFunctionMethodStub;\r\n//# sourceMappingURL=CallFunctionMethodStub.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar CallThroughMethodStub = (function () {\r\n    function CallThroughMethodStub(instance, method) {\r\n        this.instance = instance;\r\n        this.method = method;\r\n    }\r\n    CallThroughMethodStub.prototype.getGroupIndex = function () {\r\n        return -1;\r\n    };\r\n    CallThroughMethodStub.prototype.isApplicable = function (args) {\r\n        return false;\r\n    };\r\n    CallThroughMethodStub.prototype.execute = function (args) {\r\n        this.result = this.method.apply(this.instance, args);\r\n    };\r\n    CallThroughMethodStub.prototype.getValue = function () {\r\n        return this.result;\r\n    };\r\n    return CallThroughMethodStub;\r\n}());\r\nexports.CallThroughMethodStub = CallThroughMethodStub;\r\n//# sourceMappingURL=CallThroughMethodStub.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar ArgsToMatchersValidator_1 = require(\"../matcher/ArgsToMatchersValidator\");\r\nvar AbstractMethodStub_1 = require(\"./AbstractMethodStub\");\r\nvar RejectPromiseMethodStub = (function (_super) {\r\n    __extends(RejectPromiseMethodStub, _super);\r\n    function RejectPromiseMethodStub(groupIndex, matchers, value) {\r\n        var _this = _super.call(this) || this;\r\n        _this.groupIndex = groupIndex;\r\n        _this.matchers = matchers;\r\n        _this.value = value;\r\n        _this.validator = new ArgsToMatchersValidator_1.ArgsToMatchersValidator();\r\n        return _this;\r\n    }\r\n    RejectPromiseMethodStub.prototype.isApplicable = function (args) {\r\n        return this.validator.validate(this.matchers, args);\r\n    };\r\n    RejectPromiseMethodStub.prototype.execute = function (args) {\r\n    };\r\n    RejectPromiseMethodStub.prototype.getValue = function () {\r\n        return Promise.reject(this.value);\r\n    };\r\n    return RejectPromiseMethodStub;\r\n}(AbstractMethodStub_1.AbstractMethodStub));\r\nexports.RejectPromiseMethodStub = RejectPromiseMethodStub;\r\n//# sourceMappingURL=RejectPromiseMethodStub.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar ArgsToMatchersValidator_1 = require(\"../matcher/ArgsToMatchersValidator\");\r\nvar AbstractMethodStub_1 = require(\"./AbstractMethodStub\");\r\nvar ResolvePromiseMethodStub = (function (_super) {\r\n    __extends(ResolvePromiseMethodStub, _super);\r\n    function ResolvePromiseMethodStub(groupIndex, matchers, value) {\r\n        var _this = _super.call(this) || this;\r\n        _this.groupIndex = groupIndex;\r\n        _this.matchers = matchers;\r\n        _this.value = value;\r\n        _this.validator = new ArgsToMatchersValidator_1.ArgsToMatchersValidator();\r\n        return _this;\r\n    }\r\n    ResolvePromiseMethodStub.prototype.isApplicable = function (args) {\r\n        return this.validator.validate(this.matchers, args);\r\n    };\r\n    ResolvePromiseMethodStub.prototype.execute = function (args) {\r\n    };\r\n    ResolvePromiseMethodStub.prototype.getValue = function () {\r\n        return Promise.resolve(this.value);\r\n    };\r\n    return ResolvePromiseMethodStub;\r\n}(AbstractMethodStub_1.AbstractMethodStub));\r\nexports.ResolvePromiseMethodStub = ResolvePromiseMethodStub;\r\n//# sourceMappingURL=ResolvePromiseMethodStub.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar ArgsToMatchersValidator_1 = require(\"../matcher/ArgsToMatchersValidator\");\r\nvar AbstractMethodStub_1 = require(\"./AbstractMethodStub\");\r\nvar ReturnValueMethodStub = (function (_super) {\r\n    __extends(ReturnValueMethodStub, _super);\r\n    function ReturnValueMethodStub(groupIndex, matchers, returns) {\r\n        var _this = _super.call(this) || this;\r\n        _this.groupIndex = groupIndex;\r\n        _this.matchers = matchers;\r\n        _this.returns = returns;\r\n        _this.validator = new ArgsToMatchersValidator_1.ArgsToMatchersValidator();\r\n        return _this;\r\n    }\r\n    ReturnValueMethodStub.prototype.isApplicable = function (args) {\r\n        return this.validator.validate(this.matchers, args);\r\n    };\r\n    ReturnValueMethodStub.prototype.execute = function (args) {\r\n    };\r\n    ReturnValueMethodStub.prototype.getValue = function () {\r\n        return this.returns;\r\n    };\r\n    return ReturnValueMethodStub;\r\n}(AbstractMethodStub_1.AbstractMethodStub));\r\nexports.ReturnValueMethodStub = ReturnValueMethodStub;\r\n//# sourceMappingURL=ReturnValueMethodStub.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar ArgsToMatchersValidator_1 = require(\"../matcher/ArgsToMatchersValidator\");\r\nvar AbstractMethodStub_1 = require(\"./AbstractMethodStub\");\r\nvar ThrowErrorMethodStub = (function (_super) {\r\n    __extends(ThrowErrorMethodStub, _super);\r\n    function ThrowErrorMethodStub(groupIndex, matchers, error) {\r\n        var _this = _super.call(this) || this;\r\n        _this.groupIndex = groupIndex;\r\n        _this.matchers = matchers;\r\n        _this.error = error;\r\n        _this.validator = new ArgsToMatchersValidator_1.ArgsToMatchersValidator();\r\n        return _this;\r\n    }\r\n    ThrowErrorMethodStub.prototype.isApplicable = function (args) {\r\n        return this.validator.validate(this.matchers, args);\r\n    };\r\n    ThrowErrorMethodStub.prototype.execute = function (args) {\r\n        throw this.error;\r\n    };\r\n    ThrowErrorMethodStub.prototype.getValue = function () {\r\n        return null;\r\n    };\r\n    return ThrowErrorMethodStub;\r\n}(AbstractMethodStub_1.AbstractMethodStub));\r\nexports.ThrowErrorMethodStub = ThrowErrorMethodStub;\r\n//# sourceMappingURL=ThrowErrorMethodStub.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar ArgCaptor_1 = require(\"./capture/ArgCaptor\");\r\nvar AnyFunctionMatcher_1 = require(\"./matcher/type/AnyFunctionMatcher\");\r\nvar AnyNumberMatcher_1 = require(\"./matcher/type/AnyNumberMatcher\");\r\nvar AnyOfClassMatcher_1 = require(\"./matcher/type/AnyOfClassMatcher\");\r\nvar AnyStringMatcher_1 = require(\"./matcher/type/AnyStringMatcher\");\r\nvar AnythingMatcher_1 = require(\"./matcher/type/AnythingMatcher\");\r\nvar BetweenMatcher_1 = require(\"./matcher/type/BetweenMatcher\");\r\nvar DeepEqualMatcher_1 = require(\"./matcher/type/DeepEqualMatcher\");\r\nvar MatchingStringMatcher_1 = require(\"./matcher/type/MatchingStringMatcher\");\r\nvar NotNullMatcher_1 = require(\"./matcher/type/NotNullMatcher\");\r\nvar ObjectContainingMatcher_1 = require(\"./matcher/type/ObjectContainingMatcher\");\r\nvar StrictEqualMatcher_1 = require(\"./matcher/type/StrictEqualMatcher\");\r\nvar MethodStubSetter_1 = require(\"./MethodStubSetter\");\r\nvar MethodStubVerificator_1 = require(\"./MethodStubVerificator\");\r\nvar MethodToStub_1 = require(\"./MethodToStub\");\r\nvar Mock_1 = require(\"./Mock\");\r\nvar Spy_1 = require(\"./Spy\");\r\nfunction spy(instanceToSpy) {\r\n    return new Spy_1.Spy(instanceToSpy).getMock();\r\n}\r\nexports.spy = spy;\r\nfunction mock(clazz) {\r\n    return new Mock_1.Mocker(clazz).getMock();\r\n}\r\nexports.mock = mock;\r\nfunction verify(method) {\r\n    return new MethodStubVerificator_1.MethodStubVerificator(method);\r\n}\r\nexports.verify = verify;\r\nfunction when(method) {\r\n    return new MethodStubSetter_1.MethodStubSetter(method);\r\n}\r\nexports.when = when;\r\nfunction instance(mockedValue) {\r\n    var tsmockitoInstance = mockedValue.__tsmockitoInstance;\r\n    return tsmockitoInstance;\r\n}\r\nexports.instance = instance;\r\nfunction capture(method) {\r\n    var methodStub = method();\r\n    if (methodStub instanceof MethodToStub_1.MethodToStub) {\r\n        var actions = methodStub.mocker.getActionsByName(methodStub.name);\r\n        return new ArgCaptor_1.ArgCaptor(actions);\r\n    }\r\n    else {\r\n        throw Error(\"Cannot capture from not mocked object.\");\r\n    }\r\n}\r\nexports.capture = capture;\r\nfunction reset() {\r\n    var mockedValues = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        mockedValues[_i] = arguments[_i];\r\n    }\r\n    mockedValues.forEach(function (mockedValue) { return mockedValue.__tsmockitoMocker.reset(); });\r\n}\r\nexports.reset = reset;\r\nfunction resetCalls() {\r\n    var mockedValues = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        mockedValues[_i] = arguments[_i];\r\n    }\r\n    mockedValues.forEach(function (mockedValue) { return mockedValue.__tsmockitoMocker.resetCalls(); });\r\n}\r\nexports.resetCalls = resetCalls;\r\nfunction anyOfClass(expectedClass) {\r\n    return new AnyOfClassMatcher_1.AnyOfClassMatcher(expectedClass);\r\n}\r\nexports.anyOfClass = anyOfClass;\r\nfunction anyFunction() {\r\n    return new AnyFunctionMatcher_1.AnyFunctionMatcher();\r\n}\r\nexports.anyFunction = anyFunction;\r\nfunction anyNumber() {\r\n    return new AnyNumberMatcher_1.AnyNumberMatcher();\r\n}\r\nexports.anyNumber = anyNumber;\r\nfunction anyString() {\r\n    return new AnyStringMatcher_1.AnyStringMatcher();\r\n}\r\nexports.anyString = anyString;\r\nfunction anything() {\r\n    return new AnythingMatcher_1.AnythingMatcher();\r\n}\r\nexports.anything = anything;\r\nfunction between(min, max) {\r\n    return new BetweenMatcher_1.BetweenMatcher(min, max);\r\n}\r\nexports.between = between;\r\nfunction deepEqual(expectedValue) {\r\n    return new DeepEqualMatcher_1.DeepEqualMatcher(expectedValue);\r\n}\r\nexports.deepEqual = deepEqual;\r\nfunction notNull() {\r\n    return new NotNullMatcher_1.NotNullMatcher();\r\n}\r\nexports.notNull = notNull;\r\nfunction strictEqual(expectedValue) {\r\n    return new StrictEqualMatcher_1.StrictEqualMatcher(expectedValue);\r\n}\r\nexports.strictEqual = strictEqual;\r\nfunction match(expectedValue) {\r\n    return new MatchingStringMatcher_1.MatchingStringMatcher(expectedValue);\r\n}\r\nexports.match = match;\r\nfunction objectContaining(expectedValue) {\r\n    return new ObjectContainingMatcher_1.ObjectContainingMatcher(expectedValue);\r\n}\r\nexports.objectContaining = objectContaining;\r\nexports.default = {\r\n    spy: spy,\r\n    mock: mock,\r\n    verify: verify,\r\n    when: when,\r\n    instance: instance,\r\n    capture: capture,\r\n    reset: reset,\r\n    resetCalls: resetCalls,\r\n    anyOfClass: anyOfClass,\r\n    anyFunction: anyFunction,\r\n    anyNumber: anyNumber,\r\n    anyString: anyString,\r\n    anything: anything,\r\n    between: between,\r\n    deepEqual: deepEqual,\r\n    notNull: notNull,\r\n    strictEqual: strictEqual,\r\n    match: match,\r\n    objectContaining: objectContaining,\r\n};\r\n//# sourceMappingURL=ts-mockito.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar MethodCallToStringConverter = (function () {\r\n    function MethodCallToStringConverter() {\r\n    }\r\n    MethodCallToStringConverter.prototype.convert = function (method) {\r\n        var stringifiedMatchers = method.matchers.map(function (matcher) { return matcher.toString(); }).join(\", \");\r\n        return method.name + \"(\" + stringifiedMatchers + \")\\\" \";\r\n    };\r\n    return MethodCallToStringConverter;\r\n}());\r\nexports.MethodCallToStringConverter = MethodCallToStringConverter;\r\n//# sourceMappingURL=MethodCallToStringConverter.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar MockableFunctionsFinder = (function () {\r\n    function MockableFunctionsFinder() {\r\n        this.functionNameRegex = /[.\\s]([^.\\s]+?)(?:\\(|\\s+=\\s+(?:function\\s*(?:[^.\\s]+?\\s*)?)?\\()/g;\r\n        this.cleanFunctionNameRegex = /^[.\\s]([^.\\s]+?)[\\s(]/;\r\n        this.excludedFunctionNames = [\"hasOwnProperty\", \"function\"];\r\n    }\r\n    MockableFunctionsFinder.prototype.find = function (code) {\r\n        var _this = this;\r\n        return (code.match(this.functionNameRegex) || [])\r\n            .map(function (match) { return match.match(_this.cleanFunctionNameRegex)[1]; })\r\n            .filter(function (functionName) { return _this.isMockable(functionName); });\r\n    };\r\n    MockableFunctionsFinder.prototype.isMockable = function (name) {\r\n        return this.excludedFunctionNames.indexOf(name) < 0;\r\n    };\r\n    return MockableFunctionsFinder;\r\n}());\r\nexports.MockableFunctionsFinder = MockableFunctionsFinder;\r\n//# sourceMappingURL=MockableFunctionsFinder.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar _ = require(\"lodash\");\r\nvar ObjectInspector = (function () {\r\n    function ObjectInspector() {\r\n    }\r\n    ObjectInspector.prototype.getObjectPrototypes = function (prototype) {\r\n        var prototypes = [];\r\n        while (_.isObject(prototype) && (prototype !== Object.prototype && prototype !== Function.prototype)) {\r\n            prototypes.push(prototype);\r\n            prototype = Object.getPrototypeOf(prototype);\r\n        }\r\n        return prototypes;\r\n    };\r\n    ObjectInspector.prototype.getObjectOwnPropertyNames = function (object) {\r\n        return _.isObject(object) ? Object.getOwnPropertyNames(object) : [];\r\n    };\r\n    return ObjectInspector;\r\n}());\r\nexports.ObjectInspector = ObjectInspector;\r\n//# sourceMappingURL=ObjectInspector.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar ObjectPropertyCodeRetriever = (function () {\r\n    function ObjectPropertyCodeRetriever() {\r\n    }\r\n    ObjectPropertyCodeRetriever.prototype.get = function (object, propertyName) {\r\n        var descriptor = Object.getOwnPropertyDescriptor(object, propertyName);\r\n        if (!descriptor) {\r\n            return \"\";\r\n        }\r\n        var accessorsCodes = [];\r\n        if (descriptor.get) {\r\n            accessorsCodes.push(descriptor.get.toString());\r\n        }\r\n        if (descriptor.set) {\r\n            accessorsCodes.push(descriptor.set.toString());\r\n        }\r\n        return accessorsCodes.join(\" \") || String(object[propertyName]);\r\n    };\r\n    return ObjectPropertyCodeRetriever;\r\n}());\r\nexports.ObjectPropertyCodeRetriever = ObjectPropertyCodeRetriever;\r\n//# sourceMappingURL=ObjectPropertyCodeRetriever.js.map","/*---------------------------------------------------------\r\n * Copyright (C) Microsoft Corporation. All rights reserved.\r\n *--------------------------------------------------------*/\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nprocess.env['APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL'] = true;\r\nvar fs = require(\"fs\");\r\nvar os = require(\"os\");\r\nvar path = require(\"path\");\r\nvar vscode = require(\"vscode\");\r\nvar appInsights = require(\"applicationinsights\");\r\nvar TelemetryReporter = /** @class */ (function () {\r\n    // tslint:disable-next-line\r\n    function TelemetryReporter(extensionId, extensionVersion, key, firstParty) {\r\n        var _this = this;\r\n        this.extensionId = extensionId;\r\n        this.extensionVersion = extensionVersion;\r\n        this.firstParty = false;\r\n        this.userOptIn = false;\r\n        this.firstParty = !!firstParty;\r\n        var logFilePath = process.env['VSCODE_LOGS'] || '';\r\n        if (logFilePath && extensionId && process.env['VSCODE_LOG_LEVEL'] === 'trace') {\r\n            logFilePath = path.join(logFilePath, extensionId + \".txt\");\r\n            this.logStream = fs.createWriteStream(logFilePath, { flags: 'a', encoding: 'utf8', autoClose: true });\r\n        }\r\n        this.updateUserOptIn(key);\r\n        if (vscode.env.onDidChangeTelemetryEnabled !== undefined) {\r\n            this.optOutListener = vscode.env.onDidChangeTelemetryEnabled(function () { return _this.updateUserOptIn(key); });\r\n        }\r\n        else {\r\n            this.optOutListener = vscode.workspace.onDidChangeConfiguration(function () { return _this.updateUserOptIn(key); });\r\n        }\r\n    }\r\n    TelemetryReporter.prototype.updateUserOptIn = function (key) {\r\n        // Newer versions of vscode api have telemetry enablement exposed, but fallback to setting for older versions\r\n        var config = vscode.workspace.getConfiguration(TelemetryReporter.TELEMETRY_CONFIG_ID);\r\n        var newOptInValue = vscode.env.isTelemetryEnabled === undefined ?\r\n            config.get(TelemetryReporter.TELEMETRY_CONFIG_ENABLED_ID, true) :\r\n            vscode.env.isTelemetryEnabled;\r\n        if (this.userOptIn !== newOptInValue) {\r\n            this.userOptIn = newOptInValue;\r\n            if (this.userOptIn) {\r\n                this.createAppInsightsClient(key);\r\n            }\r\n            else {\r\n                this.dispose();\r\n            }\r\n        }\r\n    };\r\n    TelemetryReporter.prototype.createAppInsightsClient = function (key) {\r\n        //check if another instance is already initialized\r\n        if (appInsights.defaultClient) {\r\n            this.appInsightsClient = new appInsights.TelemetryClient(key);\r\n            // no other way to enable offline mode\r\n            this.appInsightsClient.channel.setUseDiskRetryCaching(true);\r\n        }\r\n        else {\r\n            appInsights.setup(key)\r\n                .setAutoCollectRequests(false)\r\n                .setAutoCollectPerformance(false)\r\n                .setAutoCollectExceptions(false)\r\n                .setAutoCollectDependencies(false)\r\n                .setAutoDependencyCorrelation(false)\r\n                .setAutoCollectConsole(false)\r\n                .setUseDiskRetryCaching(true)\r\n                .start();\r\n            this.appInsightsClient = appInsights.defaultClient;\r\n        }\r\n        this.appInsightsClient.commonProperties = this.getCommonProperties();\r\n        if (vscode && vscode.env) {\r\n            this.appInsightsClient.context.tags[this.appInsightsClient.context.keys.userId] = vscode.env.machineId;\r\n            this.appInsightsClient.context.tags[this.appInsightsClient.context.keys.sessionId] = vscode.env.sessionId;\r\n        }\r\n        //check if it's an Asimov key to change the endpoint\r\n        if (key && key.indexOf('AIF-') === 0) {\r\n            this.appInsightsClient.config.endpointUrl = \"https://vortex.data.microsoft.com/collect/v1\";\r\n            this.firstParty = true;\r\n        }\r\n    };\r\n    // __GDPR__COMMON__ \"common.os\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" }\r\n    // __GDPR__COMMON__ \"common.platformversion\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" }\r\n    // __GDPR__COMMON__ \"common.extname\" : { \"classification\": \"PublicNonPersonalData\", \"purpose\": \"FeatureInsight\" }\r\n    // __GDPR__COMMON__ \"common.extversion\" : { \"classification\": \"PublicNonPersonalData\", \"purpose\": \"FeatureInsight\" }\r\n    // __GDPR__COMMON__ \"common.vscodemachineid\" : { \"endPoint\": \"MacAddressHash\", \"classification\": \"EndUserPseudonymizedInformation\", \"purpose\": \"FeatureInsight\" }\r\n    // __GDPR__COMMON__ \"common.vscodesessionid\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" }\r\n    // __GDPR__COMMON__ \"common.vscodeversion\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" }\r\n    // __GDPR__COMMON__ \"common.uikind\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" }\r\n    // __GDPR__COMMON__ \"common.remotename\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" }\r\n    // __GDPR__COMMON__ \"common.isnewappinstall\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" }\r\n    TelemetryReporter.prototype.getCommonProperties = function () {\r\n        var commonProperties = Object.create(null);\r\n        commonProperties['common.os'] = os.platform();\r\n        commonProperties['common.platformversion'] = (os.release() || '').replace(/^(\\d+)(\\.\\d+)?(\\.\\d+)?(.*)/, '$1$2$3');\r\n        commonProperties['common.extname'] = this.extensionId;\r\n        commonProperties['common.extversion'] = this.extensionVersion;\r\n        if (vscode && vscode.env) {\r\n            commonProperties['common.vscodemachineid'] = vscode.env.machineId;\r\n            commonProperties['common.vscodesessionid'] = vscode.env.sessionId;\r\n            commonProperties['common.vscodeversion'] = vscode.version;\r\n            commonProperties['common.isnewappinstall'] = vscode.env.isNewAppInstall;\r\n            switch (vscode.env.uiKind) {\r\n                case vscode.UIKind.Web:\r\n                    commonProperties['common.uikind'] = 'web';\r\n                    break;\r\n                case vscode.UIKind.Desktop:\r\n                    commonProperties['common.uikind'] = 'desktop';\r\n                    break;\r\n                default:\r\n                    commonProperties['common.uikind'] = 'unknown';\r\n            }\r\n            commonProperties['common.remotename'] = this.cleanRemoteName(vscode.env.remoteName);\r\n        }\r\n        return commonProperties;\r\n    };\r\n    TelemetryReporter.prototype.cleanRemoteName = function (remoteName) {\r\n        if (!remoteName) {\r\n            return 'none';\r\n        }\r\n        var ret = 'other';\r\n        // Allowed remote authorities\r\n        ['ssh-remote', 'dev-container', 'attached-container', 'wsl'].forEach(function (res) {\r\n            if (remoteName.indexOf(res + \"+\") === 0) {\r\n                ret = res;\r\n            }\r\n        });\r\n        return ret;\r\n    };\r\n    TelemetryReporter.prototype.shouldSendErrorTelemetry = function () {\r\n        if (this.firstParty) {\r\n            if (this.cleanRemoteName(vscode.env.remoteName) !== 'other') {\r\n                return true;\r\n            }\r\n            if (this.extension === undefined || this.extension.extensionKind === vscode.ExtensionKind.Workspace) {\r\n                return false;\r\n            }\r\n            if (vscode.env.uiKind === vscode.UIKind.Web) {\r\n                return false;\r\n            }\r\n            return true;\r\n        }\r\n        return true;\r\n    };\r\n    Object.defineProperty(TelemetryReporter.prototype, \"extension\", {\r\n        get: function () {\r\n            if (this._extension === undefined) {\r\n                this._extension = vscode.extensions.getExtension(this.extensionId);\r\n            }\r\n            return this._extension;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    TelemetryReporter.prototype.cloneAndChange = function (obj, change) {\r\n        if (obj === null || typeof obj !== 'object')\r\n            return obj;\r\n        if (typeof change !== 'function')\r\n            return obj;\r\n        var ret = {};\r\n        for (var key in obj) {\r\n            ret[key] = change(key, obj[key]);\r\n        }\r\n        return ret;\r\n    };\r\n    TelemetryReporter.prototype.anonymizeFilePaths = function (stack, anonymizeFilePaths) {\r\n        if (stack === undefined || stack === null) {\r\n            return '';\r\n        }\r\n        var cleanupPatterns = [new RegExp(vscode.env.appRoot.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&'), 'gi')];\r\n        if (this.extension) {\r\n            cleanupPatterns.push(new RegExp(this.extension.extensionPath.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&'), 'gi'));\r\n        }\r\n        var updatedStack = stack;\r\n        if (anonymizeFilePaths) {\r\n            var cleanUpIndexes = [];\r\n            for (var _i = 0, cleanupPatterns_1 = cleanupPatterns; _i < cleanupPatterns_1.length; _i++) {\r\n                var regexp = cleanupPatterns_1[_i];\r\n                while (true) {\r\n                    var result = regexp.exec(stack);\r\n                    if (!result) {\r\n                        break;\r\n                    }\r\n                    cleanUpIndexes.push([result.index, regexp.lastIndex]);\r\n                }\r\n            }\r\n            var nodeModulesRegex = /^[\\\\\\/]?(node_modules|node_modules\\.asar)[\\\\\\/]/;\r\n            var fileRegex = /(file:\\/\\/)?([a-zA-Z]:(\\\\\\\\|\\\\|\\/)|(\\\\\\\\|\\\\|\\/))?([\\w-\\._]+(\\\\\\\\|\\\\|\\/))+[\\w-\\._]*/g;\r\n            var lastIndex = 0;\r\n            updatedStack = '';\r\n            var _loop_1 = function () {\r\n                var result = fileRegex.exec(stack);\r\n                if (!result) {\r\n                    return \"break\";\r\n                }\r\n                // Anoynimize user file paths that do not need to be retained or cleaned up.\r\n                if (!nodeModulesRegex.test(result[0]) && cleanUpIndexes.every(function (_a) {\r\n                    var x = _a[0], y = _a[1];\r\n                    return result.index < x || result.index >= y;\r\n                })) {\r\n                    updatedStack += stack.substring(lastIndex, result.index) + '<REDACTED: user-file-path>';\r\n                    lastIndex = fileRegex.lastIndex;\r\n                }\r\n            };\r\n            while (true) {\r\n                var state_1 = _loop_1();\r\n                if (state_1 === \"break\")\r\n                    break;\r\n            }\r\n            if (lastIndex < stack.length) {\r\n                updatedStack += stack.substr(lastIndex);\r\n            }\r\n        }\r\n        // sanitize with configured cleanup patterns\r\n        for (var _a = 0, cleanupPatterns_2 = cleanupPatterns; _a < cleanupPatterns_2.length; _a++) {\r\n            var regexp = cleanupPatterns_2[_a];\r\n            updatedStack = updatedStack.replace(regexp, '');\r\n        }\r\n        return updatedStack;\r\n    };\r\n    TelemetryReporter.prototype.sendTelemetryEvent = function (eventName, properties, measurements) {\r\n        var _this = this;\r\n        if (this.userOptIn && eventName && this.appInsightsClient) {\r\n            var cleanProperties = this.cloneAndChange(properties, function (_key, prop) { return _this.anonymizeFilePaths(prop, _this.firstParty); });\r\n            this.appInsightsClient.trackEvent({\r\n                name: this.extensionId + \"/\" + eventName,\r\n                properties: cleanProperties,\r\n                measurements: measurements\r\n            });\r\n            if (this.logStream) {\r\n                this.logStream.write(\"telemetry/\" + eventName + \" \" + JSON.stringify({ properties: properties, measurements: measurements }) + \"\\n\");\r\n            }\r\n        }\r\n    };\r\n    TelemetryReporter.prototype.sendTelemetryErrorEvent = function (eventName, properties, measurements, errorProps) {\r\n        var _this = this;\r\n        if (this.userOptIn && eventName && this.appInsightsClient) {\r\n            // always clean the properties if first party\r\n            // do not send any error properties if we shouldn't send error telemetry\r\n            // if we have no errorProps, assume all are error props\r\n            var cleanProperties = this.cloneAndChange(properties, function (key, prop) {\r\n                if (_this.shouldSendErrorTelemetry()) {\r\n                    return _this.anonymizeFilePaths(prop, _this.firstParty);\r\n                }\r\n                if (errorProps === undefined || errorProps.indexOf(key) !== -1) {\r\n                    return 'REDACTED';\r\n                }\r\n                return _this.anonymizeFilePaths(prop, _this.firstParty);\r\n            });\r\n            this.appInsightsClient.trackEvent({\r\n                name: this.extensionId + \"/\" + eventName,\r\n                properties: cleanProperties,\r\n                measurements: measurements\r\n            });\r\n            if (this.logStream) {\r\n                this.logStream.write(\"telemetry/\" + eventName + \" \" + JSON.stringify({ properties: properties, measurements: measurements }) + \"\\n\");\r\n            }\r\n        }\r\n    };\r\n    TelemetryReporter.prototype.sendTelemetryException = function (error, properties, measurements) {\r\n        var _this = this;\r\n        if (this.shouldSendErrorTelemetry() && this.userOptIn && error && this.appInsightsClient) {\r\n            var cleanProperties = this.cloneAndChange(properties, function (_key, prop) { return _this.anonymizeFilePaths(prop, _this.firstParty); });\r\n            this.appInsightsClient.trackException({\r\n                exception: error,\r\n                properties: cleanProperties,\r\n                measurements: measurements\r\n            });\r\n            if (this.logStream) {\r\n                this.logStream.write(\"telemetry/\" + error.name + \" \" + error.message + \" \" + JSON.stringify({ properties: properties, measurements: measurements }) + \"\\n\");\r\n            }\r\n        }\r\n    };\r\n    TelemetryReporter.prototype.dispose = function () {\r\n        var _this = this;\r\n        this.optOutListener.dispose();\r\n        var flushEventsToLogger = new Promise(function (resolve) {\r\n            if (!_this.logStream) {\r\n                return resolve(void 0);\r\n            }\r\n            _this.logStream.on('finish', resolve);\r\n            _this.logStream.end();\r\n        });\r\n        var flushEventsToAI = new Promise(function (resolve) {\r\n            if (_this.appInsightsClient) {\r\n                _this.appInsightsClient.flush({\r\n                    callback: function () {\r\n                        // all data flushed\r\n                        _this.appInsightsClient = undefined;\r\n                        resolve(void 0);\r\n                    }\r\n                });\r\n            }\r\n            else {\r\n                resolve(void 0);\r\n            }\r\n        });\r\n        return Promise.all([flushEventsToAI, flushEventsToLogger]);\r\n    };\r\n    TelemetryReporter.TELEMETRY_CONFIG_ID = 'telemetry';\r\n    TelemetryReporter.TELEMETRY_CONFIG_ENABLED_ID = 'enableTelemetry';\r\n    return TelemetryReporter;\r\n}());\r\nexports.default = TelemetryReporter;\r\n//# sourceMappingURL=telemetryReporter.js.map","\"use strict\";\n\nvar conversions = {};\nmodule.exports = conversions;\n\nfunction sign(x) {\n    return x < 0 ? -1 : 1;\n}\n\nfunction evenRound(x) {\n    // Round x to the nearest integer, choosing the even integer if it lies halfway between two.\n    if ((x % 1) === 0.5 && (x & 1) === 0) { // [even number].5; round down (i.e. floor)\n        return Math.floor(x);\n    } else {\n        return Math.round(x);\n    }\n}\n\nfunction createNumberConversion(bitLength, typeOpts) {\n    if (!typeOpts.unsigned) {\n        --bitLength;\n    }\n    const lowerBound = typeOpts.unsigned ? 0 : -Math.pow(2, bitLength);\n    const upperBound = Math.pow(2, bitLength) - 1;\n\n    const moduloVal = typeOpts.moduloBitLength ? Math.pow(2, typeOpts.moduloBitLength) : Math.pow(2, bitLength);\n    const moduloBound = typeOpts.moduloBitLength ? Math.pow(2, typeOpts.moduloBitLength - 1) : Math.pow(2, bitLength - 1);\n\n    return function(V, opts) {\n        if (!opts) opts = {};\n\n        let x = +V;\n\n        if (opts.enforceRange) {\n            if (!Number.isFinite(x)) {\n                throw new TypeError(\"Argument is not a finite number\");\n            }\n\n            x = sign(x) * Math.floor(Math.abs(x));\n            if (x < lowerBound || x > upperBound) {\n                throw new TypeError(\"Argument is not in byte range\");\n            }\n\n            return x;\n        }\n\n        if (!isNaN(x) && opts.clamp) {\n            x = evenRound(x);\n\n            if (x < lowerBound) x = lowerBound;\n            if (x > upperBound) x = upperBound;\n            return x;\n        }\n\n        if (!Number.isFinite(x) || x === 0) {\n            return 0;\n        }\n\n        x = sign(x) * Math.floor(Math.abs(x));\n        x = x % moduloVal;\n\n        if (!typeOpts.unsigned && x >= moduloBound) {\n            return x - moduloVal;\n        } else if (typeOpts.unsigned) {\n            if (x < 0) {\n              x += moduloVal;\n            } else if (x === -0) { // don't return negative zero\n              return 0;\n            }\n        }\n\n        return x;\n    }\n}\n\nconversions[\"void\"] = function () {\n    return undefined;\n};\n\nconversions[\"boolean\"] = function (val) {\n    return !!val;\n};\n\nconversions[\"byte\"] = createNumberConversion(8, { unsigned: false });\nconversions[\"octet\"] = createNumberConversion(8, { unsigned: true });\n\nconversions[\"short\"] = createNumberConversion(16, { unsigned: false });\nconversions[\"unsigned short\"] = createNumberConversion(16, { unsigned: true });\n\nconversions[\"long\"] = createNumberConversion(32, { unsigned: false });\nconversions[\"unsigned long\"] = createNumberConversion(32, { unsigned: true });\n\nconversions[\"long long\"] = createNumberConversion(32, { unsigned: false, moduloBitLength: 64 });\nconversions[\"unsigned long long\"] = createNumberConversion(32, { unsigned: true, moduloBitLength: 64 });\n\nconversions[\"double\"] = function (V) {\n    const x = +V;\n\n    if (!Number.isFinite(x)) {\n        throw new TypeError(\"Argument is not a finite floating-point value\");\n    }\n\n    return x;\n};\n\nconversions[\"unrestricted double\"] = function (V) {\n    const x = +V;\n\n    if (isNaN(x)) {\n        throw new TypeError(\"Argument is NaN\");\n    }\n\n    return x;\n};\n\n// not quite valid, but good enough for JS\nconversions[\"float\"] = conversions[\"double\"];\nconversions[\"unrestricted float\"] = conversions[\"unrestricted double\"];\n\nconversions[\"DOMString\"] = function (V, opts) {\n    if (!opts) opts = {};\n\n    if (opts.treatNullAsEmptyString && V === null) {\n        return \"\";\n    }\n\n    return String(V);\n};\n\nconversions[\"ByteString\"] = function (V, opts) {\n    const x = String(V);\n    let c = undefined;\n    for (let i = 0; (c = x.codePointAt(i)) !== undefined; ++i) {\n        if (c > 255) {\n            throw new TypeError(\"Argument is not a valid bytestring\");\n        }\n    }\n\n    return x;\n};\n\nconversions[\"USVString\"] = function (V) {\n    const S = String(V);\n    const n = S.length;\n    const U = [];\n    for (let i = 0; i < n; ++i) {\n        const c = S.charCodeAt(i);\n        if (c < 0xD800 || c > 0xDFFF) {\n            U.push(String.fromCodePoint(c));\n        } else if (0xDC00 <= c && c <= 0xDFFF) {\n            U.push(String.fromCodePoint(0xFFFD));\n        } else {\n            if (i === n - 1) {\n                U.push(String.fromCodePoint(0xFFFD));\n            } else {\n                const d = S.charCodeAt(i + 1);\n                if (0xDC00 <= d && d <= 0xDFFF) {\n                    const a = c & 0x3FF;\n                    const b = d & 0x3FF;\n                    U.push(String.fromCodePoint((2 << 15) + (2 << 9) * a + b));\n                    ++i;\n                } else {\n                    U.push(String.fromCodePoint(0xFFFD));\n                }\n            }\n        }\n    }\n\n    return U.join('');\n};\n\nconversions[\"Date\"] = function (V, opts) {\n    if (!(V instanceof Date)) {\n        throw new TypeError(\"Argument is not a Date object\");\n    }\n    if (isNaN(V)) {\n        return undefined;\n    }\n\n    return V;\n};\n\nconversions[\"RegExp\"] = function (V, opts) {\n    if (!(V instanceof RegExp)) {\n        V = new RegExp(V);\n    }\n\n    return V;\n};\n","\"use strict\";\nconst usm = require(\"./url-state-machine\");\n\nexports.implementation = class URLImpl {\n  constructor(constructorArgs) {\n    const url = constructorArgs[0];\n    const base = constructorArgs[1];\n\n    let parsedBase = null;\n    if (base !== undefined) {\n      parsedBase = usm.basicURLParse(base);\n      if (parsedBase === \"failure\") {\n        throw new TypeError(\"Invalid base URL\");\n      }\n    }\n\n    const parsedURL = usm.basicURLParse(url, { baseURL: parsedBase });\n    if (parsedURL === \"failure\") {\n      throw new TypeError(\"Invalid URL\");\n    }\n\n    this._url = parsedURL;\n\n    // TODO: query stuff\n  }\n\n  get href() {\n    return usm.serializeURL(this._url);\n  }\n\n  set href(v) {\n    const parsedURL = usm.basicURLParse(v);\n    if (parsedURL === \"failure\") {\n      throw new TypeError(\"Invalid URL\");\n    }\n\n    this._url = parsedURL;\n  }\n\n  get origin() {\n    return usm.serializeURLOrigin(this._url);\n  }\n\n  get protocol() {\n    return this._url.scheme + \":\";\n  }\n\n  set protocol(v) {\n    usm.basicURLParse(v + \":\", { url: this._url, stateOverride: \"scheme start\" });\n  }\n\n  get username() {\n    return this._url.username;\n  }\n\n  set username(v) {\n    if (usm.cannotHaveAUsernamePasswordPort(this._url)) {\n      return;\n    }\n\n    usm.setTheUsername(this._url, v);\n  }\n\n  get password() {\n    return this._url.password;\n  }\n\n  set password(v) {\n    if (usm.cannotHaveAUsernamePasswordPort(this._url)) {\n      return;\n    }\n\n    usm.setThePassword(this._url, v);\n  }\n\n  get host() {\n    const url = this._url;\n\n    if (url.host === null) {\n      return \"\";\n    }\n\n    if (url.port === null) {\n      return usm.serializeHost(url.host);\n    }\n\n    return usm.serializeHost(url.host) + \":\" + usm.serializeInteger(url.port);\n  }\n\n  set host(v) {\n    if (this._url.cannotBeABaseURL) {\n      return;\n    }\n\n    usm.basicURLParse(v, { url: this._url, stateOverride: \"host\" });\n  }\n\n  get hostname() {\n    if (this._url.host === null) {\n      return \"\";\n    }\n\n    return usm.serializeHost(this._url.host);\n  }\n\n  set hostname(v) {\n    if (this._url.cannotBeABaseURL) {\n      return;\n    }\n\n    usm.basicURLParse(v, { url: this._url, stateOverride: \"hostname\" });\n  }\n\n  get port() {\n    if (this._url.port === null) {\n      return \"\";\n    }\n\n    return usm.serializeInteger(this._url.port);\n  }\n\n  set port(v) {\n    if (usm.cannotHaveAUsernamePasswordPort(this._url)) {\n      return;\n    }\n\n    if (v === \"\") {\n      this._url.port = null;\n    } else {\n      usm.basicURLParse(v, { url: this._url, stateOverride: \"port\" });\n    }\n  }\n\n  get pathname() {\n    if (this._url.cannotBeABaseURL) {\n      return this._url.path[0];\n    }\n\n    if (this._url.path.length === 0) {\n      return \"\";\n    }\n\n    return \"/\" + this._url.path.join(\"/\");\n  }\n\n  set pathname(v) {\n    if (this._url.cannotBeABaseURL) {\n      return;\n    }\n\n    this._url.path = [];\n    usm.basicURLParse(v, { url: this._url, stateOverride: \"path start\" });\n  }\n\n  get search() {\n    if (this._url.query === null || this._url.query === \"\") {\n      return \"\";\n    }\n\n    return \"?\" + this._url.query;\n  }\n\n  set search(v) {\n    // TODO: query stuff\n\n    const url = this._url;\n\n    if (v === \"\") {\n      url.query = null;\n      return;\n    }\n\n    const input = v[0] === \"?\" ? v.substring(1) : v;\n    url.query = \"\";\n    usm.basicURLParse(input, { url, stateOverride: \"query\" });\n  }\n\n  get hash() {\n    if (this._url.fragment === null || this._url.fragment === \"\") {\n      return \"\";\n    }\n\n    return \"#\" + this._url.fragment;\n  }\n\n  set hash(v) {\n    if (v === \"\") {\n      this._url.fragment = null;\n      return;\n    }\n\n    const input = v[0] === \"#\" ? v.substring(1) : v;\n    this._url.fragment = \"\";\n    usm.basicURLParse(input, { url: this._url, stateOverride: \"fragment\" });\n  }\n\n  toJSON() {\n    return this.href;\n  }\n};\n","\"use strict\";\n\nconst conversions = require(\"webidl-conversions\");\nconst utils = require(\"./utils.js\");\nconst Impl = require(\".//URL-impl.js\");\n\nconst impl = utils.implSymbol;\n\nfunction URL(url) {\n  if (!this || this[impl] || !(this instanceof URL)) {\n    throw new TypeError(\"Failed to construct 'URL': Please use the 'new' operator, this DOM object constructor cannot be called as a function.\");\n  }\n  if (arguments.length < 1) {\n    throw new TypeError(\"Failed to construct 'URL': 1 argument required, but only \" + arguments.length + \" present.\");\n  }\n  const args = [];\n  for (let i = 0; i < arguments.length && i < 2; ++i) {\n    args[i] = arguments[i];\n  }\n  args[0] = conversions[\"USVString\"](args[0]);\n  if (args[1] !== undefined) {\n  args[1] = conversions[\"USVString\"](args[1]);\n  }\n\n  module.exports.setup(this, args);\n}\n\nURL.prototype.toJSON = function toJSON() {\n  if (!this || !module.exports.is(this)) {\n    throw new TypeError(\"Illegal invocation\");\n  }\n  const args = [];\n  for (let i = 0; i < arguments.length && i < 0; ++i) {\n    args[i] = arguments[i];\n  }\n  return this[impl].toJSON.apply(this[impl], args);\n};\nObject.defineProperty(URL.prototype, \"href\", {\n  get() {\n    return this[impl].href;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].href = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nURL.prototype.toString = function () {\n  if (!this || !module.exports.is(this)) {\n    throw new TypeError(\"Illegal invocation\");\n  }\n  return this.href;\n};\n\nObject.defineProperty(URL.prototype, \"origin\", {\n  get() {\n    return this[impl].origin;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"protocol\", {\n  get() {\n    return this[impl].protocol;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].protocol = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"username\", {\n  get() {\n    return this[impl].username;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].username = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"password\", {\n  get() {\n    return this[impl].password;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].password = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"host\", {\n  get() {\n    return this[impl].host;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].host = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"hostname\", {\n  get() {\n    return this[impl].hostname;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].hostname = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"port\", {\n  get() {\n    return this[impl].port;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].port = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"pathname\", {\n  get() {\n    return this[impl].pathname;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].pathname = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"search\", {\n  get() {\n    return this[impl].search;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].search = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"hash\", {\n  get() {\n    return this[impl].hash;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].hash = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\n\nmodule.exports = {\n  is(obj) {\n    return !!obj && obj[impl] instanceof Impl.implementation;\n  },\n  create(constructorArgs, privateData) {\n    let obj = Object.create(URL.prototype);\n    this.setup(obj, constructorArgs, privateData);\n    return obj;\n  },\n  setup(obj, constructorArgs, privateData) {\n    if (!privateData) privateData = {};\n    privateData.wrapper = obj;\n\n    obj[impl] = new Impl.implementation(constructorArgs, privateData);\n    obj[impl][utils.wrapperSymbol] = obj;\n  },\n  interface: URL,\n  expose: {\n    Window: { URL: URL },\n    Worker: { URL: URL }\n  }\n};\n\n","\"use strict\";\n\nexports.URL = require(\"./URL\").interface;\nexports.serializeURL = require(\"./url-state-machine\").serializeURL;\nexports.serializeURLOrigin = require(\"./url-state-machine\").serializeURLOrigin;\nexports.basicURLParse = require(\"./url-state-machine\").basicURLParse;\nexports.setTheUsername = require(\"./url-state-machine\").setTheUsername;\nexports.setThePassword = require(\"./url-state-machine\").setThePassword;\nexports.serializeHost = require(\"./url-state-machine\").serializeHost;\nexports.serializeInteger = require(\"./url-state-machine\").serializeInteger;\nexports.parseURL = require(\"./url-state-machine\").parseURL;\n","\"use strict\";\r\nconst punycode = require(\"punycode\");\r\nconst tr46 = require(\"tr46\");\r\n\r\nconst specialSchemes = {\r\n  ftp: 21,\r\n  file: null,\r\n  gopher: 70,\r\n  http: 80,\r\n  https: 443,\r\n  ws: 80,\r\n  wss: 443\r\n};\r\n\r\nconst failure = Symbol(\"failure\");\r\n\r\nfunction countSymbols(str) {\r\n  return punycode.ucs2.decode(str).length;\r\n}\r\n\r\nfunction at(input, idx) {\r\n  const c = input[idx];\r\n  return isNaN(c) ? undefined : String.fromCodePoint(c);\r\n}\r\n\r\nfunction isASCIIDigit(c) {\r\n  return c >= 0x30 && c <= 0x39;\r\n}\r\n\r\nfunction isASCIIAlpha(c) {\r\n  return (c >= 0x41 && c <= 0x5A) || (c >= 0x61 && c <= 0x7A);\r\n}\r\n\r\nfunction isASCIIAlphanumeric(c) {\r\n  return isASCIIAlpha(c) || isASCIIDigit(c);\r\n}\r\n\r\nfunction isASCIIHex(c) {\r\n  return isASCIIDigit(c) || (c >= 0x41 && c <= 0x46) || (c >= 0x61 && c <= 0x66);\r\n}\r\n\r\nfunction isSingleDot(buffer) {\r\n  return buffer === \".\" || buffer.toLowerCase() === \"%2e\";\r\n}\r\n\r\nfunction isDoubleDot(buffer) {\r\n  buffer = buffer.toLowerCase();\r\n  return buffer === \"..\" || buffer === \"%2e.\" || buffer === \".%2e\" || buffer === \"%2e%2e\";\r\n}\r\n\r\nfunction isWindowsDriveLetterCodePoints(cp1, cp2) {\r\n  return isASCIIAlpha(cp1) && (cp2 === 58 || cp2 === 124);\r\n}\r\n\r\nfunction isWindowsDriveLetterString(string) {\r\n  return string.length === 2 && isASCIIAlpha(string.codePointAt(0)) && (string[1] === \":\" || string[1] === \"|\");\r\n}\r\n\r\nfunction isNormalizedWindowsDriveLetterString(string) {\r\n  return string.length === 2 && isASCIIAlpha(string.codePointAt(0)) && string[1] === \":\";\r\n}\r\n\r\nfunction containsForbiddenHostCodePoint(string) {\r\n  return string.search(/\\u0000|\\u0009|\\u000A|\\u000D|\\u0020|#|%|\\/|:|\\?|@|\\[|\\\\|\\]/) !== -1;\r\n}\r\n\r\nfunction containsForbiddenHostCodePointExcludingPercent(string) {\r\n  return string.search(/\\u0000|\\u0009|\\u000A|\\u000D|\\u0020|#|\\/|:|\\?|@|\\[|\\\\|\\]/) !== -1;\r\n}\r\n\r\nfunction isSpecialScheme(scheme) {\r\n  return specialSchemes[scheme] !== undefined;\r\n}\r\n\r\nfunction isSpecial(url) {\r\n  return isSpecialScheme(url.scheme);\r\n}\r\n\r\nfunction defaultPort(scheme) {\r\n  return specialSchemes[scheme];\r\n}\r\n\r\nfunction percentEncode(c) {\r\n  let hex = c.toString(16).toUpperCase();\r\n  if (hex.length === 1) {\r\n    hex = \"0\" + hex;\r\n  }\r\n\r\n  return \"%\" + hex;\r\n}\r\n\r\nfunction utf8PercentEncode(c) {\r\n  const buf = new Buffer(c);\r\n\r\n  let str = \"\";\r\n\r\n  for (let i = 0; i < buf.length; ++i) {\r\n    str += percentEncode(buf[i]);\r\n  }\r\n\r\n  return str;\r\n}\r\n\r\nfunction utf8PercentDecode(str) {\r\n  const input = new Buffer(str);\r\n  const output = [];\r\n  for (let i = 0; i < input.length; ++i) {\r\n    if (input[i] !== 37) {\r\n      output.push(input[i]);\r\n    } else if (input[i] === 37 && isASCIIHex(input[i + 1]) && isASCIIHex(input[i + 2])) {\r\n      output.push(parseInt(input.slice(i + 1, i + 3).toString(), 16));\r\n      i += 2;\r\n    } else {\r\n      output.push(input[i]);\r\n    }\r\n  }\r\n  return new Buffer(output).toString();\r\n}\r\n\r\nfunction isC0ControlPercentEncode(c) {\r\n  return c <= 0x1F || c > 0x7E;\r\n}\r\n\r\nconst extraPathPercentEncodeSet = new Set([32, 34, 35, 60, 62, 63, 96, 123, 125]);\r\nfunction isPathPercentEncode(c) {\r\n  return isC0ControlPercentEncode(c) || extraPathPercentEncodeSet.has(c);\r\n}\r\n\r\nconst extraUserinfoPercentEncodeSet =\r\n  new Set([47, 58, 59, 61, 64, 91, 92, 93, 94, 124]);\r\nfunction isUserinfoPercentEncode(c) {\r\n  return isPathPercentEncode(c) || extraUserinfoPercentEncodeSet.has(c);\r\n}\r\n\r\nfunction percentEncodeChar(c, encodeSetPredicate) {\r\n  const cStr = String.fromCodePoint(c);\r\n\r\n  if (encodeSetPredicate(c)) {\r\n    return utf8PercentEncode(cStr);\r\n  }\r\n\r\n  return cStr;\r\n}\r\n\r\nfunction parseIPv4Number(input) {\r\n  let R = 10;\r\n\r\n  if (input.length >= 2 && input.charAt(0) === \"0\" && input.charAt(1).toLowerCase() === \"x\") {\r\n    input = input.substring(2);\r\n    R = 16;\r\n  } else if (input.length >= 2 && input.charAt(0) === \"0\") {\r\n    input = input.substring(1);\r\n    R = 8;\r\n  }\r\n\r\n  if (input === \"\") {\r\n    return 0;\r\n  }\r\n\r\n  const regex = R === 10 ? /[^0-9]/ : (R === 16 ? /[^0-9A-Fa-f]/ : /[^0-7]/);\r\n  if (regex.test(input)) {\r\n    return failure;\r\n  }\r\n\r\n  return parseInt(input, R);\r\n}\r\n\r\nfunction parseIPv4(input) {\r\n  const parts = input.split(\".\");\r\n  if (parts[parts.length - 1] === \"\") {\r\n    if (parts.length > 1) {\r\n      parts.pop();\r\n    }\r\n  }\r\n\r\n  if (parts.length > 4) {\r\n    return input;\r\n  }\r\n\r\n  const numbers = [];\r\n  for (const part of parts) {\r\n    if (part === \"\") {\r\n      return input;\r\n    }\r\n    const n = parseIPv4Number(part);\r\n    if (n === failure) {\r\n      return input;\r\n    }\r\n\r\n    numbers.push(n);\r\n  }\r\n\r\n  for (let i = 0; i < numbers.length - 1; ++i) {\r\n    if (numbers[i] > 255) {\r\n      return failure;\r\n    }\r\n  }\r\n  if (numbers[numbers.length - 1] >= Math.pow(256, 5 - numbers.length)) {\r\n    return failure;\r\n  }\r\n\r\n  let ipv4 = numbers.pop();\r\n  let counter = 0;\r\n\r\n  for (const n of numbers) {\r\n    ipv4 += n * Math.pow(256, 3 - counter);\r\n    ++counter;\r\n  }\r\n\r\n  return ipv4;\r\n}\r\n\r\nfunction serializeIPv4(address) {\r\n  let output = \"\";\r\n  let n = address;\r\n\r\n  for (let i = 1; i <= 4; ++i) {\r\n    output = String(n % 256) + output;\r\n    if (i !== 4) {\r\n      output = \".\" + output;\r\n    }\r\n    n = Math.floor(n / 256);\r\n  }\r\n\r\n  return output;\r\n}\r\n\r\nfunction parseIPv6(input) {\r\n  const address = [0, 0, 0, 0, 0, 0, 0, 0];\r\n  let pieceIndex = 0;\r\n  let compress = null;\r\n  let pointer = 0;\r\n\r\n  input = punycode.ucs2.decode(input);\r\n\r\n  if (input[pointer] === 58) {\r\n    if (input[pointer + 1] !== 58) {\r\n      return failure;\r\n    }\r\n\r\n    pointer += 2;\r\n    ++pieceIndex;\r\n    compress = pieceIndex;\r\n  }\r\n\r\n  while (pointer < input.length) {\r\n    if (pieceIndex === 8) {\r\n      return failure;\r\n    }\r\n\r\n    if (input[pointer] === 58) {\r\n      if (compress !== null) {\r\n        return failure;\r\n      }\r\n      ++pointer;\r\n      ++pieceIndex;\r\n      compress = pieceIndex;\r\n      continue;\r\n    }\r\n\r\n    let value = 0;\r\n    let length = 0;\r\n\r\n    while (length < 4 && isASCIIHex(input[pointer])) {\r\n      value = value * 0x10 + parseInt(at(input, pointer), 16);\r\n      ++pointer;\r\n      ++length;\r\n    }\r\n\r\n    if (input[pointer] === 46) {\r\n      if (length === 0) {\r\n        return failure;\r\n      }\r\n\r\n      pointer -= length;\r\n\r\n      if (pieceIndex > 6) {\r\n        return failure;\r\n      }\r\n\r\n      let numbersSeen = 0;\r\n\r\n      while (input[pointer] !== undefined) {\r\n        let ipv4Piece = null;\r\n\r\n        if (numbersSeen > 0) {\r\n          if (input[pointer] === 46 && numbersSeen < 4) {\r\n            ++pointer;\r\n          } else {\r\n            return failure;\r\n          }\r\n        }\r\n\r\n        if (!isASCIIDigit(input[pointer])) {\r\n          return failure;\r\n        }\r\n\r\n        while (isASCIIDigit(input[pointer])) {\r\n          const number = parseInt(at(input, pointer));\r\n          if (ipv4Piece === null) {\r\n            ipv4Piece = number;\r\n          } else if (ipv4Piece === 0) {\r\n            return failure;\r\n          } else {\r\n            ipv4Piece = ipv4Piece * 10 + number;\r\n          }\r\n          if (ipv4Piece > 255) {\r\n            return failure;\r\n          }\r\n          ++pointer;\r\n        }\r\n\r\n        address[pieceIndex] = address[pieceIndex] * 0x100 + ipv4Piece;\r\n\r\n        ++numbersSeen;\r\n\r\n        if (numbersSeen === 2 || numbersSeen === 4) {\r\n          ++pieceIndex;\r\n        }\r\n      }\r\n\r\n      if (numbersSeen !== 4) {\r\n        return failure;\r\n      }\r\n\r\n      break;\r\n    } else if (input[pointer] === 58) {\r\n      ++pointer;\r\n      if (input[pointer] === undefined) {\r\n        return failure;\r\n      }\r\n    } else if (input[pointer] !== undefined) {\r\n      return failure;\r\n    }\r\n\r\n    address[pieceIndex] = value;\r\n    ++pieceIndex;\r\n  }\r\n\r\n  if (compress !== null) {\r\n    let swaps = pieceIndex - compress;\r\n    pieceIndex = 7;\r\n    while (pieceIndex !== 0 && swaps > 0) {\r\n      const temp = address[compress + swaps - 1];\r\n      address[compress + swaps - 1] = address[pieceIndex];\r\n      address[pieceIndex] = temp;\r\n      --pieceIndex;\r\n      --swaps;\r\n    }\r\n  } else if (compress === null && pieceIndex !== 8) {\r\n    return failure;\r\n  }\r\n\r\n  return address;\r\n}\r\n\r\nfunction serializeIPv6(address) {\r\n  let output = \"\";\r\n  const seqResult = findLongestZeroSequence(address);\r\n  const compress = seqResult.idx;\r\n  let ignore0 = false;\r\n\r\n  for (let pieceIndex = 0; pieceIndex <= 7; ++pieceIndex) {\r\n    if (ignore0 && address[pieceIndex] === 0) {\r\n      continue;\r\n    } else if (ignore0) {\r\n      ignore0 = false;\r\n    }\r\n\r\n    if (compress === pieceIndex) {\r\n      const separator = pieceIndex === 0 ? \"::\" : \":\";\r\n      output += separator;\r\n      ignore0 = true;\r\n      continue;\r\n    }\r\n\r\n    output += address[pieceIndex].toString(16);\r\n\r\n    if (pieceIndex !== 7) {\r\n      output += \":\";\r\n    }\r\n  }\r\n\r\n  return output;\r\n}\r\n\r\nfunction parseHost(input, isSpecialArg) {\r\n  if (input[0] === \"[\") {\r\n    if (input[input.length - 1] !== \"]\") {\r\n      return failure;\r\n    }\r\n\r\n    return parseIPv6(input.substring(1, input.length - 1));\r\n  }\r\n\r\n  if (!isSpecialArg) {\r\n    return parseOpaqueHost(input);\r\n  }\r\n\r\n  const domain = utf8PercentDecode(input);\r\n  const asciiDomain = tr46.toASCII(domain, false, tr46.PROCESSING_OPTIONS.NONTRANSITIONAL, false);\r\n  if (asciiDomain === null) {\r\n    return failure;\r\n  }\r\n\r\n  if (containsForbiddenHostCodePoint(asciiDomain)) {\r\n    return failure;\r\n  }\r\n\r\n  const ipv4Host = parseIPv4(asciiDomain);\r\n  if (typeof ipv4Host === \"number\" || ipv4Host === failure) {\r\n    return ipv4Host;\r\n  }\r\n\r\n  return asciiDomain;\r\n}\r\n\r\nfunction parseOpaqueHost(input) {\r\n  if (containsForbiddenHostCodePointExcludingPercent(input)) {\r\n    return failure;\r\n  }\r\n\r\n  let output = \"\";\r\n  const decoded = punycode.ucs2.decode(input);\r\n  for (let i = 0; i < decoded.length; ++i) {\r\n    output += percentEncodeChar(decoded[i], isC0ControlPercentEncode);\r\n  }\r\n  return output;\r\n}\r\n\r\nfunction findLongestZeroSequence(arr) {\r\n  let maxIdx = null;\r\n  let maxLen = 1; // only find elements > 1\r\n  let currStart = null;\r\n  let currLen = 0;\r\n\r\n  for (let i = 0; i < arr.length; ++i) {\r\n    if (arr[i] !== 0) {\r\n      if (currLen > maxLen) {\r\n        maxIdx = currStart;\r\n        maxLen = currLen;\r\n      }\r\n\r\n      currStart = null;\r\n      currLen = 0;\r\n    } else {\r\n      if (currStart === null) {\r\n        currStart = i;\r\n      }\r\n      ++currLen;\r\n    }\r\n  }\r\n\r\n  // if trailing zeros\r\n  if (currLen > maxLen) {\r\n    maxIdx = currStart;\r\n    maxLen = currLen;\r\n  }\r\n\r\n  return {\r\n    idx: maxIdx,\r\n    len: maxLen\r\n  };\r\n}\r\n\r\nfunction serializeHost(host) {\r\n  if (typeof host === \"number\") {\r\n    return serializeIPv4(host);\r\n  }\r\n\r\n  // IPv6 serializer\r\n  if (host instanceof Array) {\r\n    return \"[\" + serializeIPv6(host) + \"]\";\r\n  }\r\n\r\n  return host;\r\n}\r\n\r\nfunction trimControlChars(url) {\r\n  return url.replace(/^[\\u0000-\\u001F\\u0020]+|[\\u0000-\\u001F\\u0020]+$/g, \"\");\r\n}\r\n\r\nfunction trimTabAndNewline(url) {\r\n  return url.replace(/\\u0009|\\u000A|\\u000D/g, \"\");\r\n}\r\n\r\nfunction shortenPath(url) {\r\n  const path = url.path;\r\n  if (path.length === 0) {\r\n    return;\r\n  }\r\n  if (url.scheme === \"file\" && path.length === 1 && isNormalizedWindowsDriveLetter(path[0])) {\r\n    return;\r\n  }\r\n\r\n  path.pop();\r\n}\r\n\r\nfunction includesCredentials(url) {\r\n  return url.username !== \"\" || url.password !== \"\";\r\n}\r\n\r\nfunction cannotHaveAUsernamePasswordPort(url) {\r\n  return url.host === null || url.host === \"\" || url.cannotBeABaseURL || url.scheme === \"file\";\r\n}\r\n\r\nfunction isNormalizedWindowsDriveLetter(string) {\r\n  return /^[A-Za-z]:$/.test(string);\r\n}\r\n\r\nfunction URLStateMachine(input, base, encodingOverride, url, stateOverride) {\r\n  this.pointer = 0;\r\n  this.input = input;\r\n  this.base = base || null;\r\n  this.encodingOverride = encodingOverride || \"utf-8\";\r\n  this.stateOverride = stateOverride;\r\n  this.url = url;\r\n  this.failure = false;\r\n  this.parseError = false;\r\n\r\n  if (!this.url) {\r\n    this.url = {\r\n      scheme: \"\",\r\n      username: \"\",\r\n      password: \"\",\r\n      host: null,\r\n      port: null,\r\n      path: [],\r\n      query: null,\r\n      fragment: null,\r\n\r\n      cannotBeABaseURL: false\r\n    };\r\n\r\n    const res = trimControlChars(this.input);\r\n    if (res !== this.input) {\r\n      this.parseError = true;\r\n    }\r\n    this.input = res;\r\n  }\r\n\r\n  const res = trimTabAndNewline(this.input);\r\n  if (res !== this.input) {\r\n    this.parseError = true;\r\n  }\r\n  this.input = res;\r\n\r\n  this.state = stateOverride || \"scheme start\";\r\n\r\n  this.buffer = \"\";\r\n  this.atFlag = false;\r\n  this.arrFlag = false;\r\n  this.passwordTokenSeenFlag = false;\r\n\r\n  this.input = punycode.ucs2.decode(this.input);\r\n\r\n  for (; this.pointer <= this.input.length; ++this.pointer) {\r\n    const c = this.input[this.pointer];\r\n    const cStr = isNaN(c) ? undefined : String.fromCodePoint(c);\r\n\r\n    // exec state machine\r\n    const ret = this[\"parse \" + this.state](c, cStr);\r\n    if (!ret) {\r\n      break; // terminate algorithm\r\n    } else if (ret === failure) {\r\n      this.failure = true;\r\n      break;\r\n    }\r\n  }\r\n}\r\n\r\nURLStateMachine.prototype[\"parse scheme start\"] = function parseSchemeStart(c, cStr) {\r\n  if (isASCIIAlpha(c)) {\r\n    this.buffer += cStr.toLowerCase();\r\n    this.state = \"scheme\";\r\n  } else if (!this.stateOverride) {\r\n    this.state = \"no scheme\";\r\n    --this.pointer;\r\n  } else {\r\n    this.parseError = true;\r\n    return failure;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse scheme\"] = function parseScheme(c, cStr) {\r\n  if (isASCIIAlphanumeric(c) || c === 43 || c === 45 || c === 46) {\r\n    this.buffer += cStr.toLowerCase();\r\n  } else if (c === 58) {\r\n    if (this.stateOverride) {\r\n      if (isSpecial(this.url) && !isSpecialScheme(this.buffer)) {\r\n        return false;\r\n      }\r\n\r\n      if (!isSpecial(this.url) && isSpecialScheme(this.buffer)) {\r\n        return false;\r\n      }\r\n\r\n      if ((includesCredentials(this.url) || this.url.port !== null) && this.buffer === \"file\") {\r\n        return false;\r\n      }\r\n\r\n      if (this.url.scheme === \"file\" && (this.url.host === \"\" || this.url.host === null)) {\r\n        return false;\r\n      }\r\n    }\r\n    this.url.scheme = this.buffer;\r\n    this.buffer = \"\";\r\n    if (this.stateOverride) {\r\n      return false;\r\n    }\r\n    if (this.url.scheme === \"file\") {\r\n      if (this.input[this.pointer + 1] !== 47 || this.input[this.pointer + 2] !== 47) {\r\n        this.parseError = true;\r\n      }\r\n      this.state = \"file\";\r\n    } else if (isSpecial(this.url) && this.base !== null && this.base.scheme === this.url.scheme) {\r\n      this.state = \"special relative or authority\";\r\n    } else if (isSpecial(this.url)) {\r\n      this.state = \"special authority slashes\";\r\n    } else if (this.input[this.pointer + 1] === 47) {\r\n      this.state = \"path or authority\";\r\n      ++this.pointer;\r\n    } else {\r\n      this.url.cannotBeABaseURL = true;\r\n      this.url.path.push(\"\");\r\n      this.state = \"cannot-be-a-base-URL path\";\r\n    }\r\n  } else if (!this.stateOverride) {\r\n    this.buffer = \"\";\r\n    this.state = \"no scheme\";\r\n    this.pointer = -1;\r\n  } else {\r\n    this.parseError = true;\r\n    return failure;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse no scheme\"] = function parseNoScheme(c) {\r\n  if (this.base === null || (this.base.cannotBeABaseURL && c !== 35)) {\r\n    return failure;\r\n  } else if (this.base.cannotBeABaseURL && c === 35) {\r\n    this.url.scheme = this.base.scheme;\r\n    this.url.path = this.base.path.slice();\r\n    this.url.query = this.base.query;\r\n    this.url.fragment = \"\";\r\n    this.url.cannotBeABaseURL = true;\r\n    this.state = \"fragment\";\r\n  } else if (this.base.scheme === \"file\") {\r\n    this.state = \"file\";\r\n    --this.pointer;\r\n  } else {\r\n    this.state = \"relative\";\r\n    --this.pointer;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse special relative or authority\"] = function parseSpecialRelativeOrAuthority(c) {\r\n  if (c === 47 && this.input[this.pointer + 1] === 47) {\r\n    this.state = \"special authority ignore slashes\";\r\n    ++this.pointer;\r\n  } else {\r\n    this.parseError = true;\r\n    this.state = \"relative\";\r\n    --this.pointer;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse path or authority\"] = function parsePathOrAuthority(c) {\r\n  if (c === 47) {\r\n    this.state = \"authority\";\r\n  } else {\r\n    this.state = \"path\";\r\n    --this.pointer;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse relative\"] = function parseRelative(c) {\r\n  this.url.scheme = this.base.scheme;\r\n  if (isNaN(c)) {\r\n    this.url.username = this.base.username;\r\n    this.url.password = this.base.password;\r\n    this.url.host = this.base.host;\r\n    this.url.port = this.base.port;\r\n    this.url.path = this.base.path.slice();\r\n    this.url.query = this.base.query;\r\n  } else if (c === 47) {\r\n    this.state = \"relative slash\";\r\n  } else if (c === 63) {\r\n    this.url.username = this.base.username;\r\n    this.url.password = this.base.password;\r\n    this.url.host = this.base.host;\r\n    this.url.port = this.base.port;\r\n    this.url.path = this.base.path.slice();\r\n    this.url.query = \"\";\r\n    this.state = \"query\";\r\n  } else if (c === 35) {\r\n    this.url.username = this.base.username;\r\n    this.url.password = this.base.password;\r\n    this.url.host = this.base.host;\r\n    this.url.port = this.base.port;\r\n    this.url.path = this.base.path.slice();\r\n    this.url.query = this.base.query;\r\n    this.url.fragment = \"\";\r\n    this.state = \"fragment\";\r\n  } else if (isSpecial(this.url) && c === 92) {\r\n    this.parseError = true;\r\n    this.state = \"relative slash\";\r\n  } else {\r\n    this.url.username = this.base.username;\r\n    this.url.password = this.base.password;\r\n    this.url.host = this.base.host;\r\n    this.url.port = this.base.port;\r\n    this.url.path = this.base.path.slice(0, this.base.path.length - 1);\r\n\r\n    this.state = \"path\";\r\n    --this.pointer;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse relative slash\"] = function parseRelativeSlash(c) {\r\n  if (isSpecial(this.url) && (c === 47 || c === 92)) {\r\n    if (c === 92) {\r\n      this.parseError = true;\r\n    }\r\n    this.state = \"special authority ignore slashes\";\r\n  } else if (c === 47) {\r\n    this.state = \"authority\";\r\n  } else {\r\n    this.url.username = this.base.username;\r\n    this.url.password = this.base.password;\r\n    this.url.host = this.base.host;\r\n    this.url.port = this.base.port;\r\n    this.state = \"path\";\r\n    --this.pointer;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse special authority slashes\"] = function parseSpecialAuthoritySlashes(c) {\r\n  if (c === 47 && this.input[this.pointer + 1] === 47) {\r\n    this.state = \"special authority ignore slashes\";\r\n    ++this.pointer;\r\n  } else {\r\n    this.parseError = true;\r\n    this.state = \"special authority ignore slashes\";\r\n    --this.pointer;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse special authority ignore slashes\"] = function parseSpecialAuthorityIgnoreSlashes(c) {\r\n  if (c !== 47 && c !== 92) {\r\n    this.state = \"authority\";\r\n    --this.pointer;\r\n  } else {\r\n    this.parseError = true;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse authority\"] = function parseAuthority(c, cStr) {\r\n  if (c === 64) {\r\n    this.parseError = true;\r\n    if (this.atFlag) {\r\n      this.buffer = \"%40\" + this.buffer;\r\n    }\r\n    this.atFlag = true;\r\n\r\n    // careful, this is based on buffer and has its own pointer (this.pointer != pointer) and inner chars\r\n    const len = countSymbols(this.buffer);\r\n    for (let pointer = 0; pointer < len; ++pointer) {\r\n      const codePoint = this.buffer.codePointAt(pointer);\r\n\r\n      if (codePoint === 58 && !this.passwordTokenSeenFlag) {\r\n        this.passwordTokenSeenFlag = true;\r\n        continue;\r\n      }\r\n      const encodedCodePoints = percentEncodeChar(codePoint, isUserinfoPercentEncode);\r\n      if (this.passwordTokenSeenFlag) {\r\n        this.url.password += encodedCodePoints;\r\n      } else {\r\n        this.url.username += encodedCodePoints;\r\n      }\r\n    }\r\n    this.buffer = \"\";\r\n  } else if (isNaN(c) || c === 47 || c === 63 || c === 35 ||\r\n             (isSpecial(this.url) && c === 92)) {\r\n    if (this.atFlag && this.buffer === \"\") {\r\n      this.parseError = true;\r\n      return failure;\r\n    }\r\n    this.pointer -= countSymbols(this.buffer) + 1;\r\n    this.buffer = \"\";\r\n    this.state = \"host\";\r\n  } else {\r\n    this.buffer += cStr;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse hostname\"] =\r\nURLStateMachine.prototype[\"parse host\"] = function parseHostName(c, cStr) {\r\n  if (this.stateOverride && this.url.scheme === \"file\") {\r\n    --this.pointer;\r\n    this.state = \"file host\";\r\n  } else if (c === 58 && !this.arrFlag) {\r\n    if (this.buffer === \"\") {\r\n      this.parseError = true;\r\n      return failure;\r\n    }\r\n\r\n    const host = parseHost(this.buffer, isSpecial(this.url));\r\n    if (host === failure) {\r\n      return failure;\r\n    }\r\n\r\n    this.url.host = host;\r\n    this.buffer = \"\";\r\n    this.state = \"port\";\r\n    if (this.stateOverride === \"hostname\") {\r\n      return false;\r\n    }\r\n  } else if (isNaN(c) || c === 47 || c === 63 || c === 35 ||\r\n             (isSpecial(this.url) && c === 92)) {\r\n    --this.pointer;\r\n    if (isSpecial(this.url) && this.buffer === \"\") {\r\n      this.parseError = true;\r\n      return failure;\r\n    } else if (this.stateOverride && this.buffer === \"\" &&\r\n               (includesCredentials(this.url) || this.url.port !== null)) {\r\n      this.parseError = true;\r\n      return false;\r\n    }\r\n\r\n    const host = parseHost(this.buffer, isSpecial(this.url));\r\n    if (host === failure) {\r\n      return failure;\r\n    }\r\n\r\n    this.url.host = host;\r\n    this.buffer = \"\";\r\n    this.state = \"path start\";\r\n    if (this.stateOverride) {\r\n      return false;\r\n    }\r\n  } else {\r\n    if (c === 91) {\r\n      this.arrFlag = true;\r\n    } else if (c === 93) {\r\n      this.arrFlag = false;\r\n    }\r\n    this.buffer += cStr;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse port\"] = function parsePort(c, cStr) {\r\n  if (isASCIIDigit(c)) {\r\n    this.buffer += cStr;\r\n  } else if (isNaN(c) || c === 47 || c === 63 || c === 35 ||\r\n             (isSpecial(this.url) && c === 92) ||\r\n             this.stateOverride) {\r\n    if (this.buffer !== \"\") {\r\n      const port = parseInt(this.buffer);\r\n      if (port > Math.pow(2, 16) - 1) {\r\n        this.parseError = true;\r\n        return failure;\r\n      }\r\n      this.url.port = port === defaultPort(this.url.scheme) ? null : port;\r\n      this.buffer = \"\";\r\n    }\r\n    if (this.stateOverride) {\r\n      return false;\r\n    }\r\n    this.state = \"path start\";\r\n    --this.pointer;\r\n  } else {\r\n    this.parseError = true;\r\n    return failure;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nconst fileOtherwiseCodePoints = new Set([47, 92, 63, 35]);\r\n\r\nURLStateMachine.prototype[\"parse file\"] = function parseFile(c) {\r\n  this.url.scheme = \"file\";\r\n\r\n  if (c === 47 || c === 92) {\r\n    if (c === 92) {\r\n      this.parseError = true;\r\n    }\r\n    this.state = \"file slash\";\r\n  } else if (this.base !== null && this.base.scheme === \"file\") {\r\n    if (isNaN(c)) {\r\n      this.url.host = this.base.host;\r\n      this.url.path = this.base.path.slice();\r\n      this.url.query = this.base.query;\r\n    } else if (c === 63) {\r\n      this.url.host = this.base.host;\r\n      this.url.path = this.base.path.slice();\r\n      this.url.query = \"\";\r\n      this.state = \"query\";\r\n    } else if (c === 35) {\r\n      this.url.host = this.base.host;\r\n      this.url.path = this.base.path.slice();\r\n      this.url.query = this.base.query;\r\n      this.url.fragment = \"\";\r\n      this.state = \"fragment\";\r\n    } else {\r\n      if (this.input.length - this.pointer - 1 === 0 || // remaining consists of 0 code points\r\n          !isWindowsDriveLetterCodePoints(c, this.input[this.pointer + 1]) ||\r\n          (this.input.length - this.pointer - 1 >= 2 && // remaining has at least 2 code points\r\n           !fileOtherwiseCodePoints.has(this.input[this.pointer + 2]))) {\r\n        this.url.host = this.base.host;\r\n        this.url.path = this.base.path.slice();\r\n        shortenPath(this.url);\r\n      } else {\r\n        this.parseError = true;\r\n      }\r\n\r\n      this.state = \"path\";\r\n      --this.pointer;\r\n    }\r\n  } else {\r\n    this.state = \"path\";\r\n    --this.pointer;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse file slash\"] = function parseFileSlash(c) {\r\n  if (c === 47 || c === 92) {\r\n    if (c === 92) {\r\n      this.parseError = true;\r\n    }\r\n    this.state = \"file host\";\r\n  } else {\r\n    if (this.base !== null && this.base.scheme === \"file\") {\r\n      if (isNormalizedWindowsDriveLetterString(this.base.path[0])) {\r\n        this.url.path.push(this.base.path[0]);\r\n      } else {\r\n        this.url.host = this.base.host;\r\n      }\r\n    }\r\n    this.state = \"path\";\r\n    --this.pointer;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse file host\"] = function parseFileHost(c, cStr) {\r\n  if (isNaN(c) || c === 47 || c === 92 || c === 63 || c === 35) {\r\n    --this.pointer;\r\n    if (!this.stateOverride && isWindowsDriveLetterString(this.buffer)) {\r\n      this.parseError = true;\r\n      this.state = \"path\";\r\n    } else if (this.buffer === \"\") {\r\n      this.url.host = \"\";\r\n      if (this.stateOverride) {\r\n        return false;\r\n      }\r\n      this.state = \"path start\";\r\n    } else {\r\n      let host = parseHost(this.buffer, isSpecial(this.url));\r\n      if (host === failure) {\r\n        return failure;\r\n      }\r\n      if (host === \"localhost\") {\r\n        host = \"\";\r\n      }\r\n      this.url.host = host;\r\n\r\n      if (this.stateOverride) {\r\n        return false;\r\n      }\r\n\r\n      this.buffer = \"\";\r\n      this.state = \"path start\";\r\n    }\r\n  } else {\r\n    this.buffer += cStr;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse path start\"] = function parsePathStart(c) {\r\n  if (isSpecial(this.url)) {\r\n    if (c === 92) {\r\n      this.parseError = true;\r\n    }\r\n    this.state = \"path\";\r\n\r\n    if (c !== 47 && c !== 92) {\r\n      --this.pointer;\r\n    }\r\n  } else if (!this.stateOverride && c === 63) {\r\n    this.url.query = \"\";\r\n    this.state = \"query\";\r\n  } else if (!this.stateOverride && c === 35) {\r\n    this.url.fragment = \"\";\r\n    this.state = \"fragment\";\r\n  } else if (c !== undefined) {\r\n    this.state = \"path\";\r\n    if (c !== 47) {\r\n      --this.pointer;\r\n    }\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse path\"] = function parsePath(c) {\r\n  if (isNaN(c) || c === 47 || (isSpecial(this.url) && c === 92) ||\r\n      (!this.stateOverride && (c === 63 || c === 35))) {\r\n    if (isSpecial(this.url) && c === 92) {\r\n      this.parseError = true;\r\n    }\r\n\r\n    if (isDoubleDot(this.buffer)) {\r\n      shortenPath(this.url);\r\n      if (c !== 47 && !(isSpecial(this.url) && c === 92)) {\r\n        this.url.path.push(\"\");\r\n      }\r\n    } else if (isSingleDot(this.buffer) && c !== 47 &&\r\n               !(isSpecial(this.url) && c === 92)) {\r\n      this.url.path.push(\"\");\r\n    } else if (!isSingleDot(this.buffer)) {\r\n      if (this.url.scheme === \"file\" && this.url.path.length === 0 && isWindowsDriveLetterString(this.buffer)) {\r\n        if (this.url.host !== \"\" && this.url.host !== null) {\r\n          this.parseError = true;\r\n          this.url.host = \"\";\r\n        }\r\n        this.buffer = this.buffer[0] + \":\";\r\n      }\r\n      this.url.path.push(this.buffer);\r\n    }\r\n    this.buffer = \"\";\r\n    if (this.url.scheme === \"file\" && (c === undefined || c === 63 || c === 35)) {\r\n      while (this.url.path.length > 1 && this.url.path[0] === \"\") {\r\n        this.parseError = true;\r\n        this.url.path.shift();\r\n      }\r\n    }\r\n    if (c === 63) {\r\n      this.url.query = \"\";\r\n      this.state = \"query\";\r\n    }\r\n    if (c === 35) {\r\n      this.url.fragment = \"\";\r\n      this.state = \"fragment\";\r\n    }\r\n  } else {\r\n    // TODO: If c is not a URL code point and not \"%\", parse error.\r\n\r\n    if (c === 37 &&\r\n      (!isASCIIHex(this.input[this.pointer + 1]) ||\r\n        !isASCIIHex(this.input[this.pointer + 2]))) {\r\n      this.parseError = true;\r\n    }\r\n\r\n    this.buffer += percentEncodeChar(c, isPathPercentEncode);\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse cannot-be-a-base-URL path\"] = function parseCannotBeABaseURLPath(c) {\r\n  if (c === 63) {\r\n    this.url.query = \"\";\r\n    this.state = \"query\";\r\n  } else if (c === 35) {\r\n    this.url.fragment = \"\";\r\n    this.state = \"fragment\";\r\n  } else {\r\n    // TODO: Add: not a URL code point\r\n    if (!isNaN(c) && c !== 37) {\r\n      this.parseError = true;\r\n    }\r\n\r\n    if (c === 37 &&\r\n        (!isASCIIHex(this.input[this.pointer + 1]) ||\r\n         !isASCIIHex(this.input[this.pointer + 2]))) {\r\n      this.parseError = true;\r\n    }\r\n\r\n    if (!isNaN(c)) {\r\n      this.url.path[0] = this.url.path[0] + percentEncodeChar(c, isC0ControlPercentEncode);\r\n    }\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse query\"] = function parseQuery(c, cStr) {\r\n  if (isNaN(c) || (!this.stateOverride && c === 35)) {\r\n    if (!isSpecial(this.url) || this.url.scheme === \"ws\" || this.url.scheme === \"wss\") {\r\n      this.encodingOverride = \"utf-8\";\r\n    }\r\n\r\n    const buffer = new Buffer(this.buffer); // TODO: Use encoding override instead\r\n    for (let i = 0; i < buffer.length; ++i) {\r\n      if (buffer[i] < 0x21 || buffer[i] > 0x7E || buffer[i] === 0x22 || buffer[i] === 0x23 ||\r\n          buffer[i] === 0x3C || buffer[i] === 0x3E) {\r\n        this.url.query += percentEncode(buffer[i]);\r\n      } else {\r\n        this.url.query += String.fromCodePoint(buffer[i]);\r\n      }\r\n    }\r\n\r\n    this.buffer = \"\";\r\n    if (c === 35) {\r\n      this.url.fragment = \"\";\r\n      this.state = \"fragment\";\r\n    }\r\n  } else {\r\n    // TODO: If c is not a URL code point and not \"%\", parse error.\r\n    if (c === 37 &&\r\n      (!isASCIIHex(this.input[this.pointer + 1]) ||\r\n        !isASCIIHex(this.input[this.pointer + 2]))) {\r\n      this.parseError = true;\r\n    }\r\n\r\n    this.buffer += cStr;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse fragment\"] = function parseFragment(c) {\r\n  if (isNaN(c)) { // do nothing\r\n  } else if (c === 0x0) {\r\n    this.parseError = true;\r\n  } else {\r\n    // TODO: If c is not a URL code point and not \"%\", parse error.\r\n    if (c === 37 &&\r\n      (!isASCIIHex(this.input[this.pointer + 1]) ||\r\n        !isASCIIHex(this.input[this.pointer + 2]))) {\r\n      this.parseError = true;\r\n    }\r\n\r\n    this.url.fragment += percentEncodeChar(c, isC0ControlPercentEncode);\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nfunction serializeURL(url, excludeFragment) {\r\n  let output = url.scheme + \":\";\r\n  if (url.host !== null) {\r\n    output += \"//\";\r\n\r\n    if (url.username !== \"\" || url.password !== \"\") {\r\n      output += url.username;\r\n      if (url.password !== \"\") {\r\n        output += \":\" + url.password;\r\n      }\r\n      output += \"@\";\r\n    }\r\n\r\n    output += serializeHost(url.host);\r\n\r\n    if (url.port !== null) {\r\n      output += \":\" + url.port;\r\n    }\r\n  } else if (url.host === null && url.scheme === \"file\") {\r\n    output += \"//\";\r\n  }\r\n\r\n  if (url.cannotBeABaseURL) {\r\n    output += url.path[0];\r\n  } else {\r\n    for (const string of url.path) {\r\n      output += \"/\" + string;\r\n    }\r\n  }\r\n\r\n  if (url.query !== null) {\r\n    output += \"?\" + url.query;\r\n  }\r\n\r\n  if (!excludeFragment && url.fragment !== null) {\r\n    output += \"#\" + url.fragment;\r\n  }\r\n\r\n  return output;\r\n}\r\n\r\nfunction serializeOrigin(tuple) {\r\n  let result = tuple.scheme + \"://\";\r\n  result += serializeHost(tuple.host);\r\n\r\n  if (tuple.port !== null) {\r\n    result += \":\" + tuple.port;\r\n  }\r\n\r\n  return result;\r\n}\r\n\r\nmodule.exports.serializeURL = serializeURL;\r\n\r\nmodule.exports.serializeURLOrigin = function (url) {\r\n  // https://url.spec.whatwg.org/#concept-url-origin\r\n  switch (url.scheme) {\r\n    case \"blob\":\r\n      try {\r\n        return module.exports.serializeURLOrigin(module.exports.parseURL(url.path[0]));\r\n      } catch (e) {\r\n        // serializing an opaque origin returns \"null\"\r\n        return \"null\";\r\n      }\r\n    case \"ftp\":\r\n    case \"gopher\":\r\n    case \"http\":\r\n    case \"https\":\r\n    case \"ws\":\r\n    case \"wss\":\r\n      return serializeOrigin({\r\n        scheme: url.scheme,\r\n        host: url.host,\r\n        port: url.port\r\n      });\r\n    case \"file\":\r\n      // spec says \"exercise to the reader\", chrome says \"file://\"\r\n      return \"file://\";\r\n    default:\r\n      // serializing an opaque origin returns \"null\"\r\n      return \"null\";\r\n  }\r\n};\r\n\r\nmodule.exports.basicURLParse = function (input, options) {\r\n  if (options === undefined) {\r\n    options = {};\r\n  }\r\n\r\n  const usm = new URLStateMachine(input, options.baseURL, options.encodingOverride, options.url, options.stateOverride);\r\n  if (usm.failure) {\r\n    return \"failure\";\r\n  }\r\n\r\n  return usm.url;\r\n};\r\n\r\nmodule.exports.setTheUsername = function (url, username) {\r\n  url.username = \"\";\r\n  const decoded = punycode.ucs2.decode(username);\r\n  for (let i = 0; i < decoded.length; ++i) {\r\n    url.username += percentEncodeChar(decoded[i], isUserinfoPercentEncode);\r\n  }\r\n};\r\n\r\nmodule.exports.setThePassword = function (url, password) {\r\n  url.password = \"\";\r\n  const decoded = punycode.ucs2.decode(password);\r\n  for (let i = 0; i < decoded.length; ++i) {\r\n    url.password += percentEncodeChar(decoded[i], isUserinfoPercentEncode);\r\n  }\r\n};\r\n\r\nmodule.exports.serializeHost = serializeHost;\r\n\r\nmodule.exports.cannotHaveAUsernamePasswordPort = cannotHaveAUsernamePasswordPort;\r\n\r\nmodule.exports.serializeInteger = function (integer) {\r\n  return String(integer);\r\n};\r\n\r\nmodule.exports.parseURL = function (input, options) {\r\n  if (options === undefined) {\r\n    options = {};\r\n  }\r\n\r\n  // We don't handle blobs, so this just delegates:\r\n  return module.exports.basicURLParse(input, { baseURL: options.baseURL, encodingOverride: options.encodingOverride });\r\n};\r\n","\"use strict\";\n\nmodule.exports.mixin = function mixin(target, source) {\n  const keys = Object.getOwnPropertyNames(source);\n  for (let i = 0; i < keys.length; ++i) {\n    Object.defineProperty(target, keys[i], Object.getOwnPropertyDescriptor(source, keys[i]));\n  }\n};\n\nmodule.exports.wrapperSymbol = Symbol(\"wrapper\");\nmodule.exports.implSymbol = Symbol(\"impl\");\n\nmodule.exports.wrapperForImpl = function (impl) {\n  return impl[module.exports.wrapperSymbol];\n};\n\nmodule.exports.implForWrapper = function (wrapper) {\n  return wrapper[module.exports.implSymbol];\n};\n\n","// Returns a wrapper function that returns a wrapped callback\n// The wrapper function should do some stuff, and return a\n// presumably different callback function.\n// This makes sure that own properties are retained, so that\n// decorations and such are not lost along the way.\nmodule.exports = wrappy\nfunction wrappy (fn, cb) {\n  if (fn && cb) return wrappy(fn)(cb)\n\n  if (typeof fn !== 'function')\n    throw new TypeError('need wrapper function')\n\n  Object.keys(fn).forEach(function (k) {\n    wrapper[k] = fn[k]\n  })\n\n  return wrapper\n\n  function wrapper() {\n    var args = new Array(arguments.length)\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i]\n    }\n    var ret = fn.apply(this, args)\n    var cb = args[args.length-1]\n    if (typeof ret === 'function' && ret !== cb) {\n      Object.keys(cb).forEach(function (k) {\n        ret[k] = cb[k]\n      })\n    }\n    return ret\n  }\n}\n","'use strict'\nmodule.exports = function (Yallist) {\n  Yallist.prototype[Symbol.iterator] = function* () {\n    for (let walker = this.head; walker; walker = walker.next) {\n      yield walker.value\n    }\n  }\n}\n","'use strict'\nmodule.exports = Yallist\n\nYallist.Node = Node\nYallist.create = Yallist\n\nfunction Yallist (list) {\n  var self = this\n  if (!(self instanceof Yallist)) {\n    self = new Yallist()\n  }\n\n  self.tail = null\n  self.head = null\n  self.length = 0\n\n  if (list && typeof list.forEach === 'function') {\n    list.forEach(function (item) {\n      self.push(item)\n    })\n  } else if (arguments.length > 0) {\n    for (var i = 0, l = arguments.length; i < l; i++) {\n      self.push(arguments[i])\n    }\n  }\n\n  return self\n}\n\nYallist.prototype.removeNode = function (node) {\n  if (node.list !== this) {\n    throw new Error('removing node which does not belong to this list')\n  }\n\n  var next = node.next\n  var prev = node.prev\n\n  if (next) {\n    next.prev = prev\n  }\n\n  if (prev) {\n    prev.next = next\n  }\n\n  if (node === this.head) {\n    this.head = next\n  }\n  if (node === this.tail) {\n    this.tail = prev\n  }\n\n  node.list.length--\n  node.next = null\n  node.prev = null\n  node.list = null\n\n  return next\n}\n\nYallist.prototype.unshiftNode = function (node) {\n  if (node === this.head) {\n    return\n  }\n\n  if (node.list) {\n    node.list.removeNode(node)\n  }\n\n  var head = this.head\n  node.list = this\n  node.next = head\n  if (head) {\n    head.prev = node\n  }\n\n  this.head = node\n  if (!this.tail) {\n    this.tail = node\n  }\n  this.length++\n}\n\nYallist.prototype.pushNode = function (node) {\n  if (node === this.tail) {\n    return\n  }\n\n  if (node.list) {\n    node.list.removeNode(node)\n  }\n\n  var tail = this.tail\n  node.list = this\n  node.prev = tail\n  if (tail) {\n    tail.next = node\n  }\n\n  this.tail = node\n  if (!this.head) {\n    this.head = node\n  }\n  this.length++\n}\n\nYallist.prototype.push = function () {\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    push(this, arguments[i])\n  }\n  return this.length\n}\n\nYallist.prototype.unshift = function () {\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    unshift(this, arguments[i])\n  }\n  return this.length\n}\n\nYallist.prototype.pop = function () {\n  if (!this.tail) {\n    return undefined\n  }\n\n  var res = this.tail.value\n  this.tail = this.tail.prev\n  if (this.tail) {\n    this.tail.next = null\n  } else {\n    this.head = null\n  }\n  this.length--\n  return res\n}\n\nYallist.prototype.shift = function () {\n  if (!this.head) {\n    return undefined\n  }\n\n  var res = this.head.value\n  this.head = this.head.next\n  if (this.head) {\n    this.head.prev = null\n  } else {\n    this.tail = null\n  }\n  this.length--\n  return res\n}\n\nYallist.prototype.forEach = function (fn, thisp) {\n  thisp = thisp || this\n  for (var walker = this.head, i = 0; walker !== null; i++) {\n    fn.call(thisp, walker.value, i, this)\n    walker = walker.next\n  }\n}\n\nYallist.prototype.forEachReverse = function (fn, thisp) {\n  thisp = thisp || this\n  for (var walker = this.tail, i = this.length - 1; walker !== null; i--) {\n    fn.call(thisp, walker.value, i, this)\n    walker = walker.prev\n  }\n}\n\nYallist.prototype.get = function (n) {\n  for (var i = 0, walker = this.head; walker !== null && i < n; i++) {\n    // abort out of the list early if we hit a cycle\n    walker = walker.next\n  }\n  if (i === n && walker !== null) {\n    return walker.value\n  }\n}\n\nYallist.prototype.getReverse = function (n) {\n  for (var i = 0, walker = this.tail; walker !== null && i < n; i++) {\n    // abort out of the list early if we hit a cycle\n    walker = walker.prev\n  }\n  if (i === n && walker !== null) {\n    return walker.value\n  }\n}\n\nYallist.prototype.map = function (fn, thisp) {\n  thisp = thisp || this\n  var res = new Yallist()\n  for (var walker = this.head; walker !== null;) {\n    res.push(fn.call(thisp, walker.value, this))\n    walker = walker.next\n  }\n  return res\n}\n\nYallist.prototype.mapReverse = function (fn, thisp) {\n  thisp = thisp || this\n  var res = new Yallist()\n  for (var walker = this.tail; walker !== null;) {\n    res.push(fn.call(thisp, walker.value, this))\n    walker = walker.prev\n  }\n  return res\n}\n\nYallist.prototype.reduce = function (fn, initial) {\n  var acc\n  var walker = this.head\n  if (arguments.length > 1) {\n    acc = initial\n  } else if (this.head) {\n    walker = this.head.next\n    acc = this.head.value\n  } else {\n    throw new TypeError('Reduce of empty list with no initial value')\n  }\n\n  for (var i = 0; walker !== null; i++) {\n    acc = fn(acc, walker.value, i)\n    walker = walker.next\n  }\n\n  return acc\n}\n\nYallist.prototype.reduceReverse = function (fn, initial) {\n  var acc\n  var walker = this.tail\n  if (arguments.length > 1) {\n    acc = initial\n  } else if (this.tail) {\n    walker = this.tail.prev\n    acc = this.tail.value\n  } else {\n    throw new TypeError('Reduce of empty list with no initial value')\n  }\n\n  for (var i = this.length - 1; walker !== null; i--) {\n    acc = fn(acc, walker.value, i)\n    walker = walker.prev\n  }\n\n  return acc\n}\n\nYallist.prototype.toArray = function () {\n  var arr = new Array(this.length)\n  for (var i = 0, walker = this.head; walker !== null; i++) {\n    arr[i] = walker.value\n    walker = walker.next\n  }\n  return arr\n}\n\nYallist.prototype.toArrayReverse = function () {\n  var arr = new Array(this.length)\n  for (var i = 0, walker = this.tail; walker !== null; i++) {\n    arr[i] = walker.value\n    walker = walker.prev\n  }\n  return arr\n}\n\nYallist.prototype.slice = function (from, to) {\n  to = to || this.length\n  if (to < 0) {\n    to += this.length\n  }\n  from = from || 0\n  if (from < 0) {\n    from += this.length\n  }\n  var ret = new Yallist()\n  if (to < from || to < 0) {\n    return ret\n  }\n  if (from < 0) {\n    from = 0\n  }\n  if (to > this.length) {\n    to = this.length\n  }\n  for (var i = 0, walker = this.head; walker !== null && i < from; i++) {\n    walker = walker.next\n  }\n  for (; walker !== null && i < to; i++, walker = walker.next) {\n    ret.push(walker.value)\n  }\n  return ret\n}\n\nYallist.prototype.sliceReverse = function (from, to) {\n  to = to || this.length\n  if (to < 0) {\n    to += this.length\n  }\n  from = from || 0\n  if (from < 0) {\n    from += this.length\n  }\n  var ret = new Yallist()\n  if (to < from || to < 0) {\n    return ret\n  }\n  if (from < 0) {\n    from = 0\n  }\n  if (to > this.length) {\n    to = this.length\n  }\n  for (var i = this.length, walker = this.tail; walker !== null && i > to; i--) {\n    walker = walker.prev\n  }\n  for (; walker !== null && i > from; i--, walker = walker.prev) {\n    ret.push(walker.value)\n  }\n  return ret\n}\n\nYallist.prototype.splice = function (start, deleteCount, ...nodes) {\n  if (start > this.length) {\n    start = this.length - 1\n  }\n  if (start < 0) {\n    start = this.length + start;\n  }\n\n  for (var i = 0, walker = this.head; walker !== null && i < start; i++) {\n    walker = walker.next\n  }\n\n  var ret = []\n  for (var i = 0; walker && i < deleteCount; i++) {\n    ret.push(walker.value)\n    walker = this.removeNode(walker)\n  }\n  if (walker === null) {\n    walker = this.tail\n  }\n\n  if (walker !== this.head && walker !== this.tail) {\n    walker = walker.prev\n  }\n\n  for (var i = 0; i < nodes.length; i++) {\n    walker = insert(this, walker, nodes[i])\n  }\n  return ret;\n}\n\nYallist.prototype.reverse = function () {\n  var head = this.head\n  var tail = this.tail\n  for (var walker = head; walker !== null; walker = walker.prev) {\n    var p = walker.prev\n    walker.prev = walker.next\n    walker.next = p\n  }\n  this.head = tail\n  this.tail = head\n  return this\n}\n\nfunction insert (self, node, value) {\n  var inserted = node === self.head ?\n    new Node(value, null, node, self) :\n    new Node(value, node, node.next, self)\n\n  if (inserted.next === null) {\n    self.tail = inserted\n  }\n  if (inserted.prev === null) {\n    self.head = inserted\n  }\n\n  self.length++\n\n  return inserted\n}\n\nfunction push (self, item) {\n  self.tail = new Node(item, self.tail, null, self)\n  if (!self.head) {\n    self.head = self.tail\n  }\n  self.length++\n}\n\nfunction unshift (self, item) {\n  self.head = new Node(item, null, self.head, self)\n  if (!self.tail) {\n    self.tail = self.head\n  }\n  self.length++\n}\n\nfunction Node (value, prev, next, list) {\n  if (!(this instanceof Node)) {\n    return new Node(value, prev, next, list)\n  }\n\n  this.list = list\n  this.value = value\n\n  if (prev) {\n    prev.next = this\n    this.prev = prev\n  } else {\n    this.prev = null\n  }\n\n  if (next) {\n    next.prev = this\n    this.next = next\n  } else {\n    this.next = null\n  }\n}\n\ntry {\n  // add if support for Symbol.iterator is present\n  require('./iterator.js')(Yallist)\n} catch (er) {}\n","var fs = require(\"fs\");\nvar zlib = require(\"zlib\");\nvar fd_slicer = require(\"fd-slicer\");\nvar crc32 = require(\"buffer-crc32\");\nvar util = require(\"util\");\nvar EventEmitter = require(\"events\").EventEmitter;\nvar Transform = require(\"stream\").Transform;\nvar PassThrough = require(\"stream\").PassThrough;\nvar Writable = require(\"stream\").Writable;\n\nexports.open = open;\nexports.fromFd = fromFd;\nexports.fromBuffer = fromBuffer;\nexports.fromRandomAccessReader = fromRandomAccessReader;\nexports.dosDateTimeToDate = dosDateTimeToDate;\nexports.validateFileName = validateFileName;\nexports.ZipFile = ZipFile;\nexports.Entry = Entry;\nexports.RandomAccessReader = RandomAccessReader;\n\nfunction open(path, options, callback) {\n  if (typeof options === \"function\") {\n    callback = options;\n    options = null;\n  }\n  if (options == null) options = {};\n  if (options.autoClose == null) options.autoClose = true;\n  if (options.lazyEntries == null) options.lazyEntries = false;\n  if (options.decodeStrings == null) options.decodeStrings = true;\n  if (options.validateEntrySizes == null) options.validateEntrySizes = true;\n  if (options.strictFileNames == null) options.strictFileNames = false;\n  if (callback == null) callback = defaultCallback;\n  fs.open(path, \"r\", function(err, fd) {\n    if (err) return callback(err);\n    fromFd(fd, options, function(err, zipfile) {\n      if (err) fs.close(fd, defaultCallback);\n      callback(err, zipfile);\n    });\n  });\n}\n\nfunction fromFd(fd, options, callback) {\n  if (typeof options === \"function\") {\n    callback = options;\n    options = null;\n  }\n  if (options == null) options = {};\n  if (options.autoClose == null) options.autoClose = false;\n  if (options.lazyEntries == null) options.lazyEntries = false;\n  if (options.decodeStrings == null) options.decodeStrings = true;\n  if (options.validateEntrySizes == null) options.validateEntrySizes = true;\n  if (options.strictFileNames == null) options.strictFileNames = false;\n  if (callback == null) callback = defaultCallback;\n  fs.fstat(fd, function(err, stats) {\n    if (err) return callback(err);\n    var reader = fd_slicer.createFromFd(fd, {autoClose: true});\n    fromRandomAccessReader(reader, stats.size, options, callback);\n  });\n}\n\nfunction fromBuffer(buffer, options, callback) {\n  if (typeof options === \"function\") {\n    callback = options;\n    options = null;\n  }\n  if (options == null) options = {};\n  options.autoClose = false;\n  if (options.lazyEntries == null) options.lazyEntries = false;\n  if (options.decodeStrings == null) options.decodeStrings = true;\n  if (options.validateEntrySizes == null) options.validateEntrySizes = true;\n  if (options.strictFileNames == null) options.strictFileNames = false;\n  // limit the max chunk size. see https://github.com/thejoshwolfe/yauzl/issues/87\n  var reader = fd_slicer.createFromBuffer(buffer, {maxChunkSize: 0x10000});\n  fromRandomAccessReader(reader, buffer.length, options, callback);\n}\n\nfunction fromRandomAccessReader(reader, totalSize, options, callback) {\n  if (typeof options === \"function\") {\n    callback = options;\n    options = null;\n  }\n  if (options == null) options = {};\n  if (options.autoClose == null) options.autoClose = true;\n  if (options.lazyEntries == null) options.lazyEntries = false;\n  if (options.decodeStrings == null) options.decodeStrings = true;\n  var decodeStrings = !!options.decodeStrings;\n  if (options.validateEntrySizes == null) options.validateEntrySizes = true;\n  if (options.strictFileNames == null) options.strictFileNames = false;\n  if (callback == null) callback = defaultCallback;\n  if (typeof totalSize !== \"number\") throw new Error(\"expected totalSize parameter to be a number\");\n  if (totalSize > Number.MAX_SAFE_INTEGER) {\n    throw new Error(\"zip file too large. only file sizes up to 2^52 are supported due to JavaScript's Number type being an IEEE 754 double.\");\n  }\n\n  // the matching unref() call is in zipfile.close()\n  reader.ref();\n\n  // eocdr means End of Central Directory Record.\n  // search backwards for the eocdr signature.\n  // the last field of the eocdr is a variable-length comment.\n  // the comment size is encoded in a 2-byte field in the eocdr, which we can't find without trudging backwards through the comment to find it.\n  // as a consequence of this design decision, it's possible to have ambiguous zip file metadata if a coherent eocdr was in the comment.\n  // we search backwards for a eocdr signature, and hope that whoever made the zip file was smart enough to forbid the eocdr signature in the comment.\n  var eocdrWithoutCommentSize = 22;\n  var maxCommentSize = 0xffff; // 2-byte size\n  var bufferSize = Math.min(eocdrWithoutCommentSize + maxCommentSize, totalSize);\n  var buffer = newBuffer(bufferSize);\n  var bufferReadStart = totalSize - buffer.length;\n  readAndAssertNoEof(reader, buffer, 0, bufferSize, bufferReadStart, function(err) {\n    if (err) return callback(err);\n    for (var i = bufferSize - eocdrWithoutCommentSize; i >= 0; i -= 1) {\n      if (buffer.readUInt32LE(i) !== 0x06054b50) continue;\n      // found eocdr\n      var eocdrBuffer = buffer.slice(i);\n\n      // 0 - End of central directory signature = 0x06054b50\n      // 4 - Number of this disk\n      var diskNumber = eocdrBuffer.readUInt16LE(4);\n      if (diskNumber !== 0) {\n        return callback(new Error(\"multi-disk zip files are not supported: found disk number: \" + diskNumber));\n      }\n      // 6 - Disk where central directory starts\n      // 8 - Number of central directory records on this disk\n      // 10 - Total number of central directory records\n      var entryCount = eocdrBuffer.readUInt16LE(10);\n      // 12 - Size of central directory (bytes)\n      // 16 - Offset of start of central directory, relative to start of archive\n      var centralDirectoryOffset = eocdrBuffer.readUInt32LE(16);\n      // 20 - Comment length\n      var commentLength = eocdrBuffer.readUInt16LE(20);\n      var expectedCommentLength = eocdrBuffer.length - eocdrWithoutCommentSize;\n      if (commentLength !== expectedCommentLength) {\n        return callback(new Error(\"invalid comment length. expected: \" + expectedCommentLength + \". found: \" + commentLength));\n      }\n      // 22 - Comment\n      // the encoding is always cp437.\n      var comment = decodeStrings ? decodeBuffer(eocdrBuffer, 22, eocdrBuffer.length, false)\n                                  : eocdrBuffer.slice(22);\n\n      if (!(entryCount === 0xffff || centralDirectoryOffset === 0xffffffff)) {\n        return callback(null, new ZipFile(reader, centralDirectoryOffset, totalSize, entryCount, comment, options.autoClose, options.lazyEntries, decodeStrings, options.validateEntrySizes, options.strictFileNames));\n      }\n\n      // ZIP64 format\n\n      // ZIP64 Zip64 end of central directory locator\n      var zip64EocdlBuffer = newBuffer(20);\n      var zip64EocdlOffset = bufferReadStart + i - zip64EocdlBuffer.length;\n      readAndAssertNoEof(reader, zip64EocdlBuffer, 0, zip64EocdlBuffer.length, zip64EocdlOffset, function(err) {\n        if (err) return callback(err);\n\n        // 0 - zip64 end of central dir locator signature = 0x07064b50\n        if (zip64EocdlBuffer.readUInt32LE(0) !== 0x07064b50) {\n          return callback(new Error(\"invalid zip64 end of central directory locator signature\"));\n        }\n        // 4 - number of the disk with the start of the zip64 end of central directory\n        // 8 - relative offset of the zip64 end of central directory record\n        var zip64EocdrOffset = readUInt64LE(zip64EocdlBuffer, 8);\n        // 16 - total number of disks\n\n        // ZIP64 end of central directory record\n        var zip64EocdrBuffer = newBuffer(56);\n        readAndAssertNoEof(reader, zip64EocdrBuffer, 0, zip64EocdrBuffer.length, zip64EocdrOffset, function(err) {\n          if (err) return callback(err);\n\n          // 0 - zip64 end of central dir signature                           4 bytes  (0x06064b50)\n          if (zip64EocdrBuffer.readUInt32LE(0) !== 0x06064b50) {\n            return callback(new Error(\"invalid zip64 end of central directory record signature\"));\n          }\n          // 4 - size of zip64 end of central directory record                8 bytes\n          // 12 - version made by                                             2 bytes\n          // 14 - version needed to extract                                   2 bytes\n          // 16 - number of this disk                                         4 bytes\n          // 20 - number of the disk with the start of the central directory  4 bytes\n          // 24 - total number of entries in the central directory on this disk         8 bytes\n          // 32 - total number of entries in the central directory            8 bytes\n          entryCount = readUInt64LE(zip64EocdrBuffer, 32);\n          // 40 - size of the central directory                               8 bytes\n          // 48 - offset of start of central directory with respect to the starting disk number     8 bytes\n          centralDirectoryOffset = readUInt64LE(zip64EocdrBuffer, 48);\n          // 56 - zip64 extensible data sector                                (variable size)\n          return callback(null, new ZipFile(reader, centralDirectoryOffset, totalSize, entryCount, comment, options.autoClose, options.lazyEntries, decodeStrings, options.validateEntrySizes, options.strictFileNames));\n        });\n      });\n      return;\n    }\n    callback(new Error(\"end of central directory record signature not found\"));\n  });\n}\n\nutil.inherits(ZipFile, EventEmitter);\nfunction ZipFile(reader, centralDirectoryOffset, fileSize, entryCount, comment, autoClose, lazyEntries, decodeStrings, validateEntrySizes, strictFileNames) {\n  var self = this;\n  EventEmitter.call(self);\n  self.reader = reader;\n  // forward close events\n  self.reader.on(\"error\", function(err) {\n    // error closing the fd\n    emitError(self, err);\n  });\n  self.reader.once(\"close\", function() {\n    self.emit(\"close\");\n  });\n  self.readEntryCursor = centralDirectoryOffset;\n  self.fileSize = fileSize;\n  self.entryCount = entryCount;\n  self.comment = comment;\n  self.entriesRead = 0;\n  self.autoClose = !!autoClose;\n  self.lazyEntries = !!lazyEntries;\n  self.decodeStrings = !!decodeStrings;\n  self.validateEntrySizes = !!validateEntrySizes;\n  self.strictFileNames = !!strictFileNames;\n  self.isOpen = true;\n  self.emittedError = false;\n\n  if (!self.lazyEntries) self._readEntry();\n}\nZipFile.prototype.close = function() {\n  if (!this.isOpen) return;\n  this.isOpen = false;\n  this.reader.unref();\n};\n\nfunction emitErrorAndAutoClose(self, err) {\n  if (self.autoClose) self.close();\n  emitError(self, err);\n}\nfunction emitError(self, err) {\n  if (self.emittedError) return;\n  self.emittedError = true;\n  self.emit(\"error\", err);\n}\n\nZipFile.prototype.readEntry = function() {\n  if (!this.lazyEntries) throw new Error(\"readEntry() called without lazyEntries:true\");\n  this._readEntry();\n};\nZipFile.prototype._readEntry = function() {\n  var self = this;\n  if (self.entryCount === self.entriesRead) {\n    // done with metadata\n    setImmediate(function() {\n      if (self.autoClose) self.close();\n      if (self.emittedError) return;\n      self.emit(\"end\");\n    });\n    return;\n  }\n  if (self.emittedError) return;\n  var buffer = newBuffer(46);\n  readAndAssertNoEof(self.reader, buffer, 0, buffer.length, self.readEntryCursor, function(err) {\n    if (err) return emitErrorAndAutoClose(self, err);\n    if (self.emittedError) return;\n    var entry = new Entry();\n    // 0 - Central directory file header signature\n    var signature = buffer.readUInt32LE(0);\n    if (signature !== 0x02014b50) return emitErrorAndAutoClose(self, new Error(\"invalid central directory file header signature: 0x\" + signature.toString(16)));\n    // 4 - Version made by\n    entry.versionMadeBy = buffer.readUInt16LE(4);\n    // 6 - Version needed to extract (minimum)\n    entry.versionNeededToExtract = buffer.readUInt16LE(6);\n    // 8 - General purpose bit flag\n    entry.generalPurposeBitFlag = buffer.readUInt16LE(8);\n    // 10 - Compression method\n    entry.compressionMethod = buffer.readUInt16LE(10);\n    // 12 - File last modification time\n    entry.lastModFileTime = buffer.readUInt16LE(12);\n    // 14 - File last modification date\n    entry.lastModFileDate = buffer.readUInt16LE(14);\n    // 16 - CRC-32\n    entry.crc32 = buffer.readUInt32LE(16);\n    // 20 - Compressed size\n    entry.compressedSize = buffer.readUInt32LE(20);\n    // 24 - Uncompressed size\n    entry.uncompressedSize = buffer.readUInt32LE(24);\n    // 28 - File name length (n)\n    entry.fileNameLength = buffer.readUInt16LE(28);\n    // 30 - Extra field length (m)\n    entry.extraFieldLength = buffer.readUInt16LE(30);\n    // 32 - File comment length (k)\n    entry.fileCommentLength = buffer.readUInt16LE(32);\n    // 34 - Disk number where file starts\n    // 36 - Internal file attributes\n    entry.internalFileAttributes = buffer.readUInt16LE(36);\n    // 38 - External file attributes\n    entry.externalFileAttributes = buffer.readUInt32LE(38);\n    // 42 - Relative offset of local file header\n    entry.relativeOffsetOfLocalHeader = buffer.readUInt32LE(42);\n\n    if (entry.generalPurposeBitFlag & 0x40) return emitErrorAndAutoClose(self, new Error(\"strong encryption is not supported\"));\n\n    self.readEntryCursor += 46;\n\n    buffer = newBuffer(entry.fileNameLength + entry.extraFieldLength + entry.fileCommentLength);\n    readAndAssertNoEof(self.reader, buffer, 0, buffer.length, self.readEntryCursor, function(err) {\n      if (err) return emitErrorAndAutoClose(self, err);\n      if (self.emittedError) return;\n      // 46 - File name\n      var isUtf8 = (entry.generalPurposeBitFlag & 0x800) !== 0;\n      entry.fileName = self.decodeStrings ? decodeBuffer(buffer, 0, entry.fileNameLength, isUtf8)\n                                          : buffer.slice(0, entry.fileNameLength);\n\n      // 46+n - Extra field\n      var fileCommentStart = entry.fileNameLength + entry.extraFieldLength;\n      var extraFieldBuffer = buffer.slice(entry.fileNameLength, fileCommentStart);\n      entry.extraFields = [];\n      var i = 0;\n      while (i < extraFieldBuffer.length - 3) {\n        var headerId = extraFieldBuffer.readUInt16LE(i + 0);\n        var dataSize = extraFieldBuffer.readUInt16LE(i + 2);\n        var dataStart = i + 4;\n        var dataEnd = dataStart + dataSize;\n        if (dataEnd > extraFieldBuffer.length) return emitErrorAndAutoClose(self, new Error(\"extra field length exceeds extra field buffer size\"));\n        var dataBuffer = newBuffer(dataSize);\n        extraFieldBuffer.copy(dataBuffer, 0, dataStart, dataEnd);\n        entry.extraFields.push({\n          id: headerId,\n          data: dataBuffer,\n        });\n        i = dataEnd;\n      }\n\n      // 46+n+m - File comment\n      entry.fileComment = self.decodeStrings ? decodeBuffer(buffer, fileCommentStart, fileCommentStart + entry.fileCommentLength, isUtf8)\n                                             : buffer.slice(fileCommentStart, fileCommentStart + entry.fileCommentLength);\n      // compatibility hack for https://github.com/thejoshwolfe/yauzl/issues/47\n      entry.comment = entry.fileComment;\n\n      self.readEntryCursor += buffer.length;\n      self.entriesRead += 1;\n\n      if (entry.uncompressedSize            === 0xffffffff ||\n          entry.compressedSize              === 0xffffffff ||\n          entry.relativeOffsetOfLocalHeader === 0xffffffff) {\n        // ZIP64 format\n        // find the Zip64 Extended Information Extra Field\n        var zip64EiefBuffer = null;\n        for (var i = 0; i < entry.extraFields.length; i++) {\n          var extraField = entry.extraFields[i];\n          if (extraField.id === 0x0001) {\n            zip64EiefBuffer = extraField.data;\n            break;\n          }\n        }\n        if (zip64EiefBuffer == null) {\n          return emitErrorAndAutoClose(self, new Error(\"expected zip64 extended information extra field\"));\n        }\n        var index = 0;\n        // 0 - Original Size          8 bytes\n        if (entry.uncompressedSize === 0xffffffff) {\n          if (index + 8 > zip64EiefBuffer.length) {\n            return emitErrorAndAutoClose(self, new Error(\"zip64 extended information extra field does not include uncompressed size\"));\n          }\n          entry.uncompressedSize = readUInt64LE(zip64EiefBuffer, index);\n          index += 8;\n        }\n        // 8 - Compressed Size        8 bytes\n        if (entry.compressedSize === 0xffffffff) {\n          if (index + 8 > zip64EiefBuffer.length) {\n            return emitErrorAndAutoClose(self, new Error(\"zip64 extended information extra field does not include compressed size\"));\n          }\n          entry.compressedSize = readUInt64LE(zip64EiefBuffer, index);\n          index += 8;\n        }\n        // 16 - Relative Header Offset 8 bytes\n        if (entry.relativeOffsetOfLocalHeader === 0xffffffff) {\n          if (index + 8 > zip64EiefBuffer.length) {\n            return emitErrorAndAutoClose(self, new Error(\"zip64 extended information extra field does not include relative header offset\"));\n          }\n          entry.relativeOffsetOfLocalHeader = readUInt64LE(zip64EiefBuffer, index);\n          index += 8;\n        }\n        // 24 - Disk Start Number      4 bytes\n      }\n\n      // check for Info-ZIP Unicode Path Extra Field (0x7075)\n      // see https://github.com/thejoshwolfe/yauzl/issues/33\n      if (self.decodeStrings) {\n        for (var i = 0; i < entry.extraFields.length; i++) {\n          var extraField = entry.extraFields[i];\n          if (extraField.id === 0x7075) {\n            if (extraField.data.length < 6) {\n              // too short to be meaningful\n              continue;\n            }\n            // Version       1 byte      version of this extra field, currently 1\n            if (extraField.data.readUInt8(0) !== 1) {\n              // > Changes may not be backward compatible so this extra\n              // > field should not be used if the version is not recognized.\n              continue;\n            }\n            // NameCRC32     4 bytes     File Name Field CRC32 Checksum\n            var oldNameCrc32 = extraField.data.readUInt32LE(1);\n            if (crc32.unsigned(buffer.slice(0, entry.fileNameLength)) !== oldNameCrc32) {\n              // > If the CRC check fails, this UTF-8 Path Extra Field should be\n              // > ignored and the File Name field in the header should be used instead.\n              continue;\n            }\n            // UnicodeName   Variable    UTF-8 version of the entry File Name\n            entry.fileName = decodeBuffer(extraField.data, 5, extraField.data.length, true);\n            break;\n          }\n        }\n      }\n\n      // validate file size\n      if (self.validateEntrySizes && entry.compressionMethod === 0) {\n        var expectedCompressedSize = entry.uncompressedSize;\n        if (entry.isEncrypted()) {\n          // traditional encryption prefixes the file data with a header\n          expectedCompressedSize += 12;\n        }\n        if (entry.compressedSize !== expectedCompressedSize) {\n          var msg = \"compressed/uncompressed size mismatch for stored file: \" + entry.compressedSize + \" != \" + entry.uncompressedSize;\n          return emitErrorAndAutoClose(self, new Error(msg));\n        }\n      }\n\n      if (self.decodeStrings) {\n        if (!self.strictFileNames) {\n          // allow backslash\n          entry.fileName = entry.fileName.replace(/\\\\/g, \"/\");\n        }\n        var errorMessage = validateFileName(entry.fileName, self.validateFileNameOptions);\n        if (errorMessage != null) return emitErrorAndAutoClose(self, new Error(errorMessage));\n      }\n      self.emit(\"entry\", entry);\n\n      if (!self.lazyEntries) self._readEntry();\n    });\n  });\n};\n\nZipFile.prototype.openReadStream = function(entry, options, callback) {\n  var self = this;\n  // parameter validation\n  var relativeStart = 0;\n  var relativeEnd = entry.compressedSize;\n  if (callback == null) {\n    callback = options;\n    options = {};\n  } else {\n    // validate options that the caller has no excuse to get wrong\n    if (options.decrypt != null) {\n      if (!entry.isEncrypted()) {\n        throw new Error(\"options.decrypt can only be specified for encrypted entries\");\n      }\n      if (options.decrypt !== false) throw new Error(\"invalid options.decrypt value: \" + options.decrypt);\n      if (entry.isCompressed()) {\n        if (options.decompress !== false) throw new Error(\"entry is encrypted and compressed, and options.decompress !== false\");\n      }\n    }\n    if (options.decompress != null) {\n      if (!entry.isCompressed()) {\n        throw new Error(\"options.decompress can only be specified for compressed entries\");\n      }\n      if (!(options.decompress === false || options.decompress === true)) {\n        throw new Error(\"invalid options.decompress value: \" + options.decompress);\n      }\n    }\n    if (options.start != null || options.end != null) {\n      if (entry.isCompressed() && options.decompress !== false) {\n        throw new Error(\"start/end range not allowed for compressed entry without options.decompress === false\");\n      }\n      if (entry.isEncrypted() && options.decrypt !== false) {\n        throw new Error(\"start/end range not allowed for encrypted entry without options.decrypt === false\");\n      }\n    }\n    if (options.start != null) {\n      relativeStart = options.start;\n      if (relativeStart < 0) throw new Error(\"options.start < 0\");\n      if (relativeStart > entry.compressedSize) throw new Error(\"options.start > entry.compressedSize\");\n    }\n    if (options.end != null) {\n      relativeEnd = options.end;\n      if (relativeEnd < 0) throw new Error(\"options.end < 0\");\n      if (relativeEnd > entry.compressedSize) throw new Error(\"options.end > entry.compressedSize\");\n      if (relativeEnd < relativeStart) throw new Error(\"options.end < options.start\");\n    }\n  }\n  // any further errors can either be caused by the zipfile,\n  // or were introduced in a minor version of yauzl,\n  // so should be passed to the client rather than thrown.\n  if (!self.isOpen) return callback(new Error(\"closed\"));\n  if (entry.isEncrypted()) {\n    if (options.decrypt !== false) return callback(new Error(\"entry is encrypted, and options.decrypt !== false\"));\n  }\n  // make sure we don't lose the fd before we open the actual read stream\n  self.reader.ref();\n  var buffer = newBuffer(30);\n  readAndAssertNoEof(self.reader, buffer, 0, buffer.length, entry.relativeOffsetOfLocalHeader, function(err) {\n    try {\n      if (err) return callback(err);\n      // 0 - Local file header signature = 0x04034b50\n      var signature = buffer.readUInt32LE(0);\n      if (signature !== 0x04034b50) {\n        return callback(new Error(\"invalid local file header signature: 0x\" + signature.toString(16)));\n      }\n      // all this should be redundant\n      // 4 - Version needed to extract (minimum)\n      // 6 - General purpose bit flag\n      // 8 - Compression method\n      // 10 - File last modification time\n      // 12 - File last modification date\n      // 14 - CRC-32\n      // 18 - Compressed size\n      // 22 - Uncompressed size\n      // 26 - File name length (n)\n      var fileNameLength = buffer.readUInt16LE(26);\n      // 28 - Extra field length (m)\n      var extraFieldLength = buffer.readUInt16LE(28);\n      // 30 - File name\n      // 30+n - Extra field\n      var localFileHeaderEnd = entry.relativeOffsetOfLocalHeader + buffer.length + fileNameLength + extraFieldLength;\n      var decompress;\n      if (entry.compressionMethod === 0) {\n        // 0 - The file is stored (no compression)\n        decompress = false;\n      } else if (entry.compressionMethod === 8) {\n        // 8 - The file is Deflated\n        decompress = options.decompress != null ? options.decompress : true;\n      } else {\n        return callback(new Error(\"unsupported compression method: \" + entry.compressionMethod));\n      }\n      var fileDataStart = localFileHeaderEnd;\n      var fileDataEnd = fileDataStart + entry.compressedSize;\n      if (entry.compressedSize !== 0) {\n        // bounds check now, because the read streams will probably not complain loud enough.\n        // since we're dealing with an unsigned offset plus an unsigned size,\n        // we only have 1 thing to check for.\n        if (fileDataEnd > self.fileSize) {\n          return callback(new Error(\"file data overflows file bounds: \" +\n              fileDataStart + \" + \" + entry.compressedSize + \" > \" + self.fileSize));\n        }\n      }\n      var readStream = self.reader.createReadStream({\n        start: fileDataStart + relativeStart,\n        end: fileDataStart + relativeEnd,\n      });\n      var endpointStream = readStream;\n      if (decompress) {\n        var destroyed = false;\n        var inflateFilter = zlib.createInflateRaw();\n        readStream.on(\"error\", function(err) {\n          // setImmediate here because errors can be emitted during the first call to pipe()\n          setImmediate(function() {\n            if (!destroyed) inflateFilter.emit(\"error\", err);\n          });\n        });\n        readStream.pipe(inflateFilter);\n\n        if (self.validateEntrySizes) {\n          endpointStream = new AssertByteCountStream(entry.uncompressedSize);\n          inflateFilter.on(\"error\", function(err) {\n            // forward zlib errors to the client-visible stream\n            setImmediate(function() {\n              if (!destroyed) endpointStream.emit(\"error\", err);\n            });\n          });\n          inflateFilter.pipe(endpointStream);\n        } else {\n          // the zlib filter is the client-visible stream\n          endpointStream = inflateFilter;\n        }\n        // this is part of yauzl's API, so implement this function on the client-visible stream\n        endpointStream.destroy = function() {\n          destroyed = true;\n          if (inflateFilter !== endpointStream) inflateFilter.unpipe(endpointStream);\n          readStream.unpipe(inflateFilter);\n          // TODO: the inflateFilter may cause a memory leak. see Issue #27.\n          readStream.destroy();\n        };\n      }\n      callback(null, endpointStream);\n    } finally {\n      self.reader.unref();\n    }\n  });\n};\n\nfunction Entry() {\n}\nEntry.prototype.getLastModDate = function() {\n  return dosDateTimeToDate(this.lastModFileDate, this.lastModFileTime);\n};\nEntry.prototype.isEncrypted = function() {\n  return (this.generalPurposeBitFlag & 0x1) !== 0;\n};\nEntry.prototype.isCompressed = function() {\n  return this.compressionMethod === 8;\n};\n\nfunction dosDateTimeToDate(date, time) {\n  var day = date & 0x1f; // 1-31\n  var month = (date >> 5 & 0xf) - 1; // 1-12, 0-11\n  var year = (date >> 9 & 0x7f) + 1980; // 0-128, 1980-2108\n\n  var millisecond = 0;\n  var second = (time & 0x1f) * 2; // 0-29, 0-58 (even numbers)\n  var minute = time >> 5 & 0x3f; // 0-59\n  var hour = time >> 11 & 0x1f; // 0-23\n\n  return new Date(year, month, day, hour, minute, second, millisecond);\n}\n\nfunction validateFileName(fileName) {\n  if (fileName.indexOf(\"\\\\\") !== -1) {\n    return \"invalid characters in fileName: \" + fileName;\n  }\n  if (/^[a-zA-Z]:/.test(fileName) || /^\\//.test(fileName)) {\n    return \"absolute path: \" + fileName;\n  }\n  if (fileName.split(\"/\").indexOf(\"..\") !== -1) {\n    return \"invalid relative path: \" + fileName;\n  }\n  // all good\n  return null;\n}\n\nfunction readAndAssertNoEof(reader, buffer, offset, length, position, callback) {\n  if (length === 0) {\n    // fs.read will throw an out-of-bounds error if you try to read 0 bytes from a 0 byte file\n    return setImmediate(function() { callback(null, newBuffer(0)); });\n  }\n  reader.read(buffer, offset, length, position, function(err, bytesRead) {\n    if (err) return callback(err);\n    if (bytesRead < length) {\n      return callback(new Error(\"unexpected EOF\"));\n    }\n    callback();\n  });\n}\n\nutil.inherits(AssertByteCountStream, Transform);\nfunction AssertByteCountStream(byteCount) {\n  Transform.call(this);\n  this.actualByteCount = 0;\n  this.expectedByteCount = byteCount;\n}\nAssertByteCountStream.prototype._transform = function(chunk, encoding, cb) {\n  this.actualByteCount += chunk.length;\n  if (this.actualByteCount > this.expectedByteCount) {\n    var msg = \"too many bytes in the stream. expected \" + this.expectedByteCount + \". got at least \" + this.actualByteCount;\n    return cb(new Error(msg));\n  }\n  cb(null, chunk);\n};\nAssertByteCountStream.prototype._flush = function(cb) {\n  if (this.actualByteCount < this.expectedByteCount) {\n    var msg = \"not enough bytes in the stream. expected \" + this.expectedByteCount + \". got only \" + this.actualByteCount;\n    return cb(new Error(msg));\n  }\n  cb();\n};\n\nutil.inherits(RandomAccessReader, EventEmitter);\nfunction RandomAccessReader() {\n  EventEmitter.call(this);\n  this.refCount = 0;\n}\nRandomAccessReader.prototype.ref = function() {\n  this.refCount += 1;\n};\nRandomAccessReader.prototype.unref = function() {\n  var self = this;\n  self.refCount -= 1;\n\n  if (self.refCount > 0) return;\n  if (self.refCount < 0) throw new Error(\"invalid unref\");\n\n  self.close(onCloseDone);\n\n  function onCloseDone(err) {\n    if (err) return self.emit('error', err);\n    self.emit('close');\n  }\n};\nRandomAccessReader.prototype.createReadStream = function(options) {\n  var start = options.start;\n  var end = options.end;\n  if (start === end) {\n    var emptyStream = new PassThrough();\n    setImmediate(function() {\n      emptyStream.end();\n    });\n    return emptyStream;\n  }\n  var stream = this._readStreamForRange(start, end);\n\n  var destroyed = false;\n  var refUnrefFilter = new RefUnrefFilter(this);\n  stream.on(\"error\", function(err) {\n    setImmediate(function() {\n      if (!destroyed) refUnrefFilter.emit(\"error\", err);\n    });\n  });\n  refUnrefFilter.destroy = function() {\n    stream.unpipe(refUnrefFilter);\n    refUnrefFilter.unref();\n    stream.destroy();\n  };\n\n  var byteCounter = new AssertByteCountStream(end - start);\n  refUnrefFilter.on(\"error\", function(err) {\n    setImmediate(function() {\n      if (!destroyed) byteCounter.emit(\"error\", err);\n    });\n  });\n  byteCounter.destroy = function() {\n    destroyed = true;\n    refUnrefFilter.unpipe(byteCounter);\n    refUnrefFilter.destroy();\n  };\n\n  return stream.pipe(refUnrefFilter).pipe(byteCounter);\n};\nRandomAccessReader.prototype._readStreamForRange = function(start, end) {\n  throw new Error(\"not implemented\");\n};\nRandomAccessReader.prototype.read = function(buffer, offset, length, position, callback) {\n  var readStream = this.createReadStream({start: position, end: position + length});\n  var writeStream = new Writable();\n  var written = 0;\n  writeStream._write = function(chunk, encoding, cb) {\n    chunk.copy(buffer, offset + written, 0, chunk.length);\n    written += chunk.length;\n    cb();\n  };\n  writeStream.on(\"finish\", callback);\n  readStream.on(\"error\", function(error) {\n    callback(error);\n  });\n  readStream.pipe(writeStream);\n};\nRandomAccessReader.prototype.close = function(callback) {\n  setImmediate(callback);\n};\n\nutil.inherits(RefUnrefFilter, PassThrough);\nfunction RefUnrefFilter(context) {\n  PassThrough.call(this);\n  this.context = context;\n  this.context.ref();\n  this.unreffedYet = false;\n}\nRefUnrefFilter.prototype._flush = function(cb) {\n  this.unref();\n  cb();\n};\nRefUnrefFilter.prototype.unref = function(cb) {\n  if (this.unreffedYet) return;\n  this.unreffedYet = true;\n  this.context.unref();\n};\n\nvar cp437 = '\\u0000 !\"#$%&\\'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\\\]^_`abcdefghijklmnopqrstuvwxyz{|}~';\nfunction decodeBuffer(buffer, start, end, isUtf8) {\n  if (isUtf8) {\n    return buffer.toString(\"utf8\", start, end);\n  } else {\n    var result = \"\";\n    for (var i = start; i < end; i++) {\n      result += cp437[buffer[i]];\n    }\n    return result;\n  }\n}\n\nfunction readUInt64LE(buffer, offset) {\n  // there is no native function for this, because we can't actually store 64-bit integers precisely.\n  // after 53 bits, JavaScript's Number type (IEEE 754 double) can't store individual integers anymore.\n  // but since 53 bits is a whole lot more than 32 bits, we do our best anyway.\n  var lower32 = buffer.readUInt32LE(offset);\n  var upper32 = buffer.readUInt32LE(offset + 4);\n  // we can't use bitshifting here, because JavaScript bitshifting only works on 32-bit integers.\n  return upper32 * 0x100000000 + lower32;\n  // as long as we're bounds checking the result of this function against the total file size,\n  // we'll catch any overflow errors, because we already made sure the total file size was within reason.\n}\n\n// Node 10 deprecated new Buffer().\nvar newBuffer;\nif (typeof Buffer.allocUnsafe === \"function\") {\n  newBuffer = function(len) {\n    return Buffer.allocUnsafe(len);\n  };\n} else {\n  newBuffer = function(len) {\n    return new Buffer(len);\n  };\n}\n\nfunction defaultCallback(err) {\n  if (err) throw err;\n}\n","module.exports = require(\"vscode\");","module.exports = require(\"assert\");","module.exports = require(\"async_hooks\");","module.exports = require(\"buffer\");","module.exports = require(\"child_process\");","module.exports = require(\"console\");","module.exports = require(\"constants\");","module.exports = require(\"crypto\");","module.exports = require(\"dns\");","module.exports = require(\"events\");","module.exports = require(\"fs\");","module.exports = require(\"http\");","module.exports = require(\"https\");","module.exports = require(\"module\");","module.exports = require(\"net\");","module.exports = require(\"os\");","module.exports = require(\"path\");","module.exports = require(\"punycode\");","module.exports = require(\"readline\");","module.exports = require(\"stream\");","module.exports = require(\"timers\");","module.exports = require(\"tls\");","module.exports = require(\"tty\");","module.exports = require(\"url\");","module.exports = require(\"util\");","module.exports = require(\"zlib\");","import Stream from 'stream';\nimport http from 'http';\nimport Url from 'url';\nimport whatwgUrl from 'whatwg-url';\nimport https from 'https';\nimport zlib from 'zlib';\n\n// Based on https://github.com/tmpvar/jsdom/blob/aa85b2abf07766ff7bf5c1f6daafb3726f2f2db5/lib/jsdom/living/blob.js\n\n// fix for \"Readable\" isn't a named export issue\nconst Readable = Stream.Readable;\n\nconst BUFFER = Symbol('buffer');\nconst TYPE = Symbol('type');\n\nclass Blob {\n\tconstructor() {\n\t\tthis[TYPE] = '';\n\n\t\tconst blobParts = arguments[0];\n\t\tconst options = arguments[1];\n\n\t\tconst buffers = [];\n\t\tlet size = 0;\n\n\t\tif (blobParts) {\n\t\t\tconst a = blobParts;\n\t\t\tconst length = Number(a.length);\n\t\t\tfor (let i = 0; i < length; i++) {\n\t\t\t\tconst element = a[i];\n\t\t\t\tlet buffer;\n\t\t\t\tif (element instanceof Buffer) {\n\t\t\t\t\tbuffer = element;\n\t\t\t\t} else if (ArrayBuffer.isView(element)) {\n\t\t\t\t\tbuffer = Buffer.from(element.buffer, element.byteOffset, element.byteLength);\n\t\t\t\t} else if (element instanceof ArrayBuffer) {\n\t\t\t\t\tbuffer = Buffer.from(element);\n\t\t\t\t} else if (element instanceof Blob) {\n\t\t\t\t\tbuffer = element[BUFFER];\n\t\t\t\t} else {\n\t\t\t\t\tbuffer = Buffer.from(typeof element === 'string' ? element : String(element));\n\t\t\t\t}\n\t\t\t\tsize += buffer.length;\n\t\t\t\tbuffers.push(buffer);\n\t\t\t}\n\t\t}\n\n\t\tthis[BUFFER] = Buffer.concat(buffers);\n\n\t\tlet type = options && options.type !== undefined && String(options.type).toLowerCase();\n\t\tif (type && !/[^\\u0020-\\u007E]/.test(type)) {\n\t\t\tthis[TYPE] = type;\n\t\t}\n\t}\n\tget size() {\n\t\treturn this[BUFFER].length;\n\t}\n\tget type() {\n\t\treturn this[TYPE];\n\t}\n\ttext() {\n\t\treturn Promise.resolve(this[BUFFER].toString());\n\t}\n\tarrayBuffer() {\n\t\tconst buf = this[BUFFER];\n\t\tconst ab = buf.buffer.slice(buf.byteOffset, buf.byteOffset + buf.byteLength);\n\t\treturn Promise.resolve(ab);\n\t}\n\tstream() {\n\t\tconst readable = new Readable();\n\t\treadable._read = function () {};\n\t\treadable.push(this[BUFFER]);\n\t\treadable.push(null);\n\t\treturn readable;\n\t}\n\ttoString() {\n\t\treturn '[object Blob]';\n\t}\n\tslice() {\n\t\tconst size = this.size;\n\n\t\tconst start = arguments[0];\n\t\tconst end = arguments[1];\n\t\tlet relativeStart, relativeEnd;\n\t\tif (start === undefined) {\n\t\t\trelativeStart = 0;\n\t\t} else if (start < 0) {\n\t\t\trelativeStart = Math.max(size + start, 0);\n\t\t} else {\n\t\t\trelativeStart = Math.min(start, size);\n\t\t}\n\t\tif (end === undefined) {\n\t\t\trelativeEnd = size;\n\t\t} else if (end < 0) {\n\t\t\trelativeEnd = Math.max(size + end, 0);\n\t\t} else {\n\t\t\trelativeEnd = Math.min(end, size);\n\t\t}\n\t\tconst span = Math.max(relativeEnd - relativeStart, 0);\n\n\t\tconst buffer = this[BUFFER];\n\t\tconst slicedBuffer = buffer.slice(relativeStart, relativeStart + span);\n\t\tconst blob = new Blob([], { type: arguments[2] });\n\t\tblob[BUFFER] = slicedBuffer;\n\t\treturn blob;\n\t}\n}\n\nObject.defineProperties(Blob.prototype, {\n\tsize: { enumerable: true },\n\ttype: { enumerable: true },\n\tslice: { enumerable: true }\n});\n\nObject.defineProperty(Blob.prototype, Symbol.toStringTag, {\n\tvalue: 'Blob',\n\twritable: false,\n\tenumerable: false,\n\tconfigurable: true\n});\n\n/**\n * fetch-error.js\n *\n * FetchError interface for operational errors\n */\n\n/**\n * Create FetchError instance\n *\n * @param   String      message      Error message for human\n * @param   String      type         Error type for machine\n * @param   String      systemError  For Node.js system error\n * @return  FetchError\n */\nfunction FetchError(message, type, systemError) {\n  Error.call(this, message);\n\n  this.message = message;\n  this.type = type;\n\n  // when err.type is `system`, err.code contains system error code\n  if (systemError) {\n    this.code = this.errno = systemError.code;\n  }\n\n  // hide custom error implementation details from end-users\n  Error.captureStackTrace(this, this.constructor);\n}\n\nFetchError.prototype = Object.create(Error.prototype);\nFetchError.prototype.constructor = FetchError;\nFetchError.prototype.name = 'FetchError';\n\nlet convert;\ntry {\n\tconvert = require('encoding').convert;\n} catch (e) {}\n\nconst INTERNALS = Symbol('Body internals');\n\n// fix an issue where \"PassThrough\" isn't a named export for node <10\nconst PassThrough = Stream.PassThrough;\n\n/**\n * Body mixin\n *\n * Ref: https://fetch.spec.whatwg.org/#body\n *\n * @param   Stream  body  Readable stream\n * @param   Object  opts  Response options\n * @return  Void\n */\nfunction Body(body) {\n\tvar _this = this;\n\n\tvar _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n\t    _ref$size = _ref.size;\n\n\tlet size = _ref$size === undefined ? 0 : _ref$size;\n\tvar _ref$timeout = _ref.timeout;\n\tlet timeout = _ref$timeout === undefined ? 0 : _ref$timeout;\n\n\tif (body == null) {\n\t\t// body is undefined or null\n\t\tbody = null;\n\t} else if (isURLSearchParams(body)) {\n\t\t// body is a URLSearchParams\n\t\tbody = Buffer.from(body.toString());\n\t} else if (isBlob(body)) ; else if (Buffer.isBuffer(body)) ; else if (Object.prototype.toString.call(body) === '[object ArrayBuffer]') {\n\t\t// body is ArrayBuffer\n\t\tbody = Buffer.from(body);\n\t} else if (ArrayBuffer.isView(body)) {\n\t\t// body is ArrayBufferView\n\t\tbody = Buffer.from(body.buffer, body.byteOffset, body.byteLength);\n\t} else if (body instanceof Stream) ; else {\n\t\t// none of the above\n\t\t// coerce to string then buffer\n\t\tbody = Buffer.from(String(body));\n\t}\n\tthis[INTERNALS] = {\n\t\tbody,\n\t\tdisturbed: false,\n\t\terror: null\n\t};\n\tthis.size = size;\n\tthis.timeout = timeout;\n\n\tif (body instanceof Stream) {\n\t\tbody.on('error', function (err) {\n\t\t\tconst error = err.name === 'AbortError' ? err : new FetchError(`Invalid response body while trying to fetch ${_this.url}: ${err.message}`, 'system', err);\n\t\t\t_this[INTERNALS].error = error;\n\t\t});\n\t}\n}\n\nBody.prototype = {\n\tget body() {\n\t\treturn this[INTERNALS].body;\n\t},\n\n\tget bodyUsed() {\n\t\treturn this[INTERNALS].disturbed;\n\t},\n\n\t/**\n  * Decode response as ArrayBuffer\n  *\n  * @return  Promise\n  */\n\tarrayBuffer() {\n\t\treturn consumeBody.call(this).then(function (buf) {\n\t\t\treturn buf.buffer.slice(buf.byteOffset, buf.byteOffset + buf.byteLength);\n\t\t});\n\t},\n\n\t/**\n  * Return raw response as Blob\n  *\n  * @return Promise\n  */\n\tblob() {\n\t\tlet ct = this.headers && this.headers.get('content-type') || '';\n\t\treturn consumeBody.call(this).then(function (buf) {\n\t\t\treturn Object.assign(\n\t\t\t// Prevent copying\n\t\t\tnew Blob([], {\n\t\t\t\ttype: ct.toLowerCase()\n\t\t\t}), {\n\t\t\t\t[BUFFER]: buf\n\t\t\t});\n\t\t});\n\t},\n\n\t/**\n  * Decode response as json\n  *\n  * @return  Promise\n  */\n\tjson() {\n\t\tvar _this2 = this;\n\n\t\treturn consumeBody.call(this).then(function (buffer) {\n\t\t\ttry {\n\t\t\t\treturn JSON.parse(buffer.toString());\n\t\t\t} catch (err) {\n\t\t\t\treturn Body.Promise.reject(new FetchError(`invalid json response body at ${_this2.url} reason: ${err.message}`, 'invalid-json'));\n\t\t\t}\n\t\t});\n\t},\n\n\t/**\n  * Decode response as text\n  *\n  * @return  Promise\n  */\n\ttext() {\n\t\treturn consumeBody.call(this).then(function (buffer) {\n\t\t\treturn buffer.toString();\n\t\t});\n\t},\n\n\t/**\n  * Decode response as buffer (non-spec api)\n  *\n  * @return  Promise\n  */\n\tbuffer() {\n\t\treturn consumeBody.call(this);\n\t},\n\n\t/**\n  * Decode response as text, while automatically detecting the encoding and\n  * trying to decode to UTF-8 (non-spec api)\n  *\n  * @return  Promise\n  */\n\ttextConverted() {\n\t\tvar _this3 = this;\n\n\t\treturn consumeBody.call(this).then(function (buffer) {\n\t\t\treturn convertBody(buffer, _this3.headers);\n\t\t});\n\t}\n};\n\n// In browsers, all properties are enumerable.\nObject.defineProperties(Body.prototype, {\n\tbody: { enumerable: true },\n\tbodyUsed: { enumerable: true },\n\tarrayBuffer: { enumerable: true },\n\tblob: { enumerable: true },\n\tjson: { enumerable: true },\n\ttext: { enumerable: true }\n});\n\nBody.mixIn = function (proto) {\n\tfor (const name of Object.getOwnPropertyNames(Body.prototype)) {\n\t\t// istanbul ignore else: future proof\n\t\tif (!(name in proto)) {\n\t\t\tconst desc = Object.getOwnPropertyDescriptor(Body.prototype, name);\n\t\t\tObject.defineProperty(proto, name, desc);\n\t\t}\n\t}\n};\n\n/**\n * Consume and convert an entire Body to a Buffer.\n *\n * Ref: https://fetch.spec.whatwg.org/#concept-body-consume-body\n *\n * @return  Promise\n */\nfunction consumeBody() {\n\tvar _this4 = this;\n\n\tif (this[INTERNALS].disturbed) {\n\t\treturn Body.Promise.reject(new TypeError(`body used already for: ${this.url}`));\n\t}\n\n\tthis[INTERNALS].disturbed = true;\n\n\tif (this[INTERNALS].error) {\n\t\treturn Body.Promise.reject(this[INTERNALS].error);\n\t}\n\n\tlet body = this.body;\n\n\t// body is null\n\tif (body === null) {\n\t\treturn Body.Promise.resolve(Buffer.alloc(0));\n\t}\n\n\t// body is blob\n\tif (isBlob(body)) {\n\t\tbody = body.stream();\n\t}\n\n\t// body is buffer\n\tif (Buffer.isBuffer(body)) {\n\t\treturn Body.Promise.resolve(body);\n\t}\n\n\t// istanbul ignore if: should never happen\n\tif (!(body instanceof Stream)) {\n\t\treturn Body.Promise.resolve(Buffer.alloc(0));\n\t}\n\n\t// body is stream\n\t// get ready to actually consume the body\n\tlet accum = [];\n\tlet accumBytes = 0;\n\tlet abort = false;\n\n\treturn new Body.Promise(function (resolve, reject) {\n\t\tlet resTimeout;\n\n\t\t// allow timeout on slow response body\n\t\tif (_this4.timeout) {\n\t\t\tresTimeout = setTimeout(function () {\n\t\t\t\tabort = true;\n\t\t\t\treject(new FetchError(`Response timeout while trying to fetch ${_this4.url} (over ${_this4.timeout}ms)`, 'body-timeout'));\n\t\t\t}, _this4.timeout);\n\t\t}\n\n\t\t// handle stream errors\n\t\tbody.on('error', function (err) {\n\t\t\tif (err.name === 'AbortError') {\n\t\t\t\t// if the request was aborted, reject with this Error\n\t\t\t\tabort = true;\n\t\t\t\treject(err);\n\t\t\t} else {\n\t\t\t\t// other errors, such as incorrect content-encoding\n\t\t\t\treject(new FetchError(`Invalid response body while trying to fetch ${_this4.url}: ${err.message}`, 'system', err));\n\t\t\t}\n\t\t});\n\n\t\tbody.on('data', function (chunk) {\n\t\t\tif (abort || chunk === null) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (_this4.size && accumBytes + chunk.length > _this4.size) {\n\t\t\t\tabort = true;\n\t\t\t\treject(new FetchError(`content size at ${_this4.url} over limit: ${_this4.size}`, 'max-size'));\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\taccumBytes += chunk.length;\n\t\t\taccum.push(chunk);\n\t\t});\n\n\t\tbody.on('end', function () {\n\t\t\tif (abort) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tclearTimeout(resTimeout);\n\n\t\t\ttry {\n\t\t\t\tresolve(Buffer.concat(accum, accumBytes));\n\t\t\t} catch (err) {\n\t\t\t\t// handle streams that have accumulated too much data (issue #414)\n\t\t\t\treject(new FetchError(`Could not create Buffer from response body for ${_this4.url}: ${err.message}`, 'system', err));\n\t\t\t}\n\t\t});\n\t});\n}\n\n/**\n * Detect buffer encoding and convert to target encoding\n * ref: http://www.w3.org/TR/2011/WD-html5-20110113/parsing.html#determining-the-character-encoding\n *\n * @param   Buffer  buffer    Incoming buffer\n * @param   String  encoding  Target encoding\n * @return  String\n */\nfunction convertBody(buffer, headers) {\n\tif (typeof convert !== 'function') {\n\t\tthrow new Error('The package `encoding` must be installed to use the textConverted() function');\n\t}\n\n\tconst ct = headers.get('content-type');\n\tlet charset = 'utf-8';\n\tlet res, str;\n\n\t// header\n\tif (ct) {\n\t\tres = /charset=([^;]*)/i.exec(ct);\n\t}\n\n\t// no charset in content type, peek at response body for at most 1024 bytes\n\tstr = buffer.slice(0, 1024).toString();\n\n\t// html5\n\tif (!res && str) {\n\t\tres = /<meta.+?charset=(['\"])(.+?)\\1/i.exec(str);\n\t}\n\n\t// html4\n\tif (!res && str) {\n\t\tres = /<meta[\\s]+?http-equiv=(['\"])content-type\\1[\\s]+?content=(['\"])(.+?)\\2/i.exec(str);\n\t\tif (!res) {\n\t\t\tres = /<meta[\\s]+?content=(['\"])(.+?)\\1[\\s]+?http-equiv=(['\"])content-type\\3/i.exec(str);\n\t\t\tif (res) {\n\t\t\t\tres.pop(); // drop last quote\n\t\t\t}\n\t\t}\n\n\t\tif (res) {\n\t\t\tres = /charset=(.*)/i.exec(res.pop());\n\t\t}\n\t}\n\n\t// xml\n\tif (!res && str) {\n\t\tres = /<\\?xml.+?encoding=(['\"])(.+?)\\1/i.exec(str);\n\t}\n\n\t// found charset\n\tif (res) {\n\t\tcharset = res.pop();\n\n\t\t// prevent decode issues when sites use incorrect encoding\n\t\t// ref: https://hsivonen.fi/encoding-menu/\n\t\tif (charset === 'gb2312' || charset === 'gbk') {\n\t\t\tcharset = 'gb18030';\n\t\t}\n\t}\n\n\t// turn raw buffers into a single utf-8 buffer\n\treturn convert(buffer, 'UTF-8', charset).toString();\n}\n\n/**\n * Detect a URLSearchParams object\n * ref: https://github.com/bitinn/node-fetch/issues/296#issuecomment-307598143\n *\n * @param   Object  obj     Object to detect by type or brand\n * @return  String\n */\nfunction isURLSearchParams(obj) {\n\t// Duck-typing as a necessary condition.\n\tif (typeof obj !== 'object' || typeof obj.append !== 'function' || typeof obj.delete !== 'function' || typeof obj.get !== 'function' || typeof obj.getAll !== 'function' || typeof obj.has !== 'function' || typeof obj.set !== 'function') {\n\t\treturn false;\n\t}\n\n\t// Brand-checking and more duck-typing as optional condition.\n\treturn obj.constructor.name === 'URLSearchParams' || Object.prototype.toString.call(obj) === '[object URLSearchParams]' || typeof obj.sort === 'function';\n}\n\n/**\n * Check if `obj` is a W3C `Blob` object (which `File` inherits from)\n * @param  {*} obj\n * @return {boolean}\n */\nfunction isBlob(obj) {\n\treturn typeof obj === 'object' && typeof obj.arrayBuffer === 'function' && typeof obj.type === 'string' && typeof obj.stream === 'function' && typeof obj.constructor === 'function' && typeof obj.constructor.name === 'string' && /^(Blob|File)$/.test(obj.constructor.name) && /^(Blob|File)$/.test(obj[Symbol.toStringTag]);\n}\n\n/**\n * Clone body given Res/Req instance\n *\n * @param   Mixed  instance  Response or Request instance\n * @return  Mixed\n */\nfunction clone(instance) {\n\tlet p1, p2;\n\tlet body = instance.body;\n\n\t// don't allow cloning a used body\n\tif (instance.bodyUsed) {\n\t\tthrow new Error('cannot clone body after it is used');\n\t}\n\n\t// check that body is a stream and not form-data object\n\t// note: we can't clone the form-data object without having it as a dependency\n\tif (body instanceof Stream && typeof body.getBoundary !== 'function') {\n\t\t// tee instance body\n\t\tp1 = new PassThrough();\n\t\tp2 = new PassThrough();\n\t\tbody.pipe(p1);\n\t\tbody.pipe(p2);\n\t\t// set instance body to teed body and return the other teed body\n\t\tinstance[INTERNALS].body = p1;\n\t\tbody = p2;\n\t}\n\n\treturn body;\n}\n\n/**\n * Performs the operation \"extract a `Content-Type` value from |object|\" as\n * specified in the specification:\n * https://fetch.spec.whatwg.org/#concept-bodyinit-extract\n *\n * This function assumes that instance.body is present.\n *\n * @param   Mixed  instance  Any options.body input\n */\nfunction extractContentType(body) {\n\tif (body === null) {\n\t\t// body is null\n\t\treturn null;\n\t} else if (typeof body === 'string') {\n\t\t// body is string\n\t\treturn 'text/plain;charset=UTF-8';\n\t} else if (isURLSearchParams(body)) {\n\t\t// body is a URLSearchParams\n\t\treturn 'application/x-www-form-urlencoded;charset=UTF-8';\n\t} else if (isBlob(body)) {\n\t\t// body is blob\n\t\treturn body.type || null;\n\t} else if (Buffer.isBuffer(body)) {\n\t\t// body is buffer\n\t\treturn null;\n\t} else if (Object.prototype.toString.call(body) === '[object ArrayBuffer]') {\n\t\t// body is ArrayBuffer\n\t\treturn null;\n\t} else if (ArrayBuffer.isView(body)) {\n\t\t// body is ArrayBufferView\n\t\treturn null;\n\t} else if (typeof body.getBoundary === 'function') {\n\t\t// detect form data input from form-data module\n\t\treturn `multipart/form-data;boundary=${body.getBoundary()}`;\n\t} else if (body instanceof Stream) {\n\t\t// body is stream\n\t\t// can't really do much about this\n\t\treturn null;\n\t} else {\n\t\t// Body constructor defaults other things to string\n\t\treturn 'text/plain;charset=UTF-8';\n\t}\n}\n\n/**\n * The Fetch Standard treats this as if \"total bytes\" is a property on the body.\n * For us, we have to explicitly get it with a function.\n *\n * ref: https://fetch.spec.whatwg.org/#concept-body-total-bytes\n *\n * @param   Body    instance   Instance of Body\n * @return  Number?            Number of bytes, or null if not possible\n */\nfunction getTotalBytes(instance) {\n\tconst body = instance.body;\n\n\n\tif (body === null) {\n\t\t// body is null\n\t\treturn 0;\n\t} else if (isBlob(body)) {\n\t\treturn body.size;\n\t} else if (Buffer.isBuffer(body)) {\n\t\t// body is buffer\n\t\treturn body.length;\n\t} else if (body && typeof body.getLengthSync === 'function') {\n\t\t// detect form data input from form-data module\n\t\tif (body._lengthRetrievers && body._lengthRetrievers.length == 0 || // 1.x\n\t\tbody.hasKnownLength && body.hasKnownLength()) {\n\t\t\t// 2.x\n\t\t\treturn body.getLengthSync();\n\t\t}\n\t\treturn null;\n\t} else {\n\t\t// body is stream\n\t\treturn null;\n\t}\n}\n\n/**\n * Write a Body to a Node.js WritableStream (e.g. http.Request) object.\n *\n * @param   Body    instance   Instance of Body\n * @return  Void\n */\nfunction writeToStream(dest, instance) {\n\tconst body = instance.body;\n\n\n\tif (body === null) {\n\t\t// body is null\n\t\tdest.end();\n\t} else if (isBlob(body)) {\n\t\tbody.stream().pipe(dest);\n\t} else if (Buffer.isBuffer(body)) {\n\t\t// body is buffer\n\t\tdest.write(body);\n\t\tdest.end();\n\t} else {\n\t\t// body is stream\n\t\tbody.pipe(dest);\n\t}\n}\n\n// expose Promise\nBody.Promise = global.Promise;\n\n/**\n * headers.js\n *\n * Headers class offers convenient helpers\n */\n\nconst invalidTokenRegex = /[^\\^_`a-zA-Z\\-0-9!#$%&'*+.|~]/;\nconst invalidHeaderCharRegex = /[^\\t\\x20-\\x7e\\x80-\\xff]/;\n\nfunction validateName(name) {\n\tname = `${name}`;\n\tif (invalidTokenRegex.test(name) || name === '') {\n\t\tthrow new TypeError(`${name} is not a legal HTTP header name`);\n\t}\n}\n\nfunction validateValue(value) {\n\tvalue = `${value}`;\n\tif (invalidHeaderCharRegex.test(value)) {\n\t\tthrow new TypeError(`${value} is not a legal HTTP header value`);\n\t}\n}\n\n/**\n * Find the key in the map object given a header name.\n *\n * Returns undefined if not found.\n *\n * @param   String  name  Header name\n * @return  String|Undefined\n */\nfunction find(map, name) {\n\tname = name.toLowerCase();\n\tfor (const key in map) {\n\t\tif (key.toLowerCase() === name) {\n\t\t\treturn key;\n\t\t}\n\t}\n\treturn undefined;\n}\n\nconst MAP = Symbol('map');\nclass Headers {\n\t/**\n  * Headers class\n  *\n  * @param   Object  headers  Response headers\n  * @return  Void\n  */\n\tconstructor() {\n\t\tlet init = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : undefined;\n\n\t\tthis[MAP] = Object.create(null);\n\n\t\tif (init instanceof Headers) {\n\t\t\tconst rawHeaders = init.raw();\n\t\t\tconst headerNames = Object.keys(rawHeaders);\n\n\t\t\tfor (const headerName of headerNames) {\n\t\t\t\tfor (const value of rawHeaders[headerName]) {\n\t\t\t\t\tthis.append(headerName, value);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\t\t// We don't worry about converting prop to ByteString here as append()\n\t\t// will handle it.\n\t\tif (init == null) ; else if (typeof init === 'object') {\n\t\t\tconst method = init[Symbol.iterator];\n\t\t\tif (method != null) {\n\t\t\t\tif (typeof method !== 'function') {\n\t\t\t\t\tthrow new TypeError('Header pairs must be iterable');\n\t\t\t\t}\n\n\t\t\t\t// sequence<sequence<ByteString>>\n\t\t\t\t// Note: per spec we have to first exhaust the lists then process them\n\t\t\t\tconst pairs = [];\n\t\t\t\tfor (const pair of init) {\n\t\t\t\t\tif (typeof pair !== 'object' || typeof pair[Symbol.iterator] !== 'function') {\n\t\t\t\t\t\tthrow new TypeError('Each header pair must be iterable');\n\t\t\t\t\t}\n\t\t\t\t\tpairs.push(Array.from(pair));\n\t\t\t\t}\n\n\t\t\t\tfor (const pair of pairs) {\n\t\t\t\t\tif (pair.length !== 2) {\n\t\t\t\t\t\tthrow new TypeError('Each header pair must be a name/value tuple');\n\t\t\t\t\t}\n\t\t\t\t\tthis.append(pair[0], pair[1]);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// record<ByteString, ByteString>\n\t\t\t\tfor (const key of Object.keys(init)) {\n\t\t\t\t\tconst value = init[key];\n\t\t\t\t\tthis.append(key, value);\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tthrow new TypeError('Provided initializer must be an object');\n\t\t}\n\t}\n\n\t/**\n  * Return combined header value given name\n  *\n  * @param   String  name  Header name\n  * @return  Mixed\n  */\n\tget(name) {\n\t\tname = `${name}`;\n\t\tvalidateName(name);\n\t\tconst key = find(this[MAP], name);\n\t\tif (key === undefined) {\n\t\t\treturn null;\n\t\t}\n\n\t\treturn this[MAP][key].join(', ');\n\t}\n\n\t/**\n  * Iterate over all headers\n  *\n  * @param   Function  callback  Executed for each item with parameters (value, name, thisArg)\n  * @param   Boolean   thisArg   `this` context for callback function\n  * @return  Void\n  */\n\tforEach(callback) {\n\t\tlet thisArg = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : undefined;\n\n\t\tlet pairs = getHeaders(this);\n\t\tlet i = 0;\n\t\twhile (i < pairs.length) {\n\t\t\tvar _pairs$i = pairs[i];\n\t\t\tconst name = _pairs$i[0],\n\t\t\t      value = _pairs$i[1];\n\n\t\t\tcallback.call(thisArg, value, name, this);\n\t\t\tpairs = getHeaders(this);\n\t\t\ti++;\n\t\t}\n\t}\n\n\t/**\n  * Overwrite header values given name\n  *\n  * @param   String  name   Header name\n  * @param   String  value  Header value\n  * @return  Void\n  */\n\tset(name, value) {\n\t\tname = `${name}`;\n\t\tvalue = `${value}`;\n\t\tvalidateName(name);\n\t\tvalidateValue(value);\n\t\tconst key = find(this[MAP], name);\n\t\tthis[MAP][key !== undefined ? key : name] = [value];\n\t}\n\n\t/**\n  * Append a value onto existing header\n  *\n  * @param   String  name   Header name\n  * @param   String  value  Header value\n  * @return  Void\n  */\n\tappend(name, value) {\n\t\tname = `${name}`;\n\t\tvalue = `${value}`;\n\t\tvalidateName(name);\n\t\tvalidateValue(value);\n\t\tconst key = find(this[MAP], name);\n\t\tif (key !== undefined) {\n\t\t\tthis[MAP][key].push(value);\n\t\t} else {\n\t\t\tthis[MAP][name] = [value];\n\t\t}\n\t}\n\n\t/**\n  * Check for header name existence\n  *\n  * @param   String   name  Header name\n  * @return  Boolean\n  */\n\thas(name) {\n\t\tname = `${name}`;\n\t\tvalidateName(name);\n\t\treturn find(this[MAP], name) !== undefined;\n\t}\n\n\t/**\n  * Delete all header values given name\n  *\n  * @param   String  name  Header name\n  * @return  Void\n  */\n\tdelete(name) {\n\t\tname = `${name}`;\n\t\tvalidateName(name);\n\t\tconst key = find(this[MAP], name);\n\t\tif (key !== undefined) {\n\t\t\tdelete this[MAP][key];\n\t\t}\n\t}\n\n\t/**\n  * Return raw headers (non-spec api)\n  *\n  * @return  Object\n  */\n\traw() {\n\t\treturn this[MAP];\n\t}\n\n\t/**\n  * Get an iterator on keys.\n  *\n  * @return  Iterator\n  */\n\tkeys() {\n\t\treturn createHeadersIterator(this, 'key');\n\t}\n\n\t/**\n  * Get an iterator on values.\n  *\n  * @return  Iterator\n  */\n\tvalues() {\n\t\treturn createHeadersIterator(this, 'value');\n\t}\n\n\t/**\n  * Get an iterator on entries.\n  *\n  * This is the default iterator of the Headers object.\n  *\n  * @return  Iterator\n  */\n\t[Symbol.iterator]() {\n\t\treturn createHeadersIterator(this, 'key+value');\n\t}\n}\nHeaders.prototype.entries = Headers.prototype[Symbol.iterator];\n\nObject.defineProperty(Headers.prototype, Symbol.toStringTag, {\n\tvalue: 'Headers',\n\twritable: false,\n\tenumerable: false,\n\tconfigurable: true\n});\n\nObject.defineProperties(Headers.prototype, {\n\tget: { enumerable: true },\n\tforEach: { enumerable: true },\n\tset: { enumerable: true },\n\tappend: { enumerable: true },\n\thas: { enumerable: true },\n\tdelete: { enumerable: true },\n\tkeys: { enumerable: true },\n\tvalues: { enumerable: true },\n\tentries: { enumerable: true }\n});\n\nfunction getHeaders(headers) {\n\tlet kind = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'key+value';\n\n\tconst keys = Object.keys(headers[MAP]).sort();\n\treturn keys.map(kind === 'key' ? function (k) {\n\t\treturn k.toLowerCase();\n\t} : kind === 'value' ? function (k) {\n\t\treturn headers[MAP][k].join(', ');\n\t} : function (k) {\n\t\treturn [k.toLowerCase(), headers[MAP][k].join(', ')];\n\t});\n}\n\nconst INTERNAL = Symbol('internal');\n\nfunction createHeadersIterator(target, kind) {\n\tconst iterator = Object.create(HeadersIteratorPrototype);\n\titerator[INTERNAL] = {\n\t\ttarget,\n\t\tkind,\n\t\tindex: 0\n\t};\n\treturn iterator;\n}\n\nconst HeadersIteratorPrototype = Object.setPrototypeOf({\n\tnext() {\n\t\t// istanbul ignore if\n\t\tif (!this || Object.getPrototypeOf(this) !== HeadersIteratorPrototype) {\n\t\t\tthrow new TypeError('Value of `this` is not a HeadersIterator');\n\t\t}\n\n\t\tvar _INTERNAL = this[INTERNAL];\n\t\tconst target = _INTERNAL.target,\n\t\t      kind = _INTERNAL.kind,\n\t\t      index = _INTERNAL.index;\n\n\t\tconst values = getHeaders(target, kind);\n\t\tconst len = values.length;\n\t\tif (index >= len) {\n\t\t\treturn {\n\t\t\t\tvalue: undefined,\n\t\t\t\tdone: true\n\t\t\t};\n\t\t}\n\n\t\tthis[INTERNAL].index = index + 1;\n\n\t\treturn {\n\t\t\tvalue: values[index],\n\t\t\tdone: false\n\t\t};\n\t}\n}, Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]())));\n\nObject.defineProperty(HeadersIteratorPrototype, Symbol.toStringTag, {\n\tvalue: 'HeadersIterator',\n\twritable: false,\n\tenumerable: false,\n\tconfigurable: true\n});\n\n/**\n * Export the Headers object in a form that Node.js can consume.\n *\n * @param   Headers  headers\n * @return  Object\n */\nfunction exportNodeCompatibleHeaders(headers) {\n\tconst obj = Object.assign({ __proto__: null }, headers[MAP]);\n\n\t// http.request() only supports string as Host header. This hack makes\n\t// specifying custom Host header possible.\n\tconst hostHeaderKey = find(headers[MAP], 'Host');\n\tif (hostHeaderKey !== undefined) {\n\t\tobj[hostHeaderKey] = obj[hostHeaderKey][0];\n\t}\n\n\treturn obj;\n}\n\n/**\n * Create a Headers object from an object of headers, ignoring those that do\n * not conform to HTTP grammar productions.\n *\n * @param   Object  obj  Object of headers\n * @return  Headers\n */\nfunction createHeadersLenient(obj) {\n\tconst headers = new Headers();\n\tfor (const name of Object.keys(obj)) {\n\t\tif (invalidTokenRegex.test(name)) {\n\t\t\tcontinue;\n\t\t}\n\t\tif (Array.isArray(obj[name])) {\n\t\t\tfor (const val of obj[name]) {\n\t\t\t\tif (invalidHeaderCharRegex.test(val)) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif (headers[MAP][name] === undefined) {\n\t\t\t\t\theaders[MAP][name] = [val];\n\t\t\t\t} else {\n\t\t\t\t\theaders[MAP][name].push(val);\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (!invalidHeaderCharRegex.test(obj[name])) {\n\t\t\theaders[MAP][name] = [obj[name]];\n\t\t}\n\t}\n\treturn headers;\n}\n\nconst INTERNALS$1 = Symbol('Response internals');\n\n// fix an issue where \"STATUS_CODES\" aren't a named export for node <10\nconst STATUS_CODES = http.STATUS_CODES;\n\n/**\n * Response class\n *\n * @param   Stream  body  Readable stream\n * @param   Object  opts  Response options\n * @return  Void\n */\nclass Response {\n\tconstructor() {\n\t\tlet body = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\t\tlet opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n\t\tBody.call(this, body, opts);\n\n\t\tconst status = opts.status || 200;\n\t\tconst headers = new Headers(opts.headers);\n\n\t\tif (body != null && !headers.has('Content-Type')) {\n\t\t\tconst contentType = extractContentType(body);\n\t\t\tif (contentType) {\n\t\t\t\theaders.append('Content-Type', contentType);\n\t\t\t}\n\t\t}\n\n\t\tthis[INTERNALS$1] = {\n\t\t\turl: opts.url,\n\t\t\tstatus,\n\t\t\tstatusText: opts.statusText || STATUS_CODES[status],\n\t\t\theaders,\n\t\t\tcounter: opts.counter\n\t\t};\n\t}\n\n\tget url() {\n\t\treturn this[INTERNALS$1].url || '';\n\t}\n\n\tget status() {\n\t\treturn this[INTERNALS$1].status;\n\t}\n\n\t/**\n  * Convenience property representing if the request ended normally\n  */\n\tget ok() {\n\t\treturn this[INTERNALS$1].status >= 200 && this[INTERNALS$1].status < 300;\n\t}\n\n\tget redirected() {\n\t\treturn this[INTERNALS$1].counter > 0;\n\t}\n\n\tget statusText() {\n\t\treturn this[INTERNALS$1].statusText;\n\t}\n\n\tget headers() {\n\t\treturn this[INTERNALS$1].headers;\n\t}\n\n\t/**\n  * Clone this response\n  *\n  * @return  Response\n  */\n\tclone() {\n\t\treturn new Response(clone(this), {\n\t\t\turl: this.url,\n\t\t\tstatus: this.status,\n\t\t\tstatusText: this.statusText,\n\t\t\theaders: this.headers,\n\t\t\tok: this.ok,\n\t\t\tredirected: this.redirected\n\t\t});\n\t}\n}\n\nBody.mixIn(Response.prototype);\n\nObject.defineProperties(Response.prototype, {\n\turl: { enumerable: true },\n\tstatus: { enumerable: true },\n\tok: { enumerable: true },\n\tredirected: { enumerable: true },\n\tstatusText: { enumerable: true },\n\theaders: { enumerable: true },\n\tclone: { enumerable: true }\n});\n\nObject.defineProperty(Response.prototype, Symbol.toStringTag, {\n\tvalue: 'Response',\n\twritable: false,\n\tenumerable: false,\n\tconfigurable: true\n});\n\nconst INTERNALS$2 = Symbol('Request internals');\nconst URL = Url.URL || whatwgUrl.URL;\n\n// fix an issue where \"format\", \"parse\" aren't a named export for node <10\nconst parse_url = Url.parse;\nconst format_url = Url.format;\n\n/**\n * Wrapper around `new URL` to handle arbitrary URLs\n *\n * @param  {string} urlStr\n * @return {void}\n */\nfunction parseURL(urlStr) {\n\t/*\n \tCheck whether the URL is absolute or not\n \t\tScheme: https://tools.ietf.org/html/rfc3986#section-3.1\n \tAbsolute URL: https://tools.ietf.org/html/rfc3986#section-4.3\n */\n\tif (/^[a-zA-Z][a-zA-Z\\d+\\-.]*:/.exec(urlStr)) {\n\t\turlStr = new URL(urlStr).toString();\n\t}\n\n\t// Fallback to old implementation for arbitrary URLs\n\treturn parse_url(urlStr);\n}\n\nconst streamDestructionSupported = 'destroy' in Stream.Readable.prototype;\n\n/**\n * Check if a value is an instance of Request.\n *\n * @param   Mixed   input\n * @return  Boolean\n */\nfunction isRequest(input) {\n\treturn typeof input === 'object' && typeof input[INTERNALS$2] === 'object';\n}\n\nfunction isAbortSignal(signal) {\n\tconst proto = signal && typeof signal === 'object' && Object.getPrototypeOf(signal);\n\treturn !!(proto && proto.constructor.name === 'AbortSignal');\n}\n\n/**\n * Request class\n *\n * @param   Mixed   input  Url or Request instance\n * @param   Object  init   Custom options\n * @return  Void\n */\nclass Request {\n\tconstructor(input) {\n\t\tlet init = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n\t\tlet parsedURL;\n\n\t\t// normalize input\n\t\tif (!isRequest(input)) {\n\t\t\tif (input && input.href) {\n\t\t\t\t// in order to support Node.js' Url objects; though WHATWG's URL objects\n\t\t\t\t// will fall into this branch also (since their `toString()` will return\n\t\t\t\t// `href` property anyway)\n\t\t\t\tparsedURL = parseURL(input.href);\n\t\t\t} else {\n\t\t\t\t// coerce input to a string before attempting to parse\n\t\t\t\tparsedURL = parseURL(`${input}`);\n\t\t\t}\n\t\t\tinput = {};\n\t\t} else {\n\t\t\tparsedURL = parseURL(input.url);\n\t\t}\n\n\t\tlet method = init.method || input.method || 'GET';\n\t\tmethod = method.toUpperCase();\n\n\t\tif ((init.body != null || isRequest(input) && input.body !== null) && (method === 'GET' || method === 'HEAD')) {\n\t\t\tthrow new TypeError('Request with GET/HEAD method cannot have body');\n\t\t}\n\n\t\tlet inputBody = init.body != null ? init.body : isRequest(input) && input.body !== null ? clone(input) : null;\n\n\t\tBody.call(this, inputBody, {\n\t\t\ttimeout: init.timeout || input.timeout || 0,\n\t\t\tsize: init.size || input.size || 0\n\t\t});\n\n\t\tconst headers = new Headers(init.headers || input.headers || {});\n\n\t\tif (inputBody != null && !headers.has('Content-Type')) {\n\t\t\tconst contentType = extractContentType(inputBody);\n\t\t\tif (contentType) {\n\t\t\t\theaders.append('Content-Type', contentType);\n\t\t\t}\n\t\t}\n\n\t\tlet signal = isRequest(input) ? input.signal : null;\n\t\tif ('signal' in init) signal = init.signal;\n\n\t\tif (signal != null && !isAbortSignal(signal)) {\n\t\t\tthrow new TypeError('Expected signal to be an instanceof AbortSignal');\n\t\t}\n\n\t\tthis[INTERNALS$2] = {\n\t\t\tmethod,\n\t\t\tredirect: init.redirect || input.redirect || 'follow',\n\t\t\theaders,\n\t\t\tparsedURL,\n\t\t\tsignal\n\t\t};\n\n\t\t// node-fetch-only options\n\t\tthis.follow = init.follow !== undefined ? init.follow : input.follow !== undefined ? input.follow : 20;\n\t\tthis.compress = init.compress !== undefined ? init.compress : input.compress !== undefined ? input.compress : true;\n\t\tthis.counter = init.counter || input.counter || 0;\n\t\tthis.agent = init.agent || input.agent;\n\t}\n\n\tget method() {\n\t\treturn this[INTERNALS$2].method;\n\t}\n\n\tget url() {\n\t\treturn format_url(this[INTERNALS$2].parsedURL);\n\t}\n\n\tget headers() {\n\t\treturn this[INTERNALS$2].headers;\n\t}\n\n\tget redirect() {\n\t\treturn this[INTERNALS$2].redirect;\n\t}\n\n\tget signal() {\n\t\treturn this[INTERNALS$2].signal;\n\t}\n\n\t/**\n  * Clone this request\n  *\n  * @return  Request\n  */\n\tclone() {\n\t\treturn new Request(this);\n\t}\n}\n\nBody.mixIn(Request.prototype);\n\nObject.defineProperty(Request.prototype, Symbol.toStringTag, {\n\tvalue: 'Request',\n\twritable: false,\n\tenumerable: false,\n\tconfigurable: true\n});\n\nObject.defineProperties(Request.prototype, {\n\tmethod: { enumerable: true },\n\turl: { enumerable: true },\n\theaders: { enumerable: true },\n\tredirect: { enumerable: true },\n\tclone: { enumerable: true },\n\tsignal: { enumerable: true }\n});\n\n/**\n * Convert a Request to Node.js http request options.\n *\n * @param   Request  A Request instance\n * @return  Object   The options object to be passed to http.request\n */\nfunction getNodeRequestOptions(request) {\n\tconst parsedURL = request[INTERNALS$2].parsedURL;\n\tconst headers = new Headers(request[INTERNALS$2].headers);\n\n\t// fetch step 1.3\n\tif (!headers.has('Accept')) {\n\t\theaders.set('Accept', '*/*');\n\t}\n\n\t// Basic fetch\n\tif (!parsedURL.protocol || !parsedURL.hostname) {\n\t\tthrow new TypeError('Only absolute URLs are supported');\n\t}\n\n\tif (!/^https?:$/.test(parsedURL.protocol)) {\n\t\tthrow new TypeError('Only HTTP(S) protocols are supported');\n\t}\n\n\tif (request.signal && request.body instanceof Stream.Readable && !streamDestructionSupported) {\n\t\tthrow new Error('Cancellation of streamed requests with AbortSignal is not supported in node < 8');\n\t}\n\n\t// HTTP-network-or-cache fetch steps 2.4-2.7\n\tlet contentLengthValue = null;\n\tif (request.body == null && /^(POST|PUT)$/i.test(request.method)) {\n\t\tcontentLengthValue = '0';\n\t}\n\tif (request.body != null) {\n\t\tconst totalBytes = getTotalBytes(request);\n\t\tif (typeof totalBytes === 'number') {\n\t\t\tcontentLengthValue = String(totalBytes);\n\t\t}\n\t}\n\tif (contentLengthValue) {\n\t\theaders.set('Content-Length', contentLengthValue);\n\t}\n\n\t// HTTP-network-or-cache fetch step 2.11\n\tif (!headers.has('User-Agent')) {\n\t\theaders.set('User-Agent', 'node-fetch/1.0 (+https://github.com/bitinn/node-fetch)');\n\t}\n\n\t// HTTP-network-or-cache fetch step 2.15\n\tif (request.compress && !headers.has('Accept-Encoding')) {\n\t\theaders.set('Accept-Encoding', 'gzip,deflate');\n\t}\n\n\tlet agent = request.agent;\n\tif (typeof agent === 'function') {\n\t\tagent = agent(parsedURL);\n\t}\n\n\t// HTTP-network fetch step 4.2\n\t// chunked encoding is handled by Node.js\n\n\treturn Object.assign({}, parsedURL, {\n\t\tmethod: request.method,\n\t\theaders: exportNodeCompatibleHeaders(headers),\n\t\tagent\n\t});\n}\n\n/**\n * abort-error.js\n *\n * AbortError interface for cancelled requests\n */\n\n/**\n * Create AbortError instance\n *\n * @param   String      message      Error message for human\n * @return  AbortError\n */\nfunction AbortError(message) {\n  Error.call(this, message);\n\n  this.type = 'aborted';\n  this.message = message;\n\n  // hide custom error implementation details from end-users\n  Error.captureStackTrace(this, this.constructor);\n}\n\nAbortError.prototype = Object.create(Error.prototype);\nAbortError.prototype.constructor = AbortError;\nAbortError.prototype.name = 'AbortError';\n\nconst URL$1 = Url.URL || whatwgUrl.URL;\n\n// fix an issue where \"PassThrough\", \"resolve\" aren't a named export for node <10\nconst PassThrough$1 = Stream.PassThrough;\n\nconst isDomainOrSubdomain = function isDomainOrSubdomain(destination, original) {\n\tconst orig = new URL$1(original).hostname;\n\tconst dest = new URL$1(destination).hostname;\n\n\treturn orig === dest || orig[orig.length - dest.length - 1] === '.' && orig.endsWith(dest);\n};\n\n/**\n * isSameProtocol reports whether the two provided URLs use the same protocol.\n *\n * Both domains must already be in canonical form.\n * @param {string|URL} original\n * @param {string|URL} destination\n */\nconst isSameProtocol = function isSameProtocol(destination, original) {\n\tconst orig = new URL$1(original).protocol;\n\tconst dest = new URL$1(destination).protocol;\n\n\treturn orig === dest;\n};\n\n/**\n * Fetch function\n *\n * @param   Mixed    url   Absolute url or Request instance\n * @param   Object   opts  Fetch options\n * @return  Promise\n */\nfunction fetch(url, opts) {\n\n\t// allow custom promise\n\tif (!fetch.Promise) {\n\t\tthrow new Error('native promise missing, set fetch.Promise to your favorite alternative');\n\t}\n\n\tBody.Promise = fetch.Promise;\n\n\t// wrap http.request into fetch\n\treturn new fetch.Promise(function (resolve, reject) {\n\t\t// build request object\n\t\tconst request = new Request(url, opts);\n\t\tconst options = getNodeRequestOptions(request);\n\n\t\tconst send = (options.protocol === 'https:' ? https : http).request;\n\t\tconst signal = request.signal;\n\n\t\tlet response = null;\n\n\t\tconst abort = function abort() {\n\t\t\tlet error = new AbortError('The user aborted a request.');\n\t\t\treject(error);\n\t\t\tif (request.body && request.body instanceof Stream.Readable) {\n\t\t\t\tdestroyStream(request.body, error);\n\t\t\t}\n\t\t\tif (!response || !response.body) return;\n\t\t\tresponse.body.emit('error', error);\n\t\t};\n\n\t\tif (signal && signal.aborted) {\n\t\t\tabort();\n\t\t\treturn;\n\t\t}\n\n\t\tconst abortAndFinalize = function abortAndFinalize() {\n\t\t\tabort();\n\t\t\tfinalize();\n\t\t};\n\n\t\t// send request\n\t\tconst req = send(options);\n\t\tlet reqTimeout;\n\n\t\tif (signal) {\n\t\t\tsignal.addEventListener('abort', abortAndFinalize);\n\t\t}\n\n\t\tfunction finalize() {\n\t\t\treq.abort();\n\t\t\tif (signal) signal.removeEventListener('abort', abortAndFinalize);\n\t\t\tclearTimeout(reqTimeout);\n\t\t}\n\n\t\tif (request.timeout) {\n\t\t\treq.once('socket', function (socket) {\n\t\t\t\treqTimeout = setTimeout(function () {\n\t\t\t\t\treject(new FetchError(`network timeout at: ${request.url}`, 'request-timeout'));\n\t\t\t\t\tfinalize();\n\t\t\t\t}, request.timeout);\n\t\t\t});\n\t\t}\n\n\t\treq.on('error', function (err) {\n\t\t\treject(new FetchError(`request to ${request.url} failed, reason: ${err.message}`, 'system', err));\n\n\t\t\tif (response && response.body) {\n\t\t\t\tdestroyStream(response.body, err);\n\t\t\t}\n\n\t\t\tfinalize();\n\t\t});\n\n\t\tfixResponseChunkedTransferBadEnding(req, function (err) {\n\t\t\tif (signal && signal.aborted) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (response && response.body) {\n\t\t\t\tdestroyStream(response.body, err);\n\t\t\t}\n\t\t});\n\n\t\t/* c8 ignore next 18 */\n\t\tif (parseInt(process.version.substring(1)) < 14) {\n\t\t\t// Before Node.js 14, pipeline() does not fully support async iterators and does not always\n\t\t\t// properly handle when the socket close/end events are out of order.\n\t\t\treq.on('socket', function (s) {\n\t\t\t\ts.addListener('close', function (hadError) {\n\t\t\t\t\t// if a data listener is still present we didn't end cleanly\n\t\t\t\t\tconst hasDataListener = s.listenerCount('data') > 0;\n\n\t\t\t\t\t// if end happened before close but the socket didn't emit an error, do it now\n\t\t\t\t\tif (response && hasDataListener && !hadError && !(signal && signal.aborted)) {\n\t\t\t\t\t\tconst err = new Error('Premature close');\n\t\t\t\t\t\terr.code = 'ERR_STREAM_PREMATURE_CLOSE';\n\t\t\t\t\t\tresponse.body.emit('error', err);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\n\t\treq.on('response', function (res) {\n\t\t\tclearTimeout(reqTimeout);\n\n\t\t\tconst headers = createHeadersLenient(res.headers);\n\n\t\t\t// HTTP fetch step 5\n\t\t\tif (fetch.isRedirect(res.statusCode)) {\n\t\t\t\t// HTTP fetch step 5.2\n\t\t\t\tconst location = headers.get('Location');\n\n\t\t\t\t// HTTP fetch step 5.3\n\t\t\t\tlet locationURL = null;\n\t\t\t\ttry {\n\t\t\t\t\tlocationURL = location === null ? null : new URL$1(location, request.url).toString();\n\t\t\t\t} catch (err) {\n\t\t\t\t\t// error here can only be invalid URL in Location: header\n\t\t\t\t\t// do not throw when options.redirect == manual\n\t\t\t\t\t// let the user extract the errorneous redirect URL\n\t\t\t\t\tif (request.redirect !== 'manual') {\n\t\t\t\t\t\treject(new FetchError(`uri requested responds with an invalid redirect URL: ${location}`, 'invalid-redirect'));\n\t\t\t\t\t\tfinalize();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// HTTP fetch step 5.5\n\t\t\t\tswitch (request.redirect) {\n\t\t\t\t\tcase 'error':\n\t\t\t\t\t\treject(new FetchError(`uri requested responds with a redirect, redirect mode is set to error: ${request.url}`, 'no-redirect'));\n\t\t\t\t\t\tfinalize();\n\t\t\t\t\t\treturn;\n\t\t\t\t\tcase 'manual':\n\t\t\t\t\t\t// node-fetch-specific step: make manual redirect a bit easier to use by setting the Location header value to the resolved URL.\n\t\t\t\t\t\tif (locationURL !== null) {\n\t\t\t\t\t\t\t// handle corrupted header\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\theaders.set('Location', locationURL);\n\t\t\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\t\t\t// istanbul ignore next: nodejs server prevent invalid response headers, we can't test this through normal request\n\t\t\t\t\t\t\t\treject(err);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'follow':\n\t\t\t\t\t\t// HTTP-redirect fetch step 2\n\t\t\t\t\t\tif (locationURL === null) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 5\n\t\t\t\t\t\tif (request.counter >= request.follow) {\n\t\t\t\t\t\t\treject(new FetchError(`maximum redirect reached at: ${request.url}`, 'max-redirect'));\n\t\t\t\t\t\t\tfinalize();\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 6 (counter increment)\n\t\t\t\t\t\t// Create a new Request object.\n\t\t\t\t\t\tconst requestOpts = {\n\t\t\t\t\t\t\theaders: new Headers(request.headers),\n\t\t\t\t\t\t\tfollow: request.follow,\n\t\t\t\t\t\t\tcounter: request.counter + 1,\n\t\t\t\t\t\t\tagent: request.agent,\n\t\t\t\t\t\t\tcompress: request.compress,\n\t\t\t\t\t\t\tmethod: request.method,\n\t\t\t\t\t\t\tbody: request.body,\n\t\t\t\t\t\t\tsignal: request.signal,\n\t\t\t\t\t\t\ttimeout: request.timeout,\n\t\t\t\t\t\t\tsize: request.size\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tif (!isDomainOrSubdomain(request.url, locationURL) || !isSameProtocol(request.url, locationURL)) {\n\t\t\t\t\t\t\tfor (const name of ['authorization', 'www-authenticate', 'cookie', 'cookie2']) {\n\t\t\t\t\t\t\t\trequestOpts.headers.delete(name);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 9\n\t\t\t\t\t\tif (res.statusCode !== 303 && request.body && getTotalBytes(request) === null) {\n\t\t\t\t\t\t\treject(new FetchError('Cannot follow redirect with body being a readable stream', 'unsupported-redirect'));\n\t\t\t\t\t\t\tfinalize();\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 11\n\t\t\t\t\t\tif (res.statusCode === 303 || (res.statusCode === 301 || res.statusCode === 302) && request.method === 'POST') {\n\t\t\t\t\t\t\trequestOpts.method = 'GET';\n\t\t\t\t\t\t\trequestOpts.body = undefined;\n\t\t\t\t\t\t\trequestOpts.headers.delete('content-length');\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 15\n\t\t\t\t\t\tresolve(fetch(new Request(locationURL, requestOpts)));\n\t\t\t\t\t\tfinalize();\n\t\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// prepare response\n\t\t\tres.once('end', function () {\n\t\t\t\tif (signal) signal.removeEventListener('abort', abortAndFinalize);\n\t\t\t});\n\t\t\tlet body = res.pipe(new PassThrough$1());\n\n\t\t\tconst response_options = {\n\t\t\t\turl: request.url,\n\t\t\t\tstatus: res.statusCode,\n\t\t\t\tstatusText: res.statusMessage,\n\t\t\t\theaders: headers,\n\t\t\t\tsize: request.size,\n\t\t\t\ttimeout: request.timeout,\n\t\t\t\tcounter: request.counter\n\t\t\t};\n\n\t\t\t// HTTP-network fetch step 12.1.1.3\n\t\t\tconst codings = headers.get('Content-Encoding');\n\n\t\t\t// HTTP-network fetch step 12.1.1.4: handle content codings\n\n\t\t\t// in following scenarios we ignore compression support\n\t\t\t// 1. compression support is disabled\n\t\t\t// 2. HEAD request\n\t\t\t// 3. no Content-Encoding header\n\t\t\t// 4. no content response (204)\n\t\t\t// 5. content not modified response (304)\n\t\t\tif (!request.compress || request.method === 'HEAD' || codings === null || res.statusCode === 204 || res.statusCode === 304) {\n\t\t\t\tresponse = new Response(body, response_options);\n\t\t\t\tresolve(response);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// For Node v6+\n\t\t\t// Be less strict when decoding compressed responses, since sometimes\n\t\t\t// servers send slightly invalid responses that are still accepted\n\t\t\t// by common browsers.\n\t\t\t// Always using Z_SYNC_FLUSH is what cURL does.\n\t\t\tconst zlibOptions = {\n\t\t\t\tflush: zlib.Z_SYNC_FLUSH,\n\t\t\t\tfinishFlush: zlib.Z_SYNC_FLUSH\n\t\t\t};\n\n\t\t\t// for gzip\n\t\t\tif (codings == 'gzip' || codings == 'x-gzip') {\n\t\t\t\tbody = body.pipe(zlib.createGunzip(zlibOptions));\n\t\t\t\tresponse = new Response(body, response_options);\n\t\t\t\tresolve(response);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// for deflate\n\t\t\tif (codings == 'deflate' || codings == 'x-deflate') {\n\t\t\t\t// handle the infamous raw deflate response from old servers\n\t\t\t\t// a hack for old IIS and Apache servers\n\t\t\t\tconst raw = res.pipe(new PassThrough$1());\n\t\t\t\traw.once('data', function (chunk) {\n\t\t\t\t\t// see http://stackoverflow.com/questions/37519828\n\t\t\t\t\tif ((chunk[0] & 0x0F) === 0x08) {\n\t\t\t\t\t\tbody = body.pipe(zlib.createInflate());\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbody = body.pipe(zlib.createInflateRaw());\n\t\t\t\t\t}\n\t\t\t\t\tresponse = new Response(body, response_options);\n\t\t\t\t\tresolve(response);\n\t\t\t\t});\n\t\t\t\traw.on('end', function () {\n\t\t\t\t\t// some old IIS servers return zero-length OK deflate responses, so 'data' is never emitted.\n\t\t\t\t\tif (!response) {\n\t\t\t\t\t\tresponse = new Response(body, response_options);\n\t\t\t\t\t\tresolve(response);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// for br\n\t\t\tif (codings == 'br' && typeof zlib.createBrotliDecompress === 'function') {\n\t\t\t\tbody = body.pipe(zlib.createBrotliDecompress());\n\t\t\t\tresponse = new Response(body, response_options);\n\t\t\t\tresolve(response);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// otherwise, use response as-is\n\t\t\tresponse = new Response(body, response_options);\n\t\t\tresolve(response);\n\t\t});\n\n\t\twriteToStream(req, request);\n\t});\n}\nfunction fixResponseChunkedTransferBadEnding(request, errorCallback) {\n\tlet socket;\n\n\trequest.on('socket', function (s) {\n\t\tsocket = s;\n\t});\n\n\trequest.on('response', function (response) {\n\t\tconst headers = response.headers;\n\n\t\tif (headers['transfer-encoding'] === 'chunked' && !headers['content-length']) {\n\t\t\tresponse.once('close', function (hadError) {\n\t\t\t\t// tests for socket presence, as in some situations the\n\t\t\t\t// the 'socket' event is not triggered for the request\n\t\t\t\t// (happens in deno), avoids `TypeError`\n\t\t\t\t// if a data listener is still present we didn't end cleanly\n\t\t\t\tconst hasDataListener = socket && socket.listenerCount('data') > 0;\n\n\t\t\t\tif (hasDataListener && !hadError) {\n\t\t\t\t\tconst err = new Error('Premature close');\n\t\t\t\t\terr.code = 'ERR_STREAM_PREMATURE_CLOSE';\n\t\t\t\t\terrorCallback(err);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t});\n}\n\nfunction destroyStream(stream, err) {\n\tif (stream.destroy) {\n\t\tstream.destroy(err);\n\t} else {\n\t\t// node < 8\n\t\tstream.emit('error', err);\n\t\tstream.end();\n\t}\n}\n\n/**\n * Redirect code matching\n *\n * @param   Number   code  Status code\n * @return  Boolean\n */\nfetch.isRedirect = function (code) {\n\treturn code === 301 || code === 302 || code === 303 || code === 307 || code === 308;\n};\n\n// expose Promise\nfetch.Promise = global.Promise;\n\nexport default fetch;\nexport { Headers, Request, Response, FetchError, AbortError };\n","// Current version.\nexport var VERSION = '1.13.6';\n\n// Establish the root object, `window` (`self`) in the browser, `global`\n// on the server, or `this` in some virtual machines. We use `self`\n// instead of `window` for `WebWorker` support.\nexport var root = (typeof self == 'object' && self.self === self && self) ||\n          (typeof global == 'object' && global.global === global && global) ||\n          Function('return this')() ||\n          {};\n\n// Save bytes in the minified (but not gzipped) version:\nexport var ArrayProto = Array.prototype, ObjProto = Object.prototype;\nexport var SymbolProto = typeof Symbol !== 'undefined' ? Symbol.prototype : null;\n\n// Create quick reference variables for speed access to core prototypes.\nexport var push = ArrayProto.push,\n    slice = ArrayProto.slice,\n    toString = ObjProto.toString,\n    hasOwnProperty = ObjProto.hasOwnProperty;\n\n// Modern feature detection.\nexport var supportsArrayBuffer = typeof ArrayBuffer !== 'undefined',\n    supportsDataView = typeof DataView !== 'undefined';\n\n// All **ECMAScript 5+** native function implementations that we hope to use\n// are declared here.\nexport var nativeIsArray = Array.isArray,\n    nativeKeys = Object.keys,\n    nativeCreate = Object.create,\n    nativeIsView = supportsArrayBuffer && ArrayBuffer.isView;\n\n// Create references to these builtin functions because we override them.\nexport var _isNaN = isNaN,\n    _isFinite = isFinite;\n\n// Keys in IE < 9 that won't be iterated by `for key in ...` and thus missed.\nexport var hasEnumBug = !{toString: null}.propertyIsEnumerable('toString');\nexport var nonEnumerableProps = ['valueOf', 'isPrototypeOf', 'toString',\n  'propertyIsEnumerable', 'hasOwnProperty', 'toLocaleString'];\n\n// The largest integer that can be represented exactly.\nexport var MAX_ARRAY_INDEX = Math.pow(2, 53) - 1;\n","// Some functions take a variable number of arguments, or a few expected\n// arguments at the beginning and then a variable number of values to operate\n// on. This helper accumulates all remaining arguments past the functions\n// argument length (or an explicit `startIndex`), into an array that becomes\n// the last argument. Similar to ES6s \"rest parameter\".\nexport default function restArguments(func, startIndex) {\n  startIndex = startIndex == null ? func.length - 1 : +startIndex;\n  return function() {\n    var length = Math.max(arguments.length - startIndex, 0),\n        rest = Array(length),\n        index = 0;\n    for (; index < length; index++) {\n      rest[index] = arguments[index + startIndex];\n    }\n    switch (startIndex) {\n      case 0: return func.call(this, rest);\n      case 1: return func.call(this, arguments[0], rest);\n      case 2: return func.call(this, arguments[0], arguments[1], rest);\n    }\n    var args = Array(startIndex + 1);\n    for (index = 0; index < startIndex; index++) {\n      args[index] = arguments[index];\n    }\n    args[startIndex] = rest;\n    return func.apply(this, args);\n  };\n}\n","// Is a given variable an object?\nexport default function isObject(obj) {\n  var type = typeof obj;\n  return type === 'function' || (type === 'object' && !!obj);\n}\n","// Is a given value equal to null?\nexport default function isNull(obj) {\n  return obj === null;\n}\n","// Is a given variable undefined?\nexport default function isUndefined(obj) {\n  return obj === void 0;\n}\n","import { toString } from './_setup.js';\n\n// Is a given value a boolean?\nexport default function isBoolean(obj) {\n  return obj === true || obj === false || toString.call(obj) === '[object Boolean]';\n}\n","// Is a given value a DOM element?\nexport default function isElement(obj) {\n  return !!(obj && obj.nodeType === 1);\n}\n","import { toString } from './_setup.js';\n\n// Internal function for creating a `toString`-based type tester.\nexport default function tagTester(name) {\n  var tag = '[object ' + name + ']';\n  return function(obj) {\n    return toString.call(obj) === tag;\n  };\n}\n","import tagTester from './_tagTester.js';\n\nexport default tagTester('String');\n","import tagTester from './_tagTester.js';\n\nexport default tagTester('Number');\n","import tagTester from './_tagTester.js';\n\nexport default tagTester('Date');\n","import tagTester from './_tagTester.js';\n\nexport default tagTester('RegExp');\n","import tagTester from './_tagTester.js';\n\nexport default tagTester('Error');\n","import tagTester from './_tagTester.js';\n\nexport default tagTester('Symbol');\n","import tagTester from './_tagTester.js';\n\nexport default tagTester('ArrayBuffer');\n","import tagTester from './_tagTester.js';\nimport { root } from './_setup.js';\n\nvar isFunction = tagTester('Function');\n\n// Optimize `isFunction` if appropriate. Work around some `typeof` bugs in old\n// v8, IE 11 (#1621), Safari 8 (#1929), and PhantomJS (#2236).\nvar nodelist = root.document && root.document.childNodes;\nif (typeof /./ != 'function' && typeof Int8Array != 'object' && typeof nodelist != 'function') {\n  isFunction = function(obj) {\n    return typeof obj == 'function' || false;\n  };\n}\n\nexport default isFunction;\n","import tagTester from './_tagTester.js';\n\nexport default tagTester('Object');\n","import { supportsDataView } from './_setup.js';\nimport hasObjectTag from './_hasObjectTag.js';\n\n// In IE 10 - Edge 13, `DataView` has string tag `'[object Object]'`.\n// In IE 11, the most common among them, this problem also applies to\n// `Map`, `WeakMap` and `Set`.\nexport var hasStringTagBug = (\n      supportsDataView && hasObjectTag(new DataView(new ArrayBuffer(8)))\n    ),\n    isIE11 = (typeof Map !== 'undefined' && hasObjectTag(new Map));\n","import tagTester from './_tagTester.js';\nimport isFunction from './isFunction.js';\nimport isArrayBuffer from './isArrayBuffer.js';\nimport { hasStringTagBug } from './_stringTagBug.js';\n\nvar isDataView = tagTester('DataView');\n\n// In IE 10 - Edge 13, we need a different heuristic\n// to determine whether an object is a `DataView`.\nfunction ie10IsDataView(obj) {\n  return obj != null && isFunction(obj.getInt8) && isArrayBuffer(obj.buffer);\n}\n\nexport default (hasStringTagBug ? ie10IsDataView : isDataView);\n","import { nativeIsArray } from './_setup.js';\nimport tagTester from './_tagTester.js';\n\n// Is a given value an array?\n// Delegates to ECMA5's native `Array.isArray`.\nexport default nativeIsArray || tagTester('Array');\n","import { hasOwnProperty } from './_setup.js';\n\n// Internal function to check whether `key` is an own property name of `obj`.\nexport default function has(obj, key) {\n  return obj != null && hasOwnProperty.call(obj, key);\n}\n","import tagTester from './_tagTester.js';\nimport has from './_has.js';\n\nvar isArguments = tagTester('Arguments');\n\n// Define a fallback version of the method in browsers (ahem, IE < 9), where\n// there isn't any inspectable \"Arguments\" type.\n(function() {\n  if (!isArguments(arguments)) {\n    isArguments = function(obj) {\n      return has(obj, 'callee');\n    };\n  }\n}());\n\nexport default isArguments;\n","import { _isFinite } from './_setup.js';\nimport isSymbol from './isSymbol.js';\n\n// Is a given object a finite number?\nexport default function isFinite(obj) {\n  return !isSymbol(obj) && _isFinite(obj) && !isNaN(parseFloat(obj));\n}\n","import { _isNaN } from './_setup.js';\nimport isNumber from './isNumber.js';\n\n// Is the given value `NaN`?\nexport default function isNaN(obj) {\n  return isNumber(obj) && _isNaN(obj);\n}\n","// Predicate-generating function. Often useful outside of Underscore.\nexport default function constant(value) {\n  return function() {\n    return value;\n  };\n}\n","import { MAX_ARRAY_INDEX } from './_setup.js';\n\n// Common internal logic for `isArrayLike` and `isBufferLike`.\nexport default function createSizePropertyCheck(getSizeProperty) {\n  return function(collection) {\n    var sizeProperty = getSizeProperty(collection);\n    return typeof sizeProperty == 'number' && sizeProperty >= 0 && sizeProperty <= MAX_ARRAY_INDEX;\n  }\n}\n","// Internal helper to generate a function to obtain property `key` from `obj`.\nexport default function shallowProperty(key) {\n  return function(obj) {\n    return obj == null ? void 0 : obj[key];\n  };\n}\n","import shallowProperty from './_shallowProperty.js';\n\n// Internal helper to obtain the `byteLength` property of an object.\nexport default shallowProperty('byteLength');\n","import createSizePropertyCheck from './_createSizePropertyCheck.js';\nimport getByteLength from './_getByteLength.js';\n\n// Internal helper to determine whether we should spend extensive checks against\n// `ArrayBuffer` et al.\nexport default createSizePropertyCheck(getByteLength);\n","import { supportsArrayBuffer, nativeIsView, toString } from './_setup.js';\nimport isDataView from './isDataView.js';\nimport constant from './constant.js';\nimport isBufferLike from './_isBufferLike.js';\n\n// Is a given value a typed array?\nvar typedArrayPattern = /\\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\\]/;\nfunction isTypedArray(obj) {\n  // `ArrayBuffer.isView` is the most future-proof, so use it when available.\n  // Otherwise, fall back on the above regular expression.\n  return nativeIsView ? (nativeIsView(obj) && !isDataView(obj)) :\n                isBufferLike(obj) && typedArrayPattern.test(toString.call(obj));\n}\n\nexport default supportsArrayBuffer ? isTypedArray : constant(false);\n","import shallowProperty from './_shallowProperty.js';\n\n// Internal helper to obtain the `length` property of an object.\nexport default shallowProperty('length');\n","import { nonEnumerableProps, ObjProto } from './_setup.js';\nimport isFunction from './isFunction.js';\nimport has from './_has.js';\n\n// Internal helper to create a simple lookup structure.\n// `collectNonEnumProps` used to depend on `_.contains`, but this led to\n// circular imports. `emulatedSet` is a one-off solution that only works for\n// arrays of strings.\nfunction emulatedSet(keys) {\n  var hash = {};\n  for (var l = keys.length, i = 0; i < l; ++i) hash[keys[i]] = true;\n  return {\n    contains: function(key) { return hash[key] === true; },\n    push: function(key) {\n      hash[key] = true;\n      return keys.push(key);\n    }\n  };\n}\n\n// Internal helper. Checks `keys` for the presence of keys in IE < 9 that won't\n// be iterated by `for key in ...` and thus missed. Extends `keys` in place if\n// needed.\nexport default function collectNonEnumProps(obj, keys) {\n  keys = emulatedSet(keys);\n  var nonEnumIdx = nonEnumerableProps.length;\n  var constructor = obj.constructor;\n  var proto = (isFunction(constructor) && constructor.prototype) || ObjProto;\n\n  // Constructor is a special case.\n  var prop = 'constructor';\n  if (has(obj, prop) && !keys.contains(prop)) keys.push(prop);\n\n  while (nonEnumIdx--) {\n    prop = nonEnumerableProps[nonEnumIdx];\n    if (prop in obj && obj[prop] !== proto[prop] && !keys.contains(prop)) {\n      keys.push(prop);\n    }\n  }\n}\n","import isObject from './isObject.js';\nimport { nativeKeys, hasEnumBug } from './_setup.js';\nimport has from './_has.js';\nimport collectNonEnumProps from './_collectNonEnumProps.js';\n\n// Retrieve the names of an object's own properties.\n// Delegates to **ECMAScript 5**'s native `Object.keys`.\nexport default function keys(obj) {\n  if (!isObject(obj)) return [];\n  if (nativeKeys) return nativeKeys(obj);\n  var keys = [];\n  for (var key in obj) if (has(obj, key)) keys.push(key);\n  // Ahem, IE < 9.\n  if (hasEnumBug) collectNonEnumProps(obj, keys);\n  return keys;\n}\n","import getLength from './_getLength.js';\nimport isArray from './isArray.js';\nimport isString from './isString.js';\nimport isArguments from './isArguments.js';\nimport keys from './keys.js';\n\n// Is a given array, string, or object empty?\n// An \"empty\" object has no enumerable own-properties.\nexport default function isEmpty(obj) {\n  if (obj == null) return true;\n  // Skip the more expensive `toString`-based type checks if `obj` has no\n  // `.length`.\n  var length = getLength(obj);\n  if (typeof length == 'number' && (\n    isArray(obj) || isString(obj) || isArguments(obj)\n  )) return length === 0;\n  return getLength(keys(obj)) === 0;\n}\n","import keys from './keys.js';\n\n// Returns whether an object has a given set of `key:value` pairs.\nexport default function isMatch(object, attrs) {\n  var _keys = keys(attrs), length = _keys.length;\n  if (object == null) return !length;\n  var obj = Object(object);\n  for (var i = 0; i < length; i++) {\n    var key = _keys[i];\n    if (attrs[key] !== obj[key] || !(key in obj)) return false;\n  }\n  return true;\n}\n","import { VERSION } from './_setup.js';\n\n// If Underscore is called as a function, it returns a wrapped object that can\n// be used OO-style. This wrapper holds altered versions of all functions added\n// through `_.mixin`. Wrapped objects may be chained.\nexport default function _(obj) {\n  if (obj instanceof _) return obj;\n  if (!(this instanceof _)) return new _(obj);\n  this._wrapped = obj;\n}\n\n_.VERSION = VERSION;\n\n// Extracts the result from a wrapped and chained object.\n_.prototype.value = function() {\n  return this._wrapped;\n};\n\n// Provide unwrapping proxies for some methods used in engine operations\n// such as arithmetic and JSON stringification.\n_.prototype.valueOf = _.prototype.toJSON = _.prototype.value;\n\n_.prototype.toString = function() {\n  return String(this._wrapped);\n};\n","import getByteLength from './_getByteLength.js';\n\n// Internal function to wrap or shallow-copy an ArrayBuffer,\n// typed array or DataView to a new view, reusing the buffer.\nexport default function toBufferView(bufferSource) {\n  return new Uint8Array(\n    bufferSource.buffer || bufferSource,\n    bufferSource.byteOffset || 0,\n    getByteLength(bufferSource)\n  );\n}\n","import _ from './underscore.js';\nimport { toString, SymbolProto } from './_setup.js';\nimport getByteLength from './_getByteLength.js';\nimport isTypedArray from './isTypedArray.js';\nimport isFunction from './isFunction.js';\nimport { hasStringTagBug }  from './_stringTagBug.js';\nimport isDataView from './isDataView.js';\nimport keys from './keys.js';\nimport has from './_has.js';\nimport toBufferView from './_toBufferView.js';\n\n// We use this string twice, so give it a name for minification.\nvar tagDataView = '[object DataView]';\n\n// Internal recursive comparison function for `_.isEqual`.\nfunction eq(a, b, aStack, bStack) {\n  // Identical objects are equal. `0 === -0`, but they aren't identical.\n  // See the [Harmony `egal` proposal](https://wiki.ecmascript.org/doku.php?id=harmony:egal).\n  if (a === b) return a !== 0 || 1 / a === 1 / b;\n  // `null` or `undefined` only equal to itself (strict comparison).\n  if (a == null || b == null) return false;\n  // `NaN`s are equivalent, but non-reflexive.\n  if (a !== a) return b !== b;\n  // Exhaust primitive checks\n  var type = typeof a;\n  if (type !== 'function' && type !== 'object' && typeof b != 'object') return false;\n  return deepEq(a, b, aStack, bStack);\n}\n\n// Internal recursive comparison function for `_.isEqual`.\nfunction deepEq(a, b, aStack, bStack) {\n  // Unwrap any wrapped objects.\n  if (a instanceof _) a = a._wrapped;\n  if (b instanceof _) b = b._wrapped;\n  // Compare `[[Class]]` names.\n  var className = toString.call(a);\n  if (className !== toString.call(b)) return false;\n  // Work around a bug in IE 10 - Edge 13.\n  if (hasStringTagBug && className == '[object Object]' && isDataView(a)) {\n    if (!isDataView(b)) return false;\n    className = tagDataView;\n  }\n  switch (className) {\n    // These types are compared by value.\n    case '[object RegExp]':\n      // RegExps are coerced to strings for comparison (Note: '' + /a/i === '/a/i')\n    case '[object String]':\n      // Primitives and their corresponding object wrappers are equivalent; thus, `\"5\"` is\n      // equivalent to `new String(\"5\")`.\n      return '' + a === '' + b;\n    case '[object Number]':\n      // `NaN`s are equivalent, but non-reflexive.\n      // Object(NaN) is equivalent to NaN.\n      if (+a !== +a) return +b !== +b;\n      // An `egal` comparison is performed for other numeric values.\n      return +a === 0 ? 1 / +a === 1 / b : +a === +b;\n    case '[object Date]':\n    case '[object Boolean]':\n      // Coerce dates and booleans to numeric primitive values. Dates are compared by their\n      // millisecond representations. Note that invalid dates with millisecond representations\n      // of `NaN` are not equivalent.\n      return +a === +b;\n    case '[object Symbol]':\n      return SymbolProto.valueOf.call(a) === SymbolProto.valueOf.call(b);\n    case '[object ArrayBuffer]':\n    case tagDataView:\n      // Coerce to typed array so we can fall through.\n      return deepEq(toBufferView(a), toBufferView(b), aStack, bStack);\n  }\n\n  var areArrays = className === '[object Array]';\n  if (!areArrays && isTypedArray(a)) {\n      var byteLength = getByteLength(a);\n      if (byteLength !== getByteLength(b)) return false;\n      if (a.buffer === b.buffer && a.byteOffset === b.byteOffset) return true;\n      areArrays = true;\n  }\n  if (!areArrays) {\n    if (typeof a != 'object' || typeof b != 'object') return false;\n\n    // Objects with different constructors are not equivalent, but `Object`s or `Array`s\n    // from different frames are.\n    var aCtor = a.constructor, bCtor = b.constructor;\n    if (aCtor !== bCtor && !(isFunction(aCtor) && aCtor instanceof aCtor &&\n                             isFunction(bCtor) && bCtor instanceof bCtor)\n                        && ('constructor' in a && 'constructor' in b)) {\n      return false;\n    }\n  }\n  // Assume equality for cyclic structures. The algorithm for detecting cyclic\n  // structures is adapted from ES 5.1 section 15.12.3, abstract operation `JO`.\n\n  // Initializing stack of traversed objects.\n  // It's done here since we only need them for objects and arrays comparison.\n  aStack = aStack || [];\n  bStack = bStack || [];\n  var length = aStack.length;\n  while (length--) {\n    // Linear search. Performance is inversely proportional to the number of\n    // unique nested structures.\n    if (aStack[length] === a) return bStack[length] === b;\n  }\n\n  // Add the first object to the stack of traversed objects.\n  aStack.push(a);\n  bStack.push(b);\n\n  // Recursively compare objects and arrays.\n  if (areArrays) {\n    // Compare array lengths to determine if a deep comparison is necessary.\n    length = a.length;\n    if (length !== b.length) return false;\n    // Deep compare the contents, ignoring non-numeric properties.\n    while (length--) {\n      if (!eq(a[length], b[length], aStack, bStack)) return false;\n    }\n  } else {\n    // Deep compare objects.\n    var _keys = keys(a), key;\n    length = _keys.length;\n    // Ensure that both objects contain the same number of properties before comparing deep equality.\n    if (keys(b).length !== length) return false;\n    while (length--) {\n      // Deep compare each member\n      key = _keys[length];\n      if (!(has(b, key) && eq(a[key], b[key], aStack, bStack))) return false;\n    }\n  }\n  // Remove the first object from the stack of traversed objects.\n  aStack.pop();\n  bStack.pop();\n  return true;\n}\n\n// Perform a deep comparison to check if two objects are equal.\nexport default function isEqual(a, b) {\n  return eq(a, b);\n}\n","import isObject from './isObject.js';\nimport { hasEnumBug } from './_setup.js';\nimport collectNonEnumProps from './_collectNonEnumProps.js';\n\n// Retrieve all the enumerable property names of an object.\nexport default function allKeys(obj) {\n  if (!isObject(obj)) return [];\n  var keys = [];\n  for (var key in obj) keys.push(key);\n  // Ahem, IE < 9.\n  if (hasEnumBug) collectNonEnumProps(obj, keys);\n  return keys;\n}\n","import getLength from './_getLength.js';\nimport isFunction from './isFunction.js';\nimport allKeys from './allKeys.js';\n\n// Since the regular `Object.prototype.toString` type tests don't work for\n// some types in IE 11, we use a fingerprinting heuristic instead, based\n// on the methods. It's not great, but it's the best we got.\n// The fingerprint method lists are defined below.\nexport function ie11fingerprint(methods) {\n  var length = getLength(methods);\n  return function(obj) {\n    if (obj == null) return false;\n    // `Map`, `WeakMap` and `Set` have no enumerable keys.\n    var keys = allKeys(obj);\n    if (getLength(keys)) return false;\n    for (var i = 0; i < length; i++) {\n      if (!isFunction(obj[methods[i]])) return false;\n    }\n    // If we are testing against `WeakMap`, we need to ensure that\n    // `obj` doesn't have a `forEach` method in order to distinguish\n    // it from a regular `Map`.\n    return methods !== weakMapMethods || !isFunction(obj[forEachName]);\n  };\n}\n\n// In the interest of compact minification, we write\n// each string in the fingerprints only once.\nvar forEachName = 'forEach',\n    hasName = 'has',\n    commonInit = ['clear', 'delete'],\n    mapTail = ['get', hasName, 'set'];\n\n// `Map`, `WeakMap` and `Set` each have slightly different\n// combinations of the above sublists.\nexport var mapMethods = commonInit.concat(forEachName, mapTail),\n    weakMapMethods = commonInit.concat(mapTail),\n    setMethods = ['add'].concat(commonInit, forEachName, hasName);\n","import tagTester from './_tagTester.js';\nimport { isIE11 } from './_stringTagBug.js';\nimport { ie11fingerprint, mapMethods }  from './_methodFingerprint.js';\n\nexport default isIE11 ? ie11fingerprint(mapMethods) : tagTester('Map');\n","import tagTester from './_tagTester.js';\nimport { isIE11 } from './_stringTagBug.js';\nimport { ie11fingerprint, weakMapMethods }  from './_methodFingerprint.js';\n\nexport default isIE11 ? ie11fingerprint(weakMapMethods) : tagTester('WeakMap');\n","import tagTester from './_tagTester.js';\nimport { isIE11 } from './_stringTagBug.js';\nimport { ie11fingerprint, setMethods }  from './_methodFingerprint.js';\n\nexport default isIE11 ? ie11fingerprint(setMethods) : tagTester('Set');\n","import tagTester from './_tagTester.js';\n\nexport default tagTester('WeakSet');\n","import keys from './keys.js';\n\n// Retrieve the values of an object's properties.\nexport default function values(obj) {\n  var _keys = keys(obj);\n  var length = _keys.length;\n  var values = Array(length);\n  for (var i = 0; i < length; i++) {\n    values[i] = obj[_keys[i]];\n  }\n  return values;\n}\n","import keys from './keys.js';\n\n// Convert an object into a list of `[key, value]` pairs.\n// The opposite of `_.object` with one argument.\nexport default function pairs(obj) {\n  var _keys = keys(obj);\n  var length = _keys.length;\n  var pairs = Array(length);\n  for (var i = 0; i < length; i++) {\n    pairs[i] = [_keys[i], obj[_keys[i]]];\n  }\n  return pairs;\n}\n","import keys from './keys.js';\n\n// Invert the keys and values of an object. The values must be serializable.\nexport default function invert(obj) {\n  var result = {};\n  var _keys = keys(obj);\n  for (var i = 0, length = _keys.length; i < length; i++) {\n    result[obj[_keys[i]]] = _keys[i];\n  }\n  return result;\n}\n","import isFunction from './isFunction.js';\n\n// Return a sorted list of the function names available on the object.\nexport default function functions(obj) {\n  var names = [];\n  for (var key in obj) {\n    if (isFunction(obj[key])) names.push(key);\n  }\n  return names.sort();\n}\n","// An internal function for creating assigner functions.\nexport default function createAssigner(keysFunc, defaults) {\n  return function(obj) {\n    var length = arguments.length;\n    if (defaults) obj = Object(obj);\n    if (length < 2 || obj == null) return obj;\n    for (var index = 1; index < length; index++) {\n      var source = arguments[index],\n          keys = keysFunc(source),\n          l = keys.length;\n      for (var i = 0; i < l; i++) {\n        var key = keys[i];\n        if (!defaults || obj[key] === void 0) obj[key] = source[key];\n      }\n    }\n    return obj;\n  };\n}\n","import createAssigner from './_createAssigner.js';\nimport allKeys from './allKeys.js';\n\n// Extend a given object with all the properties in passed-in object(s).\nexport default createAssigner(allKeys);\n","import createAssigner from './_createAssigner.js';\nimport keys from './keys.js';\n\n// Assigns a given object with all the own properties in the passed-in\n// object(s).\n// (https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object/assign)\nexport default createAssigner(keys);\n","import createAssigner from './_createAssigner.js';\nimport allKeys from './allKeys.js';\n\n// Fill in a given object with default properties.\nexport default createAssigner(allKeys, true);\n","import isObject from './isObject.js';\nimport { nativeCreate } from './_setup.js';\n\n// Create a naked function reference for surrogate-prototype-swapping.\nfunction ctor() {\n  return function(){};\n}\n\n// An internal function for creating a new object that inherits from another.\nexport default function baseCreate(prototype) {\n  if (!isObject(prototype)) return {};\n  if (nativeCreate) return nativeCreate(prototype);\n  var Ctor = ctor();\n  Ctor.prototype = prototype;\n  var result = new Ctor;\n  Ctor.prototype = null;\n  return result;\n}\n","import baseCreate from './_baseCreate.js';\nimport extendOwn from './extendOwn.js';\n\n// Creates an object that inherits from the given prototype object.\n// If additional properties are provided then they will be added to the\n// created object.\nexport default function create(prototype, props) {\n  var result = baseCreate(prototype);\n  if (props) extendOwn(result, props);\n  return result;\n}\n","import isObject from './isObject.js';\nimport isArray from './isArray.js';\nimport extend from './extend.js';\n\n// Create a (shallow-cloned) duplicate of an object.\nexport default function clone(obj) {\n  if (!isObject(obj)) return obj;\n  return isArray(obj) ? obj.slice() : extend({}, obj);\n}\n","// Invokes `interceptor` with the `obj` and then returns `obj`.\n// The primary purpose of this method is to \"tap into\" a method chain, in\n// order to perform operations on intermediate results within the chain.\nexport default function tap(obj, interceptor) {\n  interceptor(obj);\n  return obj;\n}\n","import _ from './underscore.js';\nimport isArray from './isArray.js';\n\n// Normalize a (deep) property `path` to array.\n// Like `_.iteratee`, this function can be customized.\nexport default function toPath(path) {\n  return isArray(path) ? path : [path];\n}\n_.toPath = toPath;\n","import _ from './underscore.js';\nimport './toPath.js';\n\n// Internal wrapper for `_.toPath` to enable minification.\n// Similar to `cb` for `_.iteratee`.\nexport default function toPath(path) {\n  return _.toPath(path);\n}\n","// Internal function to obtain a nested property in `obj` along `path`.\nexport default function deepGet(obj, path) {\n  var length = path.length;\n  for (var i = 0; i < length; i++) {\n    if (obj == null) return void 0;\n    obj = obj[path[i]];\n  }\n  return length ? obj : void 0;\n}\n","import toPath from './_toPath.js';\nimport deepGet from './_deepGet.js';\nimport isUndefined from './isUndefined.js';\n\n// Get the value of the (deep) property on `path` from `object`.\n// If any property in `path` does not exist or if the value is\n// `undefined`, return `defaultValue` instead.\n// The `path` is normalized through `_.toPath`.\nexport default function get(object, path, defaultValue) {\n  var value = deepGet(object, toPath(path));\n  return isUndefined(value) ? defaultValue : value;\n}\n","import _has from './_has.js';\nimport toPath from './_toPath.js';\n\n// Shortcut function for checking if an object has a given property directly on\n// itself (in other words, not on a prototype). Unlike the internal `has`\n// function, this public version can also traverse nested properties.\nexport default function has(obj, path) {\n  path = toPath(path);\n  var length = path.length;\n  for (var i = 0; i < length; i++) {\n    var key = path[i];\n    if (!_has(obj, key)) return false;\n    obj = obj[key];\n  }\n  return !!length;\n}\n","// Keep the identity function around for default iteratees.\nexport default function identity(value) {\n  return value;\n}\n","import extendOwn from './extendOwn.js';\nimport isMatch from './isMatch.js';\n\n// Returns a predicate for checking whether an object has a given set of\n// `key:value` pairs.\nexport default function matcher(attrs) {\n  attrs = extendOwn({}, attrs);\n  return function(obj) {\n    return isMatch(obj, attrs);\n  };\n}\n","import deepGet from './_deepGet.js';\nimport toPath from './_toPath.js';\n\n// Creates a function that, when passed an object, will traverse that objects\n// properties down the given `path`, specified as an array of keys or indices.\nexport default function property(path) {\n  path = toPath(path);\n  return function(obj) {\n    return deepGet(obj, path);\n  };\n}\n","// Internal function that returns an efficient (for current engines) version\n// of the passed-in callback, to be repeatedly applied in other Underscore\n// functions.\nexport default function optimizeCb(func, context, argCount) {\n  if (context === void 0) return func;\n  switch (argCount == null ? 3 : argCount) {\n    case 1: return function(value) {\n      return func.call(context, value);\n    };\n    // The 2-argument case is omitted because were not using it.\n    case 3: return function(value, index, collection) {\n      return func.call(context, value, index, collection);\n    };\n    case 4: return function(accumulator, value, index, collection) {\n      return func.call(context, accumulator, value, index, collection);\n    };\n  }\n  return function() {\n    return func.apply(context, arguments);\n  };\n}\n","import identity from './identity.js';\nimport isFunction from './isFunction.js';\nimport isObject from './isObject.js';\nimport isArray from './isArray.js';\nimport matcher from './matcher.js';\nimport property from './property.js';\nimport optimizeCb from './_optimizeCb.js';\n\n// An internal function to generate callbacks that can be applied to each\n// element in a collection, returning the desired result  either `_.identity`,\n// an arbitrary callback, a property matcher, or a property accessor.\nexport default function baseIteratee(value, context, argCount) {\n  if (value == null) return identity;\n  if (isFunction(value)) return optimizeCb(value, context, argCount);\n  if (isObject(value) && !isArray(value)) return matcher(value);\n  return property(value);\n}\n","import _ from './underscore.js';\nimport baseIteratee from './_baseIteratee.js';\n\n// External wrapper for our callback generator. Users may customize\n// `_.iteratee` if they want additional predicate/iteratee shorthand styles.\n// This abstraction hides the internal-only `argCount` argument.\nexport default function iteratee(value, context) {\n  return baseIteratee(value, context, Infinity);\n}\n_.iteratee = iteratee;\n","import _ from './underscore.js';\nimport baseIteratee from './_baseIteratee.js';\nimport iteratee from './iteratee.js';\n\n// The function we call internally to generate a callback. It invokes\n// `_.iteratee` if overridden, otherwise `baseIteratee`.\nexport default function cb(value, context, argCount) {\n  if (_.iteratee !== iteratee) return _.iteratee(value, context);\n  return baseIteratee(value, context, argCount);\n}\n","import cb from './_cb.js';\nimport keys from './keys.js';\n\n// Returns the results of applying the `iteratee` to each element of `obj`.\n// In contrast to `_.map` it returns an object.\nexport default function mapObject(obj, iteratee, context) {\n  iteratee = cb(iteratee, context);\n  var _keys = keys(obj),\n      length = _keys.length,\n      results = {};\n  for (var index = 0; index < length; index++) {\n    var currentKey = _keys[index];\n    results[currentKey] = iteratee(obj[currentKey], currentKey, obj);\n  }\n  return results;\n}\n","// Predicate-generating function. Often useful outside of Underscore.\nexport default function noop(){}\n","import noop from './noop.js';\nimport get from './get.js';\n\n// Generates a function for a given object that returns a given property.\nexport default function propertyOf(obj) {\n  if (obj == null) return noop;\n  return function(path) {\n    return get(obj, path);\n  };\n}\n","import optimizeCb from './_optimizeCb.js';\n\n// Run a function **n** times.\nexport default function times(n, iteratee, context) {\n  var accum = Array(Math.max(0, n));\n  iteratee = optimizeCb(iteratee, context, 1);\n  for (var i = 0; i < n; i++) accum[i] = iteratee(i);\n  return accum;\n}\n","// Return a random integer between `min` and `max` (inclusive).\nexport default function random(min, max) {\n  if (max == null) {\n    max = min;\n    min = 0;\n  }\n  return min + Math.floor(Math.random() * (max - min + 1));\n}\n","// A (possibly faster) way to get the current timestamp as an integer.\nexport default Date.now || function() {\n  return new Date().getTime();\n};\n","import keys from './keys.js';\n\n// Internal helper to generate functions for escaping and unescaping strings\n// to/from HTML interpolation.\nexport default function createEscaper(map) {\n  var escaper = function(match) {\n    return map[match];\n  };\n  // Regexes for identifying a key that needs to be escaped.\n  var source = '(?:' + keys(map).join('|') + ')';\n  var testRegexp = RegExp(source);\n  var replaceRegexp = RegExp(source, 'g');\n  return function(string) {\n    string = string == null ? '' : '' + string;\n    return testRegexp.test(string) ? string.replace(replaceRegexp, escaper) : string;\n  };\n}\n","// Internal list of HTML entities for escaping.\nexport default {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;',\n  \"'\": '&#x27;',\n  '`': '&#x60;'\n};\n","import createEscaper from './_createEscaper.js';\nimport escapeMap from './_escapeMap.js';\n\n// Function for escaping strings to HTML interpolation.\nexport default createEscaper(escapeMap);\n","import createEscaper from './_createEscaper.js';\nimport unescapeMap from './_unescapeMap.js';\n\n// Function for unescaping strings from HTML interpolation.\nexport default createEscaper(unescapeMap);\n","import invert from './invert.js';\nimport escapeMap from './_escapeMap.js';\n\n// Internal list of HTML entities for unescaping.\nexport default invert(escapeMap);\n","import _ from './underscore.js';\n\n// By default, Underscore uses ERB-style template delimiters. Change the\n// following template settings to use alternative delimiters.\nexport default _.templateSettings = {\n  evaluate: /<%([\\s\\S]+?)%>/g,\n  interpolate: /<%=([\\s\\S]+?)%>/g,\n  escape: /<%-([\\s\\S]+?)%>/g\n};\n","import defaults from './defaults.js';\nimport _ from './underscore.js';\nimport './templateSettings.js';\n\n// When customizing `_.templateSettings`, if you don't want to define an\n// interpolation, evaluation or escaping regex, we need one that is\n// guaranteed not to match.\nvar noMatch = /(.)^/;\n\n// Certain characters need to be escaped so that they can be put into a\n// string literal.\nvar escapes = {\n  \"'\": \"'\",\n  '\\\\': '\\\\',\n  '\\r': 'r',\n  '\\n': 'n',\n  '\\u2028': 'u2028',\n  '\\u2029': 'u2029'\n};\n\nvar escapeRegExp = /\\\\|'|\\r|\\n|\\u2028|\\u2029/g;\n\nfunction escapeChar(match) {\n  return '\\\\' + escapes[match];\n}\n\n// In order to prevent third-party code injection through\n// `_.templateSettings.variable`, we test it against the following regular\n// expression. It is intentionally a bit more liberal than just matching valid\n// identifiers, but still prevents possible loopholes through defaults or\n// destructuring assignment.\nvar bareIdentifier = /^\\s*(\\w|\\$)+\\s*$/;\n\n// JavaScript micro-templating, similar to John Resig's implementation.\n// Underscore templating handles arbitrary delimiters, preserves whitespace,\n// and correctly escapes quotes within interpolated code.\n// NB: `oldSettings` only exists for backwards compatibility.\nexport default function template(text, settings, oldSettings) {\n  if (!settings && oldSettings) settings = oldSettings;\n  settings = defaults({}, settings, _.templateSettings);\n\n  // Combine delimiters into one regular expression via alternation.\n  var matcher = RegExp([\n    (settings.escape || noMatch).source,\n    (settings.interpolate || noMatch).source,\n    (settings.evaluate || noMatch).source\n  ].join('|') + '|$', 'g');\n\n  // Compile the template source, escaping string literals appropriately.\n  var index = 0;\n  var source = \"__p+='\";\n  text.replace(matcher, function(match, escape, interpolate, evaluate, offset) {\n    source += text.slice(index, offset).replace(escapeRegExp, escapeChar);\n    index = offset + match.length;\n\n    if (escape) {\n      source += \"'+\\n((__t=(\" + escape + \"))==null?'':_.escape(__t))+\\n'\";\n    } else if (interpolate) {\n      source += \"'+\\n((__t=(\" + interpolate + \"))==null?'':__t)+\\n'\";\n    } else if (evaluate) {\n      source += \"';\\n\" + evaluate + \"\\n__p+='\";\n    }\n\n    // Adobe VMs need the match returned to produce the correct offset.\n    return match;\n  });\n  source += \"';\\n\";\n\n  var argument = settings.variable;\n  if (argument) {\n    // Insure against third-party code injection. (CVE-2021-23358)\n    if (!bareIdentifier.test(argument)) throw new Error(\n      'variable is not a bare identifier: ' + argument\n    );\n  } else {\n    // If a variable is not specified, place data values in local scope.\n    source = 'with(obj||{}){\\n' + source + '}\\n';\n    argument = 'obj';\n  }\n\n  source = \"var __t,__p='',__j=Array.prototype.join,\" +\n    \"print=function(){__p+=__j.call(arguments,'');};\\n\" +\n    source + 'return __p;\\n';\n\n  var render;\n  try {\n    render = new Function(argument, '_', source);\n  } catch (e) {\n    e.source = source;\n    throw e;\n  }\n\n  var template = function(data) {\n    return render.call(this, data, _);\n  };\n\n  // Provide the compiled source as a convenience for precompilation.\n  template.source = 'function(' + argument + '){\\n' + source + '}';\n\n  return template;\n}\n","import isFunction from './isFunction.js';\nimport toPath from './_toPath.js';\n\n// Traverses the children of `obj` along `path`. If a child is a function, it\n// is invoked with its parent as context. Returns the value of the final\n// child, or `fallback` if any child is undefined.\nexport default function result(obj, path, fallback) {\n  path = toPath(path);\n  var length = path.length;\n  if (!length) {\n    return isFunction(fallback) ? fallback.call(obj) : fallback;\n  }\n  for (var i = 0; i < length; i++) {\n    var prop = obj == null ? void 0 : obj[path[i]];\n    if (prop === void 0) {\n      prop = fallback;\n      i = length; // Ensure we don't continue iterating.\n    }\n    obj = isFunction(prop) ? prop.call(obj) : prop;\n  }\n  return obj;\n}\n","// Generate a unique integer id (unique within the entire client session).\n// Useful for temporary DOM ids.\nvar idCounter = 0;\nexport default function uniqueId(prefix) {\n  var id = ++idCounter + '';\n  return prefix ? prefix + id : id;\n}\n","import _ from './underscore.js';\n\n// Start chaining a wrapped Underscore object.\nexport default function chain(obj) {\n  var instance = _(obj);\n  instance._chain = true;\n  return instance;\n}\n","import baseCreate from './_baseCreate.js';\nimport isObject from './isObject.js';\n\n// Internal function to execute `sourceFunc` bound to `context` with optional\n// `args`. Determines whether to execute a function as a constructor or as a\n// normal function.\nexport default function executeBound(sourceFunc, boundFunc, context, callingContext, args) {\n  if (!(callingContext instanceof boundFunc)) return sourceFunc.apply(context, args);\n  var self = baseCreate(sourceFunc.prototype);\n  var result = sourceFunc.apply(self, args);\n  if (isObject(result)) return result;\n  return self;\n}\n","import restArguments from './restArguments.js';\nimport executeBound from './_executeBound.js';\nimport _ from './underscore.js';\n\n// Partially apply a function by creating a version that has had some of its\n// arguments pre-filled, without changing its dynamic `this` context. `_` acts\n// as a placeholder by default, allowing any combination of arguments to be\n// pre-filled. Set `_.partial.placeholder` for a custom placeholder argument.\nvar partial = restArguments(function(func, boundArgs) {\n  var placeholder = partial.placeholder;\n  var bound = function() {\n    var position = 0, length = boundArgs.length;\n    var args = Array(length);\n    for (var i = 0; i < length; i++) {\n      args[i] = boundArgs[i] === placeholder ? arguments[position++] : boundArgs[i];\n    }\n    while (position < arguments.length) args.push(arguments[position++]);\n    return executeBound(func, bound, this, this, args);\n  };\n  return bound;\n});\n\npartial.placeholder = _;\nexport default partial;\n","import restArguments from './restArguments.js';\nimport isFunction from './isFunction.js';\nimport executeBound from './_executeBound.js';\n\n// Create a function bound to a given object (assigning `this`, and arguments,\n// optionally).\nexport default restArguments(function(func, context, args) {\n  if (!isFunction(func)) throw new TypeError('Bind must be called on a function');\n  var bound = restArguments(function(callArgs) {\n    return executeBound(func, bound, context, this, args.concat(callArgs));\n  });\n  return bound;\n});\n","import createSizePropertyCheck from './_createSizePropertyCheck.js';\nimport getLength from './_getLength.js';\n\n// Internal helper for collection methods to determine whether a collection\n// should be iterated as an array or as an object.\n// Related: https://people.mozilla.org/~jorendorff/es6-draft.html#sec-tolength\n// Avoids a very nasty iOS 8 JIT bug on ARM-64. #2094\nexport default createSizePropertyCheck(getLength);\n","import getLength from './_getLength.js';\nimport isArrayLike from './_isArrayLike.js';\nimport isArray from './isArray.js';\nimport isArguments from './isArguments.js';\n\n// Internal implementation of a recursive `flatten` function.\nexport default function flatten(input, depth, strict, output) {\n  output = output || [];\n  if (!depth && depth !== 0) {\n    depth = Infinity;\n  } else if (depth <= 0) {\n    return output.concat(input);\n  }\n  var idx = output.length;\n  for (var i = 0, length = getLength(input); i < length; i++) {\n    var value = input[i];\n    if (isArrayLike(value) && (isArray(value) || isArguments(value))) {\n      // Flatten current level of array or arguments object.\n      if (depth > 1) {\n        flatten(value, depth - 1, strict, output);\n        idx = output.length;\n      } else {\n        var j = 0, len = value.length;\n        while (j < len) output[idx++] = value[j++];\n      }\n    } else if (!strict) {\n      output[idx++] = value;\n    }\n  }\n  return output;\n}\n","import restArguments from './restArguments.js';\nimport flatten from './_flatten.js';\nimport bind from './bind.js';\n\n// Bind a number of an object's methods to that object. Remaining arguments\n// are the method names to be bound. Useful for ensuring that all callbacks\n// defined on an object belong to it.\nexport default restArguments(function(obj, keys) {\n  keys = flatten(keys, false, false);\n  var index = keys.length;\n  if (index < 1) throw new Error('bindAll must be passed function names');\n  while (index--) {\n    var key = keys[index];\n    obj[key] = bind(obj[key], obj);\n  }\n  return obj;\n});\n","import has from './_has.js';\n\n// Memoize an expensive function by storing its results.\nexport default function memoize(func, hasher) {\n  var memoize = function(key) {\n    var cache = memoize.cache;\n    var address = '' + (hasher ? hasher.apply(this, arguments) : key);\n    if (!has(cache, address)) cache[address] = func.apply(this, arguments);\n    return cache[address];\n  };\n  memoize.cache = {};\n  return memoize;\n}\n","import restArguments from './restArguments.js';\n\n// Delays a function for the given number of milliseconds, and then calls\n// it with the arguments supplied.\nexport default restArguments(function(func, wait, args) {\n  return setTimeout(function() {\n    return func.apply(null, args);\n  }, wait);\n});\n","import partial from './partial.js';\nimport delay from './delay.js';\nimport _ from './underscore.js';\n\n// Defers a function, scheduling it to run after the current call stack has\n// cleared.\nexport default partial(delay, _, 1);\n","import now from './now.js';\n\n// Returns a function, that, when invoked, will only be triggered at most once\n// during a given window of time. Normally, the throttled function will run\n// as much as it can, without ever going more than once per `wait` duration;\n// but if you'd like to disable the execution on the leading edge, pass\n// `{leading: false}`. To disable execution on the trailing edge, ditto.\nexport default function throttle(func, wait, options) {\n  var timeout, context, args, result;\n  var previous = 0;\n  if (!options) options = {};\n\n  var later = function() {\n    previous = options.leading === false ? 0 : now();\n    timeout = null;\n    result = func.apply(context, args);\n    if (!timeout) context = args = null;\n  };\n\n  var throttled = function() {\n    var _now = now();\n    if (!previous && options.leading === false) previous = _now;\n    var remaining = wait - (_now - previous);\n    context = this;\n    args = arguments;\n    if (remaining <= 0 || remaining > wait) {\n      if (timeout) {\n        clearTimeout(timeout);\n        timeout = null;\n      }\n      previous = _now;\n      result = func.apply(context, args);\n      if (!timeout) context = args = null;\n    } else if (!timeout && options.trailing !== false) {\n      timeout = setTimeout(later, remaining);\n    }\n    return result;\n  };\n\n  throttled.cancel = function() {\n    clearTimeout(timeout);\n    previous = 0;\n    timeout = context = args = null;\n  };\n\n  return throttled;\n}\n","import restArguments from './restArguments.js';\nimport now from './now.js';\n\n// When a sequence of calls of the returned function ends, the argument\n// function is triggered. The end of a sequence is defined by the `wait`\n// parameter. If `immediate` is passed, the argument function will be\n// triggered at the beginning of the sequence instead of at the end.\nexport default function debounce(func, wait, immediate) {\n  var timeout, previous, args, result, context;\n\n  var later = function() {\n    var passed = now() - previous;\n    if (wait > passed) {\n      timeout = setTimeout(later, wait - passed);\n    } else {\n      timeout = null;\n      if (!immediate) result = func.apply(context, args);\n      // This check is needed because `func` can recursively invoke `debounced`.\n      if (!timeout) args = context = null;\n    }\n  };\n\n  var debounced = restArguments(function(_args) {\n    context = this;\n    args = _args;\n    previous = now();\n    if (!timeout) {\n      timeout = setTimeout(later, wait);\n      if (immediate) result = func.apply(context, args);\n    }\n    return result;\n  });\n\n  debounced.cancel = function() {\n    clearTimeout(timeout);\n    timeout = args = context = null;\n  };\n\n  return debounced;\n}\n","import partial from './partial.js';\n\n// Returns the first function passed as an argument to the second,\n// allowing you to adjust arguments, run code before and after, and\n// conditionally execute the original function.\nexport default function wrap(func, wrapper) {\n  return partial(wrapper, func);\n}\n","// Returns a negated version of the passed-in predicate.\nexport default function negate(predicate) {\n  return function() {\n    return !predicate.apply(this, arguments);\n  };\n}\n","// Returns a function that is the composition of a list of functions, each\n// consuming the return value of the function that follows.\nexport default function compose() {\n  var args = arguments;\n  var start = args.length - 1;\n  return function() {\n    var i = start;\n    var result = args[start].apply(this, arguments);\n    while (i--) result = args[i].call(this, result);\n    return result;\n  };\n}\n","// Returns a function that will only be executed on and after the Nth call.\nexport default function after(times, func) {\n  return function() {\n    if (--times < 1) {\n      return func.apply(this, arguments);\n    }\n  };\n}\n","// Returns a function that will only be executed up to (but not including) the\n// Nth call.\nexport default function before(times, func) {\n  var memo;\n  return function() {\n    if (--times > 0) {\n      memo = func.apply(this, arguments);\n    }\n    if (times <= 1) func = null;\n    return memo;\n  };\n}\n","import partial from './partial.js';\nimport before from './before.js';\n\n// Returns a function that will be executed at most one time, no matter how\n// often you call it. Useful for lazy initialization.\nexport default partial(before, 2);\n","import cb from './_cb.js';\nimport keys from './keys.js';\n\n// Returns the first key on an object that passes a truth test.\nexport default function findKey(obj, predicate, context) {\n  predicate = cb(predicate, context);\n  var _keys = keys(obj), key;\n  for (var i = 0, length = _keys.length; i < length; i++) {\n    key = _keys[i];\n    if (predicate(obj[key], key, obj)) return key;\n  }\n}\n","import cb from './_cb.js';\nimport getLength from './_getLength.js';\n\n// Internal function to generate `_.findIndex` and `_.findLastIndex`.\nexport default function createPredicateIndexFinder(dir) {\n  return function(array, predicate, context) {\n    predicate = cb(predicate, context);\n    var length = getLength(array);\n    var index = dir > 0 ? 0 : length - 1;\n    for (; index >= 0 && index < length; index += dir) {\n      if (predicate(array[index], index, array)) return index;\n    }\n    return -1;\n  };\n}\n","import createPredicateIndexFinder from './_createPredicateIndexFinder.js';\n\n// Returns the first index on an array-like that passes a truth test.\nexport default createPredicateIndexFinder(1);\n","import createPredicateIndexFinder from './_createPredicateIndexFinder.js';\n\n// Returns the last index on an array-like that passes a truth test.\nexport default createPredicateIndexFinder(-1);\n","import cb from './_cb.js';\nimport getLength from './_getLength.js';\n\n// Use a comparator function to figure out the smallest index at which\n// an object should be inserted so as to maintain order. Uses binary search.\nexport default function sortedIndex(array, obj, iteratee, context) {\n  iteratee = cb(iteratee, context, 1);\n  var value = iteratee(obj);\n  var low = 0, high = getLength(array);\n  while (low < high) {\n    var mid = Math.floor((low + high) / 2);\n    if (iteratee(array[mid]) < value) low = mid + 1; else high = mid;\n  }\n  return low;\n}\n","import getLength from './_getLength.js';\nimport { slice } from './_setup.js';\nimport isNaN from './isNaN.js';\n\n// Internal function to generate the `_.indexOf` and `_.lastIndexOf` functions.\nexport default function createIndexFinder(dir, predicateFind, sortedIndex) {\n  return function(array, item, idx) {\n    var i = 0, length = getLength(array);\n    if (typeof idx == 'number') {\n      if (dir > 0) {\n        i = idx >= 0 ? idx : Math.max(idx + length, i);\n      } else {\n        length = idx >= 0 ? Math.min(idx + 1, length) : idx + length + 1;\n      }\n    } else if (sortedIndex && idx && length) {\n      idx = sortedIndex(array, item);\n      return array[idx] === item ? idx : -1;\n    }\n    if (item !== item) {\n      idx = predicateFind(slice.call(array, i, length), isNaN);\n      return idx >= 0 ? idx + i : -1;\n    }\n    for (idx = dir > 0 ? i : length - 1; idx >= 0 && idx < length; idx += dir) {\n      if (array[idx] === item) return idx;\n    }\n    return -1;\n  };\n}\n","import sortedIndex from './sortedIndex.js';\nimport findIndex from './findIndex.js';\nimport createIndexFinder from './_createIndexFinder.js';\n\n// Return the position of the first occurrence of an item in an array,\n// or -1 if the item is not included in the array.\n// If the array is large and already in sort order, pass `true`\n// for **isSorted** to use binary search.\nexport default createIndexFinder(1, findIndex, sortedIndex);\n","import findLastIndex from './findLastIndex.js';\nimport createIndexFinder from './_createIndexFinder.js';\n\n// Return the position of the last occurrence of an item in an array,\n// or -1 if the item is not included in the array.\nexport default createIndexFinder(-1, findLastIndex);\n","import isArrayLike from './_isArrayLike.js';\nimport findIndex from './findIndex.js';\nimport findKey from './findKey.js';\n\n// Return the first value which passes a truth test.\nexport default function find(obj, predicate, context) {\n  var keyFinder = isArrayLike(obj) ? findIndex : findKey;\n  var key = keyFinder(obj, predicate, context);\n  if (key !== void 0 && key !== -1) return obj[key];\n}\n","import find from './find.js';\nimport matcher from './matcher.js';\n\n// Convenience version of a common use case of `_.find`: getting the first\n// object containing specific `key:value` pairs.\nexport default function findWhere(obj, attrs) {\n  return find(obj, matcher(attrs));\n}\n","import optimizeCb from './_optimizeCb.js';\nimport isArrayLike from './_isArrayLike.js';\nimport keys from './keys.js';\n\n// The cornerstone for collection functions, an `each`\n// implementation, aka `forEach`.\n// Handles raw objects in addition to array-likes. Treats all\n// sparse array-likes as if they were dense.\nexport default function each(obj, iteratee, context) {\n  iteratee = optimizeCb(iteratee, context);\n  var i, length;\n  if (isArrayLike(obj)) {\n    for (i = 0, length = obj.length; i < length; i++) {\n      iteratee(obj[i], i, obj);\n    }\n  } else {\n    var _keys = keys(obj);\n    for (i = 0, length = _keys.length; i < length; i++) {\n      iteratee(obj[_keys[i]], _keys[i], obj);\n    }\n  }\n  return obj;\n}\n","import cb from './_cb.js';\nimport isArrayLike from './_isArrayLike.js';\nimport keys from './keys.js';\n\n// Return the results of applying the iteratee to each element.\nexport default function map(obj, iteratee, context) {\n  iteratee = cb(iteratee, context);\n  var _keys = !isArrayLike(obj) && keys(obj),\n      length = (_keys || obj).length,\n      results = Array(length);\n  for (var index = 0; index < length; index++) {\n    var currentKey = _keys ? _keys[index] : index;\n    results[index] = iteratee(obj[currentKey], currentKey, obj);\n  }\n  return results;\n}\n","import isArrayLike from './_isArrayLike.js';\nimport keys from './keys.js';\nimport optimizeCb from './_optimizeCb.js';\n\n// Internal helper to create a reducing function, iterating left or right.\nexport default function createReduce(dir) {\n  // Wrap code that reassigns argument variables in a separate function than\n  // the one that accesses `arguments.length` to avoid a perf hit. (#1991)\n  var reducer = function(obj, iteratee, memo, initial) {\n    var _keys = !isArrayLike(obj) && keys(obj),\n        length = (_keys || obj).length,\n        index = dir > 0 ? 0 : length - 1;\n    if (!initial) {\n      memo = obj[_keys ? _keys[index] : index];\n      index += dir;\n    }\n    for (; index >= 0 && index < length; index += dir) {\n      var currentKey = _keys ? _keys[index] : index;\n      memo = iteratee(memo, obj[currentKey], currentKey, obj);\n    }\n    return memo;\n  };\n\n  return function(obj, iteratee, memo, context) {\n    var initial = arguments.length >= 3;\n    return reducer(obj, optimizeCb(iteratee, context, 4), memo, initial);\n  };\n}\n","import createReduce from './_createReduce.js';\n\n// **Reduce** builds up a single result from a list of values, aka `inject`,\n// or `foldl`.\nexport default createReduce(1);\n","import createReduce from './_createReduce.js';\n\n// The right-associative version of reduce, also known as `foldr`.\nexport default createReduce(-1);\n","import cb from './_cb.js';\nimport each from './each.js';\n\n// Return all the elements that pass a truth test.\nexport default function filter(obj, predicate, context) {\n  var results = [];\n  predicate = cb(predicate, context);\n  each(obj, function(value, index, list) {\n    if (predicate(value, index, list)) results.push(value);\n  });\n  return results;\n}\n","import filter from './filter.js';\nimport negate from './negate.js';\nimport cb from './_cb.js';\n\n// Return all the elements for which a truth test fails.\nexport default function reject(obj, predicate, context) {\n  return filter(obj, negate(cb(predicate)), context);\n}\n","import cb from './_cb.js';\nimport isArrayLike from './_isArrayLike.js';\nimport keys from './keys.js';\n\n// Determine whether all of the elements pass a truth test.\nexport default function every(obj, predicate, context) {\n  predicate = cb(predicate, context);\n  var _keys = !isArrayLike(obj) && keys(obj),\n      length = (_keys || obj).length;\n  for (var index = 0; index < length; index++) {\n    var currentKey = _keys ? _keys[index] : index;\n    if (!predicate(obj[currentKey], currentKey, obj)) return false;\n  }\n  return true;\n}\n","import cb from './_cb.js';\nimport isArrayLike from './_isArrayLike.js';\nimport keys from './keys.js';\n\n// Determine if at least one element in the object passes a truth test.\nexport default function some(obj, predicate, context) {\n  predicate = cb(predicate, context);\n  var _keys = !isArrayLike(obj) && keys(obj),\n      length = (_keys || obj).length;\n  for (var index = 0; index < length; index++) {\n    var currentKey = _keys ? _keys[index] : index;\n    if (predicate(obj[currentKey], currentKey, obj)) return true;\n  }\n  return false;\n}\n","import isArrayLike from './_isArrayLike.js';\nimport values from './values.js';\nimport indexOf from './indexOf.js';\n\n// Determine if the array or object contains a given item (using `===`).\nexport default function contains(obj, item, fromIndex, guard) {\n  if (!isArrayLike(obj)) obj = values(obj);\n  if (typeof fromIndex != 'number' || guard) fromIndex = 0;\n  return indexOf(obj, item, fromIndex) >= 0;\n}\n","import restArguments from './restArguments.js';\nimport isFunction from './isFunction.js';\nimport map from './map.js';\nimport deepGet from './_deepGet.js';\nimport toPath from './_toPath.js';\n\n// Invoke a method (with arguments) on every item in a collection.\nexport default restArguments(function(obj, path, args) {\n  var contextPath, func;\n  if (isFunction(path)) {\n    func = path;\n  } else {\n    path = toPath(path);\n    contextPath = path.slice(0, -1);\n    path = path[path.length - 1];\n  }\n  return map(obj, function(context) {\n    var method = func;\n    if (!method) {\n      if (contextPath && contextPath.length) {\n        context = deepGet(context, contextPath);\n      }\n      if (context == null) return void 0;\n      method = context[path];\n    }\n    return method == null ? method : method.apply(context, args);\n  });\n});\n","import map from './map.js';\nimport property from './property.js';\n\n// Convenience version of a common use case of `_.map`: fetching a property.\nexport default function pluck(obj, key) {\n  return map(obj, property(key));\n}\n","import filter from './filter.js';\nimport matcher from './matcher.js';\n\n// Convenience version of a common use case of `_.filter`: selecting only\n// objects containing specific `key:value` pairs.\nexport default function where(obj, attrs) {\n  return filter(obj, matcher(attrs));\n}\n","import isArrayLike from './_isArrayLike.js';\nimport values from './values.js';\nimport cb from './_cb.js';\nimport each from './each.js';\n\n// Return the maximum element (or element-based computation).\nexport default function max(obj, iteratee, context) {\n  var result = -Infinity, lastComputed = -Infinity,\n      value, computed;\n  if (iteratee == null || (typeof iteratee == 'number' && typeof obj[0] != 'object' && obj != null)) {\n    obj = isArrayLike(obj) ? obj : values(obj);\n    for (var i = 0, length = obj.length; i < length; i++) {\n      value = obj[i];\n      if (value != null && value > result) {\n        result = value;\n      }\n    }\n  } else {\n    iteratee = cb(iteratee, context);\n    each(obj, function(v, index, list) {\n      computed = iteratee(v, index, list);\n      if (computed > lastComputed || (computed === -Infinity && result === -Infinity)) {\n        result = v;\n        lastComputed = computed;\n      }\n    });\n  }\n  return result;\n}\n","import isArrayLike from './_isArrayLike.js';\nimport values from './values.js';\nimport cb from './_cb.js';\nimport each from './each.js';\n\n// Return the minimum element (or element-based computation).\nexport default function min(obj, iteratee, context) {\n  var result = Infinity, lastComputed = Infinity,\n      value, computed;\n  if (iteratee == null || (typeof iteratee == 'number' && typeof obj[0] != 'object' && obj != null)) {\n    obj = isArrayLike(obj) ? obj : values(obj);\n    for (var i = 0, length = obj.length; i < length; i++) {\n      value = obj[i];\n      if (value != null && value < result) {\n        result = value;\n      }\n    }\n  } else {\n    iteratee = cb(iteratee, context);\n    each(obj, function(v, index, list) {\n      computed = iteratee(v, index, list);\n      if (computed < lastComputed || (computed === Infinity && result === Infinity)) {\n        result = v;\n        lastComputed = computed;\n      }\n    });\n  }\n  return result;\n}\n","import isArray from './isArray.js';\nimport { slice } from './_setup.js';\nimport isString from './isString.js';\nimport isArrayLike from './_isArrayLike.js';\nimport map from './map.js';\nimport identity from './identity.js';\nimport values from './values.js';\n\n// Safely create a real, live array from anything iterable.\nvar reStrSymbol = /[^\\ud800-\\udfff]|[\\ud800-\\udbff][\\udc00-\\udfff]|[\\ud800-\\udfff]/g;\nexport default function toArray(obj) {\n  if (!obj) return [];\n  if (isArray(obj)) return slice.call(obj);\n  if (isString(obj)) {\n    // Keep surrogate pair characters together.\n    return obj.match(reStrSymbol);\n  }\n  if (isArrayLike(obj)) return map(obj, identity);\n  return values(obj);\n}\n","import isArrayLike from './_isArrayLike.js';\nimport values from './values.js';\nimport getLength from './_getLength.js';\nimport random from './random.js';\nimport toArray from './toArray.js';\n\n// Sample **n** random values from a collection using the modern version of the\n// [Fisher-Yates shuffle](https://en.wikipedia.org/wiki/FisherYates_shuffle).\n// If **n** is not specified, returns a single random element.\n// The internal `guard` argument allows it to work with `_.map`.\nexport default function sample(obj, n, guard) {\n  if (n == null || guard) {\n    if (!isArrayLike(obj)) obj = values(obj);\n    return obj[random(obj.length - 1)];\n  }\n  var sample = toArray(obj);\n  var length = getLength(sample);\n  n = Math.max(Math.min(n, length), 0);\n  var last = length - 1;\n  for (var index = 0; index < n; index++) {\n    var rand = random(index, last);\n    var temp = sample[index];\n    sample[index] = sample[rand];\n    sample[rand] = temp;\n  }\n  return sample.slice(0, n);\n}\n","import sample from './sample.js';\n\n// Shuffle a collection.\nexport default function shuffle(obj) {\n  return sample(obj, Infinity);\n}\n","import cb from './_cb.js';\nimport pluck from './pluck.js';\nimport map from './map.js';\n\n// Sort the object's values by a criterion produced by an iteratee.\nexport default function sortBy(obj, iteratee, context) {\n  var index = 0;\n  iteratee = cb(iteratee, context);\n  return pluck(map(obj, function(value, key, list) {\n    return {\n      value: value,\n      index: index++,\n      criteria: iteratee(value, key, list)\n    };\n  }).sort(function(left, right) {\n    var a = left.criteria;\n    var b = right.criteria;\n    if (a !== b) {\n      if (a > b || a === void 0) return 1;\n      if (a < b || b === void 0) return -1;\n    }\n    return left.index - right.index;\n  }), 'value');\n}\n","import cb from './_cb.js';\nimport each from './each.js';\n\n// An internal function used for aggregate \"group by\" operations.\nexport default function group(behavior, partition) {\n  return function(obj, iteratee, context) {\n    var result = partition ? [[], []] : {};\n    iteratee = cb(iteratee, context);\n    each(obj, function(value, index) {\n      var key = iteratee(value, index, obj);\n      behavior(result, value, key);\n    });\n    return result;\n  };\n}\n","import group from './_group.js';\nimport has from './_has.js';\n\n// Groups the object's values by a criterion. Pass either a string attribute\n// to group by, or a function that returns the criterion.\nexport default group(function(result, value, key) {\n  if (has(result, key)) result[key].push(value); else result[key] = [value];\n});\n","import group from './_group.js';\n\n// Indexes the object's values by a criterion, similar to `_.groupBy`, but for\n// when you know that your index values will be unique.\nexport default group(function(result, value, key) {\n  result[key] = value;\n});\n","import group from './_group.js';\nimport has from './_has.js';\n\n// Counts instances of an object that group by a certain criterion. Pass\n// either a string attribute to count by, or a function that returns the\n// criterion.\nexport default group(function(result, value, key) {\n  if (has(result, key)) result[key]++; else result[key] = 1;\n});\n","import group from './_group.js';\n\n// Split a collection into two arrays: one whose elements all pass the given\n// truth test, and one whose elements all do not pass the truth test.\nexport default group(function(result, value, pass) {\n  result[pass ? 0 : 1].push(value);\n}, true);\n","import isArrayLike from './_isArrayLike.js';\nimport keys from './keys.js';\n\n// Return the number of elements in a collection.\nexport default function size(obj) {\n  if (obj == null) return 0;\n  return isArrayLike(obj) ? obj.length : keys(obj).length;\n}\n","// Internal `_.pick` helper function to determine whether `key` is an enumerable\n// property name of `obj`.\nexport default function keyInObj(value, key, obj) {\n  return key in obj;\n}\n","import restArguments from './restArguments.js';\nimport isFunction from './isFunction.js';\nimport optimizeCb from './_optimizeCb.js';\nimport allKeys from './allKeys.js';\nimport keyInObj from './_keyInObj.js';\nimport flatten from './_flatten.js';\n\n// Return a copy of the object only containing the allowed properties.\nexport default restArguments(function(obj, keys) {\n  var result = {}, iteratee = keys[0];\n  if (obj == null) return result;\n  if (isFunction(iteratee)) {\n    if (keys.length > 1) iteratee = optimizeCb(iteratee, keys[1]);\n    keys = allKeys(obj);\n  } else {\n    iteratee = keyInObj;\n    keys = flatten(keys, false, false);\n    obj = Object(obj);\n  }\n  for (var i = 0, length = keys.length; i < length; i++) {\n    var key = keys[i];\n    var value = obj[key];\n    if (iteratee(value, key, obj)) result[key] = value;\n  }\n  return result;\n});\n","import restArguments from './restArguments.js';\nimport isFunction from './isFunction.js';\nimport negate from './negate.js';\nimport map from './map.js';\nimport flatten from './_flatten.js';\nimport contains from './contains.js';\nimport pick from './pick.js';\n\n// Return a copy of the object without the disallowed properties.\nexport default restArguments(function(obj, keys) {\n  var iteratee = keys[0], context;\n  if (isFunction(iteratee)) {\n    iteratee = negate(iteratee);\n    if (keys.length > 1) context = keys[1];\n  } else {\n    keys = map(flatten(keys, false, false), String);\n    iteratee = function(value, key) {\n      return !contains(keys, key);\n    };\n  }\n  return pick(obj, iteratee, context);\n});\n","import { slice } from './_setup.js';\n\n// Returns everything but the last entry of the array. Especially useful on\n// the arguments object. Passing **n** will return all the values in\n// the array, excluding the last N.\nexport default function initial(array, n, guard) {\n  return slice.call(array, 0, Math.max(0, array.length - (n == null || guard ? 1 : n)));\n}\n","import initial from './initial.js';\n\n// Get the first element of an array. Passing **n** will return the first N\n// values in the array. The **guard** check allows it to work with `_.map`.\nexport default function first(array, n, guard) {\n  if (array == null || array.length < 1) return n == null || guard ? void 0 : [];\n  if (n == null || guard) return array[0];\n  return initial(array, array.length - n);\n}\n","import { slice } from './_setup.js';\n\n// Returns everything but the first entry of the `array`. Especially useful on\n// the `arguments` object. Passing an **n** will return the rest N values in the\n// `array`.\nexport default function rest(array, n, guard) {\n  return slice.call(array, n == null || guard ? 1 : n);\n}\n","import rest from './rest.js';\n\n// Get the last element of an array. Passing **n** will return the last N\n// values in the array.\nexport default function last(array, n, guard) {\n  if (array == null || array.length < 1) return n == null || guard ? void 0 : [];\n  if (n == null || guard) return array[array.length - 1];\n  return rest(array, Math.max(0, array.length - n));\n}\n","import filter from './filter.js';\n\n// Trim out all falsy values from an array.\nexport default function compact(array) {\n  return filter(array, Boolean);\n}\n","import _flatten from './_flatten.js';\n\n// Flatten out an array, either recursively (by default), or up to `depth`.\n// Passing `true` or `false` as `depth` means `1` or `Infinity`, respectively.\nexport default function flatten(array, depth) {\n  return _flatten(array, depth, false);\n}\n","import restArguments from './restArguments.js';\nimport flatten from './_flatten.js';\nimport filter from './filter.js';\nimport contains from './contains.js';\n\n// Take the difference between one array and a number of other arrays.\n// Only the elements present in just the first array will remain.\nexport default restArguments(function(array, rest) {\n  rest = flatten(rest, true, true);\n  return filter(array, function(value){\n    return !contains(rest, value);\n  });\n});\n","import restArguments from './restArguments.js';\nimport difference from './difference.js';\n\n// Return a version of the array that does not contain the specified value(s).\nexport default restArguments(function(array, otherArrays) {\n  return difference(array, otherArrays);\n});\n","import isBoolean from './isBoolean.js';\nimport cb from './_cb.js';\nimport getLength from './_getLength.js';\nimport contains from './contains.js';\n\n// Produce a duplicate-free version of the array. If the array has already\n// been sorted, you have the option of using a faster algorithm.\n// The faster algorithm will not work with an iteratee if the iteratee\n// is not a one-to-one function, so providing an iteratee will disable\n// the faster algorithm.\nexport default function uniq(array, isSorted, iteratee, context) {\n  if (!isBoolean(isSorted)) {\n    context = iteratee;\n    iteratee = isSorted;\n    isSorted = false;\n  }\n  if (iteratee != null) iteratee = cb(iteratee, context);\n  var result = [];\n  var seen = [];\n  for (var i = 0, length = getLength(array); i < length; i++) {\n    var value = array[i],\n        computed = iteratee ? iteratee(value, i, array) : value;\n    if (isSorted && !iteratee) {\n      if (!i || seen !== computed) result.push(value);\n      seen = computed;\n    } else if (iteratee) {\n      if (!contains(seen, computed)) {\n        seen.push(computed);\n        result.push(value);\n      }\n    } else if (!contains(result, value)) {\n      result.push(value);\n    }\n  }\n  return result;\n}\n","import restArguments from './restArguments.js';\nimport uniq from './uniq.js';\nimport flatten from './_flatten.js';\n\n// Produce an array that contains the union: each distinct element from all of\n// the passed-in arrays.\nexport default restArguments(function(arrays) {\n  return uniq(flatten(arrays, true, true));\n});\n","import getLength from './_getLength.js';\nimport contains from './contains.js';\n\n// Produce an array that contains every item shared between all the\n// passed-in arrays.\nexport default function intersection(array) {\n  var result = [];\n  var argsLength = arguments.length;\n  for (var i = 0, length = getLength(array); i < length; i++) {\n    var item = array[i];\n    if (contains(result, item)) continue;\n    var j;\n    for (j = 1; j < argsLength; j++) {\n      if (!contains(arguments[j], item)) break;\n    }\n    if (j === argsLength) result.push(item);\n  }\n  return result;\n}\n","import max from './max.js';\nimport getLength from './_getLength.js';\nimport pluck from './pluck.js';\n\n// Complement of zip. Unzip accepts an array of arrays and groups\n// each array's elements on shared indices.\nexport default function unzip(array) {\n  var length = (array && max(array, getLength).length) || 0;\n  var result = Array(length);\n\n  for (var index = 0; index < length; index++) {\n    result[index] = pluck(array, index);\n  }\n  return result;\n}\n","import restArguments from './restArguments.js';\nimport unzip from './unzip.js';\n\n// Zip together multiple lists into a single array -- elements that share\n// an index go together.\nexport default restArguments(unzip);\n","import getLength  from './_getLength.js';\n\n// Converts lists into objects. Pass either a single array of `[key, value]`\n// pairs, or two parallel arrays of the same length -- one of keys, and one of\n// the corresponding values. Passing by pairs is the reverse of `_.pairs`.\nexport default function object(list, values) {\n  var result = {};\n  for (var i = 0, length = getLength(list); i < length; i++) {\n    if (values) {\n      result[list[i]] = values[i];\n    } else {\n      result[list[i][0]] = list[i][1];\n    }\n  }\n  return result;\n}\n","// Generate an integer Array containing an arithmetic progression. A port of\n// the native Python `range()` function. See\n// [the Python documentation](https://docs.python.org/library/functions.html#range).\nexport default function range(start, stop, step) {\n  if (stop == null) {\n    stop = start || 0;\n    start = 0;\n  }\n  if (!step) {\n    step = stop < start ? -1 : 1;\n  }\n\n  var length = Math.max(Math.ceil((stop - start) / step), 0);\n  var range = Array(length);\n\n  for (var idx = 0; idx < length; idx++, start += step) {\n    range[idx] = start;\n  }\n\n  return range;\n}\n","import { slice } from './_setup.js';\n\n// Chunk a single array into multiple arrays, each containing `count` or fewer\n// items.\nexport default function chunk(array, count) {\n  if (count == null || count < 1) return [];\n  var result = [];\n  var i = 0, length = array.length;\n  while (i < length) {\n    result.push(slice.call(array, i, i += count));\n  }\n  return result;\n}\n","import _ from './underscore.js';\n\n// Helper function to continue chaining intermediate results.\nexport default function chainResult(instance, obj) {\n  return instance._chain ? _(obj).chain() : obj;\n}\n","import _ from './underscore.js';\nimport each from './each.js';\nimport functions from './functions.js';\nimport { push } from './_setup.js';\nimport chainResult from './_chainResult.js';\n\n// Add your own custom functions to the Underscore object.\nexport default function mixin(obj) {\n  each(functions(obj), function(name) {\n    var func = _[name] = obj[name];\n    _.prototype[name] = function() {\n      var args = [this._wrapped];\n      push.apply(args, arguments);\n      return chainResult(this, func.apply(_, args));\n    };\n  });\n  return _;\n}\n","import _ from './underscore.js';\nimport each from './each.js';\nimport { ArrayProto } from './_setup.js';\nimport chainResult from './_chainResult.js';\n\n// Add all mutator `Array` functions to the wrapper.\neach(['pop', 'push', 'reverse', 'shift', 'sort', 'splice', 'unshift'], function(name) {\n  var method = ArrayProto[name];\n  _.prototype[name] = function() {\n    var obj = this._wrapped;\n    if (obj != null) {\n      method.apply(obj, arguments);\n      if ((name === 'shift' || name === 'splice') && obj.length === 0) {\n        delete obj[0];\n      }\n    }\n    return chainResult(this, obj);\n  };\n});\n\n// Add all accessor `Array` functions to the wrapper.\neach(['concat', 'join', 'slice'], function(name) {\n  var method = ArrayProto[name];\n  _.prototype[name] = function() {\n    var obj = this._wrapped;\n    if (obj != null) obj = method.apply(obj, arguments);\n    return chainResult(this, obj);\n  };\n});\n\nexport default _;\n","// Default Export\n// ==============\n// In this module, we mix our bundled exports into the `_` object and export\n// the result. This is analogous to setting `module.exports = _` in CommonJS.\n// Hence, this module is also the entry point of our UMD bundle and the package\n// entry point for CommonJS and AMD users. In other words, this is (the source\n// of) the module you are interfacing with when you do any of the following:\n//\n// ```js\n// // CommonJS\n// var _ = require('underscore');\n//\n// // AMD\n// define(['underscore'], function(_) {...});\n//\n// // UMD in the browser\n// // _ is available as a global variable\n// ```\nimport * as allExports from './index.js';\nimport { mixin } from './index.js';\n\n// Add all of the Underscore functions to the wrapper object.\nvar _ = mixin(allExports);\n// Legacy Node.js API.\n_._ = _;\n// Export the Underscore API.\nexport default _;\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","import * as vscode from \"vscode\";\nimport handlePreReleaseChannels from \"./preRelease/installer\";\nimport pollDownloadProgress from \"./binary/pollDownloadProgress\";\nimport {\n  deactivate as requestDeactivate,\n  initBinary,\n  uninstalling,\n} from \"./binary/requests/requests\";\nimport {\n  Capability,\n  fetchCapabilitiesOnFocus,\n  isCapabilityEnabled,\n} from \"./capabilities/capabilities\";\nimport { registerCommands } from \"./commandsHandler\";\nimport { BRAND_NAME } from \"./globals/consts\";\nimport tabnineExtensionProperties from \"./globals/tabnineExtensionProperties\";\nimport handleUninstall from \"./handleUninstall\";\nimport { provideHover } from \"./hovers/hoverHandler\";\nimport pollNotifications, {\n  cancelNotificationsPolling,\n} from \"./notifications/pollNotifications\";\nimport {\n  COMPLETION_IMPORTS,\n  handleImports,\n  HANDLE_IMPORTS,\n  SELECTION_COMPLETED,\n  selectionHandler,\n} from \"./selectionHandler\";\nimport pollStatuses from \"./statusBar/pollStatusBar\";\nimport { registerStatusBar, setDefaultStatus } from \"./statusBar/statusBar\";\nimport { initReporter, report } from \"./reports/reporter\";\nimport { setBinaryRootPath } from \"./binary/paths\";\nimport { setTabnineExtensionContext } from \"./globals/tabnineExtensionContext\";\nimport { updatePersistedAlphaVersion } from \"./preRelease/versions\";\nimport isCloudEnv from \"./cloudEnvs/isCloudEnv\";\nimport setupCloudState from \"./cloudEnvs/setupCloudState\";\nimport { closeAssistant } from \"./assistant/requests/request\";\nimport initAssistant from \"./assistant/AssistantClient\";\nimport TabnineAuthenticationProvider from \"./authentication/TabnineAuthenticationProvider\";\nimport isAuthenticationApiSupported from \"./globals/versions\";\nimport registerNotificationsWebview from \"./notificationsWidget/notificationsWidgetWebview\";\nimport notifyWorkspaceChanged from \"./binary/requests/notifyWorkspaceChanged\";\nimport registerTabnineTodayWidgetWebview from \"./tabnineTodayWidget/tabnineTodayWidgetWebview\";\nimport registerCodeReview from \"./codeReview/codeReview\";\nimport installAutocomplete from \"./autocompleteInstaller\";\nimport handlePluginInstalled from \"./handlePluginInstalled\";\nimport { pollUserUpdates } from \"./pollUserUpdates\";\nimport EventName from \"./reports/EventName\";\nimport registerTabnineChatWidgetWebview from \"./tabnineChatWidget/tabnineChatWidgetWebview\";\nimport { forceRegistrationIfNeeded } from \"./registration/forceRegistration\";\nimport { installationState } from \"./events/installationStateChangedEmitter\";\nimport { Logger } from \"./utils/logger\";\nimport { callForLogin } from \"./authentication/authentication.api\";\nimport { emptyStateAuthenticateView } from \"./tabnineChatWidget/webviews/emptyStateAuthenticateView\";\nimport { activeTextEditorState } from \"./activeTextEditorState\";\nimport { WorkspaceUpdater } from \"./WorkspaceUpdater\";\nimport SaasChatEnabledState from \"./tabnineChatWidget/SaasChatEnabledState\";\nimport BINARY_STATE from \"./binary/binaryStateSingleton\";\nimport EvalSaasChatEnabledState from \"./tabnineChatWidget/EvalSaasChatEnabledState\";\nimport { ChatAPI } from \"./tabnineChatWidget/ChatApi\";\nimport ChatViewProvider from \"./tabnineChatWidget/ChatViewProvider\";\nimport { previewEndedView } from \"./tabnineChatWidget/webviews/previewEndedView\";\n\nexport async function activate(\n  context: vscode.ExtensionContext\n): Promise<void> {\n  Logger.init(context);\n  if (isCloudEnv) await setupCloudState(context);\n\n  void initStartup(context);\n  context.subscriptions.push(handleSelection(context));\n  context.subscriptions.push(handleUninstall(() => uponUninstall(context)));\n  context.subscriptions.push(installationState);\n  context.subscriptions.push(BINARY_STATE);\n  context.subscriptions.push(activeTextEditorState);\n  context.subscriptions.push(new WorkspaceUpdater());\n  registerCodeReview();\n\n  context.subscriptions.push(registerStatusBar(context));\n\n  // Do not await on this function as we do not want VSCode to wait for it to finish\n  // before considering TabNine ready to operate.\n  void backgroundInit(context);\n\n  if (context.extensionMode !== vscode.ExtensionMode.Test) {\n    handlePluginInstalled(context);\n  }\n  forceRegistrationIfNeeded();\n\n  return Promise.resolve();\n}\n\nfunction initStartup(context: vscode.ExtensionContext): void {\n  setTabnineExtensionContext(context);\n  initReporter();\n  report(EventName.EXTENSION_ACTIVATED);\n\n  if (tabnineExtensionProperties.isInstalled) {\n    report(EventName.EXTENSION_INSTALLED);\n  }\n}\n\nasync function backgroundInit(context: vscode.ExtensionContext) {\n  await setBinaryRootPath(context);\n  context.subscriptions.push(await initBinary([\"--client=vscode\"]));\n  // Goes to the binary to fetch what capabilities enabled:\n  await fetchCapabilitiesOnFocus();\n\n  notifyBinaryAboutWorkspaceChange();\n  vscode.workspace.onDidChangeWorkspaceFolders(\n    notifyBinaryAboutWorkspaceChange\n  );\n\n  if (\n    isCapabilityEnabled(Capability.AUTHENTICATION) &&\n    isAuthenticationApiSupported()\n  ) {\n    context.subscriptions.push(\n      vscode.authentication.registerAuthenticationProvider(\n        BRAND_NAME,\n        BRAND_NAME,\n        new TabnineAuthenticationProvider()\n      )\n    );\n  }\n  vscode.commands.registerCommand(\"tabnine.authenticate\", () => {\n    void callForLogin();\n  });\n  context.subscriptions.push(\n    previewEndedView(context),\n    emptyStateAuthenticateView(context)\n  );\n\n  if (context.extensionMode !== vscode.ExtensionMode.Test) {\n    void handlePreReleaseChannels(context);\n  }\n  if (\n    isCapabilityEnabled(Capability.ALPHA_CAPABILITY) ||\n    isCapabilityEnabled(Capability.ASSISTANT_CAPABILITY)\n  ) {\n    void initAssistant(context, {\n      dispose: () => {},\n    });\n  }\n\n  const chatEnabledState =\n    process.env.IS_EVAL_MODE &&\n    context.extensionMode === vscode.ExtensionMode.Test\n      ? new EvalSaasChatEnabledState(context)\n      : new SaasChatEnabledState(context);\n\n  context.subscriptions.push(chatEnabledState);\n\n  registerTabnineChatWidgetWebview(\n    context,\n    chatEnabledState,\n    new ChatViewProvider(\n      context,\n      new ChatAPI(context, {\n        serverUrl:\n          context.extensionMode === vscode.ExtensionMode.Test\n            ? process.env.CHAT_SERVER_URL\n            : undefined,\n        isSelfHosted: false,\n        isTelemetryEnabled: isCapabilityEnabled(Capability.ALPHA_CAPABILITY),\n      })\n    )\n  );\n  pollNotifications(context);\n  pollStatuses(context);\n  setDefaultStatus();\n  void registerCommands(context);\n  pollDownloadProgress();\n  registerNotificationsWebview(context);\n  registerTabnineTodayWidgetWebview(context);\n\n  await installAutocomplete(context);\n\n  vscode.languages.registerHoverProvider(\n    { pattern: \"**\" },\n    {\n      provideHover,\n    }\n  );\n}\n\nexport async function deactivate(): Promise<unknown> {\n  void closeAssistant();\n  cancelNotificationsPolling();\n  return requestDeactivate();\n}\n\nfunction uponUninstall(context: vscode.ExtensionContext): Promise<unknown> {\n  void updatePersistedAlphaVersion(context, undefined);\n  report(EventName.EXTENSION_UNINSTALLED);\n  return uninstalling();\n}\n\nexport function handleSelection(\n  context: vscode.ExtensionContext\n): vscode.Disposable {\n  return vscode.Disposable.from(\n    vscode.commands.registerTextEditorCommand(\n      COMPLETION_IMPORTS,\n      selectionHandler\n    ),\n    vscode.commands.registerTextEditorCommand(\n      SELECTION_COMPLETED,\n      (editor: vscode.TextEditor) => pollUserUpdates(context, editor)\n    ),\n    vscode.commands.registerTextEditorCommand(HANDLE_IMPORTS, handleImports)\n  );\n}\n\nfunction notifyBinaryAboutWorkspaceChange() {\n  const workspaceFolders = vscode.workspace.workspaceFolders\n    ? vscode.workspace.workspaceFolders.map((folder) => folder.uri.path)\n    : [];\n\n  void notifyWorkspaceChanged(workspaceFolders);\n}\n"],"names":["__asyncValues","o","Symbol","asyncIterator","TypeError","i","m","call","__values","iterator","verb","this","n","v","Promise","resolve","reject","d","then","value","done","settle","getLines","onLine","buffer","position","fieldLength","discardTrailingNewline","arr","undefined","a","b","res","Uint8Array","length","set","concat","bufLength","lineStart","lineEnd","subarray","__rest","s","e","t","p","Object","prototype","hasOwnProperty","indexOf","getOwnPropertySymbols","propertyIsEnumerable","EventStreamContentType","LastEventId","fetchEventSource","input","_a","signal","inputSignal","headers","inputHeaders","onopen","inputOnOpen","onmessage","onclose","onerror","openWhenHidden","fetch","inputFetch","rest","assign","curRequestController","onVisibilityChange","abort","document","hidden","create","accept","addEventListener","retryTimer","retryInterval","dispose","removeEventListener","clearTimeout","fetchFn","defaultOnOpen","async","AbortController","response","stream","onChunk","e_1","_b","_c","reader","getReader","result","read","Error","_f","_d","_e","next","e_1_1","error","return","getBytes","body","onId","onRetry","onMessage","message","data","event","id","retry","decoder","TextDecoder","line","field","decode","valueOffset","parseInt","isNaN","getMessages","err","aborted","interval","setTimeout","innerErr","contentType","get","startsWith","__importDefault","mod","__esModule","events_1","debug_1","promisify_1","debug","default","isSecureEndpoint","stack","split","some","l","createAgent","callback","opts","Agent","EventEmitter","constructor","_opts","super","timeout","maxFreeSockets","maxSockets","maxTotalSockets","Infinity","sockets","freeSockets","requests","options","defaultPort","explicitDefaultPort","protocol","explicitProtocol","req","fn","addRequest","secureEndpoint","host","port","path","agent","hostname","_defaultAgent","createConnection","_last","shouldKeepAlive","timedOut","timeoutId","timeoutMs","_hadError","emit","ontimeout","code","callbackError","onsocket","socket","Boolean","name","once","freeSocket","onSocket","method","promisifiedCallback","Number","catch","destroy","module","exports","defineProperty","rtn","DiagChannel","AutoCollectConsole","client","INSTANCE","_client","enable","isEnabled","collectConsoleLog","IsInitialized","isInitialized","_isInitialized","_methodNames","Logging","CorrelationContextManager","getCurrentContext","enabled","context","session","CONTEXT_NAME","generateContextObject","operationId","parentId","operationName","correlationContextHeader","traceparent","tracestate","operation","customProperties","CustomPropertiesImpl","runWithContext","bind","wrapEmitter","emitter","bindEmitter","wrapCallback","forceClsHooked","isNodeVersionCompatible","hasEverEnabled","cls","shouldUseClsHooked","createNamespace","registerContextPreservation","cb","disable","reset","nodeVer","process","versions","node","canUseClsHooked","greater800","less820","greater470","header","props","addHeaderData","keyvals","map","keyval","parts","key","serializeToHeader","join","getProperty","prop","setProperty","val","bannedCharacters","test","warn","push","AutoCollectExceptions","_canUseUncaughtExceptionMonitor","_this","_exceptionListenerHandle","handle","reThrow","_FALLBACK_ERROR_MESSAGE","trackException","exception","flush","isAppCrashing","listeners","console","exit","on","UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME","UNCAUGHT_EXCEPTION_HANDLER_NAME","_rejectionListenerHandle","UNHANDLED_REJECTION_HANDLER_NAME","removeListener","_RETHROW_EXIT_MESSAGE","http","https","Util","RequestResponseHeaders","HttpDependencyParser","CorrelationContextManager_1","CorrelationIdManager","Traceparent","AutoCollectHttpDependencies","_isEnabled","_initialize","originalRequest","request","originalHttpsRequest","clientRequestPatch","shouldCollect","disableCollectionRequestOption","alreadyAutoCollectedFlag","trackRequest","requestArgs","_i","arguments","apply","end","telemetry","uniqueRequestId","uniqueTraceparent","requestParser","currentContext","isValidTraceId","traceId","updateSpanId","getBackCompatRequestId","w3cEnabled","toString","requestNumber","canIncludeCorrelationHeader","getUrl","getHeader","setHeader","config","correlationId","correlationHeader","requestContextHeader","safeIncludeCorrelationHeader","requestIdHeader","parentIdHeader","rootIdHeader","traceparentHeader","traceStateHeader","onResponse","dependencyTelemetry","getDependencyTelemetry","contextObjects","trackDependency","onError","info","extendStatics","__extends","setPrototypeOf","__proto__","Array","__","url","Contracts","RequestParser","_super","requestOptions","_getUrlFromRequestOptions","startTime","Date","_setStatus","statusCode","getCorrelationContextTarget","requestContextTargetKey","baseTelemetry","dependencyId","urlObject","parse","search","hash","dependencyName","toUpperCase","pathname","remoteDependencyType","RemoteDependencyDataConstants","TYPE_HTTP","remoteDependencyTarget","TYPE_AI","correlationIdPrefix","duration","success","_isSuccess","resultCode","properties","dependencyTypeName","target","originalOptions_1","keys","forEach","parsedQuery","format","Tracestate","HttpRequestParser","requestId","_getAbsoluteUrl","socketRemoteAddress","remoteAddress","parseHeaders","connection","connectionRemoteAddress","legacySocketRemoteAddress","ellapsedMilliseconds","getRequestTelemetry","requestTelemetry","source","sourceCorrelationId","getRequestTags","tags","newTags","locationIp","_getIp","sessionId","_getId","userId","userAuthUserId","getOperationName","operationParentId","getOperationParentId","getOperationId","getRequestId","getCorrelationContextHeader","getTraceparent","getTracestate","getLegacyRootId","legacyRootId","encrypted","requestUrl","pathName","ipMatch","check","str","results","exec","ip","rawHeaders","substr","cookie","parseId","getCookie","setBackCompatFromThisTraceContext","userAgent","requestContextSourceKey","tracestateHeader","legacy_parentId","legacy_rootId","generateRequestId","getRootId","cookieValue","cookieParts","ContextTagKeys","AutoCollectPerformance","AutoCollectHttpRequests","_isAutoCorrelating","useAutoCorrelation","isAutoCorrelating","_generateCorrelationContext","wrapOnRequestHandler","onRequest","requestParser_1","correlationContext","wrapServerEventHandler","server","originalAddListener","addListener","eventType","eventHandler","originalHttpServer","createServer","originalHttpsServer","trackRequestSync","addResponseCorrelationIdHeader","endRequest","_requestParser","headersSent","tagOverrides","__assign","Config","Context","AutoCollectNativePerformance","_disabledMetrics","disabledMetrics","collectionInterval","_metricsAvailable","NativeMetricsEmitters","_emitter","_handle","setInterval","_trackNativeMetrics","unref","clearInterval","parseEnabled","collectExtendedMetrics","disableAll","env","ENV_nativeMetricsDisableAll","individualOptOuts","ENV_nativeMetricsDisablers","optOutsArr","optOutsArr_1","shouldSendAll","_trackGarbageCollection","_trackEventLoop","_trackHeapUsage","gc","gcData","getGCData","metrics","name_1","stdDev","Math","sqrt","sumSquares","count","pow","total","trackMetric","max","min","internalSdkVersion","sdkVersion","loop","getLoopData","loopUsage","heap","memoryUsage","heapUsed","heapTotal","rss","os","Constants","enableLiveMetricsCounters","_lastIntervalRequestExecutionTime","_lastIntervalDependencyExecutionTime","_collectionInterval","_enableLiveMetricsCounters","_lastCpus","cpus","_lastRequests","totalRequestCount","_totalRequestCount","totalFailedRequestCount","_totalFailedRequestCount","time","_lastDependencies","totalDependencyCount","_totalDependencyCount","totalFailedDependencyCount","_totalFailedDependencyCount","_lastExceptions","totalExceptionCount","_totalExceptionCount","cpuUsage","_lastAppCpuUsage","_lastHrtime","hrtime","trackPerformance","countRequest","durationMs","_intervalRequestExecutionTime","countException","countDependency","_intervalDependencyExecutionTime","_trackCpu","_trackMemory","_trackNetwork","_trackDependencyRate","_trackExceptionRate","totalUser","totalSys","totalNice","totalIdle","totalIrq","cpu","lastCpu","times","model","speed","lastTimes","user","sys","nice","idle","irq","appCpuPercent","appCpuUsage","totalApp","system","combinedTotal","PerformanceCounter","PROCESSOR_TIME","PROCESS_TIME","freeMem","freemem","usedMem","committedMemory","totalmem","PRIVATE_BYTES","AVAILABLE_BYTES","QuickPulseCounter","COMMITTED_BYTES","lastRequests","intervalRequests","intervalFailedRequests","elapsedMs","elapsedSeconds","averageRequestExecutionTime","requestsPerSec","failedRequestsPerSec","REQUEST_RATE","REQUEST_DURATION","REQUEST_FAILURE_RATE","lastDependencies","dependencies","intervalDependencies","intervalFailedDependencies","averageDependencyExecutionTime","dependenciesPerSec","failedDependenciesPerSec","DEPENDENCY_RATE","DEPENDENCY_FAILURE_RATE","DEPENDENCY_DURATION","lastExceptions","exceptions","intervalExceptions","exceptionsPerSec","EXCEPTION_RATE","_lastRequestExecutionTime","_lastDependencyExecutionTime","status","endTime","Contracts_1","diagnostic_channel_1","clients","bunyanToAILevelMap","SeverityLevel","Verbose","Information","Warning","Critical","subscriber","AIlevel","level","trackTrace","severity","channel","subscribe","filter","c","unsubscribe","lastIndexOf","substring","stderr","TAG","publishers","unpatchedModules","modules","bunyan","mongodb","mongodbCore","mysql","redis","pg","pgPool","winston","addContextPreservation","commandName","dbName","startedData","databaseName","succeeded","queryObj","query","sqlString","sql","connectionConfig","_connection","socketPath","q","preparable","text","plan","conn","database","commandObj","command","address","winstonToAILevelMap","syslog","og","emerg","alert","crit","warning","notice","npm","verbose","silly","unknown","meta","levelKind","DEFAULT_BREEZE_ENDPOINT","DEFAULT_LIVEMETRICS_ENDPOINT","DEFAULT_LIVEMETRICS_HOST","PerformanceToQuickPulseCounter","QuickPulseDocumentType","Event","Exception","Trace","Metric","Request","Dependency","Availability","QuickPulseType","TelemetryTypeStringToQuickPulseType","EventData","ExceptionData","MessageData","MetricData","RequestData","RemoteDependencyData","AvailabilityData","TelemetryTypeStringToQuickPulseDocumentType","Generated_1","domainSupportsProperties","domain","PageViewData","ver","measurements","Base","applicationVersion","deviceId","deviceLocale","deviceModel","deviceOEMName","deviceOSVersion","deviceType","operationSyntheticSource","operationCorrelationVector","sessionIsFirst","userAccountId","cloudRole","cloudRoleInstance","internalAgentVersion","internalNodeName","Data","DataPointType","DataPoint","kind","Measurement","Domain","Envelope","sampleRate","ExceptionDetails","hasFullStack","parsedStack","StackFrame","TelemetryType","telemetryTypeToBaseType","type","baseTypeToTelemetryType","baseType","TelemetryTypeString","__export","Channel","isDisabled","getBatchSize","getBatchIntervalMs","sender","_buffer","_lastSend","_isDisabled","_getBatchSize","_getBatchIntervalMs","_sender","setUseDiskRetryCaching","resendInterval","maxBytesOnDisk","setDiskRetryMode","send","envelope","payload","_stringify","triggerSend","_timeoutHandle","isNodeCrashing","bufferIsEmpty","batch","saveOnCrash","Buffer","from","JSON","stringify","ConnectionStringParser","setupString","endpointBase","connectionStringEnv","ENV_connectionString","csCode","csEnv","iKeyCode","instrumentationkey","instrumentationKey","_getInstrumentationKey","endpointUrl","ingestionendpoint","maxBatchSize","maxBatchIntervalMs","disableAppInsights","samplingPercentage","correlationIdRetryIntervalMs","correlationHeaderExcludedDomains","setCorrelationId","proxyHttpUrl","ENV_http_proxy","proxyHttpsUrl","ENV_https_proxy","httpAgent","httpsAgent","profileQueryEndpoint","ENV_profileQueryEndpoint","_quickPulseHost","liveendpoint","ENV_quickPulseHost","match","_profileQueryEndpoint","endpoint","cancelCorrelationIdQuery","queryCorrelationId","enumerable","configurable","iKey","ENV_iKey","ENV_azurePrefix","legacy_ENV_iKey","connectionString","_FIELDS_SEPARATOR","reduce","fields","kv","kvParts","_FIELD_KEY_VALUE_SEPARATOR","toLowerCase","endpointsuffix","locationPrefix","location","fs","packageJsonPath","_loadApplicationContext","_loadDeviceContext","_loadInternalContext","__dirname","appVersion","packageJson","readFileSync","version","release","DefaultRoleName","arch","platform","appIdUrlString","completedLookups","pendingLookups","fetchAppId","disableAppInsightsAutoCollection","makeRequest","appId_1","setEncoding","suffix","currentRootId","appendSuffix","generateRootId","endIndex","startIndex","w3cTraceId","delimiter","requestIdMaxLength","trimPosition","randomu32","EnvelopeFactory","createEnvelope","telemetryType","commonProperties","createTraceData","createDependencyData","createEventData","createExceptionData","createRequestData","createMetricData","createAvailabilityData","baseData","validateStringMap","replace","getTags","toISOString","trace","severityLevel","remoteDependency","slice","msToTimeSpan","exceptionDetails","typeName","parseStack","isArray","requestData","responseCode","metric","Aggregation","availabilityData","runLocation","frames","totalSizeInBytes","frame","_StackFrame","regex","parsedFrame","sizeInBytes","left","right","size","acceptedLeft","acceptedRight","howMany","splice","assembly","trim","matches","fileName","baseSize","optionalParams","enableDebug","disableWarnings","disableErrors","TelemetryClient","ServerRequestTracking","ClientRequestTracking","NodeClient","trackNodeHttpRequestSync","trackNodeHttpRequest","trackNodeHttpDependency","StreamId","QuickPulseEnvelopeFactory","createQuickPulseEnvelope","documents","machineName","instance","Documents","InstrumentationKey","Metrics","InvariantVersion","Timestamp","now","Version","MachineName","Instance","createQuickPulseMetric","Name","Value","Weight","telemetryEnvelopeToQuickPulseDocument","createQuickPulseEventDocument","createQuickPulseExceptionDocument","createQuickPulseTraceDocument","createQuickPulseDependencyDocument","createQuickPulseRequestDocument","createQuickPulseDocument","Message","exceptionMessage","exceptionType","ExceptionMessage","ExceptionType","Success","Duration","ResponseCode","OperationName","Target","ResultCode","CommandName","OperationId","DependencyTypeName","documentType","__type","DocumentType","Properties","aggregateProperties","meas","property","QuickPulseConfig","QuickPulseSender","_config","_consecutiveErrors","ping","_submitData","post","postOrPing","quickPulseHost","byteLength","shouldPOSTData","MAX_QPS_FAILURES_BEFORE_WARN","write","QuickPulseStateManager","_isCollectingData","_lastSuccessTime","_lastSendSucceeded","_metrics","_documents","_collectors","addCollector","collector","_addMetric","addDocument","_goQuickPulse","enableCollectors","_resetQuickPulseBuffer","k","_post","_ping","currentTimeout","POST_INTERVAL","PING_INTERVAL","MAX_POST_WAIT_TIME","FALLBACK_INTERVAL","MAX_PING_WAIT_TIME","_quickPulseDone","shouldPOST","zlib","child_process","Sender","onSuccess","_onSuccess","_onError","_enableDiskRetryMode","_resendInterval","WAIT_BETWEEN_RESEND","_maxBytesOnDisk","MAX_BYTES_ON_DISK","_numConsecutiveFailures","OS_PROVIDES_FILE_PROTECTION","USE_ICACLS","existsSync","ICACLS_PATH","floor","withCredentials","gzip","dataToSend","responseString","_sendFirstFileOnDisk","_storeToDisk","MAX_CONNECTION_FAILURES_BEFORE_WARN","_onErrorHelper","errorMessage","_storeToDiskSync","_runICACLS","args","aclProc","spawn","windowsHide","_runICACLSSync","spawnSync","_getACLIdentity","ACL_IDENTITY","psProc","POWERSHELL_PATH","stdio","stdout","_getACLIdentitySync","_getACLArguments","directory","identity","_applyACLRules","ACLED_DIRECTORIES","_applyACLRulesSync","_confirmDirExists","lstat","stats","mkdir","isDirectory","_getShallowDirectorySize","readdir","files","totalSize","stat","fileStats","isFile","_getShallowDirectorySizeSync","readdirSync","statSync","tmpdir","TEMPDIR_PREFIX","getTime","fileFullPath","writeFile","mode","mkdirSync","dirSize","writeFileSync","tempDir","exists","f","basename","firstFile","filePath","readFile","unlink","systemdrive","TelemetryProcessors","_telemetryProcessors","trackAvailability","track","isError","trackEvent","accepted","runTelemetryProcessors","samplingTelemetryProcessor","performanceMetricsTelemetryProcessor","quickPulseClient","addTelemetryProcessor","telemetryProcessor","clearTelemetryProcessors","telemetryProcessorsCount","processor","traceFlag","DEFAULT_TRACE_FLAG","DEFAULT_VERSION","spanId","traceparentArr","len","isValidSpanId","fieldmap","parseHeader","fieldarr","validateKeyChars","keyParts","tenant","vendor","tenantValid","vendorValid","keydeduper","parts_1","part","pair","strict","constants","cookieName","cookies","int32ArrayToBase64","array","toChar","String","fromCharCode","x","random32","random","tmp","hexValues","oct","clockSequenceHi","isValidW3CId","obj","isPrimitive","propType","isDate","totalms","sec","toFixed","hour","days","extractError","looseError","extractObject","origProperty","toJSON","stringTarget","MAX_PROPERTY_LENGTH","excludedDomains","RegExp","contextHeaders","keyValues","keyValue","requestCallback","requestUrlParsed","proxyUrl","proxyUrlParsed","Host","isHttps","tlsRestrictedAgent","addCorrelationIdHeaderFromString","components","secureOptions","SSL_OP_NO_SSLv2","SSL_OP_NO_SSLv3","SSL_OP_NO_TLSv1","SSL_OP_NO_TLSv1_1","remoteDependencyData","getSamplingHashCode","csharpMax","charCodeAt","abs","DistributedTracingModes","QuickPulseClient","NativePerformance_1","_forceClsHooked","_disabledExtendedMetrics","_console","_exceptions","_performance","_nativePerformance","_serverRequests","_clientRequests","_performanceLiveMetrics","_isConsole","_isConsoleLog","_isExceptions","_isPerformance","_isRequests","_isDependencies","_isDiskRetry","_isCorrelating","_isSendingLiveMetrics","_isNativePerformance","_diskRetryInterval","_diskRetryMaxBytes","_isStarted","start","defaultClient","liveMetricsClient","Configuration","setup","getCorrelationContext","wrapWithCorrelationContext","setDistributedTracingMode","AI_AND_W3C","setAutoCollectConsole","setAutoCollectExceptions","setAutoCollectPerformance","extendedMetricsConfig","setAutoCollectRequests","setAutoCollectDependencies","setAutoDependencyCorrelation","useAsyncHooks","setInternalLogging","enableDebugLogging","enableWarningLogging","setSendLiveMetrics","asyncWrap","binding","TIMERWRAP","Providers","patchs","ignoreUIDs","Set","State","counter","Hooks","initFns","preFns","postFns","destroyFns","init","uid","provider","parentUid","parentHandle","hook","add","pre","has","didThrow","delete","removeElement","item","index","AsyncHook","_state","_hooks","providers","setupHooks","hooks","remove","addHooks","removeHooks","global","_asyncHook","attach","callSite","filename","getFileName","NextTickWrap","state","oldNextTick","nextTick","listenerCount","PromiseWrap","oldThen","makeWrappedHandler","isOnFulfilled","makeUnhandledResolutionHandler","makeUnhandledRejectionHandler","onFulfilled","onRejected","timers","TimeoutWrap","IntervalWrap","ImmediateWrap","timeoutMap","Map","intervalMap","ImmediateMap","activeCallback","clearedInCallback","patchTimer","setFn","clearFn","Handle","timerMap","singleCall","oldSetFn","oldClearFn","timerId","setImmediate","clearImmediate","ensureAslWrapper","executor","promise","asyncCatcher","wrap","inAsyncTick","listenerStack","union","dest","added","destLength","addedLength","returned","j","missing","_fatalException","errorValues","inErrorTick","er","handled","listener","flags","pop","original","list","values","before","after","errorThrew","threw","_originalNextTick","AsyncListener","callbacks","createAsyncListener","addAsyncListener","registered","removeAsyncListener","simpleWrap","shimmer","semver","massWrap","util","v6plus","gte","v7plus","v8plus","v11plus","net","wrapSetUpListenHandle","onread","onconnection","patchOnRead","ctx","_originalOnread","_normalizeArgs","arg0","_normalizeConnectArgs","Server","Socket","childProcess","wrapChildProcess","child","activatorFirst","onexit","ChildProcess","processors","_nextDomainTick","_tickDomainCallback","activator","asynchronizers","patchGlobalTimers","dns","resolveNaptr","crypto","lchown","lchmod","ftruncate","Deflate","proto","getPrototypeOf","_transform","toWrap","instrumentPromise","promiseListener","fallback","cbIdx","wrappedPromise","wrappedExecutor","wrappedResolve","wrappedReject","inherits","wrapThen","chain","overwrite","__asl_wrapper","propagateAslWrapper","nextResult","returnVal","errorVal","last","wrapPromise","Semaphore","tasks","sched","shift","acquire","rej","released","use","Mutex","utils","buildFullPath","buildURL","httpFollow","httpsFollow","pkg","createError","enhanceError","setProxy","proxy","auth","base64","username","password","beforeRedirect","redirection","href","resolvePromise","rejectPromise","isStream","isBuffer","isArrayBuffer","isString","fullPath","baseURL","parsed","urlAuth","Authorization","isHttpsRequest","params","paramsSerializer","agents","transport","proxyEnv","parsedProxyUrl","noProxyEnv","no_proxy","NO_PROXY","shouldProxy","proxyElement","proxyUrlAuth","isHttpsProxy","maxRedirects","maxBodyLength","lastRequest","decompress","pipe","createUnzip","statusText","statusMessage","responseType","responseBuffer","totalResponseBytes","chunk","maxContentLength","responseData","responseEncoding","stripBOM","transitional","clarifyTimeoutError","cancelToken","cancel","isURLSameOrigin","requestHeaders","isFormData","XMLHttpRequest","unescape","encodeURIComponent","btoa","onloadend","responseHeaders","getAllResponseHeaders","responseText","open","onreadystatechange","readyState","responseURL","onabort","timeoutErrorMessage","isStandardBrowserEnv","xsrfValue","xsrfCookieName","xsrfHeaderName","setRequestHeader","isUndefined","onDownloadProgress","onUploadProgress","upload","Axios","mergeConfig","createInstance","defaultConfig","extend","axios","instanceConfig","defaults","Cancel","CancelToken","isCancel","all","promises","spread","isAxiosError","__CANCEL__","token","reason","throwIfRequested","InterceptorManager","dispatchRequest","validator","validators","interceptors","assertOptions","silentJSONParsing","boolean","forcedJSONParsing","requestInterceptorChain","synchronousRequestInterceptors","interceptor","runWhen","synchronous","unshift","fulfilled","rejected","responseInterceptorChain","newConfig","getUri","handlers","eject","h","isAbsoluteURL","combineURLs","requestedURL","transformData","throwIfCancellationRequested","transformRequest","merge","common","adapter","transformResponse","description","number","lineNumber","columnNumber","config1","config2","valueFromConfig2Keys","mergeDeepPropertiesKeys","defaultToConfig2Keys","directMergeKeys","getMergedValue","isPlainObject","mergeDeepProperties","axiosKeys","otherKeys","validateStatus","fns","normalizeHeaderName","DEFAULT_CONTENT_TYPE","setContentTypeIfUnset","isBlob","isArrayBufferView","isURLSearchParams","isObject","rawValue","parser","encoder","stringifySafely","strictJSONParsing","thisArg","encode","serializedParams","hashmarkIndex","relativeURL","expires","secure","isNumber","toGMTString","decodeURIComponent","originURL","msie","navigator","urlParsingNode","createElement","resolveURL","setAttribute","charAt","window","requestURL","normalizedName","ignoreDuplicateOf","thing","deprecatedWarnings","currentVerArr","isOlderVersion","thanVersion","pkgVersionArr","destVer","isDeprecated","formatMessage","opt","desc","schema","allowUnknown","isFunction","FormData","ArrayBuffer","isView","URLSearchParams","product","assignValue","content","balanced","maybeMatch","r","range","reg","begs","beg","ai","bi","concatMap","expand","escSlash","escOpen","escClose","escComma","escPeriod","escapeBraces","unescapeBraces","numeric","parseCommaParts","postParts","embrace","isPadded","el","lte","y","isTop","expansions","isNumericSequence","isAlphaSequence","isSequence","isOptions","N","width","incr","pad","need","z","expansion","CRC_TABLE","ensureBuffer","hasNewBufferAPI","alloc","bufferizeInt","num","writeInt32BE","_crc32","buf","previous","readUInt32BE","crc","crc32","Int32Array","signed","unsigned","assert","asyncHook","ERROR_SYMBOL","invertedProviders","DEBUG_CLS_HOOKED","currentUid","Namespace","active","_set","_contexts","getNamespace","namespaces","destroyNamespace","namespace","ok","inspect","debug2","msg","DEBUG","_rawDebug","getFunctionName","enter","createContext","_ns_name","run","runAndReturn","runPromise","self","thisSymbol","CONTEXTS_SYMBOL","unwrapped","wrapped","unwrappedContexts","thunk","fromException","stackChain","modifier","_modifiers","deattach","async_hooks","_indent","createHook","asyncId","triggerId","resource","executionAsyncId","indentStr","repeat","showHidden","depth","colors","triggerAsyncId","triggerIdContext","asyncHooksCurrentId","currentId","xs","contexts","storage","nodeFetch","realFetch","ponyfill","Headers","Response","formatArgs","useColors","humanize","diff","color","lastC","save","setItem","removeItem","load","getItem","__nwjs","documentElement","style","WebkitAppearance","firebug","table","$1","localStorage","localstorage","warned","log","formatters","createDebug","prevTime","enableOverride","curr","ms","prev","coerce","formatter","selectColor","newDebug","toNamespace","regexp","names","skips","browser","tty","inspectOpts","colorCode","prefix","hideDate","getDate","isatty","fd","deprecate","supportsColor","_","O","AzureMonitorSymbol","AzureMonitorSpanProcessor","onStart","span","onEnd","publish","shutdown","azureCoreTracing","versionSpecifier","patch","coreTracing","tracer_1","spanContextPropagator","scopeManager","startSpanOriginal_1","startSpan","parent","parentOperation","getCurrentSpan","addEvent","addSpanProcessor","setTracer","registerMonkeyPatch","originalBunyan","originalEmit","_emit","rec","noemit","ret","stream_1","originalConsole","aiLoggingOutStream","Writable","aiLoggingErrStream","aiLoggingConsole","Console","_loop_1","originalMethod","consoleMethods_1","azuresdk","consolePub","tedious","mongoCore","originalMongoCore","originalConnect","connect","originalWrite","pool","cbidx","bindToContext","originalLogout","logout","mongo2","originalMongo","instrument","operationIdGenerator","eventMap","mongo3","contextMap","mongo330","coreTopology","mongodbcorePatchFunction","originalMysql","originalMysqlPath","patchObjectFunction","func","cbWrapper","originalFunc","resultContainer","startDate","patchClassMemberFunction","classObject","connectionClass","dirname","hrDuration","callbackArgs","poolClass","postgresPool1","originalPgPool","postgres6","originalPg","originalPgPath","originalClientQuery","Client","diagnosticOriginalFunc","queryResult","connectionParameters","patchCallback","trackingCallback","rowCount","ceil","postgres7","callbackProvided","_Promise","originalRedis","originalSend","RedisClient","internal_send_command","cb_1","pubsubBound","address_1","startTime_1","startDate_1","originalTedious","originalMakeRequest","Connection","getPatchedCallback","origCallback","rows","parametersByName","statement","winston3","originalWinston","AppInsightsTransport","splat","levels","mapLevelToKind","Transport","patchedConfigure","lastLevel","origCreate","createLogger","origConfigure","configure","origRootConfigure","winston2","curLevels","originalLog","Logger","loggingFilter","filters","webpackEmptyContext","patchRequire_1","patchRequire_2","makePatchingRequire","trueFilter","publishing","ContextPreservingEventEmitter","subscribers","contextPreservationFunction","knownPatches","currentlyPublishing","shouldPublish","standardEvent_1","timestamp","getOwnPropertyNames","preserver","previousPreservationStack","packageName","patcher","getPatchesObject","diagnosticsSource","require","moduleModule","nativeModules","originalRequire","patchedModules","moduleId","originalModule","modulePath","_resolveFilename","moduleVersion","prereleaseTagIndex","modifiedModule","modulePatcher","satisfies","convertChangesToDMP","changes","change","removed","escapeHTML","convertChangesToXML","diffArrays","oldArr","newArr","arrayDiff","tokenize","removeEmpty","Diff","buildValues","newString","oldString","useLongestToken","componentPos","componentLen","newPos","oldPos","component","oldValue","lastComponent","equals","clonePath","castInput","newLen","oldLen","editLength","maxEditLength","bestPath","extractCommon","execEditLength","diagonalPath","basePath","addPath","removePath","_oldPos","canAdd","canRemove","pushComponent","commonCount","comparator","ignoreCase","chars","diffChars","oldStr","newStr","characterDiff","diffCss","cssDiff","diffJson","oldObj","newObj","jsonDiff","canonicalize","_base","_line","_typeof","objectPrototypeToString","replacementStack","replacer","canonicalizedObj","_key","sortedKeys","sort","lineDiff","_this$options","undefinedReplacement","_this$options$stringi","stringifyReplacer","diffLines","diffTrimmedLines","_params","generateOptions","ignoreWhitespace","retLines","linesAndNewlines","newlineIsToken","diffSentences","sentenceDiff","diffWords","wordDiff","diffWordsWithSpace","extendedWordChars","reWhitespace","tokens","_character","_word","_sentence","_css","_json","_array","_apply","applyPatch","applyPatches","_parse","parsePatch","_merge","_create","structuredPatch","createTwoFilesPatch","createPatch","_dmp","_xml","uniDiff","currentIndex","processIndex","complete","loadFile","updatedContent","patched","_distanceIterator","removeEOFNL","addEOFNL","lines","delimiters","hunks","compareLine","patchContent","errorCount","fuzzFactor","minLine","offset","hunkFits","hunk","toPos","maxLine","oldLines","localOffset","oldStart","diffOffset","_hunk","_toPos","newLines","linedelimiters","previousOperation","_k","formatPatch","oldHeader","newHeader","_toConsumableArray","_arrayLikeToArray","_arrayWithoutHoles","iter","_iterableToArray","minLen","_unsupportedIterableToArray","_nonIterableSpread","arr2","oldFileName","newFileName","contextLines","entry","oldRangeStart","newRangeStart","curRange","oldLine","newLine","_loop","current","_curRange","_curRange2","_curRange3","contextSize","newStart","oldEOFNewline","newEOFNewline","noNlBeforeAdds","calcLineCount","mine","theirs","base","loadPatch","fileNameChanged","selectField","mineIndex","theirsIndex","mineOffset","theirsOffset","mineCurrent","theirsCurrent","hunkBefore","cloneHunk","mergedHunk","mergeLines","_calcOldNewLineCount","calcOldNewLineCount","param","conflict","mineLines","theirOffset","theirLines","their","insertLeading","theirCurrent","_hunk$lines","collectChange","_hunk$lines2","removal","mutualChange","insertTrailing","myChanges","theirChanges","allRemoves","_hunk$lines3","_hunk$lines4","arrayStartsWith","skipRemoveSuperset","arrayEqual","_hunk$lines5","swap","_hunk$lines6","matchChanges","merged","matchIndex","contextChanges","conflicted","collectContext","insert","removeChanges","delta","changeContent","myCount","theirCount","diffstr","parseIndex","parseFileHeader","parseHunk","fileHeader","keyPrefix","chunkHeaderIndex","chunkHeader","addCount","removeCount","wantForward","backwardExhausted","forwardExhausted","unwrap","SYMBOL","writable","_listeners","_events","_findAndProcess","unprocessed","_process","_wrap","visit","onAddListener","onEmit","adding","existing","__wrapped","remover","noop","eos","ws","_writableState","rs","_readableState","readable","cancelled","onlegacyfinish","onfinish","onend","exitCode","onclosenexttick","ended","destroyed","onrequest","isRequest","isChildProcess","createWriteStream","getStream","promisify","yauzl","openZip","pipeline","Extractor","zipPath","zipfile","lazyEntries","canceled","readEntry","destDir","dir","recursive","canonicalDestDir","realpath","relative","sep","includes","extractEntry","close","onEntry","externalFileAttributes","symlink","isDir","endsWith","madeBy","versionMadeBy","isSymlink","procMode","getExtractedMode","mkdirOptions","readStream","openReadStream","link","entryMode","defaultDirMode","defaultFileMode","isAbsolute","extract","Readable","PassThrough","Pend","FdSlicer","pend","refCount","autoClose","ReadStream","ref","endOffset","pos","WriteStream","bytesWritten","BufferSlicer","maxChunkSize","MAX_SAFE_INTEGER","createFromBuffer","createFromFd","go","bytesRead","written","createReadStream","_read","toRead","highWaterMark","_write","encoding","bytes","copy","entireSlice","nextOffset","bufferSlicer","writeStream","URL","events","eventHandlers","arg1","arg2","arg3","_redirectable","InvalidUrlError","createErrorType","RedirectionError","TooManyRedirectsError","MaxBodyLengthExceededError","WriteAfterEndError","RedirectableRequest","responseCallback","_sanitizeOptions","_options","_ended","_ending","_redirectCount","_redirects","_requestBodyLength","_requestBodyBuffers","_onNativeResponse","_processResponse","_performRequest","protocols","nativeProtocols","scheme","nativeProtocol","wrappedProtocol","defineProperties","urlToOptions","equal","wrappedRequest","removeMatchingHeaders","lastValue","baseClass","CustomError","captureStackTrace","cause","destroyRequest","_currentRequest","currentRequest","removeHeader","msecs","destroyOnTimeout","startTimer","_timeout","clearTimer","searchPos","_currentUrl","_isRedirect","buffers","writeNext","finished","trackRedirects","followRedirects","responseUrl","redirects","redirectUrl","currentHostHeader","currentUrlParts","currentHost","currentUrl","redirectUrlParts","subdomain","dot","isSubdomain","responseDetails","requestDetails","sync","realpathSync","monkeypatch","unmonkeypatch","origRealpath","origRealpathSync","old","newError","syscall","cache","pathModule","isWindows","NODE_DEBUG","maybeCallback","backtrace","missingCallback","throwDeprecation","noDeprecation","traceDeprecation","rethrow","normalize","nextPartRe","splitRootRe","seenLinks","knownHard","lstatSync","lastIndex","resolvedLink","isSymbolicLink","linkTarget","dev","ino","readlinkSync","LOOP","gotResolvedLink","gotStat","gotTarget","readlink","PassThroughStream","objectMode","chunks","getBufferedValue","getBufferedLength","BufferConstants","pump","bufferStream","MaxBufferError","inputStream","maxBuffer","MAX_LENGTH","bufferedData","ownProp","alphasort","alphasorti","setopts","pattern","matchBase","noglobstar","silent","realpathCache","follow","mark","nodir","nounique","nonull","nosort","nocase","noprocess","absolute","maxLength","statCache","symlinks","ignore","ignoreMap","setupIgnores","changedCwd","cwd","root","cwdAbs","makeAbs","nomount","nonegate","nocomment","minimatch","Minimatch","finish","nou","literal","globSet","_mark","notDir","isIgnored","found","slash","mabs","childrenIgnored","gmatcher","localeCompare","gpattern","matcher","glob","rp","EE","globSync","inflight","Glob","GlobSync","_didRealPath","_processing","_emitQueue","_processQueue","paused","_finish","hasMagic","options_","origin","_didRealpath","_realpath","_realpathSet","matchset","_makeAbs","real","pause","resume","eq","_emitMatch","pq","inGlobStar","_processSimple","remain","GLOBSTAR","_processGlobStar","_processReaddir","_readdir","entries","_processReaddir2","pn","negate","rawGlob","_glob","dotOk","matchedEntries","st","_readdirInGlobStar","lstatcb","isSym","_readdirError","_readdirEntries","readdirCb","_processGlobStar2","remainWithoutGlobStar","gspref","noGlobStar","instead","below","_stat","_processSimple2","trail","needDir","statcb","_stat2","newPattern","flag","argv","terminatorPosition","__awaiter","_arguments","P","generator","step","net_1","tls_1","url_1","assert_1","agent_base_1","parse_proxy_response_1","HttpsProxyAgent","secureProxy","ALPNProtocols","isDefaultPort","proxyResponsePromise","buffered","servername","omit","fakeSocket","agent_1","createHttpsProxyAgent","buffersLength","firstLine","ondata","wrappy","reqs","RES","cbs","makeres","ctor","superCtor","super_","TempCtor","FUNC_ERROR_TEXT","HASH_UNDEFINED","PLACEHOLDER","WRAP_CURRY_RIGHT_FLAG","WRAP_PARTIAL_FLAG","WRAP_PARTIAL_RIGHT_FLAG","WRAP_ARY_FLAG","WRAP_REARG_FLAG","INFINITY","NAN","MAX_ARRAY_LENGTH","wrapFlags","argsTag","arrayTag","boolTag","dateTag","errorTag","funcTag","genTag","mapTag","numberTag","objectTag","promiseTag","regexpTag","setTag","stringTag","symbolTag","weakMapTag","arrayBufferTag","dataViewTag","float32Tag","float64Tag","int8Tag","int16Tag","int32Tag","uint8Tag","uint8ClampedTag","uint16Tag","uint32Tag","reEmptyStringLeading","reEmptyStringMiddle","reEmptyStringTrailing","reEscapedHtml","reUnescapedHtml","reHasEscapedHtml","reHasUnescapedHtml","reEscape","reEvaluate","reInterpolate","reIsDeepProp","reIsPlainProp","rePropName","reRegExpChar","reHasRegExpChar","reTrimStart","reWrapComment","reWrapDetails","reSplitDetails","reAsciiWord","reForbiddenIdentifierChars","reEscapeChar","reEsTemplate","reFlags","reIsBadHex","reIsBinary","reIsHostCtor","reIsOctal","reIsUint","reLatin","reNoMatch","reUnescapedString","rsComboRange","rsComboMarksRange","rsDingbatRange","rsLowerRange","rsUpperRange","rsVarRange","rsBreakRange","rsMathOpRange","rsApos","rsAstral","rsBreak","rsCombo","rsDigits","rsDingbat","rsLower","rsMisc","rsFitz","rsNonAstral","rsRegional","rsSurrPair","rsUpper","rsMiscLower","rsMiscUpper","rsOptContrLower","rsOptContrUpper","reOptMod","rsOptVar","rsSeq","rsEmoji","rsSymbol","reApos","reComboMark","reUnicode","reUnicodeWord","reHasUnicode","reHasUnicodeWord","contextProps","templateCounter","typedArrayTags","cloneableTags","stringEscapes","freeParseFloat","parseFloat","freeParseInt","freeGlobal","freeSelf","Function","freeExports","nodeType","freeModule","moduleExports","freeProcess","nodeUtil","types","nodeIsArrayBuffer","nodeIsDate","nodeIsMap","isMap","nodeIsRegExp","isRegExp","nodeIsSet","isSet","nodeIsTypedArray","isTypedArray","arrayAggregator","setter","iteratee","accumulator","arrayEach","arrayEachRight","arrayEvery","predicate","arrayFilter","resIndex","arrayIncludes","baseIndexOf","arrayIncludesWith","arrayMap","arrayPush","arrayReduce","initAccum","arrayReduceRight","arraySome","asciiSize","baseProperty","baseFindKey","collection","eachFunc","baseFindIndex","fromIndex","fromRight","strictIndexOf","baseIsNaN","baseIndexOfWith","baseMean","baseSum","object","basePropertyOf","baseReduce","baseTimes","baseTrim","string","trimmedEndIndex","baseUnary","baseValues","cacheHas","charsStartIndex","strSymbols","chrSymbols","charsEndIndex","countHolders","placeholder","deburrLetter","escapeHtmlChar","escapeStringChar","chr","hasUnicode","mapToArray","overArg","transform","arg","replaceHolders","setToArray","setToPairs","stringSize","unicodeSize","stringToArray","unicodeToArray","asciiToArray","unescapeHtmlChar","runInContext","pick","arrayProto","funcProto","objectProto","coreJsData","funcToString","idCounter","maskSrcKey","IE_PROTO","nativeObjectToString","objectCtorString","oldDash","reIsNative","allocUnsafe","getPrototype","objectCreate","spreadableSymbol","isConcatSpreadable","symIterator","symToStringTag","toStringTag","getNative","ctxClearTimeout","ctxNow","ctxSetTimeout","nativeCeil","nativeFloor","nativeGetSymbols","nativeIsBuffer","nativeIsFinite","isFinite","nativeJoin","nativeKeys","nativeMax","nativeMin","nativeNow","nativeParseInt","nativeRandom","nativeReverse","reverse","DataView","WeakMap","nativeCreate","metaMap","realNames","dataViewCtorString","toSource","mapCtorString","promiseCtorString","setCtorString","weakMapCtorString","symbolProto","symbolValueOf","valueOf","symbolToString","lodash","isObjectLike","LazyWrapper","LodashWrapper","wrapperClone","baseCreate","baseLodash","chainAll","__wrapped__","__actions__","__chain__","__index__","__values__","__dir__","__filtered__","__iteratees__","__takeCount__","__views__","Hash","clear","ListCache","MapCache","SetCache","__data__","Stack","arrayLikeKeys","inherited","isArr","isArg","isArguments","isBuff","isType","skipIndexes","isIndex","arraySample","baseRandom","arraySampleSize","shuffleSelf","copyArray","baseClamp","arrayShuffle","assignMergeValue","baseAssignValue","objValue","assocIndexOf","baseAggregator","baseEach","baseAssign","copyObject","baseAt","paths","skip","lower","upper","baseClone","bitmask","customizer","isDeep","isFlat","isFull","initCloneArray","tag","getTag","isFunc","cloneBuffer","initCloneObject","getSymbolsIn","copySymbolsIn","keysIn","baseAssignIn","getSymbols","copySymbols","Ctor","cloneArrayBuffer","dataView","byteOffset","cloneDataView","cloneTypedArray","cloneRegExp","symbol","initCloneByTag","stacked","subValue","getAllKeysIn","getAllKeys","baseConformsTo","baseDelay","wait","baseDifference","isCommon","valuesLength","outer","computed","valuesIndex","templateSettings","getMapData","pairs","LARGE_ARRAY_SIZE","createBaseEach","baseForOwn","baseEachRight","baseForOwnRight","baseEvery","baseExtremum","isSymbol","baseFilter","baseFlatten","isStrict","isFlattenable","baseFor","createBaseFor","baseForRight","baseFunctions","baseGet","castPath","toKey","baseGetAllKeys","keysFunc","symbolsFunc","baseGetTag","isOwn","unmasked","getRawTag","objectToString","baseGt","other","baseHas","baseHasIn","baseIntersection","arrays","othLength","othIndex","caches","seen","baseInvoke","baseIsArguments","baseIsEqual","equalFunc","objIsArr","othIsArr","objTag","othTag","objIsObj","othIsObj","isSameTag","equalArrays","convert","isPartial","equalByTag","objIsWrapped","othIsWrapped","objUnwrapped","othUnwrapped","objProps","objLength","objStacked","othStacked","skipCtor","othValue","compared","objCtor","othCtor","equalObjects","baseIsEqualDeep","baseIsMatch","matchData","noCustomizer","srcValue","COMPARE_PARTIAL_FLAG","baseIsNative","baseIteratee","baseMatchesProperty","baseMatches","baseKeys","isPrototype","baseKeysIn","nativeKeysIn","isProto","baseLt","baseMap","isArrayLike","getMatchData","matchesStrictComparable","isKey","isStrictComparable","hasIn","baseMerge","srcIndex","mergeFunc","safeGet","newValue","isTyped","isArrayLikeObject","toPlainObject","baseMergeDeep","baseNth","baseOrderBy","iteratees","orders","getIteratee","criteria","comparer","baseSortBy","objCriteria","othCriteria","ordersLength","compareAscending","compareMultiple","basePickBy","baseSet","basePullAll","basePullAt","indexes","baseUnset","baseRepeat","baseRest","setToString","overRest","baseSample","baseSampleSize","nested","baseSetData","baseSetToString","constant","baseShuffle","baseSlice","baseSome","baseSortedIndex","retHighest","low","high","mid","baseSortedIndexBy","valIsNaN","valIsNull","valIsSymbol","valIsUndefined","othIsDefined","othIsNull","othIsReflexive","othIsSymbol","setLow","baseSortedUniq","baseToNumber","baseToString","baseUniq","createSet","seenIndex","baseUpdate","updater","baseWhile","isDrop","baseWrapperValue","actions","action","baseXor","baseZipObject","assignFunc","valsLength","castArrayLikeObject","castFunction","stringToPath","castRest","castSlice","arrayBuffer","typedArray","valIsDefined","valIsReflexive","composeArgs","partials","holders","isCurried","argsIndex","argsLength","holdersLength","leftIndex","leftLength","rangeLength","isUncurried","composeArgsRight","holdersIndex","rightIndex","rightLength","isNew","createAggregator","initializer","createAssigner","assigner","sources","guard","isIterateeCall","iterable","createCaseFirst","methodName","trailing","createCompounder","words","deburr","createCtor","thisBinding","createFind","findIndexFunc","createFlow","flatRest","funcs","prereq","thru","wrapper","getFuncName","funcName","getData","isLaziable","plant","createHybrid","partialsRight","holdersRight","argPos","ary","arity","isAry","isBind","isBindKey","isFlip","getHolder","holdersCount","newHolders","createRecurry","reorder","createInverter","toIteratee","baseInverter","createMathOperation","operator","defaultValue","createOver","arrayFunc","createPadding","charsLength","createRange","toFinite","baseRange","createRelationalOperation","toNumber","wrapFunc","isCurry","newData","setData","setWrapToString","createRound","precision","toInteger","createToPairs","baseToPairs","createWrap","srcBitmask","newBitmask","isCombo","mergeData","createCurry","createPartial","createBind","customDefaultsAssignIn","customDefaultsMerge","customOmitClone","arrLength","arrStacked","arrValue","flatten","otherFunc","getValue","stubArray","hasPath","hasFunc","isLength","ctorString","isMaskable","stubFalse","otherArgs","oldArray","shortOut","reference","details","insertWrapDetails","updateWrapDetails","getWrapDetails","lastCalled","stamp","remaining","rand","memoize","memoizeCapped","quote","subString","clone","difference","differenceBy","differenceWith","findIndex","findLastIndex","head","intersection","mapped","intersectionBy","intersectionWith","pull","pullAll","pullAt","unionBy","unionWith","unzip","group","unzipWith","without","xor","xorBy","xorWith","zip","zipWith","wrapperAt","countBy","find","findLast","forEachRight","groupBy","invokeMap","keyBy","partition","sortBy","bindKey","WRAP_BIND_FLAG","debounce","lastArgs","lastThis","maxWait","lastCallTime","lastInvokeTime","leading","maxing","invokeFunc","leadingEdge","timerExpired","shouldInvoke","timeSinceLastCall","trailingEdge","timeWaiting","remainingWait","debounced","isInvoking","defer","delay","resolver","memoized","Cache","overArgs","transforms","funcsLength","partial","partialRight","rearg","gt","isInteger","lt","toArray","iteratorToArray","remainder","toLength","isBinary","assignIn","assignInWith","assignWith","at","propsIndex","propsLength","defaultsDeep","mergeWith","invert","invertBy","invoke","CLONE_DEEP_FLAG","basePick","pickBy","toPairs","toPairsIn","camelCase","word","capitalize","upperFirst","kebabCase","lowerCase","lowerFirst","snakeCase","startCase","upperCase","hasUnicodeWord","unicodeWords","asciiWords","attempt","bindAll","methodNames","flow","flowRight","methodOf","mixin","over","overEvery","overSome","basePropertyDeep","rangeRight","augend","addend","divide","dividend","divisor","multiply","multiplier","multiplicand","round","subtract","minuend","subtrahend","castArray","compact","cond","conforms","baseConforms","curry","curryRight","drop","dropRight","dropRightWhile","dropWhile","fill","baseFill","flatMap","flatMapDeep","flatMapDepth","flattenDeep","flattenDepth","flip","fromPairs","functions","functionsIn","initial","mapKeys","mapValues","matchesProperty","nthArg","omitBy","orderBy","propertyOf","pullAllBy","pullAllWith","sampleSize","setWith","shuffle","sortedUniq","sortedUniqBy","separator","limit","tail","take","takeRight","takeRightWhile","takeWhile","tap","throttle","toPath","isArrLike","unary","uniq","uniqBy","uniqWith","unset","update","updateWith","valuesIn","zipObject","zipObjectDeep","entriesIn","extendWith","clamp","cloneDeep","cloneDeepWith","cloneWith","conformsTo","defaultTo","escape","escapeRegExp","every","findKey","findLastKey","forIn","forInRight","forOwn","forOwnRight","inRange","baseInRange","isBoolean","isElement","isEmpty","isEqual","isEqualWith","isMatch","isMatchWith","isNative","isNil","isNull","isSafeInteger","isWeakMap","isWeakSet","strictLastIndexOf","maxBy","mean","meanBy","minBy","stubObject","stubString","stubTrue","nth","noConflict","strLength","padEnd","padStart","radix","floating","temp","reduceRight","sample","sortedIndex","sortedIndexBy","sortedIndexOf","sortedLastIndex","sortedLastIndexBy","sortedLastIndexOf","sum","sumBy","template","settings","isEscaping","isEvaluating","imports","importsKeys","importsValues","interpolate","reDelimiters","evaluate","sourceURL","escapeValue","interpolateValue","esTemplateValue","evaluateValue","variable","toLower","toSafeInteger","toUpper","trimEnd","trimStart","truncate","omission","newEnd","uniqueId","each","eachRight","first","VERSION","isFilter","takeName","dropName","checkIteratee","isTaker","lodashFunc","retUnwrapped","isLazy","useLazy","isHybrid","isUnwrapped","onlyLazy","chainName","isRight","view","getView","iterLength","takeCount","iterIndex","commit","Yallist","MAX","LENGTH","LENGTH_CALCULATOR","ALLOW_STALE","MAX_AGE","DISPOSE","NO_DISPOSE_ON_SET","LRU_LIST","CACHE","UPDATE_AGE_ON_GET","naiveLength","doUse","hit","isStale","del","unshiftNode","maxAge","walker","removeNode","Entry","forEachStep","thisp","lc","stale","noDisposeOnSet","updateAgeOnGet","mL","allowStale","mA","lengthCalculator","lC","itemCount","rforEach","dump","dumpLru","peek","expiresAt","prune","plTypes","qmark","star","reSpecials","slashSplit","ext","assertValidPattern","allowWindowsEscape","comment","empty","make","braceExpand","nobrace","def","orig","makeRe","parseNegate","globParts","si","negateOffset","isSub","stateChar","re","escaping","patternListStack","negativeLists","inClass","reClassStart","classStart","patternStart","clearStateChar","noext","reStart","pl","reEnd","cs","sp","SUBPARSE","$2","addPatternStart","nl","nlBefore","nlFirst","nlLast","nlAfter","openParensBefore","cleanAfter","dollar","globUnescape","regExp","_src","twoStar","regExpEscape","ex","mm","file","matchOne","flipNegate","fi","pi","fl","fr","pr","swallowee","w","plural","msAbs","isPlural","long","fmtLong","fmtShort","called","onceStrict","onceError","posix","win32","device","isUnc","pending","waiting","pendHold","pendGo","cbListener","hold","ancient","isFn","destroyer","reading","writing","closed","isFS","to","streams","destroys","_err","defaultGlobOpts","maxBusyTries","emfileWait","disableGlob","rimraf","busyTries","errState","afterGlob","CB","rimraf_","fixWinEPERM","rmdir","chmod","er2","er3","fixWinEPERMSync","chmodSync","rmdirSync","unlinkSync","originalEr","rmkids","rimrafSync","rmkidsSync","retries","ANY","Comparator","comp","parseOptions","loose","COMPARATORLOOSE","COMPARATOR","SemVer","cmp","intersects","Range","includePrerelease","safeRe","raw","parseRange","isNullSet","isAny","comps","memoKey","FLAG_INCLUDE_PRERELEASE","FLAG_LOOSE","cached","hr","HYPHENRANGELOOSE","HYPHENRANGE","hyphenReplace","COMPARATORTRIM","comparatorTrimReplace","TILDETRIM","tildeTrimReplace","CARETTRIM","caretTrimReplace","rangeList","parseComparator","replaceGTE0","rangeMap","comparators","thisComparators","isSatisfiable","rangeComparators","thisComparator","rangeComparator","testSet","remainingComparators","testComparator","otherComparator","replaceCarets","replaceTildes","replaceXRanges","replaceStars","isX","replaceTilde","TILDELOOSE","TILDE","M","replaceCaret","CARETLOOSE","CARET","replaceXRange","XRANGELOOSE","XRANGE","gtlt","xM","xm","xp","anyX","STAR","GTE0PRE","GTE0","incPr","$0","fM","fm","fp","fpr","fb","tM","tm","tp","tpr","tb","prerelease","allowed","major","minor","compareIdentifiers","LOOSE","FULL","build","compare","compareMain","comparePre","compareBuild","inc","identifier","identifierBase","neq","op","rtl","COERCERTL","COERCE","versionA","versionB","version1","version2","v1","v2","comparison","v1Higher","highVersion","lowVersion","highHasPre","throwErrors","internalRe","identifiers","valid","clean","rcompare","compareLoose","rsort","toComparators","maxSatisfying","minSatisfying","minVersion","validRange","outside","gtr","ltr","simplifyRange","subset","src","SEMVER_SPEC_VERSION","RELEASE_TYPES","rcompareIdentifiers","MAX_SAFE_COMPONENT_LENGTH","MAX_SAFE_BUILD_LENGTH","anum","bnum","looseOption","freeze","emptyOpts","R","LETTERDASHNUMBER","safeRegexReplacements","createToken","isGlobal","safe","makeSafeRegex","NUMERICIDENTIFIER","NUMERICIDENTIFIERLOOSE","NONNUMERICIDENTIFIER","PRERELEASEIDENTIFIER","PRERELEASEIDENTIFIERLOOSE","BUILDIDENTIFIER","MAINVERSION","PRERELEASE","BUILD","FULLPLAIN","MAINVERSIONLOOSE","PRERELEASELOOSE","LOOSEPLAIN","XRANGEIDENTIFIER","XRANGEIDENTIFIERLOOSE","GTLT","XRANGEPLAIN","XRANGEPLAINLOOSE","LONETILDE","LONECARET","r1","r2","maxSV","rangeObj","minSV","minver","setMin","compver","hilo","gtfn","ltefn","ltfn","ecomp","ranges","simplified","minimumVersionWithPreRelease","minimumVersion","simpleSubset","sub","dom","eqSet","gtltComp","higher","hasDomLT","hasDomGT","higherGT","lowerLT","needDomLTPre","needDomGTPre","sawNonNull","OUTER","simpleSub","simpleDom","funktion","logger","nodule","__unwrap","nodules","massUnwrap","ee","FormatErrorString","_stackChain","defaultFormater","TraceModifier","StackFormater","SHORTCIRCUIT_CALLSITE","collectCallSites","callSites","_modify","_formater","_previous","formater","restore","_backup","_roolback","prepareStackTrace","SHORTCIRCUIT_FORMATER","originalFrames","stackTraceLimit","isExtensible","getOwnPropertyDescriptor","mutated","hasFlag","forceColor","translateLevel","hasBasic","has256","has16m","haveStream","streamIsTTY","TERM","osRelease","sign","CI_NAME","TEAMCITY_VERSION","COLORTERM","TERM_PROGRAM_VERSION","TERM_PROGRAM","FORCE_COLOR","isTTY","execSync","_platform","_linux","_darwin","_windows","_freebsd","_openbsd","_netbsd","_sunos","parseAudioType","output","parseDarwinAudio","audioObject","channelStr","coreaudio_device_transport","_name","manufacturer","coreaudio_device_manufacturer","revision","driver","coreaudio_default_audio_input_device","coreaudio_default_audio_output_device","parseDarwinChannel","coreaudio_device_input","coreaudio_device_output","in","out","audio","audioPCI","element","slotId","getLinuxAudioPci","pciMatch","parseLinuxAudioPciMM","outObj","SPAudioDataType","powerShell","parseWindowsAudio","parseWinBatteryPart","designedCapacity","fullChargeCapacity","statusValue","hasBattery","maxCapacity","voltage","capacityUnit","percent","currentCapacity","isCharging","acConnected","cycleCount","timeRemaining","serial","battery_path","acPath","desingedMinVoltage","energy","power","charge","batteries","parts2","workload","promiseAll","hasValue","designCapacities","fullChargeCapacities","additionalBatteries","toInt","parseBluetoothType","parseDarwinBluetoothDevices","bluetoothObject","macAddr2","typeStr","device_minorClassOfDevice_string","device_majorClassOfDevice_string","device_minorType","device_name","device_services","device_manufacturer","parseBluetoothManufacturer","macDevice","device_addr","device_address","macHost","batteryPercent","device_batteryPercent","connected","device_isconnected","bluetoothDevices","getFilesInPath","pathParts","macAddr1","infoFile","parseLinuxBluetoothInfo","hdicon","SPBluetoothDataType","local_device_title","general_address","objKey","innerObject","bluetoothDevice","controller_properties","controller_address","parseWindowsBluetooth","_cpu_speed","_current_cpu","steal","guest","tick","currentLoad","currentLoadUser","currentLoadSystem","currentLoadNice","currentLoadIdle","currentLoadIrq","currentLoadSteal","currentLoadGuest","rawCurrentLoad","rawCurrentLoadUser","rawCurrentLoadSystem","rawCurrentLoadNice","rawCurrentLoadIdle","rawCurrentLoadIrq","rawCurrentLoadSteal","rawCurrentLoadGuest","_cpus","_corecount","AMDBaseFrequencies","socketTypes","socketTypesByName","cpuManufacturer","cpuBrandManufacturer","brand","getAMDSpeed","getCpu","UNKNOWN","family","stepping","speedMin","speedMax","governor","cores","physicalCores","performanceCores","efficiencyCores","virtualization","cpuFlags","modellineParts","tbFrequency","countProcessors","countCores","countThreads","clusters","cpuCache","modelline","getCpuCurrentSpeedSync","avg","l1d","l1i","l2","l3","threadsPerCore","threadsPerCoreInt","processorsInt","coresPerSocket","linesRpi","rPIRevision","decodePiCpuinfo","revisionCode","lines2","error2","stdout2","sig","cacheType","sizeParts","unit","threadCount","coreCount","socketId","socketByName","getSocketTypesByName","countLines","parseWinCache","hyperv","minFreq","maxFreq","avgFreq","freq","execOptsWin","flag_hex","flag_bin_unpadded","flag_bin","all_flags","linesProc","linesCache","installedSize","cpuCurrentSpeed","currCpuSpeed","cpuTemperature","main","chipset","cmd","tdiePos","tctl","label","maxtmp","tdieTemp","newSectionStarts","section","temps","firstPart","osxTemp","idx","loads","loadavg","avgLoad","totalSystem","totalSteal","totalGuest","tmpTick","totalTick","tmpLoad","totalLoad","tmpUser","tmpSystem","tmpNice","tmpIdle","tmpIrq","tmpSteal","tmpGuest","currentTick","loadUser","loadSystem","loadNice","loadIdle","loadIrq","loadSteal","loadGuest","rawLoad","rawLoadUser","rawLoadSystem","rawLoadNice","rawLoadIdle","rawLoadIrq","rawLoadSteal","rawLoadGuest","fullLoad","totalTicks","DockerSocket","_docker_socket","_docker_container_stats","_docker_last_read","dockerContainers","inContainers","containers","Id","listContainers","docker_containers","containerID","Names","containerIdSanitized","isPrototypePolluted","sanitizeShellString","getInspect","image","Image","imageID","ImageID","Command","created","Created","started","StartedAt","FinishedAt","createdAt","startedAt","finishedAt","restartCount","RestartCount","Platform","Driver","ports","Ports","mounts","Mounts","dockerContainerStats","containerIDs","containerArray","containerIDsSanitized","stringToLower","stringReplace","stringTrim","mathMin","sl","allContainers","container","dockerContainerStatsSingle","memUsage","memLimit","memPercent","cpuPercent","pids","netIO","rx","wx","blockIO","cpuStats","precpuStats","memoryStats","networks","dataInspect","getStats","memory_stats","usage","cpu_stats","precpu_stats","nanoSecNow","nanoSeconds","possIntervals","intervalsUsed","cpu_usage","total_usage","cpuDelta","systemDelta","system_cpu_usage","online_cpus","percpu_usage","docker_calcCPUPercent","pids_stats","rx_bytes","tx_bytes","docker_calcNetworkIO","blkio_stats","io_service_bytes_recursive","docker_calcBlockIO","dockerContainerProcesses","getProcesses","Titles","Processes","titles","pos_pid","pos_ppid","pos_pgid","pos_vsz","pos_time","pos_elapsed","pos_ni","pos_ruser","pos_user","pos_rgroup","pos_group","pos_stat","pos_rss","pos_command","pidHost","ppid","pgid","ruser","rgroup","elapsed","vsz","dockerInfo","getInfo","ID","Containers","containersRunning","ContainersRunning","containersPaused","ContainersPaused","containersStopped","ContainersStopped","images","Images","memoryLimit","MemoryLimit","swapLimit","SwapLimit","kernelMemory","KernelMemory","cpuCfsPeriod","CpuCfsPeriod","cpuCfsQuota","CpuCfsQuota","cpuShares","CPUShares","cpuSet","CPUSet","ipv4Forwarding","IPv4Forwarding","bridgeNfIptables","BridgeNfIptables","bridgeNfIp6tables","BridgeNfIp6tables","Debug","nfd","NFd","oomKillDisable","OomKillDisable","ngoroutines","NGoroutines","systemTime","SystemTime","loggingDriver","LoggingDriver","cgroupDriver","CgroupDriver","nEventsListener","NEventsListener","kernelVersion","KernelVersion","operatingSystem","OperatingSystem","osType","OSType","architecture","Architecture","ncpu","NCPU","memTotal","MemTotal","dockerRootDir","DockerRootDir","httpProxy","HttpProxy","httpsProxy","HttpsProxy","noProxy","NoProxy","labels","Labels","experimentalBuild","ExperimentalBuild","serverVersion","ServerVersion","clusterStore","ClusterStore","clusterAdvertise","ClusterAdvertise","defaultRuntime","DefaultRuntime","liveRestoreEnabled","LiveRestoreEnabled","isolation","Isolation","initBinary","InitBinary","productLicense","ProductLicense","dockerImages","listImages","imageIDSanitized","inspectImage","Container","Comment","Os","Parent","dockerVersion","DockerVersion","Size","sharedSize","SharedSize","virtualSize","VirtualSize","author","Author","containerConfig","ContainerConfig","graphDriver","GraphDriver","repoDigests","RepoDigests","repoTags","RepoTags","rootFS","RootFS","dockerVolumes","listVolumes","Volumes","mountpoint","Mountpoint","Options","scope","Scope","CreatedAt","dockerAll","processes","alldata","startbody","execPromiseSave","promisifySave","_fs_speed","_disk_io","parseDevices","devices","fsType","mount","physical","uuid","removable","parseBlk","disk","rota","rm","tran","unique","sortByKey","raidMatchLinux","mdData","raid","members","decodeMdabmData","blockdevice","matchDevicesWin","diskDrives","partitions","getDevicesWin","filteresDevices","blkStdoutToObject","calcFsSpeed","tx","rx_sec","wx_sec","tx_sec","bytes_read","bytes_write","bytes_overall","last_ms","calcDiskIO","rIO","wIO","rWaitTime","wWaitTime","tWaitTime","tIO","rIO_sec","wIO_sec","tIO_sec","rWaitPercent","wWaitPercent","tWaitPercent","fsSize","drive","macOsDisks","osMounts","filterLines","removeLines","parseDf","linuxFs","isLinuxTmpFs","fsShort","macOsDisksSingle","getmacOsFsType","used","available","rw","free","caption","rwValue","fsOpenFiles","allocated","blockDevices","getDevicesLinux","matchDevicesLinux","getDevicesMac","matchDevicesMac","drivetypes","logicalDisks","drivetype","fsStats","fs_filter","disksIO","diskLayout","getVendorFromModel","diskManufacturers","commitResult","BSDName","cmdFullSmart","outJSON","blockdevices","fstype","parttype","mediumType","logical","interfaceType","bytesPerSector","totalCylinders","totalHeads","totalSectors","totalTracks","tracksPerCylinder","sectorsPerTrack","firmwareRevision","rev","serialNum","smartStatus","temperature","diskBSDName","smartctl","smart_status","passed","smartData","linesSATA","linesNVMe","linesUSB","dataType","sizeStr","sizeValue","smartStatusString","linkWidth","replaceAll","smartMonToolsInstalled","smartDev","mediaType","findObjectByKey","smartStr","serial_number","_nvidiaSmiPath","_resolutionX","_resolutionY","_pixelDepth","_refreshRate","videoTypes","manufacturers","getVendorFromId","vendorToId","graphics","nvidiaSmi","nvidiaSmiExe","WINDIR","targetDir","prevDir","currentDir","previousNvidiaSmi","currentNvidiaSmi","ctimeMs","getNvidiaSmi","nvidiaDevices","safeParseNumber","gpu","splittedData","driverVersion","subDeviceId","pciBus","fanSpeed","memoryTotal","memoryUsed","memoryFree","utilizationGpu","utilizationMemory","temperatureGpu","temperatureMemory","powerDraw","powerLimit","clockCore","clockMemory","mergeControllerNvidia","controller","nvidia","vram","vramDynamic","parseLinesLinuxEdid","edid","deviceName","builtin","sizeX","sizeY","pixelDepth","resolutionX","resolutionY","currentResX","currentResY","positionX","positionY","currentRefreshRate","model_raw","controllers","displays","graphicsArr","bus","sppci_bus","spdisplays_vram","vramDyn","spdisplays_vram_shared","metalVersion","spdisplays_metal","spdisplays_metalfamily","spdisplays_vendor","sppci_model","vendorId","external","sppci_device_type","spdisplays_ndrvs","displayItem","connectionType","currentResolutionParts","currentResolution","pixelParts","pixelDepthString","productionYear","displayId","parseLinesDarwin","plistParser","_items","plistReader","isRaspberry","isRaspbian","getRpiGpu","currentController","subVendor","busAddress","pciID","isGraphicsController","pciIDs","subsystem","isExternal","vgapos","_3dcontrollerpos","pciIDCandidate","endpos","memparts","parseLinesLinuxControllers","nvidiaData","contr","fieldPattern","bdf","slot","memory","parseLinesLinuxClinfo","currentDisplay","is_edid","is_current","edid_raw","edid_decoded","parts1","resParts","parseLinesLinuxDisplays","csections","vsections","sections","vections","memorySizes","matchingDeviceId","quadWordmemorySize","pnpDeviceId","memorySize","parseLinesWindowsControllers","windowsSubDeviceId","nvidiaSubDeviceIdParts","nvidiaSubDeviceId","lengthDifference","dsections","msections","ssections","tsections","isections","instanceId","deviceID","linesDisplay","linesScreen","linesMonitor","linesConnection","bitsPerPixel","bounds","primary","instanceName","videoOutputTechnology","displayVendor","displayModel","parseLinesWindowsDisplaysPowershell","lib_version","osInfo","battery","filesystem","network","wifi","users","internet","docker","vbox","printer","usb","bluetooth","getStaticData","bios","baseboard","chassis","networkInterfaces","memLayout","getDynamicData","srv","iface","getDefaultNetworkInterface","functionProcessed","totalFunctions","v8","networkStats","networkConnections","mem","services","wifiNetworks","inetLatency","valueObject","allPromises","funcWithoutParams","filterParts","partialArray","partialRes","getCodepage","shell","networkInterfaceDefault","networkGatewayDefault","wifiInterfaces","wifiConnections","processLoad","inetChecksite","vboxInfo","getAllData","observe","_data","powerShellStart","powerShellRelease","urlSanitized","stringStartWith","execSafe","hostSanitized","filt","OSX_RAM_manufacturers","LINUX_RAM_manufacturers","slab","buffcache","swaptotal","swapused","swapfree","writeback","dirty","pagesize","inactive","pageSize","sysPpageSize","getManufacturerLinux","manId","manIdSearch","sizeString","bank","totalWidth","dataWidth","ecc","clockSpeed","formFactor","partNum","voltageConfigured","voltageMin","voltageMax","allLines","eccStatus","hasBank","memoryTypes","FormFactors","pathToIp","_network","_default_iface","_ifaces","_dhcpNics","_networkInterfaces","_mac","ifacename","ifacenameFirst","ifaces","scopeid","internal","defaultIp","EOL","getMacAddresses","mac","nextline","getWindowsNics","nsections","nconfigsections","nics","linesNicConfig","netEnabled","adapterType","dhcp","operstate","parseLinesWindowsNics","getWindowsIfaceDNSsuffix","dnsSuffix","interfaceName","connectionDnsSuffix","getWindowsIEEE8021x","i8021x","arrayIface8021xInfo","state8021x","protocol8021x","i8021xState","i8021xProtocol","SSID","getWindowsWirelessIfaceSSID","splitSectionsNics","getDarwinNics","nic","mtu","ip6","ip4","duplex","getLinuxIfaceConnectionName","resultFormat","connectionName","checkLinuxDCHPInterfaces","getLinuxDHCPNics","getLinuxIfaceDHCPstatus","DHCPNics","getDarwinIfaceDHCPstatus","getLinuxIfaceDNSsuffix","getLinuxIfaceIEEE8021xAuth","authenticationProtocol","testVirtualNic","ifaceName","rescan","defaultString","dnsSuffixes","nics8021xInfo","defaultInterface","ip4subnet","netmask","ip6subnet","ifaceSanitized","virtual","ieee8021xAuth","ieee8021xState","carrierChanges","nodeMainVersion","myspeed","wirelessspeed","getWindowsWiredProfilesInformation","primaryDNS","longPrimaryDNS","connectionSpecificDNS","getWindowsDNSsuffixes","foundFirst","detail","IEEE8021x","calcNetworkSpeed","rx_dropped","rx_errors","tx_dropped","tx_errors","networkStatsSingle","perfData","psections","parseLinesWindowsPerfData","interfaces","det","getProcessName","pid","cmdParts","ifacesArray","allIFaces","localip","localport","localaddress","peerip","peerport","peeraddress","connstate","proc","localAddress","localPort","peerAddress","peerPort","states","err2","hasState","getLogoFile","distro","getFQDN","fqdn","getUniqueMacAdresses","macs","hardware","jsonObj","SPHardwareDataType","spHardware","platform_UUID","sysdir","uptime","timezone","timezoneName","Intl","DateTimeFormat","resolvedOptions","timeZone","codename","kernel","codepage","logofile","servicepack","uefi","releaseVersion","DISTRIB_CODENAME","VERSION_CODENAME","DISTRIB_ID","NAME","DISTRIB_RELEASE","VERSION_ID","BUILD_ID","bootmethod","uefiConf","hypervisor","term","remoteSession","apps","versionObject","openssl","systemOpenssl","systemOpensslLib","yarn","pm2","gulp","grunt","git","tsc","apache","nginx","php","postfix","postgresql","perl","python","python3","pip","pip3","java","gcc","virtualbox","bash","zsh","fish","powershell","dotnet","appsObj","checkVersionParam","gitHomebrewExists","darwinXcodeExists","postgresqlBin","srvCaption","osVersion","gitHomebrewExists1","gitHomebrewExists2","semverCompare","getVboxmanage","winPrinterStatus","parseLinuxCupsPrinter","printerId","uri","local","shared","parseLinuxLpstatPrinter","parseDarwinPrinters","printerObject","uriParts","printserver","parseWindowsPrinters","printerHeader","cupsVersion","parseLinuxCupsHeader","printers","engine","engineVersion","SPPrintersDataType","_processes_cpu","all_utime","all_stime","_services_cpu","_process_cpu","_winStatusValues","parseProcStat","calcProcStatLinux","_cpu_old","statparts","utime","stime","cutime","cstime","cpuu","calcProcStatWin","procStat","srvString","srvs","dataSrv","tmpsrv","srvStr","ps","running","startmode","pv","cv","curr_processes","list_new","resultProcess","listPos","wincommand","srvName","startMode","parsedhead","getName","parseLine","offset2","checkColumn","priority","parseTimeUnix","etime","getTimezoneOffset","timeIndex","timeStr","parseElapsedTime","cmdPath","fullcommand","p1","p2","p3","p4","firstParamPos","firstParamPathPos","firstPos","tmpCommand","tmpParams","lastSlashPos","parentPid","memVsz","memRss","parseProcesses2","formatDateTime","month","getMonth","getFullYear","getHours","getMinutes","getSeconds","pmem","elapsed_parts","parseElapsed","blocked","sleeping","parseHead","processSections","procs","procStats","allcpuu","allcpus","commandLine","additionalCommand","commandPath","memw","processesString","pname","inList","processFound","procName","resultItemId","execPromise","cleanDefaults","cmpStr","sku","virtualHost","disksById","procLines","raspberry","releaseDate","datetime","parseDateTime","date","language","features","feature","hardwareData","bootRomVersion","boot_rom_version","assetTag","memMax","memSlots","rpi","win10plus","maxCapacityAttribute","chassisTypes","ctype","parseLinuxUsb","idVendor","vendorParts","idProduct","productParts","interfaceClassParts","usbType","iManufacturerParts","getLinuxUsbType","maxPower","serialNumber","parseDarwinUsb","usbObj","removableDrive","getDarwinUsbType","parseWindowsUsb","creationclass","getWindowsUsbTypeCreation","parseUsersLinux","phase","result_who","result_w","w_first","w_header","w_pos","who_line","is_whopart","parseUsersDarwin","sessions","sessionParts","starttime","parseWinSessions","loggedons","loggedonParts","loggedon","parseWinLoggedOn","queryUser","headerDelimiter","nextSpace","parseWinUsersQuery","userParts","userQuery","sessionid","quser","name1","name2","fuzzyMatch","parseWinUsers","dateTime","_cores","wmicPath","_smartMonToolsInstalled","_rpi_cpuinfo","_psChild","_psResult","_psCmds","_psPersistent","_psToUTF8","_psCmdStart","_psError","_psCmdSeperator","_psIdSeperator","_extend","LANG","stringToString","stringSubstr","trimmed","lineMatch","lineLower","getWmic","wmicPathArray","powerShellProceedResults","stdin","kill","oldRevisionCodes","processorList","manufacturerList","typeList","memSizeCode","hex","typeCode","strIsNumeric","execWin","functionToCheck","uniques","decodeEscapeSequence","dt","culture","dateFormat","pmDesignator","dtparts","splitter","seperator","detectSplit","isPM","parseTime","rights","space","cap","wmic","cmdLineToolsExists","xcodeAppExists","xcodeExists","VBOX_INSTALL_PATH","VBOX_MSI_INSTALL_PATH","countUniqueLines","startingWith","uniqueLines","cpuinfo","osrelease","notPolluted","rs2","qs","qs2","stm","sto","stl","s1","s2","s1l","resolvingPromises","errors","items","nodeStyleFunction","pathArray","linuxVersion","xmlStr","inTagStart","inTagContent","inTagEnd","metaData","tagStart","tagEnd","tagContent","cn","lineParts","valueString","getFilesRecursively","dirs","getDirectories","getFiles","runningSinceString","runningSince","sinceDateObj","stoppedSinceString","stoppedSince","stopped","guestOS","hardwareUUID","cpuExepCap","cpuProfile","firmware","pageFusion","configFile","snapshotFolder","logFolder","hpet","pae","longMode","tripleFaultReset","apic","x2Apic","acpi","ioApic","biosApicMode","bootMenuMode","bootDevice1","bootDevice2","bootDevice3","bootDevice4","timeOffset","rtc","wifiDBFromQuality","quality","wifiQualityFromDB","db","_wifi_frequencies","wifiFrequencyFromChannel","wifiChannelFromFrequencs","frequency","ifaceListLinux","ifaceDetails","nmiDeviceLinux","ssid","getWifiNetworkListNmi","security","wpaFlags","rsnFlags","bssid","signalLevel","getWifiNetworkListIw","iwlistParts","dbParts","isWpa","isWpa2","wpaFlag","iwconfigParts","wifiObj","wifiItem","RSSI","SSID_STR","WPA_IE","IE_KEY_WPA_UCIPHERS","ciphers","RSN_IE","IE_KEY_RSN_UCIPHERS","BSSID","CHANNEL","parseWifiDarwin","ssidParts","ssidPart","ssidLines","bssidsParts","bssidPart","bssidLines","bssidLine","networkList","ifaceDetail","ll","nmiDetails","wpaDetails","wpaConnectionLinux","nw","ssidSanitized","nmiConnection","autoconnect","nmiConnectionLinux","txRate","macParts","getVendor","RANDOM_CHARS","TEMPLATE_PATTERN","CREATE_FLAGS","O_CREAT","O_EXCL","O_RDWR","IS_WIN32","EBADF","errno","ENOENT","_removeObjects","FN_RMDIR_SYNC","FN_RIMRAF_SYNC","_gracefulCleanup","tmpName","_parseArguments","_assertAndSanitizeOptions","tries","_getUniqueName","_generateTmpName","tmpNameSync","_removeFileAsync","fdPath","_handler","_isENOENT","_removeFileSync","rethrownException","closeSync","_isExpectedError","_prepareTmpFileRemoveCallback","removeCallbackSync","_prepareRemoveCallback","removeCallback","keep","_prepareTmpDirRemoveCallback","removeFunction","unsafeCleanup","fileOrDirName","cleanupCallbackSync","_cleanupCallback","toRemove","_randomChars","rnd","randomBytes","pseudoRandomBytes","_isBlank","_isUndefined","actualOptions","tmpDir","_getTmpDir","_assertIsRelative","detachDescriptor","discardDescriptor","_resolvePath","_sanitizeName","sanitizedName","option","resolvedPath","dirSync","possibleErr","discardOrDetachDescriptor","fileSync","openSync","setGracefulCleanup","punycode","mappingTable","PROCESSING_OPTIONS","TRANSITIONAL","NONTRANSITIONAL","findStatus","regexAstralSymbols","countSymbols","combiningMarksRegex","validateLabel","processing_option","toUnicode","codePointAt","processing","domain_name","useSTD3","hasError","processed","codePoint","fromCodePoint","mapChars","validation","toASCII","verifyDnsLength","CompletionOrigin","updateWorkspace","rootPaths","getWorkspaceRootPaths","vscode","workspace","root_paths","updateInterval","tabNineProcess","onReady","BINARY_UPDATE_WORKSPACE_INTERVAL","activeTextEditorState","onDidChangeActiveTextEditor","editor","sendEvent","isDirty","fsPath","prefetch","pasteDisposable","commands","executeCommand","CAPABILITY_KEY","setAssistantMode","AssistantMode","Background","backgroundMode","isCapabilityEnabled","Capability","ASSISTANT_BACKGROUND_CAPABILITY","ASSISTANT_PASTE_CAPABILITY","Paste","BACKGROUND_KEY","isActive","globalState","ACTIVE_STATE_KEY","subscriptions","registerCommand","ASSISTANT_TOGGLE_COMMAND","showInformationMessage","StatePayload","STATE","state_type","StateType","toggle","registerReloadForToggleCommand","downloadAssistantBinary","registerTextEditorCommand","ASSISTANT_SELECTION_COMMAND","edit","assistantSelectionHandler","ASSISTANT_IGNORE_COMMAND","assistantIgnoreHandler","ASSISTANT_CLEAR_CACHE_COMMAND","assistantClearCacheHandler","ENABLED_KEY","AssistantCodeActionProvider","provideCodeActions","codeActions","diagnostics","diagnostic","TABNINE_DIAGNOSTIC_CODE","choices","choice","title","CodeAction","CodeActionKind","QuickFix","WorkspaceEdit","getAssistantMode","references","currentSuggestion","allSuggestions","threshold","createCodeAction","responseId","providedCodeActionKinds","eventDataOf","isIgnore","assistantVersion","sug","suggestions","strength","resolveDetailOf","CLOUD","selectedSuggestion","AssistantSelection","num_of_suggestions","selected_suggestion","reference_length","is_ignore","assistant_version","completion","score","clearCache","setDecorators","ASSISTANT_IGNORE_REFRESH_COMMAND","eventData","getAssistantVersion","assistantMode","numRestarts","childDead","mutex","resolveMap","isShutdown","restartChild","anyRequest","timeToSleep","isChildAlive","shutdowned","onChildDeath","rl","readline","createInterface","isCancelled","registerCallback","DocumentValidator","validLanguages","validExtensions","isValid","fileExt","languageId","TabNineDiagnostic","Diagnostic","vscodeReferencesRange","assistantRange","decorationType","createTextEditorDecorationType","border","borderStyle","changesTrackMap","activeTextEditor","decorationsArray","setDecorations","setStatusBarMessage","cancellationToken","refreshDiagnostics","diagnosticsCollection","visibleRanges","lock","foundDiagnostics","relevantRange","firstEditingPosition","visibleRange","currentValue","getRelevantRange","offsetAt","getBackgroundThreshold","PASTE_THRESHOLD","getText","apiKey","getAPIKey","assistantDiagnostics","EDIT_DISTANCE","newDiagnostics","assistantDiagnostic","completionList","choicesString","prevReferencesLocationsInRange","prevDiagnosticsForReferenceInRange","diag","vscodeRange","positionAt","DiagnosticSeverity","ValidatorState","num_of_diagnostics","num_of_locations","debouncedRefreshDiagnostics","currentRange","inPaste","tabnineDiagnostics","languages","createDiagnosticCollection","documentValidator","tabNineDiagnostics","initAssistantThreshold","registerRefreshCommand","ASSISTANT_MODE_TOGGLE_COMMAND","newMode","refreshDiagnosticsOrPrefetch","onDidChangeTextEditorVisibleRanges","textEditor","handleVisibleRangeChange","PASTE_COMMAND","selection","registerPasteCommand","onDidChangeTextDocument","firstPosition","contentChanges","cc","isBefore","isAfterOrEqual","newLength","newEndPos","handlePasteChange","firstChangeStartPosition","handleTextChange","registerCodeActionsProvider","handleCodeAction","ASSISTANT_MODE_A_CAPABILITY_KEY","ASSISTANT_MODE_B_CAPABILITY_KEY","ASSISTANT_API_VERSION","THRESHOLD_STATE_KEY","ASSISTANT_SET_THRESHOLD_COMMAND","backgroundThreshold","workspaceState","prevThreshold","canPickMany","placeHolder","showQuickPick","registerSetThresholdCommand","editDistance","ASSISTANT_BINARY_VERSION","validationProcess","getNanoSecTime","additionalArgs","inheritStdio","getFullPathToAssistantBinary","fsp","assistantHost","assistantBinaryBaseName","statusBarItem","createStatusBarItem","StatusBarAlignment","Right","getArchitecture","getTargetAndFileNameByPlatform","assistantBinariesPath","getAssistantRootPath","versionToRun","currentVersion","getState","api_key","cloud_enabled","tabNineVersionFromWeb","requestVersion","getTabNineAssistantVersionFromWeb","asyncExists","withProgress","ProgressLocation","Notification","cancellable","progress","binaryDirPath","totalBinaryLength","requestDownload","binaryFile","receivedBinaryLength","binaryPercentage","newBinaryPercentage","report","increment","isCancellationRequested","onCancellationRequested","tooltip","seconds","remainingNanoSecs","timer","LOGIN_HAPPENED_EVENT","AUTH_INITIAL_STATE","toSession","accessToken","setAuthenticationReadyOnce","calculateAuthState","binartState","is_logged_in","access_token","user_name","BRAND_NAME","onDidLogin","sessionsChangeEventEmitter","authState","deriveNonNullState","initializedDisposable","Disposable","onDerivedAuthStateChanged","authentication","onDidChangeSessions","checkForUpdates","getSessions","userData","callForLogin","waitForLogin","callForLogout","sleep","onChange","getSession","clearSessionPreference","authenticated","setAuthenticationState","notifyVscodeOfAuthStateChanges","fire","userName","scopes","account","notifyOnError","openExternalLogin","Logout","customToken","LoginWithCustomToken","custom_token","LoginWithCustomTokenUrl","SIGN_IN","GET_AUTH_TOKEN","signInUsingCustomTokenUrl","showErrorMessage","modal","openExternal","Uri","showInputBox","prompt","ignoreFocusOut","signInUsingCustomToken","reinstallAutocomplete","inlineEnabled","snippetsEnabled","autocompleteEnabled","uninstallAutocomplete","completionsState","isInlineSuggestionReleasedApiSupported","SNIPPET_SUGGESTIONS_CONFIGURABLE","VSCODE_INLINE_V2","isInlineSuggestionProposedApiSupported","isDefaultAPIEnabled","registerInlineProvider","registerCompletionItemProvider","provideCompletionItems","COMPLETION_TRIGGERS","installOptions","InstallOptions","onDidRefreshCapabilities","newInstallOptions","static","SuggestionsMode","INLINE","SNIPPET_SUGGESTIONS","AUTOCOMPLETE","innerBinary","consecutiveRestarts","requestFailures","isRestarting","onRestartEventEmitter","processRunArgs","ready","removeAllListeners","onRestart","startChild","isBinaryDead","REQUEST_FAILURES_THRESHOLD","killed","readLine","CONSECUTIVE_RESTART_THRESHOLD","restartBackoff","BINARY_RESTART_EVENT","waitForRejection","onceReader","requestWithTimeout","onLineRead","API_VERSION","callbackQueue","oldestCallback","activePath","getActivePath","activeVersion","isBadVersion","activeVersionPath","versionPath","BAD_VERSIONS_RANGE","parsedVersion","runProcess","removeBundle","bundlePath","bundleDownloadUrl","bundleDirectory","executablePath","downloadFileToStr","getUpdateVersionFileUrl","assertValidVersion","getCurrentVersion","getBundlePath","getDownloadVersionUrl","getBundlePaths","createBundleDirectory","downloadFileToDestination","bundle","extractBundle","setDirectoryFilesAsExecutable","BUNDLE_DOWNLOAD_SUCCESS","validVersions","getRootPath","asyncFind","BINARY_LOCATION","installationState","InstallationState","ExistingInstallation","existingVersion","NewInstallation","downloadVersion","reportErrorEvent","BUNDLE_DOWNLOAD_FAILURE","reportException","BUNDLE_DOWNLOAD_FAILURE_MESSAGE","_resolve","RELOAD_BUTTON","OPEN_NETWORK_SETUP_HELP","handleErrorMessage","tryDownloadVersion","BinaryState","intervalDisposable","BINARY_STATE_POLLING_INTERVAL_MILLISECONDS","asyncSet","getStateOrNull","BINARY_STATE","mock","onMockReady","isProcessReady","lastPid","when","thenReturn","anyFunction","thenCall","_event","lineCallback","anyString","matchingItem","isQualified","mockBinaryRequest","capabilitiesRequest","Features","enabled_features","FIRST_SUGGESTION_DECORATION","INLINE_SUGGESTIONS","BINARY_ROOT_PATH","BINARY_UPDATE_URL","ARCHITECTURE","getArch","SUFFIX","getSuffix","BUNDLE_SUFFIX","extensionContext","extensionMode","ExtensionMode","Test","extensionPath","globalStorageUri","binaryPath","paresedPath","PROGRESS_BAR_POLLING_INTERVAL","toMB","withPolling","stop","local_enabled","is_cpu_supported","download_state","DownloadStatus","FINISHED","NOT_STARTED","last_failure","isNotInDownloadingState","IN_PROGRESS","DownloadProgress","DOWNLOADING","MESSAGE","message_type","PROGRESS","setLoadingStatus","progressInterval","setDefaultStatus","crnt_bytes","total_bytes","downloadPercentage","handleDownloadingInProgress","FileMetadata","Hover","selected","notification_type","HoverAction","Notifications","NotificationAction","MessageActionsEnum","OPEN_NOTIFICATIONS","OPEN_NOTIFICATIONS_IN_HUB","OpenHubWith","workspaceFolders","NotifyWorkspaceChanged","workspace_folders","prefetchReuqest","Prefetch","UserIntent","CompletionKind","resetBinaryForTesting","Autocomplete","Deactivate","Uninstalling","ExperimentSource","ChatCommunicationKind","ChatCommunicatorAddress","SetState","StartLoginServer","StatusBar","StatusBarAction","tabSize","Workspace","runArgs","metadata","splitArgs","versionOfPath","getTabnineExtensionContext","tlsConfig","TLS_CONFIG_MIN_SUPPORTED_VERSION","ignoreCertificateErrors","proxySettings","useProxySupport","getProxySettings","logEngine","logFilePath","logLevel","vscodeVersion","isTabNineAutoImportEnabled","isTypeScriptAutoImports","isJavaScriptAutoImports","isVscodeTelemetryEnabled","isRemote","remoteName","extensionKind","themeName","themeKind","machineId","isNewAppInstall","appName","isExtensionBetaChannelEnabled","statusBarColorCustomizations","isVscodeInlineAPIEnabled","codeLensEnabled","foundIntellicode","IS_EVAL_MODE","https_proxy","HTTPS_PROXY","http_proxy","HTTP_PROXY","START_BINARY","OSArchTarget","Mode","EmuMode","CapabilityState","capability","isCapabilitiesReady","enabledCapabilities","isReady","resolveCapabilities","refreshCapabilities","lastRefresh","refreshInterval","startRefreshLoop","capabilities","focused","disposable","onDidChangeWindowState","capabilitiesRefreshed","getCapabilities","theseCapabilties","experiment_source","API","APIErrorResponse","VSCODE_PROXY_URI","vscodeProxyUri","isCodeServer","joinPath","asExternalUri","TABNINE_CONFIG_DIR","homedir","TABNINE_TOKEN_FILE_NAME","TABNINE_TOKEN_FILE_PATH","TABNINE_CONFIG_FILE_NAME","TABNINE_CONFIG_FILE_PATH","TABNINE_TOKEN_CONTEXT_KEY","TABNINE_CONFIG_CONTEXT_KEY","GITPOD_REPO_ROOT","CODESPACES","startLoginServer","remapedUrl","asExternal","ensureExists","consts","setKeysForSync","tabnineToken","tabnineConfig","loadStateFromCloudEnv","watch","persistStateToCloudEnv","threads","thread","documentOf","textDocuments","doc","suggestion","MarkdownString","appendCodeblock","CommentMode","Preview","iconPath","fireEvent","failureReason","oldText","applyEdit","hide","additionalProperties","lineIndex","lineCount","codeReviewBaseUrl","activeThreads","isHeadGitEditor","comments","createCommentController","CODE_REVIEW","diffEditor","visibleEditors","visibleTextEditors","oldEditor","newEditor","getActiveDiffEditor","newThreads","oldDocument","cachedSupportedExtensions","api","supportedExtensions","extensions","extname","currentPosition","Left","show","querySuggestions","focus","classification","lineAt","createCommentThread","old_value","canReply","collapsibleState","CommentThreadCollapsibleState","Expanded","STATUS_BAR_COMMAND","SIGN_IN_AUTH_TOKEN_COMMAND","CONFIG_COMMAND","PALLETTE","openHubExternal","showStatusBarNotificationOptions","STATUS","SHOW_AGRESSIVE_STATUS_BAR_UNTIL_CLICKED","STATUS_BAR_FIRST_TIME_CLICKED","openHubHandler","handleStatusBar","timed","debounceTime","debounceMilliseconds","getConfiguration","experimentDebounceMs","ALPHA_CAPABILITY","DEBOUNCE_VALUE_300","DEBOUNCE_VALUE_600","DEBOUNCE_VALUE_900","DEBOUNCE_VALUE_1200","DEBOUNCE_VALUE_1500","getDebounceMs","calculateDebounceMs","canceledPromise","race","debounceOrCancelOnRequest","InstallationStateEmitter","internalState","Undefined","hadNewInstallState","newInstall","importStatements","getImportName","codeActionCommands","importCommands","importNames","suggestionTrigger","currentCompletion","new_prefix","completions","limited","is_locked","snippetContext","completion_metadata","snippet_context","oldPrefix","old_prefix","COMPLETION_IMPORTS","translate","isMultiline","old_suffix","calculateRange","SuggestionTrigger","DocumentChanged","completion_kind","is_cached","InlineCompletionList","OPEN_SETTINGS_COMMAND","TABNINE_URL_QUERY_PARAM","TABNINE_RETURN_URL_QUERY_PARAM","ATTRIBUTION_BRAND","ENTERPRISE_BRAND_NAME","LIMITATION_SYMBOL","FULL_BRAND_REPRESENTATION","STATUS_NAME","INSTRUMENTATION_KEY","TEST_GENERATION_HEADER","CHAR_LIMIT","MAX_NUM_RESULTS","DELAY_FOR_CODE_ACTION_PROVIDER","BINARY_STARTUP_GRACE","BINARY_NOTIFICATION_POLLING_INTERVAL","BINARY_STATUS_BAR_FIRST_MESSAGE_POLLING_INTERVAL","STATUS_BAR_NOTIFICATION_PERIOD","OPEN_LP_FROM_STATUS_BAR","INSTALL_COMMAND","MINIMAL_SUPPORTED_VSCODE_API","ALPHA_VERSION_KEY","BETA_CHANNEL_MESSAGE_SHOWN_KEY","CONGRATS_MESSAGE_SHOWN_KEY","DEFAULT_DETAIL","NOTIFICATIONS_OPEN_QUERY_PARAM","IS_OSX","SLEEP_TIME_BEFORE_OPEN_HUB","INLINE_REQUEST_TIMEOUT","TAB_OVERRIDE_COMMAND","TABNINE_TREE_NAVIGATION_COMMAND","TABNINE_OPEN_APP_COMMAND","TABNINE_OPEN_GETTING_STARTED_COMMAND","TABNINE_NOTIFICATIONS_FOCUS_COMMAND","GET_CHAT_STATE_COMMAND","TABNINE_APP_URL","TABNINE_GETTING_STARTED_FOR_VSCODE_URL","LOCAL_ADDRESSES","EXTENSION_ID","USE_PROXY_CONFIGURATION","IGNORE_CERTIFICATE_ERRORS_CONFIGURATION","CA_CERTS_CONFIGURATION","abap","bat","bibtex","clojure","coffeescript","cpp","csharp","css","dart","dockerfile","fsharp","groovy","haml","handlebars","hlsl","html","ini","jade","javascript","javascriptreact","json","julia","latex","less","lua","makefile","markdown","perl6","plaintext","pug","razor","ruby","rust","sass","scss","shaderlab","shellscript","slim","stylus","swift","tex","typescript","typescriptreact","vb","vue","xml","xsl","yaml","ARGV_FILE_NAME","PRODUCT_FILE_PATH","appRoot","ENABLE_PROPOSED_API","dataFolderName","getDataFolderName","argvResource","vscodePortable","VSCODE_PORTABLE","getArgvResource","argvString","modifiedArgvString","modifyArgvFileContent","messageId","messageText","buttonText","handleProposed","tabnineExtensionContext","getWorkbenchSettings","tabnineExtensionProperties","configuration","autoImportConfig","TABNINE_BINARY_LOG_FILE_PATH","TABNINE_BINARY_LOG_LEVEL","isInstalled","isVscodeInsiders","toLocaleLowerCase","extension","caCerts","ColorThemeKind","activeColorTheme","colorCustomizations","INLINE_API_KEY","getContext","packageJSON","isAlreadyOpenedGettingStarted","openGettingStartedWebview","onUninstall","extensionsPath","uninstalledPath","isFileExists","isModified","mtimeMs","atimeMs","isUpdating","watchFileHandler","uninstalled","unwatchFile","watchFile","margin","decoration","decorationsDebounce","currentHover","getMarkdownMessage","hover","fileUri","getLogoPath","actionKey","logoAction","isTrusted","renderOptions","contentText","Position","character","hoverMessage","renderDecoration","HINT_SHOWN","contains","clearDecoration","hoverActionsDisposable","sendHoverAction","_document","getCurrentHover","isDecorationContains","HOVER_SHOWN","handleHoverShown","getHover","createLayoutTemplate","panel","waitForServerReadyDelay","setHubWebViewUrl","webview","createWebviewPanel","viewColumn","ViewColumn","Active","preserveFocus","retainContextWhenHidden","enableFindWidget","enableCommandUris","enableScripts","onDidChangeViewState","webviewPanel","visible","hub_title","onDidDispose","createLoadingHubTemplate","postMessage","quiet","reveal","newUri","AUTO_CLOSED_BRACKETS_CHANGE","contentChange","isValidNonEmptyChange","isSingleCharNonWhitespaceChange","isNotIndentationChange","isEndsWithWhitespace","isEndsWithTab","isNewLine","isPythonNewLineChange","isIndentOutChange","isSingleLine","isEmptyOrWhitespace","shouldComplete","onTextSelectionChange","relevantChange","onDidChangeTextEditorSelection","inlineCompletionsProvider","provideInlineCompletionItems","registerInlineCompletionItemProvider","initTracker","initTabOverride","TabnineInlineCompletionItem","InlineCompletionItem","suggestionEntry","completionKind","isCached","getJavaHomePath","javaExension","getExtension","javaRequirement","java_home","currentLookAheadSuggestion","textFromLookAheadStart","insertText","with","enableTabOverrideContext","insertSnippet","SnippetString","escapeTabStopSign","executeSelectionCommand","textAtRange","currentSuggestionText","currentSelectedText","getCompletionInfoWithoutOverlappingDot","findMostRelevantSuggestion","LookAhead","selectedActions","OPEN_HUB","NOTIFICATION","openHubWithActions","query_params","buildQueryParamsString","buildFullHubPath","pollingInterval","doPollNotifications","notifications","getNotifications","notification","assertFirstTimeReceived","NOTIFICATION_SHOWN","selectedAction","sendNotificationAction","handleNotification","NOTIFICATIONS_WIDGET","getHubBaseUrlSource","NOTIFICATIONS_WIDGET_WEBVIEW","hubPath","viewId","readyCommand","onWebviewLoaded","marginRight","doPollStatus","REMOTE_ALPHA_URL","REMOTE_ALPHA_VERSION","REMOTE_ALPHA_VSIX","didShowMessage","isPreReleaseChannelSupported","showNotificationForBetaChannelIfNeeded","availableVersion","getRemoteVersion","isNewerAlphaVersionAvailable","updatePersistedAlphaVersion","action_type","message_name","message_text","action_name","getPersistedAlphaVersion","installedVersion","artifactUrl","extractDetailMessage","user_message","completionIsAllowed","disableLineRegex","getMisnamedConfigPropertyValue","properPropName","propMisname","CompletionList","setCompletionStatus","documentation","leftPoint","showFew","CompletionItem","sortText","filterText","preselect","new_suffix","appendTabstop","appendText","formatDocumentation","makeCompletionItem","detailMessage","completionsListFor","END_OF_LINE_VALID_REGEX","getShouldComplete","lineSuffix","isValidMidlinePosition","lookAheadSuggestion","getCurrentLookAheadSuggestion","clearCurrentLookAheadSuggestion","completionInfo","selectedCompletionInfo","getLookAheadSuggestion","proxyOptions","ca","rejectUnauthorized","isForceEnabled","Publisher","FORCE_REGISTRATION","service_level","forceFlowFSM","popupTristate","PopupTristate","shouldDisplay","popupState","needWait","changedStateEmitter","displayed","notifyState","awaitLoginNotification","showWarningMessage","awaiting","presentWhenFocused","windowState","currentState","isLoggedIn","didDisplay","lastShownSuggestion","SuggestionShown","net_length","EventName","reporter","sendTelemetryEvent","fullData","sendTelemetryErrorEvent","sendTelemetryException","specsCache","getSpecsCache","cpuData","osData","memoryData","speed_ghz","memory_gb","getSpecs","specs","cpu_manufacturer","cpu_brand","innerReporter","setDefaultReporter","getMaxResults","SUGGESTIONS_SINGLE","SUGGESTIONS_TWO","getLanguageFileExtension","getFileNameWithExtension","isUntitled","beforeStartOffset","afterEndOffset","beforeStart","afterEnd","docBefore","docAfter","cellsBefore","cellsAfter","notebookEditor","activeNotebookEditor","cells","notebook","getCells","cell","charsBefore","charsAfter","calculateContext","region_includes_beginning","region_includes_end","max_num_results","indentation_size","sdk_path","getSDKPath","isEmptyLine","autocomplete","lastResult","intervalId","cached_only","handleRetries","LSP","extractLanguage","fileNameElements","HANDLE_IMPORTS","SELECTION_COMPLETED","_edit","newPrefix","numOfVanillaSuggestions","numOfDeepLocalSuggestions","numOfDeepCloudSuggestions","numOfLspSuggestions","numOfVanillaKeywordSuggestions","currInCompletions","VANILLA","LOCAL","CLOUD2","ANBU","VANILLA_KEYWORD","netLength","prefixLength","trimLeft","netPrefixLength","suffixLength","numOfSuggestions","numOfLines","Selection","line_prefix_length","line_net_prefix_length","line_suffix_length","num_of_vanilla_suggestions","num_of_deep_local_suggestions","num_of_deep_cloud_suggestions","num_of_lsp_suggestions","num_of_vanilla_keyword_suggestions","num_of_lines","suggestion_trigger","handleState","completionSelection","importCommand","doAutoImport","EventEmitterBasedNonNullState","initialValue","eventEmitter","asyncValueResolveLock","changed","resolveValue","subscription","CompletionState","enableTimeout","snoozeDuration","mapping","initailValue","useStateDisposabled","inputState","derviedState","deriveState","ALREADY_OPENED_GETTING_STARTED_KEY","_statusBarItem","_context","_limited","updateStatusBar","serviceLevel","_serviceLevel","_isLoggedIn","isPreview","_isPreview","icon","_icon","_text","issueText","getDisplayServiceLevel","getIconText","shouldStatusBarBeProminent","backgroundColor","ThemeColor","statusPollingInterval","getStatus","disposeStatus","disposeStatusBarCommand","resetDefaultStatus","statePollerDisposable","setServiceLevel","onStartServiceLevel","statusBarData","promotion","issue","clearPromotion","statusBar","previewState","PREVIEW_CAPABILITIY","statusBarCommandDisposable","executeStatusAction","sendStatusBarAction","promotionTextIs","STATUS_SHOWN","setPromotionStatus","duration_seconds","asyncRemoveStatusAfterDuration","RESUME_TABNINE","trackSnoozeToggled","showCompletions","show_completions","settingsButton","onSettingsClicked","snoozeTabnine","currentAction","CHAT_CONVERSATIONS_KEY","CHAT_SETTINGS_KEY","chatEventRegistry","EventRegistry","conversations","registerEvent","ide","isDarkTheme","HighContrast","Dark","isWeb","uiKind","UIKind","Web","pluginCapabilities","addNewLine","activeTerminal","sendText","avatarUrl","user_avatar_url","capabilitiesResponse","enabledFeatures","eventName","getBasicContext","getEnrichingContext","getSelectedCode","browseFile","browseFolder","createNewFile","insertTextAtCursor","insertAtLine","getFileContent","resolveWorkspaceSymbols","peekDefinition","navigateToLocation","conversation","chatState","messages","chatSettings","serverUri","getChatCommunicatorAddress","serverUrl","trimSlashFromEnd","externalServerUrl","getSymbolsText","doFetch","doStreamingFetch","abortStreamingFetch","requestPayload","handleEvent","ChatStates","loading","chatNotEnabledReason","disabled","chatApi","chatWebview","chatWebviewView","onDidChangeVisibility","onVisible","onDidReceiveMessage","isVisible","userInput","focusChatInput","waitForChatInitiated","clearAllConversations","submitFeedback","resolveWebviewView","webviewView","localWebviewView","setWebviewHtml","reactAppPath","TABNINE_CHAT_DIR","EvalSaasChatEnabledState","useDerviedState","updateState","handler","SaasChatEnabledState","TABNINE_CHAT","CODE_LENS_ACTIONS","VALID_SYMBOLS","SymbolKind","Method","toAskLens","CodeLens","toIntentLens","intent","hasFix","filterRelevantActions","visitedFiles","didChangeCodeLenses","onDidChangeCodeLenses","documnetSymbols","getDiagnostics","getDiagnosticsAsync","lenses","Class","classSymbol","children","labelsCount","languagesFilter","chatProvider","registerCodeLensProvider","ChatCodeLensProvider","newSelection","handleMessageSubmitted","question","_range","codeActionContext","fixAction","newPosition","selectedFileUri","openTextDocument","selectedFolderUri","showOpenDialog","canSelectMany","openLabel","canSelectFiles","canSelectFolders","getPredominantWorkspaceLanguage","maxFiles","breakdown","topFileTypes","fileTypeToLanguageID","findFiles","sortedExtensions","predominantFileType","folder","firstFileInWorkspace","readDirectory","FileType","File","getFileMetadata","noEditorResponse","getDiagnosticsWithPredicate","selectedRange","relatedInfo","relatedInformation","lineCode","buildDiagnosticsContext","diagnosticsContext","fileCode","activeNotebookCells","getFileCode","editorContext","currentLineIndex","selectedCode","startLine","endLine","contextTypes","enrichingContextData","contextTypesSet","rejectOnTimeout","contextType","workspaceCommands","contextData","symbols","initWithTimeout","textResponse","activeStreams","streamingId","abortController","streamingMessagesCounter","handlePostMessage","serializableResponse","getSymbolTextCommandExecutor","dummyFileUri","maxNumOfResults","getSymbolsCommandExecutor","editBuilder","diffHunks","comparableCode","startOffset","startPosition","endPosition","replaceRange","newCode","oldCode","applyConflictMarker","buildCodeDiff","revealRange","TextEditorRevealType","Default","showTextDocument","endLineLength","navigationRange","workspacePath","normalizedWorkspacePath","workspaceSymbol","normalizedSymbolPath","relativePath","symbolPath","VIEW_ID","chatEnabledState","setTabnineChatWebview","hasRegisteredChatWebview","registerWebviewViewProvider","webviewOptions","evalCommands","registerChatQuickFix","registerWebview","setChatReady","registerChatView","webviewName","logoSrc","getIcon","LOGO_BY_THEME","Light","onDiskPath","extensionUri","asWebviewUri","PREVIEW_ENDED_MESSAGE","commandsExecutors","findSymbols","camelCaseArg","toCamelCase","snakeCaseArg","toSnakeCase","camelCaseSymbols","snakeCaseSymbols","allSymbols","acc","toChatSymbolKind","absolutePath","startCharacter","endCharacter","workspaceCommand","symbolKindIsAllowed","documentSymbols","toWorkspaceSymbol","numOfWorkspaceSymbols","workspaceSymbols","filesSymbols","fileUris","EXCLUDE_PATTERNS","asRelativePath","Location","containerName","getFilesAsSymbols","snippet","TABNINE_TODAY_WIDGET","TABNINE_TODAY_WIDGET_WEBVIEW","serviceUrl","tabnineUrl","searchParams","returnUrl","parsedUri","getHttpAgent","readCaCerts","proxyAgent","httpModule","getHttpModule","downloadResource","parsedUrl","getPortNumber","caCertsFileName","downloadedData","destinationPath","createdFile","access","cleanupCallback","LogLevel","outputChannel","createOutputChannel","showLogsDisposable","toTimeString","appendLine","PROCESS","INFO","WARN","ERROR","innerValue","cmpSemver","aValid","bValid","letter","_match","group1","hrtimeToMs","shouldImmediatelyInvoke","onTimeout","clearPolling","pollingTimeout","targetUrl","targetHost","wf","Beside","createIFrameTemplate","setAlreadyOpenedGettingStarted","widgetWebviewParams","MethodAction","callIndex","globalCallIndex","isApplicable","matchers","methodNameMatch","argumentsCountMatch","getCallIndex","hasBeenCalledBefore","MethodStubCollection","getLastMatchingGroupIndex","matchingGroup","getGroupIndex","getFirstMatchingFromGroupAndRemoveIfNotLast","groupIndex","getFirstMatchingFromGroup","removeIfNotLast","hasMatchingInAnyGroup","getFirstMatchingIndexFromGroup","getItemsCountInGroup","CallFunctionMethodStub_1","RejectPromiseMethodStub_1","ResolvePromiseMethodStub_1","ReturnValueMethodStub_1","ThrowErrorMethodStub_1","MethodStubSetter","methodToStub","globalGroupIndex","convertToPropertyIfIsNotAFunction","methodStubCollection","ReturnValueMethodStub","thenThrow","ThrowErrorMethodStub","CallFunctionMethodStub","thenResolve","ResolvePromiseMethodStub","thenReject","RejectPromiseMethodStub","thenDoNothing","mocker","createPropertyStub","createInstancePropertyDescriptorListener","createInstanceActionListener","MethodCallToStringConverter_1","MethodStubVerificator","methodToVerify","methodCallToStringConverter","MethodCallToStringConverter","atLeast","never","twice","thrice","allMatchingActions","getAllMatchingActions","methodToVerifyAsString","atMost","calledBefore","firstMethodAction","getFirstMatchingAction","secondMethodAction","mainMethodToVerifyAsString","secondMethodAsString","errorBeginning","calledAfter","MethodToStub","Matcher_1","MethodAction_1","MethodStubCollection_1","MethodToStub_1","ts_mockito_1","MockableFunctionsFinder_1","ObjectInspector_1","ObjectPropertyCodeRetriever_1","Mocker","clazz","objectInspector","ObjectInspector","methodStubCollections","methodActions","mockableFunctionsFinder","MockableFunctionsFinder","objectPropertyCodeRetriever","ObjectPropertyCodeRetriever","excludedPropertyNames","__tsmockitoInstance","__tsmockitoMocker","processProperties","processClassCode","processFunctionsCode","Proxy","createCatchAllHandlerForRemainingPropertiesWithoutGetters","createActionListener","getMock","createMethodStub","resetCalls","getActionsByName","getObjectPrototypes","getObjectOwnPropertyNames","descriptor","methodStub","getMethodStub","execute","getEmptyMethodStub","classCode","functionName","propertyName","createMethodToStub","args_1","Matcher","strictEqual","Mock_1","RealMethod_1","CallThroughMethodStub_1","Spy","realMethods","realMethod","CallThroughMethodStub","RealMethod","ArgCaptor","byCallIndex","second","third","beforeLast","ArgsToMatchersValidator","validate","AnyFunctionMatcher","AnyNumberMatcher","AnyOfClassMatcher","expectedClass","AnyStringMatcher","AnythingMatcher","BetweenMatcher","DeepEqualMatcher","expectedValue","expected","actual","MatchingStringMatcher","NotNullMatcher","ObjectContainingMatcher","StrictEqualMatcher","AbstractMethodStub","ArgsToMatchersValidator_1","functionResult","returns","ArgCaptor_1","AnyFunctionMatcher_1","AnyNumberMatcher_1","AnyOfClassMatcher_1","AnyStringMatcher_1","AnythingMatcher_1","BetweenMatcher_1","DeepEqualMatcher_1","MatchingStringMatcher_1","NotNullMatcher_1","ObjectContainingMatcher_1","StrictEqualMatcher_1","MethodStubSetter_1","MethodStubVerificator_1","Spy_1","spy","instanceToSpy","verify","mockedValue","capture","mockedValues","anyOfClass","anyNumber","anything","between","deepEqual","notNull","objectContaining","stringifiedMatchers","functionNameRegex","cleanFunctionNameRegex","excludedFunctionNames","isMockable","prototypes","accessorsCodes","appInsights","TelemetryReporter","extensionId","extensionVersion","firstParty","userOptIn","logStream","updateUserOptIn","onDidChangeTelemetryEnabled","optOutListener","onDidChangeConfiguration","TELEMETRY_CONFIG_ID","newOptInValue","isTelemetryEnabled","TELEMETRY_CONFIG_ENABLED_ID","createAppInsightsClient","appInsightsClient","getCommonProperties","Desktop","cleanRemoteName","shouldSendErrorTelemetry","ExtensionKind","_extension","cloneAndChange","anonymizeFilePaths","cleanupPatterns","updatedStack","cleanUpIndexes","cleanupPatterns_1","nodeModulesRegex","fileRegex","cleanupPatterns_2","cleanProperties","errorProps","flushEventsToLogger","flushEventsToAI","conversions","createNumberConversion","bitLength","typeOpts","lowerBound","upperBound","moduloVal","moduloBitLength","moduloBound","V","enforceRange","evenRound","treatNullAsEmptyString","S","U","usm","implementation","constructorArgs","parsedBase","basicURLParse","parsedURL","_url","serializeURL","serializeURLOrigin","stateOverride","cannotHaveAUsernamePasswordPort","setTheUsername","setThePassword","serializeHost","serializeInteger","cannotBeABaseURL","fragment","Impl","impl","implSymbol","is","privateData","wrapperSymbol","interface","expose","Window","Worker","tr46","specialSchemes","ftp","gopher","wss","failure","ucs2","isASCIIDigit","isASCIIAlpha","isASCIIHex","isSingleDot","isWindowsDriveLetterString","isSpecialScheme","isSpecial","percentEncode","isC0ControlPercentEncode","extraPathPercentEncodeSet","isPathPercentEncode","extraUserinfoPercentEncodeSet","isUserinfoPercentEncode","percentEncodeChar","encodeSetPredicate","cStr","utf8PercentEncode","parseIPv4Number","parseHost","isSpecialArg","pieceIndex","compress","pointer","numbersSeen","ipv4Piece","swaps","parseIPv6","decoded","parseOpaqueHost","utf8PercentDecode","asciiDomain","ipv4Host","numbers","ipv4","parseIPv4","serializeIPv4","maxIdx","maxLen","currStart","currLen","findLongestZeroSequence","ignore0","serializeIPv6","shortenPath","includesCredentials","URLStateMachine","encodingOverride","parseError","trimControlChars","trimTabAndNewline","atFlag","arrFlag","passwordTokenSeenFlag","isASCIIAlphanumeric","encodedCodePoints","fileOtherwiseCodePoints","cp1","cp2","excludeFragment","parseURL","tuple","serializeOrigin","integer","wrapperForImpl","implForWrapper","inserted","Node","pushNode","forEachReverse","getReverse","mapReverse","reduceReverse","toArrayReverse","sliceReverse","deleteCount","nodes","fd_slicer","Transform","fromFd","decodeStrings","validateEntrySizes","strictFileNames","defaultCallback","fstat","fromRandomAccessReader","bufferSize","eocdrWithoutCommentSize","newBuffer","bufferReadStart","readAndAssertNoEof","readUInt32LE","eocdrBuffer","diskNumber","readUInt16LE","entryCount","centralDirectoryOffset","commentLength","expectedCommentLength","decodeBuffer","ZipFile","zip64EocdlBuffer","zip64EocdlOffset","zip64EocdrOffset","readUInt64LE","zip64EocdrBuffer","fileSize","emitError","readEntryCursor","entriesRead","isOpen","emittedError","_readEntry","emitErrorAndAutoClose","dosDateTimeToDate","validateFileName","AssertByteCountStream","byteCount","actualByteCount","expectedByteCount","RandomAccessReader","RefUnrefFilter","unreffedYet","fromBuffer","signature","versionNeededToExtract","generalPurposeBitFlag","compressionMethod","lastModFileTime","lastModFileDate","compressedSize","uncompressedSize","fileNameLength","extraFieldLength","fileCommentLength","internalFileAttributes","relativeOffsetOfLocalHeader","isUtf8","fileCommentStart","extraFieldBuffer","extraFields","headerId","dataSize","dataStart","dataEnd","dataBuffer","fileComment","zip64EiefBuffer","extraField","readUInt8","oldNameCrc32","expectedCompressedSize","isEncrypted","validateFileNameOptions","relativeStart","relativeEnd","decrypt","isCompressed","localFileHeaderEnd","fileDataStart","fileDataEnd","endpointStream","inflateFilter","createInflateRaw","unpipe","getLastModDate","_flush","emptyStream","_readStreamForRange","refUnrefFilter","byteCounter","lower32","BUFFER","TYPE","Blob","blobParts","ab","slicedBuffer","blob","FetchError","systemError","INTERNALS","Body","_ref","_ref$size","_ref$timeout","disturbed","consumeBody","_this4","accum","accumBytes","resTimeout","append","getAll","bodyUsed","getBoundary","extractContentType","getTotalBytes","getLengthSync","_lengthRetrievers","hasKnownLength","ct","_this2","textConverted","_this3","charset","convertBody","mixIn","invalidTokenRegex","invalidHeaderCharRegex","validateName","validateValue","MAP","headerNames","headerName","getHeaders","_pairs$i","createHeadersIterator","INTERNAL","HeadersIteratorPrototype","_INTERNAL","exportNodeCompatibleHeaders","hostHeaderKey","INTERNALS$1","STATUS_CODES","redirected","INTERNALS$2","parse_url","format_url","urlStr","streamDestructionSupported","inputBody","isAbortSignal","redirect","AbortError","URL$1","PassThrough$1","contentLengthValue","totalBytes","getNodeRequestOptions","destroyStream","abortAndFinalize","finalize","reqTimeout","errorCallback","hadError","fixResponseChunkedTransferBadEnding","hasDataListener","createHeadersLenient","isRedirect","locationURL","requestOpts","destination","isDomainOrSubdomain","response_options","codings","zlibOptions","finishFlush","writeToStream","ArrayProto","ObjProto","SymbolProto","supportsArrayBuffer","supportsDataView","nativeIsArray","nativeIsView","_isNaN","_isFinite","hasEnumBug","nonEnumerableProps","MAX_ARRAY_INDEX","restArguments","tagTester","nodelist","childNodes","Int8Array","hasStringTagBug","isIE11","isDataView","getInt8","createSizePropertyCheck","getSizeProperty","sizeProperty","shallowProperty","typedArrayPattern","collectNonEnumProps","emulatedSet","nonEnumIdx","attrs","_keys","_wrapped","toBufferView","bufferSource","tagDataView","aStack","bStack","deepEq","className","areArrays","aCtor","bCtor","allKeys","ie11fingerprint","methods","weakMapMethods","forEachName","commonInit","mapTail","mapMethods","setMethods","extendOwn","deepGet","optimizeCb","argCount","mapObject","currentKey","createEscaper","escaper","testRegexp","replaceRegexp","noMatch","escapes","escapeChar","bareIdentifier","oldSettings","render","argument","_chain","executeBound","sourceFunc","boundFunc","callingContext","boundArgs","bound","callArgs","hasher","later","throttled","_now","immediate","_args","compose","memo","createPredicateIndexFinder","createIndexFinder","predicateFind","findWhere","createReduce","reducer","contextPath","pluck","where","lastComputed","reStrSymbol","behavior","pass","keyInObj","otherArrays","isSorted","chainResult","__webpack_module_cache__","__webpack_require__","cachedModule","loaded","__webpack_modules__","getter","definition","nmd","handleSelection","selectionHandler","pollUserUpdates","handleImports","notifyBinaryAboutWorkspaceChange","setTabnineExtensionContext","initReporter","EXTENSION_ACTIVATED","EXTENSION_INSTALLED","initStartup","EXTENSION_UNINSTALLED","uninstalling","uponUninstall","WorkspaceUpdater","registerStatusBar","setBinaryRootPath","fetchCapabilitiesOnFocus","onDidChangeWorkspaceFolders","AUTHENTICATION","registerAuthenticationProvider","previewEndedView","emptyStateAuthenticateView","ASSISTANT_CAPABILITY","ChatAPI","CHAT_SERVER_URL","isSelfHosted","registerCommands","registerHoverProvider","provideHover","backgroundInit","forceRegistrationIfNeeded","closeAssistant","cancelNotificationsPolling"],"sourceRoot":""}