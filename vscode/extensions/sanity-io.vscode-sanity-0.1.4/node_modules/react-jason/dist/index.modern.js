import e,{createContext as t,createElement as n,useContext as r,useCallback as a,Fragment as o}from"react";const l=t({});function u(){const{token:e}=r(l),t=a(t=>e('"'===t||"'"===t?"quotation":"punctuation",t),[e]);return{token:e,char:t}}function c(e,t,n="span"){return u().token(e,t,n)}const s=(e,t,n)=>`${t}[${n}]`,i=(e,t,n)=>{return function(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}(r=e)&&"string"==typeof r._key?`${t}[_key=="${e._key}"]`:`${t}[${n}]`;var r},p={fontFamily:'Menlo, Monaco, "Courier New", monospace',fontFeatureSettings:'"liga" 0, "calt" 0',lineHeight:"1.5em",whiteSpace:"pre",margin:0};var m={styles:{root:Object.assign({},p,{backgroundColor:"#1e2024"}),attribute:{color:"#ef415a"},unquotedAttribute:{color:"#d1d3d7"},string:{color:"#57bedf"},nil:{color:"#f2851e"},number:{color:"#f2851e"},boolean:{color:"#f2851e"},punctuation:{color:"#d1d3d7"}}};Object.assign({},p,{backgroundColor:"#f8f8f8"}),Object.assign({},p,{backgroundColor:"#2c2d25"}),Object.assign({},p,{backgroundColor:"#23241e"}),Object.assign({},p,{backgroundColor:"#212121"}),Object.assign({},p,{backgroundColor:"#fff"});const d=["string","number","object","boolean"],f=e=>d.includes(typeof e),h=({value:t,theme:r,nodeWrapper:a,itemKeyGenerator:o,sortKeys:u=!1,quoteAttributes:c=!0})=>{const i=e.useMemo(()=>{return function(t){return function(r,a,o="span"){const l=t.styles?t.styles[r]:void 0,u=t.classes?t.classes[r]:void 0;return Boolean(l||u)?n(o,{style:l,className:u},a):e.createElement(e.Fragment,null,a)}}(r?"__esModule"in(t=r)?t.default:t:m);var t},[r]),p=!0===u?K:u,d=o||s,f=e.useMemo(()=>({token:i,getItemKey:d,quoteAttributes:c,nodeWrapper:a,sortKeys:p}),[i,d,c,a,p]);return e.createElement(l.Provider,{value:f},i("root",b({value:t,path:"",depth:1,nodeWrapper:a}),"pre"))};function b({value:t,path:n,depth:r,nodeWrapper:a}){const o=(t,r)=>a?e.createElement(a,{path:n,type:r},t):t;if(null===t)return o(e.createElement(W,null),"nil");if(Array.isArray(t))return o(e.createElement(E,{value:t,path:n,depth:r}),"array");switch(typeof t){case"string":return o(e.createElement(g,{value:t,path:n,depth:r}),"string");case"number":return o(e.createElement(y,{value:t,path:n,depth:r}),"number");case"boolean":return o(e.createElement(v,{value:t,path:n,depth:r}),"boolean");case"object":return o(e.createElement(k,{value:t,path:n,depth:r}),"object");default:throw new Error("Unhandled type "+typeof t)}}function g({value:t}){const{char:n}=u(),r=A(t).slice(1,-1);return c("string",e.createElement(e.Fragment,null,n('"'),r,n('"')))}function y({value:e}){return c("number",e)}function v({value:e}){return c("boolean",e?"true":"false")}function E({value:t,path:n,depth:a}){const{token:c,char:s}=u(),{getItemKey:i,nodeWrapper:p}=r(l),m=t.length;return c("array",0===m?e.createElement(e.Fragment,null,s("["),s("]")):e.createElement(e.Fragment,null,s("["),"\n"+C(a),t.map((t,r)=>{const l=i(t,n,r),u=r===m-1;return e.createElement(o,{key:l},f(t)?b({value:t,path:l,depth:a+1,nodeWrapper:p}):e.createElement(e.Fragment,null,"<",typeof t,"&rt;"),u?"\n"+C(a-1):e.createElement(e.Fragment,null,s(","),"\n"+C(a)))}),s("]")))}function k({value:t,path:n,depth:a}){const{nodeWrapper:c,sortKeys:s}=r(l),{token:i,char:p}=u(),m=t,d=Object.keys(m),h=s?d.sort((e,t)=>s(e,t,m)):d,b=h.length,g=b-1;return i("object",0===b?e.createElement(e.Fragment,null,p("{"),p("}")):e.createElement(e.Fragment,null,p("{"),"\n",h.map((t,r)=>{const l=m[t],u=n?`${n}.${t}`:t;return f(l)?e.createElement(o,{key:u},e.createElement(j,{attribute:t,value:l,depth:a,path:u,nodeWrapper:c,isLastKey:r===g})):null}),C(a-1),p("}")))}function F({value:t}){const{quoteAttributes:n}=r(l),{token:a,char:o}=u(),c=A(t).slice(1,-1);let s;return s=n||c.includes('"')?a("attribute",e.createElement(e.Fragment,null,o('"'),c,o('"'))):a("unquotedAttribute",c),e.createElement(e.Fragment,null,s,o(":")," ")}function j({attribute:t,value:n,path:r,depth:a,isLastKey:l,nodeWrapper:c}){const{char:s}=u(),i=e.createElement(o,{key:r},C(a),e.createElement(F,{value:t}),b({value:n,path:r,depth:a+1,nodeWrapper:c}),l?"\n":e.createElement(e.Fragment,null,s(","),"\n"));return c?e.createElement(c,{type:"attributePair",path:r},i):i}function W(){return c("nil","null")}function A(e){return JSON.stringify(e)}function C(e){return"  ".repeat(e)}function K(e,t){return e.localeCompare(t)}export{h as ReactJason,s as defaultItemKeyGenerator,i as sanityItemKeyGenerator};
//# sourceMappingURL=index.modern.js.map
